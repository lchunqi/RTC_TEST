ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.system_time_update,"ax",%progbits
  20              		.align	1
  21              		.global	system_time_update
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	system_time_update:
  27              	.LFB235:
  28              		.file 1 "App/Src/task.c"
   1:App/Src/task.c **** #include "main.h"
   2:App/Src/task.c **** #include "task.h"
   3:App/Src/task.c **** #include "manager.h"
   4:App/Src/task.c **** #include "rtc.h"
   5:App/Src/task.c **** #include "temp.h"
   6:App/Src/task.c **** #include "math.h"
   7:App/Src/task.c **** #include "power.h"
   8:App/Src/task.c **** #include "current.h"
   9:App/Src/task.c **** #include "flash.h"
  10:App/Src/task.c **** #include "calculate.h"
  11:App/Src/task.c **** #include "drv_wave1006.h"
  12:App/Src/task.c **** 
  13:App/Src/task.c **** RealTime g_realTime = {0};
  14:App/Src/task.c **** FrequencyData g_lastFreq = {0};
  15:App/Src/task.c **** extern CapAdjust g_capAdjust;
  16:App/Src/task.c **** TestResult g_machineTest = {0};
  17:App/Src/task.c **** uint8_t g_intState = 0;
  18:App/Src/task.c **** uint8_t g_intStart = 0;
  19:App/Src/task.c **** uint8_t g_intEnd = 0;
  20:App/Src/task.c **** void Aecq100Sample(void);
  21:App/Src/task.c **** 
  22:App/Src/task.c **** void command_int_test(uint8_t init);
  23:App/Src/task.c **** 
  24:App/Src/task.c **** 
  25:App/Src/task.c **** void system_time_update(void)
  26:App/Src/task.c **** {
  29              		.loc 1 26 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 2


  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 3, -16
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  27:App/Src/task.c ****     static uint32_t lastTick = 0;
  40              		.loc 1 27 5 view .LVU1
  28:App/Src/task.c **** 
  29:App/Src/task.c ****     g_realTime.tick += HAL_GetTick() - lastTick;
  41              		.loc 1 29 5 view .LVU2
  42              		.loc 1 29 24 is_stmt 0 view .LVU3
  43 0002 FFF7FEFF 		bl	HAL_GetTick
  44              	.LVL0:
  45              		.loc 1 29 38 view .LVU4
  46 0006 264D     		ldr	r5, .L9
  47 0008 2B68     		ldr	r3, [r5]
  48 000a C01A     		subs	r0, r0, r3
  49              		.loc 1 29 21 view .LVU5
  50 000c 254C     		ldr	r4, .L9+4
  51 000e E388     		ldrh	r3, [r4, #6]
  52 0010 1844     		add	r0, r0, r3
  53 0012 E080     		strh	r0, [r4, #6]	@ movhi
  30:App/Src/task.c ****     lastTick = HAL_GetTick();
  54              		.loc 1 30 5 is_stmt 1 view .LVU6
  55              		.loc 1 30 16 is_stmt 0 view .LVU7
  56 0014 FFF7FEFF 		bl	HAL_GetTick
  57              	.LVL1:
  58              		.loc 1 30 14 view .LVU8
  59 0018 2860     		str	r0, [r5]
  31:App/Src/task.c ****     if (g_realTime.tick < 1000) {
  60              		.loc 1 31 5 is_stmt 1 view .LVU9
  61              		.loc 1 31 19 is_stmt 0 view .LVU10
  62 001a E388     		ldrh	r3, [r4, #6]
  63              		.loc 1 31 8 view .LVU11
  64 001c B3F57A7F 		cmp	r3, #1000
  65 0020 3AD3     		bcc	.L1
  32:App/Src/task.c ****         return;
  33:App/Src/task.c ****     }
  34:App/Src/task.c ****     g_realTime.tick -= 1000;
  66              		.loc 1 34 5 is_stmt 1 view .LVU12
  67              		.loc 1 34 21 is_stmt 0 view .LVU13
  68 0022 A3F57A73 		sub	r3, r3, #1000
  69 0026 E380     		strh	r3, [r4, #6]	@ movhi
  35:App/Src/task.c ****     g_realTime.sec++;
  70              		.loc 1 35 5 is_stmt 1 view .LVU14
  71              		.loc 1 35 15 is_stmt 0 view .LVU15
  72 0028 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
  73              		.loc 1 35 19 view .LVU16
  74 002a 0133     		adds	r3, r3, #1
  75 002c DBB2     		uxtb	r3, r3
  76 002e 6371     		strb	r3, [r4, #5]
  36:App/Src/task.c ****     if (g_realTime.sec >= 60) {
  77              		.loc 1 36 5 is_stmt 1 view .LVU17
  78              		.loc 1 36 8 is_stmt 0 view .LVU18
  79 0030 3B2B     		cmp	r3, #59
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 3


  80 0032 31D9     		bls	.L1
  37:App/Src/task.c ****         g_realTime.sec = 0;
  81              		.loc 1 37 9 is_stmt 1 view .LVU19
  82              		.loc 1 37 24 is_stmt 0 view .LVU20
  83 0034 0023     		movs	r3, #0
  84 0036 6371     		strb	r3, [r4, #5]
  38:App/Src/task.c ****         g_realTime.min++;
  85              		.loc 1 38 9 is_stmt 1 view .LVU21
  86              		.loc 1 38 19 is_stmt 0 view .LVU22
  87 0038 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
  88              		.loc 1 38 23 view .LVU23
  89 003a 0133     		adds	r3, r3, #1
  90 003c DBB2     		uxtb	r3, r3
  91 003e 2371     		strb	r3, [r4, #4]
  39:App/Src/task.c ****         if (g_realTime.min >= 60) {
  92              		.loc 1 39 9 is_stmt 1 view .LVU24
  93              		.loc 1 39 12 is_stmt 0 view .LVU25
  94 0040 3B2B     		cmp	r3, #59
  95 0042 29D9     		bls	.L1
  40:App/Src/task.c ****             g_realTime.min = 0;
  96              		.loc 1 40 13 is_stmt 1 view .LVU26
  97              		.loc 1 40 28 is_stmt 0 view .LVU27
  98 0044 0023     		movs	r3, #0
  99 0046 2371     		strb	r3, [r4, #4]
  41:App/Src/task.c ****             g_realTime.hour++;
 100              		.loc 1 41 13 is_stmt 1 view .LVU28
 101              		.loc 1 41 23 is_stmt 0 view .LVU29
 102 0048 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 103              		.loc 1 41 28 view .LVU30
 104 004a 0133     		adds	r3, r3, #1
 105 004c DBB2     		uxtb	r3, r3
 106 004e E370     		strb	r3, [r4, #3]
  42:App/Src/task.c ****             if (g_realTime.hour >= 24) {
 107              		.loc 1 42 13 is_stmt 1 view .LVU31
 108              		.loc 1 42 16 is_stmt 0 view .LVU32
 109 0050 172B     		cmp	r3, #23
 110 0052 21D9     		bls	.L1
  43:App/Src/task.c ****                 g_realTime.hour = 0;
 111              		.loc 1 43 17 is_stmt 1 view .LVU33
 112              		.loc 1 43 33 is_stmt 0 view .LVU34
 113 0054 0022     		movs	r2, #0
 114 0056 E270     		strb	r2, [r4, #3]
  44:App/Src/task.c ****                 g_realTime.day++;
 115              		.loc 1 44 17 is_stmt 1 view .LVU35
 116              		.loc 1 44 27 is_stmt 0 view .LVU36
 117 0058 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 118              		.loc 1 44 31 view .LVU37
 119 005a 0132     		adds	r2, r2, #1
 120 005c D2B2     		uxtb	r2, r2
 121 005e A270     		strb	r2, [r4, #2]
  45:App/Src/task.c ****                 if ((g_realTime.mon == 2 && g_realTime.day >= 29) || 
 122              		.loc 1 45 17 is_stmt 1 view .LVU38
 123              		.loc 1 45 32 is_stmt 0 view .LVU39
 124 0060 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 125              		.loc 1 45 20 view .LVU40
 126 0062 022B     		cmp	r3, #2
 127 0064 19D0     		beq	.L8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 4


 128              	.L3:
 129              		.loc 1 45 67 discriminator 3 view .LVU41
 130 0066 042B     		cmp	r3, #4
 131 0068 05D0     		beq	.L5
  46:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 132              		.loc 1 46 43 view .LVU42
 133 006a 062B     		cmp	r3, #6
 134 006c 03D0     		beq	.L5
 135              		.loc 1 46 66 discriminator 2 view .LVU43
 136 006e 092B     		cmp	r3, #9
 137 0070 01D0     		beq	.L5
 138              		.loc 1 46 89 discriminator 4 view .LVU44
 139 0072 0B2B     		cmp	r3, #11
 140 0074 01D1     		bne	.L6
 141              	.L5:
 142              		.loc 1 46 114 discriminator 5 view .LVU45
 143 0076 1E2A     		cmp	r2, #30
 144 0078 01D8     		bhi	.L4
 145              	.L6:
  47:App/Src/task.c ****                     || g_realTime.day >= 32) {//不考虑闰年了，每小时会有信息校正过来
 146              		.loc 1 47 21 view .LVU46
 147 007a 1F2A     		cmp	r2, #31
 148 007c 0CD9     		bls	.L1
 149              	.L4:
  48:App/Src/task.c ****                     g_realTime.mon++;
 150              		.loc 1 48 21 is_stmt 1 view .LVU47
 151              		.loc 1 48 35 is_stmt 0 view .LVU48
 152 007e 0133     		adds	r3, r3, #1
 153 0080 DBB2     		uxtb	r3, r3
 154 0082 084A     		ldr	r2, .L9+4
 155 0084 5370     		strb	r3, [r2, #1]
  49:App/Src/task.c ****                     g_realTime.day = 1;
 156              		.loc 1 49 21 is_stmt 1 view .LVU49
 157              		.loc 1 49 36 is_stmt 0 view .LVU50
 158 0086 0121     		movs	r1, #1
 159 0088 9170     		strb	r1, [r2, #2]
  50:App/Src/task.c ****                     if (g_realTime.mon >= 13) {
 160              		.loc 1 50 21 is_stmt 1 view .LVU51
 161              		.loc 1 50 24 is_stmt 0 view .LVU52
 162 008a 0C2B     		cmp	r3, #12
 163 008c 04D9     		bls	.L1
  51:App/Src/task.c ****                         g_realTime.mon = 1;
 164              		.loc 1 51 25 is_stmt 1 view .LVU53
 165              		.loc 1 51 40 is_stmt 0 view .LVU54
 166 008e 1346     		mov	r3, r2
 167 0090 5170     		strb	r1, [r2, #1]
  52:App/Src/task.c ****                         g_realTime.year++;
 168              		.loc 1 52 25 is_stmt 1 view .LVU55
 169              		.loc 1 52 35 is_stmt 0 view .LVU56
 170 0092 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 171              		.loc 1 52 40 view .LVU57
 172 0094 0A44     		add	r2, r2, r1
 173 0096 1A70     		strb	r2, [r3]
 174              	.L1:
  53:App/Src/task.c ****                     }
  54:App/Src/task.c ****                 }
  55:App/Src/task.c ****             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 5


  56:App/Src/task.c ****         }
  57:App/Src/task.c ****     }
  58:App/Src/task.c **** }
 175              		.loc 1 58 1 view .LVU58
 176 0098 38BD     		pop	{r3, r4, r5, pc}
 177              	.L8:
  45:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 178              		.loc 1 45 42 discriminator 1 view .LVU59
 179 009a 1C2A     		cmp	r2, #28
 180 009c EFD8     		bhi	.L4
 181 009e E2E7     		b	.L3
 182              	.L10:
 183              		.align	2
 184              	.L9:
 185 00a0 00000000 		.word	.LANCHOR0
 186 00a4 00000000 		.word	.LANCHOR1
 187              		.cfi_endproc
 188              	.LFE235:
 190              		.section	.rodata.system_set_real_time.str1.4,"aMS",%progbits,1
 191              		.align	2
 192              	.LC1:
 193 0000 0A636F6D 		.ascii	"\012command set time, 20%d/%d/%d %d:%d:%d\012\000"
 193      6D616E64 
 193      20736574 
 193      2074696D 
 193      652C2032 
 194              		.section	.text.system_set_real_time,"ax",%progbits
 195              		.align	1
 196              		.global	system_set_real_time
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	system_set_real_time:
 202              	.LFB236:
  59:App/Src/task.c **** 
  60:App/Src/task.c **** void system_set_real_time(RealTime time)
  61:App/Src/task.c **** {
 203              		.loc 1 61 1 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 8
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207 0000 70B5     		push	{r4, r5, r6, lr}
 208              	.LCFI1:
 209              		.cfi_def_cfa_offset 16
 210              		.cfi_offset 4, -16
 211              		.cfi_offset 5, -12
 212              		.cfi_offset 6, -8
 213              		.cfi_offset 14, -4
 214 0002 86B0     		sub	sp, sp, #24
 215              	.LCFI2:
 216              		.cfi_def_cfa_offset 40
 217 0004 06AB     		add	r3, sp, #24
 218 0006 03E90300 		stmdb	r3, {r0, r1}
  62:App/Src/task.c ****     g_realTime.tick = 0;
 219              		.loc 1 62 5 view .LVU61
 220              		.loc 1 62 21 is_stmt 0 view .LVU62
 221 000a 0E48     		ldr	r0, .L13
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 6


 222 000c 0023     		movs	r3, #0
 223 000e C380     		strh	r3, [r0, #6]	@ movhi
  63:App/Src/task.c ****     g_realTime.sec = time.sec;
 224              		.loc 1 63 5 is_stmt 1 view .LVU63
 225              		.loc 1 63 26 is_stmt 0 view .LVU64
 226 0010 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
 227              		.loc 1 63 20 view .LVU65
 228 0014 4671     		strb	r6, [r0, #5]
  64:App/Src/task.c ****     g_realTime.min = time.min;
 229              		.loc 1 64 5 is_stmt 1 view .LVU66
 230              		.loc 1 64 26 is_stmt 0 view .LVU67
 231 0016 9DF81450 		ldrb	r5, [sp, #20]	@ zero_extendqisi2
 232              		.loc 1 64 20 view .LVU68
 233 001a 0571     		strb	r5, [r0, #4]
  65:App/Src/task.c ****     g_realTime.hour = time.hour;
 234              		.loc 1 65 5 is_stmt 1 view .LVU69
 235              		.loc 1 65 27 is_stmt 0 view .LVU70
 236 001c 9DF81340 		ldrb	r4, [sp, #19]	@ zero_extendqisi2
 237              		.loc 1 65 21 view .LVU71
 238 0020 C470     		strb	r4, [r0, #3]
  66:App/Src/task.c ****     g_realTime.day = time.day;
 239              		.loc 1 66 5 is_stmt 1 view .LVU72
 240              		.loc 1 66 26 is_stmt 0 view .LVU73
 241 0022 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 242              		.loc 1 66 20 view .LVU74
 243 0026 8370     		strb	r3, [r0, #2]
  67:App/Src/task.c ****     g_realTime.mon = time.mon;
 244              		.loc 1 67 5 is_stmt 1 view .LVU75
 245              		.loc 1 67 26 is_stmt 0 view .LVU76
 246 0028 9DF81120 		ldrb	r2, [sp, #17]	@ zero_extendqisi2
 247              		.loc 1 67 20 view .LVU77
 248 002c 4270     		strb	r2, [r0, #1]
  68:App/Src/task.c ****     g_realTime.year = time.year;
 249              		.loc 1 68 5 is_stmt 1 view .LVU78
 250              		.loc 1 68 27 is_stmt 0 view .LVU79
 251 002e 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 252              		.loc 1 68 21 view .LVU80
 253 0032 0170     		strb	r1, [r0]
  69:App/Src/task.c **** 	log_printf("\ncommand set time, 20%d/%d/%d %d:%d:%d\n", 
 254              		.loc 1 69 2 is_stmt 1 view .LVU81
 255 0034 0296     		str	r6, [sp, #8]
 256 0036 0195     		str	r5, [sp, #4]
 257 0038 0094     		str	r4, [sp]
 258 003a 0348     		ldr	r0, .L13+4
 259 003c FFF7FEFF 		bl	log_printf
 260              	.LVL2:
  70:App/Src/task.c ****     g_realTime.year, g_realTime.mon, g_realTime.day, g_realTime.hour, g_realTime.min, g_realTime.se
  71:App/Src/task.c **** }
 261              		.loc 1 71 1 is_stmt 0 view .LVU82
 262 0040 06B0     		add	sp, sp, #24
 263              	.LCFI3:
 264              		.cfi_def_cfa_offset 16
 265              		@ sp needed
 266 0042 70BD     		pop	{r4, r5, r6, pc}
 267              	.L14:
 268              		.align	2
 269              	.L13:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 7


 270 0044 00000000 		.word	.LANCHOR1
 271 0048 00000000 		.word	.LC1
 272              		.cfi_endproc
 273              	.LFE236:
 275              		.section	.text.system_get_real_time,"ax",%progbits
 276              		.align	1
 277              		.global	system_get_real_time
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 282              	system_get_real_time:
 283              	.LVL3:
 284              	.LFB237:
  72:App/Src/task.c **** 
  73:App/Src/task.c **** void system_get_real_time(RealTime* time)
  74:App/Src/task.c **** {
 285              		.loc 1 74 1 is_stmt 1 view -0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              		@ link register save eliminated.
  75:App/Src/task.c ****     time->sec = g_realTime.sec;
 290              		.loc 1 75 5 view .LVU84
 291              		.loc 1 75 27 is_stmt 0 view .LVU85
 292 0000 064B     		ldr	r3, .L16
 293 0002 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 294              		.loc 1 75 15 view .LVU86
 295 0004 4271     		strb	r2, [r0, #5]
  76:App/Src/task.c ****     time->min = g_realTime.min;
 296              		.loc 1 76 5 is_stmt 1 view .LVU87
 297              		.loc 1 76 27 is_stmt 0 view .LVU88
 298 0006 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 299              		.loc 1 76 15 view .LVU89
 300 0008 0271     		strb	r2, [r0, #4]
  77:App/Src/task.c ****     time->hour = g_realTime.hour;
 301              		.loc 1 77 5 is_stmt 1 view .LVU90
 302              		.loc 1 77 28 is_stmt 0 view .LVU91
 303 000a DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 304              		.loc 1 77 16 view .LVU92
 305 000c C270     		strb	r2, [r0, #3]
  78:App/Src/task.c ****     time->day = g_realTime.day;
 306              		.loc 1 78 5 is_stmt 1 view .LVU93
 307              		.loc 1 78 27 is_stmt 0 view .LVU94
 308 000e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 309              		.loc 1 78 15 view .LVU95
 310 0010 8270     		strb	r2, [r0, #2]
  79:App/Src/task.c ****     time->mon = g_realTime.mon;
 311              		.loc 1 79 5 is_stmt 1 view .LVU96
 312              		.loc 1 79 27 is_stmt 0 view .LVU97
 313 0012 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 314              		.loc 1 79 15 view .LVU98
 315 0014 4270     		strb	r2, [r0, #1]
  80:App/Src/task.c ****     time->year = g_realTime.year;
 316              		.loc 1 80 5 is_stmt 1 view .LVU99
 317              		.loc 1 80 28 is_stmt 0 view .LVU100
 318 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 319              		.loc 1 80 16 view .LVU101
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 8


 320 0018 0370     		strb	r3, [r0]
  81:App/Src/task.c **** }
 321              		.loc 1 81 1 view .LVU102
 322 001a 7047     		bx	lr
 323              	.L17:
 324              		.align	2
 325              	.L16:
 326 001c 00000000 		.word	.LANCHOR1
 327              		.cfi_endproc
 328              	.LFE237:
 330              		.section	.rodata.command_int_test.str1.4,"aMS",%progbits,1
 331              		.align	2
 332              	.LC2:
 333 0000 63686970 		.ascii	"chip%d test 64Hz\012\000"
 333      25642074 
 333      65737420 
 333      3634487A 
 333      0A00
 334 0012 0000     		.align	2
 335              	.LC3:
 336 0014 63686970 		.ascii	"chip%d i2c error\012\000"
 336      25642069 
 336      32632065 
 336      72726F72 
 336      0A00
 337              		.global	__aeabi_f2d
 338 0026 0000     		.align	2
 339              	.LC4:
 340 0028 63686970 		.ascii	"chip%d temp:%.0f, system temp = %.1fC\012\000"
 340      25642074 
 340      656D703A 
 340      252E3066 
 340      2C207379 
 341 004f 00       		.align	2
 342              	.LC5:
 343 0050 3A4D4541 		.ascii	":MEAS?\012\000"
 343      533F0A00 
 344              		.align	2
 345              	.LC6:
 346 0058 77616974 		.ascii	"waiting counter test \012\000"
 346      696E6720 
 346      636F756E 
 346      74657220 
 346      74657374 
 347              		.global	__aeabi_dmul
 348              		.global	__aeabi_dsub
 349              		.global	__aeabi_d2f
 350 006f 00       		.align	2
 351              	.LC7:
 352 0070 66726571 		.ascii	"freq:%fHz,ppm:%.2f\012\000"
 352      3A256648 
 352      7A2C7070 
 352      6D3A252E 
 352      32660A00 
 353              		.align	2
 354              	.LC8:
 355 0084 64657669 		.ascii	"device no respose!\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 9


 355      6365206E 
 355      6F207265 
 355      73706F73 
 355      65210A00 
 356              		.section	.text.command_int_test,"ax",%progbits
 357              		.align	1
 358              		.global	command_int_test
 359              		.syntax unified
 360              		.thumb
 361              		.thumb_func
 363              	command_int_test:
 364              	.LVL4:
 365              	.LFB240:
  82:App/Src/task.c **** 
  83:App/Src/task.c **** void system_manage(void)
  84:App/Src/task.c **** {
  85:App/Src/task.c ****     static uint32_t systemTick = 0;
  86:App/Src/task.c **** 
  87:App/Src/task.c ****     systemTick++;
  88:App/Src/task.c ****     if (systemTick % 100 == 0) {
  89:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
  90:App/Src/task.c ****     }
  91:App/Src/task.c ****     if (systemTick % 20 == 0) {
  92:App/Src/task.c ****         system_manage_test_mode();
  93:App/Src/task.c ****     }
  94:App/Src/task.c ****     if (systemTick % 200 == 0) {//系统本地走时
  95:App/Src/task.c ****         system_time_update();
  96:App/Src/task.c ****     }
  97:App/Src/task.c ****     if (systemTick % 50 == 0) {//临时命令
  98:App/Src/task.c ****         Aecq100Sample();
  99:App/Src/task.c ****     }
 100:App/Src/task.c ****     if (systemTick % 4000 == 0) {//系统本地走时
 101:App/Src/task.c ****         ControlPrintf("system temp:%.1f connect OK\n", temp_read_value(1));
 102:App/Src/task.c ****     }
 103:App/Src/task.c **** }
 104:App/Src/task.c **** 
 105:App/Src/task.c **** void set_int_test(uint8_t state, uint8_t start, uint8_t end)
 106:App/Src/task.c **** {
 107:App/Src/task.c ****     if (state == 0) {
 108:App/Src/task.c ****         g_intState = 0;
 109:App/Src/task.c ****         g_intStart = 0;
 110:App/Src/task.c ****         g_intEnd = 0;
 111:App/Src/task.c ****         command_int_test(0);
 112:App/Src/task.c ****     } else {
 113:App/Src/task.c ****         if (start <= end) {
 114:App/Src/task.c ****             g_intState = 1;
 115:App/Src/task.c ****             g_intStart = start;
 116:App/Src/task.c ****             g_intEnd = end;
 117:App/Src/task.c ****             command_int_test(0);
 118:App/Src/task.c ****         }
 119:App/Src/task.c ****     }
 120:App/Src/task.c **** }
 121:App/Src/task.c **** 
 122:App/Src/task.c **** void command_int_test(uint8_t init)
 123:App/Src/task.c **** {
 366              		.loc 1 123 1 is_stmt 1 view -0
 367              		.cfi_startproc
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 10


 368              		@ args = 0, pretend = 0, frame = 8
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370              		.loc 1 123 1 is_stmt 0 view .LVU104
 371 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 372              	.LCFI4:
 373              		.cfi_def_cfa_offset 20
 374              		.cfi_offset 4, -20
 375              		.cfi_offset 5, -16
 376              		.cfi_offset 6, -12
 377              		.cfi_offset 7, -8
 378              		.cfi_offset 14, -4
 379 0002 2DED028B 		vpush.64	{d8}
 380              	.LCFI5:
 381              		.cfi_def_cfa_offset 28
 382              		.cfi_offset 80, -28
 383              		.cfi_offset 81, -24
 384 0006 85B0     		sub	sp, sp, #20
 385              	.LCFI6:
 386              		.cfi_def_cfa_offset 48
 124:App/Src/task.c ****     static uint8_t testStep = 0;
 387              		.loc 1 124 5 is_stmt 1 view .LVU105
 125:App/Src/task.c ****     static uint8_t testNumber = 0;
 388              		.loc 1 125 5 view .LVU106
 126:App/Src/task.c ****     uint8_t buf, result;
 389              		.loc 1 126 5 view .LVU107
 127:App/Src/task.c ****     static uint32_t lastTick = 0;
 390              		.loc 1 127 5 view .LVU108
 128:App/Src/task.c ****     float ppm;
 391              		.loc 1 128 5 view .LVU109
 129:App/Src/task.c ****     float temp;
 392              		.loc 1 129 5 view .LVU110
 130:App/Src/task.c **** 
 131:App/Src/task.c ****     if (init == 0) {
 393              		.loc 1 131 5 view .LVU111
 394              		.loc 1 131 8 is_stmt 0 view .LVU112
 395 0008 40B1     		cbz	r0, .L35
 132:App/Src/task.c ****         testStep = 0;
 133:App/Src/task.c ****         buf = 0x04;
 134:App/Src/task.c ****         rtc_write_multi_bytes(RTC_8931_ADDRESS, 0x0E, &buf, 1);//关闭之前开启频率输出
 135:App/Src/task.c ****         return;
 136:App/Src/task.c ****     }
 137:App/Src/task.c **** 
 138:App/Src/task.c ****     switch (testStep) {
 396              		.loc 1 138 5 is_stmt 1 view .LVU113
 397 000a 734B     		ldr	r3, .L37+8
 398 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 399 000e 052B     		cmp	r3, #5
 400 0010 11D8     		bhi	.L18
 401 0012 DFE803F0 		tbb	[pc, r3]
 402              	.L23:
 403 0016 14       		.byte	(.L28-.L23)/2
 404 0017 1B       		.byte	(.L27-.L23)/2
 405 0018 3D       		.byte	(.L26-.L23)/2
 406 0019 58       		.byte	(.L25-.L23)/2
 407 001a 8A       		.byte	(.L24-.L23)/2
 408 001b A1       		.byte	(.L22-.L23)/2
 409              		.p2align 1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 11


 410              	.L35:
 132:App/Src/task.c ****         testStep = 0;
 411              		.loc 1 132 9 view .LVU114
 132:App/Src/task.c ****         testStep = 0;
 412              		.loc 1 132 18 is_stmt 0 view .LVU115
 413 001c 6E4B     		ldr	r3, .L37+8
 414 001e 0022     		movs	r2, #0
 415 0020 1A70     		strb	r2, [r3]
 133:App/Src/task.c ****         rtc_write_multi_bytes(RTC_8931_ADDRESS, 0x0E, &buf, 1);//关闭之前开启频率输出
 416              		.loc 1 133 9 is_stmt 1 view .LVU116
 133:App/Src/task.c ****         rtc_write_multi_bytes(RTC_8931_ADDRESS, 0x0E, &buf, 1);//关闭之前开启频率输出
 417              		.loc 1 133 13 is_stmt 0 view .LVU117
 418 0022 0423     		movs	r3, #4
 419 0024 8DF80F30 		strb	r3, [sp, #15]
 134:App/Src/task.c ****         return;
 420              		.loc 1 134 9 is_stmt 1 view .LVU118
 421 0028 0123     		movs	r3, #1
 422 002a 0DF10F02 		add	r2, sp, #15
 423 002e 0E21     		movs	r1, #14
 424 0030 D020     		movs	r0, #208
 425              	.LVL5:
 134:App/Src/task.c ****         return;
 426              		.loc 1 134 9 is_stmt 0 view .LVU119
 427 0032 FFF7FEFF 		bl	rtc_write_multi_bytes
 428              	.LVL6:
 135:App/Src/task.c ****     }
 429              		.loc 1 135 9 is_stmt 1 view .LVU120
 430              	.L18:
 139:App/Src/task.c ****         case 0:
 140:App/Src/task.c ****             testNumber = 0;
 141:App/Src/task.c ****             testStep++;
 142:App/Src/task.c ****         break;
 143:App/Src/task.c ****         case 1:
 144:App/Src/task.c ****             if (testNumber < g_intStart || testNumber >= g_intEnd) {//配置测试的芯片编号
 145:App/Src/task.c ****                 testNumber = g_intStart;
 146:App/Src/task.c ****             } else {
 147:App/Src/task.c ****                 testNumber++;
 148:App/Src/task.c ****             }
 149:App/Src/task.c **** 			UsbPrintf("chip%d test 64Hz\n", testNumber);
 150:App/Src/task.c **** 			rtc_group_power(testNumber, POWER_I2C);
 151:App/Src/task.c **** 			rtc_set_channel(testNumber, RTC_SD3078B);
 152:App/Src/task.c ****             testStep++;
 153:App/Src/task.c ****         break;
 154:App/Src/task.c ****         case 2:
 155:App/Src/task.c **** 			result = rtc_write_lock_on();
 156:App/Src/task.c **** 			if (result !=  I2C_OK) {
 157:App/Src/task.c **** 				UsbPrintf("chip%d i2c error\n", testNumber);
 158:App/Src/task.c ****                 testStep = 1;//该芯片的后续测试跳过
 159:App/Src/task.c ****                 break;
 160:App/Src/task.c **** 			}
 161:App/Src/task.c **** 			buf = 0x10;
 162:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, &buf, 1);
 163:App/Src/task.c ****             testStep++;
 164:App/Src/task.c ****         break;
 165:App/Src/task.c ****         case 3:
 166:App/Src/task.c **** 			rtc_read_multi_bytes(RTC_3078_ADDRESS, 0x16, &buf, 1);
 167:App/Src/task.c **** 			temp = buf;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 12


 168:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 169:App/Src/task.c ****             rtc_out_4096();//开启输出
 170:App/Src/task.c **** 			rtc_sda_l();//3078模式下需要解除锁定int
 171:App/Src/task.c ****             lastTick = HAL_GetTick();
 172:App/Src/task.c ****             testStep++;
 173:App/Src/task.c ****         break;
 174:App/Src/task.c ****         case 4:
 175:App/Src/task.c ****             if (HAL_GetTick() > lastTick + 100) {
 176:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 177:App/Src/task.c **** 			    UsbPrintf("waiting counter test \n");
 178:App/Src/task.c ****                 lastTick = HAL_GetTick();
 179:App/Src/task.c ****                 testStep++;
 180:App/Src/task.c ****             }
 181:App/Src/task.c ****         break;
 182:App/Src/task.c ****         case 5:
 183:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTick) {
 184:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 185:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 186:App/Src/task.c **** 			    rtc_disable_int();
 187:App/Src/task.c ****                 testStep = 1;
 188:App/Src/task.c ****             }
 189:App/Src/task.c **** 			if (HAL_GetTick() >= lastTick + 3000) {
 190:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 191:App/Src/task.c ****                 rtc_disable_int();
 192:App/Src/task.c ****                 testStep = 1;
 193:App/Src/task.c **** 			}
 194:App/Src/task.c ****         break;
 195:App/Src/task.c ****         default:break;
 196:App/Src/task.c ****     }
 197:App/Src/task.c **** }
 431              		.loc 1 197 1 is_stmt 0 view .LVU121
 432 0036 05B0     		add	sp, sp, #20
 433              	.LCFI7:
 434              		.cfi_remember_state
 435              		.cfi_def_cfa_offset 28
 436              		@ sp needed
 437 0038 BDEC028B 		vldm	sp!, {d8}
 438              	.LCFI8:
 439              		.cfi_restore 80
 440              		.cfi_restore 81
 441              		.cfi_def_cfa_offset 20
 442 003c F0BD     		pop	{r4, r5, r6, r7, pc}
 443              	.LVL7:
 444              	.L28:
 445              	.LCFI9:
 446              		.cfi_restore_state
 140:App/Src/task.c ****             testStep++;
 447              		.loc 1 140 13 is_stmt 1 view .LVU122
 140:App/Src/task.c ****             testStep++;
 448              		.loc 1 140 24 is_stmt 0 view .LVU123
 449 003e 674A     		ldr	r2, .L37+12
 450 0040 0021     		movs	r1, #0
 451 0042 1170     		strb	r1, [r2]
 141:App/Src/task.c ****         break;
 452              		.loc 1 141 13 is_stmt 1 view .LVU124
 141:App/Src/task.c ****         break;
 453              		.loc 1 141 21 is_stmt 0 view .LVU125
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 13


 454 0044 0133     		adds	r3, r3, #1
 455 0046 644A     		ldr	r2, .L37+8
 456 0048 1370     		strb	r3, [r2]
 142:App/Src/task.c ****         case 1:
 457              		.loc 1 142 9 is_stmt 1 view .LVU126
 458 004a F4E7     		b	.L18
 459              	.L27:
 144:App/Src/task.c ****                 testNumber = g_intStart;
 460              		.loc 1 144 13 view .LVU127
 144:App/Src/task.c ****                 testNumber = g_intStart;
 461              		.loc 1 144 28 is_stmt 0 view .LVU128
 462 004c 634B     		ldr	r3, .L37+12
 463 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 464 0050 634A     		ldr	r2, .L37+16
 465 0052 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 144:App/Src/task.c ****                 testNumber = g_intStart;
 466              		.loc 1 144 16 view .LVU129
 467 0054 9342     		cmp	r3, r2
 468 0056 03D3     		bcc	.L29
 144:App/Src/task.c ****                 testNumber = g_intStart;
 469              		.loc 1 144 55 discriminator 1 view .LVU130
 470 0058 6249     		ldr	r1, .L37+20
 471 005a 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 144:App/Src/task.c ****                 testNumber = g_intStart;
 472              		.loc 1 144 41 discriminator 1 view .LVU131
 473 005c 8B42     		cmp	r3, r1
 474 005e 13D3     		bcc	.L30
 475              	.L29:
 145:App/Src/task.c ****             } else {
 476              		.loc 1 145 17 is_stmt 1 view .LVU132
 145:App/Src/task.c ****             } else {
 477              		.loc 1 145 28 is_stmt 0 view .LVU133
 478 0060 5E4B     		ldr	r3, .L37+12
 479 0062 1A70     		strb	r2, [r3]
 480              	.L31:
 149:App/Src/task.c **** 			rtc_group_power(testNumber, POWER_I2C);
 481              		.loc 1 149 4 is_stmt 1 view .LVU134
 482 0064 5D4C     		ldr	r4, .L37+12
 483 0066 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 484 0068 5F48     		ldr	r0, .L37+24
 485              	.LVL8:
 149:App/Src/task.c **** 			rtc_group_power(testNumber, POWER_I2C);
 486              		.loc 1 149 4 is_stmt 0 view .LVU135
 487 006a FFF7FEFF 		bl	UsbPrintf
 488              	.LVL9:
 150:App/Src/task.c **** 			rtc_set_channel(testNumber, RTC_SD3078B);
 489              		.loc 1 150 4 is_stmt 1 view .LVU136
 490 006e 0121     		movs	r1, #1
 491 0070 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 492 0072 FFF7FEFF 		bl	rtc_group_power
 493              	.LVL10:
 151:App/Src/task.c ****             testStep++;
 494              		.loc 1 151 4 view .LVU137
 495 0076 0521     		movs	r1, #5
 496 0078 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 497 007a FFF7FEFF 		bl	rtc_set_channel
 498              	.LVL11:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 14


 152:App/Src/task.c ****         break;
 499              		.loc 1 152 13 view .LVU138
 152:App/Src/task.c ****         break;
 500              		.loc 1 152 21 is_stmt 0 view .LVU139
 501 007e 564A     		ldr	r2, .L37+8
 502 0080 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 503 0082 0133     		adds	r3, r3, #1
 504 0084 1370     		strb	r3, [r2]
 153:App/Src/task.c ****         case 2:
 505              		.loc 1 153 9 is_stmt 1 view .LVU140
 506 0086 D6E7     		b	.L18
 507              	.LVL12:
 508              	.L30:
 147:App/Src/task.c ****             }
 509              		.loc 1 147 17 view .LVU141
 147:App/Src/task.c ****             }
 510              		.loc 1 147 27 is_stmt 0 view .LVU142
 511 0088 0133     		adds	r3, r3, #1
 512 008a 544A     		ldr	r2, .L37+12
 513 008c 1370     		strb	r3, [r2]
 514 008e E9E7     		b	.L31
 515              	.L26:
 155:App/Src/task.c **** 			if (result !=  I2C_OK) {
 516              		.loc 1 155 4 is_stmt 1 view .LVU143
 155:App/Src/task.c **** 			if (result !=  I2C_OK) {
 517              		.loc 1 155 13 is_stmt 0 view .LVU144
 518 0090 FFF7FEFF 		bl	rtc_write_lock_on
 519              	.LVL13:
 156:App/Src/task.c **** 				UsbPrintf("chip%d i2c error\n", testNumber);
 520              		.loc 1 156 4 is_stmt 1 view .LVU145
 156:App/Src/task.c **** 				UsbPrintf("chip%d i2c error\n", testNumber);
 521              		.loc 1 156 7 is_stmt 0 view .LVU146
 522 0094 40B1     		cbz	r0, .L32
 157:App/Src/task.c ****                 testStep = 1;//该芯片的后续测试跳过
 523              		.loc 1 157 5 is_stmt 1 view .LVU147
 524 0096 514B     		ldr	r3, .L37+12
 525 0098 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 526 009a 5448     		ldr	r0, .L37+28
 527              	.LVL14:
 157:App/Src/task.c ****                 testStep = 1;//该芯片的后续测试跳过
 528              		.loc 1 157 5 is_stmt 0 view .LVU148
 529 009c FFF7FEFF 		bl	UsbPrintf
 530              	.LVL15:
 158:App/Src/task.c ****                 break;
 531              		.loc 1 158 17 is_stmt 1 view .LVU149
 158:App/Src/task.c ****                 break;
 532              		.loc 1 158 26 is_stmt 0 view .LVU150
 533 00a0 4D4B     		ldr	r3, .L37+8
 534 00a2 0122     		movs	r2, #1
 535 00a4 1A70     		strb	r2, [r3]
 159:App/Src/task.c **** 			}
 536              		.loc 1 159 17 is_stmt 1 view .LVU151
 537 00a6 C6E7     		b	.L18
 538              	.LVL16:
 539              	.L32:
 161:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, &buf, 1);
 540              		.loc 1 161 4 view .LVU152
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 15


 161:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, &buf, 1);
 541              		.loc 1 161 8 is_stmt 0 view .LVU153
 542 00a8 1023     		movs	r3, #16
 543 00aa 8DF80F30 		strb	r3, [sp, #15]
 162:App/Src/task.c ****             testStep++;
 544              		.loc 1 162 4 is_stmt 1 view .LVU154
 545 00ae 0123     		movs	r3, #1
 546 00b0 0DF10F02 		add	r2, sp, #15
 547 00b4 1721     		movs	r1, #23
 548 00b6 6420     		movs	r0, #100
 549              	.LVL17:
 162:App/Src/task.c ****             testStep++;
 550              		.loc 1 162 4 is_stmt 0 view .LVU155
 551 00b8 FFF7FEFF 		bl	rtc_write_multi_bytes
 552              	.LVL18:
 163:App/Src/task.c ****         break;
 553              		.loc 1 163 13 is_stmt 1 view .LVU156
 163:App/Src/task.c ****         break;
 554              		.loc 1 163 21 is_stmt 0 view .LVU157
 555 00bc 464A     		ldr	r2, .L37+8
 556 00be 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 557 00c0 0133     		adds	r3, r3, #1
 558 00c2 1370     		strb	r3, [r2]
 164:App/Src/task.c ****         case 3:
 559              		.loc 1 164 9 is_stmt 1 view .LVU158
 560 00c4 B7E7     		b	.L18
 561              	.LVL19:
 562              	.L25:
 166:App/Src/task.c **** 			temp = buf;
 563              		.loc 1 166 4 view .LVU159
 564 00c6 0123     		movs	r3, #1
 565 00c8 0DF10F02 		add	r2, sp, #15
 566 00cc 1621     		movs	r1, #22
 567 00ce 6420     		movs	r0, #100
 568              	.LVL20:
 166:App/Src/task.c **** 			temp = buf;
 569              		.loc 1 166 4 is_stmt 0 view .LVU160
 570 00d0 FFF7FEFF 		bl	rtc_read_multi_bytes
 571              	.LVL21:
 167:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 572              		.loc 1 167 4 is_stmt 1 view .LVU161
 167:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 573              		.loc 1 167 9 is_stmt 0 view .LVU162
 574 00d4 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 575 00d8 08EE103A 		vmov	s16, r3	@ int
 576 00dc B8EE488A 		vcvt.f32.u32	s16, s16
 577              	.LVL22:
 168:App/Src/task.c ****             rtc_out_4096();//开启输出
 578              		.loc 1 168 4 is_stmt 1 view .LVU163
 579 00e0 3E4B     		ldr	r3, .L37+12
 580 00e2 1F78     		ldrb	r7, [r3]	@ zero_extendqisi2
 168:App/Src/task.c ****             rtc_out_4096();//开启输出
 581              		.loc 1 168 75 is_stmt 0 view .LVU164
 582 00e4 0120     		movs	r0, #1
 583 00e6 FFF7FEFF 		bl	temp_read_value
 584              	.LVL23:
 585 00ea 10EE106A 		vmov	r6, s0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 16


 168:App/Src/task.c ****             rtc_out_4096();//开启输出
 586              		.loc 1 168 4 view .LVU165
 587 00ee 18EE100A 		vmov	r0, s16
 588 00f2 FFF7FEFF 		bl	__aeabi_f2d
 589              	.LVL24:
 590 00f6 0446     		mov	r4, r0
 591 00f8 0D46     		mov	r5, r1
 592 00fa 3046     		mov	r0, r6	@ float
 593 00fc FFF7FEFF 		bl	__aeabi_f2d
 594              	.LVL25:
 595 0100 CDE90001 		strd	r0, [sp]
 596 0104 2246     		mov	r2, r4
 597 0106 2B46     		mov	r3, r5
 598 0108 3946     		mov	r1, r7
 599 010a 3948     		ldr	r0, .L37+32
 600 010c FFF7FEFF 		bl	UsbPrintf
 601              	.LVL26:
 169:App/Src/task.c **** 			rtc_sda_l();//3078模式下需要解除锁定int
 602              		.loc 1 169 13 is_stmt 1 view .LVU166
 603 0110 FFF7FEFF 		bl	rtc_out_4096
 604              	.LVL27:
 170:App/Src/task.c ****             lastTick = HAL_GetTick();
 605              		.loc 1 170 4 view .LVU167
 606 0114 FFF7FEFF 		bl	rtc_sda_l
 607              	.LVL28:
 171:App/Src/task.c ****             testStep++;
 608              		.loc 1 171 13 view .LVU168
 171:App/Src/task.c ****             testStep++;
 609              		.loc 1 171 24 is_stmt 0 view .LVU169
 610 0118 FFF7FEFF 		bl	HAL_GetTick
 611              	.LVL29:
 171:App/Src/task.c ****             testStep++;
 612              		.loc 1 171 22 view .LVU170
 613 011c 354B     		ldr	r3, .L37+36
 614 011e 1860     		str	r0, [r3]
 172:App/Src/task.c ****         break;
 615              		.loc 1 172 13 is_stmt 1 view .LVU171
 172:App/Src/task.c ****         break;
 616              		.loc 1 172 21 is_stmt 0 view .LVU172
 617 0120 2D4A     		ldr	r2, .L37+8
 618 0122 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 619 0124 0133     		adds	r3, r3, #1
 620 0126 1370     		strb	r3, [r2]
 173:App/Src/task.c ****         case 4:
 621              		.loc 1 173 9 is_stmt 1 view .LVU173
 622 0128 85E7     		b	.L18
 623              	.LVL30:
 624              	.L24:
 175:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 625              		.loc 1 175 13 view .LVU174
 175:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 626              		.loc 1 175 17 is_stmt 0 view .LVU175
 627 012a FFF7FEFF 		bl	HAL_GetTick
 628              	.LVL31:
 175:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 629              		.loc 1 175 42 view .LVU176
 630 012e 314B     		ldr	r3, .L37+36
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 17


 631 0130 1B68     		ldr	r3, [r3]
 632 0132 6433     		adds	r3, r3, #100
 175:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 633              		.loc 1 175 16 view .LVU177
 634 0134 9842     		cmp	r0, r3
 635 0136 7FF67EAF 		bls	.L18
 176:App/Src/task.c **** 			    UsbPrintf("waiting counter test \n");
 636              		.loc 1 176 8 is_stmt 1 view .LVU178
 637 013a 2F48     		ldr	r0, .L37+40
 638 013c FFF7FEFF 		bl	DevicePrintf
 639              	.LVL32:
 177:App/Src/task.c ****                 lastTick = HAL_GetTick();
 640              		.loc 1 177 8 view .LVU179
 641 0140 2E48     		ldr	r0, .L37+44
 642 0142 FFF7FEFF 		bl	UsbPrintf
 643              	.LVL33:
 178:App/Src/task.c ****                 testStep++;
 644              		.loc 1 178 17 view .LVU180
 178:App/Src/task.c ****                 testStep++;
 645              		.loc 1 178 28 is_stmt 0 view .LVU181
 646 0146 FFF7FEFF 		bl	HAL_GetTick
 647              	.LVL34:
 178:App/Src/task.c ****                 testStep++;
 648              		.loc 1 178 26 view .LVU182
 649 014a 2A4B     		ldr	r3, .L37+36
 650 014c 1860     		str	r0, [r3]
 179:App/Src/task.c ****             }
 651              		.loc 1 179 17 is_stmt 1 view .LVU183
 179:App/Src/task.c ****             }
 652              		.loc 1 179 25 is_stmt 0 view .LVU184
 653 014e 224A     		ldr	r2, .L37+8
 654 0150 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 655 0152 0133     		adds	r3, r3, #1
 656 0154 1370     		strb	r3, [r2]
 657 0156 6EE7     		b	.L18
 658              	.LVL35:
 659              	.L22:
 183:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 660              		.loc 1 183 13 is_stmt 1 view .LVU185
 183:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 661              		.loc 1 183 27 is_stmt 0 view .LVU186
 662 0158 294B     		ldr	r3, .L37+48
 663 015a 1A68     		ldr	r2, [r3]
 183:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 664              		.loc 1 183 39 view .LVU187
 665 015c 254B     		ldr	r3, .L37+36
 666 015e 1B68     		ldr	r3, [r3]
 183:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 667              		.loc 1 183 16 view .LVU188
 668 0160 9A42     		cmp	r2, r3
 669 0162 11D8     		bhi	.L36
 670              	.LVL36:
 671              	.L33:
 189:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 672              		.loc 1 189 4 is_stmt 1 view .LVU189
 189:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 673              		.loc 1 189 8 is_stmt 0 view .LVU190
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 18


 674 0164 FFF7FEFF 		bl	HAL_GetTick
 675              	.LVL37:
 189:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 676              		.loc 1 189 34 view .LVU191
 677 0168 224B     		ldr	r3, .L37+36
 678 016a 1B68     		ldr	r3, [r3]
 679 016c 03F6B833 		addw	r3, r3, #3000
 189:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 680              		.loc 1 189 7 view .LVU192
 681 0170 9842     		cmp	r0, r3
 682 0172 FFF460AF 		bcc	.L18
 190:App/Src/task.c ****                 rtc_disable_int();
 683              		.loc 1 190 5 is_stmt 1 view .LVU193
 684 0176 2348     		ldr	r0, .L37+52
 685 0178 FFF7FEFF 		bl	UsbPrintf
 686              	.LVL38:
 191:App/Src/task.c ****                 testStep = 1;
 687              		.loc 1 191 17 view .LVU194
 688 017c FFF7FEFF 		bl	rtc_disable_int
 689              	.LVL39:
 192:App/Src/task.c **** 			}
 690              		.loc 1 192 17 view .LVU195
 192:App/Src/task.c **** 			}
 691              		.loc 1 192 26 is_stmt 0 view .LVU196
 692 0180 154B     		ldr	r3, .L37+8
 693 0182 0122     		movs	r2, #1
 694 0184 1A70     		strb	r2, [r3]
 695 0186 56E7     		b	.L18
 696              	.LVL40:
 697              	.L36:
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 698              		.loc 1 184 17 is_stmt 1 view .LVU197
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 699              		.loc 1 184 34 is_stmt 0 view .LVU198
 700 0188 1D4B     		ldr	r3, .L37+48
 701 018a 5868     		ldr	r0, [r3, #4]	@ float
 702              	.LVL41:
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 703              		.loc 1 184 34 view .LVU199
 704 018c FFF7FEFF 		bl	__aeabi_f2d
 705              	.LVL42:
 706 0190 0446     		mov	r4, r0
 707 0192 0D46     		mov	r5, r1
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 708              		.loc 1 184 40 view .LVU200
 709 0194 0022     		movs	r2, #0
 710 0196 1C4B     		ldr	r3, .L37+56
 711 0198 FFF7FEFF 		bl	__aeabi_dmul
 712              	.LVL43:
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 713              		.loc 1 184 47 view .LVU201
 714 019c 0022     		movs	r2, #0
 715 019e 1B4B     		ldr	r3, .L37+60
 716 01a0 FFF7FEFF 		bl	__aeabi_dsub
 717              	.LVL44:
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 718              		.loc 1 184 54 view .LVU202
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 19


 719 01a4 0AA3     		adr	r3, .L37
 720 01a6 D3E90023 		ldrd	r2, [r3]
 721 01aa FFF7FEFF 		bl	__aeabi_dmul
 722              	.LVL45:
 184:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 723              		.loc 1 184 21 view .LVU203
 724 01ae FFF7FEFF 		bl	__aeabi_d2f
 725              	.LVL46:
 185:App/Src/task.c **** 			    rtc_disable_int();
 726              		.loc 1 185 17 is_stmt 1 view .LVU204
 727 01b2 FFF7FEFF 		bl	__aeabi_f2d
 728              	.LVL47:
 185:App/Src/task.c **** 			    rtc_disable_int();
 729              		.loc 1 185 17 is_stmt 0 view .LVU205
 730 01b6 CDE90001 		strd	r0, [sp]
 731 01ba 2246     		mov	r2, r4
 732 01bc 2B46     		mov	r3, r5
 733 01be 1448     		ldr	r0, .L37+64
 734 01c0 FFF7FEFF 		bl	UsbPrintf
 735              	.LVL48:
 186:App/Src/task.c ****                 testStep = 1;
 736              		.loc 1 186 8 is_stmt 1 view .LVU206
 737 01c4 FFF7FEFF 		bl	rtc_disable_int
 738              	.LVL49:
 187:App/Src/task.c ****             }
 739              		.loc 1 187 17 view .LVU207
 187:App/Src/task.c ****             }
 740              		.loc 1 187 26 is_stmt 0 view .LVU208
 741 01c8 034B     		ldr	r3, .L37+8
 742 01ca 0122     		movs	r2, #1
 743 01cc 1A70     		strb	r2, [r3]
 744 01ce C9E7     		b	.L33
 745              	.L38:
 746              		.align	3
 747              	.L37:
 748 01d0 00000000 		.word	0
 749 01d4 80842E41 		.word	1093567616
 750 01d8 00000000 		.word	.LANCHOR2
 751 01dc 00000000 		.word	.LANCHOR3
 752 01e0 00000000 		.word	.LANCHOR4
 753 01e4 00000000 		.word	.LANCHOR5
 754 01e8 00000000 		.word	.LC2
 755 01ec 14000000 		.word	.LC3
 756 01f0 28000000 		.word	.LC4
 757 01f4 00000000 		.word	.LANCHOR6
 758 01f8 50000000 		.word	.LC5
 759 01fc 58000000 		.word	.LC6
 760 0200 00000000 		.word	.LANCHOR7
 761 0204 84000000 		.word	.LC8
 762 0208 0000903F 		.word	1066401792
 763 020c 0000F03F 		.word	1072693248
 764 0210 70000000 		.word	.LC7
 765              		.cfi_endproc
 766              	.LFE240:
 768              		.section	.text.set_int_test,"ax",%progbits
 769              		.align	1
 770              		.global	set_int_test
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 20


 771              		.syntax unified
 772              		.thumb
 773              		.thumb_func
 775              	set_int_test:
 776              	.LVL50:
 777              	.LFB239:
 106:App/Src/task.c ****     if (state == 0) {
 778              		.loc 1 106 1 is_stmt 1 view -0
 779              		.cfi_startproc
 780              		@ args = 0, pretend = 0, frame = 0
 781              		@ frame_needed = 0, uses_anonymous_args = 0
 106:App/Src/task.c ****     if (state == 0) {
 782              		.loc 1 106 1 is_stmt 0 view .LVU210
 783 0000 08B5     		push	{r3, lr}
 784              	.LCFI10:
 785              		.cfi_def_cfa_offset 8
 786              		.cfi_offset 3, -8
 787              		.cfi_offset 14, -4
 107:App/Src/task.c ****         g_intState = 0;
 788              		.loc 1 107 5 is_stmt 1 view .LVU211
 107:App/Src/task.c ****         g_intState = 0;
 789              		.loc 1 107 8 is_stmt 0 view .LVU212
 790 0002 10B1     		cbz	r0, .L43
 113:App/Src/task.c ****             g_intState = 1;
 791              		.loc 1 113 9 is_stmt 1 view .LVU213
 113:App/Src/task.c ****             g_intState = 1;
 792              		.loc 1 113 12 is_stmt 0 view .LVU214
 793 0004 9142     		cmp	r1, r2
 794 0006 09D9     		bls	.L44
 795              	.LVL51:
 796              	.L39:
 120:App/Src/task.c **** 
 797              		.loc 1 120 1 view .LVU215
 798 0008 08BD     		pop	{r3, pc}
 799              	.LVL52:
 800              	.L43:
 108:App/Src/task.c ****         g_intStart = 0;
 801              		.loc 1 108 9 is_stmt 1 view .LVU216
 108:App/Src/task.c ****         g_intStart = 0;
 802              		.loc 1 108 20 is_stmt 0 view .LVU217
 803 000a 0A4B     		ldr	r3, .L45
 804 000c 1870     		strb	r0, [r3]
 109:App/Src/task.c ****         g_intEnd = 0;
 805              		.loc 1 109 9 is_stmt 1 view .LVU218
 109:App/Src/task.c ****         g_intEnd = 0;
 806              		.loc 1 109 20 is_stmt 0 view .LVU219
 807 000e 0A4B     		ldr	r3, .L45+4
 808 0010 1870     		strb	r0, [r3]
 110:App/Src/task.c ****         command_int_test(0);
 809              		.loc 1 110 9 is_stmt 1 view .LVU220
 110:App/Src/task.c ****         command_int_test(0);
 810              		.loc 1 110 18 is_stmt 0 view .LVU221
 811 0012 0A4B     		ldr	r3, .L45+8
 812 0014 1870     		strb	r0, [r3]
 111:App/Src/task.c ****     } else {
 813              		.loc 1 111 9 is_stmt 1 view .LVU222
 814 0016 FFF7FEFF 		bl	command_int_test
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 21


 815              	.LVL53:
 111:App/Src/task.c ****     } else {
 816              		.loc 1 111 9 is_stmt 0 view .LVU223
 817 001a F5E7     		b	.L39
 818              	.LVL54:
 819              	.L44:
 114:App/Src/task.c ****             g_intStart = start;
 820              		.loc 1 114 13 is_stmt 1 view .LVU224
 114:App/Src/task.c ****             g_intStart = start;
 821              		.loc 1 114 24 is_stmt 0 view .LVU225
 822 001c 054B     		ldr	r3, .L45
 823 001e 0120     		movs	r0, #1
 824              	.LVL55:
 114:App/Src/task.c ****             g_intStart = start;
 825              		.loc 1 114 24 view .LVU226
 826 0020 1870     		strb	r0, [r3]
 115:App/Src/task.c ****             g_intEnd = end;
 827              		.loc 1 115 13 is_stmt 1 view .LVU227
 115:App/Src/task.c ****             g_intEnd = end;
 828              		.loc 1 115 24 is_stmt 0 view .LVU228
 829 0022 054B     		ldr	r3, .L45+4
 830 0024 1970     		strb	r1, [r3]
 116:App/Src/task.c ****             command_int_test(0);
 831              		.loc 1 116 13 is_stmt 1 view .LVU229
 116:App/Src/task.c ****             command_int_test(0);
 832              		.loc 1 116 22 is_stmt 0 view .LVU230
 833 0026 054B     		ldr	r3, .L45+8
 834 0028 1A70     		strb	r2, [r3]
 117:App/Src/task.c ****         }
 835              		.loc 1 117 13 is_stmt 1 view .LVU231
 836 002a 0020     		movs	r0, #0
 837 002c FFF7FEFF 		bl	command_int_test
 838              	.LVL56:
 120:App/Src/task.c **** 
 839              		.loc 1 120 1 is_stmt 0 view .LVU232
 840 0030 EAE7     		b	.L39
 841              	.L46:
 842 0032 00BF     		.align	2
 843              	.L45:
 844 0034 00000000 		.word	.LANCHOR8
 845 0038 00000000 		.word	.LANCHOR4
 846 003c 00000000 		.word	.LANCHOR5
 847              		.cfi_endproc
 848              	.LFE239:
 850              		.global	__aeabi_dcmpgt
 851              		.global	__aeabi_dcmplt
 852              		.global	__aeabi_dadd
 853              		.section	.rodata.rtc_freq_save.str1.4,"aMS",%progbits,1
 854              		.align	2
 855              	.LC9:
 856 0000 73756363 		.ascii	"success, temp:%.2f, best cap:%.2f, min ppm %.2f\012"
 856      6573732C 
 856      2074656D 
 856      703A252E 
 856      32662C20 
 857 0030 00       		.ascii	"\000"
 858 0031 000000   		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 22


 859              	.LC10:
 860 0034 63686563 		.ascii	"check rtc temp error, temp:%.2f\012\000"
 860      6B207274 
 860      63207465 
 860      6D702065 
 860      72726F72 
 861 0055 000000   		.align	2
 862              	.LC11:
 863 0058 6572726F 		.ascii	"error and stop, temp:%.2f, best cap:%.2f, min ppm %"
 863      7220616E 
 863      64207374 
 863      6F702C20 
 863      74656D70 
 864 008b 2E32660A 		.ascii	".2f\012\000"
 864      00
 865              		.section	.text.rtc_freq_save,"ax",%progbits
 866              		.align	1
 867              		.global	rtc_freq_save
 868              		.syntax unified
 869              		.thumb
 870              		.thumb_func
 872              	rtc_freq_save:
 873              	.LVL57:
 874              	.LFB241:
 198:App/Src/task.c **** 
 199:App/Src/task.c **** void rtc_freq_save(uint8_t mode,  float cap, float ppm)
 200:App/Src/task.c **** {
 875              		.loc 1 200 1 is_stmt 1 view -0
 876              		.cfi_startproc
 877              		@ args = 0, pretend = 0, frame = 8
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              		.loc 1 200 1 is_stmt 0 view .LVU234
 880 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 881              	.LCFI11:
 882              		.cfi_def_cfa_offset 36
 883              		.cfi_offset 4, -36
 884              		.cfi_offset 5, -32
 885              		.cfi_offset 6, -28
 886              		.cfi_offset 7, -24
 887              		.cfi_offset 8, -20
 888              		.cfi_offset 9, -16
 889              		.cfi_offset 10, -12
 890              		.cfi_offset 11, -8
 891              		.cfi_offset 14, -4
 892 0004 2DED028B 		vpush.64	{d8}
 893              	.LCFI12:
 894              		.cfi_def_cfa_offset 44
 895              		.cfi_offset 80, -44
 896              		.cfi_offset 81, -40
 897 0008 87B0     		sub	sp, sp, #28
 898              	.LCFI13:
 899              		.cfi_def_cfa_offset 72
 900 000a 0446     		mov	r4, r0
 901 000c 10EE105A 		vmov	r5, s0
 902 0010 10EE90AA 		vmov	r10, s1
 201:App/Src/task.c ****     float temp, rtcTemp = 0, centerTemp;
 903              		.loc 1 201 5 is_stmt 1 view .LVU235
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 23


 904              	.LVL58:
 202:App/Src/task.c ****     uint32_t address;
 905              		.loc 1 202 5 view .LVU236
 203:App/Src/task.c ****     uint8_t buffer[4] = {0};
 906              		.loc 1 203 5 view .LVU237
 907              		.loc 1 203 13 is_stmt 0 view .LVU238
 908 0014 0023     		movs	r3, #0
 909 0016 0493     		str	r3, [sp, #16]
 204:App/Src/task.c ****     uint8_t check = 0;
 910              		.loc 1 204 5 is_stmt 1 view .LVU239
 911              	.LVL59:
 205:App/Src/task.c **** 
 206:App/Src/task.c ****     address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TE
 912              		.loc 1 206 5 view .LVU240
 913              		.loc 1 206 52 is_stmt 0 view .LVU241
 914 0018 814B     		ldr	r3, .L65
 915 001a 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 916              		.loc 1 206 38 view .LVU242
 917 001c 0733     		adds	r3, r3, #7
 918 001e 5B02     		lsls	r3, r3, #9
 919              	.LVL60:
 207:App/Src/task.c ****     flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 920              		.loc 1 207 5 is_stmt 1 view .LVU243
 921 0020 0422     		movs	r2, #4
 922 0022 04A9     		add	r1, sp, #16
 923 0024 03F11000 		add	r0, r3, #16
 924              	.LVL61:
 925              		.loc 1 207 5 is_stmt 0 view .LVU244
 926 0028 FFF7FEFF 		bl	flash_read_data
 927              	.LVL62:
 208:App/Src/task.c ****     uint8_to_float(&centerTemp, buffer);//类型转换为float
 928              		.loc 1 208 5 is_stmt 1 view .LVU245
 929 002c 04A9     		add	r1, sp, #16
 930 002e 05A8     		add	r0, sp, #20
 931 0030 FFF7FEFF 		bl	uint8_to_float
 932              	.LVL63:
 209:App/Src/task.c ****     if (mode == CAP_ADJUST_SUCCESS) {
 933              		.loc 1 209 5 view .LVU246
 934              		.loc 1 209 8 is_stmt 0 view .LVU247
 935 0034 022C     		cmp	r4, #2
 936 0036 07D0     		beq	.L63
 937              	.LVL64:
 938              	.L48:
 210:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 211:App/Src/task.c ****         rtcTemp = g_capAdjust.temp;
 212:App/Src/task.c ****     
 213:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 214:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 215:App/Src/task.c ****                 check = 1;
 216:App/Src/task.c ****             } 
 217:App/Src/task.c ****         } else {
 218:App/Src/task.c ****             if ((centerTemp - rtcTemp) * 0.5 > (25.0 - temp - 8) && (centerTemp - rtcTemp) * 0.5 < 
 219:App/Src/task.c ****                 check = 1;
 220:App/Src/task.c ****             } 
 221:App/Src/task.c ****         }
 222:App/Src/task.c ****         if (check == 1) {
 223:App/Src/task.c ****         // g_capAdjust.flag = CAP_ADJUST_SUCCESS;  等待中心温度点计算
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 24


 224:App/Src/task.c ****             g_capAdjust.cap = cap;
 225:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 226:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 227:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 228:App/Src/task.c ****         } else {
 229:App/Src/task.c ****             g_capAdjust.flag = CAP_ADJUST_ERROR;
 230:App/Src/task.c ****             g_capAdjust.cap = 0;
 231:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 232:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 233:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 234:App/Src/task.c ****         }
 235:App/Src/task.c ****     } 
 236:App/Src/task.c **** 
 237:App/Src/task.c ****     if (mode == CAP_ADJUST_ERROR) {
 939              		.loc 1 237 5 is_stmt 1 view .LVU248
 940              		.loc 1 237 8 is_stmt 0 view .LVU249
 941 0038 012C     		cmp	r4, #1
 942 003a 00F0C180 		beq	.L64
 943              	.L47:
 238:App/Src/task.c ****         g_capAdjust.flag = CAP_ADJUST_ERROR;
 239:App/Src/task.c ****         g_capAdjust.cap = 0;
 240:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 241:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 242:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 243:App/Src/task.c ****     }
 244:App/Src/task.c **** }
 944              		.loc 1 244 1 view .LVU250
 945 003e 07B0     		add	sp, sp, #28
 946              	.LCFI14:
 947              		.cfi_remember_state
 948              		.cfi_def_cfa_offset 44
 949              		@ sp needed
 950 0040 BDEC028B 		vldm	sp!, {d8}
 951              	.LCFI15:
 952              		.cfi_restore 80
 953              		.cfi_restore 81
 954              		.cfi_def_cfa_offset 36
 955 0044 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 956              	.LVL65:
 957              	.L63:
 958              	.LCFI16:
 959              		.cfi_restore_state
 210:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 960              		.loc 1 210 9 is_stmt 1 view .LVU251
 210:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 961              		.loc 1 210 16 is_stmt 0 view .LVU252
 962 0048 0120     		movs	r0, #1
 963 004a FFF7FEFF 		bl	temp_read_value
 964              	.LVL66:
 965 004e B0EE408A 		vmov.f32	s16, s0
 966              	.LVL67:
 211:App/Src/task.c ****     
 967              		.loc 1 211 9 is_stmt 1 view .LVU253
 211:App/Src/task.c ****     
 968              		.loc 1 211 17 is_stmt 0 view .LVU254
 969 0052 734B     		ldr	r3, .L65
 970 0054 D3F808B0 		ldr	fp, [r3, #8]	@ float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 25


 971              	.LVL68:
 213:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 972              		.loc 1 213 9 is_stmt 1 view .LVU255
 213:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 973              		.loc 1 213 12 is_stmt 0 view .LVU256
 974 0058 DFED727A 		vldr.32	s15, .L65+4
 975 005c B4EEE70A 		vcmpe.f32	s0, s15
 976 0060 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 977 0064 40D5     		bpl	.L49
 213:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 978              		.loc 1 213 23 discriminator 1 view .LVU257
 979 0066 F2EE0E7A 		vmov.f32	s15, #1.5e+1
 980 006a B4EEE70A 		vcmpe.f32	s0, s15
 981 006e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 982 0072 39DD     		ble	.L49
 214:App/Src/task.c ****                 check = 1;
 983              		.loc 1 214 13 is_stmt 1 view .LVU258
 214:App/Src/task.c ****                 check = 1;
 984              		.loc 1 214 26 is_stmt 0 view .LVU259
 985 0074 5846     		mov	r0, fp	@ float
 986 0076 FFF7FEFF 		bl	__aeabi_f2d
 987              	.LVL69:
 214:App/Src/task.c ****                 check = 1;
 988              		.loc 1 214 26 view .LVU260
 989 007a 0022     		movs	r2, #0
 990 007c 6A4B     		ldr	r3, .L65+8
 991 007e FFF7FEFF 		bl	__aeabi_dmul
 992              	.LVL70:
 993 0082 0646     		mov	r6, r0
 994 0084 0F46     		mov	r7, r1
 214:App/Src/task.c ****                 check = 1;
 995              		.loc 1 214 32 view .LVU261
 996 0086 18EE100A 		vmov	r0, s16
 997 008a FFF7FEFF 		bl	__aeabi_f2d
 998              	.LVL71:
 999 008e 0246     		mov	r2, r0
 1000 0090 0B46     		mov	r3, r1
 1001 0092 3046     		mov	r0, r6
 1002 0094 3946     		mov	r1, r7
 1003 0096 FFF7FEFF 		bl	__aeabi_dsub
 1004              	.LVL72:
 1005 009a 0646     		mov	r6, r0
 1006 009c 0F46     		mov	r7, r1
 214:App/Src/task.c ****                 check = 1;
 1007              		.loc 1 214 16 view .LVU262
 1008 009e 0022     		movs	r2, #0
 1009 00a0 624B     		ldr	r3, .L65+12
 1010 00a2 FFF7FEFF 		bl	__aeabi_dcmpgt
 1011              	.LVL73:
 1012 00a6 38B1     		cbz	r0, .L52
 214:App/Src/task.c ****                 check = 1;
 1013              		.loc 1 214 45 discriminator 1 view .LVU263
 1014 00a8 0022     		movs	r2, #0
 1015 00aa 614B     		ldr	r3, .L65+16
 1016 00ac 3046     		mov	r0, r6
 1017 00ae 3946     		mov	r1, r7
 1018 00b0 FFF7FEFF 		bl	__aeabi_dcmplt
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 26


 1019              	.LVL74:
 1020 00b4 0028     		cmp	r0, #0
 1021 00b6 4DD1     		bne	.L54
 1022              	.L52:
 1023              	.LVL75:
 229:App/Src/task.c ****             g_capAdjust.cap = 0;
 1024              		.loc 1 229 13 is_stmt 1 view .LVU264
 229:App/Src/task.c ****             g_capAdjust.cap = 0;
 1025              		.loc 1 229 30 is_stmt 0 view .LVU265
 1026 00b8 594B     		ldr	r3, .L65
 1027 00ba 0122     		movs	r2, #1
 1028 00bc 1A70     		strb	r2, [r3]
 230:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 1029              		.loc 1 230 13 is_stmt 1 view .LVU266
 230:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 1030              		.loc 1 230 29 is_stmt 0 view .LVU267
 1031 00be 0022     		movs	r2, #0
 1032 00c0 5A60     		str	r2, [r3, #4]	@ float
 231:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1033              		.loc 1 231 13 is_stmt 1 view .LVU268
 231:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1034              		.loc 1 231 29 is_stmt 0 view .LVU269
 1035 00c2 5C4A     		ldr	r2, .L65+20
 1036 00c4 DA60     		str	r2, [r3, #12]	@ float
 232:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1037              		.loc 1 232 13 is_stmt 1 view .LVU270
 1038 00c6 5846     		mov	r0, fp	@ float
 1039 00c8 FFF7FEFF 		bl	__aeabi_f2d
 1040              	.LVL76:
 1041 00cc 0646     		mov	r6, r0
 1042 00ce 0F46     		mov	r7, r1
 1043 00d0 594D     		ldr	r5, .L65+24
 1044              	.LVL77:
 232:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1045              		.loc 1 232 13 is_stmt 0 view .LVU271
 1046 00d2 0246     		mov	r2, r0
 1047 00d4 0B46     		mov	r3, r1
 1048 00d6 2846     		mov	r0, r5
 1049 00d8 FFF7FEFF 		bl	UsbPrintf
 1050              	.LVL78:
 233:App/Src/task.c ****         }
 1051              		.loc 1 233 13 is_stmt 1 view .LVU272
 1052 00dc 3246     		mov	r2, r6
 1053 00de 3B46     		mov	r3, r7
 1054 00e0 2846     		mov	r0, r5
 1055 00e2 FFF7FEFF 		bl	log_printf
 1056              	.LVL79:
 1057 00e6 A7E7     		b	.L48
 1058              	.LVL80:
 1059              	.L49:
 218:App/Src/task.c ****                 check = 1;
 1060              		.loc 1 218 13 view .LVU273
 218:App/Src/task.c ****                 check = 1;
 1061              		.loc 1 218 29 is_stmt 0 view .LVU274
 1062 00e8 DDED057A 		vldr.32	s15, [sp, #20]
 1063 00ec 07EE10BA 		vmov	s14, fp
 1064 00f0 77EEC77A 		vsub.f32	s15, s15, s14
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 27


 1065 00f4 17EE900A 		vmov	r0, s15
 1066 00f8 FFF7FEFF 		bl	__aeabi_f2d
 1067              	.LVL81:
 218:App/Src/task.c ****                 check = 1;
 1068              		.loc 1 218 40 view .LVU275
 1069 00fc 0022     		movs	r2, #0
 1070 00fe 4A4B     		ldr	r3, .L65+8
 1071 0100 FFF7FEFF 		bl	__aeabi_dmul
 1072              	.LVL82:
 1073 0104 0646     		mov	r6, r0
 1074 0106 0F46     		mov	r7, r1
 218:App/Src/task.c ****                 check = 1;
 1075              		.loc 1 218 54 view .LVU276
 1076 0108 18EE100A 		vmov	r0, s16
 1077 010c FFF7FEFF 		bl	__aeabi_f2d
 1078              	.LVL83:
 1079 0110 0246     		mov	r2, r0
 1080 0112 0B46     		mov	r3, r1
 1081 0114 0020     		movs	r0, #0
 1082 0116 4949     		ldr	r1, .L65+28
 1083 0118 FFF7FEFF 		bl	__aeabi_dsub
 1084              	.LVL84:
 1085 011c 8046     		mov	r8, r0
 1086 011e 8946     		mov	r9, r1
 218:App/Src/task.c ****                 check = 1;
 1087              		.loc 1 218 61 view .LVU277
 1088 0120 0022     		movs	r2, #0
 1089 0122 474B     		ldr	r3, .L65+32
 1090 0124 FFF7FEFF 		bl	__aeabi_dsub
 1091              	.LVL85:
 1092 0128 0246     		mov	r2, r0
 1093 012a 0B46     		mov	r3, r1
 218:App/Src/task.c ****                 check = 1;
 1094              		.loc 1 218 16 view .LVU278
 1095 012c 3046     		mov	r0, r6
 1096 012e 3946     		mov	r1, r7
 1097 0130 FFF7FEFF 		bl	__aeabi_dcmpgt
 1098              	.LVL86:
 1099 0134 0028     		cmp	r0, #0
 1100 0136 BFD0     		beq	.L52
 218:App/Src/task.c ****                 check = 1;
 1101              		.loc 1 218 113 discriminator 1 view .LVU279
 1102 0138 0022     		movs	r2, #0
 1103 013a 414B     		ldr	r3, .L65+32
 1104 013c 4046     		mov	r0, r8
 1105 013e 4946     		mov	r1, r9
 1106 0140 FFF7FEFF 		bl	__aeabi_dadd
 1107              	.LVL87:
 1108 0144 0246     		mov	r2, r0
 1109 0146 0B46     		mov	r3, r1
 218:App/Src/task.c ****                 check = 1;
 1110              		.loc 1 218 66 discriminator 1 view .LVU280
 1111 0148 3046     		mov	r0, r6
 1112 014a 3946     		mov	r1, r7
 1113 014c FFF7FEFF 		bl	__aeabi_dcmplt
 1114              	.LVL88:
 1115 0150 0028     		cmp	r0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 28


 1116 0152 B1D0     		beq	.L52
 1117              	.L54:
 1118              	.LVL89:
 224:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 1119              		.loc 1 224 13 is_stmt 1 view .LVU281
 224:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 1120              		.loc 1 224 29 is_stmt 0 view .LVU282
 1121 0154 DFF8C880 		ldr	r8, .L65
 1122 0158 C8F80450 		str	r5, [r8, #4]	@ float
 225:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 1123              		.loc 1 225 13 is_stmt 1 view .LVU283
 225:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 1124              		.loc 1 225 29 is_stmt 0 view .LVU284
 1125 015c C8F80CA0 		str	r10, [r8, #12]	@ float
 226:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 1126              		.loc 1 226 13 is_stmt 1 view .LVU285
 1127 0160 5846     		mov	r0, fp	@ float
 1128 0162 FFF7FEFF 		bl	__aeabi_f2d
 1129              	.LVL90:
 1130 0166 0646     		mov	r6, r0
 1131 0168 0F46     		mov	r7, r1
 1132 016a DFF8E090 		ldr	r9, .L65+44
 1133 016e 5046     		mov	r0, r10	@ float
 1134 0170 FFF7FEFF 		bl	__aeabi_f2d
 1135              	.LVL91:
 1136 0174 CDE90201 		strd	r0, [sp, #8]
 1137 0178 2846     		mov	r0, r5	@ float
 1138 017a FFF7FEFF 		bl	__aeabi_f2d
 1139              	.LVL92:
 1140 017e CDE90001 		strd	r0, [sp]
 1141 0182 3246     		mov	r2, r6
 1142 0184 3B46     		mov	r3, r7
 1143 0186 4846     		mov	r0, r9
 1144 0188 FFF7FEFF 		bl	UsbPrintf
 1145              	.LVL93:
 227:App/Src/task.c ****         } else {
 1146              		.loc 1 227 13 view .LVU286
 227:App/Src/task.c ****         } else {
 1147              		.loc 1 227 106 is_stmt 0 view .LVU287
 1148 018c D8F80450 		ldr	r5, [r8, #4]	@ float
 1149              	.LVL94:
 227:App/Src/task.c ****         } else {
 1150              		.loc 1 227 124 view .LVU288
 1151 0190 D8F80CA0 		ldr	r10, [r8, #12]	@ float
 1152              	.LVL95:
 227:App/Src/task.c ****         } else {
 1153              		.loc 1 227 13 view .LVU289
 1154 0194 D8F80800 		ldr	r0, [r8, #8]	@ float
 1155 0198 FFF7FEFF 		bl	__aeabi_f2d
 1156              	.LVL96:
 1157 019c 0646     		mov	r6, r0
 1158 019e 0F46     		mov	r7, r1
 1159 01a0 5046     		mov	r0, r10	@ float
 1160 01a2 FFF7FEFF 		bl	__aeabi_f2d
 1161              	.LVL97:
 1162 01a6 CDE90201 		strd	r0, [sp, #8]
 1163 01aa 2846     		mov	r0, r5	@ float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 29


 1164 01ac FFF7FEFF 		bl	__aeabi_f2d
 1165              	.LVL98:
 1166 01b0 CDE90001 		strd	r0, [sp]
 1167 01b4 3246     		mov	r2, r6
 1168 01b6 3B46     		mov	r3, r7
 1169 01b8 4846     		mov	r0, r9
 1170 01ba FFF7FEFF 		bl	log_printf
 1171              	.LVL99:
 1172 01be 3BE7     		b	.L48
 1173              	.LVL100:
 1174              	.L64:
 238:App/Src/task.c ****         g_capAdjust.cap = 0;
 1175              		.loc 1 238 9 is_stmt 1 view .LVU290
 238:App/Src/task.c ****         g_capAdjust.cap = 0;
 1176              		.loc 1 238 26 is_stmt 0 view .LVU291
 1177 01c0 174C     		ldr	r4, .L65
 1178 01c2 0123     		movs	r3, #1
 1179 01c4 2370     		strb	r3, [r4]
 239:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 1180              		.loc 1 239 9 is_stmt 1 view .LVU292
 239:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 1181              		.loc 1 239 25 is_stmt 0 view .LVU293
 1182 01c6 0023     		movs	r3, #0
 1183 01c8 6360     		str	r3, [r4, #4]	@ float
 240:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 1184              		.loc 1 240 9 is_stmt 1 view .LVU294
 240:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 1185              		.loc 1 240 25 is_stmt 0 view .LVU295
 1186 01ca 1A4B     		ldr	r3, .L65+20
 1187 01cc E360     		str	r3, [r4, #12]	@ float
 241:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 1188              		.loc 1 241 9 is_stmt 1 view .LVU296
 1189 01ce A068     		ldr	r0, [r4, #8]	@ float
 1190 01d0 FFF7FEFF 		bl	__aeabi_f2d
 1191              	.LVL101:
 1192 01d4 0246     		mov	r2, r0
 1193 01d6 0B46     		mov	r3, r1
 1194 01d8 1A4E     		ldr	r6, .L65+36
 1195 01da 0020     		movs	r0, #0
 1196 01dc 1A49     		ldr	r1, .L65+40
 1197 01de CDE90201 		strd	r0, [sp, #8]
 1198 01e2 0020     		movs	r0, #0
 1199 01e4 0021     		movs	r1, #0
 1200 01e6 CDE90001 		strd	r0, [sp]
 1201 01ea 3046     		mov	r0, r6
 1202 01ec FFF7FEFF 		bl	UsbPrintf
 1203              	.LVL102:
 242:App/Src/task.c ****     }
 1204              		.loc 1 242 9 view .LVU297
 242:App/Src/task.c ****     }
 1205              		.loc 1 242 109 is_stmt 0 view .LVU298
 1206 01f0 6768     		ldr	r7, [r4, #4]	@ float
 242:App/Src/task.c ****     }
 1207              		.loc 1 242 127 view .LVU299
 1208 01f2 D4F80C80 		ldr	r8, [r4, #12]	@ float
 242:App/Src/task.c ****     }
 1209              		.loc 1 242 9 view .LVU300
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 30


 1210 01f6 A068     		ldr	r0, [r4, #8]	@ float
 1211 01f8 FFF7FEFF 		bl	__aeabi_f2d
 1212              	.LVL103:
 1213 01fc 0446     		mov	r4, r0
 1214 01fe 0D46     		mov	r5, r1
 1215 0200 4046     		mov	r0, r8	@ float
 1216 0202 FFF7FEFF 		bl	__aeabi_f2d
 1217              	.LVL104:
 1218 0206 CDE90201 		strd	r0, [sp, #8]
 1219 020a 3846     		mov	r0, r7	@ float
 1220 020c FFF7FEFF 		bl	__aeabi_f2d
 1221              	.LVL105:
 1222 0210 CDE90001 		strd	r0, [sp]
 1223 0214 2246     		mov	r2, r4
 1224 0216 2B46     		mov	r3, r5
 1225 0218 3046     		mov	r0, r6
 1226 021a FFF7FEFF 		bl	log_printf
 1227              	.LVL106:
 1228              		.loc 1 244 1 view .LVU301
 1229 021e 0EE7     		b	.L47
 1230              	.L66:
 1231              		.align	2
 1232              	.L65:
 1233 0220 00000000 		.word	g_capAdjust
 1234 0224 00000C42 		.word	1108082688
 1235 0228 0000E03F 		.word	1071644672
 1236 022c 00805140 		.word	1079083008
 1237 0230 00406040 		.word	1080049664
 1238 0234 00007A44 		.word	1148846080
 1239 0238 34000000 		.word	.LC10
 1240 023c 00003940 		.word	1077477376
 1241 0240 00002040 		.word	1075838976
 1242 0244 58000000 		.word	.LC11
 1243 0248 00408F40 		.word	1083129856
 1244 024c 00000000 		.word	.LC9
 1245              		.cfi_endproc
 1246              	.LFE241:
 1248              		.section	.rodata.rtc_freq_test.str1.4,"aMS",%progbits,1
 1249              		.align	2
 1250              	.LC12:
 1251 0000 73797374 		.ascii	"system temp:%.1f set init cap %.0f, adjust start..."
 1251      656D2074 
 1251      656D703A 
 1251      252E3166 
 1251      20736574 
 1252 0033 0A00     		.ascii	"\012\000"
 1253 0035 000000   		.align	2
 1254              	.LC13:
 1255 0038 63617020 		.ascii	"cap adjust fail, i2c error\012\000"
 1255      61646A75 
 1255      73742066 
 1255      61696C2C 
 1255      20693263 
 1256              		.align	2
 1257              	.LC14:
 1258 0054 6361705B 		.ascii	"cap[%.1f], %fHz, %.2fppm\012\000"
 1258      252E3166 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 31


 1258      5D2C2025 
 1258      66487A2C 
 1258      20252E32 
 1259 006e 0000     		.align	2
 1260              	.LC15:
 1261 0070 64657669 		.ascii	"device no response\012\000"
 1261      6365206E 
 1261      6F207265 
 1261      73706F6E 
 1261      73650A00 
 1262              		.align	2
 1263              	.LC16:
 1264 0084 63656E74 		.ascii	"center cap in %.1f : %.2fppm\012\000"
 1264      65722063 
 1264      61702069 
 1264      6E20252E 
 1264      3166203A 
 1265              		.section	.text.rtc_freq_test,"ax",%progbits
 1266              		.align	1
 1267              		.global	rtc_freq_test
 1268              		.syntax unified
 1269              		.thumb
 1270              		.thumb_func
 1272              	rtc_freq_test:
 1273              	.LVL107:
 1274              	.LFB242:
 245:App/Src/task.c ****  
 246:App/Src/task.c **** void rtc_freq_test(int mode)
 247:App/Src/task.c **** {
 1275              		.loc 1 247 1 is_stmt 1 view -0
 1276              		.cfi_startproc
 1277              		@ args = 0, pretend = 0, frame = 16
 1278              		@ frame_needed = 0, uses_anonymous_args = 0
 1279              		.loc 1 247 1 is_stmt 0 view .LVU303
 1280 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1281              	.LCFI17:
 1282              		.cfi_def_cfa_offset 20
 1283              		.cfi_offset 4, -20
 1284              		.cfi_offset 5, -16
 1285              		.cfi_offset 6, -12
 1286              		.cfi_offset 7, -8
 1287              		.cfi_offset 14, -4
 1288 0002 2DED028B 		vpush.64	{d8}
 1289              	.LCFI18:
 1290              		.cfi_def_cfa_offset 28
 1291              		.cfi_offset 80, -28
 1292              		.cfi_offset 81, -24
 1293 0006 89B0     		sub	sp, sp, #36
 1294              	.LCFI19:
 1295              		.cfi_def_cfa_offset 64
 248:App/Src/task.c ****     static int testState = 0;
 1296              		.loc 1 248 5 is_stmt 1 view .LVU304
 249:App/Src/task.c ****     static uint8_t responseCount = 0;
 1297              		.loc 1 249 5 view .LVU305
 250:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 1298              		.loc 1 250 5 view .LVU306
 251:App/Src/task.c ****     float temp, ppm;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 32


 1299              		.loc 1 251 5 view .LVU307
 252:App/Src/task.c **** 	uint8_t cap[2] = {0};
 1300              		.loc 1 252 2 view .LVU308
 1301              		.loc 1 252 10 is_stmt 0 view .LVU309
 1302 0008 0023     		movs	r3, #0
 1303 000a ADF81830 		strh	r3, [sp, #24]	@ movhi
 253:App/Src/task.c ****     static float lastCap = 11;
 1304              		.loc 1 253 5 is_stmt 1 view .LVU310
 254:App/Src/task.c ****     static float minPpm = 1000;
 1305              		.loc 1 254 5 view .LVU311
 255:App/Src/task.c ****     static float minCap = 0;
 1306              		.loc 1 255 5 view .LVU312
 256:App/Src/task.c ****     static uint8_t adjustCount = 0;
 1307              		.loc 1 256 5 view .LVU313
 257:App/Src/task.c ****     uint32_t address;
 1308              		.loc 1 257 5 view .LVU314
 258:App/Src/task.c ****     uint8_t buffer[4] = {0xff};
 1309              		.loc 1 258 5 view .LVU315
 1310              		.loc 1 258 13 is_stmt 0 view .LVU316
 1311 000e FF23     		movs	r3, #255
 1312 0010 0593     		str	r3, [sp, #20]
 259:App/Src/task.c **** 
 260:App/Src/task.c ****     if (mode == FREQ_TEST_STARTING) {
 1313              		.loc 1 260 5 is_stmt 1 view .LVU317
 1314              		.loc 1 260 8 is_stmt 0 view .LVU318
 1315 0012 0128     		cmp	r0, #1
 1316 0014 0CD0     		beq	.L137
 261:App/Src/task.c ****         testState = 1;
 262:App/Src/task.c ****         return;
 263:App/Src/task.c ****     }
 264:App/Src/task.c **** 
 265:App/Src/task.c ****     switch (testState) {
 1317              		.loc 1 265 5 is_stmt 1 view .LVU319
 1318 0016 B84B     		ldr	r3, .L143+8
 1319 0018 1B68     		ldr	r3, [r3]
 1320 001a 013B     		subs	r3, r3, #1
 1321 001c 052B     		cmp	r3, #5
 1322 001e 0AD8     		bhi	.L67
 1323 0020 DFE813F0 		tbh	[pc, r3, lsl #1]
 1324              	.L72:
 1325 0024 0D00     		.2byte	(.L77-.L72)/2
 1326 0026 4A00     		.2byte	(.L76-.L72)/2
 1327 0028 5A00     		.2byte	(.L75-.L72)/2
 1328 002a D401     		.2byte	(.L74-.L72)/2
 1329 002c 2802     		.2byte	(.L73-.L72)/2
 1330 002e 3902     		.2byte	(.L71-.L72)/2
 1331              		.p2align 1
 1332              	.L137:
 261:App/Src/task.c ****         testState = 1;
 1333              		.loc 1 261 9 view .LVU320
 261:App/Src/task.c ****         testState = 1;
 1334              		.loc 1 261 19 is_stmt 0 view .LVU321
 1335 0030 B14B     		ldr	r3, .L143+8
 1336 0032 0122     		movs	r2, #1
 1337 0034 1A60     		str	r2, [r3]
 262:App/Src/task.c ****     }
 1338              		.loc 1 262 9 is_stmt 1 view .LVU322
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 33


 1339              	.LVL108:
 1340              	.L67:
 266:App/Src/task.c ****         case 0:  break;
 267:App/Src/task.c ****         case 1:
 268:App/Src/task.c ****             temp = temp_read_value(1);// read system temp
 269:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 270:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 271:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 272:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 273:App/Src/task.c ****                 minPpm = 1000;
 274:App/Src/task.c ****                 testState = 2;
 275:App/Src/task.c ****                 adjustCount = 1;
 276:App/Src/task.c ****             } else {
 277:App/Src/task.c ****                 UsbPrintf("cap adjust fail, i2c error\n");
 278:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 279:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 280:App/Src/task.c ****                 testState = 0;
 281:App/Src/task.c ****             }
 282:App/Src/task.c ****         break;
 283:App/Src/task.c ****         case 2:
 284:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 285:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 286:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 287:App/Src/task.c ****             responseCount = 0;
 288:App/Src/task.c ****             testState = 3;
 289:App/Src/task.c ****         break;
 290:App/Src/task.c ****         case 3:
 291:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 292:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 293:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 294:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 295:App/Src/task.c ****                     testState = 4;
 296:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 297:App/Src/task.c ****                     break;
 298:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 299:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 300:App/Src/task.c ****                         minPpm = ppm;
 301:App/Src/task.c ****                         minCap = lastCap;
 302:App/Src/task.c ****                     }
 303:App/Src/task.c ****                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
 304:App/Src/task.c ****                         testState = 4;
 305:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 306:App/Src/task.c ****                         break;
 307:App/Src/task.c ****                     }
 308:App/Src/task.c ****                 } else {
 309:App/Src/task.c ****                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_LIST
 310:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 311:App/Src/task.c ****                         testState = 0;
 312:App/Src/task.c ****                         break;
 313:App/Src/task.c ****                     } 
 314:App/Src/task.c ****                 }
 315:App/Src/task.c ****                 if (fabs(ppm) < fabs(minPpm)) {
 316:App/Src/task.c ****                     minPpm = ppm;
 317:App/Src/task.c ****                     minCap = lastCap;
 318:App/Src/task.c ****                 }
 319:App/Src/task.c ****                 //---------------异常次数限制，避免卡死在该环节-----------------------
 320:App/Src/task.c ****                 adjustCount++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 34


 321:App/Src/task.c ****                 if (adjustCount > 10) { 
 322:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 323:App/Src/task.c ****                     testState = 0;
 324:App/Src/task.c ****                     break;
 325:App/Src/task.c ****                 }//---------------------------------------------------------
 326:App/Src/task.c ****                 if (0 < ppm && ppm < 1) {
 327:App/Src/task.c ****                     lastCap += 1;
 328:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 329:App/Src/task.c ****                     lastCap -= 1;
 330:App/Src/task.c ****                 } else {
 331:App/Src/task.c ****                     lastCap = lastCap + ppm * 2.5;
 332:App/Src/task.c ****                 }
 333:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);
 334:App/Src/task.c ****                 rtc_set_testcap(cap);
 335:App/Src/task.c ****                 testState = 2;
 336:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 337:App/Src/task.c ****                 UsbPrintf("device no response\n");
 338:App/Src/task.c ****                 log_printf("device no response\n");             
 339:App/Src/task.c ****                 responseCount++;
 340:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 341:App/Src/task.c ****                     testState = 0;
 342:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 343:App/Src/task.c ****                 } else {
 344:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 345:App/Src/task.c ****                 }
 346:App/Src/task.c ****             }
 347:App/Src/task.c ****         break;
 348:App/Src/task.c ****         case 4:
 349:App/Src/task.c ****             temp = temp_read_value(1);
 350:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 351:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 352:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 353:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 354:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 355:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 356:App/Src/task.c ****                     testState++;
 357:App/Src/task.c ****                 } else {
 358:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 359:App/Src/task.c ****                     testState = 0;
 360:App/Src/task.c ****                 }
 361:App/Src/task.c ****             } else {//不是-10和60度的点，调试正常退出
 362:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 363:App/Src/task.c ****                 testState = 0;
 364:App/Src/task.c ****             }
 365:App/Src/task.c ****         break;
 366:App/Src/task.c ****         case 5:
 367:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 368:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 369:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 370:App/Src/task.c ****             responseCount = 0;
 371:App/Src/task.c ****             testState++;
 372:App/Src/task.c ****         break;
 373:App/Src/task.c ****         case 6:
 374:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 375:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 376:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 377:App/Src/task.c ****                 temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 35


 378:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 379:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 380:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 381:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 382:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 383:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 384:App/Src/task.c ****                 testState = 0;
 385:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 386:App/Src/task.c ****                 UsbPrintf("device no response\n");
 387:App/Src/task.c ****                 log_printf("device no response\n");             
 388:App/Src/task.c ****                 responseCount++;
 389:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 390:App/Src/task.c ****                     testState = 0;
 391:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 392:App/Src/task.c ****                 } else {
 393:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 394:App/Src/task.c ****                 }
 395:App/Src/task.c ****             }
 396:App/Src/task.c ****         break;
 397:App/Src/task.c ****         default:  break;
 398:App/Src/task.c ****     }
 399:App/Src/task.c **** }
 1341              		.loc 1 399 1 is_stmt 0 view .LVU323
 1342 0036 09B0     		add	sp, sp, #36
 1343              	.LCFI20:
 1344              		.cfi_remember_state
 1345              		.cfi_def_cfa_offset 28
 1346              		@ sp needed
 1347 0038 BDEC028B 		vldm	sp!, {d8}
 1348              	.LCFI21:
 1349              		.cfi_restore 80
 1350              		.cfi_restore 81
 1351              		.cfi_def_cfa_offset 20
 1352 003c F0BD     		pop	{r4, r5, r6, r7, pc}
 1353              	.LVL109:
 1354              	.L77:
 1355              	.LCFI22:
 1356              		.cfi_restore_state
 268:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1357              		.loc 1 268 13 is_stmt 1 view .LVU324
 268:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1358              		.loc 1 268 20 is_stmt 0 view .LVU325
 1359 003e 0120     		movs	r0, #1
 1360              	.LVL110:
 268:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1361              		.loc 1 268 20 view .LVU326
 1362 0040 FFF7FEFF 		bl	temp_read_value
 1363              	.LVL111:
 1364 0044 10EE104A 		vmov	r4, s0
 1365              	.LVL112:
 269:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1366              		.loc 1 269 13 is_stmt 1 view .LVU327
 269:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1367              		.loc 1 269 23 is_stmt 0 view .LVU328
 1368 0048 FFF7FEFF 		bl	rtc_init_test_cap
 1369              	.LVL113:
 1370 004c 07EE900A 		vmov	s15, r0	@ int
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 36


 269:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1371              		.loc 1 269 21 view .LVU329
 1372 0050 F8EE677A 		vcvt.f32.u32	s15, s15
 1373 0054 A94B     		ldr	r3, .L143+12
 1374 0056 C3ED007A 		vstr.32	s15, [r3]
 270:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 1375              		.loc 1 270 13 is_stmt 1 view .LVU330
 1376 005a 06A9     		add	r1, sp, #24
 1377 005c FFF7FEFF 		bl	cap_list_to_uint
 1378              	.LVL114:
 271:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1379              		.loc 1 271 13 view .LVU331
 271:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1380              		.loc 1 271 17 is_stmt 0 view .LVU332
 1381 0060 06A8     		add	r0, sp, #24
 1382 0062 FFF7FEFF 		bl	rtc_set_testcap
 1383              	.LVL115:
 271:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1384              		.loc 1 271 16 view .LVU333
 1385 0066 C8B9     		cbnz	r0, .L78
 272:App/Src/task.c ****                 minPpm = 1000;
 1386              		.loc 1 272 17 is_stmt 1 view .LVU334
 1387 0068 2046     		mov	r0, r4	@ float
 1388 006a FFF7FEFF 		bl	__aeabi_f2d
 1389              	.LVL116:
 1390 006e 0446     		mov	r4, r0
 1391              	.LVL117:
 272:App/Src/task.c ****                 minPpm = 1000;
 1392              		.loc 1 272 17 is_stmt 0 view .LVU335
 1393 0070 0D46     		mov	r5, r1
 1394 0072 A24B     		ldr	r3, .L143+12
 1395 0074 1868     		ldr	r0, [r3]	@ float
 1396 0076 FFF7FEFF 		bl	__aeabi_f2d
 1397              	.LVL118:
 1398 007a CDE90001 		strd	r0, [sp]
 1399 007e 2246     		mov	r2, r4
 1400 0080 2B46     		mov	r3, r5
 1401 0082 9F48     		ldr	r0, .L143+16
 1402 0084 FFF7FEFF 		bl	UsbPrintf
 1403              	.LVL119:
 273:App/Src/task.c ****                 testState = 2;
 1404              		.loc 1 273 17 is_stmt 1 view .LVU336
 273:App/Src/task.c ****                 testState = 2;
 1405              		.loc 1 273 24 is_stmt 0 view .LVU337
 1406 0088 9E4B     		ldr	r3, .L143+20
 1407 008a 9F4A     		ldr	r2, .L143+24
 1408 008c 1A60     		str	r2, [r3]	@ float
 274:App/Src/task.c ****                 adjustCount = 1;
 1409              		.loc 1 274 17 is_stmt 1 view .LVU338
 274:App/Src/task.c ****                 adjustCount = 1;
 1410              		.loc 1 274 27 is_stmt 0 view .LVU339
 1411 008e 9A4B     		ldr	r3, .L143+8
 1412 0090 0222     		movs	r2, #2
 1413 0092 1A60     		str	r2, [r3]
 275:App/Src/task.c ****             } else {
 1414              		.loc 1 275 17 is_stmt 1 view .LVU340
 275:App/Src/task.c ****             } else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 37


 1415              		.loc 1 275 29 is_stmt 0 view .LVU341
 1416 0094 9D4B     		ldr	r3, .L143+28
 1417 0096 0122     		movs	r2, #1
 1418 0098 1A70     		strb	r2, [r3]
 1419 009a CCE7     		b	.L67
 1420              	.LVL120:
 1421              	.L78:
 277:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 1422              		.loc 1 277 17 is_stmt 1 view .LVU342
 1423 009c 9C4C     		ldr	r4, .L143+32
 1424              	.LVL121:
 277:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 1425              		.loc 1 277 17 is_stmt 0 view .LVU343
 1426 009e 2046     		mov	r0, r4
 1427 00a0 FFF7FEFF 		bl	UsbPrintf
 1428              	.LVL122:
 278:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 1429              		.loc 1 278 17 is_stmt 1 view .LVU344
 1430 00a4 2046     		mov	r0, r4
 1431 00a6 FFF7FEFF 		bl	log_printf
 1432              	.LVL123:
 279:App/Src/task.c ****                 testState = 0;
 1433              		.loc 1 279 17 view .LVU345
 279:App/Src/task.c ****                 testState = 0;
 1434              		.loc 1 279 34 is_stmt 0 view .LVU346
 1435 00aa 9A4B     		ldr	r3, .L143+36
 1436 00ac 0122     		movs	r2, #1
 1437 00ae 1A70     		strb	r2, [r3]
 280:App/Src/task.c ****             }
 1438              		.loc 1 280 17 is_stmt 1 view .LVU347
 280:App/Src/task.c ****             }
 1439              		.loc 1 280 27 is_stmt 0 view .LVU348
 1440 00b0 914B     		ldr	r3, .L143+8
 1441 00b2 0022     		movs	r2, #0
 1442 00b4 1A60     		str	r2, [r3]
 1443 00b6 BEE7     		b	.L67
 1444              	.LVL124:
 1445              	.L76:
 284:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1446              		.loc 1 284 13 is_stmt 1 view .LVU349
 284:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1447              		.loc 1 284 28 is_stmt 0 view .LVU350
 1448 00b8 FFF7FEFF 		bl	HAL_GetTick
 1449              	.LVL125:
 284:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1450              		.loc 1 284 26 view .LVU351
 1451 00bc 964B     		ldr	r3, .L143+40
 1452 00be 1860     		str	r0, [r3]
 285:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1453              		.loc 1 285 13 is_stmt 1 view .LVU352
 285:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1454              		.loc 1 285 35 is_stmt 0 view .LVU353
 1455 00c0 964B     		ldr	r3, .L143+44
 1456 00c2 1860     		str	r0, [r3]
 286:App/Src/task.c ****             responseCount = 0;
 1457              		.loc 1 286 13 is_stmt 1 view .LVU354
 1458 00c4 9648     		ldr	r0, .L143+48
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 38


 1459 00c6 FFF7FEFF 		bl	DevicePrintf
 1460              	.LVL126:
 287:App/Src/task.c ****             testState = 3;
 1461              		.loc 1 287 13 view .LVU355
 287:App/Src/task.c ****             testState = 3;
 1462              		.loc 1 287 27 is_stmt 0 view .LVU356
 1463 00ca 964B     		ldr	r3, .L143+52
 1464 00cc 0022     		movs	r2, #0
 1465 00ce 1A70     		strb	r2, [r3]
 288:App/Src/task.c ****         break;
 1466              		.loc 1 288 13 is_stmt 1 view .LVU357
 288:App/Src/task.c ****         break;
 1467              		.loc 1 288 23 is_stmt 0 view .LVU358
 1468 00d0 894B     		ldr	r3, .L143+8
 1469 00d2 0322     		movs	r2, #3
 1470 00d4 1A60     		str	r2, [r3]
 289:App/Src/task.c ****         case 3:
 1471              		.loc 1 289 9 is_stmt 1 view .LVU359
 1472 00d6 AEE7     		b	.L67
 1473              	.LVL127:
 1474              	.L75:
 291:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 1475              		.loc 1 291 13 view .LVU360
 291:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 1476              		.loc 1 291 27 is_stmt 0 view .LVU361
 1477 00d8 904B     		ldr	r3, .L143+44
 1478 00da 1A68     		ldr	r2, [r3]
 291:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 1479              		.loc 1 291 39 view .LVU362
 1480 00dc 8E4B     		ldr	r3, .L143+40
 1481 00de 1C68     		ldr	r4, [r3]
 291:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 1482              		.loc 1 291 16 view .LVU363
 1483 00e0 A242     		cmp	r2, r4
 1484 00e2 40F24E81 		bls	.L79
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1485              		.loc 1 292 17 is_stmt 1 view .LVU364
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1486              		.loc 1 292 34 is_stmt 0 view .LVU365
 1487 00e6 8D4B     		ldr	r3, .L143+44
 1488 00e8 5868     		ldr	r0, [r3, #4]	@ float
 1489              	.LVL128:
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1490              		.loc 1 292 34 view .LVU366
 1491 00ea FFF7FEFF 		bl	__aeabi_f2d
 1492              	.LVL129:
 1493 00ee 0246     		mov	r2, r0
 1494 00f0 0B46     		mov	r3, r1
 1495 00f2 43EC182B 		vmov	d8, r2, r3
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1496              		.loc 1 292 40 view .LVU367
 1497 00f6 0022     		movs	r2, #0
 1498 00f8 8B4B     		ldr	r3, .L143+56
 1499 00fa FFF7FEFF 		bl	__aeabi_dmul
 1500              	.LVL130:
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1501              		.loc 1 292 47 view .LVU368
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 39


 1502 00fe 0022     		movs	r2, #0
 1503 0100 8A4B     		ldr	r3, .L143+60
 1504 0102 FFF7FEFF 		bl	__aeabi_dsub
 1505              	.LVL131:
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1506              		.loc 1 292 52 view .LVU369
 1507 0106 7AA3     		adr	r3, .L143
 1508 0108 D3E90023 		ldrd	r2, [r3]
 1509 010c FFF7FEFF 		bl	__aeabi_dmul
 1510              	.LVL132:
 1511 0110 FFF7FEFF 		bl	__aeabi_d2f
 1512              	.LVL133:
 1513 0114 0446     		mov	r4, r0	@ float
 292:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1514              		.loc 1 292 21 view .LVU370
 1515 0116 0790     		str	r0, [sp, #28]	@ float
 293:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1516              		.loc 1 293 17 is_stmt 1 view .LVU371
 1517 0118 784B     		ldr	r3, .L143+12
 1518 011a 1868     		ldr	r0, [r3]	@ float
 1519 011c FFF7FEFF 		bl	__aeabi_f2d
 1520              	.LVL134:
 1521 0120 0646     		mov	r6, r0
 1522 0122 0F46     		mov	r7, r1
 1523 0124 2046     		mov	r0, r4	@ float
 1524 0126 FFF7FEFF 		bl	__aeabi_f2d
 1525              	.LVL135:
 1526 012a CDE90201 		strd	r0, [sp, #8]
 1527 012e 8DED008B 		vstr.64	d8, [sp]
 1528 0132 3246     		mov	r2, r6
 1529 0134 3B46     		mov	r3, r7
 1530 0136 7E48     		ldr	r0, .L143+64
 1531 0138 FFF7FEFF 		bl	UsbPrintf
 1532              	.LVL136:
 294:App/Src/task.c ****                     testState = 4;
 1533              		.loc 1 294 17 view .LVU372
 294:App/Src/task.c ****                     testState = 4;
 1534              		.loc 1 294 21 is_stmt 0 view .LVU373
 1535 013c DDED070A 		vldr.32	s1, [sp, #28]
 1536 0140 F0EEE07A 		vabs.f32	s15, s1
 294:App/Src/task.c ****                     testState = 4;
 1537              		.loc 1 294 20 view .LVU374
 1538 0144 B6EE007A 		vmov.f32	s14, #5.0e-1
 1539 0148 F4EEC77A 		vcmpe.f32	s15, s14
 1540 014c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1541 0150 40F28380 		bls	.L138
 298:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1542              		.loc 1 298 24 is_stmt 1 view .LVU375
 298:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1543              		.loc 1 298 27 is_stmt 0 view .LVU376
 1544 0154 B0EE087A 		vmov.f32	s14, #3.0e+0
 1545 0158 F4EEC77A 		vcmpe.f32	s15, s14
 1546 015c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1547 0160 40F19A80 		bpl	.L135
 299:App/Src/task.c ****                         minPpm = ppm;
 1548              		.loc 1 299 21 is_stmt 1 view .LVU377
 299:App/Src/task.c ****                         minPpm = ppm;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 40


 1549              		.loc 1 299 37 is_stmt 0 view .LVU378
 1550 0164 674B     		ldr	r3, .L143+20
 1551 0166 93ED007A 		vldr.32	s14, [r3]
 1552 016a B0EEC77A 		vabs.f32	s14, s14
 299:App/Src/task.c ****                         minPpm = ppm;
 1553              		.loc 1 299 24 view .LVU379
 1554 016e F4EEC77A 		vcmpe.f32	s15, s14
 1555 0172 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1556 0176 05D5     		bpl	.L84
 300:App/Src/task.c ****                         minCap = lastCap;
 1557              		.loc 1 300 25 is_stmt 1 view .LVU380
 300:App/Src/task.c ****                         minCap = lastCap;
 1558              		.loc 1 300 32 is_stmt 0 view .LVU381
 1559 0178 C3ED000A 		vstr.32	s1, [r3]
 301:App/Src/task.c ****                     }
 1560              		.loc 1 301 25 is_stmt 1 view .LVU382
 301:App/Src/task.c ****                     }
 1561              		.loc 1 301 32 is_stmt 0 view .LVU383
 1562 017c 5F4B     		ldr	r3, .L143+12
 1563 017e 1A68     		ldr	r2, [r3]	@ float
 1564 0180 6C4B     		ldr	r3, .L143+68
 1565 0182 1A60     		str	r2, [r3]	@ float
 1566              	.L84:
 303:App/Src/task.c ****                         testState = 4;
 1567              		.loc 1 303 21 is_stmt 1 view .LVU384
 303:App/Src/task.c ****                         testState = 4;
 1568              		.loc 1 303 24 is_stmt 0 view .LVU385
 1569 0184 F5EEC00A 		vcmpe.f32	s1, #0
 1570 0188 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1571 018c 07DD     		ble	.L86
 303:App/Src/task.c ****                         testState = 4;
 1572              		.loc 1 303 44 discriminator 1 view .LVU386
 1573 018e 5D4B     		ldr	r3, .L143+20
 1574 0190 93ED007A 		vldr.32	s14, [r3]
 303:App/Src/task.c ****                         testState = 4;
 1575              		.loc 1 303 34 discriminator 1 view .LVU387
 1576 0194 B5EEC07A 		vcmpe.f32	s14, #0
 1577 0198 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1578 019c 6FD4     		bmi	.L88
 1579              	.L86:
 303:App/Src/task.c ****                         testState = 4;
 1580              		.loc 1 303 49 discriminator 3 view .LVU388
 1581 019e F5EEC00A 		vcmpe.f32	s1, #0
 1582 01a2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1583 01a6 62D4     		bmi	.L139
 1584              	.L89:
 315:App/Src/task.c ****                     minPpm = ppm;
 1585              		.loc 1 315 17 is_stmt 1 view .LVU389
 315:App/Src/task.c ****                     minPpm = ppm;
 1586              		.loc 1 315 33 is_stmt 0 view .LVU390
 1587 01a8 564B     		ldr	r3, .L143+20
 1588 01aa 93ED007A 		vldr.32	s14, [r3]
 1589 01ae B0EEC77A 		vabs.f32	s14, s14
 315:App/Src/task.c ****                     minPpm = ppm;
 1590              		.loc 1 315 20 view .LVU391
 1591 01b2 F4EEC77A 		vcmpe.f32	s15, s14
 1592 01b6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 41


 1593 01ba 05D5     		bpl	.L97
 316:App/Src/task.c ****                     minCap = lastCap;
 1594              		.loc 1 316 21 is_stmt 1 view .LVU392
 316:App/Src/task.c ****                     minCap = lastCap;
 1595              		.loc 1 316 28 is_stmt 0 view .LVU393
 1596 01bc C3ED000A 		vstr.32	s1, [r3]
 317:App/Src/task.c ****                 }
 1597              		.loc 1 317 21 is_stmt 1 view .LVU394
 317:App/Src/task.c ****                 }
 1598              		.loc 1 317 28 is_stmt 0 view .LVU395
 1599 01c0 4E4B     		ldr	r3, .L143+12
 1600 01c2 1A68     		ldr	r2, [r3]	@ float
 1601 01c4 5B4B     		ldr	r3, .L143+68
 1602 01c6 1A60     		str	r2, [r3]	@ float
 1603              	.L97:
 320:App/Src/task.c ****                 if (adjustCount > 10) { 
 1604              		.loc 1 320 17 is_stmt 1 view .LVU396
 320:App/Src/task.c ****                 if (adjustCount > 10) { 
 1605              		.loc 1 320 28 is_stmt 0 view .LVU397
 1606 01c8 504A     		ldr	r2, .L143+28
 1607 01ca 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1608 01cc 0133     		adds	r3, r3, #1
 1609 01ce DBB2     		uxtb	r3, r3
 1610 01d0 1370     		strb	r3, [r2]
 321:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1611              		.loc 1 321 17 is_stmt 1 view .LVU398
 321:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1612              		.loc 1 321 20 is_stmt 0 view .LVU399
 1613 01d2 0A2B     		cmp	r3, #10
 1614 01d4 00F2B480 		bhi	.L140
 326:App/Src/task.c ****                     lastCap += 1;
 1615              		.loc 1 326 17 is_stmt 1 view .LVU400
 326:App/Src/task.c ****                     lastCap += 1;
 1616              		.loc 1 326 20 is_stmt 0 view .LVU401
 1617 01d8 F5EEC00A 		vcmpe.f32	s1, #0
 1618 01dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1619 01e0 07DD     		ble	.L100
 326:App/Src/task.c ****                     lastCap += 1;
 1620              		.loc 1 326 29 discriminator 1 view .LVU402
 1621 01e2 F7EE007A 		vmov.f32	s15, #1.0e+0
 1622 01e6 F4EEE70A 		vcmpe.f32	s1, s15
 1623 01ea F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1624 01ee 00F1B480 		bmi	.L141
 1625              	.L100:
 328:App/Src/task.c ****                     lastCap -= 1;
 1626              		.loc 1 328 24 is_stmt 1 view .LVU403
 328:App/Src/task.c ****                     lastCap -= 1;
 1627              		.loc 1 328 27 is_stmt 0 view .LVU404
 1628 01f2 FFEE007A 		vmov.f32	s15, #-1.0e+0
 1629 01f6 F4EEE70A 		vcmpe.f32	s1, s15
 1630 01fa F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1631 01fe 05DD     		ble	.L104
 328:App/Src/task.c ****                     lastCap -= 1;
 1632              		.loc 1 328 37 discriminator 1 view .LVU405
 1633 0200 F5EEC00A 		vcmpe.f32	s1, #0
 1634 0204 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1635 0208 00F1B180 		bmi	.L142
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 42


 1636              	.L104:
 331:App/Src/task.c ****                 }
 1637              		.loc 1 331 21 is_stmt 1 view .LVU406
 331:App/Src/task.c ****                 }
 1638              		.loc 1 331 45 is_stmt 0 view .LVU407
 1639 020c 10EE900A 		vmov	r0, s1
 1640 0210 FFF7FEFF 		bl	__aeabi_f2d
 1641              	.LVL137:
 1642 0214 0022     		movs	r2, #0
 1643 0216 484B     		ldr	r3, .L143+72
 1644 0218 FFF7FEFF 		bl	__aeabi_dmul
 1645              	.LVL138:
 1646 021c 0446     		mov	r4, r0
 1647 021e 0D46     		mov	r5, r1
 331:App/Src/task.c ****                 }
 1648              		.loc 1 331 39 view .LVU408
 1649 0220 364E     		ldr	r6, .L143+12
 1650 0222 3068     		ldr	r0, [r6]	@ float
 1651 0224 FFF7FEFF 		bl	__aeabi_f2d
 1652              	.LVL139:
 1653 0228 2246     		mov	r2, r4
 1654 022a 2B46     		mov	r3, r5
 1655 022c FFF7FEFF 		bl	__aeabi_dadd
 1656              	.LVL140:
 1657 0230 FFF7FEFF 		bl	__aeabi_d2f
 1658              	.LVL141:
 331:App/Src/task.c ****                 }
 1659              		.loc 1 331 29 view .LVU409
 1660 0234 3060     		str	r0, [r6]	@ float
 1661              	.L103:
 333:App/Src/task.c ****                 rtc_set_testcap(cap);
 1662              		.loc 1 333 17 is_stmt 1 view .LVU410
 1663 0236 314B     		ldr	r3, .L143+12
 1664 0238 D3ED007A 		vldr.32	s15, [r3]
 1665 023c FCEEE77A 		vcvt.u32.f32	s15, s15
 1666 0240 06A9     		add	r1, sp, #24
 1667 0242 17EE903A 		vmov	r3, s15	@ int
 1668 0246 98B2     		uxth	r0, r3
 1669 0248 FFF7FEFF 		bl	cap_list_to_uint
 1670              	.LVL142:
 334:App/Src/task.c ****                 testState = 2;
 1671              		.loc 1 334 17 view .LVU411
 1672 024c 06A8     		add	r0, sp, #24
 1673 024e FFF7FEFF 		bl	rtc_set_testcap
 1674              	.LVL143:
 335:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1675              		.loc 1 335 17 view .LVU412
 335:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1676              		.loc 1 335 27 is_stmt 0 view .LVU413
 1677 0252 294B     		ldr	r3, .L143+8
 1678 0254 0222     		movs	r2, #2
 1679 0256 1A60     		str	r2, [r3]
 1680 0258 EDE6     		b	.L67
 1681              	.L138:
 295:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 1682              		.loc 1 295 21 is_stmt 1 view .LVU414
 295:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 43


 1683              		.loc 1 295 31 is_stmt 0 view .LVU415
 1684 025a 274B     		ldr	r3, .L143+8
 1685 025c 0422     		movs	r2, #4
 1686 025e 1A60     		str	r2, [r3]
 296:App/Src/task.c ****                     break;
 1687              		.loc 1 296 21 is_stmt 1 view .LVU416
 1688 0260 264B     		ldr	r3, .L143+12
 1689 0262 93ED000A 		vldr.32	s0, [r3]
 1690 0266 0220     		movs	r0, #2
 1691 0268 FFF7FEFF 		bl	rtc_freq_save
 1692              	.LVL144:
 297:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 1693              		.loc 1 297 21 view .LVU417
 1694 026c E3E6     		b	.L67
 1695              	.L139:
 303:App/Src/task.c ****                         testState = 4;
 1696              		.loc 1 303 71 is_stmt 0 discriminator 4 view .LVU418
 1697 026e 254B     		ldr	r3, .L143+20
 1698 0270 93ED007A 		vldr.32	s14, [r3]
 303:App/Src/task.c ****                         testState = 4;
 1699              		.loc 1 303 61 discriminator 4 view .LVU419
 1700 0274 B5EEC07A 		vcmpe.f32	s14, #0
 1701 0278 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1702 027c 94DD     		ble	.L89
 1703              	.L88:
 304:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1704              		.loc 1 304 25 is_stmt 1 view .LVU420
 304:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1705              		.loc 1 304 35 is_stmt 0 view .LVU421
 1706 027e 1E4B     		ldr	r3, .L143+8
 1707 0280 0422     		movs	r2, #4
 1708 0282 1A60     		str	r2, [r3]
 305:App/Src/task.c ****                         break;
 1709              		.loc 1 305 25 is_stmt 1 view .LVU422
 1710 0284 1F4B     		ldr	r3, .L143+20
 1711 0286 D3ED000A 		vldr.32	s1, [r3]
 1712 028a 2A4B     		ldr	r3, .L143+68
 1713 028c 93ED000A 		vldr.32	s0, [r3]
 1714 0290 0220     		movs	r0, #2
 1715 0292 FFF7FEFF 		bl	rtc_freq_save
 1716              	.LVL145:
 306:App/Src/task.c ****                     }
 1717              		.loc 1 306 25 view .LVU423
 1718 0296 CEE6     		b	.L67
 1719              	.L135:
 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1720              		.loc 1 309 21 view .LVU424
 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1721              		.loc 1 309 34 is_stmt 0 view .LVU425
 1722 0298 184B     		ldr	r3, .L143+12
 1723 029a 93ED000A 		vldr.32	s0, [r3]
 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1724              		.loc 1 309 24 view .LVU426
 1725 029e 9FED277A 		vldr.32	s14, .L143+76
 1726 02a2 B4EEC70A 		vcmpe.f32	s0, s14
 1727 02a6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1728 02aa 06DB     		blt	.L92
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 44


 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1729              		.loc 1 309 57 discriminator 1 view .LVU427
 1730 02ac B0EE007A 		vmov.f32	s14, #2.0e+0
 1731 02b0 F4EEC70A 		vcmpe.f32	s1, s14
 1732 02b4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1733 02b8 0FDA     		bge	.L94
 1734              	.L92:
 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1735              		.loc 1 309 70 discriminator 3 view .LVU428
 1736 02ba B7EE007A 		vmov.f32	s14, #1.0e+0
 1737 02be B4EEC70A 		vcmpe.f32	s0, s14
 1738 02c2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1739 02c6 3FF66FAF 		bhi	.L89
 309:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1740              		.loc 1 309 106 discriminator 4 view .LVU429
 1741 02ca B8EE007A 		vmov.f32	s14, #-2.0e+0
 1742 02ce F4EEC70A 		vcmpe.f32	s1, s14
 1743 02d2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1744 02d6 3FF667AF 		bhi	.L89
 1745              	.L94:
 310:App/Src/task.c ****                         testState = 0;
 1746              		.loc 1 310 25 is_stmt 1 view .LVU430
 1747 02da 0A4B     		ldr	r3, .L143+20
 1748 02dc D3ED000A 		vldr.32	s1, [r3]
 1749 02e0 0120     		movs	r0, #1
 1750 02e2 FFF7FEFF 		bl	rtc_freq_save
 1751              	.LVL146:
 311:App/Src/task.c ****                         break;
 1752              		.loc 1 311 25 view .LVU431
 311:App/Src/task.c ****                         break;
 1753              		.loc 1 311 35 is_stmt 0 view .LVU432
 1754 02e6 044B     		ldr	r3, .L143+8
 1755 02e8 0022     		movs	r2, #0
 1756 02ea 1A60     		str	r2, [r3]
 312:App/Src/task.c ****                     } 
 1757              		.loc 1 312 25 is_stmt 1 view .LVU433
 1758 02ec A3E6     		b	.L67
 1759              	.L144:
 1760 02ee 00BF     		.align	3
 1761              	.L143:
 1762 02f0 00000000 		.word	0
 1763 02f4 80842E41 		.word	1093567616
 1764 02f8 00000000 		.word	.LANCHOR9
 1765 02fc 00000000 		.word	.LANCHOR10
 1766 0300 00000000 		.word	.LC12
 1767 0304 00000000 		.word	.LANCHOR11
 1768 0308 00007A44 		.word	1148846080
 1769 030c 00000000 		.word	.LANCHOR12
 1770 0310 38000000 		.word	.LC13
 1771 0314 00000000 		.word	g_capAdjust
 1772 0318 00000000 		.word	.LANCHOR13
 1773 031c 00000000 		.word	.LANCHOR7
 1774 0320 50000000 		.word	.LC5
 1775 0324 00000000 		.word	.LANCHOR14
 1776 0328 0000903F 		.word	1066401792
 1777 032c 0000F03F 		.word	1072693248
 1778 0330 54000000 		.word	.LC14
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 45


 1779 0334 00000000 		.word	.LANCHOR15
 1780 0338 00000440 		.word	1074003968
 1781 033c 00804D44 		.word	1145929728
 1782              	.L140:
 322:App/Src/task.c ****                     testState = 0;
 1783              		.loc 1 322 21 view .LVU434
 1784 0340 974B     		ldr	r3, .L145+8
 1785 0342 D3ED000A 		vldr.32	s1, [r3]
 1786 0346 974B     		ldr	r3, .L145+12
 1787 0348 93ED000A 		vldr.32	s0, [r3]
 1788 034c 0120     		movs	r0, #1
 1789 034e FFF7FEFF 		bl	rtc_freq_save
 1790              	.LVL147:
 323:App/Src/task.c ****                     break;
 1791              		.loc 1 323 21 view .LVU435
 323:App/Src/task.c ****                     break;
 1792              		.loc 1 323 31 is_stmt 0 view .LVU436
 1793 0352 954B     		ldr	r3, .L145+16
 1794 0354 0022     		movs	r2, #0
 1795 0356 1A60     		str	r2, [r3]
 324:App/Src/task.c ****                 }//---------------------------------------------------------
 1796              		.loc 1 324 21 is_stmt 1 view .LVU437
 1797 0358 6DE6     		b	.L67
 1798              	.L141:
 327:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1799              		.loc 1 327 21 view .LVU438
 327:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1800              		.loc 1 327 29 is_stmt 0 view .LVU439
 1801 035a 944B     		ldr	r3, .L145+20
 1802 035c D3ED007A 		vldr.32	s15, [r3]
 1803 0360 B7EE007A 		vmov.f32	s14, #1.0e+0
 1804 0364 77EE877A 		vadd.f32	s15, s15, s14
 1805 0368 C3ED007A 		vstr.32	s15, [r3]
 1806 036c 63E7     		b	.L103
 1807              	.L142:
 329:App/Src/task.c ****                 } else {
 1808              		.loc 1 329 21 is_stmt 1 view .LVU440
 329:App/Src/task.c ****                 } else {
 1809              		.loc 1 329 29 is_stmt 0 view .LVU441
 1810 036e 8F4B     		ldr	r3, .L145+20
 1811 0370 D3ED007A 		vldr.32	s15, [r3]
 1812 0374 B7EE007A 		vmov.f32	s14, #1.0e+0
 1813 0378 77EEC77A 		vsub.f32	s15, s15, s14
 1814 037c C3ED007A 		vstr.32	s15, [r3]
 1815 0380 59E7     		b	.L103
 1816              	.LVL148:
 1817              	.L79:
 336:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1818              		.loc 1 336 20 is_stmt 1 view .LVU442
 336:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1819              		.loc 1 336 37 is_stmt 0 view .LVU443
 1820 0382 04F59664 		add	r4, r4, #1200
 336:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1821              		.loc 1 336 46 view .LVU444
 1822 0386 FFF7FEFF 		bl	HAL_GetTick
 1823              	.LVL149:
 336:App/Src/task.c ****                 UsbPrintf("device no response\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 46


 1824              		.loc 1 336 23 view .LVU445
 1825 038a 8442     		cmp	r4, r0
 1826 038c BFF453AE 		bcs	.L67
 337:App/Src/task.c ****                 log_printf("device no response\n");             
 1827              		.loc 1 337 17 is_stmt 1 view .LVU446
 1828 0390 874C     		ldr	r4, .L145+24
 1829 0392 2046     		mov	r0, r4
 1830 0394 FFF7FEFF 		bl	UsbPrintf
 1831              	.LVL150:
 338:App/Src/task.c ****                 responseCount++;
 1832              		.loc 1 338 17 view .LVU447
 1833 0398 2046     		mov	r0, r4
 1834 039a FFF7FEFF 		bl	log_printf
 1835              	.LVL151:
 339:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1836              		.loc 1 339 17 view .LVU448
 339:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1837              		.loc 1 339 30 is_stmt 0 view .LVU449
 1838 039e 854A     		ldr	r2, .L145+28
 1839 03a0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1840 03a2 0133     		adds	r3, r3, #1
 1841 03a4 DBB2     		uxtb	r3, r3
 1842 03a6 1370     		strb	r3, [r2]
 340:App/Src/task.c ****                     testState = 0;
 1843              		.loc 1 340 17 is_stmt 1 view .LVU450
 340:App/Src/task.c ****                     testState = 0;
 1844              		.loc 1 340 20 is_stmt 0 view .LVU451
 1845 03a8 022B     		cmp	r3, #2
 1846 03aa 0AD9     		bls	.L107
 341:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1847              		.loc 1 341 21 is_stmt 1 view .LVU452
 341:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1848              		.loc 1 341 31 is_stmt 0 view .LVU453
 1849 03ac 7E4B     		ldr	r3, .L145+16
 1850 03ae 0022     		movs	r2, #0
 1851 03b0 1A60     		str	r2, [r3]
 342:App/Src/task.c ****                 } else {
 1852              		.loc 1 342 21 is_stmt 1 view .LVU454
 1853 03b2 DFED810A 		vldr.32	s1, .L145+32
 1854 03b6 9FED810A 		vldr.32	s0, .L145+36
 1855 03ba 0120     		movs	r0, #1
 1856 03bc FFF7FEFF 		bl	rtc_freq_save
 1857              	.LVL152:
 1858 03c0 39E6     		b	.L67
 1859              	.L107:
 344:App/Src/task.c ****                 }
 1860              		.loc 1 344 21 view .LVU455
 344:App/Src/task.c ****                 }
 1861              		.loc 1 344 36 is_stmt 0 view .LVU456
 1862 03c2 FFF7FEFF 		bl	HAL_GetTick
 1863              	.LVL153:
 344:App/Src/task.c ****                 }
 1864              		.loc 1 344 34 view .LVU457
 1865 03c6 7E4B     		ldr	r3, .L145+40
 1866 03c8 1860     		str	r0, [r3]
 1867 03ca 34E6     		b	.L67
 1868              	.LVL154:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 47


 1869              	.L74:
 349:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1870              		.loc 1 349 13 is_stmt 1 view .LVU458
 349:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1871              		.loc 1 349 20 is_stmt 0 view .LVU459
 1872 03cc 0120     		movs	r0, #1
 1873              	.LVL155:
 349:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1874              		.loc 1 349 20 view .LVU460
 1875 03ce FFF7FEFF 		bl	temp_read_value
 1876              	.LVL156:
 350:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1877              		.loc 1 350 13 is_stmt 1 view .LVU461
 350:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1878              		.loc 1 350 16 is_stmt 0 view .LVU462
 1879 03d2 F9EE047A 		vmov.f32	s15, #-5.0e+0
 1880 03d6 B4EEE70A 		vcmpe.f32	s0, s15
 1881 03da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1882 03de 06D5     		bpl	.L108
 350:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1883              		.loc 1 350 28 discriminator 1 view .LVU463
 1884 03e0 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 1885 03e4 B4EEE70A 		vcmpe.f32	s0, s15
 1886 03e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1887 03ec 0DDC     		bgt	.L110
 1888              	.L108:
 350:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1889              		.loc 1 350 43 discriminator 3 view .LVU464
 1890 03ee DFED757A 		vldr.32	s15, .L145+44
 1891 03f2 B4EEE70A 		vcmpe.f32	s0, s15
 1892 03f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1893 03fa 34D5     		bpl	.L111
 350:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1894              		.loc 1 350 57 discriminator 4 view .LVU465
 1895 03fc DFED727A 		vldr.32	s15, .L145+48
 1896 0400 B4EEE70A 		vcmpe.f32	s0, s15
 1897 0404 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1898 0408 2DDD     		ble	.L111
 1899              	.L110:
 351:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1900              		.loc 1 351 17 is_stmt 1 view .LVU466
 351:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1901              		.loc 1 351 64 is_stmt 0 view .LVU467
 1902 040a 704B     		ldr	r3, .L145+52
 1903 040c 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 351:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1904              		.loc 1 351 50 view .LVU468
 1905 040e 0730     		adds	r0, r0, #7
 1906 0410 4002     		lsls	r0, r0, #9
 1907              	.LVL157:
 352:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 1908              		.loc 1 352 17 is_stmt 1 view .LVU469
 1909 0412 0422     		movs	r2, #4
 1910 0414 05A9     		add	r1, sp, #20
 1911 0416 2430     		adds	r0, r0, #36
 1912              	.LVL158:
 352:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 48


 1913              		.loc 1 352 17 is_stmt 0 view .LVU470
 1914 0418 FFF7FEFF 		bl	flash_read_data
 1915              	.LVL159:
 353:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 1916              		.loc 1 353 17 is_stmt 1 view .LVU471
 1917 041c 634C     		ldr	r4, .L145+20
 1918 041e 05A9     		add	r1, sp, #20
 1919 0420 2046     		mov	r0, r4
 1920 0422 FFF7FEFF 		bl	uint8_to_float
 1921              	.LVL160:
 354:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 1922              		.loc 1 354 17 view .LVU472
 1923 0426 D4ED007A 		vldr.32	s15, [r4]
 1924 042a FCEEE77A 		vcvt.u32.f32	s15, s15
 1925 042e 06A9     		add	r1, sp, #24
 1926 0430 17EE903A 		vmov	r3, s15	@ int
 1927 0434 98B2     		uxth	r0, r3
 1928 0436 FFF7FEFF 		bl	cap_list_to_uint
 1929              	.LVL161:
 355:App/Src/task.c ****                     testState++;
 1930              		.loc 1 355 17 view .LVU473
 355:App/Src/task.c ****                     testState++;
 1931              		.loc 1 355 21 is_stmt 0 view .LVU474
 1932 043a 06A8     		add	r0, sp, #24
 1933 043c FFF7FEFF 		bl	rtc_set_testcap
 1934              	.LVL162:
 355:App/Src/task.c ****                     testState++;
 1935              		.loc 1 355 20 view .LVU475
 1936 0440 20B9     		cbnz	r0, .L114
 356:App/Src/task.c ****                 } else {
 1937              		.loc 1 356 21 is_stmt 1 view .LVU476
 356:App/Src/task.c ****                 } else {
 1938              		.loc 1 356 30 is_stmt 0 view .LVU477
 1939 0442 594A     		ldr	r2, .L145+16
 1940 0444 1368     		ldr	r3, [r2]
 1941 0446 0133     		adds	r3, r3, #1
 1942 0448 1360     		str	r3, [r2]
 1943 044a F4E5     		b	.L67
 1944              	.L114:
 358:App/Src/task.c ****                     testState = 0;
 1945              		.loc 1 358 21 is_stmt 1 view .LVU478
 1946 044c 544B     		ldr	r3, .L145+8
 1947 044e D3ED000A 		vldr.32	s1, [r3]
 1948 0452 564B     		ldr	r3, .L145+20
 1949 0454 93ED000A 		vldr.32	s0, [r3]
 1950 0458 0120     		movs	r0, #1
 1951 045a FFF7FEFF 		bl	rtc_freq_save
 1952              	.LVL163:
 359:App/Src/task.c ****                 }
 1953              		.loc 1 359 21 view .LVU479
 359:App/Src/task.c ****                 }
 1954              		.loc 1 359 31 is_stmt 0 view .LVU480
 1955 045e 524B     		ldr	r3, .L145+16
 1956 0460 0022     		movs	r2, #0
 1957 0462 1A60     		str	r2, [r3]
 1958 0464 E7E5     		b	.L67
 1959              	.LVL164:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 49


 1960              	.L111:
 362:App/Src/task.c ****                 testState = 0;
 1961              		.loc 1 362 17 is_stmt 1 view .LVU481
 362:App/Src/task.c ****                 testState = 0;
 1962              		.loc 1 362 34 is_stmt 0 view .LVU482
 1963 0466 594B     		ldr	r3, .L145+52
 1964 0468 0222     		movs	r2, #2
 1965 046a 1A70     		strb	r2, [r3]
 363:App/Src/task.c ****             }
 1966              		.loc 1 363 17 is_stmt 1 view .LVU483
 363:App/Src/task.c ****             }
 1967              		.loc 1 363 27 is_stmt 0 view .LVU484
 1968 046c 4E4B     		ldr	r3, .L145+16
 1969 046e 0022     		movs	r2, #0
 1970 0470 1A60     		str	r2, [r3]
 1971 0472 E0E5     		b	.L67
 1972              	.LVL165:
 1973              	.L73:
 367:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1974              		.loc 1 367 13 is_stmt 1 view .LVU485
 367:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1975              		.loc 1 367 28 is_stmt 0 view .LVU486
 1976 0474 FFF7FEFF 		bl	HAL_GetTick
 1977              	.LVL166:
 367:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1978              		.loc 1 367 26 view .LVU487
 1979 0478 514B     		ldr	r3, .L145+40
 1980 047a 1860     		str	r0, [r3]
 368:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1981              		.loc 1 368 13 is_stmt 1 view .LVU488
 368:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1982              		.loc 1 368 35 is_stmt 0 view .LVU489
 1983 047c 544B     		ldr	r3, .L145+56
 1984 047e 1860     		str	r0, [r3]
 369:App/Src/task.c ****             responseCount = 0;
 1985              		.loc 1 369 13 is_stmt 1 view .LVU490
 1986 0480 5448     		ldr	r0, .L145+60
 1987 0482 FFF7FEFF 		bl	DevicePrintf
 1988              	.LVL167:
 370:App/Src/task.c ****             testState++;
 1989              		.loc 1 370 13 view .LVU491
 370:App/Src/task.c ****             testState++;
 1990              		.loc 1 370 27 is_stmt 0 view .LVU492
 1991 0486 4B4B     		ldr	r3, .L145+28
 1992 0488 0022     		movs	r2, #0
 1993 048a 1A70     		strb	r2, [r3]
 371:App/Src/task.c ****         break;
 1994              		.loc 1 371 13 is_stmt 1 view .LVU493
 371:App/Src/task.c ****         break;
 1995              		.loc 1 371 22 is_stmt 0 view .LVU494
 1996 048c 464A     		ldr	r2, .L145+16
 1997 048e 1368     		ldr	r3, [r2]
 1998 0490 0133     		adds	r3, r3, #1
 1999 0492 1360     		str	r3, [r2]
 372:App/Src/task.c ****         case 6:
 2000              		.loc 1 372 9 is_stmt 1 view .LVU495
 2001 0494 CFE5     		b	.L67
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 50


 2002              	.LVL168:
 2003              	.L71:
 374:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 2004              		.loc 1 374 13 view .LVU496
 374:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 2005              		.loc 1 374 27 is_stmt 0 view .LVU497
 2006 0496 4E4B     		ldr	r3, .L145+56
 2007 0498 1A68     		ldr	r2, [r3]
 374:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 2008              		.loc 1 374 39 view .LVU498
 2009 049a 494B     		ldr	r3, .L145+40
 2010 049c 1C68     		ldr	r4, [r3]
 374:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 2011              		.loc 1 374 16 view .LVU499
 2012 049e A242     		cmp	r2, r4
 2013 04a0 52D9     		bls	.L115
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2014              		.loc 1 375 17 is_stmt 1 view .LVU500
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2015              		.loc 1 375 34 is_stmt 0 view .LVU501
 2016 04a2 4B4B     		ldr	r3, .L145+56
 2017 04a4 5868     		ldr	r0, [r3, #4]	@ float
 2018              	.LVL169:
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2019              		.loc 1 375 34 view .LVU502
 2020 04a6 FFF7FEFF 		bl	__aeabi_f2d
 2021              	.LVL170:
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2022              		.loc 1 375 40 view .LVU503
 2023 04aa 0022     		movs	r2, #0
 2024 04ac 4A4B     		ldr	r3, .L145+64
 2025 04ae FFF7FEFF 		bl	__aeabi_dmul
 2026              	.LVL171:
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2027              		.loc 1 375 47 view .LVU504
 2028 04b2 0022     		movs	r2, #0
 2029 04b4 494B     		ldr	r3, .L145+68
 2030 04b6 FFF7FEFF 		bl	__aeabi_dsub
 2031              	.LVL172:
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2032              		.loc 1 375 52 view .LVU505
 2033 04ba 37A3     		adr	r3, .L145
 2034 04bc D3E90023 		ldrd	r2, [r3]
 2035 04c0 FFF7FEFF 		bl	__aeabi_dmul
 2036              	.LVL173:
 2037 04c4 FFF7FEFF 		bl	__aeabi_d2f
 2038              	.LVL174:
 375:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2039              		.loc 1 375 21 view .LVU506
 2040 04c8 0790     		str	r0, [sp, #28]	@ float
 376:App/Src/task.c ****                 temp = temp_read_value(1);
 2041              		.loc 1 376 17 is_stmt 1 view .LVU507
 376:App/Src/task.c ****                 temp = temp_read_value(1);
 2042              		.loc 1 376 64 is_stmt 0 view .LVU508
 2043 04ca 404B     		ldr	r3, .L145+52
 2044 04cc 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
 376:App/Src/task.c ****                 temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 51


 2045              		.loc 1 376 50 view .LVU509
 2046 04ce 0734     		adds	r4, r4, #7
 2047 04d0 6402     		lsls	r4, r4, #9
 376:App/Src/task.c ****                 temp = temp_read_value(1);
 2048              		.loc 1 376 99 view .LVU510
 2049 04d2 04F13A05 		add	r5, r4, #58
 2050              	.LVL175:
 377:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 2051              		.loc 1 377 17 is_stmt 1 view .LVU511
 377:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 2052              		.loc 1 377 24 is_stmt 0 view .LVU512
 2053 04d6 0120     		movs	r0, #1
 2054 04d8 FFF7FEFF 		bl	temp_read_value
 2055              	.LVL176:
 2056 04dc B0EE408A 		vmov.f32	s16, s0
 2057              	.LVL177:
 378:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2058              		.loc 1 378 17 is_stmt 1 view .LVU513
 378:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2059              		.loc 1 378 20 is_stmt 0 view .LVU514
 2060 04e0 DFED397A 		vldr.32	s15, .L145+48
 2061 04e4 B4EEE70A 		vcmpe.f32	s0, s15
 2062 04e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2063 04ec 01DD     		ble	.L116
 378:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2064              		.loc 1 378 34 is_stmt 1 discriminator 1 view .LVU515
 378:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2065              		.loc 1 378 42 is_stmt 0 discriminator 1 view .LVU516
 2066 04ee 04F13E05 		add	r5, r4, #62
 2067              	.LVL178:
 2068              	.L116:
 379:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 2069              		.loc 1 379 17 is_stmt 1 view .LVU517
 2070 04f2 07A9     		add	r1, sp, #28
 2071 04f4 05A8     		add	r0, sp, #20
 2072 04f6 FFF7FEFF 		bl	float_to_uint8
 2073              	.LVL179:
 380:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2074              		.loc 1 380 17 view .LVU518
 2075 04fa 0422     		movs	r2, #4
 2076 04fc 05A9     		add	r1, sp, #20
 2077 04fe 2846     		mov	r0, r5
 2078 0500 FFF7FEFF 		bl	flash_write_data
 2079              	.LVL180:
 381:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2080              		.loc 1 381 17 view .LVU519
 2081 0504 18EE100A 		vmov	r0, s16
 2082 0508 FFF7FEFF 		bl	__aeabi_f2d
 2083              	.LVL181:
 2084 050c 0446     		mov	r4, r0
 2085 050e 0D46     		mov	r5, r1
 2086              	.LVL182:
 381:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2087              		.loc 1 381 17 is_stmt 0 view .LVU520
 2088 0510 334E     		ldr	r6, .L145+72
 2089 0512 0798     		ldr	r0, [sp, #28]	@ float
 2090 0514 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 52


 2091              	.LVL183:
 2092 0518 CDE90001 		strd	r0, [sp]
 2093 051c 2246     		mov	r2, r4
 2094 051e 2B46     		mov	r3, r5
 2095 0520 3046     		mov	r0, r6
 2096 0522 FFF7FEFF 		bl	UsbPrintf
 2097              	.LVL184:
 382:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 2098              		.loc 1 382 17 is_stmt 1 view .LVU521
 2099 0526 0798     		ldr	r0, [sp, #28]	@ float
 2100 0528 FFF7FEFF 		bl	__aeabi_f2d
 2101              	.LVL185:
 2102 052c CDE90001 		strd	r0, [sp]
 2103 0530 2246     		mov	r2, r4
 2104 0532 2B46     		mov	r3, r5
 2105 0534 3046     		mov	r0, r6
 2106 0536 FFF7FEFF 		bl	log_printf
 2107              	.LVL186:
 383:App/Src/task.c ****                 testState = 0;
 2108              		.loc 1 383 17 view .LVU522
 383:App/Src/task.c ****                 testState = 0;
 2109              		.loc 1 383 34 is_stmt 0 view .LVU523
 2110 053a 244B     		ldr	r3, .L145+52
 2111 053c 0222     		movs	r2, #2
 2112 053e 1A70     		strb	r2, [r3]
 384:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2113              		.loc 1 384 17 is_stmt 1 view .LVU524
 384:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2114              		.loc 1 384 27 is_stmt 0 view .LVU525
 2115 0540 194B     		ldr	r3, .L145+16
 2116 0542 0022     		movs	r2, #0
 2117 0544 1A60     		str	r2, [r3]
 2118 0546 76E5     		b	.L67
 2119              	.LVL187:
 2120              	.L115:
 385:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2121              		.loc 1 385 20 is_stmt 1 view .LVU526
 385:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2122              		.loc 1 385 37 is_stmt 0 view .LVU527
 2123 0548 04F59664 		add	r4, r4, #1200
 385:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2124              		.loc 1 385 46 view .LVU528
 2125 054c FFF7FEFF 		bl	HAL_GetTick
 2126              	.LVL188:
 385:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2127              		.loc 1 385 23 view .LVU529
 2128 0550 8442     		cmp	r4, r0
 2129 0552 BFF470AD 		bcs	.L67
 386:App/Src/task.c ****                 log_printf("device no response\n");             
 2130              		.loc 1 386 17 is_stmt 1 view .LVU530
 2131 0556 164C     		ldr	r4, .L145+24
 2132 0558 2046     		mov	r0, r4
 2133 055a FFF7FEFF 		bl	UsbPrintf
 2134              	.LVL189:
 387:App/Src/task.c ****                 responseCount++;
 2135              		.loc 1 387 17 view .LVU531
 2136 055e 2046     		mov	r0, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 53


 2137 0560 FFF7FEFF 		bl	log_printf
 2138              	.LVL190:
 388:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2139              		.loc 1 388 17 view .LVU532
 388:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2140              		.loc 1 388 30 is_stmt 0 view .LVU533
 2141 0564 134A     		ldr	r2, .L145+28
 2142 0566 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2143 0568 0133     		adds	r3, r3, #1
 2144 056a DBB2     		uxtb	r3, r3
 2145 056c 1370     		strb	r3, [r2]
 389:App/Src/task.c ****                     testState = 0;
 2146              		.loc 1 389 17 is_stmt 1 view .LVU534
 389:App/Src/task.c ****                     testState = 0;
 2147              		.loc 1 389 20 is_stmt 0 view .LVU535
 2148 056e 022B     		cmp	r3, #2
 2149 0570 0AD9     		bls	.L118
 390:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2150              		.loc 1 390 21 is_stmt 1 view .LVU536
 390:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2151              		.loc 1 390 31 is_stmt 0 view .LVU537
 2152 0572 0D4B     		ldr	r3, .L145+16
 2153 0574 0022     		movs	r2, #0
 2154 0576 1A60     		str	r2, [r3]
 391:App/Src/task.c ****                 } else {
 2155              		.loc 1 391 21 is_stmt 1 view .LVU538
 2156 0578 DFED0F0A 		vldr.32	s1, .L145+32
 2157 057c 9FED0F0A 		vldr.32	s0, .L145+36
 2158 0580 0120     		movs	r0, #1
 2159 0582 FFF7FEFF 		bl	rtc_freq_save
 2160              	.LVL191:
 2161 0586 56E5     		b	.L67
 2162              	.L118:
 393:App/Src/task.c ****                 }
 2163              		.loc 1 393 21 view .LVU539
 393:App/Src/task.c ****                 }
 2164              		.loc 1 393 36 is_stmt 0 view .LVU540
 2165 0588 FFF7FEFF 		bl	HAL_GetTick
 2166              	.LVL192:
 393:App/Src/task.c ****                 }
 2167              		.loc 1 393 34 view .LVU541
 2168 058c 0C4B     		ldr	r3, .L145+40
 2169 058e 1860     		str	r0, [r3]
 2170 0590 51E5     		b	.L67
 2171              	.L146:
 2172 0592 00BFAFF3 		.align	3
 2172      0080
 2173              	.L145:
 2174 0598 00000000 		.word	0
 2175 059c 80842E41 		.word	1093567616
 2176 05a0 00000000 		.word	.LANCHOR11
 2177 05a4 00000000 		.word	.LANCHOR15
 2178 05a8 00000000 		.word	.LANCHOR9
 2179 05ac 00000000 		.word	.LANCHOR10
 2180 05b0 70000000 		.word	.LC15
 2181 05b4 00000000 		.word	.LANCHOR14
 2182 05b8 00007A44 		.word	1148846080
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 54


 2183 05bc 00000000 		.word	0
 2184 05c0 00000000 		.word	.LANCHOR13
 2185 05c4 00008242 		.word	1115815936
 2186 05c8 00005C42 		.word	1113325568
 2187 05cc 00000000 		.word	g_capAdjust
 2188 05d0 00000000 		.word	.LANCHOR7
 2189 05d4 50000000 		.word	.LC5
 2190 05d8 0000903F 		.word	1066401792
 2191 05dc 0000F03F 		.word	1072693248
 2192 05e0 84000000 		.word	.LC16
 2193              		.cfi_endproc
 2194              	.LFE242:
 2196              		.section	.rodata.system_machine_test_one.str1.4,"aMS",%progbits,1
 2197              		.align	2
 2198              	.LC17:
 2199 0000 6D616368 		.ascii	"machine test chip:%d\012\000"
 2199      696E6520 
 2199      74657374 
 2199      20636869 
 2199      703A2564 
 2200              		.global	__aeabi_ddiv
 2201 0016 0000     		.align	2
 2202              	.LC18:
 2203 0018 25662C20 		.ascii	"%f, ppm:%.2f\012\000"
 2203      70706D3A 
 2203      252E3266 
 2203      0A00
 2204 0026 0000     		.align	2
 2205              	.LC19:
 2206 0028 76626174 		.ascii	"vbat = %dmV\012\000"
 2206      203D2025 
 2206      646D560A 
 2206      00
 2207 0035 000000   		.align	2
 2208              	.LC20:
 2209 0038 63686172 		.ascii	"charge = %dmV\012\000"
 2209      6765203D 
 2209      2025646D 
 2209      560A00
 2210 0047 00       		.align	2
 2211              	.LC21:
 2212 0048 7664643A 		.ascii	"vdd:%dnA\012\000"
 2212      25646E41 
 2212      0A00
 2213 0052 0000     		.align	2
 2214              	.LC22:
 2215 0054 6261743A 		.ascii	"bat:%dnA\012\000"
 2215      25646E41 
 2215      0A00
 2216 005e 0000     		.align	2
 2217              	.LC23:
 2218 0060 74657374 		.ascii	"test all end, chip %d NG\012\000"
 2218      20616C6C 
 2218      20656E64 
 2218      2C206368 
 2218      69702025 
 2219 007a 0000     		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 55


 2220              	.LC24:
 2221 007c 74657374 		.ascii	"test all end, chip %d OK\012\000"
 2221      20616C6C 
 2221      20656E64 
 2221      2C206368 
 2221      69702025 
 2222              		.section	.text.system_machine_test_one,"ax",%progbits
 2223              		.align	1
 2224              		.global	system_machine_test_one
 2225              		.syntax unified
 2226              		.thumb
 2227              		.thumb_func
 2229              	system_machine_test_one:
 2230              	.LVL193:
 2231              	.LFB243:
 400:App/Src/task.c **** 
 401:App/Src/task.c **** //---------------------------------------------
 402:App/Src/task.c **** //system_machine_test_one函数，机台测试一个芯片
 403:App/Src/task.c **** //number选定芯片序号，mode分为启动模式和运转模式
 404:App/Src/task.c **** //配置温度config9才会测试温度误差
 405:App/Src/task.c **** //配置电池configC才会测试电池
 406:App/Src/task.c **** //除非是I2C不通，否则不管什么状态的芯片都会测试电流
 407:App/Src/task.c **** //---------------------------------------------
 408:App/Src/task.c **** int system_machine_test_one(uint8_t number, uint8_t mode)
 409:App/Src/task.c **** {
 2232              		.loc 1 409 1 is_stmt 1 view -0
 2233              		.cfi_startproc
 2234              		@ args = 0, pretend = 0, frame = 8
 2235              		@ frame_needed = 0, uses_anonymous_args = 0
 2236              		.loc 1 409 1 is_stmt 0 view .LVU543
 2237 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2238              	.LCFI23:
 2239              		.cfi_def_cfa_offset 28
 2240              		.cfi_offset 4, -28
 2241              		.cfi_offset 5, -24
 2242              		.cfi_offset 6, -20
 2243              		.cfi_offset 7, -16
 2244              		.cfi_offset 8, -12
 2245              		.cfi_offset 9, -8
 2246              		.cfi_offset 14, -4
 2247 0004 2DED028B 		vpush.64	{d8}
 2248              	.LCFI24:
 2249              		.cfi_def_cfa_offset 36
 2250              		.cfi_offset 80, -36
 2251              		.cfi_offset 81, -32
 2252 0008 85B0     		sub	sp, sp, #20
 2253              	.LCFI25:
 2254              		.cfi_def_cfa_offset 56
 410:App/Src/task.c **** 	float ppm4096, cur;
 2255              		.loc 1 410 2 is_stmt 1 view .LVU544
 411:App/Src/task.c **** 	// uint8_t buffer[16] = {0};
 412:App/Src/task.c **** 	int vbat = 0;
 2256              		.loc 1 412 2 view .LVU545
 2257              		.loc 1 412 6 is_stmt 0 view .LVU546
 2258 000a 0023     		movs	r3, #0
 2259 000c 0393     		str	r3, [sp, #12]
 413:App/Src/task.c **** 	// uint8_t i2c_result;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 56


 414:App/Src/task.c **** 	static uint8_t result = 1;
 2260              		.loc 1 414 2 is_stmt 1 view .LVU547
 415:App/Src/task.c ****     static uint8_t state = 0;
 2261              		.loc 1 415 5 view .LVU548
 416:App/Src/task.c ****     static uint32_t timeout;
 2262              		.loc 1 416 5 view .LVU549
 417:App/Src/task.c ****     static uint8_t testNumber = 0;
 2263              		.loc 1 417 5 view .LVU550
 418:App/Src/task.c ****     static uint32_t startTime;
 2264              		.loc 1 418 5 view .LVU551
 419:App/Src/task.c **** 
 420:App/Src/task.c ****     if (mode == 1) {//在设置开始时就设定测试序号，后续不能变更
 2265              		.loc 1 420 5 view .LVU552
 2266              		.loc 1 420 8 is_stmt 0 view .LVU553
 2267 000e 0129     		cmp	r1, #1
 2268 0010 11D0     		beq	.L180
 2269              	.LVL194:
 2270              	.L148:
 421:App/Src/task.c ****         state = 1;
 422:App/Src/task.c ****         testNumber = number;
 423:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 424:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 425:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 426:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 427:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 428:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 429:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 430:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 431:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 432:App/Src/task.c ****         startTime = HAL_GetTick();
 433:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 434:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 435:App/Src/task.c ****     }
 436:App/Src/task.c **** 
 437:App/Src/task.c ****     switch (state) {
 2271              		.loc 1 437 5 is_stmt 1 view .LVU554
 2272 0012 B54B     		ldr	r3, .L184+16
 2273 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2274 0016 013B     		subs	r3, r3, #1
 2275 0018 0A2B     		cmp	r3, #10
 2276 001a 45D8     		bhi	.L149
 2277 001c DFE813F0 		tbh	[pc, r3, lsl #1]
 2278              	.L151:
 2279 0020 3400     		.2byte	(.L160-.L151)/2
 2280 0022 4400     		.2byte	(.L149-.L151)/2
 2281 0024 5A00     		.2byte	(.L159-.L151)/2
 2282 0026 6900     		.2byte	(.L158-.L151)/2
 2283 0028 7E00     		.2byte	(.L157-.L151)/2
 2284 002a E900     		.2byte	(.L156-.L151)/2
 2285 002c 3201     		.2byte	(.L155-.L151)/2
 2286 002e 8401     		.2byte	(.L154-.L151)/2
 2287 0030 9401     		.2byte	(.L153-.L151)/2
 2288 0032 CF01     		.2byte	(.L152-.L151)/2
 2289 0034 0602     		.2byte	(.L150-.L151)/2
 2290              	.LVL195:
 2291              		.p2align 1
 2292              	.L180:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 57


 2293              		.loc 1 437 5 is_stmt 0 view .LVU555
 2294 0036 0446     		mov	r4, r0
 421:App/Src/task.c ****         state = 1;
 2295              		.loc 1 421 9 is_stmt 1 view .LVU556
 421:App/Src/task.c ****         state = 1;
 2296              		.loc 1 421 15 is_stmt 0 view .LVU557
 2297 0038 AB4B     		ldr	r3, .L184+16
 2298 003a 0122     		movs	r2, #1
 2299 003c 1A70     		strb	r2, [r3]
 422:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 2300              		.loc 1 422 9 is_stmt 1 view .LVU558
 422:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 2301              		.loc 1 422 20 is_stmt 0 view .LVU559
 2302 003e AB4B     		ldr	r3, .L184+20
 2303 0040 1870     		strb	r0, [r3]
 423:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 2304              		.loc 1 423 9 is_stmt 1 view .LVU560
 423:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 2305              		.loc 1 423 36 is_stmt 0 view .LVU561
 2306 0042 AB4B     		ldr	r3, .L184+24
 2307 0044 0022     		movs	r2, #0
 2308 0046 A3F84420 		strh	r2, [r3, #68]	@ movhi
 424:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 2309              		.loc 1 424 9 is_stmt 1 view .LVU562
 424:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 2310              		.loc 1 424 37 is_stmt 0 view .LVU563
 2311 004a A3F84620 		strh	r2, [r3, #70]	@ movhi
 425:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2312              		.loc 1 425 9 is_stmt 1 view .LVU564
 425:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2313              		.loc 1 425 39 is_stmt 0 view .LVU565
 2314 004e FF21     		movs	r1, #255
 2315              	.LVL196:
 425:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2316              		.loc 1 425 39 view .LVU566
 2317 0050 83F84810 		strb	r1, [r3, #72]
 426:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 2318              		.loc 1 426 9 is_stmt 1 view .LVU567
 426:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 2319              		.loc 1 426 39 is_stmt 0 view .LVU568
 2320 0054 83F84910 		strb	r1, [r3, #73]
 427:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 2321              		.loc 1 427 9 is_stmt 1 view .LVU569
 427:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 2322              		.loc 1 427 39 is_stmt 0 view .LVU570
 2323 0058 83F84A20 		strb	r2, [r3, #74]
 428:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 2324              		.loc 1 428 9 is_stmt 1 view .LVU571
 428:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 2325              		.loc 1 428 39 is_stmt 0 view .LVU572
 2326 005c 83F84B20 		strb	r2, [r3, #75]
 429:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 2327              		.loc 1 429 9 is_stmt 1 view .LVU573
 429:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 2328              		.loc 1 429 40 is_stmt 0 view .LVU574
 2329 0060 0021     		movs	r1, #0
 2330 0062 D964     		str	r1, [r3, #76]	@ float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 58


 430:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 2331              		.loc 1 430 9 is_stmt 1 view .LVU575
 430:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 2332              		.loc 1 430 40 is_stmt 0 view .LVU576
 2333 0064 A3F85020 		strh	r2, [r3, #80]	@ movhi
 431:App/Src/task.c ****         startTime = HAL_GetTick();
 2334              		.loc 1 431 9 is_stmt 1 view .LVU577
 431:App/Src/task.c ****         startTime = HAL_GetTick();
 2335              		.loc 1 431 38 is_stmt 0 view .LVU578
 2336 0068 A3F85220 		strh	r2, [r3, #82]	@ movhi
 432:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2337              		.loc 1 432 9 is_stmt 1 view .LVU579
 432:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2338              		.loc 1 432 21 is_stmt 0 view .LVU580
 2339 006c FFF7FEFF 		bl	HAL_GetTick
 2340              	.LVL197:
 432:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2341              		.loc 1 432 19 view .LVU581
 2342 0070 A04B     		ldr	r3, .L184+28
 2343 0072 1860     		str	r0, [r3]
 433:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 2344              		.loc 1 433 9 is_stmt 1 view .LVU582
 2345 0074 A04D     		ldr	r5, .L184+32
 2346 0076 2146     		mov	r1, r4
 2347 0078 2846     		mov	r0, r5
 2348 007a FFF7FEFF 		bl	UsbPrintf
 2349              	.LVL198:
 434:App/Src/task.c ****     }
 2350              		.loc 1 434 9 view .LVU583
 2351 007e 2146     		mov	r1, r4
 2352 0080 2846     		mov	r0, r5
 2353 0082 FFF7FEFF 		bl	log_printf
 2354              	.LVL199:
 2355 0086 C4E7     		b	.L148
 2356              	.L160:
 438:App/Src/task.c ****         case 1:
 439:App/Src/task.c **** 	        rtc_group_power(testNumber, POWER_I2C);
 2357              		.loc 1 439 10 view .LVU584
 2358 0088 0121     		movs	r1, #1
 2359 008a 984B     		ldr	r3, .L184+20
 2360 008c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2361 008e FFF7FEFF 		bl	rtc_group_power
 2362              	.LVL200:
 440:App/Src/task.c ****             result = 1; 
 2363              		.loc 1 440 13 view .LVU585
 2364              		.loc 1 440 20 is_stmt 0 view .LVU586
 2365 0092 9A4B     		ldr	r3, .L184+36
 2366 0094 0122     		movs	r2, #1
 2367 0096 1A70     		strb	r2, [r3]
 441:App/Src/task.c ****             timeout = HAL_GetTick();
 2368              		.loc 1 441 13 is_stmt 1 view .LVU587
 2369              		.loc 1 441 23 is_stmt 0 view .LVU588
 2370 0098 FFF7FEFF 		bl	HAL_GetTick
 2371              	.LVL201:
 2372              		.loc 1 441 21 view .LVU589
 2373 009c 984B     		ldr	r3, .L184+40
 2374 009e 1860     		str	r0, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 59


 442:App/Src/task.c ****             state++;
 2375              		.loc 1 442 13 is_stmt 1 view .LVU590
 2376              		.loc 1 442 18 is_stmt 0 view .LVU591
 2377 00a0 914A     		ldr	r2, .L184+16
 2378 00a2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2379 00a4 0133     		adds	r3, r3, #1
 2380 00a6 1370     		strb	r3, [r2]
 443:App/Src/task.c ****         break;
 2381              		.loc 1 443 9 is_stmt 1 view .LVU592
 2382              	.L149:
 444:App/Src/task.c ****         case 2:
 445:App/Src/task.c ****             // if (HAL_GetTick() < (timeout + 800)) {
 446:App/Src/task.c ****             //     break;
 447:App/Src/task.c ****             // }
 448:App/Src/task.c ****             // i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 449:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 450:App/Src/task.c ****             //     UsbPrintf("chip%d i2c error, test end!\n", testNumber);
 451:App/Src/task.c ****             //     log_printf("chip%d i2c error!\n", testNumber);
 452:App/Src/task.c ****             //     return -1;
 453:App/Src/task.c ****             // }
 454:App/Src/task.c ****             // g_machineTest.machine.config9 = buffer[9];
 455:App/Src/task.c ****             // g_machineTest.machine.configC = buffer[0xC];
 456:App/Src/task.c ****             // UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machi
 457:App/Src/task.c ****             // log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_mach
 458:App/Src/task.c ****             // rtc_set_testmode();
 459:App/Src/task.c ****             // if (g_machineTest.machine.config9 != 0xff) {//温度计配置了，测试温度
 460:App/Src/task.c ****             //     g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 461:App/Src/task.c ****             //     UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 462:App/Src/task.c ****             //     rtc_read_temp(&g_machineTest.machine.rtcTemp);
 463:App/Src/task.c ****             //     UsbPrintf("temp:%d\n", g_machineTest.machine.rtcTemp);
 464:App/Src/task.c ****             //     log_printf("temp:%d\n", g_machineTest.machine.rtcTemp);
 465:App/Src/task.c ****             //     if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 466:App/Src/task.c ****             //         || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 467:App/Src/task.c ****             //         result = 0;
 468:App/Src/task.c ****             //     }
 469:App/Src/task.c ****             //     state++;
 470:App/Src/task.c ****             // } else {//如果温度计没有配置，就不必测试频率误差了
 471:App/Src/task.c ****             //     if (g_machineTest.machine.configC != 0xff) {//没有配置configC就不测试电池
 472:App/Src/task.c ****             //         state = 6;
 473:App/Src/task.c ****             //     } else {
 474:App/Src/task.c ****             //         state = 8;
 475:App/Src/task.c ****             //         result = 0;
 476:App/Src/task.c ****             //     }
 477:App/Src/task.c ****             // }
 478:App/Src/task.c ****         break;
 479:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 480:App/Src/task.c ****         case 3:	
 481:App/Src/task.c ****             rtc_set_int_channel(testNumber);
 482:App/Src/task.c **** 	        rtc_out_4096();            
 483:App/Src/task.c ****             timeout = HAL_GetTick();
 484:App/Src/task.c ****             state++;
 485:App/Src/task.c ****         break;
 486:App/Src/task.c ****         case 4:
 487:App/Src/task.c ****             if (HAL_GetTick() > timeout + 100) {
 488:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 489:App/Src/task.c ****                 timeout = HAL_GetTick();
 490:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 60


 491:App/Src/task.c ****                 state++;
 492:App/Src/task.c ****             }
 493:App/Src/task.c ****         break;
 494:App/Src/task.c ****         case 5:
 495:App/Src/task.c ****             if (g_lastFreq.recordTime > timeout) {//有新的数据更新，计算误差
 496:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 497:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 498:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 499:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 500:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 501:App/Src/task.c ****                     result = 0;
 502:App/Src/task.c ****                 }
 503:App/Src/task.c **** 	            rtc_disable_int();
 504:App/Src/task.c ****                 state++;
 505:App/Src/task.c ****             }
 506:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1500) {//1.5s超时
 507:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 508:App/Src/task.c ****                 log_printf("device no respose!\n");
 509:App/Src/task.c ****                 result = 0;
 510:App/Src/task.c **** 	            rtc_disable_int();
 511:App/Src/task.c ****                 state++;
 512:App/Src/task.c ****             }
 513:App/Src/task.c ****         break;
 514:App/Src/task.c **** //---------------------------测试电池--------------------------------------------------
 515:App/Src/task.c ****         case 6://测试电池功能，电池电压
 516:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 517:App/Src/task.c ****             HAL_Delay(5);
 518:App/Src/task.c ****             rtc_read_vbat(&vbat);
 519:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 520:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 521:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 522:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {
 523:App/Src/task.c ****                 result = 0;
 524:App/Src/task.c ****             }
 525:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 526:App/Src/task.c ****             state++;
 527:App/Src/task.c ****         break;
 528:App/Src/task.c ****         case 7://充电电压
 529:App/Src/task.c ****             rtc_set_bat_charge(1);
 530:App/Src/task.c ****             HAL_Delay(5);
 531:App/Src/task.c ****             rtc_read_vbat(&vbat);
 532:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 533:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 534:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 535:App/Src/task.c ****                 result = 0;
 536:App/Src/task.c ****             }
 537:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
 538:App/Src/task.c ****             state++;
 539:App/Src/task.c ****         break;
 540:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 541:App/Src/task.c ****         case 8:	
 542:App/Src/task.c ****             rtc_set_testmode();
 543:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 544:App/Src/task.c ****             timeout = HAL_GetTick();
 545:App/Src/task.c ****             state++;
 546:App/Src/task.c ****         break;
 547:App/Src/task.c ****         case 9:	
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 61


 548:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 549:App/Src/task.c ****                 cur = CS1237Current();
 550:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 551:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 552:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 553:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 554:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 555:App/Src/task.c ****                     result = 0;
 556:App/Src/task.c ****                 }
 557:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_BAT_I);
 558:App/Src/task.c ****                 timeout = HAL_GetTick();
 559:App/Src/task.c ****                 state++;
 560:App/Src/task.c ****             }
 561:App/Src/task.c ****         break;
 562:App/Src/task.c ****         case 10:
 563:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 564:App/Src/task.c ****                 cur = CS1237Current();
 565:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 566:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 567:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 568:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 569:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 570:App/Src/task.c ****                     result = 0;
 571:App/Src/task.c ****                 }
 572:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 573:App/Src/task.c ****                 // rtc_exit_testmode();
 574:App/Src/task.c ****                 state++;
 575:App/Src/task.c ****             }
 576:App/Src/task.c ****         break;
 577:App/Src/task.c ****         case 11:
 578:App/Src/task.c ****             //-----------------------------测试结束------------------------------------------------
 579:App/Src/task.c ****             if (result == 0) {
 580:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 581:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 582:App/Src/task.c ****             } else {
 583:App/Src/task.c ****                 UsbPrintf("test all end, chip %d OK\n", testNumber);
 584:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 585:App/Src/task.c ****             }
 586:App/Src/task.c ****             state = 0;
 587:App/Src/task.c ****         break;
 588:App/Src/task.c ****         default:  break;
 589:App/Src/task.c ****     }
 590:App/Src/task.c ****     if (HAL_GetTick() > startTime + 20000) { return -1; }//单个芯片测试时间超过20s时，强制判定ng；
 2383              		.loc 1 590 5 view .LVU593
 2384              		.loc 1 590 9 is_stmt 0 view .LVU594
 2385 00a8 FFF7FEFF 		bl	HAL_GetTick
 2386              	.LVL202:
 2387              		.loc 1 590 35 view .LVU595
 2388 00ac 914B     		ldr	r3, .L184+28
 2389 00ae 1B68     		ldr	r3, [r3]
 2390 00b0 03F59C43 		add	r3, r3, #19968
 2391 00b4 2033     		adds	r3, r3, #32
 2392              		.loc 1 590 8 view .LVU596
 2393 00b6 9842     		cmp	r0, r3
 2394 00b8 00F2D481 		bhi	.L176
 591:App/Src/task.c ****     if (state == 0) {
 2395              		.loc 1 591 5 is_stmt 1 view .LVU597
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 62


 2396              		.loc 1 591 15 is_stmt 0 view .LVU598
 2397 00bc 8A4B     		ldr	r3, .L184+16
 2398 00be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2399              		.loc 1 591 8 view .LVU599
 2400 00c0 002B     		cmp	r3, #0
 2401 00c2 40F0D681 		bne	.L177
 592:App/Src/task.c ****         if (result != 0) {
 2402              		.loc 1 592 9 is_stmt 1 view .LVU600
 2403              		.loc 1 592 20 is_stmt 0 view .LVU601
 2404 00c6 8D4B     		ldr	r3, .L184+36
 2405 00c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2406              		.loc 1 592 12 view .LVU602
 2407 00ca 002B     		cmp	r3, #0
 2408 00cc 00F0D381 		beq	.L178
 593:App/Src/task.c ****             return 1;
 2409              		.loc 1 593 20 view .LVU603
 2410 00d0 0120     		movs	r0, #1
 2411 00d2 C9E1     		b	.L147
 2412              	.L159:
 481:App/Src/task.c **** 	        rtc_out_4096();            
 2413              		.loc 1 481 13 is_stmt 1 view .LVU604
 2414 00d4 854B     		ldr	r3, .L184+20
 2415 00d6 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2416 00d8 FFF7FEFF 		bl	rtc_set_int_channel
 2417              	.LVL203:
 482:App/Src/task.c ****             timeout = HAL_GetTick();
 2418              		.loc 1 482 10 view .LVU605
 2419 00dc FFF7FEFF 		bl	rtc_out_4096
 2420              	.LVL204:
 483:App/Src/task.c ****             state++;
 2421              		.loc 1 483 13 view .LVU606
 483:App/Src/task.c ****             state++;
 2422              		.loc 1 483 23 is_stmt 0 view .LVU607
 2423 00e0 FFF7FEFF 		bl	HAL_GetTick
 2424              	.LVL205:
 483:App/Src/task.c ****             state++;
 2425              		.loc 1 483 21 view .LVU608
 2426 00e4 864B     		ldr	r3, .L184+40
 2427 00e6 1860     		str	r0, [r3]
 484:App/Src/task.c ****         break;
 2428              		.loc 1 484 13 is_stmt 1 view .LVU609
 484:App/Src/task.c ****         break;
 2429              		.loc 1 484 18 is_stmt 0 view .LVU610
 2430 00e8 7F4A     		ldr	r2, .L184+16
 2431 00ea 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2432 00ec 0133     		adds	r3, r3, #1
 2433 00ee 1370     		strb	r3, [r2]
 485:App/Src/task.c ****         case 4:
 2434              		.loc 1 485 9 is_stmt 1 view .LVU611
 2435 00f0 DAE7     		b	.L149
 2436              	.L158:
 487:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2437              		.loc 1 487 13 view .LVU612
 487:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2438              		.loc 1 487 17 is_stmt 0 view .LVU613
 2439 00f2 FFF7FEFF 		bl	HAL_GetTick
 2440              	.LVL206:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 63


 487:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2441              		.loc 1 487 41 view .LVU614
 2442 00f6 824B     		ldr	r3, .L184+40
 2443 00f8 1B68     		ldr	r3, [r3]
 2444 00fa 6433     		adds	r3, r3, #100
 487:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2445              		.loc 1 487 16 view .LVU615
 2446 00fc 9842     		cmp	r0, r3
 2447 00fe D3D9     		bls	.L149
 488:App/Src/task.c ****                 timeout = HAL_GetTick();
 2448              		.loc 1 488 14 is_stmt 1 view .LVU616
 2449 0100 8048     		ldr	r0, .L184+44
 2450 0102 FFF7FEFF 		bl	DevicePrintf
 2451              	.LVL207:
 489:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2452              		.loc 1 489 17 view .LVU617
 489:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2453              		.loc 1 489 27 is_stmt 0 view .LVU618
 2454 0106 FFF7FEFF 		bl	HAL_GetTick
 2455              	.LVL208:
 489:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2456              		.loc 1 489 25 view .LVU619
 2457 010a 7D4B     		ldr	r3, .L184+40
 2458 010c 1860     		str	r0, [r3]
 490:App/Src/task.c ****                 state++;
 2459              		.loc 1 490 17 is_stmt 1 view .LVU620
 490:App/Src/task.c ****                 state++;
 2460              		.loc 1 490 39 is_stmt 0 view .LVU621
 2461 010e 7E4B     		ldr	r3, .L184+48
 2462 0110 1860     		str	r0, [r3]
 491:App/Src/task.c ****             }
 2463              		.loc 1 491 17 is_stmt 1 view .LVU622
 491:App/Src/task.c ****             }
 2464              		.loc 1 491 22 is_stmt 0 view .LVU623
 2465 0112 754A     		ldr	r2, .L184+16
 2466 0114 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2467 0116 0133     		adds	r3, r3, #1
 2468 0118 1370     		strb	r3, [r2]
 2469 011a C5E7     		b	.L149
 2470              	.L157:
 495:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2471              		.loc 1 495 13 is_stmt 1 view .LVU624
 495:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2472              		.loc 1 495 27 is_stmt 0 view .LVU625
 2473 011c 7A4B     		ldr	r3, .L184+48
 2474 011e 1A68     		ldr	r2, [r3]
 495:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2475              		.loc 1 495 39 view .LVU626
 2476 0120 774B     		ldr	r3, .L184+40
 2477 0122 1B68     		ldr	r3, [r3]
 495:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2478              		.loc 1 495 16 view .LVU627
 2479 0124 9A42     		cmp	r2, r3
 2480 0126 18D8     		bhi	.L181
 2481              	.L161:
 506:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2482              		.loc 1 506 13 is_stmt 1 view .LVU628
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 64


 506:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2483              		.loc 1 506 17 is_stmt 0 view .LVU629
 2484 0128 FFF7FEFF 		bl	HAL_GetTick
 2485              	.LVL209:
 506:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2486              		.loc 1 506 41 view .LVU630
 2487 012c 744B     		ldr	r3, .L184+40
 2488 012e 1B68     		ldr	r3, [r3]
 2489 0130 03F2DC53 		addw	r3, r3, #1500
 506:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2490              		.loc 1 506 16 view .LVU631
 2491 0134 9842     		cmp	r0, r3
 2492 0136 B7D9     		bls	.L149
 507:App/Src/task.c ****                 log_printf("device no respose!\n");
 2493              		.loc 1 507 17 is_stmt 1 view .LVU632
 2494 0138 744C     		ldr	r4, .L184+52
 2495 013a 2046     		mov	r0, r4
 2496 013c FFF7FEFF 		bl	UsbPrintf
 2497              	.LVL210:
 508:App/Src/task.c ****                 result = 0;
 2498              		.loc 1 508 17 view .LVU633
 2499 0140 2046     		mov	r0, r4
 2500 0142 FFF7FEFF 		bl	log_printf
 2501              	.LVL211:
 509:App/Src/task.c **** 	            rtc_disable_int();
 2502              		.loc 1 509 17 view .LVU634
 509:App/Src/task.c **** 	            rtc_disable_int();
 2503              		.loc 1 509 24 is_stmt 0 view .LVU635
 2504 0146 6D4B     		ldr	r3, .L184+36
 2505 0148 0022     		movs	r2, #0
 2506 014a 1A70     		strb	r2, [r3]
 510:App/Src/task.c ****                 state++;
 2507              		.loc 1 510 14 is_stmt 1 view .LVU636
 2508 014c FFF7FEFF 		bl	rtc_disable_int
 2509              	.LVL212:
 511:App/Src/task.c ****             }
 2510              		.loc 1 511 17 view .LVU637
 511:App/Src/task.c ****             }
 2511              		.loc 1 511 22 is_stmt 0 view .LVU638
 2512 0150 654A     		ldr	r2, .L184+16
 2513 0152 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2514 0154 0133     		adds	r3, r3, #1
 2515 0156 1370     		strb	r3, [r2]
 2516 0158 A6E7     		b	.L149
 2517              	.L181:
 496:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 2518              		.loc 1 496 17 is_stmt 1 view .LVU639
 496:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 2519              		.loc 1 496 60 is_stmt 0 view .LVU640
 2520 015a 6B4B     		ldr	r3, .L184+48
 2521 015c 5868     		ldr	r0, [r3, #4]	@ float
 496:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 2522              		.loc 1 496 48 view .LVU641
 2523 015e DFF89081 		ldr	r8, .L184+24
 2524 0162 C8F84C00 		str	r0, [r8, #76]	@ float
 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2525              		.loc 1 497 17 is_stmt 1 view .LVU642
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 65


 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2526              		.loc 1 497 49 is_stmt 0 view .LVU643
 2527 0166 FFF7FEFF 		bl	__aeabi_f2d
 2528              	.LVL213:
 2529 016a 0646     		mov	r6, r0
 2530 016c 0F46     		mov	r7, r1
 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2531              		.loc 1 497 59 view .LVU644
 2532 016e 5AA3     		adr	r3, .L184
 2533 0170 D3E90023 		ldrd	r2, [r3]
 2534 0174 FFF7FEFF 		bl	__aeabi_ddiv
 2535              	.LVL214:
 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2536              		.loc 1 497 67 view .LVU645
 2537 0178 0022     		movs	r2, #0
 2538 017a 654B     		ldr	r3, .L184+56
 2539 017c FFF7FEFF 		bl	__aeabi_dsub
 2540              	.LVL215:
 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2541              		.loc 1 497 72 view .LVU646
 2542 0180 57A3     		adr	r3, .L184+8
 2543 0182 D3E90023 		ldrd	r2, [r3]
 2544 0186 FFF7FEFF 		bl	__aeabi_dmul
 2545              	.LVL216:
 497:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2546              		.loc 1 497 25 view .LVU647
 2547 018a FFF7FEFF 		bl	__aeabi_d2f
 2548              	.LVL217:
 2549 018e 08EE100A 		vmov	s16, r0
 2550              	.LVL218:
 498:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2551              		.loc 1 498 17 is_stmt 1 view .LVU648
 2552 0192 FFF7FEFF 		bl	__aeabi_f2d
 2553              	.LVL219:
 498:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 2554              		.loc 1 498 17 is_stmt 0 view .LVU649
 2555 0196 0446     		mov	r4, r0
 2556 0198 0D46     		mov	r5, r1
 2557 019a DFF88891 		ldr	r9, .L184+76
 2558 019e CDE90045 		strd	r4, [sp]
 2559 01a2 3246     		mov	r2, r6
 2560 01a4 3B46     		mov	r3, r7
 2561 01a6 4846     		mov	r0, r9
 2562 01a8 FFF7FEFF 		bl	UsbPrintf
 2563              	.LVL220:
 499:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 2564              		.loc 1 499 17 is_stmt 1 view .LVU650
 2565 01ac D8F84C00 		ldr	r0, [r8, #76]	@ float
 2566 01b0 FFF7FEFF 		bl	__aeabi_f2d
 2567              	.LVL221:
 2568 01b4 0246     		mov	r2, r0
 2569 01b6 0B46     		mov	r3, r1
 2570 01b8 CDE90045 		strd	r4, [sp]
 2571 01bc 4846     		mov	r0, r9
 2572 01be FFF7FEFF 		bl	log_printf
 2573              	.LVL222:
 500:App/Src/task.c ****                     result = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 66


 2574              		.loc 1 500 17 view .LVU651
 500:App/Src/task.c ****                     result = 0;
 2575              		.loc 1 500 20 is_stmt 0 view .LVU652
 2576 01c2 F8EE087A 		vmov.f32	s15, #-3.0e+0
 2577 01c6 B4EEE78A 		vcmpe.f32	s16, s15
 2578 01ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2579 01ce 06D4     		bmi	.L162
 500:App/Src/task.c ****                     result = 0;
 2580              		.loc 1 500 34 discriminator 1 view .LVU653
 2581 01d0 F0EE087A 		vmov.f32	s15, #3.0e+0
 2582 01d4 B4EEE78A 		vcmpe.f32	s16, s15
 2583 01d8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2584 01dc 02DD     		ble	.L163
 2585              	.L162:
 501:App/Src/task.c ****                 }
 2586              		.loc 1 501 21 is_stmt 1 view .LVU654
 501:App/Src/task.c ****                 }
 2587              		.loc 1 501 28 is_stmt 0 view .LVU655
 2588 01de 474B     		ldr	r3, .L184+36
 2589 01e0 0022     		movs	r2, #0
 2590 01e2 1A70     		strb	r2, [r3]
 2591              	.L163:
 503:App/Src/task.c ****                 state++;
 2592              		.loc 1 503 14 is_stmt 1 view .LVU656
 2593 01e4 FFF7FEFF 		bl	rtc_disable_int
 2594              	.LVL223:
 504:App/Src/task.c ****             }
 2595              		.loc 1 504 17 view .LVU657
 504:App/Src/task.c ****             }
 2596              		.loc 1 504 22 is_stmt 0 view .LVU658
 2597 01e8 3F4A     		ldr	r2, .L184+16
 2598 01ea 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2599 01ec 0133     		adds	r3, r3, #1
 2600 01ee 1370     		strb	r3, [r2]
 2601 01f0 9AE7     		b	.L161
 2602              	.LVL224:
 2603              	.L156:
 516:App/Src/task.c ****             HAL_Delay(5);
 2604              		.loc 1 516 13 is_stmt 1 view .LVU659
 516:App/Src/task.c ****             HAL_Delay(5);
 2605              		.loc 1 516 65 is_stmt 0 view .LVU660
 2606 01f2 3E4B     		ldr	r3, .L184+20
 2607 01f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2608 01f6 013B     		subs	r3, r3, #1
 516:App/Src/task.c ****             HAL_Delay(5);
 2609              		.loc 1 516 70 view .LVU661
 2610 01f8 4649     		ldr	r1, .L184+60
 2611 01fa 81FB0321 		smull	r2, r1, r1, r3
 2612 01fe 1944     		add	r1, r1, r3
 2613 0200 DB17     		asrs	r3, r3, #31
 2614 0202 C3EBE103 		rsb	r3, r3, r1, asr #3
 516:App/Src/task.c ****             HAL_Delay(5);
 2615              		.loc 1 516 49 view .LVU662
 2616 0206 0421     		movs	r1, #4
 2617 0208 9940     		lsls	r1, r1, r3
 516:App/Src/task.c ****             HAL_Delay(5);
 2618              		.loc 1 516 13 view .LVU663
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 67


 2619 020a 0022     		movs	r2, #0
 2620 020c 89B2     		uxth	r1, r1
 2621 020e 4248     		ldr	r0, .L184+64
 2622 0210 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2623              	.LVL225:
 517:App/Src/task.c ****             rtc_read_vbat(&vbat);
 2624              		.loc 1 517 13 is_stmt 1 view .LVU664
 2625 0214 0520     		movs	r0, #5
 2626 0216 FFF7FEFF 		bl	HAL_Delay
 2627              	.LVL226:
 518:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 2628              		.loc 1 518 13 view .LVU665
 2629 021a 03A8     		add	r0, sp, #12
 2630 021c FFF7FEFF 		bl	rtc_read_vbat
 2631              	.LVL227:
 519:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 2632              		.loc 1 519 13 view .LVU666
 519:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 2633              		.loc 1 519 44 is_stmt 0 view .LVU667
 2634 0220 0399     		ldr	r1, [sp, #12]
 2635 0222 01EB8101 		add	r1, r1, r1, lsl #2
 2636 0226 4900     		lsls	r1, r1, #1
 2637 0228 89B2     		uxth	r1, r1
 2638 022a 314C     		ldr	r4, .L184+24
 2639 022c A4F85010 		strh	r1, [r4, #80]	@ movhi
 520:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 2640              		.loc 1 520 13 is_stmt 1 view .LVU668
 2641 0230 3A4D     		ldr	r5, .L184+68
 2642 0232 2846     		mov	r0, r5
 2643 0234 FFF7FEFF 		bl	UsbPrintf
 2644              	.LVL228:
 521:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {
 2645              		.loc 1 521 13 view .LVU669
 2646 0238 B4F85010 		ldrh	r1, [r4, #80]
 2647 023c 2846     		mov	r0, r5
 2648 023e FFF7FEFF 		bl	log_printf
 2649              	.LVL229:
 522:App/Src/task.c ****                 result = 0;
 2650              		.loc 1 522 13 view .LVU670
 522:App/Src/task.c ****                 result = 0;
 2651              		.loc 1 522 38 is_stmt 0 view .LVU671
 2652 0242 B4F85030 		ldrh	r3, [r4, #80]
 522:App/Src/task.c ****                 result = 0;
 2653              		.loc 1 522 55 view .LVU672
 2654 0246 A3F6FC03 		subw	r3, r3, #2300
 2655 024a 9BB2     		uxth	r3, r3
 522:App/Src/task.c ****                 result = 0;
 2656              		.loc 1 522 16 view .LVU673
 2657 024c B3F5C87F 		cmp	r3, #400
 2658 0250 02D9     		bls	.L165
 523:App/Src/task.c ****             }
 2659              		.loc 1 523 17 is_stmt 1 view .LVU674
 523:App/Src/task.c ****             }
 2660              		.loc 1 523 24 is_stmt 0 view .LVU675
 2661 0252 2A4B     		ldr	r3, .L184+36
 2662 0254 0022     		movs	r2, #0
 2663 0256 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 68


 2664              	.L165:
 525:App/Src/task.c ****             state++;
 2665              		.loc 1 525 13 is_stmt 1 view .LVU676
 525:App/Src/task.c ****             state++;
 2666              		.loc 1 525 65 is_stmt 0 view .LVU677
 2667 0258 244B     		ldr	r3, .L184+20
 2668 025a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2669 025c 013B     		subs	r3, r3, #1
 525:App/Src/task.c ****             state++;
 2670              		.loc 1 525 70 view .LVU678
 2671 025e 2D49     		ldr	r1, .L184+60
 2672 0260 81FB0321 		smull	r2, r1, r1, r3
 2673 0264 1944     		add	r1, r1, r3
 2674 0266 DB17     		asrs	r3, r3, #31
 2675 0268 C3EBE103 		rsb	r3, r3, r1, asr #3
 525:App/Src/task.c ****             state++;
 2676              		.loc 1 525 49 view .LVU679
 2677 026c 0421     		movs	r1, #4
 2678 026e 9940     		lsls	r1, r1, r3
 525:App/Src/task.c ****             state++;
 2679              		.loc 1 525 13 view .LVU680
 2680 0270 0122     		movs	r2, #1
 2681 0272 89B2     		uxth	r1, r1
 2682 0274 2848     		ldr	r0, .L184+64
 2683 0276 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2684              	.LVL230:
 526:App/Src/task.c ****         break;
 2685              		.loc 1 526 13 is_stmt 1 view .LVU681
 526:App/Src/task.c ****         break;
 2686              		.loc 1 526 18 is_stmt 0 view .LVU682
 2687 027a 1B4A     		ldr	r2, .L184+16
 2688 027c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2689 027e 0133     		adds	r3, r3, #1
 2690 0280 1370     		strb	r3, [r2]
 527:App/Src/task.c ****         case 7://充电电压
 2691              		.loc 1 527 9 is_stmt 1 view .LVU683
 2692 0282 11E7     		b	.L149
 2693              	.L155:
 529:App/Src/task.c ****             HAL_Delay(5);
 2694              		.loc 1 529 13 view .LVU684
 2695 0284 0120     		movs	r0, #1
 2696 0286 FFF7FEFF 		bl	rtc_set_bat_charge
 2697              	.LVL231:
 530:App/Src/task.c ****             rtc_read_vbat(&vbat);
 2698              		.loc 1 530 13 view .LVU685
 2699 028a 0520     		movs	r0, #5
 2700 028c FFF7FEFF 		bl	HAL_Delay
 2701              	.LVL232:
 531:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 2702              		.loc 1 531 13 view .LVU686
 2703 0290 03A8     		add	r0, sp, #12
 2704 0292 FFF7FEFF 		bl	rtc_read_vbat
 2705              	.LVL233:
 532:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 2706              		.loc 1 532 13 view .LVU687
 532:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 2707              		.loc 1 532 42 is_stmt 0 view .LVU688
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 69


 2708 0296 0399     		ldr	r1, [sp, #12]
 2709 0298 01EB8101 		add	r1, r1, r1, lsl #2
 2710 029c 4900     		lsls	r1, r1, #1
 2711 029e 89B2     		uxth	r1, r1
 2712 02a0 134C     		ldr	r4, .L184+24
 2713 02a2 A4F85210 		strh	r1, [r4, #82]	@ movhi
 533:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 2714              		.loc 1 533 13 is_stmt 1 view .LVU689
 2715 02a6 1E48     		ldr	r0, .L184+72
 2716 02a8 FFF7FEFF 		bl	UsbPrintf
 2717              	.LVL234:
 534:App/Src/task.c ****                 result = 0;
 2718              		.loc 1 534 13 view .LVU690
 534:App/Src/task.c ****                 result = 0;
 2719              		.loc 1 534 38 is_stmt 0 view .LVU691
 2720 02ac B4F85230 		ldrh	r3, [r4, #82]
 534:App/Src/task.c ****                 result = 0;
 2721              		.loc 1 534 53 view .LVU692
 2722 02b0 A3F52F63 		sub	r3, r3, #2800
 2723 02b4 9BB2     		uxth	r3, r3
 534:App/Src/task.c ****                 result = 0;
 2724              		.loc 1 534 16 view .LVU693
 2725 02b6 B3F52F7F 		cmp	r3, #700
 2726 02ba 02D9     		bls	.L166
 535:App/Src/task.c ****             }
 2727              		.loc 1 535 17 is_stmt 1 view .LVU694
 535:App/Src/task.c ****             }
 2728              		.loc 1 535 24 is_stmt 0 view .LVU695
 2729 02bc 0F4B     		ldr	r3, .L184+36
 2730 02be 0022     		movs	r2, #0
 2731 02c0 1A70     		strb	r2, [r3]
 2732              	.L166:
 537:App/Src/task.c ****             state++;
 2733              		.loc 1 537 13 is_stmt 1 view .LVU696
 2734 02c2 0020     		movs	r0, #0
 2735 02c4 FFF7FEFF 		bl	rtc_set_bat_charge
 2736              	.LVL235:
 538:App/Src/task.c ****         break;
 2737              		.loc 1 538 13 view .LVU697
 538:App/Src/task.c ****         break;
 2738              		.loc 1 538 18 is_stmt 0 view .LVU698
 2739 02c8 074A     		ldr	r2, .L184+16
 2740 02ca 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2741 02cc 0133     		adds	r3, r3, #1
 2742 02ce 1370     		strb	r3, [r2]
 539:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 2743              		.loc 1 539 9 is_stmt 1 view .LVU699
 2744 02d0 EAE6     		b	.L149
 2745              	.L185:
 2746 02d2 00BFAFF3 		.align	3
 2746      0080
 2747              	.L184:
 2748 02d8 FCA9F1D2 		.word	-755914244
 2749 02dc 4D621040 		.word	1074815565
 2750 02e0 00000000 		.word	0
 2751 02e4 80842E41 		.word	1093567616
 2752 02e8 00000000 		.word	.LANCHOR16
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 70


 2753 02ec 00000000 		.word	.LANCHOR17
 2754 02f0 00000000 		.word	.LANCHOR18
 2755 02f4 00000000 		.word	.LANCHOR19
 2756 02f8 00000000 		.word	.LC17
 2757 02fc 00000000 		.word	.LANCHOR20
 2758 0300 00000000 		.word	.LANCHOR21
 2759 0304 50000000 		.word	.LC5
 2760 0308 00000000 		.word	.LANCHOR7
 2761 030c 84000000 		.word	.LC8
 2762 0310 0000F03F 		.word	1072693248
 2763 0314 93244992 		.word	-1840700269
 2764 0318 00040240 		.word	1073873920
 2765 031c 28000000 		.word	.LC19
 2766 0320 38000000 		.word	.LC20
 2767 0324 18000000 		.word	.LC18
 2768              	.L154:
 542:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 2769              		.loc 1 542 13 view .LVU700
 2770 0328 FFF7FEFF 		bl	rtc_set_testmode
 2771              	.LVL236:
 543:App/Src/task.c ****             timeout = HAL_GetTick();
 2772              		.loc 1 543 13 view .LVU701
 2773 032c 0321     		movs	r1, #3
 2774 032e 534B     		ldr	r3, .L186
 2775 0330 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2776 0332 FFF7FEFF 		bl	rtc_group_power
 2777              	.LVL237:
 544:App/Src/task.c ****             state++;
 2778              		.loc 1 544 13 view .LVU702
 544:App/Src/task.c ****             state++;
 2779              		.loc 1 544 23 is_stmt 0 view .LVU703
 2780 0336 FFF7FEFF 		bl	HAL_GetTick
 2781              	.LVL238:
 544:App/Src/task.c ****             state++;
 2782              		.loc 1 544 21 view .LVU704
 2783 033a 514B     		ldr	r3, .L186+4
 2784 033c 1860     		str	r0, [r3]
 545:App/Src/task.c ****         break;
 2785              		.loc 1 545 13 is_stmt 1 view .LVU705
 545:App/Src/task.c ****         break;
 2786              		.loc 1 545 18 is_stmt 0 view .LVU706
 2787 033e 514A     		ldr	r2, .L186+8
 2788 0340 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2789 0342 0133     		adds	r3, r3, #1
 2790 0344 1370     		strb	r3, [r2]
 546:App/Src/task.c ****         case 9:	
 2791              		.loc 1 546 9 is_stmt 1 view .LVU707
 2792 0346 AFE6     		b	.L149
 2793              	.L153:
 548:App/Src/task.c ****                 cur = CS1237Current();
 2794              		.loc 1 548 13 view .LVU708
 548:App/Src/task.c ****                 cur = CS1237Current();
 2795              		.loc 1 548 17 is_stmt 0 view .LVU709
 2796 0348 FFF7FEFF 		bl	HAL_GetTick
 2797              	.LVL239:
 548:App/Src/task.c ****                 cur = CS1237Current();
 2798              		.loc 1 548 42 view .LVU710
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 71


 2799 034c 4C4B     		ldr	r3, .L186+4
 2800 034e 1B68     		ldr	r3, [r3]
 2801 0350 03F57A73 		add	r3, r3, #1000
 548:App/Src/task.c ****                 cur = CS1237Current();
 2802              		.loc 1 548 16 view .LVU711
 2803 0354 9842     		cmp	r0, r3
 2804 0356 7FF6A7AE 		bls	.L149
 549:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2805              		.loc 1 549 17 is_stmt 1 view .LVU712
 549:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2806              		.loc 1 549 23 is_stmt 0 view .LVU713
 2807 035a FFF7FEFF 		bl	CS1237Current
 2808              	.LVL240:
 550:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2809              		.loc 1 550 17 is_stmt 1 view .LVU714
 550:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2810              		.loc 1 550 20 is_stmt 0 view .LVU715
 2811 035e B5EEC00A 		vcmpe.f32	s0, #0
 2812 0362 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2813 0366 27D4     		bmi	.L182
 2814              	.LVL241:
 2815              	.L167:
 551:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2816              		.loc 1 551 17 is_stmt 1 view .LVU716
 551:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2817              		.loc 1 551 46 is_stmt 0 view .LVU717
 2818 0368 BDEEC00A 		vcvt.s32.f32	s0, s0
 2819              	.LVL242:
 551:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2820              		.loc 1 551 44 view .LVU718
 2821 036c 10EE103A 		vmov	r3, s0	@ int
 2822 0370 99B2     		uxth	r1, r3
 2823 0372 454C     		ldr	r4, .L186+12
 2824 0374 A4F84410 		strh	r1, [r4, #68]	@ movhi
 552:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2825              		.loc 1 552 17 is_stmt 1 view .LVU719
 2826 0378 444D     		ldr	r5, .L186+16
 2827 037a 2846     		mov	r0, r5
 2828 037c FFF7FEFF 		bl	UsbPrintf
 2829              	.LVL243:
 553:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 2830              		.loc 1 553 17 view .LVU720
 2831 0380 B4F84410 		ldrh	r1, [r4, #68]
 2832 0384 2846     		mov	r0, r5
 2833 0386 FFF7FEFF 		bl	log_printf
 2834              	.LVL244:
 554:App/Src/task.c ****                     result = 0;
 2835              		.loc 1 554 17 view .LVU721
 554:App/Src/task.c ****                     result = 0;
 2836              		.loc 1 554 42 is_stmt 0 view .LVU722
 2837 038a B4F84420 		ldrh	r2, [r4, #68]
 554:App/Src/task.c ****                     result = 0;
 2838              		.loc 1 554 20 view .LVU723
 2839 038e 40F2DC53 		movw	r3, #1500
 2840 0392 9A42     		cmp	r2, r3
 2841 0394 02D9     		bls	.L168
 555:App/Src/task.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 72


 2842              		.loc 1 555 21 is_stmt 1 view .LVU724
 555:App/Src/task.c ****                 }
 2843              		.loc 1 555 28 is_stmt 0 view .LVU725
 2844 0396 3E4B     		ldr	r3, .L186+20
 2845 0398 0022     		movs	r2, #0
 2846 039a 1A70     		strb	r2, [r3]
 2847              	.L168:
 557:App/Src/task.c ****                 timeout = HAL_GetTick();
 2848              		.loc 1 557 17 is_stmt 1 view .LVU726
 2849 039c 0221     		movs	r1, #2
 2850 039e 374B     		ldr	r3, .L186
 2851 03a0 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2852 03a2 FFF7FEFF 		bl	rtc_group_power
 2853              	.LVL245:
 558:App/Src/task.c ****                 state++;
 2854              		.loc 1 558 17 view .LVU727
 558:App/Src/task.c ****                 state++;
 2855              		.loc 1 558 27 is_stmt 0 view .LVU728
 2856 03a6 FFF7FEFF 		bl	HAL_GetTick
 2857              	.LVL246:
 558:App/Src/task.c ****                 state++;
 2858              		.loc 1 558 25 view .LVU729
 2859 03aa 354B     		ldr	r3, .L186+4
 2860 03ac 1860     		str	r0, [r3]
 559:App/Src/task.c ****             }
 2861              		.loc 1 559 17 is_stmt 1 view .LVU730
 559:App/Src/task.c ****             }
 2862              		.loc 1 559 22 is_stmt 0 view .LVU731
 2863 03ae 354A     		ldr	r2, .L186+8
 2864 03b0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2865 03b2 0133     		adds	r3, r3, #1
 2866 03b4 1370     		strb	r3, [r2]
 2867 03b6 77E6     		b	.L149
 2868              	.LVL247:
 2869              	.L182:
 550:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2870              		.loc 1 550 35 view .LVU732
 2871 03b8 9FED360A 		vldr.32	s0, .L186+24
 2872              	.LVL248:
 550:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2873              		.loc 1 550 35 view .LVU733
 2874 03bc D4E7     		b	.L167
 2875              	.L152:
 563:App/Src/task.c ****                 cur = CS1237Current();
 2876              		.loc 1 563 13 is_stmt 1 view .LVU734
 563:App/Src/task.c ****                 cur = CS1237Current();
 2877              		.loc 1 563 17 is_stmt 0 view .LVU735
 2878 03be FFF7FEFF 		bl	HAL_GetTick
 2879              	.LVL249:
 563:App/Src/task.c ****                 cur = CS1237Current();
 2880              		.loc 1 563 42 view .LVU736
 2881 03c2 2F4B     		ldr	r3, .L186+4
 2882 03c4 1B68     		ldr	r3, [r3]
 2883 03c6 03F57A73 		add	r3, r3, #1000
 563:App/Src/task.c ****                 cur = CS1237Current();
 2884              		.loc 1 563 16 view .LVU737
 2885 03ca 9842     		cmp	r0, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 73


 2886 03cc 7FF66CAE 		bls	.L149
 564:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2887              		.loc 1 564 17 is_stmt 1 view .LVU738
 564:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2888              		.loc 1 564 23 is_stmt 0 view .LVU739
 2889 03d0 FFF7FEFF 		bl	CS1237Current
 2890              	.LVL250:
 565:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 2891              		.loc 1 565 17 is_stmt 1 view .LVU740
 565:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 2892              		.loc 1 565 20 is_stmt 0 view .LVU741
 2893 03d4 B5EEC00A 		vcmpe.f32	s0, #0
 2894 03d8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2895 03dc 23D4     		bmi	.L183
 2896              	.LVL251:
 2897              	.L169:
 566:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 2898              		.loc 1 566 17 is_stmt 1 view .LVU742
 566:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 2899              		.loc 1 566 46 is_stmt 0 view .LVU743
 2900 03de BDEEC00A 		vcvt.s32.f32	s0, s0
 2901              	.LVL252:
 566:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 2902              		.loc 1 566 45 view .LVU744
 2903 03e2 10EE103A 		vmov	r3, s0	@ int
 2904 03e6 99B2     		uxth	r1, r3
 2905 03e8 274C     		ldr	r4, .L186+12
 2906 03ea A4F84610 		strh	r1, [r4, #70]	@ movhi
 567:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 2907              		.loc 1 567 17 is_stmt 1 view .LVU745
 2908 03ee 2A4D     		ldr	r5, .L186+28
 2909 03f0 2846     		mov	r0, r5
 2910 03f2 FFF7FEFF 		bl	UsbPrintf
 2911              	.LVL253:
 568:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 2912              		.loc 1 568 17 view .LVU746
 2913 03f6 B4F84610 		ldrh	r1, [r4, #70]
 2914 03fa 2846     		mov	r0, r5
 2915 03fc FFF7FEFF 		bl	log_printf
 2916              	.LVL254:
 569:App/Src/task.c ****                     result = 0;
 2917              		.loc 1 569 17 view .LVU747
 569:App/Src/task.c ****                     result = 0;
 2918              		.loc 1 569 42 is_stmt 0 view .LVU748
 2919 0400 B4F84620 		ldrh	r2, [r4, #70]
 569:App/Src/task.c ****                     result = 0;
 2920              		.loc 1 569 20 view .LVU749
 2921 0404 40F2DC53 		movw	r3, #1500
 2922 0408 9A42     		cmp	r2, r3
 2923 040a 02D9     		bls	.L170
 570:App/Src/task.c ****                 }
 2924              		.loc 1 570 21 is_stmt 1 view .LVU750
 570:App/Src/task.c ****                 }
 2925              		.loc 1 570 28 is_stmt 0 view .LVU751
 2926 040c 204B     		ldr	r3, .L186+20
 2927 040e 0022     		movs	r2, #0
 2928 0410 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 74


 2929              	.L170:
 572:App/Src/task.c ****                 // rtc_exit_testmode();
 2930              		.loc 1 572 17 is_stmt 1 view .LVU752
 2931 0412 0121     		movs	r1, #1
 2932 0414 194B     		ldr	r3, .L186
 2933 0416 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2934 0418 FFF7FEFF 		bl	rtc_group_power
 2935              	.LVL255:
 574:App/Src/task.c ****             }
 2936              		.loc 1 574 17 view .LVU753
 574:App/Src/task.c ****             }
 2937              		.loc 1 574 22 is_stmt 0 view .LVU754
 2938 041c 194A     		ldr	r2, .L186+8
 2939 041e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2940 0420 0133     		adds	r3, r3, #1
 2941 0422 1370     		strb	r3, [r2]
 2942 0424 40E6     		b	.L149
 2943              	.LVL256:
 2944              	.L183:
 565:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 2945              		.loc 1 565 35 view .LVU755
 2946 0426 9FED1B0A 		vldr.32	s0, .L186+24
 2947              	.LVL257:
 565:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 2948              		.loc 1 565 35 view .LVU756
 2949 042a D8E7     		b	.L169
 2950              	.L150:
 579:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2951              		.loc 1 579 13 is_stmt 1 view .LVU757
 579:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2952              		.loc 1 579 24 is_stmt 0 view .LVU758
 2953 042c 184B     		ldr	r3, .L186+20
 2954 042e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 579:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2955              		.loc 1 579 16 view .LVU759
 2956 0430 6BB9     		cbnz	r3, .L171
 580:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 2957              		.loc 1 580 17 is_stmt 1 view .LVU760
 2958 0432 124D     		ldr	r5, .L186
 2959 0434 194C     		ldr	r4, .L186+32
 2960 0436 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2961 0438 2046     		mov	r0, r4
 2962 043a FFF7FEFF 		bl	UsbPrintf
 2963              	.LVL258:
 581:App/Src/task.c ****             } else {
 2964              		.loc 1 581 17 view .LVU761
 2965 043e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2966 0440 2046     		mov	r0, r4
 2967 0442 FFF7FEFF 		bl	log_printf
 2968              	.LVL259:
 2969              	.L172:
 586:App/Src/task.c ****         break;
 2970              		.loc 1 586 13 view .LVU762
 586:App/Src/task.c ****         break;
 2971              		.loc 1 586 19 is_stmt 0 view .LVU763
 2972 0446 0F4B     		ldr	r3, .L186+8
 2973 0448 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 75


 2974 044a 1A70     		strb	r2, [r3]
 587:App/Src/task.c ****         default:  break;
 2975              		.loc 1 587 9 is_stmt 1 view .LVU764
 2976 044c 2CE6     		b	.L149
 2977              	.L171:
 583:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 2978              		.loc 1 583 17 view .LVU765
 2979 044e 0B4D     		ldr	r5, .L186
 2980 0450 134C     		ldr	r4, .L186+36
 2981 0452 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2982 0454 2046     		mov	r0, r4
 2983 0456 FFF7FEFF 		bl	UsbPrintf
 2984              	.LVL260:
 584:App/Src/task.c ****             }
 2985              		.loc 1 584 17 view .LVU766
 2986 045a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2987 045c 2046     		mov	r0, r4
 2988 045e FFF7FEFF 		bl	log_printf
 2989              	.LVL261:
 2990 0462 F0E7     		b	.L172
 2991              	.L176:
 590:App/Src/task.c ****     if (state == 0) {
 2992              		.loc 1 590 53 is_stmt 0 view .LVU767
 2993 0464 4FF0FF30 		mov	r0, #-1
 2994              	.L147:
 594:App/Src/task.c ****         } else {
 595:App/Src/task.c ****             return -1;
 596:App/Src/task.c ****         }
 597:App/Src/task.c ****     } else {
 598:App/Src/task.c ****         return 0;
 599:App/Src/task.c ****     }
 600:App/Src/task.c **** }
 2995              		.loc 1 600 1 view .LVU768
 2996 0468 05B0     		add	sp, sp, #20
 2997              	.LCFI26:
 2998              		.cfi_remember_state
 2999              		.cfi_def_cfa_offset 36
 3000              		@ sp needed
 3001 046a BDEC028B 		vldm	sp!, {d8}
 3002              	.LCFI27:
 3003              		.cfi_restore 80
 3004              		.cfi_restore 81
 3005              		.cfi_def_cfa_offset 28
 3006 046e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3007              	.L177:
 3008              	.LCFI28:
 3009              		.cfi_restore_state
 598:App/Src/task.c ****     }
 3010              		.loc 1 598 16 view .LVU769
 3011 0472 0020     		movs	r0, #0
 3012 0474 F8E7     		b	.L147
 3013              	.L178:
 595:App/Src/task.c ****         }
 3014              		.loc 1 595 20 view .LVU770
 3015 0476 4FF0FF30 		mov	r0, #-1
 3016 047a F5E7     		b	.L147
 3017              	.L187:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 76


 3018              		.align	2
 3019              	.L186:
 3020 047c 00000000 		.word	.LANCHOR17
 3021 0480 00000000 		.word	.LANCHOR21
 3022 0484 00000000 		.word	.LANCHOR16
 3023 0488 00000000 		.word	.LANCHOR18
 3024 048c 48000000 		.word	.LC21
 3025 0490 00000000 		.word	.LANCHOR20
 3026 0494 00000000 		.word	0
 3027 0498 54000000 		.word	.LC22
 3028 049c 60000000 		.word	.LC23
 3029 04a0 7C000000 		.word	.LC24
 3030              		.cfi_endproc
 3031              	.LFE243:
 3033              		.section	.text.make_chip_ID,"ax",%progbits
 3034              		.align	1
 3035              		.global	make_chip_ID
 3036              		.syntax unified
 3037              		.thumb
 3038              		.thumb_func
 3040              	make_chip_ID:
 3041              	.LVL262:
 3042              	.LFB244:
 601:App/Src/task.c **** 
 602:App/Src/task.c **** void make_chip_ID(uint8_t* buffer, uint8_t number)
 603:App/Src/task.c **** {
 3043              		.loc 1 603 1 is_stmt 1 view -0
 3044              		.cfi_startproc
 3045              		@ args = 0, pretend = 0, frame = 0
 3046              		@ frame_needed = 0, uses_anonymous_args = 0
 3047              		@ link register save eliminated.
 604:App/Src/task.c ****     buffer[0] = 0x23;
 3048              		.loc 1 604 5 view .LVU772
 3049              		.loc 1 604 15 is_stmt 0 view .LVU773
 3050 0000 2322     		movs	r2, #35
 3051 0002 0270     		strb	r2, [r0]
 605:App/Src/task.c ****     buffer[1] = 0x10;
 3052              		.loc 1 605 5 is_stmt 1 view .LVU774
 3053              		.loc 1 605 15 is_stmt 0 view .LVU775
 3054 0004 1023     		movs	r3, #16
 3055 0006 4370     		strb	r3, [r0, #1]
 606:App/Src/task.c ****     buffer[2] = 0x09;
 3056              		.loc 1 606 5 is_stmt 1 view .LVU776
 3057              		.loc 1 606 15 is_stmt 0 view .LVU777
 3058 0008 0923     		movs	r3, #9
 3059 000a 8370     		strb	r3, [r0, #2]
 607:App/Src/task.c ****     buffer[3] = 0x00;
 3060              		.loc 1 607 5 is_stmt 1 view .LVU778
 3061              		.loc 1 607 15 is_stmt 0 view .LVU779
 3062 000c 0023     		movs	r3, #0
 3063 000e C370     		strb	r3, [r0, #3]
 608:App/Src/task.c ****     buffer[4] = 0x23;
 3064              		.loc 1 608 5 is_stmt 1 view .LVU780
 3065              		.loc 1 608 15 is_stmt 0 view .LVU781
 3066 0010 0271     		strb	r2, [r0, #4]
 609:App/Src/task.c ****     buffer[5] = 0x41;
 3067              		.loc 1 609 5 is_stmt 1 view .LVU782
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 77


 3068              		.loc 1 609 15 is_stmt 0 view .LVU783
 3069 0012 4122     		movs	r2, #65
 3070 0014 4271     		strb	r2, [r0, #5]
 610:App/Src/task.c ****     buffer[6] = 0x00;
 3071              		.loc 1 610 5 is_stmt 1 view .LVU784
 3072              		.loc 1 610 15 is_stmt 0 view .LVU785
 3073 0016 8371     		strb	r3, [r0, #6]
 611:App/Src/task.c ****     buffer[7] = ((number / 10) * 16) + (number % 10);
 3074              		.loc 1 611 5 is_stmt 1 view .LVU786
 3075              		.loc 1 611 38 is_stmt 0 view .LVU787
 3076 0018 A3F13333 		sub	r3, r3, #858993459
 3077 001c A3FB0123 		umull	r2, r3, r3, r1
 3078 0020 DB08     		lsrs	r3, r3, #3
 3079 0022 03EB8302 		add	r2, r3, r3, lsl #2
 3080 0026 A1EB4201 		sub	r1, r1, r2, lsl #1
 3081              	.LVL263:
 3082              		.loc 1 611 38 view .LVU788
 3083 002a 01EB0311 		add	r1, r1, r3, lsl #4
 3084              		.loc 1 611 15 view .LVU789
 3085 002e C171     		strb	r1, [r0, #7]
 612:App/Src/task.c **** }
 3086              		.loc 1 612 1 view .LVU790
 3087 0030 7047     		bx	lr
 3088              		.cfi_endproc
 3089              	.LFE244:
 3091              		.section	.rodata.system_machine_write_one.str1.4,"aMS",%progbits,1
 3092              		.align	2
 3093              	.LC25:
 3094 0000 6D616368 		.ascii	"machine test chip:%d start\012\000"
 3094      696E6520 
 3094      74657374 
 3094      20636869 
 3094      703A2564 
 3095              		.align	2
 3096              	.LC26:
 3097 001c 636F6E66 		.ascii	"config9:0x%02X, configC:0x%02X\012\000"
 3097      6967393A 
 3097      30782530 
 3097      32582C20 
 3097      636F6E66 
 3098              		.align	2
 3099              	.LC27:
 3100 003c 63686970 		.ascii	"chip%d config9 not set, test end!\012\000"
 3100      25642063 
 3100      6F6E6669 
 3100      6739206E 
 3100      6F742073 
 3101 005f 00       		.align	2
 3102              	.LC28:
 3103 0060 73797374 		.ascii	"system temp:%d, \000"
 3103      656D2074 
 3103      656D703A 
 3103      25642C20 
 3103      00
 3104 0071 000000   		.align	2
 3105              	.LC29:
 3106 0074 72746320 		.ascii	"rtc temp:%d\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 78


 3106      74656D70 
 3106      3A25640A 
 3106      00
 3107 0081 000000   		.align	2
 3108              	.LC30:
 3109 0084 63616C63 		.ascii	"calculate configC:0x%02x\012\000"
 3109      756C6174 
 3109      6520636F 
 3109      6E666967 
 3109      433A3078 
 3110 009e 0000     		.align	2
 3111              	.LC31:
 3112 00a0 6F747020 		.ascii	"otp lock!\012\000"
 3112      6C6F636B 
 3112      210A00
 3113 00ab 00       		.align	2
 3114              	.LC32:
 3115 00ac 63686970 		.ascii	"chip %d otp download error, i2c[%d], config[0x%02x]"
 3115      20256420 
 3115      6F747020 
 3115      646F776E 
 3115      6C6F6164 
 3116 00df 0A00     		.ascii	"\012\000"
 3117 00e1 000000   		.align	2
 3118              	.LC33:
 3119 00e4 63686970 		.ascii	"chip %d otp download error\012\000"
 3119      20256420 
 3119      6F747020 
 3119      646F776E 
 3119      6C6F6164 
 3120              		.align	2
 3121              	.LC34:
 3122 0100 63686970 		.ascii	"chip %d otp download success\012\000"
 3122      20256420 
 3122      6F747020 
 3122      646F776E 
 3122      6C6F6164 
 3123 011e 0000     		.align	2
 3124              	.LC35:
 3125 0120 77616974 		.ascii	"waiting 1s for power off, then renew otp\012\000"
 3125      696E6720 
 3125      31732066 
 3125      6F722070 
 3125      6F776572 
 3126              		.section	.text.system_machine_write_one,"ax",%progbits
 3127              		.align	1
 3128              		.global	system_machine_write_one
 3129              		.syntax unified
 3130              		.thumb
 3131              		.thumb_func
 3133              	system_machine_write_one:
 3134              	.LVL264:
 3135              	.LFB245:
 613:App/Src/task.c **** 
 614:App/Src/task.c **** 
 615:App/Src/task.c **** 
 616:App/Src/task.c **** //-------------------检烧模式-----------------------------------------------
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 79


 617:App/Src/task.c **** //即若configc为空，需要烧录otp
 618:App/Src/task.c **** #define TASK_MCHAINE_TEST_END   20
 619:App/Src/task.c **** int system_machine_write_one(uint8_t number, uint8_t mode)
 620:App/Src/task.c **** {
 3136              		.loc 1 620 1 is_stmt 1 view -0
 3137              		.cfi_startproc
 3138              		@ args = 0, pretend = 0, frame = 32
 3139              		@ frame_needed = 0, uses_anonymous_args = 0
 3140              		.loc 1 620 1 is_stmt 0 view .LVU792
 3141 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3142              	.LCFI29:
 3143              		.cfi_def_cfa_offset 28
 3144              		.cfi_offset 4, -28
 3145              		.cfi_offset 5, -24
 3146              		.cfi_offset 6, -20
 3147              		.cfi_offset 7, -16
 3148              		.cfi_offset 8, -12
 3149              		.cfi_offset 9, -8
 3150              		.cfi_offset 14, -4
 3151 0004 2DED028B 		vpush.64	{d8}
 3152              	.LCFI30:
 3153              		.cfi_def_cfa_offset 36
 3154              		.cfi_offset 80, -36
 3155              		.cfi_offset 81, -32
 3156 0008 8BB0     		sub	sp, sp, #44
 3157              	.LCFI31:
 3158              		.cfi_def_cfa_offset 80
 3159 000a 0446     		mov	r4, r0
 621:App/Src/task.c **** 	float ppm4096, cur;
 3160              		.loc 1 621 2 is_stmt 1 view .LVU793
 622:App/Src/task.c **** 	uint8_t buffer[16] = {0};
 3161              		.loc 1 622 2 view .LVU794
 3162              		.loc 1 622 10 is_stmt 0 view .LVU795
 3163 000c 0023     		movs	r3, #0
 3164 000e 0693     		str	r3, [sp, #24]
 3165 0010 0793     		str	r3, [sp, #28]
 3166 0012 0893     		str	r3, [sp, #32]
 3167 0014 0993     		str	r3, [sp, #36]
 623:App/Src/task.c **** 	int vbat = 0;
 3168              		.loc 1 623 2 is_stmt 1 view .LVU796
 3169              		.loc 1 623 6 is_stmt 0 view .LVU797
 3170 0016 0593     		str	r3, [sp, #20]
 624:App/Src/task.c **** 	uint8_t i2c_result;
 3171              		.loc 1 624 2 is_stmt 1 view .LVU798
 625:App/Src/task.c ****     static uint8_t testConfigC = 0;
 3172              		.loc 1 625 5 view .LVU799
 626:App/Src/task.c **** 	static uint8_t result = 1;
 3173              		.loc 1 626 2 view .LVU800
 627:App/Src/task.c ****     static uint8_t state = 0;
 3174              		.loc 1 627 5 view .LVU801
 628:App/Src/task.c ****     static uint32_t timeout;
 3175              		.loc 1 628 5 view .LVU802
 629:App/Src/task.c ****     uint32_t address;	
 3176              		.loc 1 629 5 view .LVU803
 630:App/Src/task.c ****     static uint8_t testNumber = 0;
 3177              		.loc 1 630 5 view .LVU804
 631:App/Src/task.c ****     uint8_t readConfig = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 80


 3178              		.loc 1 631 5 view .LVU805
 3179              	.LVL265:
 632:App/Src/task.c ****     static uint32_t startTime;
 3180              		.loc 1 632 5 view .LVU806
 633:App/Src/task.c **** 
 634:App/Src/task.c ****     if (mode == 1) {//在设置开始时就设定测试序号，后续不能变更
 3181              		.loc 1 634 5 view .LVU807
 3182              		.loc 1 634 8 is_stmt 0 view .LVU808
 3183 0018 0129     		cmp	r1, #1
 3184 001a 1AD0     		beq	.L238
 3185              	.LVL266:
 3186              	.L190:
 635:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 636:App/Src/task.c ****         flash_read_data(address, buffer, 4);
 637:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 638:App/Src/task.c ****             state = 0;
 639:App/Src/task.c ****             return 1;
 640:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 641:App/Src/task.c ****         state = 1;
 642:App/Src/task.c ****         testNumber = number;
 643:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 644:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 645:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 646:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 647:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 648:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 649:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 650:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 651:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 652:App/Src/task.c ****         testConfigC = 0;
 653:App/Src/task.c ****         startTime = HAL_GetTick();
 654:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 655:App/Src/task.c ****         log_printf("machine test chip:%d start\n", number);
 656:App/Src/task.c ****     }
 657:App/Src/task.c **** 
 658:App/Src/task.c ****     switch (state) {
 3187              		.loc 1 658 5 is_stmt 1 view .LVU809
 3188 001c B64B     		ldr	r3, .L243+16
 3189 001e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3190 0020 531E     		subs	r3, r2, #1
 3191 0022 132B     		cmp	r3, #19
 3192 0024 6BD8     		bhi	.L194
 3193 0026 DFE813F0 		tbh	[pc, r3, lsl #1]
 3194              	.L196:
 3195 002a 5A00     		.2byte	(.L209-.L196)/2
 3196 002c 8000     		.2byte	(.L208-.L196)/2
 3197 002e E600     		.2byte	(.L207-.L196)/2
 3198 0030 F500     		.2byte	(.L206-.L196)/2
 3199 0032 0B01     		.2byte	(.L205-.L196)/2
 3200 0034 A401     		.2byte	(.L204-.L196)/2
 3201 0036 0902     		.2byte	(.L203-.L196)/2
 3202 0038 4E02     		.2byte	(.L202-.L196)/2
 3203 003a 7502     		.2byte	(.L201-.L196)/2
 3204 003c CD02     		.2byte	(.L200-.L196)/2
 3205 003e 2103     		.2byte	(.L199-.L196)/2
 3206 0040 3103     		.2byte	(.L198-.L196)/2
 3207 0042 6C03     		.2byte	(.L197-.L196)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 81


 3208 0044 6A00     		.2byte	(.L194-.L196)/2
 3209 0046 6A00     		.2byte	(.L194-.L196)/2
 3210 0048 6A00     		.2byte	(.L194-.L196)/2
 3211 004a 6A00     		.2byte	(.L194-.L196)/2
 3212 004c 6A00     		.2byte	(.L194-.L196)/2
 3213 004e 6A00     		.2byte	(.L194-.L196)/2
 3214 0050 A503     		.2byte	(.L195-.L196)/2
 3215              	.LVL267:
 3216              		.p2align 1
 3217              	.L238:
 635:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3218              		.loc 1 635 9 view .LVU810
 635:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3219              		.loc 1 635 42 is_stmt 0 view .LVU811
 3220 0052 0730     		adds	r0, r0, #7
 3221              	.LVL268:
 635:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3222              		.loc 1 635 42 view .LVU812
 3223 0054 4002     		lsls	r0, r0, #9
 3224              	.LVL269:
 636:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 3225              		.loc 1 636 9 is_stmt 1 view .LVU813
 3226 0056 0422     		movs	r2, #4
 3227 0058 06A9     		add	r1, sp, #24
 3228              	.LVL270:
 636:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 3229              		.loc 1 636 9 is_stmt 0 view .LVU814
 3230 005a 4230     		adds	r0, r0, #66
 3231              	.LVL271:
 636:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 3232              		.loc 1 636 9 view .LVU815
 3233 005c FFF7FEFF 		bl	flash_read_data
 3234              	.LVL272:
 637:App/Src/task.c ****             state = 0;
 3235              		.loc 1 637 9 is_stmt 1 view .LVU816
 637:App/Src/task.c ****             state = 0;
 3236              		.loc 1 637 19 is_stmt 0 view .LVU817
 3237 0060 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 637:App/Src/task.c ****             state = 0;
 3238              		.loc 1 637 12 view .LVU818
 3239 0064 FF2B     		cmp	r3, #255
 3240 0066 0BD1     		bne	.L191
 637:App/Src/task.c ****             state = 0;
 3241              		.loc 1 637 40 discriminator 1 view .LVU819
 3242 0068 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 637:App/Src/task.c ****             state = 0;
 3243              		.loc 1 637 31 discriminator 1 view .LVU820
 3244 006c FF2B     		cmp	r3, #255
 3245 006e 07D1     		bne	.L191
 637:App/Src/task.c ****             state = 0;
 3246              		.loc 1 637 61 discriminator 2 view .LVU821
 3247 0070 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 637:App/Src/task.c ****             state = 0;
 3248              		.loc 1 637 52 discriminator 2 view .LVU822
 3249 0074 FF2B     		cmp	r3, #255
 3250 0076 03D1     		bne	.L191
 637:App/Src/task.c ****             state = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 82


 3251              		.loc 1 637 82 discriminator 3 view .LVU823
 3252 0078 9DF81B30 		ldrb	r3, [sp, #27]	@ zero_extendqisi2
 637:App/Src/task.c ****             state = 0;
 3253              		.loc 1 637 73 discriminator 3 view .LVU824
 3254 007c FF2B     		cmp	r3, #255
 3255 007e 04D0     		beq	.L192
 3256              	.L191:
 638:App/Src/task.c ****             return 1;
 3257              		.loc 1 638 13 is_stmt 1 view .LVU825
 638:App/Src/task.c ****             return 1;
 3258              		.loc 1 638 19 is_stmt 0 view .LVU826
 3259 0080 9D4B     		ldr	r3, .L243+16
 3260 0082 0022     		movs	r2, #0
 3261 0084 1A70     		strb	r2, [r3]
 639:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 3262              		.loc 1 639 13 is_stmt 1 view .LVU827
 639:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 3263              		.loc 1 639 20 is_stmt 0 view .LVU828
 3264 0086 0120     		movs	r0, #1
 3265 0088 97E3     		b	.L189
 3266              	.L192:
 641:App/Src/task.c ****         testNumber = number;
 3267              		.loc 1 641 9 is_stmt 1 view .LVU829
 641:App/Src/task.c ****         testNumber = number;
 3268              		.loc 1 641 15 is_stmt 0 view .LVU830
 3269 008a 9B4B     		ldr	r3, .L243+16
 3270 008c 0122     		movs	r2, #1
 3271 008e 1A70     		strb	r2, [r3]
 642:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 3272              		.loc 1 642 9 is_stmt 1 view .LVU831
 642:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 3273              		.loc 1 642 20 is_stmt 0 view .LVU832
 3274 0090 9A4B     		ldr	r3, .L243+20
 3275 0092 1C70     		strb	r4, [r3]
 643:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 3276              		.loc 1 643 9 is_stmt 1 view .LVU833
 643:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 3277              		.loc 1 643 36 is_stmt 0 view .LVU834
 3278 0094 9A4B     		ldr	r3, .L243+24
 3279 0096 0022     		movs	r2, #0
 3280 0098 A3F84420 		strh	r2, [r3, #68]	@ movhi
 644:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 3281              		.loc 1 644 9 is_stmt 1 view .LVU835
 644:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 3282              		.loc 1 644 37 is_stmt 0 view .LVU836
 3283 009c A3F84620 		strh	r2, [r3, #70]	@ movhi
 645:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 3284              		.loc 1 645 9 is_stmt 1 view .LVU837
 645:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 3285              		.loc 1 645 39 is_stmt 0 view .LVU838
 3286 00a0 FF21     		movs	r1, #255
 3287 00a2 83F84810 		strb	r1, [r3, #72]
 646:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 3288              		.loc 1 646 9 is_stmt 1 view .LVU839
 646:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 3289              		.loc 1 646 39 is_stmt 0 view .LVU840
 3290 00a6 83F84910 		strb	r1, [r3, #73]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 83


 647:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 3291              		.loc 1 647 9 is_stmt 1 view .LVU841
 647:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 3292              		.loc 1 647 39 is_stmt 0 view .LVU842
 3293 00aa 83F84A20 		strb	r2, [r3, #74]
 648:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 3294              		.loc 1 648 9 is_stmt 1 view .LVU843
 648:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 3295              		.loc 1 648 39 is_stmt 0 view .LVU844
 3296 00ae 83F84B20 		strb	r2, [r3, #75]
 649:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 3297              		.loc 1 649 9 is_stmt 1 view .LVU845
 649:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 3298              		.loc 1 649 40 is_stmt 0 view .LVU846
 3299 00b2 0021     		movs	r1, #0
 3300 00b4 D964     		str	r1, [r3, #76]	@ float
 650:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 3301              		.loc 1 650 9 is_stmt 1 view .LVU847
 650:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 3302              		.loc 1 650 40 is_stmt 0 view .LVU848
 3303 00b6 A3F85020 		strh	r2, [r3, #80]	@ movhi
 651:App/Src/task.c ****         testConfigC = 0;
 3304              		.loc 1 651 9 is_stmt 1 view .LVU849
 651:App/Src/task.c ****         testConfigC = 0;
 3305              		.loc 1 651 38 is_stmt 0 view .LVU850
 3306 00ba A3F85220 		strh	r2, [r3, #82]	@ movhi
 652:App/Src/task.c ****         startTime = HAL_GetTick();
 3307              		.loc 1 652 9 is_stmt 1 view .LVU851
 652:App/Src/task.c ****         startTime = HAL_GetTick();
 3308              		.loc 1 652 21 is_stmt 0 view .LVU852
 3309 00be 914B     		ldr	r3, .L243+28
 3310 00c0 1A70     		strb	r2, [r3]
 653:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3311              		.loc 1 653 9 is_stmt 1 view .LVU853
 653:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3312              		.loc 1 653 21 is_stmt 0 view .LVU854
 3313 00c2 FFF7FEFF 		bl	HAL_GetTick
 3314              	.LVL273:
 653:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3315              		.loc 1 653 19 view .LVU855
 3316 00c6 904B     		ldr	r3, .L243+32
 3317 00c8 1860     		str	r0, [r3]
 654:App/Src/task.c ****         log_printf("machine test chip:%d start\n", number);
 3318              		.loc 1 654 9 is_stmt 1 view .LVU856
 3319 00ca 904D     		ldr	r5, .L243+36
 3320 00cc 2146     		mov	r1, r4
 3321 00ce 2846     		mov	r0, r5
 3322 00d0 FFF7FEFF 		bl	UsbPrintf
 3323              	.LVL274:
 655:App/Src/task.c ****     }
 3324              		.loc 1 655 9 view .LVU857
 3325 00d4 2146     		mov	r1, r4
 3326 00d6 2846     		mov	r0, r5
 3327 00d8 FFF7FEFF 		bl	log_printf
 3328              	.LVL275:
 3329 00dc 9EE7     		b	.L190
 3330              	.LVL276:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 84


 3331              	.L209:
 659:App/Src/task.c ****         case 1:
 660:App/Src/task.c **** 	        rtc_group_power(testNumber, POWER_I2C);
 3332              		.loc 1 660 10 view .LVU858
 3333 00de 0121     		movs	r1, #1
 3334 00e0 864B     		ldr	r3, .L243+20
 3335 00e2 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3336 00e4 FFF7FEFF 		bl	rtc_group_power
 3337              	.LVL277:
 661:App/Src/task.c ****             result = 1;
 3338              		.loc 1 661 13 view .LVU859
 3339              		.loc 1 661 20 is_stmt 0 view .LVU860
 3340 00e8 894B     		ldr	r3, .L243+40
 3341 00ea 0122     		movs	r2, #1
 3342 00ec 1A70     		strb	r2, [r3]
 662:App/Src/task.c ****             timeout = HAL_GetTick();
 3343              		.loc 1 662 13 is_stmt 1 view .LVU861
 3344              		.loc 1 662 23 is_stmt 0 view .LVU862
 3345 00ee FFF7FEFF 		bl	HAL_GetTick
 3346              	.LVL278:
 3347              		.loc 1 662 21 view .LVU863
 3348 00f2 884B     		ldr	r3, .L243+44
 3349 00f4 1860     		str	r0, [r3]
 663:App/Src/task.c ****             state++;
 3350              		.loc 1 663 13 is_stmt 1 view .LVU864
 3351              		.loc 1 663 18 is_stmt 0 view .LVU865
 3352 00f6 804A     		ldr	r2, .L243+16
 3353 00f8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3354 00fa 0133     		adds	r3, r3, #1
 3355 00fc 1370     		strb	r3, [r2]
 664:App/Src/task.c ****         break;
 3356              		.loc 1 664 9 is_stmt 1 view .LVU866
 3357              	.LVL279:
 3358              	.L194:
 665:App/Src/task.c ****         case 2:
 666:App/Src/task.c ****             if (HAL_GetTick() < (timeout + 800)) {
 667:App/Src/task.c ****                 break;
 668:App/Src/task.c ****             }
 669:App/Src/task.c ****             // i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 670:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 671:App/Src/task.c ****             //     HAL_Delay(5);
 672:App/Src/task.c ****             //     i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 673:App/Src/task.c ****             // }
 674:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 675:App/Src/task.c ****             //     state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 676:App/Src/task.c ****             //     UsbPrintf("chip%d i2c error, test end!\n", number);
 677:App/Src/task.c ****             //     log_printf("chip%d i2c error!\n", number);
 678:App/Src/task.c ****             //     result = 0;
 679:App/Src/task.c ****             //     break;
 680:App/Src/task.c ****             // }
 681:App/Src/task.c ****             g_machineTest.machine.config9 = buffer[9];
 682:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 683:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 684:App/Src/task.c ****             log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machine
 685:App/Src/task.c ****             if (g_machineTest.machine.config9 == 0xff) {
 686:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 687:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 85


 688:App/Src/task.c ****                 log_printf("chip%d config9 not set, test end!\n", number);
 689:App/Src/task.c ****                 result = 0;
 690:App/Src/task.c ****                 break;
 691:App/Src/task.c ****             }
 692:App/Src/task.c ****             rtc_set_testmode();
 693:App/Src/task.c ****             g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 694:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 695:App/Src/task.c ****             rtc_read_temp(&g_machineTest.machine.rtcTemp);
 696:App/Src/task.c ****             UsbPrintf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 697:App/Src/task.c ****             log_printf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 698:App/Src/task.c ****             if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 699:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 700:App/Src/task.c ****                 result = 0;
 701:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 702:App/Src/task.c ****                 break;
 703:App/Src/task.c ****             }
 704:App/Src/task.c ****             state++;
 705:App/Src/task.c ****         break;
 706:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 707:App/Src/task.c ****         case 3:	
 708:App/Src/task.c ****             rtc_set_int_channel(testNumber);
 709:App/Src/task.c **** 	        rtc_out_4096();            
 710:App/Src/task.c ****             timeout = HAL_GetTick();
 711:App/Src/task.c ****             state++;
 712:App/Src/task.c ****         break;
 713:App/Src/task.c ****         case 4:
 714:App/Src/task.c ****             if (HAL_GetTick() > timeout + 100) {
 715:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 716:App/Src/task.c ****                 timeout = HAL_GetTick();
 717:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 718:App/Src/task.c ****                 state++;
 719:App/Src/task.c ****             }
 720:App/Src/task.c ****         break;
 721:App/Src/task.c ****         case 5:
 722:App/Src/task.c ****             if (g_lastFreq.recordTime > timeout) {//有新的数据更新，计算误差
 723:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 724:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 725:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 726:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 727:App/Src/task.c **** 	            rtc_disable_int();
 728:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 729:App/Src/task.c ****                     result = 0;
 730:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 731:App/Src/task.c ****                     break;
 732:App/Src/task.c ****                 }
 733:App/Src/task.c ****                 state++;
 734:App/Src/task.c ****             }
 735:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1500) {//1.5s超时
 736:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 737:App/Src/task.c ****                 log_printf("device no respose!\n");
 738:App/Src/task.c ****                 result = 0;
 739:App/Src/task.c **** 	            rtc_disable_int();
 740:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 741:App/Src/task.c ****                 break;
 742:App/Src/task.c ****             }
 743:App/Src/task.c ****         break;
 744:App/Src/task.c **** //---------------------------测试电池--------------------------------------------------
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 86


 745:App/Src/task.c ****         case 6://------------------检查电池电压数值并写入configc------------------
 746:App/Src/task.c ****             // rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 747:App/Src/task.c ****             if (buffer[0x0C] != 0xff) {//configC存在数据，跳过烧录阶段
 748:App/Src/task.c ****                 state += 3;
 749:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 750:App/Src/task.c ****                 if (buffer[0] & 0x80) {//未被锁死，可以正常烧录
 751:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 752:App/Src/task.c ****                     HAL_Delay(10);
 753:App/Src/task.c ****                     rtc_read_vbat(&vbat);
 754:App/Src/task.c ****                     testConfigC = vbat - 250;
 755:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 756:App/Src/task.c ****                     log_printf("calculate configC:0x%02x\n", testConfigC);
 757:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 758:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 759:App/Src/task.c ****                         result = 0;
 760:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
 761:App/Src/task.c ****                         break;
 762:App/Src/task.c ****                     }
 763:App/Src/task.c ****                     // rtc_group_power(testNumber, POWER_DOWNLOAD);
 764:App/Src/task.c ****                     state++;
 765:App/Src/task.c ****                 } else {
 766:App/Src/task.c ****                     result = 0;
 767:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 768:App/Src/task.c ****                     log_printf("otp lock!\n");
 769:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;
 770:App/Src/task.c ****                 }
 771:App/Src/task.c ****             }
 772:App/Src/task.c ****         break;
 773:App/Src/task.c ****         case 7://写otp的configC数据
 774:App/Src/task.c ****             i2c_result = rtc_download_otp_data(&testConfigC, SD3900_CONFIGC_ADDR, 1);//write config
 775:App/Src/task.c ****             readConfig = 0xff;
 776:App/Src/task.c ****             // rtc_read_otp_data(&readConfig, SD3900_CONFIGC_ADDR, 1);
 777:App/Src/task.c ****             if (i2c_result != I2C_OK || readConfig != testConfigC) {
 778:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 779:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 780:App/Src/task.c ****                 result = 0; 
 781:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 782:App/Src/task.c ****             } else {
 783:App/Src/task.c ****                 UsbPrintf("chip %d otp download success\n", testNumber);
 784:App/Src/task.c ****             }
 785:App/Src/task.c ****             make_chip_ID(buffer, testNumber);
 786:App/Src/task.c ****             rtc_download_otp_data(buffer, SD3900_ID_ADDR, 8);//write id
 787:App/Src/task.c ****             buffer[0] = 0x7f;
 788:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 789:App/Src/task.c ****             rtc_group_power(0, POWER_OFF);
 790:App/Src/task.c ****             UsbPrintf("waiting 1s for power off, then renew otp\n");
 791:App/Src/task.c ****             timeout = HAL_GetTick();
 792:App/Src/task.c ****             state++;
 793:App/Src/task.c ****         break;
 794:App/Src/task.c ****         case 8:
 795:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1000) {
 796:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 797:App/Src/task.c ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 798:App/Src/task.c ****                 timeout = HAL_GetTick();
 799:App/Src/task.c ****                 state++;
 800:App/Src/task.c ****             }
 801:App/Src/task.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 87


 802:App/Src/task.c ****         case 9://测试电池功能，电池电压
 803:App/Src/task.c ****             if (HAL_GetTick() < timeout + 800) {
 804:App/Src/task.c ****                 break;
 805:App/Src/task.c ****             }
 806:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 807:App/Src/task.c ****             HAL_Delay(10);
 808:App/Src/task.c ****             rtc_read_vbat(&vbat);
 809:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 810:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 811:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 812:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 813:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 814:App/Src/task.c ****                 result = 0;
 815:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 816:App/Src/task.c ****                 break;
 817:App/Src/task.c ****             }
 818:App/Src/task.c ****             state++;
 819:App/Src/task.c ****         break;
 820:App/Src/task.c ****         case 10://充电电压
 821:App/Src/task.c ****             rtc_set_bat_charge(1);
 822:App/Src/task.c ****             HAL_Delay(5);
 823:App/Src/task.c ****             rtc_read_vbat(&vbat);
 824:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 825:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 826:App/Src/task.c ****             log_printf("charge = %dmV\n", g_machineTest.machine.charge);
 827:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
 828:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 829:App/Src/task.c ****                 result = 0;
 830:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 831:App/Src/task.c ****                 break;
 832:App/Src/task.c ****             }
 833:App/Src/task.c ****             state++;
 834:App/Src/task.c ****         break;
 835:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 836:App/Src/task.c ****         case 11:	
 837:App/Src/task.c ****             rtc_set_testmode();
 838:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 839:App/Src/task.c ****             timeout = HAL_GetTick();
 840:App/Src/task.c ****             state++;
 841:App/Src/task.c ****         break;
 842:App/Src/task.c ****         case 12:	
 843:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 844:App/Src/task.c ****                 cur = CS1237Current();
 845:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 846:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 847:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 848:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 849:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 850:App/Src/task.c ****                     result = 0;
 851:App/Src/task.c ****                 }
 852:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_BAT_I);
 853:App/Src/task.c ****                 timeout = HAL_GetTick();
 854:App/Src/task.c ****                 state++;
 855:App/Src/task.c ****             }
 856:App/Src/task.c ****         break;
 857:App/Src/task.c ****         case 13:
 858:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 88


 859:App/Src/task.c ****                 cur = CS1237Current();
 860:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 861:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 862:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 863:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 864:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 865:App/Src/task.c ****                     result = 0;
 866:App/Src/task.c ****                 }
 867:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 868:App/Src/task.c ****                 HAL_Delay(5);
 869:App/Src/task.c ****                 // rtc_exit_testmode();
 870:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 871:App/Src/task.c ****             }
 872:App/Src/task.c ****         break;
 873:App/Src/task.c ****         case TASK_MCHAINE_TEST_END:
 874:App/Src/task.c ****             //-----------------------------测试结束------------------------------------------------
 875:App/Src/task.c ****             if (result == 0) {
 876:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 877:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 878:App/Src/task.c ****             } else {
 879:App/Src/task.c ****                 UsbPrintf("test all end, chip %d OK\n", testNumber);
 880:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 881:App/Src/task.c ****                 flash_test_data_write_add(&g_machineTest, testNumber, MACHINE_TEST_ALL);
 882:App/Src/task.c ****             }
 883:App/Src/task.c ****             state = 0;
 884:App/Src/task.c ****         break;
 885:App/Src/task.c ****         default:  break;
 886:App/Src/task.c ****     }
 887:App/Src/task.c ****     if (HAL_GetTick() > startTime + 20000) { return -1; }//单个芯片测试时间超过20s时，强制判定ng；
 3359              		.loc 1 887 5 view .LVU867
 3360              		.loc 1 887 9 is_stmt 0 view .LVU868
 3361 00fe FFF7FEFF 		bl	HAL_GetTick
 3362              	.LVL280:
 3363              		.loc 1 887 35 view .LVU869
 3364 0102 814B     		ldr	r3, .L243+32
 3365 0104 1B68     		ldr	r3, [r3]
 3366 0106 03F59C43 		add	r3, r3, #19968
 3367 010a 2033     		adds	r3, r3, #32
 3368              		.loc 1 887 8 view .LVU870
 3369 010c 9842     		cmp	r0, r3
 3370 010e 00F25283 		bhi	.L233
 888:App/Src/task.c ****     if (state == 0) {
 3371              		.loc 1 888 5 is_stmt 1 view .LVU871
 3372              		.loc 1 888 15 is_stmt 0 view .LVU872
 3373 0112 794B     		ldr	r3, .L243+16
 3374 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3375              		.loc 1 888 8 view .LVU873
 3376 0116 002B     		cmp	r3, #0
 3377 0118 40F05483 		bne	.L234
 889:App/Src/task.c ****         if (result != 0) {
 3378              		.loc 1 889 9 is_stmt 1 view .LVU874
 3379              		.loc 1 889 20 is_stmt 0 view .LVU875
 3380 011c 7C4B     		ldr	r3, .L243+40
 3381 011e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3382              		.loc 1 889 12 view .LVU876
 3383 0120 002B     		cmp	r3, #0
 3384 0122 00F05183 		beq	.L235
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 89


 890:App/Src/task.c ****             return 1;
 3385              		.loc 1 890 20 view .LVU877
 3386 0126 0120     		movs	r0, #1
 3387 0128 47E3     		b	.L189
 3388              	.LVL281:
 3389              	.L208:
 666:App/Src/task.c ****                 break;
 3390              		.loc 1 666 13 is_stmt 1 view .LVU878
 666:App/Src/task.c ****                 break;
 3391              		.loc 1 666 17 is_stmt 0 view .LVU879
 3392 012a FFF7FEFF 		bl	HAL_GetTick
 3393              	.LVL282:
 666:App/Src/task.c ****                 break;
 3394              		.loc 1 666 42 view .LVU880
 3395 012e 794B     		ldr	r3, .L243+44
 3396 0130 1B68     		ldr	r3, [r3]
 3397 0132 03F54873 		add	r3, r3, #800
 666:App/Src/task.c ****                 break;
 3398              		.loc 1 666 16 view .LVU881
 3399 0136 9842     		cmp	r0, r3
 3400 0138 E1D3     		bcc	.L194
 681:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3401              		.loc 1 681 13 is_stmt 1 view .LVU882
 681:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3402              		.loc 1 681 51 is_stmt 0 view .LVU883
 3403 013a 9DF82110 		ldrb	r1, [sp, #33]	@ zero_extendqisi2
 681:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3404              		.loc 1 681 43 view .LVU884
 3405 013e 704D     		ldr	r5, .L243+24
 3406 0140 85F84810 		strb	r1, [r5, #72]
 682:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3407              		.loc 1 682 13 is_stmt 1 view .LVU885
 682:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3408              		.loc 1 682 51 is_stmt 0 view .LVU886
 3409 0144 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 682:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3410              		.loc 1 682 43 view .LVU887
 3411 0148 85F84920 		strb	r2, [r5, #73]
 683:App/Src/task.c ****             log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machine
 3412              		.loc 1 683 13 is_stmt 1 view .LVU888
 3413 014c 724E     		ldr	r6, .L243+48
 3414 014e 3046     		mov	r0, r6
 3415 0150 FFF7FEFF 		bl	UsbPrintf
 3416              	.LVL283:
 684:App/Src/task.c ****             if (g_machineTest.machine.config9 == 0xff) {
 3417              		.loc 1 684 13 view .LVU889
 3418 0154 95F84920 		ldrb	r2, [r5, #73]	@ zero_extendqisi2
 3419 0158 95F84810 		ldrb	r1, [r5, #72]	@ zero_extendqisi2
 3420 015c 3046     		mov	r0, r6
 3421 015e FFF7FEFF 		bl	log_printf
 3422              	.LVL284:
 685:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 3423              		.loc 1 685 13 view .LVU890
 685:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 3424              		.loc 1 685 38 is_stmt 0 view .LVU891
 3425 0162 95F84830 		ldrb	r3, [r5, #72]	@ zero_extendqisi2
 685:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 90


 3426              		.loc 1 685 16 view .LVU892
 3427 0166 FF2B     		cmp	r3, #255
 3428 0168 30D0     		beq	.L239
 692:App/Src/task.c ****             g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 3429              		.loc 1 692 13 is_stmt 1 view .LVU893
 3430 016a FFF7FEFF 		bl	rtc_set_testmode
 3431              	.LVL285:
 693:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3432              		.loc 1 693 13 view .LVU894
 693:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3433              		.loc 1 693 50 is_stmt 0 view .LVU895
 3434 016e 0120     		movs	r0, #1
 3435 0170 FFF7FEFF 		bl	temp_read_value
 3436              	.LVL286:
 693:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3437              		.loc 1 693 45 view .LVU896
 3438 0174 FDEEC07A 		vcvt.s32.f32	s15, s0
 3439 0178 CDED037A 		vstr.32	s15, [sp, #12]	@ int
 693:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3440              		.loc 1 693 43 view .LVU897
 3441 017c 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
 3442 0180 5F4C     		ldr	r4, .L243+24
 3443 0182 84F84A10 		strb	r1, [r4, #74]
 694:App/Src/task.c ****             rtc_read_temp(&g_machineTest.machine.rtcTemp);
 3444              		.loc 1 694 13 is_stmt 1 view .LVU898
 3445 0186 6548     		ldr	r0, .L243+52
 3446 0188 FFF7FEFF 		bl	UsbPrintf
 3447              	.LVL287:
 695:App/Src/task.c ****             UsbPrintf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 3448              		.loc 1 695 13 view .LVU899
 3449 018c 04F14B00 		add	r0, r4, #75
 3450 0190 FFF7FEFF 		bl	rtc_read_temp
 3451              	.LVL288:
 696:App/Src/task.c ****             log_printf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 3452              		.loc 1 696 13 view .LVU900
 3453 0194 624D     		ldr	r5, .L243+56
 3454 0196 94F84B10 		ldrb	r1, [r4, #75]	@ zero_extendqisi2
 3455 019a 2846     		mov	r0, r5
 3456 019c FFF7FEFF 		bl	UsbPrintf
 3457              	.LVL289:
 697:App/Src/task.c ****             if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 3458              		.loc 1 697 13 view .LVU901
 3459 01a0 94F84B10 		ldrb	r1, [r4, #75]	@ zero_extendqisi2
 3460 01a4 2846     		mov	r0, r5
 3461 01a6 FFF7FEFF 		bl	log_printf
 3462              	.LVL290:
 698:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3463              		.loc 1 698 13 view .LVU902
 698:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3464              		.loc 1 698 38 is_stmt 0 view .LVU903
 3465 01aa 94F84B20 		ldrb	r2, [r4, #75]	@ zero_extendqisi2
 698:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3466              		.loc 1 698 71 view .LVU904
 3467 01ae 94F84A30 		ldrb	r3, [r4, #74]	@ zero_extendqisi2
 698:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3468              		.loc 1 698 80 view .LVU905
 3469 01b2 591D     		adds	r1, r3, #5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 91


 698:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3470              		.loc 1 698 16 view .LVU906
 3471 01b4 8A42     		cmp	r2, r1
 3472 01b6 02DC     		bgt	.L211
 699:App/Src/task.c ****                 result = 0;
 3473              		.loc 1 699 83 view .LVU907
 3474 01b8 053B     		subs	r3, r3, #5
 699:App/Src/task.c ****                 result = 0;
 3475              		.loc 1 699 17 view .LVU908
 3476 01ba 9A42     		cmp	r2, r3
 3477 01bc 16DA     		bge	.L212
 3478              	.L211:
 700:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 3479              		.loc 1 700 17 is_stmt 1 view .LVU909
 700:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 3480              		.loc 1 700 24 is_stmt 0 view .LVU910
 3481 01be 544B     		ldr	r3, .L243+40
 3482 01c0 0022     		movs	r2, #0
 3483 01c2 1A70     		strb	r2, [r3]
 701:App/Src/task.c ****                 break;
 3484              		.loc 1 701 17 is_stmt 1 view .LVU911
 701:App/Src/task.c ****                 break;
 3485              		.loc 1 701 23 is_stmt 0 view .LVU912
 3486 01c4 4C4B     		ldr	r3, .L243+16
 3487 01c6 1422     		movs	r2, #20
 3488 01c8 1A70     		strb	r2, [r3]
 702:App/Src/task.c ****             }
 3489              		.loc 1 702 17 is_stmt 1 view .LVU913
 3490 01ca 98E7     		b	.L194
 3491              	.L239:
 686:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
 3492              		.loc 1 686 17 view .LVU914
 686:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
 3493              		.loc 1 686 23 is_stmt 0 view .LVU915
 3494 01cc 4A4B     		ldr	r3, .L243+16
 3495 01ce 1422     		movs	r2, #20
 3496 01d0 1A70     		strb	r2, [r3]
 687:App/Src/task.c ****                 log_printf("chip%d config9 not set, test end!\n", number);
 3497              		.loc 1 687 17 is_stmt 1 view .LVU916
 3498 01d2 544D     		ldr	r5, .L243+60
 3499 01d4 2146     		mov	r1, r4
 3500 01d6 2846     		mov	r0, r5
 3501 01d8 FFF7FEFF 		bl	UsbPrintf
 3502              	.LVL291:
 688:App/Src/task.c ****                 result = 0;
 3503              		.loc 1 688 17 view .LVU917
 3504 01dc 2146     		mov	r1, r4
 3505 01de 2846     		mov	r0, r5
 3506 01e0 FFF7FEFF 		bl	log_printf
 3507              	.LVL292:
 689:App/Src/task.c ****                 break;
 3508              		.loc 1 689 17 view .LVU918
 689:App/Src/task.c ****                 break;
 3509              		.loc 1 689 24 is_stmt 0 view .LVU919
 3510 01e4 4A4B     		ldr	r3, .L243+40
 3511 01e6 0022     		movs	r2, #0
 3512 01e8 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 92


 690:App/Src/task.c ****             }
 3513              		.loc 1 690 17 is_stmt 1 view .LVU920
 3514 01ea 88E7     		b	.L194
 3515              	.L212:
 704:App/Src/task.c ****         break;
 3516              		.loc 1 704 13 view .LVU921
 704:App/Src/task.c ****         break;
 3517              		.loc 1 704 18 is_stmt 0 view .LVU922
 3518 01ec 424A     		ldr	r2, .L243+16
 3519 01ee 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3520 01f0 0133     		adds	r3, r3, #1
 3521 01f2 1370     		strb	r3, [r2]
 705:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 3522              		.loc 1 705 9 is_stmt 1 view .LVU923
 3523 01f4 83E7     		b	.L194
 3524              	.L207:
 708:App/Src/task.c **** 	        rtc_out_4096();            
 3525              		.loc 1 708 13 view .LVU924
 3526 01f6 414B     		ldr	r3, .L243+20
 3527 01f8 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3528 01fa FFF7FEFF 		bl	rtc_set_int_channel
 3529              	.LVL293:
 709:App/Src/task.c ****             timeout = HAL_GetTick();
 3530              		.loc 1 709 10 view .LVU925
 3531 01fe FFF7FEFF 		bl	rtc_out_4096
 3532              	.LVL294:
 710:App/Src/task.c ****             state++;
 3533              		.loc 1 710 13 view .LVU926
 710:App/Src/task.c ****             state++;
 3534              		.loc 1 710 23 is_stmt 0 view .LVU927
 3535 0202 FFF7FEFF 		bl	HAL_GetTick
 3536              	.LVL295:
 710:App/Src/task.c ****             state++;
 3537              		.loc 1 710 21 view .LVU928
 3538 0206 434B     		ldr	r3, .L243+44
 3539 0208 1860     		str	r0, [r3]
 711:App/Src/task.c ****         break;
 3540              		.loc 1 711 13 is_stmt 1 view .LVU929
 711:App/Src/task.c ****         break;
 3541              		.loc 1 711 18 is_stmt 0 view .LVU930
 3542 020a 3B4A     		ldr	r2, .L243+16
 3543 020c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3544 020e 0133     		adds	r3, r3, #1
 3545 0210 1370     		strb	r3, [r2]
 712:App/Src/task.c ****         case 4:
 3546              		.loc 1 712 9 is_stmt 1 view .LVU931
 3547 0212 74E7     		b	.L194
 3548              	.L206:
 714:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 3549              		.loc 1 714 13 view .LVU932
 714:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 3550              		.loc 1 714 17 is_stmt 0 view .LVU933
 3551 0214 FFF7FEFF 		bl	HAL_GetTick
 3552              	.LVL296:
 714:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 3553              		.loc 1 714 41 view .LVU934
 3554 0218 3E4B     		ldr	r3, .L243+44
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 93


 3555 021a 1B68     		ldr	r3, [r3]
 3556 021c 6433     		adds	r3, r3, #100
 714:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 3557              		.loc 1 714 16 view .LVU935
 3558 021e 9842     		cmp	r0, r3
 3559 0220 7FF66DAF 		bls	.L194
 715:App/Src/task.c ****                 timeout = HAL_GetTick();
 3560              		.loc 1 715 14 is_stmt 1 view .LVU936
 3561 0224 4048     		ldr	r0, .L243+64
 3562 0226 FFF7FEFF 		bl	DevicePrintf
 3563              	.LVL297:
 716:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 3564              		.loc 1 716 17 view .LVU937
 716:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 3565              		.loc 1 716 27 is_stmt 0 view .LVU938
 3566 022a FFF7FEFF 		bl	HAL_GetTick
 3567              	.LVL298:
 716:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 3568              		.loc 1 716 25 view .LVU939
 3569 022e 394B     		ldr	r3, .L243+44
 3570 0230 1860     		str	r0, [r3]
 717:App/Src/task.c ****                 state++;
 3571              		.loc 1 717 17 is_stmt 1 view .LVU940
 717:App/Src/task.c ****                 state++;
 3572              		.loc 1 717 39 is_stmt 0 view .LVU941
 3573 0232 3E4B     		ldr	r3, .L243+68
 3574 0234 1860     		str	r0, [r3]
 718:App/Src/task.c ****             }
 3575              		.loc 1 718 17 is_stmt 1 view .LVU942
 718:App/Src/task.c ****             }
 3576              		.loc 1 718 22 is_stmt 0 view .LVU943
 3577 0236 304A     		ldr	r2, .L243+16
 3578 0238 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3579 023a 0133     		adds	r3, r3, #1
 3580 023c 1370     		strb	r3, [r2]
 3581 023e 5EE7     		b	.L194
 3582              	.L205:
 722:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 3583              		.loc 1 722 13 is_stmt 1 view .LVU944
 722:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 3584              		.loc 1 722 27 is_stmt 0 view .LVU945
 3585 0240 3A4B     		ldr	r3, .L243+68
 3586 0242 1A68     		ldr	r2, [r3]
 722:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 3587              		.loc 1 722 39 view .LVU946
 3588 0244 334B     		ldr	r3, .L243+44
 3589 0246 1B68     		ldr	r3, [r3]
 722:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 3590              		.loc 1 722 16 view .LVU947
 3591 0248 9A42     		cmp	r2, r3
 3592 024a 79D9     		bls	.L213
 723:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 3593              		.loc 1 723 17 is_stmt 1 view .LVU948
 723:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 3594              		.loc 1 723 60 is_stmt 0 view .LVU949
 3595 024c 374B     		ldr	r3, .L243+68
 3596 024e 5868     		ldr	r0, [r3, #4]	@ float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 94


 723:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / 4.096 - 1) * 1000000;
 3597              		.loc 1 723 48 view .LVU950
 3598 0250 DFF8AC80 		ldr	r8, .L243+24
 3599 0254 C8F84C00 		str	r0, [r8, #76]	@ float
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3600              		.loc 1 724 17 is_stmt 1 view .LVU951
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3601              		.loc 1 724 49 is_stmt 0 view .LVU952
 3602 0258 FFF7FEFF 		bl	__aeabi_f2d
 3603              	.LVL299:
 3604 025c 0646     		mov	r6, r0
 3605 025e 0F46     		mov	r7, r1
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3606              		.loc 1 724 59 view .LVU953
 3607 0260 21A3     		adr	r3, .L243
 3608 0262 D3E90023 		ldrd	r2, [r3]
 3609 0266 FFF7FEFF 		bl	__aeabi_ddiv
 3610              	.LVL300:
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3611              		.loc 1 724 67 view .LVU954
 3612 026a 0022     		movs	r2, #0
 3613 026c 304B     		ldr	r3, .L243+72
 3614 026e FFF7FEFF 		bl	__aeabi_dsub
 3615              	.LVL301:
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3616              		.loc 1 724 72 view .LVU955
 3617 0272 1FA3     		adr	r3, .L243+8
 3618 0274 D3E90023 		ldrd	r2, [r3]
 3619 0278 FFF7FEFF 		bl	__aeabi_dmul
 3620              	.LVL302:
 724:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3621              		.loc 1 724 25 view .LVU956
 3622 027c FFF7FEFF 		bl	__aeabi_d2f
 3623              	.LVL303:
 3624 0280 08EE100A 		vmov	s16, r0
 3625              	.LVL304:
 725:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3626              		.loc 1 725 17 is_stmt 1 view .LVU957
 3627 0284 FFF7FEFF 		bl	__aeabi_f2d
 3628              	.LVL305:
 725:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3629              		.loc 1 725 17 is_stmt 0 view .LVU958
 3630 0288 0446     		mov	r4, r0
 3631 028a 0D46     		mov	r5, r1
 3632 028c DFF8A490 		ldr	r9, .L243+76
 3633 0290 CDE90045 		strd	r4, [sp]
 3634 0294 3246     		mov	r2, r6
 3635 0296 3B46     		mov	r3, r7
 3636 0298 4846     		mov	r0, r9
 3637 029a FFF7FEFF 		bl	UsbPrintf
 3638              	.LVL306:
 726:App/Src/task.c **** 	            rtc_disable_int();
 3639              		.loc 1 726 17 is_stmt 1 view .LVU959
 3640 029e D8F84C00 		ldr	r0, [r8, #76]	@ float
 3641 02a2 FFF7FEFF 		bl	__aeabi_f2d
 3642              	.LVL307:
 3643 02a6 0246     		mov	r2, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 95


 3644 02a8 0B46     		mov	r3, r1
 3645 02aa CDE90045 		strd	r4, [sp]
 3646 02ae 4846     		mov	r0, r9
 3647 02b0 FFF7FEFF 		bl	log_printf
 3648              	.LVL308:
 727:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 3649              		.loc 1 727 14 view .LVU960
 3650 02b4 FFF7FEFF 		bl	rtc_disable_int
 3651              	.LVL309:
 728:App/Src/task.c ****                     result = 0;
 3652              		.loc 1 728 17 view .LVU961
 728:App/Src/task.c ****                     result = 0;
 3653              		.loc 1 728 20 is_stmt 0 view .LVU962
 3654 02b8 F8EE087A 		vmov.f32	s15, #-3.0e+0
 3655 02bc B4EEE78A 		vcmpe.f32	s16, s15
 3656 02c0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3657 02c4 06D4     		bmi	.L214
 728:App/Src/task.c ****                     result = 0;
 3658              		.loc 1 728 34 discriminator 1 view .LVU963
 3659 02c6 F0EE087A 		vmov.f32	s15, #3.0e+0
 3660 02ca B4EEE78A 		vcmpe.f32	s16, s15
 3661 02ce F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3662 02d2 31DD     		ble	.L236
 3663              	.L214:
 729:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 3664              		.loc 1 729 21 is_stmt 1 view .LVU964
 729:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 3665              		.loc 1 729 28 is_stmt 0 view .LVU965
 3666 02d4 0E4B     		ldr	r3, .L243+40
 3667 02d6 0022     		movs	r2, #0
 3668 02d8 1A70     		strb	r2, [r3]
 730:App/Src/task.c ****                     break;
 3669              		.loc 1 730 21 is_stmt 1 view .LVU966
 730:App/Src/task.c ****                     break;
 3670              		.loc 1 730 27 is_stmt 0 view .LVU967
 3671 02da 074B     		ldr	r3, .L243+16
 3672 02dc 1422     		movs	r2, #20
 3673 02de 1A70     		strb	r2, [r3]
 731:App/Src/task.c ****                 }
 3674              		.loc 1 731 21 is_stmt 1 view .LVU968
 3675 02e0 0DE7     		b	.L194
 3676              	.L244:
 3677 02e2 00BFAFF3 		.align	3
 3677      0080
 3678              	.L243:
 3679 02e8 FCA9F1D2 		.word	-755914244
 3680 02ec 4D621040 		.word	1074815565
 3681 02f0 00000000 		.word	0
 3682 02f4 80842E41 		.word	1093567616
 3683 02f8 00000000 		.word	.LANCHOR22
 3684 02fc 00000000 		.word	.LANCHOR23
 3685 0300 00000000 		.word	.LANCHOR18
 3686 0304 00000000 		.word	.LANCHOR24
 3687 0308 00000000 		.word	.LANCHOR25
 3688 030c 00000000 		.word	.LC25
 3689 0310 00000000 		.word	.LANCHOR26
 3690 0314 00000000 		.word	.LANCHOR27
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 96


 3691 0318 1C000000 		.word	.LC26
 3692 031c 60000000 		.word	.LC28
 3693 0320 74000000 		.word	.LC29
 3694 0324 3C000000 		.word	.LC27
 3695 0328 50000000 		.word	.LC5
 3696 032c 00000000 		.word	.LANCHOR7
 3697 0330 0000F03F 		.word	1072693248
 3698 0334 18000000 		.word	.LC18
 3699              	.L236:
 733:App/Src/task.c ****             }
 3700              		.loc 1 733 17 view .LVU969
 733:App/Src/task.c ****             }
 3701              		.loc 1 733 22 is_stmt 0 view .LVU970
 3702 0338 BB4A     		ldr	r2, .L245
 3703 033a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3704 033c 0133     		adds	r3, r3, #1
 3705 033e 1370     		strb	r3, [r2]
 3706              	.LVL310:
 3707              	.L213:
 735:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 3708              		.loc 1 735 13 is_stmt 1 view .LVU971
 735:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 3709              		.loc 1 735 17 is_stmt 0 view .LVU972
 3710 0340 FFF7FEFF 		bl	HAL_GetTick
 3711              	.LVL311:
 735:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 3712              		.loc 1 735 41 view .LVU973
 3713 0344 B94B     		ldr	r3, .L245+4
 3714 0346 1B68     		ldr	r3, [r3]
 3715 0348 03F2DC53 		addw	r3, r3, #1500
 735:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 3716              		.loc 1 735 16 view .LVU974
 3717 034c 9842     		cmp	r0, r3
 3718 034e 7FF6D6AE 		bls	.L194
 736:App/Src/task.c ****                 log_printf("device no respose!\n");
 3719              		.loc 1 736 17 is_stmt 1 view .LVU975
 3720 0352 B74C     		ldr	r4, .L245+8
 3721 0354 2046     		mov	r0, r4
 3722 0356 FFF7FEFF 		bl	UsbPrintf
 3723              	.LVL312:
 737:App/Src/task.c ****                 result = 0;
 3724              		.loc 1 737 17 view .LVU976
 3725 035a 2046     		mov	r0, r4
 3726 035c FFF7FEFF 		bl	log_printf
 3727              	.LVL313:
 738:App/Src/task.c **** 	            rtc_disable_int();
 3728              		.loc 1 738 17 view .LVU977
 738:App/Src/task.c **** 	            rtc_disable_int();
 3729              		.loc 1 738 24 is_stmt 0 view .LVU978
 3730 0360 B44B     		ldr	r3, .L245+12
 3731 0362 0022     		movs	r2, #0
 3732 0364 1A70     		strb	r2, [r3]
 739:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 3733              		.loc 1 739 14 is_stmt 1 view .LVU979
 3734 0366 FFF7FEFF 		bl	rtc_disable_int
 3735              	.LVL314:
 740:App/Src/task.c ****                 break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 97


 3736              		.loc 1 740 17 view .LVU980
 740:App/Src/task.c ****                 break;
 3737              		.loc 1 740 23 is_stmt 0 view .LVU981
 3738 036a AF4B     		ldr	r3, .L245
 3739 036c 1422     		movs	r2, #20
 3740 036e 1A70     		strb	r2, [r3]
 741:App/Src/task.c ****             }
 3741              		.loc 1 741 17 is_stmt 1 view .LVU982
 3742 0370 C5E6     		b	.L194
 3743              	.L204:
 747:App/Src/task.c ****                 state += 3;
 3744              		.loc 1 747 13 view .LVU983
 747:App/Src/task.c ****                 state += 3;
 3745              		.loc 1 747 23 is_stmt 0 view .LVU984
 3746 0372 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 747:App/Src/task.c ****                 state += 3;
 3747              		.loc 1 747 16 view .LVU985
 3748 0376 FF2B     		cmp	r3, #255
 3749 0378 03D0     		beq	.L217
 748:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 3750              		.loc 1 748 17 is_stmt 1 view .LVU986
 748:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 3751              		.loc 1 748 23 is_stmt 0 view .LVU987
 3752 037a 0332     		adds	r2, r2, #3
 3753 037c AA4B     		ldr	r3, .L245
 3754 037e 1A70     		strb	r2, [r3]
 3755 0380 BDE6     		b	.L194
 3756              	.L217:
 750:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 3757              		.loc 1 750 17 is_stmt 1 view .LVU988
 750:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 3758              		.loc 1 750 21 is_stmt 0 view .LVU989
 3759 0382 9DF91830 		ldrsb	r3, [sp, #24]
 750:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 3760              		.loc 1 750 20 view .LVU990
 3761 0386 002B     		cmp	r3, #0
 3762 0388 0DDB     		blt	.L240
 766:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 3763              		.loc 1 766 21 is_stmt 1 view .LVU991
 766:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 3764              		.loc 1 766 28 is_stmt 0 view .LVU992
 3765 038a AA4B     		ldr	r3, .L245+12
 3766 038c 0022     		movs	r2, #0
 3767 038e 1A70     		strb	r2, [r3]
 767:App/Src/task.c ****                     log_printf("otp lock!\n");
 3768              		.loc 1 767 21 is_stmt 1 view .LVU993
 3769 0390 A94C     		ldr	r4, .L245+16
 3770 0392 2046     		mov	r0, r4
 3771 0394 FFF7FEFF 		bl	UsbPrintf
 3772              	.LVL315:
 768:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;
 3773              		.loc 1 768 21 view .LVU994
 3774 0398 2046     		mov	r0, r4
 3775 039a FFF7FEFF 		bl	log_printf
 3776              	.LVL316:
 769:App/Src/task.c ****                 }
 3777              		.loc 1 769 21 view .LVU995
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 98


 769:App/Src/task.c ****                 }
 3778              		.loc 1 769 27 is_stmt 0 view .LVU996
 3779 039e A24B     		ldr	r3, .L245
 3780 03a0 1422     		movs	r2, #20
 3781 03a2 1A70     		strb	r2, [r3]
 3782 03a4 ABE6     		b	.L194
 3783              	.L240:
 751:App/Src/task.c ****                     HAL_Delay(10);
 3784              		.loc 1 751 21 is_stmt 1 view .LVU997
 751:App/Src/task.c ****                     HAL_Delay(10);
 3785              		.loc 1 751 73 is_stmt 0 view .LVU998
 3786 03a6 A54E     		ldr	r6, .L245+20
 3787 03a8 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 3788 03aa 013B     		subs	r3, r3, #1
 751:App/Src/task.c ****                     HAL_Delay(10);
 3789              		.loc 1 751 78 view .LVU999
 3790 03ac A44C     		ldr	r4, .L245+24
 3791 03ae 84FB0312 		smull	r1, r2, r4, r3
 3792 03b2 1A44     		add	r2, r2, r3
 3793 03b4 D917     		asrs	r1, r3, #31
 3794 03b6 C1EBE201 		rsb	r1, r1, r2, asr #3
 751:App/Src/task.c ****                     HAL_Delay(10);
 3795              		.loc 1 751 57 view .LVU1000
 3796 03ba 0425     		movs	r5, #4
 3797 03bc 05FA01F1 		lsl	r1, r5, r1
 751:App/Src/task.c ****                     HAL_Delay(10);
 3798              		.loc 1 751 21 view .LVU1001
 3799 03c0 A04F     		ldr	r7, .L245+28
 3800 03c2 0022     		movs	r2, #0
 3801 03c4 89B2     		uxth	r1, r1
 3802 03c6 3846     		mov	r0, r7
 3803 03c8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3804              	.LVL317:
 752:App/Src/task.c ****                     rtc_read_vbat(&vbat);
 3805              		.loc 1 752 21 is_stmt 1 view .LVU1002
 3806 03cc 0A20     		movs	r0, #10
 3807 03ce FFF7FEFF 		bl	HAL_Delay
 3808              	.LVL318:
 753:App/Src/task.c ****                     testConfigC = vbat - 250;
 3809              		.loc 1 753 21 view .LVU1003
 3810 03d2 05A8     		add	r0, sp, #20
 3811 03d4 FFF7FEFF 		bl	rtc_read_vbat
 3812              	.LVL319:
 754:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 3813              		.loc 1 754 21 view .LVU1004
 754:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 3814              		.loc 1 754 40 is_stmt 0 view .LVU1005
 3815 03d8 059B     		ldr	r3, [sp, #20]
 3816 03da 0633     		adds	r3, r3, #6
 3817 03dc D9B2     		uxtb	r1, r3
 754:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 3818              		.loc 1 754 33 view .LVU1006
 3819 03de DFF86882 		ldr	r8, .L245+32
 3820 03e2 88F80010 		strb	r1, [r8]
 755:App/Src/task.c ****                     log_printf("calculate configC:0x%02x\n", testConfigC);
 3821              		.loc 1 755 21 is_stmt 1 view .LVU1007
 3822 03e6 DFF87C92 		ldr	r9, .L245+60
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 99


 3823 03ea 4846     		mov	r0, r9
 3824 03ec FFF7FEFF 		bl	UsbPrintf
 3825              	.LVL320:
 756:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 3826              		.loc 1 756 21 view .LVU1008
 3827 03f0 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 3828 03f4 4846     		mov	r0, r9
 3829 03f6 FFF7FEFF 		bl	log_printf
 3830              	.LVL321:
 757:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 3831              		.loc 1 757 21 view .LVU1009
 757:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 3832              		.loc 1 757 73 is_stmt 0 view .LVU1010
 3833 03fa 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 3834 03fc 013B     		subs	r3, r3, #1
 757:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 3835              		.loc 1 757 78 view .LVU1011
 3836 03fe 84FB0312 		smull	r1, r2, r4, r3
 3837 0402 1A44     		add	r2, r2, r3
 3838 0404 DB17     		asrs	r3, r3, #31
 3839 0406 C3EBE203 		rsb	r3, r3, r2, asr #3
 757:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 3840              		.loc 1 757 57 view .LVU1012
 3841 040a 05FA03F3 		lsl	r3, r5, r3
 757:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 3842              		.loc 1 757 21 view .LVU1013
 3843 040e 0122     		movs	r2, #1
 3844 0410 99B2     		uxth	r1, r3
 3845 0412 3846     		mov	r0, r7
 3846 0414 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3847              	.LVL322:
 758:App/Src/task.c ****                         result = 0;
 3848              		.loc 1 758 21 is_stmt 1 view .LVU1014
 758:App/Src/task.c ****                         result = 0;
 3849              		.loc 1 758 44 is_stmt 0 view .LVU1015
 3850 0418 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 3851 041c 403B     		subs	r3, r3, #64
 3852 041e DBB2     		uxtb	r3, r3
 758:App/Src/task.c ****                         result = 0;
 3853              		.loc 1 758 24 view .LVU1016
 3854 0420 302B     		cmp	r3, #48
 3855 0422 06D9     		bls	.L219
 759:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
 3856              		.loc 1 759 25 is_stmt 1 view .LVU1017
 759:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
 3857              		.loc 1 759 32 is_stmt 0 view .LVU1018
 3858 0424 834B     		ldr	r3, .L245+12
 3859 0426 0022     		movs	r2, #0
 3860 0428 1A70     		strb	r2, [r3]
 760:App/Src/task.c ****                         break;
 3861              		.loc 1 760 25 is_stmt 1 view .LVU1019
 760:App/Src/task.c ****                         break;
 3862              		.loc 1 760 31 is_stmt 0 view .LVU1020
 3863 042a 7F4B     		ldr	r3, .L245
 3864 042c 1422     		movs	r2, #20
 3865 042e 1A70     		strb	r2, [r3]
 761:App/Src/task.c ****                     }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 100


 3866              		.loc 1 761 25 is_stmt 1 view .LVU1021
 3867 0430 65E6     		b	.L194
 3868              	.L219:
 764:App/Src/task.c ****                 } else {
 3869              		.loc 1 764 21 view .LVU1022
 764:App/Src/task.c ****                 } else {
 3870              		.loc 1 764 26 is_stmt 0 view .LVU1023
 3871 0432 7D4A     		ldr	r2, .L245
 3872 0434 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3873 0436 0133     		adds	r3, r3, #1
 3874 0438 1370     		strb	r3, [r2]
 3875 043a 60E6     		b	.L194
 3876              	.L203:
 774:App/Src/task.c ****             readConfig = 0xff;
 3877              		.loc 1 774 13 is_stmt 1 view .LVU1024
 774:App/Src/task.c ****             readConfig = 0xff;
 3878              		.loc 1 774 26 is_stmt 0 view .LVU1025
 3879 043c 0122     		movs	r2, #1
 3880 043e 4FF4B771 		mov	r1, #366
 3881 0442 8148     		ldr	r0, .L245+32
 3882 0444 FFF7FEFF 		bl	rtc_download_otp_data
 3883              	.LVL323:
 775:App/Src/task.c ****             // rtc_read_otp_data(&readConfig, SD3900_CONFIGC_ADDR, 1);
 3884              		.loc 1 775 13 is_stmt 1 view .LVU1026
 777:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 3885              		.loc 1 777 13 view .LVU1027
 777:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 3886              		.loc 1 777 16 is_stmt 0 view .LVU1028
 3887 0448 0246     		mov	r2, r0
 3888 044a 18B9     		cbnz	r0, .L220
 777:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 3889              		.loc 1 777 52 discriminator 1 view .LVU1029
 3890 044c 7E4B     		ldr	r3, .L245+32
 3891 044e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 777:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 3892              		.loc 1 777 38 discriminator 1 view .LVU1030
 3893 0450 FF2B     		cmp	r3, #255
 3894 0452 32D0     		beq	.L221
 3895              	.L220:
 778:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 3896              		.loc 1 778 17 is_stmt 1 view .LVU1031
 3897 0454 794C     		ldr	r4, .L245+20
 3898 0456 FF23     		movs	r3, #255
 3899 0458 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 3900 045a 7C48     		ldr	r0, .L245+36
 3901              	.LVL324:
 778:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 3902              		.loc 1 778 17 is_stmt 0 view .LVU1032
 3903 045c FFF7FEFF 		bl	UsbPrintf
 3904              	.LVL325:
 779:App/Src/task.c ****                 result = 0; 
 3905              		.loc 1 779 17 is_stmt 1 view .LVU1033
 3906 0460 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 3907 0462 7B48     		ldr	r0, .L245+40
 3908 0464 FFF7FEFF 		bl	log_printf
 3909              	.LVL326:
 780:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 101


 3910              		.loc 1 780 17 view .LVU1034
 780:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 3911              		.loc 1 780 24 is_stmt 0 view .LVU1035
 3912 0468 724B     		ldr	r3, .L245+12
 3913 046a 0022     		movs	r2, #0
 3914 046c 1A70     		strb	r2, [r3]
 781:App/Src/task.c ****             } else {
 3915              		.loc 1 781 17 is_stmt 1 view .LVU1036
 781:App/Src/task.c ****             } else {
 3916              		.loc 1 781 23 is_stmt 0 view .LVU1037
 3917 046e 6E4B     		ldr	r3, .L245
 3918 0470 1422     		movs	r2, #20
 3919 0472 1A70     		strb	r2, [r3]
 3920              	.L222:
 785:App/Src/task.c ****             rtc_download_otp_data(buffer, SD3900_ID_ADDR, 8);//write id
 3921              		.loc 1 785 13 is_stmt 1 view .LVU1038
 3922 0474 714B     		ldr	r3, .L245+20
 3923 0476 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3924 0478 06A8     		add	r0, sp, #24
 3925 047a FFF7FEFF 		bl	make_chip_ID
 3926              	.LVL327:
 786:App/Src/task.c ****             buffer[0] = 0x7f;
 3927              		.loc 1 786 13 view .LVU1039
 3928 047e 0822     		movs	r2, #8
 3929 0480 7221     		movs	r1, #114
 3930 0482 06A8     		add	r0, sp, #24
 3931 0484 FFF7FEFF 		bl	rtc_download_otp_data
 3932              	.LVL328:
 787:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 3933              		.loc 1 787 13 view .LVU1040
 787:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 3934              		.loc 1 787 23 is_stmt 0 view .LVU1041
 3935 0488 7F23     		movs	r3, #127
 3936 048a 8DF81830 		strb	r3, [sp, #24]
 788:App/Src/task.c ****             rtc_group_power(0, POWER_OFF);
 3937              		.loc 1 788 13 is_stmt 1 view .LVU1042
 3938 048e 0122     		movs	r2, #1
 3939 0490 4FF4B171 		mov	r1, #354
 3940 0494 06A8     		add	r0, sp, #24
 3941 0496 FFF7FEFF 		bl	rtc_download_otp_data
 3942              	.LVL329:
 789:App/Src/task.c ****             UsbPrintf("waiting 1s for power off, then renew otp\n");
 3943              		.loc 1 789 13 view .LVU1043
 3944 049a 0021     		movs	r1, #0
 3945 049c 0846     		mov	r0, r1
 3946 049e FFF7FEFF 		bl	rtc_group_power
 3947              	.LVL330:
 790:App/Src/task.c ****             timeout = HAL_GetTick();
 3948              		.loc 1 790 13 view .LVU1044
 3949 04a2 6C48     		ldr	r0, .L245+44
 3950 04a4 FFF7FEFF 		bl	UsbPrintf
 3951              	.LVL331:
 791:App/Src/task.c ****             state++;
 3952              		.loc 1 791 13 view .LVU1045
 791:App/Src/task.c ****             state++;
 3953              		.loc 1 791 23 is_stmt 0 view .LVU1046
 3954 04a8 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 102


 3955              	.LVL332:
 791:App/Src/task.c ****             state++;
 3956              		.loc 1 791 21 view .LVU1047
 3957 04ac 5F4B     		ldr	r3, .L245+4
 3958 04ae 1860     		str	r0, [r3]
 792:App/Src/task.c ****         break;
 3959              		.loc 1 792 13 is_stmt 1 view .LVU1048
 792:App/Src/task.c ****         break;
 3960              		.loc 1 792 18 is_stmt 0 view .LVU1049
 3961 04b0 5D4A     		ldr	r2, .L245
 3962 04b2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3963 04b4 0133     		adds	r3, r3, #1
 3964 04b6 1370     		strb	r3, [r2]
 793:App/Src/task.c ****         case 8:
 3965              		.loc 1 793 9 is_stmt 1 view .LVU1050
 3966 04b8 21E6     		b	.L194
 3967              	.LVL333:
 3968              	.L221:
 783:App/Src/task.c ****             }
 3969              		.loc 1 783 17 view .LVU1051
 3970 04ba 604B     		ldr	r3, .L245+20
 3971 04bc 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3972 04be 6648     		ldr	r0, .L245+48
 3973              	.LVL334:
 783:App/Src/task.c ****             }
 3974              		.loc 1 783 17 is_stmt 0 view .LVU1052
 3975 04c0 FFF7FEFF 		bl	UsbPrintf
 3976              	.LVL335:
 3977 04c4 D6E7     		b	.L222
 3978              	.LVL336:
 3979              	.L202:
 795:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 3980              		.loc 1 795 13 is_stmt 1 view .LVU1053
 795:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 3981              		.loc 1 795 17 is_stmt 0 view .LVU1054
 3982 04c6 FFF7FEFF 		bl	HAL_GetTick
 3983              	.LVL337:
 795:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 3984              		.loc 1 795 41 view .LVU1055
 3985 04ca 584B     		ldr	r3, .L245+4
 3986 04cc 1B68     		ldr	r3, [r3]
 3987 04ce 03F57A73 		add	r3, r3, #1000
 795:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 3988              		.loc 1 795 16 view .LVU1056
 3989 04d2 9842     		cmp	r0, r3
 3990 04d4 7FF613AE 		bls	.L194
 796:App/Src/task.c ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 3991              		.loc 1 796 17 is_stmt 1 view .LVU1057
 3992 04d8 584C     		ldr	r4, .L245+20
 3993 04da 0121     		movs	r1, #1
 3994 04dc 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3995 04de FFF7FEFF 		bl	rtc_group_power
 3996              	.LVL338:
 797:App/Src/task.c ****                 timeout = HAL_GetTick();
 3997              		.loc 1 797 17 view .LVU1058
 797:App/Src/task.c ****                 timeout = HAL_GetTick();
 3998              		.loc 1 797 69 is_stmt 0 view .LVU1059
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 103


 3999 04e2 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4000 04e4 013B     		subs	r3, r3, #1
 797:App/Src/task.c ****                 timeout = HAL_GetTick();
 4001              		.loc 1 797 74 view .LVU1060
 4002 04e6 5649     		ldr	r1, .L245+24
 4003 04e8 81FB0321 		smull	r2, r1, r1, r3
 4004 04ec 1944     		add	r1, r1, r3
 4005 04ee DB17     		asrs	r3, r3, #31
 4006 04f0 C3EBE103 		rsb	r3, r3, r1, asr #3
 797:App/Src/task.c ****                 timeout = HAL_GetTick();
 4007              		.loc 1 797 53 view .LVU1061
 4008 04f4 0421     		movs	r1, #4
 4009 04f6 9940     		lsls	r1, r1, r3
 797:App/Src/task.c ****                 timeout = HAL_GetTick();
 4010              		.loc 1 797 17 view .LVU1062
 4011 04f8 0022     		movs	r2, #0
 4012 04fa 89B2     		uxth	r1, r1
 4013 04fc 5148     		ldr	r0, .L245+28
 4014 04fe FFF7FEFF 		bl	HAL_GPIO_WritePin
 4015              	.LVL339:
 798:App/Src/task.c ****                 state++;
 4016              		.loc 1 798 17 is_stmt 1 view .LVU1063
 798:App/Src/task.c ****                 state++;
 4017              		.loc 1 798 27 is_stmt 0 view .LVU1064
 4018 0502 FFF7FEFF 		bl	HAL_GetTick
 4019              	.LVL340:
 798:App/Src/task.c ****                 state++;
 4020              		.loc 1 798 25 view .LVU1065
 4021 0506 494B     		ldr	r3, .L245+4
 4022 0508 1860     		str	r0, [r3]
 799:App/Src/task.c ****             }
 4023              		.loc 1 799 17 is_stmt 1 view .LVU1066
 799:App/Src/task.c ****             }
 4024              		.loc 1 799 22 is_stmt 0 view .LVU1067
 4025 050a 474A     		ldr	r2, .L245
 4026 050c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4027 050e 0133     		adds	r3, r3, #1
 4028 0510 1370     		strb	r3, [r2]
 4029 0512 F4E5     		b	.L194
 4030              	.L201:
 803:App/Src/task.c ****                 break;
 4031              		.loc 1 803 13 is_stmt 1 view .LVU1068
 803:App/Src/task.c ****                 break;
 4032              		.loc 1 803 17 is_stmt 0 view .LVU1069
 4033 0514 FFF7FEFF 		bl	HAL_GetTick
 4034              	.LVL341:
 803:App/Src/task.c ****                 break;
 4035              		.loc 1 803 41 view .LVU1070
 4036 0518 444B     		ldr	r3, .L245+4
 4037 051a 1B68     		ldr	r3, [r3]
 4038 051c 03F54873 		add	r3, r3, #800
 803:App/Src/task.c ****                 break;
 4039              		.loc 1 803 16 view .LVU1071
 4040 0520 9842     		cmp	r0, r3
 4041 0522 FFF4ECAD 		bcc	.L194
 806:App/Src/task.c ****             HAL_Delay(10);
 4042              		.loc 1 806 13 is_stmt 1 view .LVU1072
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 104


 806:App/Src/task.c ****             HAL_Delay(10);
 4043              		.loc 1 806 65 is_stmt 0 view .LVU1073
 4044 0526 454E     		ldr	r6, .L245+20
 4045 0528 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4046 052a 013B     		subs	r3, r3, #1
 806:App/Src/task.c ****             HAL_Delay(10);
 4047              		.loc 1 806 70 view .LVU1074
 4048 052c 444C     		ldr	r4, .L245+24
 4049 052e 84FB0321 		smull	r2, r1, r4, r3
 4050 0532 CA18     		adds	r2, r1, r3
 4051 0534 D917     		asrs	r1, r3, #31
 4052 0536 C1EBE201 		rsb	r1, r1, r2, asr #3
 806:App/Src/task.c ****             HAL_Delay(10);
 4053              		.loc 1 806 49 view .LVU1075
 4054 053a 0425     		movs	r5, #4
 4055 053c 05FA01F1 		lsl	r1, r5, r1
 806:App/Src/task.c ****             HAL_Delay(10);
 4056              		.loc 1 806 13 view .LVU1076
 4057 0540 404F     		ldr	r7, .L245+28
 4058 0542 0022     		movs	r2, #0
 4059 0544 89B2     		uxth	r1, r1
 4060 0546 3846     		mov	r0, r7
 4061 0548 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4062              	.LVL342:
 807:App/Src/task.c ****             rtc_read_vbat(&vbat);
 4063              		.loc 1 807 13 is_stmt 1 view .LVU1077
 4064 054c 0A20     		movs	r0, #10
 4065 054e FFF7FEFF 		bl	HAL_Delay
 4066              	.LVL343:
 808:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 4067              		.loc 1 808 13 view .LVU1078
 4068 0552 05A8     		add	r0, sp, #20
 4069 0554 FFF7FEFF 		bl	rtc_read_vbat
 4070              	.LVL344:
 809:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 4071              		.loc 1 809 13 view .LVU1079
 809:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 4072              		.loc 1 809 44 is_stmt 0 view .LVU1080
 4073 0558 0599     		ldr	r1, [sp, #20]
 4074 055a 01EB8101 		add	r1, r1, r1, lsl #2
 4075 055e 4900     		lsls	r1, r1, #1
 4076 0560 89B2     		uxth	r1, r1
 4077 0562 DFF8F880 		ldr	r8, .L245+52
 4078 0566 A8F85010 		strh	r1, [r8, #80]	@ movhi
 810:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 4079              		.loc 1 810 13 is_stmt 1 view .LVU1081
 4080 056a DFF8FC90 		ldr	r9, .L245+64
 4081 056e 4846     		mov	r0, r9
 4082 0570 FFF7FEFF 		bl	UsbPrintf
 4083              	.LVL345:
 811:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 4084              		.loc 1 811 13 view .LVU1082
 4085 0574 B8F85010 		ldrh	r1, [r8, #80]
 4086 0578 4846     		mov	r0, r9
 4087 057a FFF7FEFF 		bl	log_printf
 4088              	.LVL346:
 812:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 105


 4089              		.loc 1 812 13 view .LVU1083
 812:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4090              		.loc 1 812 65 is_stmt 0 view .LVU1084
 4091 057e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4092 0580 013B     		subs	r3, r3, #1
 812:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4093              		.loc 1 812 70 view .LVU1085
 4094 0582 84FB0324 		smull	r2, r4, r4, r3
 4095 0586 E118     		adds	r1, r4, r3
 4096 0588 DB17     		asrs	r3, r3, #31
 4097 058a C3EBE103 		rsb	r3, r3, r1, asr #3
 812:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4098              		.loc 1 812 49 view .LVU1086
 4099 058e 05FA03F1 		lsl	r1, r5, r3
 812:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4100              		.loc 1 812 13 view .LVU1087
 4101 0592 0122     		movs	r2, #1
 4102 0594 89B2     		uxth	r1, r1
 4103 0596 3846     		mov	r0, r7
 4104 0598 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4105              	.LVL347:
 813:App/Src/task.c ****                 result = 0;
 4106              		.loc 1 813 13 is_stmt 1 view .LVU1088
 813:App/Src/task.c ****                 result = 0;
 4107              		.loc 1 813 38 is_stmt 0 view .LVU1089
 4108 059c B8F85030 		ldrh	r3, [r8, #80]
 813:App/Src/task.c ****                 result = 0;
 4109              		.loc 1 813 55 view .LVU1090
 4110 05a0 A3F6FC03 		subw	r3, r3, #2300
 4111 05a4 9BB2     		uxth	r3, r3
 813:App/Src/task.c ****                 result = 0;
 4112              		.loc 1 813 16 view .LVU1091
 4113 05a6 B3F5C87F 		cmp	r3, #400
 4114 05aa 06D9     		bls	.L223
 814:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4115              		.loc 1 814 17 is_stmt 1 view .LVU1092
 814:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4116              		.loc 1 814 24 is_stmt 0 view .LVU1093
 4117 05ac 214B     		ldr	r3, .L245+12
 4118 05ae 0022     		movs	r2, #0
 4119 05b0 1A70     		strb	r2, [r3]
 815:App/Src/task.c ****                 break;
 4120              		.loc 1 815 17 is_stmt 1 view .LVU1094
 815:App/Src/task.c ****                 break;
 4121              		.loc 1 815 23 is_stmt 0 view .LVU1095
 4122 05b2 1D4B     		ldr	r3, .L245
 4123 05b4 1422     		movs	r2, #20
 4124 05b6 1A70     		strb	r2, [r3]
 816:App/Src/task.c ****             }
 4125              		.loc 1 816 17 is_stmt 1 view .LVU1096
 4126 05b8 A1E5     		b	.L194
 4127              	.L223:
 818:App/Src/task.c ****         break;
 4128              		.loc 1 818 13 view .LVU1097
 818:App/Src/task.c ****         break;
 4129              		.loc 1 818 18 is_stmt 0 view .LVU1098
 4130 05ba 1B4A     		ldr	r2, .L245
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 106


 4131 05bc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4132 05be 0133     		adds	r3, r3, #1
 4133 05c0 1370     		strb	r3, [r2]
 819:App/Src/task.c ****         case 10://充电电压
 4134              		.loc 1 819 9 is_stmt 1 view .LVU1099
 4135 05c2 9CE5     		b	.L194
 4136              	.L200:
 821:App/Src/task.c ****             HAL_Delay(5);
 4137              		.loc 1 821 13 view .LVU1100
 4138 05c4 0120     		movs	r0, #1
 4139 05c6 FFF7FEFF 		bl	rtc_set_bat_charge
 4140              	.LVL348:
 822:App/Src/task.c ****             rtc_read_vbat(&vbat);
 4141              		.loc 1 822 13 view .LVU1101
 4142 05ca 0520     		movs	r0, #5
 4143 05cc FFF7FEFF 		bl	HAL_Delay
 4144              	.LVL349:
 823:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 4145              		.loc 1 823 13 view .LVU1102
 4146 05d0 05A8     		add	r0, sp, #20
 4147 05d2 FFF7FEFF 		bl	rtc_read_vbat
 4148              	.LVL350:
 824:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 4149              		.loc 1 824 13 view .LVU1103
 824:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 4150              		.loc 1 824 42 is_stmt 0 view .LVU1104
 4151 05d6 0599     		ldr	r1, [sp, #20]
 4152 05d8 01EB8101 		add	r1, r1, r1, lsl #2
 4153 05dc 4900     		lsls	r1, r1, #1
 4154 05de 89B2     		uxth	r1, r1
 4155 05e0 1E4C     		ldr	r4, .L245+52
 4156 05e2 A4F85210 		strh	r1, [r4, #82]	@ movhi
 825:App/Src/task.c ****             log_printf("charge = %dmV\n", g_machineTest.machine.charge);
 4157              		.loc 1 825 13 is_stmt 1 view .LVU1105
 4158 05e6 1E4D     		ldr	r5, .L245+56
 4159 05e8 2846     		mov	r0, r5
 4160 05ea FFF7FEFF 		bl	UsbPrintf
 4161              	.LVL351:
 826:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
 4162              		.loc 1 826 13 view .LVU1106
 4163 05ee B4F85210 		ldrh	r1, [r4, #82]
 4164 05f2 2846     		mov	r0, r5
 4165 05f4 FFF7FEFF 		bl	log_printf
 4166              	.LVL352:
 827:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 4167              		.loc 1 827 13 view .LVU1107
 4168 05f8 0020     		movs	r0, #0
 4169 05fa FFF7FEFF 		bl	rtc_set_bat_charge
 4170              	.LVL353:
 828:App/Src/task.c ****                 result = 0;
 4171              		.loc 1 828 13 view .LVU1108
 828:App/Src/task.c ****                 result = 0;
 4172              		.loc 1 828 38 is_stmt 0 view .LVU1109
 4173 05fe B4F85230 		ldrh	r3, [r4, #82]
 828:App/Src/task.c ****                 result = 0;
 4174              		.loc 1 828 53 view .LVU1110
 4175 0602 A3F52F63 		sub	r3, r3, #2800
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 107


 4176 0606 9BB2     		uxth	r3, r3
 828:App/Src/task.c ****                 result = 0;
 4177              		.loc 1 828 16 view .LVU1111
 4178 0608 B3F52F7F 		cmp	r3, #700
 4179 060c 06D9     		bls	.L224
 829:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 4180              		.loc 1 829 17 is_stmt 1 view .LVU1112
 829:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 4181              		.loc 1 829 24 is_stmt 0 view .LVU1113
 4182 060e 094B     		ldr	r3, .L245+12
 4183 0610 0022     		movs	r2, #0
 4184 0612 1A70     		strb	r2, [r3]
 830:App/Src/task.c ****                 break;
 4185              		.loc 1 830 17 is_stmt 1 view .LVU1114
 830:App/Src/task.c ****                 break;
 4186              		.loc 1 830 23 is_stmt 0 view .LVU1115
 4187 0614 044B     		ldr	r3, .L245
 4188 0616 1422     		movs	r2, #20
 4189 0618 1A70     		strb	r2, [r3]
 831:App/Src/task.c ****             }
 4190              		.loc 1 831 17 is_stmt 1 view .LVU1116
 4191 061a 70E5     		b	.L194
 4192              	.L224:
 833:App/Src/task.c ****         break;
 4193              		.loc 1 833 13 view .LVU1117
 833:App/Src/task.c ****         break;
 4194              		.loc 1 833 18 is_stmt 0 view .LVU1118
 4195 061c 024A     		ldr	r2, .L245
 4196 061e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4197 0620 0133     		adds	r3, r3, #1
 4198 0622 1370     		strb	r3, [r2]
 834:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 4199              		.loc 1 834 9 is_stmt 1 view .LVU1119
 4200 0624 6BE5     		b	.L194
 4201              	.L246:
 4202 0626 00BF     		.align	2
 4203              	.L245:
 4204 0628 00000000 		.word	.LANCHOR22
 4205 062c 00000000 		.word	.LANCHOR27
 4206 0630 84000000 		.word	.LC8
 4207 0634 00000000 		.word	.LANCHOR26
 4208 0638 A0000000 		.word	.LC31
 4209 063c 00000000 		.word	.LANCHOR23
 4210 0640 93244992 		.word	-1840700269
 4211 0644 00040240 		.word	1073873920
 4212 0648 00000000 		.word	.LANCHOR24
 4213 064c AC000000 		.word	.LC32
 4214 0650 E4000000 		.word	.LC33
 4215 0654 20010000 		.word	.LC35
 4216 0658 00010000 		.word	.LC34
 4217 065c 00000000 		.word	.LANCHOR18
 4218 0660 38000000 		.word	.LC20
 4219 0664 84000000 		.word	.LC30
 4220 0668 28000000 		.word	.LC19
 4221              	.L199:
 837:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 4222              		.loc 1 837 13 view .LVU1120
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 108


 4223 066c FFF7FEFF 		bl	rtc_set_testmode
 4224              	.LVL354:
 838:App/Src/task.c ****             timeout = HAL_GetTick();
 4225              		.loc 1 838 13 view .LVU1121
 4226 0670 0321     		movs	r1, #3
 4227 0672 574B     		ldr	r3, .L247
 4228 0674 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4229 0676 FFF7FEFF 		bl	rtc_group_power
 4230              	.LVL355:
 839:App/Src/task.c ****             state++;
 4231              		.loc 1 839 13 view .LVU1122
 839:App/Src/task.c ****             state++;
 4232              		.loc 1 839 23 is_stmt 0 view .LVU1123
 4233 067a FFF7FEFF 		bl	HAL_GetTick
 4234              	.LVL356:
 839:App/Src/task.c ****             state++;
 4235              		.loc 1 839 21 view .LVU1124
 4236 067e 554B     		ldr	r3, .L247+4
 4237 0680 1860     		str	r0, [r3]
 840:App/Src/task.c ****         break;
 4238              		.loc 1 840 13 is_stmt 1 view .LVU1125
 840:App/Src/task.c ****         break;
 4239              		.loc 1 840 18 is_stmt 0 view .LVU1126
 4240 0682 554A     		ldr	r2, .L247+8
 4241 0684 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4242 0686 0133     		adds	r3, r3, #1
 4243 0688 1370     		strb	r3, [r2]
 841:App/Src/task.c ****         case 12:	
 4244              		.loc 1 841 9 is_stmt 1 view .LVU1127
 4245 068a 38E5     		b	.L194
 4246              	.L198:
 843:App/Src/task.c ****                 cur = CS1237Current();
 4247              		.loc 1 843 13 view .LVU1128
 843:App/Src/task.c ****                 cur = CS1237Current();
 4248              		.loc 1 843 17 is_stmt 0 view .LVU1129
 4249 068c FFF7FEFF 		bl	HAL_GetTick
 4250              	.LVL357:
 843:App/Src/task.c ****                 cur = CS1237Current();
 4251              		.loc 1 843 42 view .LVU1130
 4252 0690 504B     		ldr	r3, .L247+4
 4253 0692 1B68     		ldr	r3, [r3]
 4254 0694 03F57A73 		add	r3, r3, #1000
 843:App/Src/task.c ****                 cur = CS1237Current();
 4255              		.loc 1 843 16 view .LVU1131
 4256 0698 9842     		cmp	r0, r3
 4257 069a 7FF630AD 		bls	.L194
 844:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4258              		.loc 1 844 17 is_stmt 1 view .LVU1132
 844:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4259              		.loc 1 844 23 is_stmt 0 view .LVU1133
 4260 069e FFF7FEFF 		bl	CS1237Current
 4261              	.LVL358:
 845:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4262              		.loc 1 845 17 is_stmt 1 view .LVU1134
 845:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4263              		.loc 1 845 20 is_stmt 0 view .LVU1135
 4264 06a2 B5EEC00A 		vcmpe.f32	s0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 109


 4265 06a6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4266 06aa 27D4     		bmi	.L241
 4267              	.LVL359:
 4268              	.L225:
 846:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4269              		.loc 1 846 17 is_stmt 1 view .LVU1136
 846:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4270              		.loc 1 846 44 is_stmt 0 view .LVU1137
 4271 06ac BCEEC00A 		vcvt.u32.f32	s0, s0
 4272              	.LVL360:
 846:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4273              		.loc 1 846 44 view .LVU1138
 4274 06b0 10EE103A 		vmov	r3, s0	@ int
 4275 06b4 99B2     		uxth	r1, r3
 4276 06b6 494C     		ldr	r4, .L247+12
 4277 06b8 A4F84410 		strh	r1, [r4, #68]	@ movhi
 847:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4278              		.loc 1 847 17 is_stmt 1 view .LVU1139
 4279 06bc 484D     		ldr	r5, .L247+16
 4280 06be 2846     		mov	r0, r5
 4281 06c0 FFF7FEFF 		bl	UsbPrintf
 4282              	.LVL361:
 848:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 4283              		.loc 1 848 17 view .LVU1140
 4284 06c4 B4F84410 		ldrh	r1, [r4, #68]
 4285 06c8 2846     		mov	r0, r5
 4286 06ca FFF7FEFF 		bl	log_printf
 4287              	.LVL362:
 849:App/Src/task.c ****                     result = 0;
 4288              		.loc 1 849 17 view .LVU1141
 849:App/Src/task.c ****                     result = 0;
 4289              		.loc 1 849 42 is_stmt 0 view .LVU1142
 4290 06ce B4F84420 		ldrh	r2, [r4, #68]
 849:App/Src/task.c ****                     result = 0;
 4291              		.loc 1 849 20 view .LVU1143
 4292 06d2 40F2DC53 		movw	r3, #1500
 4293 06d6 9A42     		cmp	r2, r3
 4294 06d8 02D9     		bls	.L226
 850:App/Src/task.c ****                 }
 4295              		.loc 1 850 21 is_stmt 1 view .LVU1144
 850:App/Src/task.c ****                 }
 4296              		.loc 1 850 28 is_stmt 0 view .LVU1145
 4297 06da 424B     		ldr	r3, .L247+20
 4298 06dc 0022     		movs	r2, #0
 4299 06de 1A70     		strb	r2, [r3]
 4300              	.L226:
 852:App/Src/task.c ****                 timeout = HAL_GetTick();
 4301              		.loc 1 852 17 is_stmt 1 view .LVU1146
 4302 06e0 0221     		movs	r1, #2
 4303 06e2 3B4B     		ldr	r3, .L247
 4304 06e4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4305 06e6 FFF7FEFF 		bl	rtc_group_power
 4306              	.LVL363:
 853:App/Src/task.c ****                 state++;
 4307              		.loc 1 853 17 view .LVU1147
 853:App/Src/task.c ****                 state++;
 4308              		.loc 1 853 27 is_stmt 0 view .LVU1148
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 110


 4309 06ea FFF7FEFF 		bl	HAL_GetTick
 4310              	.LVL364:
 853:App/Src/task.c ****                 state++;
 4311              		.loc 1 853 25 view .LVU1149
 4312 06ee 394B     		ldr	r3, .L247+4
 4313 06f0 1860     		str	r0, [r3]
 854:App/Src/task.c ****             }
 4314              		.loc 1 854 17 is_stmt 1 view .LVU1150
 854:App/Src/task.c ****             }
 4315              		.loc 1 854 22 is_stmt 0 view .LVU1151
 4316 06f2 394A     		ldr	r2, .L247+8
 4317 06f4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4318 06f6 0133     		adds	r3, r3, #1
 4319 06f8 1370     		strb	r3, [r2]
 4320 06fa 00E5     		b	.L194
 4321              	.LVL365:
 4322              	.L241:
 845:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4323              		.loc 1 845 35 view .LVU1152
 4324 06fc 9FED3A0A 		vldr.32	s0, .L247+24
 4325              	.LVL366:
 845:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4326              		.loc 1 845 35 view .LVU1153
 4327 0700 D4E7     		b	.L225
 4328              	.L197:
 858:App/Src/task.c ****                 cur = CS1237Current();
 4329              		.loc 1 858 13 is_stmt 1 view .LVU1154
 858:App/Src/task.c ****                 cur = CS1237Current();
 4330              		.loc 1 858 17 is_stmt 0 view .LVU1155
 4331 0702 FFF7FEFF 		bl	HAL_GetTick
 4332              	.LVL367:
 858:App/Src/task.c ****                 cur = CS1237Current();
 4333              		.loc 1 858 42 view .LVU1156
 4334 0706 334B     		ldr	r3, .L247+4
 4335 0708 1B68     		ldr	r3, [r3]
 4336 070a 03F57A73 		add	r3, r3, #1000
 858:App/Src/task.c ****                 cur = CS1237Current();
 4337              		.loc 1 858 16 view .LVU1157
 4338 070e 9842     		cmp	r0, r3
 4339 0710 7FF6F5AC 		bls	.L194
 859:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4340              		.loc 1 859 17 is_stmt 1 view .LVU1158
 859:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4341              		.loc 1 859 23 is_stmt 0 view .LVU1159
 4342 0714 FFF7FEFF 		bl	CS1237Current
 4343              	.LVL368:
 860:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4344              		.loc 1 860 17 is_stmt 1 view .LVU1160
 860:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4345              		.loc 1 860 20 is_stmt 0 view .LVU1161
 4346 0718 B5EEC00A 		vcmpe.f32	s0, #0
 4347 071c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4348 0720 25D4     		bmi	.L242
 4349              	.LVL369:
 4350              	.L227:
 861:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4351              		.loc 1 861 17 is_stmt 1 view .LVU1162
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 111


 861:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4352              		.loc 1 861 45 is_stmt 0 view .LVU1163
 4353 0722 BCEEC00A 		vcvt.u32.f32	s0, s0
 4354              	.LVL370:
 861:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4355              		.loc 1 861 45 view .LVU1164
 4356 0726 10EE103A 		vmov	r3, s0	@ int
 4357 072a 99B2     		uxth	r1, r3
 4358 072c 2B4C     		ldr	r4, .L247+12
 4359 072e A4F84610 		strh	r1, [r4, #70]	@ movhi
 862:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4360              		.loc 1 862 17 is_stmt 1 view .LVU1165
 4361 0732 2E4D     		ldr	r5, .L247+28
 4362 0734 2846     		mov	r0, r5
 4363 0736 FFF7FEFF 		bl	UsbPrintf
 4364              	.LVL371:
 863:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 4365              		.loc 1 863 17 view .LVU1166
 4366 073a B4F84610 		ldrh	r1, [r4, #70]
 4367 073e 2846     		mov	r0, r5
 4368 0740 FFF7FEFF 		bl	log_printf
 4369              	.LVL372:
 864:App/Src/task.c ****                     result = 0;
 4370              		.loc 1 864 17 view .LVU1167
 864:App/Src/task.c ****                     result = 0;
 4371              		.loc 1 864 42 is_stmt 0 view .LVU1168
 4372 0744 B4F84620 		ldrh	r2, [r4, #70]
 864:App/Src/task.c ****                     result = 0;
 4373              		.loc 1 864 20 view .LVU1169
 4374 0748 40F2DC53 		movw	r3, #1500
 4375 074c 9A42     		cmp	r2, r3
 4376 074e 02D9     		bls	.L228
 865:App/Src/task.c ****                 }
 4377              		.loc 1 865 21 is_stmt 1 view .LVU1170
 865:App/Src/task.c ****                 }
 4378              		.loc 1 865 28 is_stmt 0 view .LVU1171
 4379 0750 244B     		ldr	r3, .L247+20
 4380 0752 0022     		movs	r2, #0
 4381 0754 1A70     		strb	r2, [r3]
 4382              	.L228:
 867:App/Src/task.c ****                 HAL_Delay(5);
 4383              		.loc 1 867 17 is_stmt 1 view .LVU1172
 4384 0756 0121     		movs	r1, #1
 4385 0758 1D4B     		ldr	r3, .L247
 4386 075a 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4387 075c FFF7FEFF 		bl	rtc_group_power
 4388              	.LVL373:
 868:App/Src/task.c ****                 // rtc_exit_testmode();
 4389              		.loc 1 868 17 view .LVU1173
 4390 0760 0520     		movs	r0, #5
 4391 0762 FFF7FEFF 		bl	HAL_Delay
 4392              	.LVL374:
 870:App/Src/task.c ****             }
 4393              		.loc 1 870 17 view .LVU1174
 870:App/Src/task.c ****             }
 4394              		.loc 1 870 23 is_stmt 0 view .LVU1175
 4395 0766 1C4B     		ldr	r3, .L247+8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 112


 4396 0768 1422     		movs	r2, #20
 4397 076a 1A70     		strb	r2, [r3]
 4398 076c C7E4     		b	.L194
 4399              	.LVL375:
 4400              	.L242:
 860:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4401              		.loc 1 860 35 view .LVU1176
 4402 076e 9FED1E0A 		vldr.32	s0, .L247+24
 4403              	.LVL376:
 860:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4404              		.loc 1 860 35 view .LVU1177
 4405 0772 D6E7     		b	.L227
 4406              	.L195:
 875:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4407              		.loc 1 875 13 is_stmt 1 view .LVU1178
 875:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4408              		.loc 1 875 24 is_stmt 0 view .LVU1179
 4409 0774 1B4B     		ldr	r3, .L247+20
 4410 0776 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 875:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4411              		.loc 1 875 16 view .LVU1180
 4412 0778 6BB9     		cbnz	r3, .L229
 876:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 4413              		.loc 1 876 17 is_stmt 1 view .LVU1181
 4414 077a 154D     		ldr	r5, .L247
 4415 077c 1C4C     		ldr	r4, .L247+32
 4416 077e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 4417 0780 2046     		mov	r0, r4
 4418 0782 FFF7FEFF 		bl	UsbPrintf
 4419              	.LVL377:
 877:App/Src/task.c ****             } else {
 4420              		.loc 1 877 17 view .LVU1182
 4421 0786 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 4422 0788 2046     		mov	r0, r4
 4423 078a FFF7FEFF 		bl	log_printf
 4424              	.LVL378:
 4425              	.L230:
 883:App/Src/task.c ****         break;
 4426              		.loc 1 883 13 view .LVU1183
 883:App/Src/task.c ****         break;
 4427              		.loc 1 883 19 is_stmt 0 view .LVU1184
 4428 078e 124B     		ldr	r3, .L247+8
 4429 0790 0022     		movs	r2, #0
 4430 0792 1A70     		strb	r2, [r3]
 884:App/Src/task.c ****         default:  break;
 4431              		.loc 1 884 9 is_stmt 1 view .LVU1185
 4432 0794 B3E4     		b	.L194
 4433              	.L229:
 879:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 4434              		.loc 1 879 17 view .LVU1186
 4435 0796 0E4C     		ldr	r4, .L247
 4436 0798 164D     		ldr	r5, .L247+36
 4437 079a 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4438 079c 2846     		mov	r0, r5
 4439 079e FFF7FEFF 		bl	UsbPrintf
 4440              	.LVL379:
 880:App/Src/task.c ****                 flash_test_data_write_add(&g_machineTest, testNumber, MACHINE_TEST_ALL);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 113


 4441              		.loc 1 880 17 view .LVU1187
 4442 07a2 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4443 07a4 2846     		mov	r0, r5
 4444 07a6 FFF7FEFF 		bl	log_printf
 4445              	.LVL380:
 881:App/Src/task.c ****             }
 4446              		.loc 1 881 17 view .LVU1188
 4447 07aa 4222     		movs	r2, #66
 4448 07ac 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4449 07ae 0B48     		ldr	r0, .L247+12
 4450 07b0 FFF7FEFF 		bl	flash_test_data_write_add
 4451              	.LVL381:
 4452 07b4 EBE7     		b	.L230
 4453              	.LVL382:
 4454              	.L233:
 887:App/Src/task.c ****     if (state == 0) {
 4455              		.loc 1 887 53 is_stmt 0 view .LVU1189
 4456 07b6 4FF0FF30 		mov	r0, #-1
 4457              	.L189:
 891:App/Src/task.c ****         } else {
 892:App/Src/task.c ****             return -1;
 893:App/Src/task.c ****         }
 894:App/Src/task.c ****     } else {
 895:App/Src/task.c ****         return 0;
 896:App/Src/task.c ****     }    
 897:App/Src/task.c **** }
 4458              		.loc 1 897 1 view .LVU1190
 4459 07ba 0BB0     		add	sp, sp, #44
 4460              	.LCFI32:
 4461              		.cfi_remember_state
 4462              		.cfi_def_cfa_offset 36
 4463              		@ sp needed
 4464 07bc BDEC028B 		vldm	sp!, {d8}
 4465              	.LCFI33:
 4466              		.cfi_restore 80
 4467              		.cfi_restore 81
 4468              		.cfi_def_cfa_offset 28
 4469 07c0 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4470              	.L234:
 4471              	.LCFI34:
 4472              		.cfi_restore_state
 895:App/Src/task.c ****     }    
 4473              		.loc 1 895 16 view .LVU1191
 4474 07c4 0020     		movs	r0, #0
 4475 07c6 F8E7     		b	.L189
 4476              	.L235:
 892:App/Src/task.c ****         }
 4477              		.loc 1 892 20 view .LVU1192
 4478 07c8 4FF0FF30 		mov	r0, #-1
 4479 07cc F5E7     		b	.L189
 4480              	.L248:
 4481 07ce 00BF     		.align	2
 4482              	.L247:
 4483 07d0 00000000 		.word	.LANCHOR23
 4484 07d4 00000000 		.word	.LANCHOR27
 4485 07d8 00000000 		.word	.LANCHOR22
 4486 07dc 00000000 		.word	.LANCHOR18
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 114


 4487 07e0 48000000 		.word	.LC21
 4488 07e4 00000000 		.word	.LANCHOR26
 4489 07e8 00000000 		.word	0
 4490 07ec 54000000 		.word	.LC22
 4491 07f0 60000000 		.word	.LC23
 4492 07f4 7C000000 		.word	.LC24
 4493              		.cfi_endproc
 4494              	.LFE245:
 4496              		.section	.rodata.command_freq_test.str1.4,"aMS",%progbits,1
 4497              		.align	2
 4498              	.LC36:
 4499 0000 73797374 		.ascii	"system temp:%.1f\012\000"
 4499      656D2074 
 4499      656D703A 
 4499      252E3166 
 4499      0A00
 4500 0012 0000     		.align	2
 4501              	.LC37:
 4502 0014 63686970 		.ascii	"chip:%d, temp:%.0f, \000"
 4502      3A25642C 
 4502      2074656D 
 4502      703A252E 
 4502      30662C20 
 4503 0029 000000   		.align	2
 4504              	.LC38:
 4505 002c 252E3266 		.ascii	"%.2fppm\012\000"
 4505      70706D0A 
 4505      00
 4506 0035 000000   		.align	2
 4507              	.LC39:
 4508 0038 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:%.2fppm\000"
 4508      6D626572 
 4508      3A256420 
 4508      63686970 
 4508      4E616D65 
 4509              		.align	2
 4510              	.LC40:
 4511 0060 6E6F2072 		.ascii	"no response\012\000"
 4511      6573706F 
 4511      6E73650A 
 4511      00
 4512 006d 000000   		.align	2
 4513              	.LC41:
 4514 0070 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\306\265\302\312\274"
 4514      6D626572 
 4514      3A256420 
 4514      63686970 
 4514      4E616D65 
 4515 0095 C6CEDEBD 		.ascii	"\306\316\336\275\341\271\373\000"
 4515      E1B9FB00 
 4516              		.section	.text.command_freq_test,"ax",%progbits
 4517              		.align	1
 4518              		.global	command_freq_test
 4519              		.syntax unified
 4520              		.thumb
 4521              		.thumb_func
 4523              	command_freq_test:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 115


 4524              	.LVL383:
 4525              	.LFB246:
 898:App/Src/task.c **** 
 899:App/Src/task.c **** 
 900:App/Src/task.c **** 
 901:App/Src/task.c **** int command_freq_test(uint8_t number)
 902:App/Src/task.c **** {
 4526              		.loc 1 902 1 is_stmt 1 view -0
 4527              		.cfi_startproc
 4528              		@ args = 0, pretend = 0, frame = 8
 4529              		@ frame_needed = 0, uses_anonymous_args = 0
 4530              		.loc 1 902 1 is_stmt 0 view .LVU1194
 4531 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 4532              	.LCFI35:
 4533              		.cfi_def_cfa_offset 20
 4534              		.cfi_offset 4, -20
 4535              		.cfi_offset 5, -16
 4536              		.cfi_offset 6, -12
 4537              		.cfi_offset 7, -8
 4538              		.cfi_offset 14, -4
 4539 0002 85B0     		sub	sp, sp, #20
 4540              	.LCFI36:
 4541              		.cfi_def_cfa_offset 40
 903:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 4542              		.loc 1 903 5 is_stmt 1 view .LVU1195
 904:App/Src/task.c ****     float temp, ppm;
 4543              		.loc 1 904 5 view .LVU1196
 905:App/Src/task.c ****     uint8_t buffer;
 4544              		.loc 1 905 5 view .LVU1197
 906:App/Src/task.c ****     static uint8_t testState = 0;
 4545              		.loc 1 906 5 view .LVU1198
 907:App/Src/task.c ****     int result = 0;
 4546              		.loc 1 907 5 view .LVU1199
 4547              	.LVL384:
 908:App/Src/task.c ****     static uint8_t okCount = 0;
 4548              		.loc 1 908 5 view .LVU1200
 909:App/Src/task.c **** 
 910:App/Src/task.c ****     if (number == 0) {
 4549              		.loc 1 910 5 view .LVU1201
 4550              		.loc 1 910 8 is_stmt 0 view .LVU1202
 4551 0004 58B1     		cbz	r0, .L260
 4552 0006 0546     		mov	r5, r0
 911:App/Src/task.c ****         testState = 1;
 912:App/Src/task.c ****         temp = temp_read_value(1);
 913:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 914:App/Src/task.c ****         okCount = 0;
 915:App/Src/task.c ****         return 1;
 916:App/Src/task.c ****     } 
 917:App/Src/task.c ****     switch (testState) {
 4553              		.loc 1 917 5 is_stmt 1 view .LVU1203
 4554 0008 594B     		ldr	r3, .L263+16
 4555 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4556 000c 022B     		cmp	r3, #2
 4557 000e 47D0     		beq	.L252
 4558 0010 032B     		cmp	r3, #3
 4559 0012 54D0     		beq	.L253
 4560 0014 012B     		cmp	r3, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 116


 4561 0016 16D0     		beq	.L261
 4562 0018 0020     		movs	r0, #0
 4563              	.LVL385:
 4564              	.L249:
 918:App/Src/task.c ****         case 0: break;
 919:App/Src/task.c ****         case 1:
 920:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
 921:App/Src/task.c ****             HAL_Delay(5);
 922:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 923:App/Src/task.c ****                 temp = buffer;
 924:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 925:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 926:App/Src/task.c ****                 rtc_set_int_channel(number);
 927:App/Src/task.c ****                 rtc_out_4096();
 928:App/Src/task.c ****                 testState++;
 929:App/Src/task.c ****             } else {
 930:App/Src/task.c ****                 result = -1;
 931:App/Src/task.c ****             }
 932:App/Src/task.c ****         break;
 933:App/Src/task.c ****         case 2:
 934:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 935:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 936:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 937:App/Src/task.c ****             testState++;
 938:App/Src/task.c ****         break;
 939:App/Src/task.c ****         case 3:
 940:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 941:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 942:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 943:App/Src/task.c ****                 rtc_disable_int();
 944:App/Src/task.c ****                 testState = 1;
 945:App/Src/task.c ****                 okCount++;
 946:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 947:App/Src/task.c ****                 result = 1;
 948:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 949:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 950:App/Src/task.c ****                 testState = 1;
 951:App/Src/task.c ****                 rtc_disable_int();
 952:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 953:App/Src/task.c ****                 result = -1;
 954:App/Src/task.c ****             }
 955:App/Src/task.c ****         break;
 956:App/Src/task.c ****         default:  break;
 957:App/Src/task.c ****     }
 958:App/Src/task.c ****     return result;
 959:App/Src/task.c **** }
 4565              		.loc 1 959 1 is_stmt 0 view .LVU1204
 4566 001a 05B0     		add	sp, sp, #20
 4567              	.LCFI37:
 4568              		.cfi_remember_state
 4569              		.cfi_def_cfa_offset 20
 4570              		@ sp needed
 4571 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 4572              	.LVL386:
 4573              	.L260:
 4574              	.LCFI38:
 4575              		.cfi_restore_state
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 117


 911:App/Src/task.c ****         testState = 1;
 4576              		.loc 1 911 9 is_stmt 1 view .LVU1205
 911:App/Src/task.c ****         testState = 1;
 4577              		.loc 1 911 19 is_stmt 0 view .LVU1206
 4578 001e 0124     		movs	r4, #1
 4579 0020 534B     		ldr	r3, .L263+16
 4580 0022 1C70     		strb	r4, [r3]
 912:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 4581              		.loc 1 912 9 is_stmt 1 view .LVU1207
 912:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 4582              		.loc 1 912 16 is_stmt 0 view .LVU1208
 4583 0024 2046     		mov	r0, r4
 4584              	.LVL387:
 912:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 4585              		.loc 1 912 16 view .LVU1209
 4586 0026 FFF7FEFF 		bl	temp_read_value
 4587              	.LVL388:
 4588 002a 10EE100A 		vmov	r0, s0
 4589              	.LVL389:
 913:App/Src/task.c ****         okCount = 0;
 4590              		.loc 1 913 9 is_stmt 1 view .LVU1210
 4591 002e FFF7FEFF 		bl	__aeabi_f2d
 4592              	.LVL390:
 913:App/Src/task.c ****         okCount = 0;
 4593              		.loc 1 913 9 is_stmt 0 view .LVU1211
 4594 0032 0246     		mov	r2, r0
 4595 0034 0B46     		mov	r3, r1
 4596 0036 4F48     		ldr	r0, .L263+20
 4597 0038 FFF7FEFF 		bl	UsbPrintf
 4598              	.LVL391:
 914:App/Src/task.c ****         return 1;
 4599              		.loc 1 914 9 is_stmt 1 view .LVU1212
 914:App/Src/task.c ****         return 1;
 4600              		.loc 1 914 17 is_stmt 0 view .LVU1213
 4601 003c 4E4B     		ldr	r3, .L263+24
 4602 003e 0022     		movs	r2, #0
 4603 0040 1A70     		strb	r2, [r3]
 915:App/Src/task.c ****     } 
 4604              		.loc 1 915 9 is_stmt 1 view .LVU1214
 915:App/Src/task.c ****     } 
 4605              		.loc 1 915 16 is_stmt 0 view .LVU1215
 4606 0042 2046     		mov	r0, r4
 4607 0044 E9E7     		b	.L249
 4608              	.LVL392:
 4609              	.L261:
 920:App/Src/task.c ****             HAL_Delay(5);
 4610              		.loc 1 920 13 is_stmt 1 view .LVU1216
 4611 0046 0121     		movs	r1, #1
 4612 0048 FFF7FEFF 		bl	rtc_group_power
 4613              	.LVL393:
 921:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 4614              		.loc 1 921 13 view .LVU1217
 4615 004c 0520     		movs	r0, #5
 4616 004e FFF7FEFF 		bl	HAL_Delay
 4617              	.LVL394:
 922:App/Src/task.c ****                 temp = buffer;
 4618              		.loc 1 922 13 view .LVU1218
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 118


 922:App/Src/task.c ****                 temp = buffer;
 4619              		.loc 1 922 17 is_stmt 0 view .LVU1219
 4620 0052 0DF10F00 		add	r0, sp, #15
 4621 0056 FFF7FEFF 		bl	rtc_read_temp
 4622              	.LVL395:
 922:App/Src/task.c ****                 temp = buffer;
 4623              		.loc 1 922 16 view .LVU1220
 4624 005a 0028     		cmp	r0, #0
 4625 005c 7DD1     		bne	.L257
 923:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 4626              		.loc 1 923 17 is_stmt 1 view .LVU1221
 923:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 4627              		.loc 1 923 22 is_stmt 0 view .LVU1222
 4628 005e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4629 0062 07EE903A 		vmov	s15, r3	@ int
 4630 0066 F8EE677A 		vcvt.f32.u32	s15, s15
 4631              	.LVL396:
 924:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 4632              		.loc 1 924 17 is_stmt 1 view .LVU1223
 924:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 4633              		.loc 1 924 20 is_stmt 0 view .LVU1224
 4634 006a C82B     		cmp	r3, #200
 4635 006c 03D9     		bls	.L254
 924:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 4636              		.loc 1 924 36 is_stmt 1 discriminator 1 view .LVU1225
 924:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 4637              		.loc 1 924 41 is_stmt 0 discriminator 1 view .LVU1226
 4638 006e 9FED437A 		vldr.32	s14, .L263+28
 4639 0072 77EEC77A 		vsub.f32	s15, s15, s14
 4640              	.LVL397:
 4641              	.L254:
 925:App/Src/task.c ****                 rtc_set_int_channel(number);
 4642              		.loc 1 925 17 is_stmt 1 view .LVU1227
 4643 0076 17EE900A 		vmov	r0, s15
 4644 007a FFF7FEFF 		bl	__aeabi_f2d
 4645              	.LVL398:
 925:App/Src/task.c ****                 rtc_set_int_channel(number);
 4646              		.loc 1 925 17 is_stmt 0 view .LVU1228
 4647 007e 0246     		mov	r2, r0
 4648 0080 0B46     		mov	r3, r1
 4649 0082 2946     		mov	r1, r5
 4650 0084 3E48     		ldr	r0, .L263+32
 4651 0086 FFF7FEFF 		bl	UsbPrintf
 4652              	.LVL399:
 926:App/Src/task.c ****                 rtc_out_4096();
 4653              		.loc 1 926 17 is_stmt 1 view .LVU1229
 4654 008a 2846     		mov	r0, r5
 4655 008c FFF7FEFF 		bl	rtc_set_int_channel
 4656              	.LVL400:
 927:App/Src/task.c ****                 testState++;
 4657              		.loc 1 927 17 view .LVU1230
 4658 0090 FFF7FEFF 		bl	rtc_out_4096
 4659              	.LVL401:
 928:App/Src/task.c ****             } else {
 4660              		.loc 1 928 17 view .LVU1231
 928:App/Src/task.c ****             } else {
 4661              		.loc 1 928 26 is_stmt 0 view .LVU1232
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 119


 4662 0094 364A     		ldr	r2, .L263+16
 4663 0096 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4664 0098 0133     		adds	r3, r3, #1
 4665 009a 1370     		strb	r3, [r2]
 907:App/Src/task.c ****     static uint8_t okCount = 0;
 4666              		.loc 1 907 9 view .LVU1233
 4667 009c 0020     		movs	r0, #0
 4668 009e BCE7     		b	.L249
 4669              	.LVL402:
 4670              	.L252:
 934:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 4671              		.loc 1 934 13 is_stmt 1 view .LVU1234
 934:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 4672              		.loc 1 934 28 is_stmt 0 view .LVU1235
 4673 00a0 FFF7FEFF 		bl	HAL_GetTick
 4674              	.LVL403:
 934:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 4675              		.loc 1 934 26 view .LVU1236
 4676 00a4 374B     		ldr	r3, .L263+36
 4677 00a6 1860     		str	r0, [r3]
 935:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 4678              		.loc 1 935 13 is_stmt 1 view .LVU1237
 935:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 4679              		.loc 1 935 35 is_stmt 0 view .LVU1238
 4680 00a8 374B     		ldr	r3, .L263+40
 4681 00aa 1860     		str	r0, [r3]
 936:App/Src/task.c ****             testState++;
 4682              		.loc 1 936 13 is_stmt 1 view .LVU1239
 4683 00ac 3748     		ldr	r0, .L263+44
 4684 00ae FFF7FEFF 		bl	DevicePrintf
 4685              	.LVL404:
 937:App/Src/task.c ****         break;
 4686              		.loc 1 937 13 view .LVU1240
 937:App/Src/task.c ****         break;
 4687              		.loc 1 937 22 is_stmt 0 view .LVU1241
 4688 00b2 2F4A     		ldr	r2, .L263+16
 4689 00b4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4690 00b6 0133     		adds	r3, r3, #1
 4691 00b8 1370     		strb	r3, [r2]
 938:App/Src/task.c ****         case 3:
 4692              		.loc 1 938 9 is_stmt 1 view .LVU1242
 907:App/Src/task.c ****     static uint8_t okCount = 0;
 4693              		.loc 1 907 9 is_stmt 0 view .LVU1243
 4694 00ba 0020     		movs	r0, #0
 938:App/Src/task.c ****         case 3:
 4695              		.loc 1 938 9 view .LVU1244
 4696 00bc ADE7     		b	.L249
 4697              	.LVL405:
 4698              	.L253:
 940:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 4699              		.loc 1 940 13 is_stmt 1 view .LVU1245
 940:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 4700              		.loc 1 940 27 is_stmt 0 view .LVU1246
 4701 00be 324B     		ldr	r3, .L263+40
 4702 00c0 1A68     		ldr	r2, [r3]
 940:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 4703              		.loc 1 940 39 view .LVU1247
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 120


 4704 00c2 304B     		ldr	r3, .L263+36
 4705 00c4 1C68     		ldr	r4, [r3]
 940:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 4706              		.loc 1 940 16 view .LVU1248
 4707 00c6 A242     		cmp	r2, r4
 4708 00c8 2ED9     		bls	.L255
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4709              		.loc 1 941 17 is_stmt 1 view .LVU1249
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4710              		.loc 1 941 34 is_stmt 0 view .LVU1250
 4711 00ca 2F4B     		ldr	r3, .L263+40
 4712 00cc 5868     		ldr	r0, [r3, #4]	@ float
 4713              	.LVL406:
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4714              		.loc 1 941 34 view .LVU1251
 4715 00ce FFF7FEFF 		bl	__aeabi_f2d
 4716              	.LVL407:
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4717              		.loc 1 941 40 view .LVU1252
 4718 00d2 23A3     		adr	r3, .L263
 4719 00d4 D3E90023 		ldrd	r2, [r3]
 4720 00d8 FFF7FEFF 		bl	__aeabi_ddiv
 4721              	.LVL408:
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4722              		.loc 1 941 48 view .LVU1253
 4723 00dc 0022     		movs	r2, #0
 4724 00de 2C4B     		ldr	r3, .L263+48
 4725 00e0 FFF7FEFF 		bl	__aeabi_dsub
 4726              	.LVL409:
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4727              		.loc 1 941 53 view .LVU1254
 4728 00e4 20A3     		adr	r3, .L263+8
 4729 00e6 D3E90023 		ldrd	r2, [r3]
 4730 00ea FFF7FEFF 		bl	__aeabi_dmul
 4731              	.LVL410:
 941:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 4732              		.loc 1 941 21 view .LVU1255
 4733 00ee FFF7FEFF 		bl	__aeabi_d2f
 4734              	.LVL411:
 942:App/Src/task.c ****                 rtc_disable_int();
 4735              		.loc 1 942 17 is_stmt 1 view .LVU1256
 4736 00f2 FFF7FEFF 		bl	__aeabi_f2d
 4737              	.LVL412:
 942:App/Src/task.c ****                 rtc_disable_int();
 4738              		.loc 1 942 17 is_stmt 0 view .LVU1257
 4739 00f6 0646     		mov	r6, r0
 4740 00f8 0F46     		mov	r7, r1
 4741 00fa 0246     		mov	r2, r0
 4742 00fc 0B46     		mov	r3, r1
 4743 00fe 2548     		ldr	r0, .L263+52
 4744 0100 FFF7FEFF 		bl	UsbPrintf
 4745              	.LVL413:
 943:App/Src/task.c ****                 testState = 1;
 4746              		.loc 1 943 17 is_stmt 1 view .LVU1258
 4747 0104 FFF7FEFF 		bl	rtc_disable_int
 4748              	.LVL414:
 944:App/Src/task.c ****                 okCount++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 121


 4749              		.loc 1 944 17 view .LVU1259
 944:App/Src/task.c ****                 okCount++;
 4750              		.loc 1 944 27 is_stmt 0 view .LVU1260
 4751 0108 0124     		movs	r4, #1
 4752 010a 194B     		ldr	r3, .L263+16
 4753 010c 1C70     		strb	r4, [r3]
 945:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 4754              		.loc 1 945 17 is_stmt 1 view .LVU1261
 945:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 4755              		.loc 1 945 24 is_stmt 0 view .LVU1262
 4756 010e 1A4B     		ldr	r3, .L263+24
 4757 0110 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4758 0112 2144     		add	r1, r1, r4
 4759 0114 C9B2     		uxtb	r1, r1
 4760 0116 1970     		strb	r1, [r3]
 946:App/Src/task.c ****                 result = 1;
 4761              		.loc 1 946 17 is_stmt 1 view .LVU1263
 4762 0118 CDE90067 		strd	r6, [sp]
 4763 011c 2A46     		mov	r2, r5
 4764 011e 1E48     		ldr	r0, .L263+56
 4765 0120 FFF7FEFF 		bl	ControlPrintf
 4766              	.LVL415:
 947:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 4767              		.loc 1 947 17 view .LVU1264
 947:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 4768              		.loc 1 947 24 is_stmt 0 view .LVU1265
 4769 0124 2046     		mov	r0, r4
 4770 0126 78E7     		b	.L249
 4771              	.LVL416:
 4772              	.L255:
 948:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 4773              		.loc 1 948 20 is_stmt 1 view .LVU1266
 948:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 4774              		.loc 1 948 37 is_stmt 0 view .LVU1267
 4775 0128 04F2DC54 		addw	r4, r4, #1500
 948:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 4776              		.loc 1 948 46 view .LVU1268
 4777 012c FFF7FEFF 		bl	HAL_GetTick
 4778              	.LVL417:
 948:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 4779              		.loc 1 948 23 view .LVU1269
 4780 0130 8442     		cmp	r4, r0
 4781 0132 01D3     		bcc	.L262
 907:App/Src/task.c ****     static uint8_t okCount = 0;
 4782              		.loc 1 907 9 view .LVU1270
 4783 0134 0020     		movs	r0, #0
 4784              	.LVL418:
 907:App/Src/task.c ****     static uint8_t okCount = 0;
 4785              		.loc 1 907 9 view .LVU1271
 4786 0136 70E7     		b	.L249
 4787              	.LVL419:
 4788              	.L262:
 949:App/Src/task.c ****                 testState = 1;
 4789              		.loc 1 949 17 is_stmt 1 view .LVU1272
 4790 0138 1848     		ldr	r0, .L263+60
 4791 013a FFF7FEFF 		bl	UsbPrintf
 4792              	.LVL420:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 122


 950:App/Src/task.c ****                 rtc_disable_int();
 4793              		.loc 1 950 17 view .LVU1273
 950:App/Src/task.c ****                 rtc_disable_int();
 4794              		.loc 1 950 27 is_stmt 0 view .LVU1274
 4795 013e 0C4B     		ldr	r3, .L263+16
 4796 0140 0122     		movs	r2, #1
 4797 0142 1A70     		strb	r2, [r3]
 951:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 4798              		.loc 1 951 17 is_stmt 1 view .LVU1275
 4799 0144 FFF7FEFF 		bl	rtc_disable_int
 4800              	.LVL421:
 952:App/Src/task.c ****                 result = -1;
 4801              		.loc 1 952 17 view .LVU1276
 4802 0148 2A46     		mov	r2, r5
 4803 014a 0B4B     		ldr	r3, .L263+24
 4804 014c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4805 014e 1448     		ldr	r0, .L263+64
 4806 0150 FFF7FEFF 		bl	ControlPrintf
 4807              	.LVL422:
 953:App/Src/task.c ****             }
 4808              		.loc 1 953 17 view .LVU1277
 953:App/Src/task.c ****             }
 4809              		.loc 1 953 24 is_stmt 0 view .LVU1278
 4810 0154 4FF0FF30 		mov	r0, #-1
 4811 0158 5FE7     		b	.L249
 4812              	.LVL423:
 4813              	.L257:
 930:App/Src/task.c ****             }
 4814              		.loc 1 930 24 view .LVU1279
 4815 015a 4FF0FF30 		mov	r0, #-1
 4816 015e 5CE7     		b	.L249
 4817              	.L264:
 4818              		.align	3
 4819              	.L263:
 4820 0160 FCA9F1D2 		.word	-755914244
 4821 0164 4D621040 		.word	1074815565
 4822 0168 00000000 		.word	0
 4823 016c 80842E41 		.word	1093567616
 4824 0170 00000000 		.word	.LANCHOR28
 4825 0174 00000000 		.word	.LC36
 4826 0178 00000000 		.word	.LANCHOR29
 4827 017c 00008043 		.word	1132462080
 4828 0180 14000000 		.word	.LC37
 4829 0184 00000000 		.word	.LANCHOR30
 4830 0188 00000000 		.word	.LANCHOR7
 4831 018c 50000000 		.word	.LC5
 4832 0190 0000F03F 		.word	1072693248
 4833 0194 2C000000 		.word	.LC38
 4834 0198 38000000 		.word	.LC39
 4835 019c 60000000 		.word	.LC40
 4836 01a0 70000000 		.word	.LC41
 4837              		.cfi_endproc
 4838              	.LFE246:
 4840              		.section	.rodata.ClearControlMessage.str1.4,"aMS",%progbits,1
 4841              		.align	2
 4842              	.LC42:
 4843 0000 25730A00 		.ascii	"%s\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 123


 4844              		.section	.text.ClearControlMessage,"ax",%progbits
 4845              		.align	1
 4846              		.global	ClearControlMessage
 4847              		.syntax unified
 4848              		.thumb
 4849              		.thumb_func
 4851              	ClearControlMessage:
 4852              	.LFB247:
 960:App/Src/task.c **** 
 961:App/Src/task.c **** void ClearControlMessage(void)
 962:App/Src/task.c **** {
 4853              		.loc 1 962 1 is_stmt 1 view -0
 4854              		.cfi_startproc
 4855              		@ args = 0, pretend = 0, frame = 224
 4856              		@ frame_needed = 0, uses_anonymous_args = 0
 4857 0000 10B5     		push	{r4, lr}
 4858              	.LCFI39:
 4859              		.cfi_def_cfa_offset 8
 4860              		.cfi_offset 4, -8
 4861              		.cfi_offset 14, -4
 4862 0002 B8B0     		sub	sp, sp, #224
 4863              	.LCFI40:
 4864              		.cfi_def_cfa_offset 232
 963:App/Src/task.c ****     char message[11][20] = { "chip:", "download:", "systemTemp:", "chipTemp:", "freq:", "ppm:", "id
 4865              		.loc 1 963 5 view .LVU1281
 4866              		.loc 1 963 10 is_stmt 0 view .LVU1282
 4867 0004 DC22     		movs	r2, #220
 4868 0006 0C49     		ldr	r1, .L271
 4869 0008 01A8     		add	r0, sp, #4
 4870 000a FFF7FEFF 		bl	memcpy
 4871              	.LVL424:
 964:App/Src/task.c ****     int i;
 4872              		.loc 1 964 5 is_stmt 1 view .LVU1283
 965:App/Src/task.c ****     for (i = 0; i < 11; i++) {
 4873              		.loc 1 965 5 view .LVU1284
 4874              		.loc 1 965 12 is_stmt 0 view .LVU1285
 4875 000e 0024     		movs	r4, #0
 4876              		.loc 1 965 5 view .LVU1286
 4877 0010 00E0     		b	.L266
 4878              	.LVL425:
 4879              	.L267:
 4880              		.loc 1 965 25 is_stmt 1 discriminator 2 view .LVU1287
 4881              		.loc 1 965 26 is_stmt 0 discriminator 2 view .LVU1288
 4882 0012 0134     		adds	r4, r4, #1
 4883              	.LVL426:
 4884              	.L266:
 4885              		.loc 1 965 17 is_stmt 1 discriminator 1 view .LVU1289
 4886              		.loc 1 965 5 is_stmt 0 discriminator 1 view .LVU1290
 4887 0014 0A2C     		cmp	r4, #10
 4888 0016 0DDC     		bgt	.L270
 966:App/Src/task.c ****         if (i == 2) continue;
 4889              		.loc 1 966 9 is_stmt 1 view .LVU1291
 4890              		.loc 1 966 12 is_stmt 0 view .LVU1292
 4891 0018 022C     		cmp	r4, #2
 4892 001a FAD0     		beq	.L267
 967:App/Src/task.c ****         ControlPrintf("%s\n", message[i]);
 4893              		.loc 1 967 9 is_stmt 1 view .LVU1293
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 124


 4894              		.loc 1 967 38 is_stmt 0 view .LVU1294
 4895 001c 04EB8403 		add	r3, r4, r4, lsl #2
 4896 0020 9900     		lsls	r1, r3, #2
 4897              		.loc 1 967 9 view .LVU1295
 4898 0022 01AB     		add	r3, sp, #4
 4899 0024 1944     		add	r1, r1, r3
 4900 0026 0548     		ldr	r0, .L271+4
 4901 0028 FFF7FEFF 		bl	ControlPrintf
 4902              	.LVL427:
 968:App/Src/task.c ****         HAL_Delay(5);
 4903              		.loc 1 968 9 is_stmt 1 view .LVU1296
 4904 002c 0520     		movs	r0, #5
 4905 002e FFF7FEFF 		bl	HAL_Delay
 4906              	.LVL428:
 4907 0032 EEE7     		b	.L267
 4908              	.L270:
 969:App/Src/task.c ****     }
 970:App/Src/task.c **** 
 971:App/Src/task.c **** }
 4909              		.loc 1 971 1 is_stmt 0 view .LVU1297
 4910 0034 38B0     		add	sp, sp, #224
 4911              	.LCFI41:
 4912              		.cfi_def_cfa_offset 8
 4913              		@ sp needed
 4914 0036 10BD     		pop	{r4, pc}
 4915              	.LVL429:
 4916              	.L272:
 4917              		.loc 1 971 1 view .LVU1298
 4918              		.align	2
 4919              	.L271:
 4920 0038 00000000 		.word	.LANCHOR31
 4921 003c 00000000 		.word	.LC42
 4922              		.cfi_endproc
 4923              	.LFE247:
 4925              		.section	.rodata.Aecq100Sample.str1.4,"aMS",%progbits,1
 4926              		.align	2
 4927              	.LC43:
 4928 0000 63686970 		.ascii	"chip:SD3078B\012\000"
 4928      3A534433 
 4928      30373842 
 4928      0A00
 4929 000e 0000     		.align	2
 4930              	.LC44:
 4931 0010 646F776E 		.ascii	"download:\264\313\307\260\311\325\320\264\263\311\271"
 4931      6C6F6164 
 4931      3AB4CBC7 
 4931      B0C9D5D0 
 4931      B4B3C9B9 
 4932 0024 A60A00   		.ascii	"\246\012\000"
 4933 0027 00       		.align	2
 4934              	.LC45:
 4935 0028 72746320 		.ascii	"rtc ID check OK\012\000"
 4935      49442063 
 4935      6865636B 
 4935      204F4B0A 
 4935      00
 4936 0039 000000   		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 125


 4937              	.LC46:
 4938 003c 69643A25 		.ascii	"id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 4938      30325825 
 4938      30325825 
 4938      30325825 
 4938      30325825 
 4939 0061 000000   		.align	2
 4940              	.LC47:
 4941 0064 72656365 		.ascii	"receive I2C OK\012\000"
 4941      69766520 
 4941      49324320 
 4941      4F4B0A00 
 4942              		.align	2
 4943              	.LC48:
 4944 0074 73797374 		.ascii	"systemTemp:%.1f\012\000"
 4944      656D5465 
 4944      6D703A25 
 4944      2E31660A 
 4944      00
 4945 0085 000000   		.align	2
 4946              	.LC49:
 4947 0088 646F776E 		.ascii	"download:\275\370\320\320\262\342\312\324\304\243\312"
 4947      6C6F6164 
 4947      3ABDF8D0 
 4947      D0B2E2CA 
 4947      D4C4A3CA 
 4948 009c BD0A00   		.ascii	"\275\012\000"
 4949 009f 00       		.align	2
 4950              	.LC50:
 4951 00a0 656E7465 		.ascii	"enter testmode OK\012\000"
 4951      72207465 
 4951      73746D6F 
 4951      6465204F 
 4951      4B0A00
 4952 00b3 00       		.align	2
 4953              	.LC51:
 4954 00b4 656E7465 		.ascii	"enter testmode fail\012\000"
 4954      72207465 
 4954      73746D6F 
 4954      64652066 
 4954      61696C0A 
 4955 00c9 000000   		.align	2
 4956              	.LC52:
 4957 00cc 646F776E 		.ascii	"download:\262\342\312\324\304\243\312\275\312\247\260"
 4957      6C6F6164 
 4957      3AB2E2CA 
 4957      D4C4A3CA 
 4957      BDCAA7B0 
 4958 00e0 DC0A00   		.ascii	"\334\012\000"
 4959 00e3 00       		.align	2
 4960              	.LC53:
 4961 00e4 72657375 		.ascii	"result:NG\012\000"
 4961      6C743A4E 
 4961      470A00
 4962 00ef 00       		.align	2
 4963              	.LC54:
 4964 00f0 74656D70 		.ascii	"temp %.1f, adc %.1f, offset %d\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 126


 4964      20252E31 
 4964      662C2061 
 4964      64632025 
 4964      2E31662C 
 4965              		.align	2
 4966              	.LC55:
 4967 0110 63686563 		.ascii	"check config fail\012\000"
 4967      6B20636F 
 4967      6E666967 
 4967      20666169 
 4967      6C0A00
 4968 0123 00       		.align	2
 4969              	.LC56:
 4970 0124 646F776E 		.ascii	"download:\316\302\266\310\274\306\312\247\260\334\012"
 4970      6C6F6164 
 4970      3ACEC2B6 
 4970      C8BCC6CA 
 4970      A7B0DC0A 
 4971 0138 00       		.ascii	"\000"
 4972 0139 000000   		.align	2
 4973              	.LC57:
 4974 013c 646F776E 		.ascii	"download:\277\252\312\274\265\367\265\347\310\335\012"
 4974      6C6F6164 
 4974      3ABFAACA 
 4974      BCB5F7B5 
 4974      E7C8DD0A 
 4975 0150 00       		.ascii	"\000"
 4976 0151 000000   		.align	2
 4977              	.LC58:
 4978 0154 646F776E 		.ascii	"download:\265\367\265\347\310\335\312\247\260\334\012"
 4978      6C6F6164 
 4978      3AB5F7B5 
 4978      E7C8DDCA 
 4978      A7B0DC0A 
 4979 0168 00       		.ascii	"\000"
 4980 0169 000000   		.align	2
 4981              	.LC59:
 4982 016c 646F776E 		.ascii	"download:\265\347\310\335\262\342\312\324\263\311\271"
 4982      6C6F6164 
 4982      3AB5E7C8 
 4982      DDB2E2CA 
 4982      D4B3C9B9 
 4983 0180 A60A00   		.ascii	"\246\012\000"
 4984 0183 00       		.align	2
 4985              	.LC60:
 4986 0184 646F776E 		.ascii	"download sd3078b success\012\000"
 4986      6C6F6164 
 4986      20736433 
 4986      30373862 
 4986      20737563 
 4987 019e 0000     		.align	2
 4988              	.LC61:
 4989 01a0 646F776E 		.ascii	"download:\311\325\320\264\263\311\271\246\012\000"
 4989      6C6F6164 
 4989      3AC9D5D0 
 4989      B4B3C9B9 
 4989      A60A00
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 127


 4990 01b3 00       		.align	2
 4991              	.LC62:
 4992 01b4 73643330 		.ascii	"sd3078b power off\012\000"
 4992      37386220 
 4992      706F7765 
 4992      72206F66 
 4992      660A00
 4993 01c7 00       		.align	2
 4994              	.LC63:
 4995 01c8 646F776E 		.ascii	"download:\311\325\320\264\312\247\260\334\012\000"
 4995      6C6F6164 
 4995      3AC9D5D0 
 4995      B4CAA7B0 
 4995      DC0A00
 4996 01db 00       		.align	2
 4997              	.LC64:
 4998 01dc 646F776E 		.ascii	"download sd3078 fail\012\000"
 4998      6C6F6164 
 4998      20736433 
 4998      30373820 
 4998      6661696C 
 4999 01f2 0000     		.align	2
 5000              	.LC65:
 5001 01f4 73643330 		.ascii	"sd3078B \326\330\320\302\311\317\265\347\012\000"
 5001      37384220 
 5001      D6D8D0C2 
 5001      C9CFB5E7 
 5001      0A00
 5002 0206 0000     		.align	2
 5003              	.LC66:
 5004 0208 B5C8B4FD 		.ascii	"\265\310\264\3751s\012\000"
 5004      31730A00 
 5005              		.align	2
 5006              	.LC67:
 5007 0210 20693263 		.ascii	" i2c error\012\000"
 5007      20657272 
 5007      6F720A00 
 5008              		.align	2
 5009              	.LC68:
 5010 021c 646F776E 		.ascii	"download:\315\250\320\305\312\247\260\334\012\000"
 5010      6C6F6164 
 5010      3ACDA8D0 
 5010      C5CAA7B0 
 5010      DC0A00
 5011 022f 00       		.align	2
 5012              	.LC69:
 5013 0230 74656D70 		.ascii	"temp:%.0f, system temp = %.1fC\012\000"
 5013      3A252E30 
 5013      662C2073 
 5013      79737465 
 5013      6D207465 
 5014              		.align	2
 5015              	.LC70:
 5016 0250 63686970 		.ascii	"chipTemp:%.0f\012\000"
 5016      54656D70 
 5016      3A252E30 
 5016      660A00
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 128


 5017 025f 00       		.align	2
 5018              	.LC71:
 5019 0260 2025666B 		.ascii	" %fkHz, %.2fppm\012\000"
 5019      487A2C20 
 5019      252E3266 
 5019      70706D0A 
 5019      00
 5020 0271 000000   		.align	2
 5021              	.LC72:
 5022 0274 66726571 		.ascii	"freq:%fkHz\012\000"
 5022      3A25666B 
 5022      487A0A00 
 5023              		.align	2
 5024              	.LC73:
 5025 0280 70706D3A 		.ascii	"ppm:%.2fppm\012\000"
 5025      252E3266 
 5025      70706D0A 
 5025      00
 5026 028d 000000   		.align	2
 5027              	.LC74:
 5028 0290 66726571 		.ascii	"freq:no response\012\000"
 5028      3A6E6F20 
 5028      72657370 
 5028      6F6E7365 
 5028      0A00
 5029 02a2 0000     		.align	2
 5030              	.LC75:
 5031 02a4 72746320 		.ascii	"rtc bat current = %.1f nA\012\000"
 5031      62617420 
 5031      63757272 
 5031      656E7420 
 5031      3D20252E 
 5032 02bf 00       		.align	2
 5033              	.LC76:
 5034 02c0 63757272 		.ascii	"current OK\012\000"
 5034      656E7420 
 5034      4F4B0A00 
 5035              		.align	2
 5036              	.LC77:
 5037 02cc 49626174 		.ascii	"Ibat:%.2fuA\012\000"
 5037      3A252E32 
 5037      6675410A 
 5037      00
 5038 02d9 000000   		.align	2
 5039              	.LC78:
 5040 02dc 72657375 		.ascii	"result:PASS\012\000"
 5040      6C743A50 
 5040      4153530A 
 5040      00
 5041 02e9 000000   		.align	2
 5042              	.LC79:
 5043 02ec 62617420 		.ascii	"bat current error\000"
 5043      63757272 
 5043      656E7420 
 5043      6572726F 
 5043      7200
 5044              		.section	.text.Aecq100Sample,"ax",%progbits
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 129


 5045              		.align	1
 5046              		.global	Aecq100Sample
 5047              		.syntax unified
 5048              		.thumb
 5049              		.thumb_func
 5051              	Aecq100Sample:
 5052              	.LFB248:
 972:App/Src/task.c **** 
 973:App/Src/task.c **** uint8_t Aecq100State = 0;
 974:App/Src/task.c **** void Aecq100Sample(void)//临时任务 常温准确，宽温20ppm
 975:App/Src/task.c **** {
 5053              		.loc 1 975 1 is_stmt 1 view -0
 5054              		.cfi_startproc
 5055              		@ args = 0, pretend = 0, frame = 16
 5056              		@ frame_needed = 0, uses_anonymous_args = 0
 5057 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5058              	.LCFI42:
 5059              		.cfi_def_cfa_offset 24
 5060              		.cfi_offset 4, -24
 5061              		.cfi_offset 5, -20
 5062              		.cfi_offset 6, -16
 5063              		.cfi_offset 7, -12
 5064              		.cfi_offset 8, -8
 5065              		.cfi_offset 14, -4
 5066 0004 2DED028B 		vpush.64	{d8}
 5067              	.LCFI43:
 5068              		.cfi_def_cfa_offset 32
 5069              		.cfi_offset 80, -32
 5070              		.cfi_offset 81, -28
 5071 0008 8AB0     		sub	sp, sp, #40
 5072              	.LCFI44:
 5073              		.cfi_def_cfa_offset 72
 976:App/Src/task.c ****     uint8_t buffer[8];
 5074              		.loc 1 976 5 view .LVU1300
 977:App/Src/task.c **** 	float temp, ppm;
 5075              		.loc 1 977 2 view .LVU1301
 978:App/Src/task.c ****     static float rtc_temp;
 5076              		.loc 1 978 5 view .LVU1302
 979:App/Src/task.c ****     static uint16_t config = 0;
 5077              		.loc 1 979 5 view .LVU1303
 980:App/Src/task.c ****     static uint8_t responseCount = 0;
 5078              		.loc 1 980 5 view .LVU1304
 981:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 5079              		.loc 1 981 5 view .LVU1305
 982:App/Src/task.c **** 	uint8_t cap[2] = {0};
 5080              		.loc 1 982 2 view .LVU1306
 5081              		.loc 1 982 10 is_stmt 0 view .LVU1307
 5082 000a 0023     		movs	r3, #0
 5083 000c ADF81C30 		strh	r3, [sp, #28]	@ movhi
 983:App/Src/task.c ****     static float lastCap = 11;
 5084              		.loc 1 983 5 is_stmt 1 view .LVU1308
 984:App/Src/task.c ****     static float minPpm = 1000;
 5085              		.loc 1 984 5 view .LVU1309
 985:App/Src/task.c ****     static float minCap;
 5086              		.loc 1 985 5 view .LVU1310
 986:App/Src/task.c ****     static uint8_t adjustCount = 0;
 5087              		.loc 1 986 5 view .LVU1311
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 130


 987:App/Src/task.c ****     float current;
 5088              		.loc 1 987 5 view .LVU1312
 988:App/Src/task.c ****     uint8_t result;
 5089              		.loc 1 988 5 view .LVU1313
 989:App/Src/task.c ****     //  { "chip:", "download:", "systemTemp:", "chipTemp:", "freq:", "ppm:", "id:", "Ivdd:", "Vbat:
 990:App/Src/task.c ****     switch (Aecq100State) {
 5090              		.loc 1 990 5 view .LVU1314
 5091 0010 B14B     		ldr	r3, .L369
 5092 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5093 0014 322B     		cmp	r3, #50
 5094 0016 00F25981 		bhi	.L273
 5095 001a DFE813F0 		tbh	[pc, r3, lsl #1]
 5096              	.L276:
 5097 001e 3300     		.2byte	(.L291-.L276)/2
 5098 0020 B300     		.2byte	(.L290-.L276)/2
 5099 0022 DA00     		.2byte	(.L289-.L276)/2
 5100 0024 1A01     		.2byte	(.L288-.L276)/2
 5101 0026 4A01     		.2byte	(.L287-.L276)/2
 5102 0028 9301     		.2byte	(.L286-.L276)/2
 5103 002a D702     		.2byte	(.L285-.L276)/2
 5104 002c 0B03     		.2byte	(.L284-.L276)/2
 5105 002e 5103     		.2byte	(.L283-.L276)/2
 5106 0030 6E03     		.2byte	(.L282-.L276)/2
 5107 0032 8703     		.2byte	(.L281-.L276)/2
 5108 0034 DE03     		.2byte	(.L280-.L276)/2
 5109 0036 F503     		.2byte	(.L279-.L276)/2
 5110 0038 AD04     		.2byte	(.L278-.L276)/2
 5111 003a FD04     		.2byte	(.L277-.L276)/2
 5112 003c 5701     		.2byte	(.L273-.L276)/2
 5113 003e 5701     		.2byte	(.L273-.L276)/2
 5114 0040 5701     		.2byte	(.L273-.L276)/2
 5115 0042 5701     		.2byte	(.L273-.L276)/2
 5116 0044 5701     		.2byte	(.L273-.L276)/2
 5117 0046 5701     		.2byte	(.L273-.L276)/2
 5118 0048 5701     		.2byte	(.L273-.L276)/2
 5119 004a 5701     		.2byte	(.L273-.L276)/2
 5120 004c 5701     		.2byte	(.L273-.L276)/2
 5121 004e 5701     		.2byte	(.L273-.L276)/2
 5122 0050 5701     		.2byte	(.L273-.L276)/2
 5123 0052 5701     		.2byte	(.L273-.L276)/2
 5124 0054 5701     		.2byte	(.L273-.L276)/2
 5125 0056 5701     		.2byte	(.L273-.L276)/2
 5126 0058 5701     		.2byte	(.L273-.L276)/2
 5127 005a 5701     		.2byte	(.L273-.L276)/2
 5128 005c 5701     		.2byte	(.L273-.L276)/2
 5129 005e 5701     		.2byte	(.L273-.L276)/2
 5130 0060 5701     		.2byte	(.L273-.L276)/2
 5131 0062 5701     		.2byte	(.L273-.L276)/2
 5132 0064 5701     		.2byte	(.L273-.L276)/2
 5133 0066 5701     		.2byte	(.L273-.L276)/2
 5134 0068 5701     		.2byte	(.L273-.L276)/2
 5135 006a 5701     		.2byte	(.L273-.L276)/2
 5136 006c 5701     		.2byte	(.L273-.L276)/2
 5137 006e 5701     		.2byte	(.L273-.L276)/2
 5138 0070 5701     		.2byte	(.L273-.L276)/2
 5139 0072 5701     		.2byte	(.L273-.L276)/2
 5140 0074 5701     		.2byte	(.L273-.L276)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 131


 5141 0076 5701     		.2byte	(.L273-.L276)/2
 5142 0078 5701     		.2byte	(.L273-.L276)/2
 5143 007a 5701     		.2byte	(.L273-.L276)/2
 5144 007c 5701     		.2byte	(.L273-.L276)/2
 5145 007e 5701     		.2byte	(.L273-.L276)/2
 5146 0080 5701     		.2byte	(.L273-.L276)/2
 5147 0082 4B05     		.2byte	(.L275-.L276)/2
 5148              		.p2align 1
 5149              	.L291:
 991:App/Src/task.c ****         case 0:
 992:App/Src/task.c ****             rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 5150              		.loc 1 992 13 view .LVU1315
 5151 0084 0121     		movs	r1, #1
 5152 0086 0420     		movs	r0, #4
 5153 0088 FFF7FEFF 		bl	rtc_group_power
 5154              	.LVL430:
 993:App/Src/task.c ****             rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
 5155              		.loc 1 993 13 view .LVU1316
 5156 008c 0521     		movs	r1, #5
 5157 008e 0420     		movs	r0, #4
 5158 0090 FFF7FEFF 		bl	rtc_set_channel
 5159              	.LVL431:
 994:App/Src/task.c ****             HAL_Delay(1);
 5160              		.loc 1 994 13 view .LVU1317
 5161 0094 0120     		movs	r0, #1
 5162 0096 FFF7FEFF 		bl	HAL_Delay
 5163              	.LVL432:
 995:App/Src/task.c ****             rtc_read_multi_bytes(0x64, 0x72, buffer, 1);
 5164              		.loc 1 995 13 view .LVU1318
 5165 009a 0123     		movs	r3, #1
 5166 009c 08AA     		add	r2, sp, #32
 5167 009e 7221     		movs	r1, #114
 5168 00a0 6420     		movs	r0, #100
 5169 00a2 FFF7FEFF 		bl	rtc_read_multi_bytes
 5170              	.LVL433:
 996:App/Src/task.c ****             if (rtc_read_multi_bytes(0x64, 0x72, buffer, 8) == I2C_OK && buffer[0] == 0x24) {//检查
 5171              		.loc 1 996 13 view .LVU1319
 5172              		.loc 1 996 17 is_stmt 0 view .LVU1320
 5173 00a6 0823     		movs	r3, #8
 5174 00a8 08AA     		add	r2, sp, #32
 5175 00aa 7221     		movs	r1, #114
 5176 00ac 6420     		movs	r0, #100
 5177 00ae FFF7FEFF 		bl	rtc_read_multi_bytes
 5178              	.LVL434:
 5179              		.loc 1 996 16 view .LVU1321
 5180 00b2 18B9     		cbnz	r0, .L292
 5181              		.loc 1 996 80 discriminator 1 view .LVU1322
 5182 00b4 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
 5183              		.loc 1 996 71 discriminator 1 view .LVU1323
 5184 00b8 242B     		cmp	r3, #36
 5185 00ba 25D0     		beq	.L360
 5186              	.L292:
 997:App/Src/task.c ****                 ClearControlMessage();
 998:App/Src/task.c ****                 ControlPrintf("chip:SD3078B\n");
 999:App/Src/task.c ****                 HAL_Delay(5);
1000:App/Src/task.c ****                 ControlPrintf("download:此前烧写成功\n");
1001:App/Src/task.c ****                 HAL_Delay(5);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 132


1002:App/Src/task.c ****                 Aecq100State = 9;
1003:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1004:App/Src/task.c ****                 UsbPrintf("rtc ID check OK\n");
1005:App/Src/task.c ****                 ControlPrintf("id:%02X%02X%02X%02X%02X%02X%02X%02X\n", buffer[0], buffer[1], buffer
1006:App/Src/task.c ****                 break;
1007:App/Src/task.c ****             }
1008:App/Src/task.c ****             rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
 5187              		.loc 1 1008 13 is_stmt 1 view .LVU1324
 5188 00bc 0321     		movs	r1, #3
 5189 00be 0420     		movs	r0, #4
 5190 00c0 FFF7FEFF 		bl	rtc_set_channel
 5191              	.LVL435:
1009:App/Src/task.c ****             if (rtc_read_multi_bytes(0x64, 0x00, buffer, 8) == I2C_OK) {//检查iic是否OK
 5192              		.loc 1 1009 13 view .LVU1325
 5193              		.loc 1 1009 17 is_stmt 0 view .LVU1326
 5194 00c4 0823     		movs	r3, #8
 5195 00c6 08AA     		add	r2, sp, #32
 5196 00c8 0021     		movs	r1, #0
 5197 00ca 6420     		movs	r0, #100
 5198 00cc FFF7FEFF 		bl	rtc_read_multi_bytes
 5199              	.LVL436:
 5200              		.loc 1 1009 16 view .LVU1327
 5201 00d0 0028     		cmp	r0, #0
 5202 00d2 4AD0     		beq	.L361
 5203              	.L293:
1010:App/Src/task.c ****                 ClearControlMessage();
1011:App/Src/task.c ****                 ControlPrintf("chip:SD3078B\n");
1012:App/Src/task.c ****                 Aecq100State++;
1013:App/Src/task.c ****                 UsbPrintf("receive I2C OK\n");
1014:App/Src/task.c ****             }
1015:App/Src/task.c ****             if (HAL_GetTick() > lastTestTime + 1000) {
 5204              		.loc 1 1015 13 is_stmt 1 view .LVU1328
 5205              		.loc 1 1015 17 is_stmt 0 view .LVU1329
 5206 00d4 FFF7FEFF 		bl	HAL_GetTick
 5207              	.LVL437:
 5208              		.loc 1 1015 46 view .LVU1330
 5209 00d8 804B     		ldr	r3, .L369+4
 5210 00da 1B68     		ldr	r3, [r3]
 5211 00dc 03F57A73 		add	r3, r3, #1000
 5212              		.loc 1 1015 16 view .LVU1331
 5213 00e0 9842     		cmp	r0, r3
 5214 00e2 40F2F380 		bls	.L273
1016:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5215              		.loc 1 1016 17 is_stmt 1 view .LVU1332
 5216              		.loc 1 1016 32 is_stmt 0 view .LVU1333
 5217 00e6 FFF7FEFF 		bl	HAL_GetTick
 5218              	.LVL438:
 5219              		.loc 1 1016 30 view .LVU1334
 5220 00ea 7C4B     		ldr	r3, .L369+4
 5221 00ec 1860     		str	r0, [r3]
1017:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 5222              		.loc 1 1017 17 is_stmt 1 view .LVU1335
 5223              		.loc 1 1017 52 is_stmt 0 view .LVU1336
 5224 00ee 0120     		movs	r0, #1
 5225 00f0 FFF7FEFF 		bl	temp_read_value
 5226              	.LVL439:
 5227 00f4 10EE100A 		vmov	r0, s0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 133


 5228              		.loc 1 1017 17 view .LVU1337
 5229 00f8 FFF7FEFF 		bl	__aeabi_f2d
 5230              	.LVL440:
 5231 00fc 0246     		mov	r2, r0
 5232 00fe 0B46     		mov	r3, r1
 5233 0100 7748     		ldr	r0, .L369+8
 5234 0102 FFF7FEFF 		bl	ControlPrintf
 5235              	.LVL441:
 5236 0106 E1E0     		b	.L273
 5237              	.L360:
 997:App/Src/task.c ****                 ControlPrintf("chip:SD3078B\n");
 5238              		.loc 1 997 17 is_stmt 1 view .LVU1338
 5239 0108 FFF7FEFF 		bl	ClearControlMessage
 5240              	.LVL442:
 998:App/Src/task.c ****                 HAL_Delay(5);
 5241              		.loc 1 998 17 view .LVU1339
 5242 010c 7548     		ldr	r0, .L369+12
 5243 010e FFF7FEFF 		bl	ControlPrintf
 5244              	.LVL443:
 999:App/Src/task.c ****                 ControlPrintf("download:此前烧写成功\n");
 5245              		.loc 1 999 17 view .LVU1340
 5246 0112 0520     		movs	r0, #5
 5247 0114 FFF7FEFF 		bl	HAL_Delay
 5248              	.LVL444:
1000:App/Src/task.c ****                 HAL_Delay(5);
 5249              		.loc 1 1000 17 view .LVU1341
 5250 0118 7348     		ldr	r0, .L369+16
 5251 011a FFF7FEFF 		bl	ControlPrintf
 5252              	.LVL445:
1001:App/Src/task.c ****                 Aecq100State = 9;
 5253              		.loc 1 1001 17 view .LVU1342
 5254 011e 0520     		movs	r0, #5
 5255 0120 FFF7FEFF 		bl	HAL_Delay
 5256              	.LVL446:
1002:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5257              		.loc 1 1002 17 view .LVU1343
1002:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5258              		.loc 1 1002 30 is_stmt 0 view .LVU1344
 5259 0124 6C4B     		ldr	r3, .L369
 5260 0126 0922     		movs	r2, #9
 5261 0128 1A70     		strb	r2, [r3]
1003:App/Src/task.c ****                 UsbPrintf("rtc ID check OK\n");
 5262              		.loc 1 1003 17 is_stmt 1 view .LVU1345
1003:App/Src/task.c ****                 UsbPrintf("rtc ID check OK\n");
 5263              		.loc 1 1003 32 is_stmt 0 view .LVU1346
 5264 012a FFF7FEFF 		bl	HAL_GetTick
 5265              	.LVL447:
1003:App/Src/task.c ****                 UsbPrintf("rtc ID check OK\n");
 5266              		.loc 1 1003 30 view .LVU1347
 5267 012e 6B4B     		ldr	r3, .L369+4
 5268 0130 1860     		str	r0, [r3]
1004:App/Src/task.c ****                 ControlPrintf("id:%02X%02X%02X%02X%02X%02X%02X%02X\n", buffer[0], buffer[1], buffer
 5269              		.loc 1 1004 17 is_stmt 1 view .LVU1348
 5270 0132 6E48     		ldr	r0, .L369+20
 5271 0134 FFF7FEFF 		bl	UsbPrintf
 5272              	.LVL448:
1005:App/Src/task.c ****                 break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 134


 5273              		.loc 1 1005 17 view .LVU1349
1005:App/Src/task.c ****                 break;
 5274              		.loc 1 1005 111 is_stmt 0 view .LVU1350
 5275 0138 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
1005:App/Src/task.c ****                 break;
 5276              		.loc 1 1005 122 view .LVU1351
 5277 013c 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
1005:App/Src/task.c ****                 break;
 5278              		.loc 1 1005 133 view .LVU1352
 5279 0140 9DF82510 		ldrb	r1, [sp, #37]	@ zero_extendqisi2
1005:App/Src/task.c ****                 break;
 5280              		.loc 1 1005 144 view .LVU1353
 5281 0144 9DF82600 		ldrb	r0, [sp, #38]	@ zero_extendqisi2
1005:App/Src/task.c ****                 break;
 5282              		.loc 1 1005 155 view .LVU1354
 5283 0148 9DF82740 		ldrb	r4, [sp, #39]	@ zero_extendqisi2
1005:App/Src/task.c ****                 break;
 5284              		.loc 1 1005 17 view .LVU1355
 5285 014c 0494     		str	r4, [sp, #16]
 5286 014e 0390     		str	r0, [sp, #12]
 5287 0150 0291     		str	r1, [sp, #8]
 5288 0152 0192     		str	r2, [sp, #4]
 5289 0154 0093     		str	r3, [sp]
 5290 0156 9DF82230 		ldrb	r3, [sp, #34]	@ zero_extendqisi2
 5291 015a 9DF82120 		ldrb	r2, [sp, #33]	@ zero_extendqisi2
 5292 015e 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 5293 0162 6348     		ldr	r0, .L369+24
 5294 0164 FFF7FEFF 		bl	ControlPrintf
 5295              	.LVL449:
1006:App/Src/task.c ****             }
 5296              		.loc 1 1006 17 is_stmt 1 view .LVU1356
 5297 0168 B0E0     		b	.L273
 5298              	.L361:
1010:App/Src/task.c ****                 ControlPrintf("chip:SD3078B\n");
 5299              		.loc 1 1010 17 view .LVU1357
 5300 016a FFF7FEFF 		bl	ClearControlMessage
 5301              	.LVL450:
1011:App/Src/task.c ****                 Aecq100State++;
 5302              		.loc 1 1011 17 view .LVU1358
 5303 016e 5D48     		ldr	r0, .L369+12
 5304 0170 FFF7FEFF 		bl	ControlPrintf
 5305              	.LVL451:
1012:App/Src/task.c ****                 UsbPrintf("receive I2C OK\n");
 5306              		.loc 1 1012 17 view .LVU1359
1012:App/Src/task.c ****                 UsbPrintf("receive I2C OK\n");
 5307              		.loc 1 1012 29 is_stmt 0 view .LVU1360
 5308 0174 584A     		ldr	r2, .L369
 5309 0176 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5310 0178 0133     		adds	r3, r3, #1
 5311 017a 1370     		strb	r3, [r2]
1013:App/Src/task.c ****             }
 5312              		.loc 1 1013 17 is_stmt 1 view .LVU1361
 5313 017c 5D48     		ldr	r0, .L369+28
 5314 017e FFF7FEFF 		bl	UsbPrintf
 5315              	.LVL452:
 5316 0182 A7E7     		b	.L293
 5317              	.L290:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 135


1018:App/Src/task.c ****             }
1019:App/Src/task.c ****         break;
1020:App/Src/task.c ****         case 1:
1021:App/Src/task.c ****             if (rtc_1006_set_testmode(AECQ100_CHANNEL) == I2C_OK) {
 5318              		.loc 1 1021 13 view .LVU1362
 5319              		.loc 1 1021 17 is_stmt 0 view .LVU1363
 5320 0184 0420     		movs	r0, #4
 5321 0186 FFF7FEFF 		bl	rtc_1006_set_testmode
 5322              	.LVL453:
 5323              		.loc 1 1021 16 view .LVU1364
 5324 018a 50B9     		cbnz	r0, .L294
1022:App/Src/task.c ****                 ControlPrintf("download:进行测试模式\n");
 5325              		.loc 1 1022 17 is_stmt 1 view .LVU1365
 5326 018c 5A48     		ldr	r0, .L369+32
 5327 018e FFF7FEFF 		bl	ControlPrintf
 5328              	.LVL454:
1023:App/Src/task.c ****                 UsbPrintf("enter testmode OK\n");
 5329              		.loc 1 1023 17 view .LVU1366
 5330 0192 5A48     		ldr	r0, .L369+36
 5331 0194 FFF7FEFF 		bl	UsbPrintf
 5332              	.LVL455:
1024:App/Src/task.c ****                 Aecq100State++;
 5333              		.loc 1 1024 17 view .LVU1367
 5334              		.loc 1 1024 29 is_stmt 0 view .LVU1368
 5335 0198 4F4A     		ldr	r2, .L369
 5336 019a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5337 019c 0133     		adds	r3, r3, #1
 5338 019e 1370     		strb	r3, [r2]
 5339 01a0 94E0     		b	.L273
 5340              	.L294:
1025:App/Src/task.c ****             } else {
1026:App/Src/task.c ****                 UsbPrintf("enter testmode fail\n");
 5341              		.loc 1 1026 17 is_stmt 1 view .LVU1369
 5342 01a2 5748     		ldr	r0, .L369+40
 5343 01a4 FFF7FEFF 		bl	UsbPrintf
 5344              	.LVL456:
1027:App/Src/task.c ****                 ControlPrintf("download:测试模式失败\n");
 5345              		.loc 1 1027 17 view .LVU1370
 5346 01a8 5648     		ldr	r0, .L369+44
 5347 01aa FFF7FEFF 		bl	ControlPrintf
 5348              	.LVL457:
1028:App/Src/task.c **** 			    HAL_Delay(5);
 5349              		.loc 1 1028 8 view .LVU1371
 5350 01ae 0520     		movs	r0, #5
 5351 01b0 FFF7FEFF 		bl	HAL_Delay
 5352              	.LVL458:
1029:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 5353              		.loc 1 1029 17 view .LVU1372
 5354 01b4 5448     		ldr	r0, .L369+48
 5355 01b6 FFF7FEFF 		bl	ControlPrintf
 5356              	.LVL459:
1030:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 5357              		.loc 1 1030 17 view .LVU1373
 5358 01ba 0121     		movs	r1, #1
 5359 01bc 0420     		movs	r0, #4
 5360 01be FFF7FEFF 		bl	rtc_group_power
 5361              	.LVL460:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 136


1031:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
 5362              		.loc 1 1031 17 view .LVU1374
 5363 01c2 0321     		movs	r1, #3
 5364 01c4 0420     		movs	r0, #4
 5365 01c6 FFF7FEFF 		bl	rtc_set_channel
 5366              	.LVL461:
1032:App/Src/task.c ****                 Aecq100State = 50;
 5367              		.loc 1 1032 17 view .LVU1375
 5368              		.loc 1 1032 30 is_stmt 0 view .LVU1376
 5369 01ca 434B     		ldr	r3, .L369
 5370 01cc 3222     		movs	r2, #50
 5371 01ce 1A70     		strb	r2, [r3]
 5372 01d0 7CE0     		b	.L273
 5373              	.L289:
1033:App/Src/task.c ****             }
1034:App/Src/task.c ****         break;
1035:App/Src/task.c ****         case 2:
1036:App/Src/task.c ****             temp = temp_read_value(1);
 5374              		.loc 1 1036 13 is_stmt 1 view .LVU1377
 5375              		.loc 1 1036 20 is_stmt 0 view .LVU1378
 5376 01d2 0120     		movs	r0, #1
 5377 01d4 FFF7FEFF 		bl	temp_read_value
 5378              	.LVL462:
 5379 01d8 B0EE408A 		vmov.f32	s16, s0
 5380              	.LVL463:
1037:App/Src/task.c ****             rtc_temp = system_get_rtc_temp(); 
 5381              		.loc 1 1037 13 is_stmt 1 view .LVU1379
 5382              		.loc 1 1037 24 is_stmt 0 view .LVU1380
 5383 01dc FFF7FEFF 		bl	system_get_rtc_temp
 5384              	.LVL464:
 5385              		.loc 1 1037 22 view .LVU1381
 5386 01e0 DFF85C81 		ldr	r8, .L369+104
 5387 01e4 88ED000A 		vstr.32	s0, [r8]
1038:App/Src/task.c ****             config = rtc_convert_temp_offset(rtc_temp, temp);
 5388              		.loc 1 1038 13 is_stmt 1 view .LVU1382
 5389              		.loc 1 1038 22 is_stmt 0 view .LVU1383
 5390 01e8 F0EE480A 		vmov.f32	s1, s16
 5391 01ec FFF7FEFF 		bl	rtc_convert_temp_offset
 5392              	.LVL465:
 5393 01f0 84B2     		uxth	r4, r0
 5394              		.loc 1 1038 20 view .LVU1384
 5395 01f2 464D     		ldr	r5, .L369+52
 5396 01f4 2C80     		strh	r4, [r5]	@ movhi
1039:App/Src/task.c ****             UsbPrintf("temp %.1f, adc %.1f, offset %d\n", temp, rtc_temp, config);
 5397              		.loc 1 1039 13 is_stmt 1 view .LVU1385
 5398 01f6 18EE100A 		vmov	r0, s16
 5399 01fa FFF7FEFF 		bl	__aeabi_f2d
 5400              	.LVL466:
 5401 01fe 0646     		mov	r6, r0
 5402 0200 0F46     		mov	r7, r1
 5403 0202 0294     		str	r4, [sp, #8]
 5404 0204 D8F80000 		ldr	r0, [r8]	@ float
 5405 0208 FFF7FEFF 		bl	__aeabi_f2d
 5406              	.LVL467:
 5407 020c CDE90001 		strd	r0, [sp]
 5408 0210 3246     		mov	r2, r6
 5409 0212 3B46     		mov	r3, r7
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 137


 5410 0214 3E48     		ldr	r0, .L369+56
 5411 0216 FFF7FEFF 		bl	UsbPrintf
 5412              	.LVL468:
1040:App/Src/task.c ****             if (config > 50 && config < 130) {
 5413              		.loc 1 1040 13 view .LVU1386
 5414              		.loc 1 1040 29 is_stmt 0 view .LVU1387
 5415 021a 2B88     		ldrh	r3, [r5]
 5416 021c 333B     		subs	r3, r3, #51
 5417 021e 9BB2     		uxth	r3, r3
 5418              		.loc 1 1040 16 view .LVU1388
 5419 0220 4E2B     		cmp	r3, #78
 5420 0222 06D8     		bhi	.L295
1041:App/Src/task.c ****                 rtc_out_4096();
 5421              		.loc 1 1041 17 is_stmt 1 view .LVU1389
 5422 0224 FFF7FEFF 		bl	rtc_out_4096
 5423              	.LVL469:
1042:App/Src/task.c ****                 Aecq100State++;
 5424              		.loc 1 1042 17 view .LVU1390
 5425              		.loc 1 1042 29 is_stmt 0 view .LVU1391
 5426 0228 2B4A     		ldr	r2, .L369
 5427 022a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5428 022c 0133     		adds	r3, r3, #1
 5429 022e 1370     		strb	r3, [r2]
 5430 0230 4CE0     		b	.L273
 5431              	.L295:
1043:App/Src/task.c ****             } else {
1044:App/Src/task.c ****                 UsbPrintf("check config fail\n");
 5432              		.loc 1 1044 17 is_stmt 1 view .LVU1392
 5433 0232 3848     		ldr	r0, .L369+60
 5434 0234 FFF7FEFF 		bl	UsbPrintf
 5435              	.LVL470:
1045:App/Src/task.c ****                 Aecq100State = 50;
 5436              		.loc 1 1045 17 view .LVU1393
 5437              		.loc 1 1045 30 is_stmt 0 view .LVU1394
 5438 0238 274B     		ldr	r3, .L369
 5439 023a 3222     		movs	r2, #50
 5440 023c 1A70     		strb	r2, [r3]
1046:App/Src/task.c ****                 ControlPrintf("download:温度计失败\n");
 5441              		.loc 1 1046 17 is_stmt 1 view .LVU1395
 5442 023e 3648     		ldr	r0, .L369+64
 5443 0240 FFF7FEFF 		bl	ControlPrintf
 5444              	.LVL471:
1047:App/Src/task.c **** 			    HAL_Delay(5);
 5445              		.loc 1 1047 8 view .LVU1396
 5446 0244 0520     		movs	r0, #5
 5447 0246 FFF7FEFF 		bl	HAL_Delay
 5448              	.LVL472:
1048:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 5449              		.loc 1 1048 17 view .LVU1397
 5450 024a 2F48     		ldr	r0, .L369+48
 5451 024c FFF7FEFF 		bl	ControlPrintf
 5452              	.LVL473:
 5453 0250 3CE0     		b	.L273
 5454              	.LVL474:
 5455              	.L288:
1049:App/Src/task.c ****             }
1050:App/Src/task.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 138


1051:App/Src/task.c ****         case 3: 
1052:App/Src/task.c ****             lastCap = rtc_init_test_cap(25);
 5456              		.loc 1 1052 13 view .LVU1398
 5457              		.loc 1 1052 23 is_stmt 0 view .LVU1399
 5458 0252 B3EE090A 		vmov.f32	s0, #2.5e+1
 5459 0256 FFF7FEFF 		bl	rtc_init_test_cap
 5460              	.LVL475:
 5461 025a 07EE900A 		vmov	s15, r0	@ int
 5462              		.loc 1 1052 21 view .LVU1400
 5463 025e F8EE677A 		vcvt.f32.u32	s15, s15
 5464 0262 2E4B     		ldr	r3, .L369+68
 5465 0264 C3ED007A 		vstr.32	s15, [r3]
1053:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 5466              		.loc 1 1053 13 is_stmt 1 view .LVU1401
 5467 0268 07A9     		add	r1, sp, #28
 5468 026a FFF7FEFF 		bl	cap_list_to_uint
 5469              	.LVL476:
1054:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 5470              		.loc 1 1054 13 view .LVU1402
 5471              		.loc 1 1054 17 is_stmt 0 view .LVU1403
 5472 026e 07A8     		add	r0, sp, #28
 5473 0270 FFF7FEFF 		bl	rtc_set_testcap
 5474              	.LVL477:
 5475              		.loc 1 1054 16 view .LVU1404
 5476 0274 80B9     		cbnz	r0, .L296
1055:App/Src/task.c ****                 ControlPrintf("download:开始调电容\n");
 5477              		.loc 1 1055 17 is_stmt 1 view .LVU1405
 5478 0276 2A48     		ldr	r0, .L369+72
 5479 0278 FFF7FEFF 		bl	ControlPrintf
 5480              	.LVL478:
1056:App/Src/task.c ****                 minPpm = 1000;
 5481              		.loc 1 1056 17 view .LVU1406
 5482              		.loc 1 1056 24 is_stmt 0 view .LVU1407
 5483 027c 294B     		ldr	r3, .L369+76
 5484 027e 2A4A     		ldr	r2, .L369+80
 5485 0280 1A60     		str	r2, [r3]	@ float
1057:App/Src/task.c ****                 responseCount = 0;
 5486              		.loc 1 1057 17 is_stmt 1 view .LVU1408
 5487              		.loc 1 1057 31 is_stmt 0 view .LVU1409
 5488 0282 2A4B     		ldr	r3, .L369+84
 5489 0284 0022     		movs	r2, #0
 5490 0286 1A70     		strb	r2, [r3]
1058:App/Src/task.c ****                 Aecq100State++;
 5491              		.loc 1 1058 17 is_stmt 1 view .LVU1410
 5492              		.loc 1 1058 29 is_stmt 0 view .LVU1411
 5493 0288 134A     		ldr	r2, .L369
 5494 028a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5495 028c 0133     		adds	r3, r3, #1
 5496 028e 1370     		strb	r3, [r2]
1059:App/Src/task.c ****                 adjustCount = 1;
 5497              		.loc 1 1059 17 is_stmt 1 view .LVU1412
 5498              		.loc 1 1059 29 is_stmt 0 view .LVU1413
 5499 0290 274B     		ldr	r3, .L369+88
 5500 0292 0122     		movs	r2, #1
 5501 0294 1A70     		strb	r2, [r3]
 5502 0296 19E0     		b	.L273
 5503              	.L296:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 139


1060:App/Src/task.c ****             } else {
1061:App/Src/task.c ****                 Aecq100State = 50;
 5504              		.loc 1 1061 17 is_stmt 1 view .LVU1414
 5505              		.loc 1 1061 30 is_stmt 0 view .LVU1415
 5506 0298 0F4B     		ldr	r3, .L369
 5507 029a 3222     		movs	r2, #50
 5508 029c 1A70     		strb	r2, [r3]
1062:App/Src/task.c ****                 ControlPrintf("download:调电容失败\n");
 5509              		.loc 1 1062 17 is_stmt 1 view .LVU1416
 5510 029e 2548     		ldr	r0, .L369+92
 5511 02a0 FFF7FEFF 		bl	ControlPrintf
 5512              	.LVL479:
1063:App/Src/task.c **** 			    HAL_Delay(5);
 5513              		.loc 1 1063 8 view .LVU1417
 5514 02a4 0520     		movs	r0, #5
 5515 02a6 FFF7FEFF 		bl	HAL_Delay
 5516              	.LVL480:
1064:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 5517              		.loc 1 1064 17 view .LVU1418
 5518 02aa 1748     		ldr	r0, .L369+48
 5519 02ac FFF7FEFF 		bl	ControlPrintf
 5520              	.LVL481:
 5521 02b0 0CE0     		b	.L273
 5522              	.L287:
1065:App/Src/task.c ****             }
1066:App/Src/task.c ****         break;
1067:App/Src/task.c ****         case 4:
1068:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 5523              		.loc 1 1068 13 view .LVU1419
 5524              		.loc 1 1068 28 is_stmt 0 view .LVU1420
 5525 02b2 FFF7FEFF 		bl	HAL_GetTick
 5526              	.LVL482:
 5527              		.loc 1 1068 26 view .LVU1421
 5528 02b6 094B     		ldr	r3, .L369+4
 5529 02b8 1860     		str	r0, [r3]
1069:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 5530              		.loc 1 1069 13 is_stmt 1 view .LVU1422
 5531              		.loc 1 1069 35 is_stmt 0 view .LVU1423
 5532 02ba 1F4B     		ldr	r3, .L369+96
 5533 02bc 1860     		str	r0, [r3]
1070:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 5534              		.loc 1 1070 13 is_stmt 1 view .LVU1424
 5535 02be 1F48     		ldr	r0, .L369+100
 5536 02c0 FFF7FEFF 		bl	DevicePrintf
 5537              	.LVL483:
1071:App/Src/task.c ****             Aecq100State++;
 5538              		.loc 1 1071 13 view .LVU1425
 5539              		.loc 1 1071 25 is_stmt 0 view .LVU1426
 5540 02c4 044A     		ldr	r2, .L369
 5541 02c6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5542 02c8 0133     		adds	r3, r3, #1
 5543 02ca 1370     		strb	r3, [r2]
1072:App/Src/task.c ****         break;
 5544              		.loc 1 1072 9 is_stmt 1 view .LVU1427
 5545              	.L273:
1073:App/Src/task.c ****         case 5:
1074:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 140


1075:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
1076:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
1077:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
1078:App/Src/task.c ****                     Aecq100State ++;
1079:App/Src/task.c ****                     break;
1080:App/Src/task.c ****                 } else if (fabs(ppm) < 2) {
1081:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
1082:App/Src/task.c ****                         minPpm = ppm;
1083:App/Src/task.c ****                         minCap = lastCap;
1084:App/Src/task.c ****                     }
1085:App/Src/task.c ****                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
1086:App/Src/task.c ****                         Aecq100State ++;
1087:App/Src/task.c ****                          lastCap = minCap;
1088:App/Src/task.c ****                         break;
1089:App/Src/task.c ****                     }
1090:App/Src/task.c ****                 } else {
1091:App/Src/task.c ****                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_LIST
1092:App/Src/task.c ****                         Aecq100State = 50;
1093:App/Src/task.c ****                         ControlPrintf("download:调电容失败\n");
1094:App/Src/task.c **** 			            HAL_Delay(5);
1095:App/Src/task.c ****                         ControlPrintf("result:NG\n");
1096:App/Src/task.c ****                         break;
1097:App/Src/task.c ****                     } 
1098:App/Src/task.c ****                 }
1099:App/Src/task.c ****                 if (fabs(ppm) < fabs(minPpm)) {
1100:App/Src/task.c ****                     minPpm = ppm;
1101:App/Src/task.c ****                     minCap = lastCap;
1102:App/Src/task.c ****                 }
1103:App/Src/task.c ****                 //---------------异常次数限制，避免卡死在该环节-----------------------
1104:App/Src/task.c ****                 adjustCount++;
1105:App/Src/task.c ****                 if (adjustCount > 10) { 
1106:App/Src/task.c ****                     Aecq100State = 50;
1107:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
1108:App/Src/task.c **** 			        HAL_Delay(5);
1109:App/Src/task.c ****                     ControlPrintf("result:NG\n");
1110:App/Src/task.c ****                     break;
1111:App/Src/task.c ****                 }//---------------------------------------------------------            
1112:App/Src/task.c ****                 if (0 < ppm && ppm < 1) {
1113:App/Src/task.c ****                     lastCap += 1;
1114:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
1115:App/Src/task.c ****                     lastCap -= 1;
1116:App/Src/task.c ****                 } else {
1117:App/Src/task.c ****                     lastCap = lastCap + ppm * 2.5;
1118:App/Src/task.c ****                 }
1119:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);
1120:App/Src/task.c ****                 rtc_set_testcap(cap);
1121:App/Src/task.c ****                 Aecq100State = 4;
1122:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
1123:App/Src/task.c ****                 UsbPrintf("device no response\n");
1124:App/Src/task.c ****                 log_printf("device no response\n");             
1125:App/Src/task.c ****                 responseCount++;
1126:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
1127:App/Src/task.c ****                     Aecq100State = 50;
1128:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
1129:App/Src/task.c **** 			    HAL_Delay(5);
1130:App/Src/task.c ****                     ControlPrintf("result:NG\n");
1131:App/Src/task.c ****                 } else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 141


1132:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1133:App/Src/task.c ****                     Aecq100State = 4;
1134:App/Src/task.c ****                 }
1135:App/Src/task.c ****             }
1136:App/Src/task.c ****         break;
1137:App/Src/task.c ****         case 6:
1138:App/Src/task.c ****             rtc_disable_int();
1139:App/Src/task.c ****             rtc_1006_exit_testmode(AECQ100_CHANNEL); 
1140:App/Src/task.c ****             ControlPrintf("download:电容测试成功\n");
1141:App/Src/task.c ****             Aecq100State++;
1142:App/Src/task.c ****         break;
1143:App/Src/task.c ****         case 7:
1144:App/Src/task.c ****             if (sd3078b_ACEQ100(config, (uint16_t)(rtc_temp - (temp_read_value(1) - 25) * 2), lastC
1145:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
1146:App/Src/task.c ****                 ControlPrintf("download:烧写成功\n");
1147:App/Src/task.c ****                 Aecq100State ++;
1148:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1149:App/Src/task.c ****                 UsbPrintf("sd3078b power off\n");
1150:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_OFF);
1151:App/Src/task.c ****             } else {
1152:App/Src/task.c ****                 ControlPrintf("download:烧写失败\n");
1153:App/Src/task.c ****                 UsbPrintf("download sd3078 fail\n");
1154:App/Src/task.c ****                 Aecq100State = 50;
1155:App/Src/task.c **** 			    HAL_Delay(5);
1156:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1157:App/Src/task.c ****             } 
1158:App/Src/task.c ****         break;
1159:App/Src/task.c ****         case 8:
1160:App/Src/task.c ****             if (lastTestTime + 500 < HAL_GetTick()) {
1161:App/Src/task.c ****                 UsbPrintf("sd3078B 重新上电\n");
1162:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1163:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
1164:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1165:App/Src/task.c ****                 Aecq100State++;
1166:App/Src/task.c ****                 break;
1167:App/Src/task.c ****             }
1168:App/Src/task.c ****         break;
1169:App/Src/task.c ****         case 9:
1170:App/Src/task.c ****             if (lastTestTime + 1000 < HAL_GetTick()) {
1171:App/Src/task.c ****                 UsbPrintf("等待1s\n");
1172:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1173:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
1174:App/Src/task.c ****                 Aecq100State++;
1175:App/Src/task.c ****                 break;
1176:App/Src/task.c ****             }
1177:App/Src/task.c ****         break;
1178:App/Src/task.c ****         case 10:
1179:App/Src/task.c ****             rtc_read_multi_bytes(0x64, 0x72, buffer, 1);
1180:App/Src/task.c **** 			result = rtc_write_lock_on();
1181:App/Src/task.c **** 			if (result !=  I2C_OK) {
1182:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
1183:App/Src/task.c ****                 Aecq100State = 50;
1184:App/Src/task.c ****                 ControlPrintf("download:通信失败\n");
1185:App/Src/task.c **** 			    HAL_Delay(5);
1186:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1187:App/Src/task.c ****                 break;
1188:App/Src/task.c **** 			}
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 142


1189:App/Src/task.c **** 			buffer[0] = 0x10;
1190:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, buffer, 1);
1191:App/Src/task.c **** 			HAL_Delay(10);
1192:App/Src/task.c **** 			rtc_read_multi_bytes(RTC_3078_ADDRESS, 0x16, buffer, 1);
1193:App/Src/task.c **** 			temp = buffer[0];
1194:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", temp, temp_read_value(1));
1195:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
1196:App/Src/task.c ****             rtc_out_4096();//开启输出
1197:App/Src/task.c **** 			rtc_sda_l();//3078模式下需要解除锁定int
1198:App/Src/task.c ****             lastTestTime = HAL_GetTick();
1199:App/Src/task.c ****             Aecq100State++;
1200:App/Src/task.c ****             break;
1201:App/Src/task.c ****         case 11:
1202:App/Src/task.c ****             if (lastTestTime + 300 < HAL_GetTick()) {
1203:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1204:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
1205:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
1206:App/Src/task.c ****                 Aecq100State++;
1207:App/Src/task.c ****             }
1208:App/Src/task.c ****             break;
1209:App/Src/task.c ****         case 12:
1210:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
1211:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
1212:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
1213:App/Src/task.c ****                 ControlPrintf("freq:%fkHz\n", g_lastFreq.freq);
1214:App/Src/task.c **** 			    HAL_Delay(5);
1215:App/Src/task.c ****                 ControlPrintf("ppm:%.2fppm\n", ppm);
1216:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
1217:App/Src/task.c ****                 if (ppm > 3 || ppm < -3) {
1218:App/Src/task.c ****                     HAL_Delay(5);
1219:App/Src/task.c ****                     ControlPrintf("result:NG\n");
1220:App/Src/task.c ****                     Aecq100State = 50;
1221:App/Src/task.c ****                 } else {
1222:App/Src/task.c **** 			        rtc_group_power(AECQ100_CHANNEL, POWER_BAT_I);
1223:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1224:App/Src/task.c ****                     Aecq100State++;
1225:App/Src/task.c ****                 }
1226:App/Src/task.c ****             }
1227:App/Src/task.c ****             if (lastTestTime + 1500 < HAL_GetTick()) {
1228:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
1229:App/Src/task.c ****                 UsbPrintf("device no response\n");
1230:App/Src/task.c ****                 Aecq100State = 50;
1231:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
1232:App/Src/task.c **** 			    HAL_Delay(5);
1233:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1234:App/Src/task.c ****             }
1235:App/Src/task.c ****         break;
1236:App/Src/task.c ****         case 13:
1237:App/Src/task.c ****             if (lastTestTime + 500 < HAL_GetTick()) {
1238:App/Src/task.c ****                 current = CS1237Current();
1239:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
1240:App/Src/task.c ****                 if (current > 300 && current < 1000) {
1241:App/Src/task.c ****                     UsbPrintf("current OK\n");
1242:App/Src/task.c ****                     ControlPrintf("Ibat:%.2fuA\n", current * 0.001);
1243:App/Src/task.c **** 			        HAL_Delay(5);
1244:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
1245:App/Src/task.c ****                     rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 143


1246:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
1247:App/Src/task.c ****                     Aecq100State = 50;
1248:App/Src/task.c ****                 } else {
1249:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1250:App/Src/task.c ****                     Aecq100State ++;
1251:App/Src/task.c ****                 }
1252:App/Src/task.c ****             }
1253:App/Src/task.c ****             break;
1254:App/Src/task.c ****         case 14:
1255:App/Src/task.c ****             if (lastTestTime + 500 < HAL_GetTick()) {
1256:App/Src/task.c ****                 current = CS1237Current();
1257:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
1258:App/Src/task.c ****                 if (current > 300 && current < 1000) {
1259:App/Src/task.c ****                     UsbPrintf("current OK\n");
1260:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
1261:App/Src/task.c ****                     rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1262:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
1263:App/Src/task.c ****                 } else {
1264:App/Src/task.c ****                     UsbPrintf("bat current error");
1265:App/Src/task.c ****                     ControlPrintf("result:NG\n");
1266:App/Src/task.c ****                 }
1267:App/Src/task.c ****                 Aecq100State = 50;
1268:App/Src/task.c **** 			    HAL_Delay(5);
1269:App/Src/task.c ****                 ControlPrintf("Ibat:%.2fuA\n", current * 0.001);
1270:App/Src/task.c ****             }
1271:App/Src/task.c ****             break;
1272:App/Src/task.c ****         case  50:
1273:App/Src/task.c ****             if (rtc_read_multi_bytes(0x64, 0x00, buffer, 1) != I2C_OK) {
1274:App/Src/task.c ****                 Aecq100State = 0;
1275:App/Src/task.c ****             }
1276:App/Src/task.c ****             if (HAL_GetTick() > lastTestTime + 1000) {
1277:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1278:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
1279:App/Src/task.c ****             }
1280:App/Src/task.c ****             break;
1281:App/Src/task.c ****         default: break;
1282:App/Src/task.c ****     }
1283:App/Src/task.c **** }
 5546              		.loc 1 1283 1 is_stmt 0 view .LVU1428
 5547 02cc 0AB0     		add	sp, sp, #40
 5548              	.LCFI45:
 5549              		.cfi_remember_state
 5550              		.cfi_def_cfa_offset 32
 5551              		@ sp needed
 5552 02ce BDEC028B 		vldm	sp!, {d8}
 5553              	.LCFI46:
 5554              		.cfi_restore 80
 5555              		.cfi_restore 81
 5556              		.cfi_def_cfa_offset 24
 5557 02d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5558              	.L370:
 5559 02d6 00BF     		.align	2
 5560              	.L369:
 5561 02d8 00000000 		.word	.LANCHOR32
 5562 02dc 00000000 		.word	.LANCHOR33
 5563 02e0 74000000 		.word	.LC48
 5564 02e4 00000000 		.word	.LC43
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 144


 5565 02e8 10000000 		.word	.LC44
 5566 02ec 28000000 		.word	.LC45
 5567 02f0 3C000000 		.word	.LC46
 5568 02f4 64000000 		.word	.LC47
 5569 02f8 88000000 		.word	.LC49
 5570 02fc A0000000 		.word	.LC50
 5571 0300 B4000000 		.word	.LC51
 5572 0304 CC000000 		.word	.LC52
 5573 0308 E4000000 		.word	.LC53
 5574 030c 00000000 		.word	.LANCHOR35
 5575 0310 F0000000 		.word	.LC54
 5576 0314 10010000 		.word	.LC55
 5577 0318 24010000 		.word	.LC56
 5578 031c 00000000 		.word	.LANCHOR36
 5579 0320 3C010000 		.word	.LC57
 5580 0324 00000000 		.word	.LANCHOR37
 5581 0328 00007A44 		.word	1148846080
 5582 032c 00000000 		.word	.LANCHOR38
 5583 0330 00000000 		.word	.LANCHOR39
 5584 0334 54010000 		.word	.LC58
 5585 0338 00000000 		.word	.LANCHOR7
 5586 033c 50000000 		.word	.LC5
 5587 0340 00000000 		.word	.LANCHOR34
 5588              	.L286:
 5589              	.LCFI47:
 5590              		.cfi_restore_state
1074:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 5591              		.loc 1 1074 13 is_stmt 1 view .LVU1429
1074:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 5592              		.loc 1 1074 27 is_stmt 0 view .LVU1430
 5593 0344 AA4B     		ldr	r3, .L371+8
 5594 0346 1A68     		ldr	r2, [r3]
1074:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 5595              		.loc 1 1074 39 view .LVU1431
 5596 0348 AA4B     		ldr	r3, .L371+12
 5597 034a 1C68     		ldr	r4, [r3]
1074:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 5598              		.loc 1 1074 16 view .LVU1432
 5599 034c A242     		cmp	r2, r4
 5600 034e 40F21381 		bls	.L297
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 5601              		.loc 1 1075 17 is_stmt 1 view .LVU1433
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 5602              		.loc 1 1075 34 is_stmt 0 view .LVU1434
 5603 0352 A74B     		ldr	r3, .L371+8
 5604 0354 5868     		ldr	r0, [r3, #4]	@ float
 5605 0356 FFF7FEFF 		bl	__aeabi_f2d
 5606              	.LVL484:
 5607 035a 0446     		mov	r4, r0
 5608 035c 0D46     		mov	r5, r1
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 5609              		.loc 1 1075 40 view .LVU1435
 5610 035e 0022     		movs	r2, #0
 5611 0360 A54B     		ldr	r3, .L371+16
 5612 0362 FFF7FEFF 		bl	__aeabi_dmul
 5613              	.LVL485:
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 145


 5614              		.loc 1 1075 47 view .LVU1436
 5615 0366 0022     		movs	r2, #0
 5616 0368 A44B     		ldr	r3, .L371+20
 5617 036a FFF7FEFF 		bl	__aeabi_dsub
 5618              	.LVL486:
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 5619              		.loc 1 1075 52 view .LVU1437
 5620 036e 9EA3     		adr	r3, .L371
 5621 0370 D3E90023 		ldrd	r2, [r3]
 5622 0374 FFF7FEFF 		bl	__aeabi_dmul
 5623              	.LVL487:
1075:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 5624              		.loc 1 1075 21 view .LVU1438
 5625 0378 FFF7FEFF 		bl	__aeabi_d2f
 5626              	.LVL488:
 5627 037c 08EE100A 		vmov	s16, r0
 5628              	.LVL489:
1076:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 5629              		.loc 1 1076 17 is_stmt 1 view .LVU1439
 5630 0380 FFF7FEFF 		bl	__aeabi_f2d
 5631              	.LVL490:
1076:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 5632              		.loc 1 1076 17 is_stmt 0 view .LVU1440
 5633 0384 0646     		mov	r6, r0
 5634 0386 0F46     		mov	r7, r1
 5635 0388 9D4B     		ldr	r3, .L371+24
 5636 038a 1868     		ldr	r0, [r3]	@ float
 5637 038c FFF7FEFF 		bl	__aeabi_f2d
 5638              	.LVL491:
 5639 0390 0246     		mov	r2, r0
 5640 0392 0B46     		mov	r3, r1
 5641 0394 CDE90267 		strd	r6, [sp, #8]
 5642 0398 CDE90045 		strd	r4, [sp]
 5643 039c 9948     		ldr	r0, .L371+28
 5644 039e FFF7FEFF 		bl	UsbPrintf
 5645              	.LVL492:
1077:App/Src/task.c ****                     Aecq100State ++;
 5646              		.loc 1 1077 17 is_stmt 1 view .LVU1441
1077:App/Src/task.c ****                     Aecq100State ++;
 5647              		.loc 1 1077 21 is_stmt 0 view .LVU1442
 5648 03a2 F0EEC87A 		vabs.f32	s15, s16
1077:App/Src/task.c ****                     Aecq100State ++;
 5649              		.loc 1 1077 20 view .LVU1443
 5650 03a6 B6EE007A 		vmov.f32	s14, #5.0e-1
 5651 03aa F4EEC77A 		vcmpe.f32	s15, s14
 5652 03ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5653 03b2 04D8     		bhi	.L356
1078:App/Src/task.c ****                     break;
 5654              		.loc 1 1078 21 is_stmt 1 view .LVU1444
1078:App/Src/task.c ****                     break;
 5655              		.loc 1 1078 34 is_stmt 0 view .LVU1445
 5656 03b4 944A     		ldr	r2, .L371+32
 5657 03b6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5658 03b8 0133     		adds	r3, r3, #1
 5659 03ba 1370     		strb	r3, [r2]
1079:App/Src/task.c ****                 } else if (fabs(ppm) < 2) {
 5660              		.loc 1 1079 21 is_stmt 1 view .LVU1446
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 146


 5661 03bc 86E7     		b	.L273
 5662              	.L356:
1080:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 5663              		.loc 1 1080 24 view .LVU1447
1080:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 5664              		.loc 1 1080 27 is_stmt 0 view .LVU1448
 5665 03be B0EE007A 		vmov.f32	s14, #2.0e+0
 5666 03c2 F4EEC77A 		vcmpe.f32	s15, s14
 5667 03c6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5668 03ca 40F18780 		bpl	.L357
1081:App/Src/task.c ****                         minPpm = ppm;
 5669              		.loc 1 1081 21 is_stmt 1 view .LVU1449
1081:App/Src/task.c ****                         minPpm = ppm;
 5670              		.loc 1 1081 37 is_stmt 0 view .LVU1450
 5671 03ce 8F4B     		ldr	r3, .L371+36
 5672 03d0 93ED007A 		vldr.32	s14, [r3]
 5673 03d4 B0EEC77A 		vabs.f32	s14, s14
1081:App/Src/task.c ****                         minPpm = ppm;
 5674              		.loc 1 1081 24 view .LVU1451
 5675 03d8 F4EEC77A 		vcmpe.f32	s15, s14
 5676 03dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5677 03e0 05D5     		bpl	.L302
1082:App/Src/task.c ****                         minCap = lastCap;
 5678              		.loc 1 1082 25 is_stmt 1 view .LVU1452
1082:App/Src/task.c ****                         minCap = lastCap;
 5679              		.loc 1 1082 32 is_stmt 0 view .LVU1453
 5680 03e2 83ED008A 		vstr.32	s16, [r3]
1083:App/Src/task.c ****                     }
 5681              		.loc 1 1083 25 is_stmt 1 view .LVU1454
1083:App/Src/task.c ****                     }
 5682              		.loc 1 1083 32 is_stmt 0 view .LVU1455
 5683 03e6 864B     		ldr	r3, .L371+24
 5684 03e8 1A68     		ldr	r2, [r3]	@ float
 5685 03ea 894B     		ldr	r3, .L371+40
 5686 03ec 1A60     		str	r2, [r3]	@ float
 5687              	.L302:
1085:App/Src/task.c ****                         Aecq100State ++;
 5688              		.loc 1 1085 21 is_stmt 1 view .LVU1456
1085:App/Src/task.c ****                         Aecq100State ++;
 5689              		.loc 1 1085 24 is_stmt 0 view .LVU1457
 5690 03ee B5EEC08A 		vcmpe.f32	s16, #0
 5691 03f2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5692 03f6 07DD     		ble	.L304
1085:App/Src/task.c ****                         Aecq100State ++;
 5693              		.loc 1 1085 44 discriminator 1 view .LVU1458
 5694 03f8 844B     		ldr	r3, .L371+36
 5695 03fa 93ED007A 		vldr.32	s14, [r3]
1085:App/Src/task.c ****                         Aecq100State ++;
 5696              		.loc 1 1085 34 discriminator 1 view .LVU1459
 5697 03fe B5EEC07A 		vcmpe.f32	s14, #0
 5698 0402 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5699 0406 60D4     		bmi	.L306
 5700              	.L304:
1085:App/Src/task.c ****                         Aecq100State ++;
 5701              		.loc 1 1085 49 discriminator 3 view .LVU1460
 5702 0408 B5EEC08A 		vcmpe.f32	s16, #0
 5703 040c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 147


 5704 0410 53D4     		bmi	.L362
 5705              	.L307:
1099:App/Src/task.c ****                     minPpm = ppm;
 5706              		.loc 1 1099 17 is_stmt 1 view .LVU1461
1099:App/Src/task.c ****                     minPpm = ppm;
 5707              		.loc 1 1099 33 is_stmt 0 view .LVU1462
 5708 0412 7E4B     		ldr	r3, .L371+36
 5709 0414 93ED007A 		vldr.32	s14, [r3]
 5710 0418 B0EEC77A 		vabs.f32	s14, s14
1099:App/Src/task.c ****                     minPpm = ppm;
 5711              		.loc 1 1099 20 view .LVU1463
 5712 041c F4EEC77A 		vcmpe.f32	s15, s14
 5713 0420 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5714 0424 05D5     		bpl	.L315
1100:App/Src/task.c ****                     minCap = lastCap;
 5715              		.loc 1 1100 21 is_stmt 1 view .LVU1464
1100:App/Src/task.c ****                     minCap = lastCap;
 5716              		.loc 1 1100 28 is_stmt 0 view .LVU1465
 5717 0426 83ED008A 		vstr.32	s16, [r3]
1101:App/Src/task.c ****                 }
 5718              		.loc 1 1101 21 is_stmt 1 view .LVU1466
1101:App/Src/task.c ****                 }
 5719              		.loc 1 1101 28 is_stmt 0 view .LVU1467
 5720 042a 754B     		ldr	r3, .L371+24
 5721 042c 1A68     		ldr	r2, [r3]	@ float
 5722 042e 784B     		ldr	r3, .L371+40
 5723 0430 1A60     		str	r2, [r3]	@ float
 5724              	.L315:
1104:App/Src/task.c ****                 if (adjustCount > 10) { 
 5725              		.loc 1 1104 17 is_stmt 1 view .LVU1468
1104:App/Src/task.c ****                 if (adjustCount > 10) { 
 5726              		.loc 1 1104 28 is_stmt 0 view .LVU1469
 5727 0432 784A     		ldr	r2, .L371+44
 5728 0434 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5729 0436 0133     		adds	r3, r3, #1
 5730 0438 DBB2     		uxtb	r3, r3
 5731 043a 1370     		strb	r3, [r2]
1105:App/Src/task.c ****                     Aecq100State = 50;
 5732              		.loc 1 1105 17 is_stmt 1 view .LVU1470
1105:App/Src/task.c ****                     Aecq100State = 50;
 5733              		.loc 1 1105 20 is_stmt 0 view .LVU1471
 5734 043c 0A2B     		cmp	r3, #10
 5735 043e 7AD8     		bhi	.L363
1112:App/Src/task.c ****                     lastCap += 1;
 5736              		.loc 1 1112 17 is_stmt 1 view .LVU1472
1112:App/Src/task.c ****                     lastCap += 1;
 5737              		.loc 1 1112 20 is_stmt 0 view .LVU1473
 5738 0440 B5EEC08A 		vcmpe.f32	s16, #0
 5739 0444 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5740 0448 06DD     		ble	.L318
1112:App/Src/task.c ****                     lastCap += 1;
 5741              		.loc 1 1112 29 discriminator 1 view .LVU1474
 5742 044a F7EE007A 		vmov.f32	s15, #1.0e+0
 5743 044e B4EEE78A 		vcmpe.f32	s16, s15
 5744 0452 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5745 0456 7BD4     		bmi	.L364
 5746              	.L318:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 148


1114:App/Src/task.c ****                     lastCap -= 1;
 5747              		.loc 1 1114 24 is_stmt 1 view .LVU1475
1114:App/Src/task.c ****                     lastCap -= 1;
 5748              		.loc 1 1114 27 is_stmt 0 view .LVU1476
 5749 0458 FFEE007A 		vmov.f32	s15, #-1.0e+0
 5750 045c B4EEE78A 		vcmpe.f32	s16, s15
 5751 0460 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5752 0464 04DD     		ble	.L322
1114:App/Src/task.c ****                     lastCap -= 1;
 5753              		.loc 1 1114 37 discriminator 1 view .LVU1477
 5754 0466 B5EEC08A 		vcmpe.f32	s16, #0
 5755 046a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5756 046e 79D4     		bmi	.L365
 5757              	.L322:
1117:App/Src/task.c ****                 }
 5758              		.loc 1 1117 21 is_stmt 1 view .LVU1478
1117:App/Src/task.c ****                 }
 5759              		.loc 1 1117 45 is_stmt 0 view .LVU1479
 5760 0470 0022     		movs	r2, #0
 5761 0472 694B     		ldr	r3, .L371+48
 5762 0474 3046     		mov	r0, r6
 5763 0476 3946     		mov	r1, r7
 5764 0478 FFF7FEFF 		bl	__aeabi_dmul
 5765              	.LVL493:
 5766 047c 0446     		mov	r4, r0
 5767 047e 0D46     		mov	r5, r1
1117:App/Src/task.c ****                 }
 5768              		.loc 1 1117 39 view .LVU1480
 5769 0480 5F4E     		ldr	r6, .L371+24
 5770 0482 3068     		ldr	r0, [r6]	@ float
 5771 0484 FFF7FEFF 		bl	__aeabi_f2d
 5772              	.LVL494:
 5773 0488 2246     		mov	r2, r4
 5774 048a 2B46     		mov	r3, r5
 5775 048c FFF7FEFF 		bl	__aeabi_dadd
 5776              	.LVL495:
 5777 0490 FFF7FEFF 		bl	__aeabi_d2f
 5778              	.LVL496:
1117:App/Src/task.c ****                 }
 5779              		.loc 1 1117 29 view .LVU1481
 5780 0494 3060     		str	r0, [r6]	@ float
 5781              	.L321:
1119:App/Src/task.c ****                 rtc_set_testcap(cap);
 5782              		.loc 1 1119 17 is_stmt 1 view .LVU1482
 5783 0496 5A4B     		ldr	r3, .L371+24
 5784 0498 D3ED007A 		vldr.32	s15, [r3]
 5785 049c FCEEE77A 		vcvt.u32.f32	s15, s15
 5786 04a0 07A9     		add	r1, sp, #28
 5787 04a2 17EE903A 		vmov	r3, s15	@ int
 5788 04a6 98B2     		uxth	r0, r3
 5789 04a8 FFF7FEFF 		bl	cap_list_to_uint
 5790              	.LVL497:
1120:App/Src/task.c ****                 Aecq100State = 4;
 5791              		.loc 1 1120 17 view .LVU1483
 5792 04ac 07A8     		add	r0, sp, #28
 5793 04ae FFF7FEFF 		bl	rtc_set_testcap
 5794              	.LVL498:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 149


1121:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 5795              		.loc 1 1121 17 view .LVU1484
1121:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 5796              		.loc 1 1121 30 is_stmt 0 view .LVU1485
 5797 04b2 554B     		ldr	r3, .L371+32
 5798 04b4 0422     		movs	r2, #4
 5799 04b6 1A70     		strb	r2, [r3]
 5800 04b8 08E7     		b	.L273
 5801              	.L362:
1085:App/Src/task.c ****                         Aecq100State ++;
 5802              		.loc 1 1085 71 discriminator 4 view .LVU1486
 5803 04ba 544B     		ldr	r3, .L371+36
 5804 04bc 93ED007A 		vldr.32	s14, [r3]
1085:App/Src/task.c ****                         Aecq100State ++;
 5805              		.loc 1 1085 61 discriminator 4 view .LVU1487
 5806 04c0 B5EEC07A 		vcmpe.f32	s14, #0
 5807 04c4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5808 04c8 A3DD     		ble	.L307
 5809              	.L306:
1086:App/Src/task.c ****                          lastCap = minCap;
 5810              		.loc 1 1086 25 is_stmt 1 view .LVU1488
1086:App/Src/task.c ****                          lastCap = minCap;
 5811              		.loc 1 1086 38 is_stmt 0 view .LVU1489
 5812 04ca 4F4A     		ldr	r2, .L371+32
 5813 04cc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5814 04ce 0133     		adds	r3, r3, #1
 5815 04d0 1370     		strb	r3, [r2]
1087:App/Src/task.c ****                         break;
 5816              		.loc 1 1087 26 is_stmt 1 view .LVU1490
1087:App/Src/task.c ****                         break;
 5817              		.loc 1 1087 34 is_stmt 0 view .LVU1491
 5818 04d2 4F4B     		ldr	r3, .L371+40
 5819 04d4 1A68     		ldr	r2, [r3]	@ float
 5820 04d6 4A4B     		ldr	r3, .L371+24
 5821 04d8 1A60     		str	r2, [r3]	@ float
1088:App/Src/task.c ****                     }
 5822              		.loc 1 1088 25 is_stmt 1 view .LVU1492
 5823 04da F7E6     		b	.L273
 5824              	.L357:
1091:App/Src/task.c ****                         Aecq100State = 50;
 5825              		.loc 1 1091 21 view .LVU1493
1091:App/Src/task.c ****                         Aecq100State = 50;
 5826              		.loc 1 1091 34 is_stmt 0 view .LVU1494
 5827 04dc 484B     		ldr	r3, .L371+24
 5828 04de 93ED007A 		vldr.32	s14, [r3]
1091:App/Src/task.c ****                         Aecq100State = 50;
 5829              		.loc 1 1091 24 view .LVU1495
 5830 04e2 DFED4E6A 		vldr.32	s13, .L371+52
 5831 04e6 B4EEE67A 		vcmpe.f32	s14, s13
 5832 04ea F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5833 04ee 06DB     		blt	.L310
1091:App/Src/task.c ****                         Aecq100State = 50;
 5834              		.loc 1 1091 57 discriminator 1 view .LVU1496
 5835 04f0 F0EE006A 		vmov.f32	s13, #2.0e+0
 5836 04f4 B4EEE68A 		vcmpe.f32	s16, s13
 5837 04f8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5838 04fc 0EDA     		bge	.L312
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 150


 5839              	.L310:
1091:App/Src/task.c ****                         Aecq100State = 50;
 5840              		.loc 1 1091 70 discriminator 3 view .LVU1497
 5841 04fe F7EE006A 		vmov.f32	s13, #1.0e+0
 5842 0502 B4EEE67A 		vcmpe.f32	s14, s13
 5843 0506 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5844 050a 82D8     		bhi	.L307
1091:App/Src/task.c ****                         Aecq100State = 50;
 5845              		.loc 1 1091 106 discriminator 4 view .LVU1498
 5846 050c B8EE007A 		vmov.f32	s14, #-2.0e+0
 5847 0510 B4EEC78A 		vcmpe.f32	s16, s14
 5848 0514 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5849 0518 3FF67BAF 		bhi	.L307
 5850              	.L312:
1092:App/Src/task.c ****                         ControlPrintf("download:调电容失败\n");
 5851              		.loc 1 1092 25 is_stmt 1 view .LVU1499
1092:App/Src/task.c ****                         ControlPrintf("download:调电容失败\n");
 5852              		.loc 1 1092 38 is_stmt 0 view .LVU1500
 5853 051c 3A4B     		ldr	r3, .L371+32
 5854 051e 3222     		movs	r2, #50
 5855 0520 1A70     		strb	r2, [r3]
1093:App/Src/task.c **** 			            HAL_Delay(5);
 5856              		.loc 1 1093 25 is_stmt 1 view .LVU1501
 5857 0522 3F48     		ldr	r0, .L371+56
 5858 0524 FFF7FEFF 		bl	ControlPrintf
 5859              	.LVL499:
1094:App/Src/task.c ****                         ControlPrintf("result:NG\n");
 5860              		.loc 1 1094 16 view .LVU1502
 5861 0528 0520     		movs	r0, #5
 5862 052a FFF7FEFF 		bl	HAL_Delay
 5863              	.LVL500:
1095:App/Src/task.c ****                         break;
 5864              		.loc 1 1095 25 view .LVU1503
 5865 052e 3D48     		ldr	r0, .L371+60
 5866 0530 FFF7FEFF 		bl	ControlPrintf
 5867              	.LVL501:
1096:App/Src/task.c ****                     } 
 5868              		.loc 1 1096 25 view .LVU1504
 5869 0534 CAE6     		b	.L273
 5870              	.L363:
1106:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
 5871              		.loc 1 1106 21 view .LVU1505
1106:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
 5872              		.loc 1 1106 34 is_stmt 0 view .LVU1506
 5873 0536 344B     		ldr	r3, .L371+32
 5874 0538 3222     		movs	r2, #50
 5875 053a 1A70     		strb	r2, [r3]
1107:App/Src/task.c **** 			        HAL_Delay(5);
 5876              		.loc 1 1107 21 is_stmt 1 view .LVU1507
 5877 053c 3848     		ldr	r0, .L371+56
 5878 053e FFF7FEFF 		bl	ControlPrintf
 5879              	.LVL502:
1108:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 5880              		.loc 1 1108 12 view .LVU1508
 5881 0542 0520     		movs	r0, #5
 5882 0544 FFF7FEFF 		bl	HAL_Delay
 5883              	.LVL503:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 151


1109:App/Src/task.c ****                     break;
 5884              		.loc 1 1109 21 view .LVU1509
 5885 0548 3648     		ldr	r0, .L371+60
 5886 054a FFF7FEFF 		bl	ControlPrintf
 5887              	.LVL504:
1110:App/Src/task.c ****                 }//---------------------------------------------------------            
 5888              		.loc 1 1110 21 view .LVU1510
 5889 054e BDE6     		b	.L273
 5890              	.L364:
1113:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 5891              		.loc 1 1113 21 view .LVU1511
1113:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 5892              		.loc 1 1113 29 is_stmt 0 view .LVU1512
 5893 0550 2B4B     		ldr	r3, .L371+24
 5894 0552 D3ED007A 		vldr.32	s15, [r3]
 5895 0556 B7EE007A 		vmov.f32	s14, #1.0e+0
 5896 055a 77EE877A 		vadd.f32	s15, s15, s14
 5897 055e C3ED007A 		vstr.32	s15, [r3]
 5898 0562 98E7     		b	.L321
 5899              	.L365:
1115:App/Src/task.c ****                 } else {
 5900              		.loc 1 1115 21 is_stmt 1 view .LVU1513
1115:App/Src/task.c ****                 } else {
 5901              		.loc 1 1115 29 is_stmt 0 view .LVU1514
 5902 0564 264B     		ldr	r3, .L371+24
 5903 0566 D3ED007A 		vldr.32	s15, [r3]
 5904 056a B7EE007A 		vmov.f32	s14, #1.0e+0
 5905 056e 77EEC77A 		vsub.f32	s15, s15, s14
 5906 0572 C3ED007A 		vstr.32	s15, [r3]
 5907 0576 8EE7     		b	.L321
 5908              	.LVL505:
 5909              	.L297:
1122:App/Src/task.c ****                 UsbPrintf("device no response\n");
 5910              		.loc 1 1122 20 is_stmt 1 view .LVU1515
1122:App/Src/task.c ****                 UsbPrintf("device no response\n");
 5911              		.loc 1 1122 37 is_stmt 0 view .LVU1516
 5912 0578 04F59664 		add	r4, r4, #1200
1122:App/Src/task.c ****                 UsbPrintf("device no response\n");
 5913              		.loc 1 1122 46 view .LVU1517
 5914 057c FFF7FEFF 		bl	HAL_GetTick
 5915              	.LVL506:
1122:App/Src/task.c ****                 UsbPrintf("device no response\n");
 5916              		.loc 1 1122 23 view .LVU1518
 5917 0580 8442     		cmp	r4, r0
 5918 0582 BFF4A3AE 		bcs	.L273
1123:App/Src/task.c ****                 log_printf("device no response\n");             
 5919              		.loc 1 1123 17 is_stmt 1 view .LVU1519
 5920 0586 284C     		ldr	r4, .L371+64
 5921 0588 2046     		mov	r0, r4
 5922 058a FFF7FEFF 		bl	UsbPrintf
 5923              	.LVL507:
1124:App/Src/task.c ****                 responseCount++;
 5924              		.loc 1 1124 17 view .LVU1520
 5925 058e 2046     		mov	r0, r4
 5926 0590 FFF7FEFF 		bl	log_printf
 5927              	.LVL508:
1125:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 152


 5928              		.loc 1 1125 17 view .LVU1521
1125:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 5929              		.loc 1 1125 30 is_stmt 0 view .LVU1522
 5930 0594 254A     		ldr	r2, .L371+68
 5931 0596 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5932 0598 0133     		adds	r3, r3, #1
 5933 059a DBB2     		uxtb	r3, r3
 5934 059c 1370     		strb	r3, [r2]
1126:App/Src/task.c ****                     Aecq100State = 50;
 5935              		.loc 1 1126 17 is_stmt 1 view .LVU1523
1126:App/Src/task.c ****                     Aecq100State = 50;
 5936              		.loc 1 1126 20 is_stmt 0 view .LVU1524
 5937 059e 022B     		cmp	r3, #2
 5938 05a0 0CD9     		bls	.L325
1127:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
 5939              		.loc 1 1127 21 is_stmt 1 view .LVU1525
1127:App/Src/task.c ****                     ControlPrintf("download:调电容失败\n");
 5940              		.loc 1 1127 34 is_stmt 0 view .LVU1526
 5941 05a2 194B     		ldr	r3, .L371+32
 5942 05a4 3222     		movs	r2, #50
 5943 05a6 1A70     		strb	r2, [r3]
1128:App/Src/task.c **** 			    HAL_Delay(5);
 5944              		.loc 1 1128 21 is_stmt 1 view .LVU1527
 5945 05a8 1D48     		ldr	r0, .L371+56
 5946 05aa FFF7FEFF 		bl	ControlPrintf
 5947              	.LVL509:
1129:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 5948              		.loc 1 1129 8 view .LVU1528
 5949 05ae 0520     		movs	r0, #5
 5950 05b0 FFF7FEFF 		bl	HAL_Delay
 5951              	.LVL510:
1130:App/Src/task.c ****                 } else {
 5952              		.loc 1 1130 21 view .LVU1529
 5953 05b4 1B48     		ldr	r0, .L371+60
 5954 05b6 FFF7FEFF 		bl	ControlPrintf
 5955              	.LVL511:
 5956 05ba 87E6     		b	.L273
 5957              	.L325:
1132:App/Src/task.c ****                     Aecq100State = 4;
 5958              		.loc 1 1132 21 view .LVU1530
1132:App/Src/task.c ****                     Aecq100State = 4;
 5959              		.loc 1 1132 36 is_stmt 0 view .LVU1531
 5960 05bc FFF7FEFF 		bl	HAL_GetTick
 5961              	.LVL512:
1132:App/Src/task.c ****                     Aecq100State = 4;
 5962              		.loc 1 1132 34 view .LVU1532
 5963 05c0 0C4B     		ldr	r3, .L371+12
 5964 05c2 1860     		str	r0, [r3]
1133:App/Src/task.c ****                 }
 5965              		.loc 1 1133 21 is_stmt 1 view .LVU1533
1133:App/Src/task.c ****                 }
 5966              		.loc 1 1133 34 is_stmt 0 view .LVU1534
 5967 05c4 104B     		ldr	r3, .L371+32
 5968 05c6 0422     		movs	r2, #4
 5969 05c8 1A70     		strb	r2, [r3]
 5970 05ca 7FE6     		b	.L273
 5971              	.L285:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 153


1138:App/Src/task.c ****             rtc_1006_exit_testmode(AECQ100_CHANNEL); 
 5972              		.loc 1 1138 13 is_stmt 1 view .LVU1535
 5973 05cc FFF7FEFF 		bl	rtc_disable_int
 5974              	.LVL513:
1139:App/Src/task.c ****             ControlPrintf("download:电容测试成功\n");
 5975              		.loc 1 1139 13 view .LVU1536
 5976 05d0 0420     		movs	r0, #4
 5977 05d2 FFF7FEFF 		bl	rtc_1006_exit_testmode
 5978              	.LVL514:
1140:App/Src/task.c ****             Aecq100State++;
 5979              		.loc 1 1140 13 view .LVU1537
 5980 05d6 1648     		ldr	r0, .L371+72
 5981 05d8 FFF7FEFF 		bl	ControlPrintf
 5982              	.LVL515:
1141:App/Src/task.c ****         break;
 5983              		.loc 1 1141 13 view .LVU1538
1141:App/Src/task.c ****         break;
 5984              		.loc 1 1141 25 is_stmt 0 view .LVU1539
 5985 05dc 0A4A     		ldr	r2, .L371+32
 5986 05de 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5987 05e0 0133     		adds	r3, r3, #1
 5988 05e2 1370     		strb	r3, [r2]
1142:App/Src/task.c ****         case 7:
 5989              		.loc 1 1142 9 is_stmt 1 view .LVU1540
 5990 05e4 72E6     		b	.L273
 5991              	.L372:
 5992 05e6 00BF     		.align	3
 5993              	.L371:
 5994 05e8 00000000 		.word	0
 5995 05ec 80842E41 		.word	1093567616
 5996 05f0 00000000 		.word	.LANCHOR7
 5997 05f4 00000000 		.word	.LANCHOR33
 5998 05f8 0000903F 		.word	1066401792
 5999 05fc 0000F03F 		.word	1072693248
 6000 0600 00000000 		.word	.LANCHOR36
 6001 0604 54000000 		.word	.LC14
 6002 0608 00000000 		.word	.LANCHOR32
 6003 060c 00000000 		.word	.LANCHOR37
 6004 0610 00000000 		.word	.LANCHOR40
 6005 0614 00000000 		.word	.LANCHOR39
 6006 0618 00000440 		.word	1074003968
 6007 061c 00804D44 		.word	1145929728
 6008 0620 54010000 		.word	.LC58
 6009 0624 E4000000 		.word	.LC53
 6010 0628 70000000 		.word	.LC15
 6011 062c 00000000 		.word	.LANCHOR38
 6012 0630 6C010000 		.word	.LC59
 6013              	.L284:
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6014              		.loc 1 1144 13 view .LVU1541
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6015              		.loc 1 1144 17 is_stmt 0 view .LVU1542
 6016 0634 B64B     		ldr	r3, .L373+8
 6017 0636 1C88     		ldrh	r4, [r3]
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6018              		.loc 1 1144 61 view .LVU1543
 6019 0638 B64B     		ldr	r3, .L373+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 154


 6020 063a 93ED008A 		vldr.32	s16, [r3]
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6021              		.loc 1 1144 64 view .LVU1544
 6022 063e 0120     		movs	r0, #1
 6023 0640 FFF7FEFF 		bl	temp_read_value
 6024              	.LVL516:
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6025              		.loc 1 1144 83 view .LVU1545
 6026 0644 F3EE097A 		vmov.f32	s15, #2.5e+1
 6027 0648 30EE670A 		vsub.f32	s0, s0, s15
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6028              		.loc 1 1144 89 view .LVU1546
 6029 064c 30EE000A 		vadd.f32	s0, s0, s0
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6030              		.loc 1 1144 61 view .LVU1547
 6031 0650 38EE408A 		vsub.f32	s16, s16, s0
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6032              		.loc 1 1144 17 view .LVU1548
 6033 0654 B04B     		ldr	r3, .L373+16
 6034 0656 93ED000A 		vldr.32	s0, [r3]
 6035 065a BCEEC88A 		vcvt.u32.f32	s16, s16
 6036 065e F0EE007A 		vmov.f32	s15, #2.0e+0
 6037 0662 30EE270A 		vadd.f32	s0, s0, s15
 6038 0666 18EE103A 		vmov	r3, s16	@ int
 6039 066a 99B2     		uxth	r1, r3
 6040 066c 2046     		mov	r0, r4
 6041 066e FFF7FEFF 		bl	sd3078b_ACEQ100
 6042              	.LVL517:
1144:App/Src/task.c ****                 UsbPrintf("download sd3078b success\n");
 6043              		.loc 1 1144 16 view .LVU1549
 6044 0672 A8B1     		cbz	r0, .L326
1145:App/Src/task.c ****                 ControlPrintf("download:烧写成功\n");
 6045              		.loc 1 1145 17 is_stmt 1 view .LVU1550
 6046 0674 A948     		ldr	r0, .L373+20
 6047 0676 FFF7FEFF 		bl	UsbPrintf
 6048              	.LVL518:
1146:App/Src/task.c ****                 Aecq100State ++;
 6049              		.loc 1 1146 17 view .LVU1551
 6050 067a A948     		ldr	r0, .L373+24
 6051 067c FFF7FEFF 		bl	ControlPrintf
 6052              	.LVL519:
1147:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6053              		.loc 1 1147 17 view .LVU1552
1147:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6054              		.loc 1 1147 30 is_stmt 0 view .LVU1553
 6055 0680 A84A     		ldr	r2, .L373+28
 6056 0682 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6057 0684 0133     		adds	r3, r3, #1
 6058 0686 1370     		strb	r3, [r2]
1148:App/Src/task.c ****                 UsbPrintf("sd3078b power off\n");
 6059              		.loc 1 1148 17 is_stmt 1 view .LVU1554
1148:App/Src/task.c ****                 UsbPrintf("sd3078b power off\n");
 6060              		.loc 1 1148 32 is_stmt 0 view .LVU1555
 6061 0688 FFF7FEFF 		bl	HAL_GetTick
 6062              	.LVL520:
1148:App/Src/task.c ****                 UsbPrintf("sd3078b power off\n");
 6063              		.loc 1 1148 30 view .LVU1556
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 155


 6064 068c A64B     		ldr	r3, .L373+32
 6065 068e 1860     		str	r0, [r3]
1149:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_OFF);
 6066              		.loc 1 1149 17 is_stmt 1 view .LVU1557
 6067 0690 A648     		ldr	r0, .L373+36
 6068 0692 FFF7FEFF 		bl	UsbPrintf
 6069              	.LVL521:
1150:App/Src/task.c ****             } else {
 6070              		.loc 1 1150 17 view .LVU1558
 6071 0696 0021     		movs	r1, #0
 6072 0698 0420     		movs	r0, #4
 6073 069a FFF7FEFF 		bl	rtc_group_power
 6074              	.LVL522:
 6075 069e 15E6     		b	.L273
 6076              	.L326:
1152:App/Src/task.c ****                 UsbPrintf("download sd3078 fail\n");
 6077              		.loc 1 1152 17 view .LVU1559
 6078 06a0 A348     		ldr	r0, .L373+40
 6079 06a2 FFF7FEFF 		bl	ControlPrintf
 6080              	.LVL523:
1153:App/Src/task.c ****                 Aecq100State = 50;
 6081              		.loc 1 1153 17 view .LVU1560
 6082 06a6 A348     		ldr	r0, .L373+44
 6083 06a8 FFF7FEFF 		bl	UsbPrintf
 6084              	.LVL524:
1154:App/Src/task.c **** 			    HAL_Delay(5);
 6085              		.loc 1 1154 17 view .LVU1561
1154:App/Src/task.c **** 			    HAL_Delay(5);
 6086              		.loc 1 1154 30 is_stmt 0 view .LVU1562
 6087 06ac 9D4B     		ldr	r3, .L373+28
 6088 06ae 3222     		movs	r2, #50
 6089 06b0 1A70     		strb	r2, [r3]
1155:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 6090              		.loc 1 1155 8 is_stmt 1 view .LVU1563
 6091 06b2 0520     		movs	r0, #5
 6092 06b4 FFF7FEFF 		bl	HAL_Delay
 6093              	.LVL525:
1156:App/Src/task.c ****             } 
 6094              		.loc 1 1156 17 view .LVU1564
 6095 06b8 9F48     		ldr	r0, .L373+48
 6096 06ba FFF7FEFF 		bl	ControlPrintf
 6097              	.LVL526:
 6098 06be 05E6     		b	.L273
 6099              	.L283:
1160:App/Src/task.c ****                 UsbPrintf("sd3078B 重新上电\n");
 6100              		.loc 1 1160 13 view .LVU1565
1160:App/Src/task.c ****                 UsbPrintf("sd3078B 重新上电\n");
 6101              		.loc 1 1160 30 is_stmt 0 view .LVU1566
 6102 06c0 994B     		ldr	r3, .L373+32
 6103 06c2 1C68     		ldr	r4, [r3]
 6104 06c4 04F5FA74 		add	r4, r4, #500
1160:App/Src/task.c ****                 UsbPrintf("sd3078B 重新上电\n");
 6105              		.loc 1 1160 38 view .LVU1567
 6106 06c8 FFF7FEFF 		bl	HAL_GetTick
 6107              	.LVL527:
1160:App/Src/task.c ****                 UsbPrintf("sd3078B 重新上电\n");
 6108              		.loc 1 1160 16 view .LVU1568
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 156


 6109 06cc 8442     		cmp	r4, r0
 6110 06ce BFF4FDAD 		bcs	.L273
1161:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6111              		.loc 1 1161 17 is_stmt 1 view .LVU1569
 6112 06d2 9A48     		ldr	r0, .L373+52
 6113 06d4 FFF7FEFF 		bl	UsbPrintf
 6114              	.LVL528:
1162:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
 6115              		.loc 1 1162 17 view .LVU1570
 6116 06d8 0121     		movs	r1, #1
 6117 06da 0420     		movs	r0, #4
 6118 06dc FFF7FEFF 		bl	rtc_group_power
 6119              	.LVL529:
1163:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6120              		.loc 1 1163 17 view .LVU1571
 6121 06e0 0521     		movs	r1, #5
 6122 06e2 0420     		movs	r0, #4
 6123 06e4 FFF7FEFF 		bl	rtc_set_channel
 6124              	.LVL530:
1164:App/Src/task.c ****                 Aecq100State++;
 6125              		.loc 1 1164 17 view .LVU1572
1164:App/Src/task.c ****                 Aecq100State++;
 6126              		.loc 1 1164 32 is_stmt 0 view .LVU1573
 6127 06e8 FFF7FEFF 		bl	HAL_GetTick
 6128              	.LVL531:
1164:App/Src/task.c ****                 Aecq100State++;
 6129              		.loc 1 1164 30 view .LVU1574
 6130 06ec 8E4B     		ldr	r3, .L373+32
 6131 06ee 1860     		str	r0, [r3]
1165:App/Src/task.c ****                 break;
 6132              		.loc 1 1165 17 is_stmt 1 view .LVU1575
1165:App/Src/task.c ****                 break;
 6133              		.loc 1 1165 29 is_stmt 0 view .LVU1576
 6134 06f0 8C4A     		ldr	r2, .L373+28
 6135 06f2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6136 06f4 0133     		adds	r3, r3, #1
 6137 06f6 1370     		strb	r3, [r2]
1166:App/Src/task.c ****             }
 6138              		.loc 1 1166 17 is_stmt 1 view .LVU1577
 6139 06f8 E8E5     		b	.L273
 6140              	.L282:
1170:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 6141              		.loc 1 1170 13 view .LVU1578
1170:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 6142              		.loc 1 1170 30 is_stmt 0 view .LVU1579
 6143 06fa 8B4B     		ldr	r3, .L373+32
 6144 06fc 1C68     		ldr	r4, [r3]
 6145 06fe 04F57A74 		add	r4, r4, #1000
1170:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 6146              		.loc 1 1170 39 view .LVU1580
 6147 0702 FFF7FEFF 		bl	HAL_GetTick
 6148              	.LVL532:
1170:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 6149              		.loc 1 1170 16 view .LVU1581
 6150 0706 8442     		cmp	r4, r0
 6151 0708 BFF4E0AD 		bcs	.L273
1171:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 157


 6152              		.loc 1 1171 17 is_stmt 1 view .LVU1582
 6153 070c 8C48     		ldr	r0, .L373+56
 6154 070e FFF7FEFF 		bl	UsbPrintf
 6155              	.LVL533:
1172:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
 6156              		.loc 1 1172 17 view .LVU1583
 6157 0712 0121     		movs	r1, #1
 6158 0714 0420     		movs	r0, #4
 6159 0716 FFF7FEFF 		bl	rtc_group_power
 6160              	.LVL534:
1173:App/Src/task.c ****                 Aecq100State++;
 6161              		.loc 1 1173 17 view .LVU1584
 6162 071a 0521     		movs	r1, #5
 6163 071c 0420     		movs	r0, #4
 6164 071e FFF7FEFF 		bl	rtc_set_channel
 6165              	.LVL535:
1174:App/Src/task.c ****                 break;
 6166              		.loc 1 1174 17 view .LVU1585
1174:App/Src/task.c ****                 break;
 6167              		.loc 1 1174 29 is_stmt 0 view .LVU1586
 6168 0722 804A     		ldr	r2, .L373+28
 6169 0724 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6170 0726 0133     		adds	r3, r3, #1
 6171 0728 1370     		strb	r3, [r2]
1175:App/Src/task.c ****             }
 6172              		.loc 1 1175 17 is_stmt 1 view .LVU1587
 6173 072a CFE5     		b	.L273
 6174              	.L281:
1179:App/Src/task.c **** 			result = rtc_write_lock_on();
 6175              		.loc 1 1179 13 view .LVU1588
 6176 072c 0123     		movs	r3, #1
 6177 072e 08AA     		add	r2, sp, #32
 6178 0730 7221     		movs	r1, #114
 6179 0732 6420     		movs	r0, #100
 6180 0734 FFF7FEFF 		bl	rtc_read_multi_bytes
 6181              	.LVL536:
1180:App/Src/task.c **** 			if (result !=  I2C_OK) {
 6182              		.loc 1 1180 4 view .LVU1589
1180:App/Src/task.c **** 			if (result !=  I2C_OK) {
 6183              		.loc 1 1180 13 is_stmt 0 view .LVU1590
 6184 0738 FFF7FEFF 		bl	rtc_write_lock_on
 6185              	.LVL537:
1181:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 6186              		.loc 1 1181 4 is_stmt 1 view .LVU1591
1181:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 6187              		.loc 1 1181 7 is_stmt 0 view .LVU1592
 6188 073c 78B1     		cbz	r0, .L327
1182:App/Src/task.c ****                 Aecq100State = 50;
 6189              		.loc 1 1182 5 is_stmt 1 view .LVU1593
 6190 073e 8148     		ldr	r0, .L373+60
 6191              	.LVL538:
1182:App/Src/task.c ****                 Aecq100State = 50;
 6192              		.loc 1 1182 5 is_stmt 0 view .LVU1594
 6193 0740 FFF7FEFF 		bl	UsbPrintf
 6194              	.LVL539:
1183:App/Src/task.c ****                 ControlPrintf("download:通信失败\n");
 6195              		.loc 1 1183 17 is_stmt 1 view .LVU1595
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 158


1183:App/Src/task.c ****                 ControlPrintf("download:通信失败\n");
 6196              		.loc 1 1183 30 is_stmt 0 view .LVU1596
 6197 0744 774B     		ldr	r3, .L373+28
 6198 0746 3222     		movs	r2, #50
 6199 0748 1A70     		strb	r2, [r3]
1184:App/Src/task.c **** 			    HAL_Delay(5);
 6200              		.loc 1 1184 17 is_stmt 1 view .LVU1597
 6201 074a 7F48     		ldr	r0, .L373+64
 6202 074c FFF7FEFF 		bl	ControlPrintf
 6203              	.LVL540:
1185:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 6204              		.loc 1 1185 8 view .LVU1598
 6205 0750 0520     		movs	r0, #5
 6206 0752 FFF7FEFF 		bl	HAL_Delay
 6207              	.LVL541:
1186:App/Src/task.c ****                 break;
 6208              		.loc 1 1186 17 view .LVU1599
 6209 0756 7848     		ldr	r0, .L373+48
 6210 0758 FFF7FEFF 		bl	ControlPrintf
 6211              	.LVL542:
1187:App/Src/task.c **** 			}
 6212              		.loc 1 1187 17 view .LVU1600
 6213 075c B6E5     		b	.L273
 6214              	.LVL543:
 6215              	.L327:
1189:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, buffer, 1);
 6216              		.loc 1 1189 4 view .LVU1601
1189:App/Src/task.c **** 			rtc_write_multi_bytes(RTC_3078_ADDRESS, 0x17, buffer, 1);
 6217              		.loc 1 1189 14 is_stmt 0 view .LVU1602
 6218 075e 1023     		movs	r3, #16
 6219 0760 8DF82030 		strb	r3, [sp, #32]
1190:App/Src/task.c **** 			HAL_Delay(10);
 6220              		.loc 1 1190 4 is_stmt 1 view .LVU1603
 6221 0764 0123     		movs	r3, #1
 6222 0766 08AA     		add	r2, sp, #32
 6223 0768 1721     		movs	r1, #23
 6224 076a 6420     		movs	r0, #100
 6225              	.LVL544:
1190:App/Src/task.c **** 			HAL_Delay(10);
 6226              		.loc 1 1190 4 is_stmt 0 view .LVU1604
 6227 076c FFF7FEFF 		bl	rtc_write_multi_bytes
 6228              	.LVL545:
1191:App/Src/task.c **** 			rtc_read_multi_bytes(RTC_3078_ADDRESS, 0x16, buffer, 1);
 6229              		.loc 1 1191 4 is_stmt 1 view .LVU1605
 6230 0770 0A20     		movs	r0, #10
 6231 0772 FFF7FEFF 		bl	HAL_Delay
 6232              	.LVL546:
1192:App/Src/task.c **** 			temp = buffer[0];
 6233              		.loc 1 1192 4 view .LVU1606
 6234 0776 0123     		movs	r3, #1
 6235 0778 08AA     		add	r2, sp, #32
 6236 077a 1621     		movs	r1, #22
 6237 077c 6420     		movs	r0, #100
 6238 077e FFF7FEFF 		bl	rtc_read_multi_bytes
 6239              	.LVL547:
1193:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", temp, temp_read_value(1));
 6240              		.loc 1 1193 4 view .LVU1607
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 159


1193:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", temp, temp_read_value(1));
 6241              		.loc 1 1193 17 is_stmt 0 view .LVU1608
 6242 0782 9DF82000 		ldrb	r0, [sp, #32]	@ zero_extendqisi2
 6243              	.LVL548:
1194:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
 6244              		.loc 1 1194 4 is_stmt 1 view .LVU1609
 6245 0786 07EE900A 		vmov	s15, r0	@ int
 6246 078a F8EE677A 		vcvt.f32.u32	s15, s15
 6247              	.LVL549:
1194:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
 6248              		.loc 1 1194 4 is_stmt 0 view .LVU1610
 6249 078e 17EE900A 		vmov	r0, s15
 6250 0792 FFF7FEFF 		bl	__aeabi_f2d
 6251              	.LVL550:
1194:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
 6252              		.loc 1 1194 4 view .LVU1611
 6253 0796 0446     		mov	r4, r0
 6254 0798 0D46     		mov	r5, r1
1194:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
 6255              		.loc 1 1194 56 view .LVU1612
 6256 079a 0120     		movs	r0, #1
 6257 079c FFF7FEFF 		bl	temp_read_value
 6258              	.LVL551:
 6259 07a0 10EE100A 		vmov	r0, s0
1194:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", temp);
 6260              		.loc 1 1194 4 view .LVU1613
 6261 07a4 FFF7FEFF 		bl	__aeabi_f2d
 6262              	.LVL552:
 6263 07a8 CDE90001 		strd	r0, [sp]
 6264 07ac 2246     		mov	r2, r4
 6265 07ae 2B46     		mov	r3, r5
 6266 07b0 6648     		ldr	r0, .L373+68
 6267 07b2 FFF7FEFF 		bl	UsbPrintf
 6268              	.LVL553:
1195:App/Src/task.c ****             rtc_out_4096();//开启输出
 6269              		.loc 1 1195 13 is_stmt 1 view .LVU1614
 6270 07b6 2246     		mov	r2, r4
 6271 07b8 2B46     		mov	r3, r5
 6272 07ba 6548     		ldr	r0, .L373+72
 6273 07bc FFF7FEFF 		bl	ControlPrintf
 6274              	.LVL554:
1196:App/Src/task.c **** 			rtc_sda_l();//3078模式下需要解除锁定int
 6275              		.loc 1 1196 13 view .LVU1615
 6276 07c0 FFF7FEFF 		bl	rtc_out_4096
 6277              	.LVL555:
1197:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 6278              		.loc 1 1197 4 view .LVU1616
 6279 07c4 FFF7FEFF 		bl	rtc_sda_l
 6280              	.LVL556:
1198:App/Src/task.c ****             Aecq100State++;
 6281              		.loc 1 1198 13 view .LVU1617
1198:App/Src/task.c ****             Aecq100State++;
 6282              		.loc 1 1198 28 is_stmt 0 view .LVU1618
 6283 07c8 FFF7FEFF 		bl	HAL_GetTick
 6284              	.LVL557:
1198:App/Src/task.c ****             Aecq100State++;
 6285              		.loc 1 1198 26 view .LVU1619
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 160


 6286 07cc 564B     		ldr	r3, .L373+32
 6287 07ce 1860     		str	r0, [r3]
1199:App/Src/task.c ****             break;
 6288              		.loc 1 1199 13 is_stmt 1 view .LVU1620
1199:App/Src/task.c ****             break;
 6289              		.loc 1 1199 25 is_stmt 0 view .LVU1621
 6290 07d0 544A     		ldr	r2, .L373+28
 6291 07d2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6292 07d4 0133     		adds	r3, r3, #1
 6293 07d6 1370     		strb	r3, [r2]
1200:App/Src/task.c ****         case 11:
 6294              		.loc 1 1200 13 is_stmt 1 view .LVU1622
 6295 07d8 78E5     		b	.L273
 6296              	.L280:
1202:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6297              		.loc 1 1202 13 view .LVU1623
1202:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6298              		.loc 1 1202 30 is_stmt 0 view .LVU1624
 6299 07da 534B     		ldr	r3, .L373+32
 6300 07dc 1C68     		ldr	r4, [r3]
 6301 07de 04F59674 		add	r4, r4, #300
1202:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6302              		.loc 1 1202 38 view .LVU1625
 6303 07e2 FFF7FEFF 		bl	HAL_GetTick
 6304              	.LVL558:
1202:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6305              		.loc 1 1202 16 view .LVU1626
 6306 07e6 8442     		cmp	r4, r0
 6307 07e8 BFF470AD 		bcs	.L273
1203:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6308              		.loc 1 1203 17 is_stmt 1 view .LVU1627
1203:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6309              		.loc 1 1203 32 is_stmt 0 view .LVU1628
 6310 07ec FFF7FEFF 		bl	HAL_GetTick
 6311              	.LVL559:
1203:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6312              		.loc 1 1203 30 view .LVU1629
 6313 07f0 4D4B     		ldr	r3, .L373+32
 6314 07f2 1860     		str	r0, [r3]
1204:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
 6315              		.loc 1 1204 17 is_stmt 1 view .LVU1630
1204:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
 6316              		.loc 1 1204 39 is_stmt 0 view .LVU1631
 6317 07f4 574B     		ldr	r3, .L373+76
 6318 07f6 1860     		str	r0, [r3]
1205:App/Src/task.c ****                 Aecq100State++;
 6319              		.loc 1 1205 17 is_stmt 1 view .LVU1632
 6320 07f8 5748     		ldr	r0, .L373+80
 6321 07fa FFF7FEFF 		bl	DevicePrintf
 6322              	.LVL560:
1206:App/Src/task.c ****             }
 6323              		.loc 1 1206 17 view .LVU1633
1206:App/Src/task.c ****             }
 6324              		.loc 1 1206 29 is_stmt 0 view .LVU1634
 6325 07fe 494A     		ldr	r2, .L373+28
 6326 0800 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6327 0802 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 161


 6328 0804 1370     		strb	r3, [r2]
 6329 0806 61E5     		b	.L273
 6330              	.L279:
1210:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 6331              		.loc 1 1210 13 is_stmt 1 view .LVU1635
1210:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 6332              		.loc 1 1210 27 is_stmt 0 view .LVU1636
 6333 0808 524B     		ldr	r3, .L373+76
 6334 080a 1A68     		ldr	r2, [r3]
1210:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 6335              		.loc 1 1210 39 view .LVU1637
 6336 080c 464B     		ldr	r3, .L373+32
 6337 080e 1B68     		ldr	r3, [r3]
1210:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1) * 1000000;
 6338              		.loc 1 1210 16 view .LVU1638
 6339 0810 9A42     		cmp	r2, r3
 6340 0812 1AD8     		bhi	.L366
 6341              	.L328:
1227:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
 6342              		.loc 1 1227 13 is_stmt 1 view .LVU1639
1227:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
 6343              		.loc 1 1227 30 is_stmt 0 view .LVU1640
 6344 0814 444B     		ldr	r3, .L373+32
 6345 0816 1C68     		ldr	r4, [r3]
 6346 0818 04F2DC54 		addw	r4, r4, #1500
1227:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
 6347              		.loc 1 1227 39 view .LVU1641
 6348 081c FFF7FEFF 		bl	HAL_GetTick
 6349              	.LVL561:
1227:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
 6350              		.loc 1 1227 16 view .LVU1642
 6351 0820 8442     		cmp	r4, r0
 6352 0822 BFF453AD 		bcs	.L273
1228:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6353              		.loc 1 1228 17 is_stmt 1 view .LVU1643
 6354 0826 FFF7FEFF 		bl	rtc_disable_int
 6355              	.LVL562:
1229:App/Src/task.c ****                 Aecq100State = 50;
 6356              		.loc 1 1229 17 view .LVU1644
 6357 082a 4C48     		ldr	r0, .L373+84
 6358 082c FFF7FEFF 		bl	UsbPrintf
 6359              	.LVL563:
1230:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6360              		.loc 1 1230 17 view .LVU1645
1230:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6361              		.loc 1 1230 30 is_stmt 0 view .LVU1646
 6362 0830 3C4B     		ldr	r3, .L373+28
 6363 0832 3222     		movs	r2, #50
 6364 0834 1A70     		strb	r2, [r3]
1231:App/Src/task.c **** 			    HAL_Delay(5);
 6365              		.loc 1 1231 17 is_stmt 1 view .LVU1647
 6366 0836 4A48     		ldr	r0, .L373+88
 6367 0838 FFF7FEFF 		bl	ControlPrintf
 6368              	.LVL564:
1232:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 6369              		.loc 1 1232 8 view .LVU1648
 6370 083c 0520     		movs	r0, #5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 162


 6371 083e FFF7FEFF 		bl	HAL_Delay
 6372              	.LVL565:
1233:App/Src/task.c ****             }
 6373              		.loc 1 1233 17 view .LVU1649
 6374 0842 3D48     		ldr	r0, .L373+48
 6375 0844 FFF7FEFF 		bl	ControlPrintf
 6376              	.LVL566:
 6377 0848 40E5     		b	.L273
 6378              	.L366:
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6379              		.loc 1 1211 17 view .LVU1650
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6380              		.loc 1 1211 34 is_stmt 0 view .LVU1651
 6381 084a DFF80881 		ldr	r8, .L373+76
 6382 084e D8F80400 		ldr	r0, [r8, #4]	@ float
 6383 0852 FFF7FEFF 		bl	__aeabi_f2d
 6384              	.LVL567:
 6385 0856 0646     		mov	r6, r0
 6386 0858 0F46     		mov	r7, r1
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6387              		.loc 1 1211 40 view .LVU1652
 6388 085a 0022     		movs	r2, #0
 6389 085c 414B     		ldr	r3, .L373+92
 6390 085e FFF7FEFF 		bl	__aeabi_dmul
 6391              	.LVL568:
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6392              		.loc 1 1211 47 view .LVU1653
 6393 0862 0022     		movs	r2, #0
 6394 0864 404B     		ldr	r3, .L373+96
 6395 0866 FFF7FEFF 		bl	__aeabi_dsub
 6396              	.LVL569:
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6397              		.loc 1 1211 52 view .LVU1654
 6398 086a 27A3     		adr	r3, .L373
 6399 086c D3E90023 		ldrd	r2, [r3]
 6400 0870 FFF7FEFF 		bl	__aeabi_dmul
 6401              	.LVL570:
1211:App/Src/task.c ****                 UsbPrintf(" %fkHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6402              		.loc 1 1211 21 view .LVU1655
 6403 0874 FFF7FEFF 		bl	__aeabi_d2f
 6404              	.LVL571:
 6405 0878 08EE100A 		vmov	s16, r0
 6406              	.LVL572:
1212:App/Src/task.c ****                 ControlPrintf("freq:%fkHz\n", g_lastFreq.freq);
 6407              		.loc 1 1212 17 is_stmt 1 view .LVU1656
 6408 087c FFF7FEFF 		bl	__aeabi_f2d
 6409              	.LVL573:
1212:App/Src/task.c ****                 ControlPrintf("freq:%fkHz\n", g_lastFreq.freq);
 6410              		.loc 1 1212 17 is_stmt 0 view .LVU1657
 6411 0880 0446     		mov	r4, r0
 6412 0882 0D46     		mov	r5, r1
 6413 0884 CDE90045 		strd	r4, [sp]
 6414 0888 3246     		mov	r2, r6
 6415 088a 3B46     		mov	r3, r7
 6416 088c 3748     		ldr	r0, .L373+100
 6417 088e FFF7FEFF 		bl	UsbPrintf
 6418              	.LVL574:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 163


1213:App/Src/task.c **** 			    HAL_Delay(5);
 6419              		.loc 1 1213 17 is_stmt 1 view .LVU1658
 6420 0892 D8F80400 		ldr	r0, [r8, #4]	@ float
 6421 0896 FFF7FEFF 		bl	__aeabi_f2d
 6422              	.LVL575:
 6423 089a 0246     		mov	r2, r0
 6424 089c 0B46     		mov	r3, r1
 6425 089e 3448     		ldr	r0, .L373+104
 6426 08a0 FFF7FEFF 		bl	ControlPrintf
 6427              	.LVL576:
1214:App/Src/task.c ****                 ControlPrintf("ppm:%.2fppm\n", ppm);
 6428              		.loc 1 1214 8 view .LVU1659
 6429 08a4 0520     		movs	r0, #5
 6430 08a6 FFF7FEFF 		bl	HAL_Delay
 6431              	.LVL577:
1215:App/Src/task.c ****                 rtc_disable_int();//关闭int输出
 6432              		.loc 1 1215 17 view .LVU1660
 6433 08aa 2246     		mov	r2, r4
 6434 08ac 2B46     		mov	r3, r5
 6435 08ae 3148     		ldr	r0, .L373+108
 6436 08b0 FFF7FEFF 		bl	ControlPrintf
 6437              	.LVL578:
1216:App/Src/task.c ****                 if (ppm > 3 || ppm < -3) {
 6438              		.loc 1 1216 17 view .LVU1661
 6439 08b4 FFF7FEFF 		bl	rtc_disable_int
 6440              	.LVL579:
1217:App/Src/task.c ****                     HAL_Delay(5);
 6441              		.loc 1 1217 17 view .LVU1662
1217:App/Src/task.c ****                     HAL_Delay(5);
 6442              		.loc 1 1217 20 is_stmt 0 view .LVU1663
 6443 08b8 F0EE087A 		vmov.f32	s15, #3.0e+0
 6444 08bc B4EEE78A 		vcmpe.f32	s16, s15
 6445 08c0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6446 08c4 06DC     		bgt	.L329
1217:App/Src/task.c ****                     HAL_Delay(5);
 6447              		.loc 1 1217 29 discriminator 1 view .LVU1664
 6448 08c6 F8EE087A 		vmov.f32	s15, #-3.0e+0
 6449 08ca B4EEE78A 		vcmpe.f32	s16, s15
 6450 08ce F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6451 08d2 09D5     		bpl	.L358
 6452              	.L329:
1218:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 6453              		.loc 1 1218 21 is_stmt 1 view .LVU1665
 6454 08d4 0520     		movs	r0, #5
 6455 08d6 FFF7FEFF 		bl	HAL_Delay
 6456              	.LVL580:
1219:App/Src/task.c ****                     Aecq100State = 50;
 6457              		.loc 1 1219 21 view .LVU1666
 6458 08da 1748     		ldr	r0, .L373+48
 6459 08dc FFF7FEFF 		bl	ControlPrintf
 6460              	.LVL581:
1220:App/Src/task.c ****                 } else {
 6461              		.loc 1 1220 21 view .LVU1667
1220:App/Src/task.c ****                 } else {
 6462              		.loc 1 1220 34 is_stmt 0 view .LVU1668
 6463 08e0 104B     		ldr	r3, .L373+28
 6464 08e2 3222     		movs	r2, #50
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 164


 6465 08e4 1A70     		strb	r2, [r3]
 6466 08e6 95E7     		b	.L328
 6467              	.L358:
1222:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6468              		.loc 1 1222 12 is_stmt 1 view .LVU1669
 6469 08e8 0221     		movs	r1, #2
 6470 08ea 0420     		movs	r0, #4
 6471 08ec FFF7FEFF 		bl	rtc_group_power
 6472              	.LVL582:
1223:App/Src/task.c ****                     Aecq100State++;
 6473              		.loc 1 1223 21 view .LVU1670
1223:App/Src/task.c ****                     Aecq100State++;
 6474              		.loc 1 1223 36 is_stmt 0 view .LVU1671
 6475 08f0 FFF7FEFF 		bl	HAL_GetTick
 6476              	.LVL583:
1223:App/Src/task.c ****                     Aecq100State++;
 6477              		.loc 1 1223 34 view .LVU1672
 6478 08f4 0C4B     		ldr	r3, .L373+32
 6479 08f6 1860     		str	r0, [r3]
1224:App/Src/task.c ****                 }
 6480              		.loc 1 1224 21 is_stmt 1 view .LVU1673
1224:App/Src/task.c ****                 }
 6481              		.loc 1 1224 33 is_stmt 0 view .LVU1674
 6482 08f8 0A4A     		ldr	r2, .L373+28
 6483 08fa 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6484 08fc 0133     		adds	r3, r3, #1
 6485 08fe 1370     		strb	r3, [r2]
 6486 0900 88E7     		b	.L328
 6487              	.L374:
 6488 0902 00BFAFF3 		.align	3
 6488      0080
 6489              	.L373:
 6490 0908 00000000 		.word	0
 6491 090c 80842E41 		.word	1093567616
 6492 0910 00000000 		.word	.LANCHOR35
 6493 0914 00000000 		.word	.LANCHOR34
 6494 0918 00000000 		.word	.LANCHOR36
 6495 091c 84010000 		.word	.LC60
 6496 0920 A0010000 		.word	.LC61
 6497 0924 00000000 		.word	.LANCHOR32
 6498 0928 00000000 		.word	.LANCHOR33
 6499 092c B4010000 		.word	.LC62
 6500 0930 C8010000 		.word	.LC63
 6501 0934 DC010000 		.word	.LC64
 6502 0938 E4000000 		.word	.LC53
 6503 093c F4010000 		.word	.LC65
 6504 0940 08020000 		.word	.LC66
 6505 0944 10020000 		.word	.LC67
 6506 0948 1C020000 		.word	.LC68
 6507 094c 30020000 		.word	.LC69
 6508 0950 50020000 		.word	.LC70
 6509 0954 00000000 		.word	.LANCHOR7
 6510 0958 50000000 		.word	.LC5
 6511 095c 70000000 		.word	.LC15
 6512 0960 90020000 		.word	.LC74
 6513 0964 0000903F 		.word	1066401792
 6514 0968 0000F03F 		.word	1072693248
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 165


 6515 096c 60020000 		.word	.LC71
 6516 0970 74020000 		.word	.LC72
 6517 0974 80020000 		.word	.LC73
 6518              	.LVL584:
 6519              	.L278:
1237:App/Src/task.c ****                 current = CS1237Current();
 6520              		.loc 1 1237 13 is_stmt 1 view .LVU1675
1237:App/Src/task.c ****                 current = CS1237Current();
 6521              		.loc 1 1237 30 is_stmt 0 view .LVU1676
 6522 0978 634B     		ldr	r3, .L375+8
 6523 097a 1C68     		ldr	r4, [r3]
 6524 097c 04F5FA74 		add	r4, r4, #500
1237:App/Src/task.c ****                 current = CS1237Current();
 6525              		.loc 1 1237 38 view .LVU1677
 6526 0980 FFF7FEFF 		bl	HAL_GetTick
 6527              	.LVL585:
1237:App/Src/task.c ****                 current = CS1237Current();
 6528              		.loc 1 1237 16 view .LVU1678
 6529 0984 8442     		cmp	r4, r0
 6530 0986 BFF4A1AC 		bcs	.L273
1238:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
 6531              		.loc 1 1238 17 is_stmt 1 view .LVU1679
1238:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
 6532              		.loc 1 1238 27 is_stmt 0 view .LVU1680
 6533 098a FFF7FEFF 		bl	CS1237Current
 6534              	.LVL586:
 6535 098e B0EE408A 		vmov.f32	s16, s0
 6536              	.LVL587:
1239:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6537              		.loc 1 1239 17 is_stmt 1 view .LVU1681
 6538 0992 10EE100A 		vmov	r0, s0
 6539 0996 FFF7FEFF 		bl	__aeabi_f2d
 6540              	.LVL588:
1239:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6541              		.loc 1 1239 17 is_stmt 0 view .LVU1682
 6542 099a 0446     		mov	r4, r0
 6543 099c 0D46     		mov	r5, r1
 6544 099e 0246     		mov	r2, r0
 6545 09a0 0B46     		mov	r3, r1
 6546 09a2 5A48     		ldr	r0, .L375+12
 6547 09a4 FFF7FEFF 		bl	UsbPrintf
 6548              	.LVL589:
1240:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6549              		.loc 1 1240 17 is_stmt 1 view .LVU1683
1240:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6550              		.loc 1 1240 20 is_stmt 0 view .LVU1684
 6551 09a8 DFED597A 		vldr.32	s15, .L375+16
 6552 09ac B4EEE78A 		vcmpe.f32	s16, s15
 6553 09b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6554 09b4 06DD     		ble	.L332
1240:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6555              		.loc 1 1240 35 discriminator 1 view .LVU1685
 6556 09b6 DFED577A 		vldr.32	s15, .L375+20
 6557 09ba B4EEE78A 		vcmpe.f32	s16, s15
 6558 09be F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6559 09c2 08D4     		bmi	.L367
 6560              	.L332:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 166


1249:App/Src/task.c ****                     Aecq100State ++;
 6561              		.loc 1 1249 21 is_stmt 1 view .LVU1686
1249:App/Src/task.c ****                     Aecq100State ++;
 6562              		.loc 1 1249 36 is_stmt 0 view .LVU1687
 6563 09c4 FFF7FEFF 		bl	HAL_GetTick
 6564              	.LVL590:
1249:App/Src/task.c ****                     Aecq100State ++;
 6565              		.loc 1 1249 34 view .LVU1688
 6566 09c8 4F4B     		ldr	r3, .L375+8
 6567 09ca 1860     		str	r0, [r3]
1250:App/Src/task.c ****                 }
 6568              		.loc 1 1250 21 is_stmt 1 view .LVU1689
1250:App/Src/task.c ****                 }
 6569              		.loc 1 1250 34 is_stmt 0 view .LVU1690
 6570 09cc 524A     		ldr	r2, .L375+24
 6571 09ce 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6572 09d0 0133     		adds	r3, r3, #1
 6573 09d2 1370     		strb	r3, [r2]
 6574 09d4 7AE4     		b	.L273
 6575              	.L367:
1241:App/Src/task.c ****                     ControlPrintf("Ibat:%.2fuA\n", current * 0.001);
 6576              		.loc 1 1241 21 is_stmt 1 view .LVU1691
 6577 09d6 5148     		ldr	r0, .L375+28
 6578 09d8 FFF7FEFF 		bl	UsbPrintf
 6579              	.LVL591:
1242:App/Src/task.c **** 			        HAL_Delay(5);
 6580              		.loc 1 1242 21 view .LVU1692
 6581 09dc 48A3     		adr	r3, .L375
 6582 09de D3E90023 		ldrd	r2, [r3]
 6583 09e2 2046     		mov	r0, r4
 6584 09e4 2946     		mov	r1, r5
 6585 09e6 FFF7FEFF 		bl	__aeabi_dmul
 6586              	.LVL592:
 6587 09ea 0246     		mov	r2, r0
 6588 09ec 0B46     		mov	r3, r1
 6589 09ee 4C48     		ldr	r0, .L375+32
 6590 09f0 FFF7FEFF 		bl	ControlPrintf
 6591              	.LVL593:
1243:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
 6592              		.loc 1 1243 12 view .LVU1693
 6593 09f4 0520     		movs	r0, #5
 6594 09f6 FFF7FEFF 		bl	HAL_Delay
 6595              	.LVL594:
1244:App/Src/task.c ****                     rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6596              		.loc 1 1244 21 view .LVU1694
 6597 09fa 4A48     		ldr	r0, .L375+36
 6598 09fc FFF7FEFF 		bl	ControlPrintf
 6599              	.LVL595:
1245:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
 6600              		.loc 1 1245 21 view .LVU1695
 6601 0a00 0121     		movs	r1, #1
 6602 0a02 0420     		movs	r0, #4
 6603 0a04 FFF7FEFF 		bl	rtc_group_power
 6604              	.LVL596:
1246:App/Src/task.c ****                     Aecq100State = 50;
 6605              		.loc 1 1246 17 view .LVU1696
 6606 0a08 0521     		movs	r1, #5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 167


 6607 0a0a 0420     		movs	r0, #4
 6608 0a0c FFF7FEFF 		bl	rtc_set_channel
 6609              	.LVL597:
1247:App/Src/task.c ****                 } else {
 6610              		.loc 1 1247 21 view .LVU1697
1247:App/Src/task.c ****                 } else {
 6611              		.loc 1 1247 34 is_stmt 0 view .LVU1698
 6612 0a10 414B     		ldr	r3, .L375+24
 6613 0a12 3222     		movs	r2, #50
 6614 0a14 1A70     		strb	r2, [r3]
 6615 0a16 59E4     		b	.L273
 6616              	.LVL598:
 6617              	.L277:
1255:App/Src/task.c ****                 current = CS1237Current();
 6618              		.loc 1 1255 13 is_stmt 1 view .LVU1699
1255:App/Src/task.c ****                 current = CS1237Current();
 6619              		.loc 1 1255 30 is_stmt 0 view .LVU1700
 6620 0a18 3B4B     		ldr	r3, .L375+8
 6621 0a1a 1C68     		ldr	r4, [r3]
 6622 0a1c 04F5FA74 		add	r4, r4, #500
1255:App/Src/task.c ****                 current = CS1237Current();
 6623              		.loc 1 1255 38 view .LVU1701
 6624 0a20 FFF7FEFF 		bl	HAL_GetTick
 6625              	.LVL599:
1255:App/Src/task.c ****                 current = CS1237Current();
 6626              		.loc 1 1255 16 view .LVU1702
 6627 0a24 8442     		cmp	r4, r0
 6628 0a26 BFF451AC 		bcs	.L273
1256:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
 6629              		.loc 1 1256 17 is_stmt 1 view .LVU1703
1256:App/Src/task.c ****                 UsbPrintf("rtc bat current = %.1f nA\n", current);
 6630              		.loc 1 1256 27 is_stmt 0 view .LVU1704
 6631 0a2a FFF7FEFF 		bl	CS1237Current
 6632              	.LVL600:
 6633 0a2e B0EE408A 		vmov.f32	s16, s0
 6634              	.LVL601:
1257:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6635              		.loc 1 1257 17 is_stmt 1 view .LVU1705
 6636 0a32 10EE100A 		vmov	r0, s0
 6637 0a36 FFF7FEFF 		bl	__aeabi_f2d
 6638              	.LVL602:
1257:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6639              		.loc 1 1257 17 is_stmt 0 view .LVU1706
 6640 0a3a 0446     		mov	r4, r0
 6641 0a3c 0D46     		mov	r5, r1
 6642 0a3e 0246     		mov	r2, r0
 6643 0a40 0B46     		mov	r3, r1
 6644 0a42 3248     		ldr	r0, .L375+12
 6645 0a44 FFF7FEFF 		bl	UsbPrintf
 6646              	.LVL603:
1258:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6647              		.loc 1 1258 17 is_stmt 1 view .LVU1707
1258:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6648              		.loc 1 1258 20 is_stmt 0 view .LVU1708
 6649 0a48 DFED317A 		vldr.32	s15, .L375+16
 6650 0a4c B4EEE78A 		vcmpe.f32	s16, s15
 6651 0a50 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 168


 6652 0a54 06DD     		ble	.L335
1258:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6653              		.loc 1 1258 35 discriminator 1 view .LVU1709
 6654 0a56 DFED2F7A 		vldr.32	s15, .L375+20
 6655 0a5a B4EEE78A 		vcmpe.f32	s16, s15
 6656 0a5e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6657 0a62 18D4     		bmi	.L368
 6658              	.L335:
1264:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 6659              		.loc 1 1264 21 is_stmt 1 view .LVU1710
 6660 0a64 3048     		ldr	r0, .L375+40
 6661 0a66 FFF7FEFF 		bl	UsbPrintf
 6662              	.LVL604:
1265:App/Src/task.c ****                 }
 6663              		.loc 1 1265 21 view .LVU1711
 6664 0a6a 3048     		ldr	r0, .L375+44
 6665 0a6c FFF7FEFF 		bl	ControlPrintf
 6666              	.LVL605:
 6667              	.L338:
1267:App/Src/task.c **** 			    HAL_Delay(5);
 6668              		.loc 1 1267 17 view .LVU1712
1267:App/Src/task.c **** 			    HAL_Delay(5);
 6669              		.loc 1 1267 30 is_stmt 0 view .LVU1713
 6670 0a70 294B     		ldr	r3, .L375+24
 6671 0a72 3222     		movs	r2, #50
 6672 0a74 1A70     		strb	r2, [r3]
1268:App/Src/task.c ****                 ControlPrintf("Ibat:%.2fuA\n", current * 0.001);
 6673              		.loc 1 1268 8 is_stmt 1 view .LVU1714
 6674 0a76 0520     		movs	r0, #5
 6675 0a78 FFF7FEFF 		bl	HAL_Delay
 6676              	.LVL606:
1269:App/Src/task.c ****             }
 6677              		.loc 1 1269 17 view .LVU1715
 6678 0a7c 20A3     		adr	r3, .L375
 6679 0a7e D3E90023 		ldrd	r2, [r3]
 6680 0a82 2046     		mov	r0, r4
 6681 0a84 2946     		mov	r1, r5
 6682 0a86 FFF7FEFF 		bl	__aeabi_dmul
 6683              	.LVL607:
 6684 0a8a 0246     		mov	r2, r0
 6685 0a8c 0B46     		mov	r3, r1
 6686 0a8e 2448     		ldr	r0, .L375+32
 6687 0a90 FFF7FEFF 		bl	ControlPrintf
 6688              	.LVL608:
 6689 0a94 1AE4     		b	.L273
 6690              	.L368:
1259:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
 6691              		.loc 1 1259 21 view .LVU1716
 6692 0a96 2148     		ldr	r0, .L375+28
 6693 0a98 FFF7FEFF 		bl	UsbPrintf
 6694              	.LVL609:
1260:App/Src/task.c ****                     rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6695              		.loc 1 1260 21 view .LVU1717
 6696 0a9c 2148     		ldr	r0, .L375+36
 6697 0a9e FFF7FEFF 		bl	ControlPrintf
 6698              	.LVL610:
1261:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD3078B);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 169


 6699              		.loc 1 1261 21 view .LVU1718
 6700 0aa2 0121     		movs	r1, #1
 6701 0aa4 0420     		movs	r0, #4
 6702 0aa6 FFF7FEFF 		bl	rtc_group_power
 6703              	.LVL611:
1262:App/Src/task.c ****                 } else {
 6704              		.loc 1 1262 17 view .LVU1719
 6705 0aaa 0521     		movs	r1, #5
 6706 0aac 0420     		movs	r0, #4
 6707 0aae FFF7FEFF 		bl	rtc_set_channel
 6708              	.LVL612:
 6709 0ab2 DDE7     		b	.L338
 6710              	.LVL613:
 6711              	.L275:
1273:App/Src/task.c ****                 Aecq100State = 0;
 6712              		.loc 1 1273 13 view .LVU1720
1273:App/Src/task.c ****                 Aecq100State = 0;
 6713              		.loc 1 1273 17 is_stmt 0 view .LVU1721
 6714 0ab4 0123     		movs	r3, #1
 6715 0ab6 08AA     		add	r2, sp, #32
 6716 0ab8 0021     		movs	r1, #0
 6717 0aba 6420     		movs	r0, #100
 6718 0abc FFF7FEFF 		bl	rtc_read_multi_bytes
 6719              	.LVL614:
1273:App/Src/task.c ****                 Aecq100State = 0;
 6720              		.loc 1 1273 16 view .LVU1722
 6721 0ac0 10B1     		cbz	r0, .L339
1274:App/Src/task.c ****             }
 6722              		.loc 1 1274 17 is_stmt 1 view .LVU1723
1274:App/Src/task.c ****             }
 6723              		.loc 1 1274 30 is_stmt 0 view .LVU1724
 6724 0ac2 154B     		ldr	r3, .L375+24
 6725 0ac4 0022     		movs	r2, #0
 6726 0ac6 1A70     		strb	r2, [r3]
 6727              	.L339:
1276:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6728              		.loc 1 1276 13 is_stmt 1 view .LVU1725
1276:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6729              		.loc 1 1276 17 is_stmt 0 view .LVU1726
 6730 0ac8 FFF7FEFF 		bl	HAL_GetTick
 6731              	.LVL615:
1276:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6732              		.loc 1 1276 46 view .LVU1727
 6733 0acc 0E4B     		ldr	r3, .L375+8
 6734 0ace 1B68     		ldr	r3, [r3]
 6735 0ad0 03F57A73 		add	r3, r3, #1000
1276:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6736              		.loc 1 1276 16 view .LVU1728
 6737 0ad4 9842     		cmp	r0, r3
 6738 0ad6 7FF6F9AB 		bls	.L273
1277:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 6739              		.loc 1 1277 17 is_stmt 1 view .LVU1729
1277:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 6740              		.loc 1 1277 32 is_stmt 0 view .LVU1730
 6741 0ada FFF7FEFF 		bl	HAL_GetTick
 6742              	.LVL616:
1277:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 170


 6743              		.loc 1 1277 30 view .LVU1731
 6744 0ade 0A4B     		ldr	r3, .L375+8
 6745 0ae0 1860     		str	r0, [r3]
1278:App/Src/task.c ****             }
 6746              		.loc 1 1278 17 is_stmt 1 view .LVU1732
1278:App/Src/task.c ****             }
 6747              		.loc 1 1278 52 is_stmt 0 view .LVU1733
 6748 0ae2 0120     		movs	r0, #1
 6749 0ae4 FFF7FEFF 		bl	temp_read_value
 6750              	.LVL617:
 6751 0ae8 10EE100A 		vmov	r0, s0
1278:App/Src/task.c ****             }
 6752              		.loc 1 1278 17 view .LVU1734
 6753 0aec FFF7FEFF 		bl	__aeabi_f2d
 6754              	.LVL618:
 6755 0af0 0246     		mov	r2, r0
 6756 0af2 0B46     		mov	r3, r1
 6757 0af4 0E48     		ldr	r0, .L375+48
 6758 0af6 FFF7FEFF 		bl	ControlPrintf
 6759              	.LVL619:
 6760              		.loc 1 1283 1 view .LVU1735
 6761 0afa FFF7E7BB 		b	.L273
 6762              	.L376:
 6763 0afe 00BF     		.align	3
 6764              	.L375:
 6765 0b00 FCA9F1D2 		.word	-755914244
 6766 0b04 4D62503F 		.word	1062232653
 6767 0b08 00000000 		.word	.LANCHOR33
 6768 0b0c A4020000 		.word	.LC75
 6769 0b10 00009643 		.word	1133903872
 6770 0b14 00007A44 		.word	1148846080
 6771 0b18 00000000 		.word	.LANCHOR32
 6772 0b1c C0020000 		.word	.LC76
 6773 0b20 CC020000 		.word	.LC77
 6774 0b24 DC020000 		.word	.LC78
 6775 0b28 EC020000 		.word	.LC79
 6776 0b2c E4000000 		.word	.LC53
 6777 0b30 74000000 		.word	.LC48
 6778              		.cfi_endproc
 6779              	.LFE248:
 6781              		.section	.rodata.system_manage.str1.4,"aMS",%progbits,1
 6782              		.align	2
 6783              	.LC80:
 6784 0000 73797374 		.ascii	"system temp:%.1f connect OK\012\000"
 6784      656D2074 
 6784      656D703A 
 6784      252E3166 
 6784      20636F6E 
 6785              		.section	.text.system_manage,"ax",%progbits
 6786              		.align	1
 6787              		.global	system_manage
 6788              		.syntax unified
 6789              		.thumb
 6790              		.thumb_func
 6792              	system_manage:
 6793              	.LFB238:
  84:App/Src/task.c ****     static uint32_t systemTick = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 171


 6794              		.loc 1 84 1 is_stmt 1 view -0
 6795              		.cfi_startproc
 6796              		@ args = 0, pretend = 0, frame = 0
 6797              		@ frame_needed = 0, uses_anonymous_args = 0
 6798 0000 08B5     		push	{r3, lr}
 6799              	.LCFI48:
 6800              		.cfi_def_cfa_offset 8
 6801              		.cfi_offset 3, -8
 6802              		.cfi_offset 14, -4
  85:App/Src/task.c **** 
 6803              		.loc 1 85 5 view .LVU1737
  87:App/Src/task.c ****     if (systemTick % 100 == 0) {
 6804              		.loc 1 87 5 view .LVU1738
  87:App/Src/task.c ****     if (systemTick % 100 == 0) {
 6805              		.loc 1 87 15 is_stmt 0 view .LVU1739
 6806 0002 284B     		ldr	r3, .L389
 6807 0004 1A68     		ldr	r2, [r3]
 6808 0006 0132     		adds	r2, r2, #1
 6809 0008 1A60     		str	r2, [r3]
  88:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6810              		.loc 1 88 5 is_stmt 1 view .LVU1740
  88:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6811              		.loc 1 88 20 is_stmt 0 view .LVU1741
 6812 000a 274B     		ldr	r3, .L389+4
 6813 000c A3FB0213 		umull	r1, r3, r3, r2
 6814 0010 5B09     		lsrs	r3, r3, #5
 6815 0012 6421     		movs	r1, #100
 6816 0014 01FB1323 		mls	r3, r1, r3, r2
  88:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6817              		.loc 1 88 8 view .LVU1742
 6818 0018 53B3     		cbz	r3, .L384
 6819              	.L378:
  91:App/Src/task.c ****         system_manage_test_mode();
 6820              		.loc 1 91 5 is_stmt 1 view .LVU1743
  91:App/Src/task.c ****         system_manage_test_mode();
 6821              		.loc 1 91 20 is_stmt 0 view .LVU1744
 6822 001a 224B     		ldr	r3, .L389
 6823 001c 1A68     		ldr	r2, [r3]
 6824 001e 234B     		ldr	r3, .L389+8
 6825 0020 A3FB0213 		umull	r1, r3, r3, r2
 6826 0024 1B09     		lsrs	r3, r3, #4
 6827 0026 03EB8303 		add	r3, r3, r3, lsl #2
  91:App/Src/task.c ****         system_manage_test_mode();
 6828              		.loc 1 91 8 view .LVU1745
 6829 002a B2EB830F 		cmp	r2, r3, lsl #2
 6830 002e 23D0     		beq	.L385
 6831              	.L379:
  94:App/Src/task.c ****         system_time_update();
 6832              		.loc 1 94 5 is_stmt 1 view .LVU1746
  94:App/Src/task.c ****         system_time_update();
 6833              		.loc 1 94 20 is_stmt 0 view .LVU1747
 6834 0030 1C4B     		ldr	r3, .L389
 6835 0032 1A68     		ldr	r2, [r3]
 6836 0034 1C4B     		ldr	r3, .L389+4
 6837 0036 A3FB0213 		umull	r1, r3, r3, r2
 6838 003a 9B09     		lsrs	r3, r3, #6
 6839 003c C821     		movs	r1, #200
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 172


 6840 003e 01FB1323 		mls	r3, r1, r3, r2
  94:App/Src/task.c ****         system_time_update();
 6841              		.loc 1 94 8 view .LVU1748
 6842 0042 E3B1     		cbz	r3, .L386
 6843              	.L380:
  97:App/Src/task.c ****         Aecq100Sample();
 6844              		.loc 1 97 5 is_stmt 1 view .LVU1749
  97:App/Src/task.c ****         Aecq100Sample();
 6845              		.loc 1 97 20 is_stmt 0 view .LVU1750
 6846 0044 174B     		ldr	r3, .L389
 6847 0046 1A68     		ldr	r2, [r3]
 6848 0048 174B     		ldr	r3, .L389+4
 6849 004a A3FB0213 		umull	r1, r3, r3, r2
 6850 004e 1B09     		lsrs	r3, r3, #4
 6851 0050 3221     		movs	r1, #50
 6852 0052 01FB1323 		mls	r3, r1, r3, r2
  97:App/Src/task.c ****         Aecq100Sample();
 6853              		.loc 1 97 8 view .LVU1751
 6854 0056 ABB1     		cbz	r3, .L387
 6855              	.L381:
 100:App/Src/task.c ****         ControlPrintf("system temp:%.1f connect OK\n", temp_read_value(1));
 6856              		.loc 1 100 5 is_stmt 1 view .LVU1752
 100:App/Src/task.c ****         ControlPrintf("system temp:%.1f connect OK\n", temp_read_value(1));
 6857              		.loc 1 100 20 is_stmt 0 view .LVU1753
 6858 0058 124B     		ldr	r3, .L389
 6859 005a 1A68     		ldr	r2, [r3]
 6860 005c 144B     		ldr	r3, .L389+12
 6861 005e A3FB0213 		umull	r1, r3, r3, r2
 6862 0062 1B0A     		lsrs	r3, r3, #8
 6863 0064 4FF47A61 		mov	r1, #4000
 6864 0068 01FB1323 		mls	r3, r1, r3, r2
 100:App/Src/task.c ****         ControlPrintf("system temp:%.1f connect OK\n", temp_read_value(1));
 6865              		.loc 1 100 8 view .LVU1754
 6866 006c 6BB1     		cbz	r3, .L388
 6867              	.L377:
 103:App/Src/task.c **** 
 6868              		.loc 1 103 1 view .LVU1755
 6869 006e 08BD     		pop	{r3, pc}
 6870              	.L384:
  89:App/Src/task.c ****     }
 6871              		.loc 1 89 9 is_stmt 1 view .LVU1756
 6872 0070 0020     		movs	r0, #0
 6873 0072 FFF7FEFF 		bl	rtc_freq_test
 6874              	.LVL620:
 6875 0076 D0E7     		b	.L378
 6876              	.L385:
  92:App/Src/task.c ****     }
 6877              		.loc 1 92 9 view .LVU1757
 6878 0078 FFF7FEFF 		bl	system_manage_test_mode
 6879              	.LVL621:
 6880 007c D8E7     		b	.L379
 6881              	.L386:
  95:App/Src/task.c ****     }
 6882              		.loc 1 95 9 view .LVU1758
 6883 007e FFF7FEFF 		bl	system_time_update
 6884              	.LVL622:
 6885 0082 DFE7     		b	.L380
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 173


 6886              	.L387:
  98:App/Src/task.c ****     }
 6887              		.loc 1 98 9 view .LVU1759
 6888 0084 FFF7FEFF 		bl	Aecq100Sample
 6889              	.LVL623:
 6890 0088 E6E7     		b	.L381
 6891              	.L388:
 101:App/Src/task.c ****     }
 6892              		.loc 1 101 9 view .LVU1760
 101:App/Src/task.c ****     }
 6893              		.loc 1 101 56 is_stmt 0 view .LVU1761
 6894 008a 0120     		movs	r0, #1
 6895 008c FFF7FEFF 		bl	temp_read_value
 6896              	.LVL624:
 6897 0090 10EE100A 		vmov	r0, s0
 101:App/Src/task.c ****     }
 6898              		.loc 1 101 9 view .LVU1762
 6899 0094 FFF7FEFF 		bl	__aeabi_f2d
 6900              	.LVL625:
 6901 0098 0246     		mov	r2, r0
 6902 009a 0B46     		mov	r3, r1
 6903 009c 0548     		ldr	r0, .L389+16
 6904 009e FFF7FEFF 		bl	ControlPrintf
 6905              	.LVL626:
 103:App/Src/task.c **** 
 6906              		.loc 1 103 1 view .LVU1763
 6907 00a2 E4E7     		b	.L377
 6908              	.L390:
 6909              		.align	2
 6910              	.L389:
 6911 00a4 00000000 		.word	.LANCHOR41
 6912 00a8 1F85EB51 		.word	1374389535
 6913 00ac CDCCCCCC 		.word	-858993459
 6914 00b0 D34D6210 		.word	274877907
 6915 00b4 00000000 		.word	.LC80
 6916              		.cfi_endproc
 6917              	.LFE238:
 6919              		.global	Aecq100State
 6920              		.global	g_intEnd
 6921              		.global	g_intStart
 6922              		.global	g_intState
 6923              		.global	g_machineTest
 6924              		.global	g_lastFreq
 6925              		.global	g_realTime
 6926              		.section	.rodata
 6927              		.align	2
 6928              		.set	.LANCHOR31,. + 0
 6929              	.LC0:
 6930 0000 63686970 		.ascii	"chip:\000"
 6930      3A00
 6931 0006 00000000 		.space	14
 6931      00000000 
 6931      00000000 
 6931      0000
 6932 0014 646F776E 		.ascii	"download:\000"
 6932      6C6F6164 
 6932      3A00
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 174


 6933 001e 00000000 		.space	10
 6933      00000000 
 6933      0000
 6934 0028 73797374 		.ascii	"systemTemp:\000"
 6934      656D5465 
 6934      6D703A00 
 6935 0034 00000000 		.space	8
 6935      00000000 
 6936 003c 63686970 		.ascii	"chipTemp:\000"
 6936      54656D70 
 6936      3A00
 6937 0046 00000000 		.space	10
 6937      00000000 
 6937      0000
 6938 0050 66726571 		.ascii	"freq:\000"
 6938      3A00
 6939 0056 00000000 		.space	14
 6939      00000000 
 6939      00000000 
 6939      0000
 6940 0064 70706D3A 		.ascii	"ppm:\000"
 6940      00
 6941 0069 00000000 		.space	15
 6941      00000000 
 6941      00000000 
 6941      000000
 6942 0078 69643A00 		.ascii	"id:\000"
 6943 007c 00000000 		.space	16
 6943      00000000 
 6943      00000000 
 6943      00000000 
 6944 008c 49766464 		.ascii	"Ivdd:\000"
 6944      3A00
 6945 0092 00000000 		.space	14
 6945      00000000 
 6945      00000000 
 6945      0000
 6946 00a0 56626174 		.ascii	"Vbat:\000"
 6946      3A00
 6947 00a6 00000000 		.space	14
 6947      00000000 
 6947      00000000 
 6947      0000
 6948 00b4 49626174 		.ascii	"Ibat:\000"
 6948      3A00
 6949 00ba 00000000 		.space	14
 6949      00000000 
 6949      00000000 
 6949      0000
 6950 00c8 72657375 		.ascii	"result:\000"
 6950      6C743A00 
 6951 00d0 00000000 		.space	12
 6951      00000000 
 6951      00000000 
 6952              		.section	.bss.Aecq100State,"aw",%nobits
 6953              		.set	.LANCHOR32,. + 0
 6956              	Aecq100State:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 175


 6957 0000 00       		.space	1
 6958              		.section	.bss.adjustCount.1,"aw",%nobits
 6959              		.set	.LANCHOR39,. + 0
 6962              	adjustCount.1:
 6963 0000 00       		.space	1
 6964              		.section	.bss.adjustCount.25,"aw",%nobits
 6965              		.set	.LANCHOR12,. + 0
 6968              	adjustCount.25:
 6969 0000 00       		.space	1
 6970              		.section	.bss.config.5,"aw",%nobits
 6971              		.align	1
 6972              		.set	.LANCHOR35,. + 0
 6975              	config.5:
 6976 0000 0000     		.space	2
 6977              		.section	.bss.g_intEnd,"aw",%nobits
 6978              		.set	.LANCHOR5,. + 0
 6981              	g_intEnd:
 6982 0000 00       		.space	1
 6983              		.section	.bss.g_intStart,"aw",%nobits
 6984              		.set	.LANCHOR4,. + 0
 6987              	g_intStart:
 6988 0000 00       		.space	1
 6989              		.section	.bss.g_intState,"aw",%nobits
 6990              		.set	.LANCHOR8,. + 0
 6993              	g_intState:
 6994 0000 00       		.space	1
 6995              		.section	.bss.g_lastFreq,"aw",%nobits
 6996              		.align	2
 6997              		.set	.LANCHOR7,. + 0
 7000              	g_lastFreq:
 7001 0000 00000000 		.space	8
 7001      00000000 
 7002              		.section	.bss.g_machineTest,"aw",%nobits
 7003              		.align	2
 7004              		.set	.LANCHOR18,. + 0
 7007              	g_machineTest:
 7008 0000 00000000 		.space	236
 7008      00000000 
 7008      00000000 
 7008      00000000 
 7008      00000000 
 7009              		.section	.bss.g_realTime,"aw",%nobits
 7010              		.align	2
 7011              		.set	.LANCHOR1,. + 0
 7014              	g_realTime:
 7015 0000 00000000 		.space	8
 7015      00000000 
 7016              		.section	.bss.lastTestTime.24,"aw",%nobits
 7017              		.align	2
 7018              		.set	.LANCHOR13,. + 0
 7021              	lastTestTime.24:
 7022 0000 00000000 		.space	4
 7023              		.section	.bss.lastTestTime.7,"aw",%nobits
 7024              		.align	2
 7025              		.set	.LANCHOR33,. + 0
 7028              	lastTestTime.7:
 7029 0000 00000000 		.space	4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 176


 7030              		.section	.bss.lastTestTime.8,"aw",%nobits
 7031              		.align	2
 7032              		.set	.LANCHOR30,. + 0
 7035              	lastTestTime.8:
 7036 0000 00000000 		.space	4
 7037              		.section	.bss.lastTick.29,"aw",%nobits
 7038              		.align	2
 7039              		.set	.LANCHOR6,. + 0
 7042              	lastTick.29:
 7043 0000 00000000 		.space	4
 7044              		.section	.bss.lastTick.33,"aw",%nobits
 7045              		.align	2
 7046              		.set	.LANCHOR0,. + 0
 7049              	lastTick.33:
 7050 0000 00000000 		.space	4
 7051              		.section	.bss.minCap.0,"aw",%nobits
 7052              		.align	2
 7053              		.set	.LANCHOR40,. + 0
 7056              	minCap.0:
 7057 0000 00000000 		.space	4
 7058              		.section	.bss.minCap.22,"aw",%nobits
 7059              		.align	2
 7060              		.set	.LANCHOR15,. + 0
 7063              	minCap.22:
 7064 0000 00000000 		.space	4
 7065              		.section	.bss.okCount.9,"aw",%nobits
 7066              		.set	.LANCHOR29,. + 0
 7069              	okCount.9:
 7070 0000 00       		.space	1
 7071              		.section	.bss.responseCount.2,"aw",%nobits
 7072              		.set	.LANCHOR38,. + 0
 7075              	responseCount.2:
 7076 0000 00       		.space	1
 7077              		.section	.bss.responseCount.23,"aw",%nobits
 7078              		.set	.LANCHOR14,. + 0
 7081              	responseCount.23:
 7082 0000 00       		.space	1
 7083              		.section	.bss.rtc_temp.6,"aw",%nobits
 7084              		.align	2
 7085              		.set	.LANCHOR34,. + 0
 7088              	rtc_temp.6:
 7089 0000 00000000 		.space	4
 7090              		.section	.bss.startTime.13,"aw",%nobits
 7091              		.align	2
 7092              		.set	.LANCHOR25,. + 0
 7095              	startTime.13:
 7096 0000 00000000 		.space	4
 7097              		.section	.bss.startTime.19,"aw",%nobits
 7098              		.align	2
 7099              		.set	.LANCHOR19,. + 0
 7102              	startTime.19:
 7103 0000 00000000 		.space	4
 7104              		.section	.bss.state.16,"aw",%nobits
 7105              		.set	.LANCHOR22,. + 0
 7108              	state.16:
 7109 0000 00       		.space	1
 7110              		.section	.bss.state.21,"aw",%nobits
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 177


 7111              		.set	.LANCHOR16,. + 0
 7114              	state.21:
 7115 0000 00       		.space	1
 7116              		.section	.bss.systemTick.32,"aw",%nobits
 7117              		.align	2
 7118              		.set	.LANCHOR41,. + 0
 7121              	systemTick.32:
 7122 0000 00000000 		.space	4
 7123              		.section	.bss.testConfigC.14,"aw",%nobits
 7124              		.set	.LANCHOR24,. + 0
 7127              	testConfigC.14:
 7128 0000 00       		.space	1
 7129              		.section	.bss.testNumber.15,"aw",%nobits
 7130              		.set	.LANCHOR23,. + 0
 7133              	testNumber.15:
 7134 0000 00       		.space	1
 7135              		.section	.bss.testNumber.20,"aw",%nobits
 7136              		.set	.LANCHOR17,. + 0
 7139              	testNumber.20:
 7140 0000 00       		.space	1
 7141              		.section	.bss.testNumber.30,"aw",%nobits
 7142              		.set	.LANCHOR3,. + 0
 7145              	testNumber.30:
 7146 0000 00       		.space	1
 7147              		.section	.bss.testState.10,"aw",%nobits
 7148              		.set	.LANCHOR28,. + 0
 7151              	testState.10:
 7152 0000 00       		.space	1
 7153              		.section	.bss.testState.28,"aw",%nobits
 7154              		.align	2
 7155              		.set	.LANCHOR9,. + 0
 7158              	testState.28:
 7159 0000 00000000 		.space	4
 7160              		.section	.bss.testStep.31,"aw",%nobits
 7161              		.set	.LANCHOR2,. + 0
 7164              	testStep.31:
 7165 0000 00       		.space	1
 7166              		.section	.bss.timeout.11,"aw",%nobits
 7167              		.align	2
 7168              		.set	.LANCHOR27,. + 0
 7171              	timeout.11:
 7172 0000 00000000 		.space	4
 7173              		.section	.bss.timeout.17,"aw",%nobits
 7174              		.align	2
 7175              		.set	.LANCHOR21,. + 0
 7178              	timeout.17:
 7179 0000 00000000 		.space	4
 7180              		.section	.data.lastCap.27,"aw"
 7181              		.align	2
 7182              		.set	.LANCHOR10,. + 0
 7185              	lastCap.27:
 7186 0000 00003041 		.word	1093664768
 7187              		.section	.data.lastCap.4,"aw"
 7188              		.align	2
 7189              		.set	.LANCHOR36,. + 0
 7192              	lastCap.4:
 7193 0000 00003041 		.word	1093664768
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 178


 7194              		.section	.data.minPpm.26,"aw"
 7195              		.align	2
 7196              		.set	.LANCHOR11,. + 0
 7199              	minPpm.26:
 7200 0000 00007A44 		.word	1148846080
 7201              		.section	.data.minPpm.3,"aw"
 7202              		.align	2
 7203              		.set	.LANCHOR37,. + 0
 7206              	minPpm.3:
 7207 0000 00007A44 		.word	1148846080
 7208              		.section	.data.result.12,"aw"
 7209              		.set	.LANCHOR26,. + 0
 7212              	result.12:
 7213 0000 01       		.byte	1
 7214              		.section	.data.result.18,"aw"
 7215              		.set	.LANCHOR20,. + 0
 7218              	result.18:
 7219 0000 01       		.byte	1
 7220              		.text
 7221              	.Letext0:
 7222              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 7223              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 7224              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 7225              		.file 5 "Core/Inc/main.h"
 7226              		.file 6 "App/Inc/task.h"
 7227              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 7228              		.file 8 "App/Inc/manager.h"
 7229              		.file 9 "Drivers/User_Driver/Inc/soft_i2c.h"
 7230              		.file 10 "Drivers/User_Driver/Inc/rtc_i2c.h"
 7231              		.file 11 "Device/Inc/power.h"
 7232              		.file 12 "Device/Inc/flash.h"
 7233              		.file 13 "App/Inc/calculate.h"
 7234              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 7235              		.file 15 "Device/Inc/temp.h"
 7236              		.file 16 "Device/Inc/rtc.h"
 7237              		.file 17 "Device/Inc/drv_wave1006.h"
 7238              		.file 18 "Device/Inc/current.h"
 7239              		.file 19 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 179


DEFINED SYMBOLS
                            *ABS*:00000000 task.c
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:20     .text.system_time_update:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:26     .text.system_time_update:00000000 system_time_update
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:185    .text.system_time_update:000000a0 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:191    .rodata.system_set_real_time.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:195    .text.system_set_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:201    .text.system_set_real_time:00000000 system_set_real_time
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:270    .text.system_set_real_time:00000044 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:276    .text.system_get_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:282    .text.system_get_real_time:00000000 system_get_real_time
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:326    .text.system_get_real_time:0000001c $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:331    .rodata.command_int_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:357    .text.command_int_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:363    .text.command_int_test:00000000 command_int_test
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:403    .text.command_int_test:00000016 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:409    .text.command_int_test:0000001c $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:748    .text.command_int_test:000001d0 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:769    .text.set_int_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:775    .text.set_int_test:00000000 set_int_test
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:844    .text.set_int_test:00000034 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:854    .rodata.rtc_freq_save.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:866    .text.rtc_freq_save:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:872    .text.rtc_freq_save:00000000 rtc_freq_save
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1233   .text.rtc_freq_save:00000220 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1249   .rodata.rtc_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1266   .text.rtc_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1272   .text.rtc_freq_test:00000000 rtc_freq_test
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1325   .text.rtc_freq_test:00000024 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1331   .text.rtc_freq_test:00000030 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1762   .text.rtc_freq_test:000002f0 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:1784   .text.rtc_freq_test:00000340 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2174   .text.rtc_freq_test:00000598 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2197   .rodata.system_machine_test_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2223   .text.system_machine_test_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2229   .text.system_machine_test_one:00000000 system_machine_test_one
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2279   .text.system_machine_test_one:00000020 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2291   .text.system_machine_test_one:00000036 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2748   .text.system_machine_test_one:000002d8 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:2770   .text.system_machine_test_one:00000328 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3020   .text.system_machine_test_one:0000047c $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3034   .text.make_chip_ID:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3040   .text.make_chip_ID:00000000 make_chip_ID
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3092   .rodata.system_machine_write_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3127   .text.system_machine_write_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3133   .text.system_machine_write_one:00000000 system_machine_write_one
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3195   .text.system_machine_write_one:0000002a $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3216   .text.system_machine_write_one:00000052 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3679   .text.system_machine_write_one:000002e8 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:3702   .text.system_machine_write_one:00000338 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4204   .text.system_machine_write_one:00000628 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4223   .text.system_machine_write_one:0000066c $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4483   .text.system_machine_write_one:000007d0 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4497   .rodata.command_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4517   .text.command_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4523   .text.command_freq_test:00000000 command_freq_test
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4820   .text.command_freq_test:00000160 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 180


C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4841   .rodata.ClearControlMessage.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4845   .text.ClearControlMessage:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4851   .text.ClearControlMessage:00000000 ClearControlMessage
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4920   .text.ClearControlMessage:00000038 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:4926   .rodata.Aecq100Sample.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5045   .text.Aecq100Sample:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5051   .text.Aecq100Sample:00000000 Aecq100Sample
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5097   .text.Aecq100Sample:0000001e $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5148   .text.Aecq100Sample:00000084 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5561   .text.Aecq100Sample:000002d8 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5593   .text.Aecq100Sample:00000344 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:5994   .text.Aecq100Sample:000005e8 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6016   .text.Aecq100Sample:00000634 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6490   .text.Aecq100Sample:00000908 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6522   .text.Aecq100Sample:00000978 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6765   .text.Aecq100Sample:00000b00 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6782   .rodata.system_manage.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6786   .text.system_manage:00000000 $t
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6792   .text.system_manage:00000000 system_manage
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6911   .text.system_manage:000000a4 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6956   .bss.Aecq100State:00000000 Aecq100State
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6981   .bss.g_intEnd:00000000 g_intEnd
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6987   .bss.g_intStart:00000000 g_intStart
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6993   .bss.g_intState:00000000 g_intState
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7007   .bss.g_machineTest:00000000 g_machineTest
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7000   .bss.g_lastFreq:00000000 g_lastFreq
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7014   .bss.g_realTime:00000000 g_realTime
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6927   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6957   .bss.Aecq100State:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6962   .bss.adjustCount.1:00000000 adjustCount.1
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6963   .bss.adjustCount.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6968   .bss.adjustCount.25:00000000 adjustCount.25
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6969   .bss.adjustCount.25:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6971   .bss.config.5:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6975   .bss.config.5:00000000 config.5
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6982   .bss.g_intEnd:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6988   .bss.g_intStart:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6994   .bss.g_intState:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:6996   .bss.g_lastFreq:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7003   .bss.g_machineTest:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7010   .bss.g_realTime:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7017   .bss.lastTestTime.24:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7021   .bss.lastTestTime.24:00000000 lastTestTime.24
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7024   .bss.lastTestTime.7:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7028   .bss.lastTestTime.7:00000000 lastTestTime.7
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7031   .bss.lastTestTime.8:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7035   .bss.lastTestTime.8:00000000 lastTestTime.8
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7038   .bss.lastTick.29:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7042   .bss.lastTick.29:00000000 lastTick.29
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7045   .bss.lastTick.33:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7049   .bss.lastTick.33:00000000 lastTick.33
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7052   .bss.minCap.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7056   .bss.minCap.0:00000000 minCap.0
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7059   .bss.minCap.22:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7063   .bss.minCap.22:00000000 minCap.22
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7069   .bss.okCount.9:00000000 okCount.9
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7070   .bss.okCount.9:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 181


C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7075   .bss.responseCount.2:00000000 responseCount.2
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7076   .bss.responseCount.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7081   .bss.responseCount.23:00000000 responseCount.23
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7082   .bss.responseCount.23:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7084   .bss.rtc_temp.6:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7088   .bss.rtc_temp.6:00000000 rtc_temp.6
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7091   .bss.startTime.13:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7095   .bss.startTime.13:00000000 startTime.13
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7098   .bss.startTime.19:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7102   .bss.startTime.19:00000000 startTime.19
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7108   .bss.state.16:00000000 state.16
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7109   .bss.state.16:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7114   .bss.state.21:00000000 state.21
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7115   .bss.state.21:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7117   .bss.systemTick.32:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7121   .bss.systemTick.32:00000000 systemTick.32
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7127   .bss.testConfigC.14:00000000 testConfigC.14
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7128   .bss.testConfigC.14:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7133   .bss.testNumber.15:00000000 testNumber.15
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7134   .bss.testNumber.15:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7139   .bss.testNumber.20:00000000 testNumber.20
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7140   .bss.testNumber.20:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7145   .bss.testNumber.30:00000000 testNumber.30
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7146   .bss.testNumber.30:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7151   .bss.testState.10:00000000 testState.10
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7152   .bss.testState.10:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7154   .bss.testState.28:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7158   .bss.testState.28:00000000 testState.28
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7164   .bss.testStep.31:00000000 testStep.31
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7165   .bss.testStep.31:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7167   .bss.timeout.11:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7171   .bss.timeout.11:00000000 timeout.11
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7174   .bss.timeout.17:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7178   .bss.timeout.17:00000000 timeout.17
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7181   .data.lastCap.27:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7185   .data.lastCap.27:00000000 lastCap.27
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7188   .data.lastCap.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7192   .data.lastCap.4:00000000 lastCap.4
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7195   .data.minPpm.26:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7199   .data.minPpm.26:00000000 minPpm.26
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7202   .data.minPpm.3:00000000 $d
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7206   .data.minPpm.3:00000000 minPpm.3
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7212   .data.result.12:00000000 result.12
C:\Users\86158\AppData\Local\Temp\cck4kAYW.s:7218   .data.result.18:00000000 result.18

UNDEFINED SYMBOLS
HAL_GetTick
log_printf
__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_d2f
rtc_write_multi_bytes
UsbPrintf
rtc_group_power
rtc_set_channel
rtc_write_lock_on
ARM GAS  C:\Users\86158\AppData\Local\Temp\cck4kAYW.s 			page 182


rtc_read_multi_bytes
temp_read_value
rtc_out_4096
rtc_sda_l
DevicePrintf
rtc_disable_int
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_dadd
flash_read_data
uint8_to_float
g_capAdjust
rtc_init_test_cap
cap_list_to_uint
rtc_set_testcap
float_to_uint8
flash_write_data
__aeabi_ddiv
rtc_set_int_channel
HAL_GPIO_WritePin
HAL_Delay
rtc_read_vbat
rtc_set_bat_charge
rtc_set_testmode
CS1237Current
rtc_read_temp
rtc_download_otp_data
flash_test_data_write_add
ControlPrintf
memcpy
rtc_1006_set_testmode
system_get_rtc_temp
rtc_convert_temp_offset
rtc_1006_exit_testmode
sd3078b_ACEQ100
system_manage_test_mode
