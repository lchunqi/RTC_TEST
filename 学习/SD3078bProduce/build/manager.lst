ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"manager.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.manager_set_mode,"ax",%progbits
  20              		.align	1
  21              		.global	manager_set_mode
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	manager_set_mode:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "App/Src/manager.c"
   1:App/Src/manager.c **** #include "main.h"
   2:App/Src/manager.c **** #include "manager.h"
   3:App/Src/manager.c **** #include "current.h"
   4:App/Src/manager.c **** #include "voltage.h"
   5:App/Src/manager.c **** #include "temp.h"
   6:App/Src/manager.c **** #include "flash.h"
   7:App/Src/manager.c **** #include "log.h"
   8:App/Src/manager.c **** #include "task.h"
   9:App/Src/manager.c **** #include "rtc.h"
  10:App/Src/manager.c **** #include "calculate.h"
  11:App/Src/manager.c **** #include <string.h>
  12:App/Src/manager.c **** #include "power.h"
  13:App/Src/manager.c **** #include "drv_wave1006.h"
  14:App/Src/manager.c **** 
  15:App/Src/manager.c **** #define SD8800_CENTER_TEMP_UP                   30//30℃
  16:App/Src/manager.c **** #define SD8800_CENTER_TEMP_DOWN                 15//15℃
  17:App/Src/manager.c **** 
  18:App/Src/manager.c **** typedef struct {
  19:App/Src/manager.c ****     uint8_t number;
  20:App/Src/manager.c ****     float temp[MAX_CHIP_NUMBER];
  21:App/Src/manager.c ****     float cap[MAX_CHIP_NUMBER];
  22:App/Src/manager.c ****     uint8_t flag[MAX_CHIP_NUMBER];
  23:App/Src/manager.c **** }TestOneData;
  24:App/Src/manager.c **** 
  25:App/Src/manager.c **** static uint8_t g_testMode = FREE_MODE;
  26:App/Src/manager.c **** CapAdjust g_capAdjust = {0};
  27:App/Src/manager.c **** static TestOneData g_oneData = {0};
  28:App/Src/manager.c **** uint8_t g_testFlag[MAX_CHIP_NUMBER] = {0};
  29:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 2


  30:App/Src/manager.c **** void manager_set_mode(uint8_t mode)
  31:App/Src/manager.c **** {
  30              		.loc 1 31 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  32:App/Src/manager.c ****     g_testMode = mode;
  35              		.loc 1 32 5 view .LVU1
  36              		.loc 1 32 16 is_stmt 0 view .LVU2
  37 0000 014B     		ldr	r3, .L2
  38 0002 1870     		strb	r0, [r3]
  33:App/Src/manager.c **** }
  39              		.loc 1 33 1 view .LVU3
  40 0004 7047     		bx	lr
  41              	.L3:
  42 0006 00BF     		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE235:
  48              		.section	.text.manager_get_mode,"ax",%progbits
  49              		.align	1
  50              		.global	manager_get_mode
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	manager_get_mode:
  56              	.LFB236:
  34:App/Src/manager.c **** 
  35:App/Src/manager.c **** uint8_t manager_get_mode(void)
  36:App/Src/manager.c **** {
  57              		.loc 1 36 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  37:App/Src/manager.c ****     return g_testMode;
  62              		.loc 1 37 5 view .LVU5
  38:App/Src/manager.c **** }
  63              		.loc 1 38 1 is_stmt 0 view .LVU6
  64 0000 014B     		ldr	r3, .L5
  65 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  66 0004 7047     		bx	lr
  67              	.L6:
  68 0006 00BF     		.align	2
  69              	.L5:
  70 0008 00000000 		.word	.LANCHOR0
  71              		.cfi_endproc
  72              	.LFE236:
  74              		.section	.text.system_voltage_test,"ax",%progbits
  75              		.align	1
  76              		.global	system_voltage_test
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	system_voltage_test:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 3


  82              	.LFB237:
  39:App/Src/manager.c **** 
  40:App/Src/manager.c **** 
  41:App/Src/manager.c **** uint8_t system_voltage_test(void)
  42:App/Src/manager.c **** {
  83              		.loc 1 42 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  43:App/Src/manager.c ****     // uint8_t mode;
  44:App/Src/manager.c **** 	// uint32_t voltage;
  45:App/Src/manager.c ****     uint8_t result = 0;
  88              		.loc 1 45 5 view .LVU8
  89              	.LVL1:
  46:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_SW) * 3300 * 4.6 / 4096;
  47:App/Src/manager.c **** 	// log_printf("vdd_sw:%dmV,", voltage);
  48:App/Src/manager.c ****     // if (voltage > 2000) {
  49:App/Src/manager.c ****     //     mode = 1;
  50:App/Src/manager.c ****     // } else {
  51:App/Src/manager.c ****     //     mode = 0;
  52:App/Src/manager.c ****     // }
  53:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_3V3) * 3300 * 4.6 / 4096;
  54:App/Src/manager.c **** 	// log_printf("3.3V:%dmV,", voltage);
  55:App/Src/manager.c ****     // if (mode == 0 && voltage < 3100 && voltage > 3500) {result++;}
  56:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_5V) * 3300 * 4.6 / 4096;
  57:App/Src/manager.c **** 	// log_printf("5V:%dmV,", voltage);
  58:App/Src/manager.c ****     // if (mode == 1 && voltage < 4600 && voltage > 5400) {result++;}
  59:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_9V) * 3300 * 4.6 / 4096;
  60:App/Src/manager.c **** 	// log_printf("9V:%dmV,", voltage);
  61:App/Src/manager.c ****     // if (voltage < 9000) {
  62:App/Src/manager.c ****     //     result += 10;
  63:App/Src/manager.c ****     // }
  64:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_6V5) * 3300 * 4.6 / 4096;
  65:App/Src/manager.c **** 	// log_printf("6.5V:%dmV\n", voltage);
  66:App/Src/manager.c ****     // if (voltage < 6250 || voltage > 6750) {
  67:App/Src/manager.c ****     //     result += 100;
  68:App/Src/manager.c ****     // }
  69:App/Src/manager.c ****     return result;
  90              		.loc 1 69 5 view .LVU9
  70:App/Src/manager.c **** } 
  91              		.loc 1 70 1 is_stmt 0 view .LVU10
  92 0000 0020     		movs	r0, #0
  93 0002 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE237:
  97              		.global	__aeabi_f2d
  98              		.section	.rodata.system_manage_temp.str1.4,"aMS",%progbits,1
  99              		.align	2
 100              	.LC0:
 101 0000 74656D70 		.ascii	"temp1 value %.1fC\012\000"
 101      31207661 
 101      6C756520 
 101      252E3166 
 101      430A00
 102 0013 00       		.align	2
 103              	.LC1:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 4


 104 0014 63686563 		.ascii	"check system temp is error, test stop.\012\000"
 104      6B207379 
 104      7374656D 
 104      2074656D 
 104      70206973 
 105              		.align	2
 106              	.LC2:
 107 003c 6D657373 		.ascii	"message:\317\265\315\263\316\302\266\310\263\254\267"
 107      6167653A 
 107      CFB5CDB3 
 107      CEC2B6C8 
 107      B3ACB7
 108 004f B6CEA70A 		.ascii	"\266\316\247\012\000"
 108      00
 109              		.align	2
 110              	.LC3:
 111 0054 74656D70 		.ascii	"temp offset:chip%d\012\000"
 111      206F6666 
 111      7365743A 
 111      63686970 
 111      25640A00 
 112              		.align	2
 113              	.LC4:
 114 0068 68697374 		.ascii	"history success!\012\000"
 114      6F727920 
 114      73756363 
 114      65737321 
 114      0A00
 115 007a 0000     		.align	2
 116              	.LC5:
 117 007c 656E7465 		.ascii	"enter testmode fail\012\000"
 117      72207465 
 117      73746D6F 
 117      64652066 
 117      61696C0A 
 118 0091 000000   		.align	2
 119              	.LC6:
 120 0094 74656D70 		.ascii	"temp adc: %.1f, offset:%d\012\000"
 120      20616463 
 120      3A20252E 
 120      31662C20 
 120      6F666673 
 121 00af 00       		.align	2
 122              	.LC7:
 123 00b0 73797374 		.ascii	"system set rtc group temp config end.\012\000"
 123      656D2073 
 123      65742072 
 123      74632067 
 123      726F7570 
 124              		.section	.text.system_manage_temp,"ax",%progbits
 125              		.align	1
 126              		.global	system_manage_temp
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	system_manage_temp:
 132              	.LFB238:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 5


  71:App/Src/manager.c **** 
  72:App/Src/manager.c **** int system_manage_temp(void)
  73:App/Src/manager.c **** {
 133              		.loc 1 73 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 336
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 138              	.LCFI0:
 139              		.cfi_def_cfa_offset 36
 140              		.cfi_offset 4, -36
 141              		.cfi_offset 5, -32
 142              		.cfi_offset 6, -28
 143              		.cfi_offset 7, -24
 144              		.cfi_offset 8, -20
 145              		.cfi_offset 9, -16
 146              		.cfi_offset 10, -12
 147              		.cfi_offset 11, -8
 148              		.cfi_offset 14, -4
 149 0004 2DED028B 		vpush.64	{d8}
 150              	.LCFI1:
 151              		.cfi_def_cfa_offset 44
 152              		.cfi_offset 80, -44
 153              		.cfi_offset 81, -40
 154 0008 D7B0     		sub	sp, sp, #348
 155              	.LCFI2:
 156              		.cfi_def_cfa_offset 392
  74:App/Src/manager.c **** 	float temp;
 157              		.loc 1 74 2 view .LVU12
  75:App/Src/manager.c ****     int i;
 158              		.loc 1 75 5 view .LVU13
  76:App/Src/manager.c ****     float rtc_temp;
 159              		.loc 1 76 5 view .LVU14
  77:App/Src/manager.c ****     uint8_t config[MAX_CHIP_NUMBER] = {0};
 160              		.loc 1 77 5 view .LVU15
 161              		.loc 1 77 13 is_stmt 0 view .LVU16
 162 000a 0024     		movs	r4, #0
 163 000c 3D94     		str	r4, [sp, #244]
 164 000e 6022     		movs	r2, #96
 165 0010 2146     		mov	r1, r4
 166 0012 3EA8     		add	r0, sp, #248
 167 0014 FFF7FEFF 		bl	memset
 168              	.LVL2:
  78:App/Src/manager.c ****     // uint8_t flag[MAX_CHIP_NUMBER] = {0};
  79:App/Src/manager.c ****     uint8_t stepCount;
 169              		.loc 1 79 5 is_stmt 1 view .LVU17
  80:App/Src/manager.c ****     TestResult tempTest = {0};
 170              		.loc 1 80 5 view .LVU18
 171              		.loc 1 80 16 is_stmt 0 view .LVU19
 172 0018 EC22     		movs	r2, #236
 173 001a 2146     		mov	r1, r4
 174 001c 02A8     		add	r0, sp, #8
 175 001e FFF7FEFF 		bl	memset
 176              	.LVL3:
  81:App/Src/manager.c **** 
  82:App/Src/manager.c **** //step 1: read system temp ship, and check system voltage ok
  83:App/Src/manager.c **** 	temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 6


 177              		.loc 1 83 2 is_stmt 1 view .LVU20
 178              		.loc 1 83 9 is_stmt 0 view .LVU21
 179 0022 0120     		movs	r0, #1
 180 0024 FFF7FEFF 		bl	temp_read_value
 181              	.LVL4:
 182 0028 B0EE408A 		vmov.f32	s16, s0
 183              	.LVL5:
  84:App/Src/manager.c ****     log_printf("temp1 value %.1fC\n", temp);
 184              		.loc 1 84 5 is_stmt 1 view .LVU22
 185 002c 10EE100A 		vmov	r0, s0
 186 0030 FFF7FEFF 		bl	__aeabi_f2d
 187              	.LVL6:
 188              		.loc 1 84 5 is_stmt 0 view .LVU23
 189 0034 0446     		mov	r4, r0
 190 0036 0D46     		mov	r5, r1
 191 0038 5A4E     		ldr	r6, .L24
 192 003a 0246     		mov	r2, r0
 193 003c 0B46     		mov	r3, r1
 194 003e 3046     		mov	r0, r6
 195 0040 FFF7FEFF 		bl	log_printf
 196              	.LVL7:
  85:App/Src/manager.c ****     UsbPrintf("temp1 value %.1fC\n", temp);
 197              		.loc 1 85 5 is_stmt 1 view .LVU24
 198 0044 2246     		mov	r2, r4
 199 0046 2B46     		mov	r3, r5
 200 0048 3046     		mov	r0, r6
 201 004a FFF7FEFF 		bl	UsbPrintf
 202              	.LVL8:
  86:App/Src/manager.c ****     if (temp > SD8800_CENTER_TEMP_UP || temp < SD8800_CENTER_TEMP_DOWN) {
 203              		.loc 1 86 5 view .LVU25
 204              		.loc 1 86 8 is_stmt 0 view .LVU26
 205 004e F3EE0E7A 		vmov.f32	s15, #3.0e+1
 206 0052 B4EEE78A 		vcmpe.f32	s16, s15
 207 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 208 005a 0FDC     		bgt	.L9
 209              		.loc 1 86 38 discriminator 1 view .LVU27
 210 005c F2EE0E7A 		vmov.f32	s15, #1.5e+1
 211 0060 B4EEE78A 		vcmpe.f32	s16, s15
 212 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 213 0068 08D4     		bmi	.L9
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
  88:App/Src/manager.c ****         UsbPrintf("check system temp is error, test stop.\n");
  89:App/Src/manager.c ****         HAL_Delay(5);
  90:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
  91:App/Src/manager.c ****         return -1;
  92:App/Src/manager.c ****     } 
  93:App/Src/manager.c ****     // if (system_voltage_test() > 0) {
  94:App/Src/manager.c ****     //     log_printf("check system votage is error, test stop.\n");
  95:App/Src/manager.c ****     //     UsbPrintf("check system voltage is error, test stop.\n");
  96:App/Src/manager.c ****     //     ControlPrintf("message:板件电压超范围\n");
  97:App/Src/manager.c ****     //     return -2;
  98:App/Src/manager.c ****     // }
  99:App/Src/manager.c **** //step 2: read rtc group config and check, read rtc group temp, calculate group temp config
 100:App/Src/manager.c ****     // ControlPrintf("message:正在计算config\n");
 101:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_READ);
 214              		.loc 1 101 5 is_stmt 1 view .LVU28
 215 006a 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 7


 216 006c 1146     		mov	r1, r2
 217 006e 4E48     		ldr	r0, .L24+4
 218 0070 FFF7FEFF 		bl	flash_test_flag_manage
 219              	.LVL9:
 102:App/Src/manager.c ****     stepCount = 0;
 220              		.loc 1 102 5 view .LVU29
 103:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 221              		.loc 1 103 5 view .LVU30
 102:App/Src/manager.c ****     stepCount = 0;
 222              		.loc 1 102 15 is_stmt 0 view .LVU31
 223 0074 4FF0000A 		mov	r10, #0
 224              		.loc 1 103 12 view .LVU32
 225 0078 5446     		mov	r4, r10
 226              		.loc 1 103 5 view .LVU33
 227 007a 22E0     		b	.L13
 228              	.LVL10:
 229              	.L9:
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
 230              		.loc 1 87 9 is_stmt 1 view .LVU34
 231 007c 4B4C     		ldr	r4, .L24+8
 232 007e 2046     		mov	r0, r4
 233 0080 FFF7FEFF 		bl	log_printf
 234              	.LVL11:
  88:App/Src/manager.c ****         HAL_Delay(5);
 235              		.loc 1 88 9 view .LVU35
 236 0084 2046     		mov	r0, r4
 237 0086 FFF7FEFF 		bl	UsbPrintf
 238              	.LVL12:
  89:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
 239              		.loc 1 89 9 view .LVU36
 240 008a 0520     		movs	r0, #5
 241 008c FFF7FEFF 		bl	HAL_Delay
 242              	.LVL13:
  90:App/Src/manager.c ****         return -1;
 243              		.loc 1 90 9 view .LVU37
 244 0090 4748     		ldr	r0, .L24+12
 245 0092 FFF7FEFF 		bl	ControlPrintf
 246              	.LVL14:
  91:App/Src/manager.c ****     } 
 247              		.loc 1 91 9 view .LVU38
  91:App/Src/manager.c ****     } 
 248              		.loc 1 91 16 is_stmt 0 view .LVU39
 249 0096 4FF0FF30 		mov	r0, #-1
 250 009a 7DE0     		b	.L8
 251              	.LVL15:
 252              	.L22:
 104:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 105:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 106:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 107:App/Src/manager.c ****             UsbPrintf("history success!\n");
 253              		.loc 1 107 13 is_stmt 1 view .LVU40
 254 009c 4548     		ldr	r0, .L24+16
 255 009e FFF7FEFF 		bl	UsbPrintf
 256              	.LVL16:
 108:App/Src/manager.c ****             stepCount++;
 257              		.loc 1 108 13 view .LVU41
 258              		.loc 1 108 22 is_stmt 0 view .LVU42
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 8


 259 00a2 0AF1010A 		add	r10, r10, #1
 260              	.LVL17:
 261              		.loc 1 108 22 view .LVU43
 262 00a6 5FFA8AFA 		uxtb	r10, r10
 263              	.LVL18:
 109:App/Src/manager.c ****             continue;
 264              		.loc 1 109 13 is_stmt 1 view .LVU44
 265 00aa 09E0     		b	.L15
 266              	.L23:
 110:App/Src/manager.c ****         }
 111:App/Src/manager.c **** 	    temp = temp_read_value(1);
 112:App/Src/manager.c ****         tempTest.setTemp = temp;
 113:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 114:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 115:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 267              		.loc 1 115 13 view .LVU45
 268 00ac 2846     		mov	r0, r5
 269 00ae FFF7FEFF 		bl	rtc_1006_exit_testmode
 270              	.LVL19:
 116:App/Src/manager.c **** 	        UsbPrintf("enter testmode fail\n");
 271              		.loc 1 116 10 view .LVU46
 272 00b2 4148     		ldr	r0, .L24+20
 273 00b4 FFF7FEFF 		bl	UsbPrintf
 274              	.LVL20:
 117:App/Src/manager.c ****             continue;
 275              		.loc 1 117 13 view .LVU47
 276 00b8 02E0     		b	.L15
 277              	.LVL21:
 278              	.L17:
 118:App/Src/manager.c ****         }
 119:App/Src/manager.c ****         HAL_Delay(1);
 120:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 121:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 122:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 123:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 124:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 125:App/Src/manager.c ****             g_testFlag[i] = 1;
 126:App/Src/manager.c ****             stepCount++;
 127:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 128:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 129:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 130:App/Src/manager.c ****         }
 131:App/Src/manager.c ****         rtc_1006_exit_testmode(i + 1);
 279              		.loc 1 131 9 view .LVU48
 280 00ba 2846     		mov	r0, r5
 281 00bc FFF7FEFF 		bl	rtc_1006_exit_testmode
 282              	.LVL22:
 283              	.L15:
  73:App/Src/manager.c **** 	float temp;
 284              		.loc 1 73 1 is_stmt 0 discriminator 1 view .LVU49
 285 00c0 3446     		mov	r4, r6
 286              	.LVL23:
 287              	.L13:
 103:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 288              		.loc 1 103 17 is_stmt 1 discriminator 1 view .LVU50
 103:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 289              		.loc 1 103 5 is_stmt 0 discriminator 1 view .LVU51
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 9


 290 00c2 632C     		cmp	r4, #99
 291 00c4 5FDC     		bgt	.L21
 104:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 292              		.loc 1 104 6 is_stmt 1 view .LVU52
 293 00c6 661C     		adds	r6, r4, #1
 294 00c8 3C4D     		ldr	r5, .L24+24
 295 00ca 3146     		mov	r1, r6
 296 00cc 2846     		mov	r0, r5
 297 00ce FFF7FEFF 		bl	UsbPrintf
 298              	.LVL24:
 105:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 299              		.loc 1 105 6 view .LVU53
 300 00d2 3146     		mov	r1, r6
 301 00d4 2846     		mov	r0, r5
 302 00d6 FFF7FEFF 		bl	log_printf
 303              	.LVL25:
 106:App/Src/manager.c ****             UsbPrintf("history success!\n");
 304              		.loc 1 106 9 view .LVU54
 106:App/Src/manager.c ****             UsbPrintf("history success!\n");
 305              		.loc 1 106 23 is_stmt 0 view .LVU55
 306 00da 334B     		ldr	r3, .L24+4
 307 00dc 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 106:App/Src/manager.c ****             UsbPrintf("history success!\n");
 308              		.loc 1 106 12 view .LVU56
 309 00de 012B     		cmp	r3, #1
 310 00e0 DCD0     		beq	.L22
 111:App/Src/manager.c ****         tempTest.setTemp = temp;
 311              		.loc 1 111 6 is_stmt 1 view .LVU57
 111:App/Src/manager.c ****         tempTest.setTemp = temp;
 312              		.loc 1 111 13 is_stmt 0 view .LVU58
 313 00e2 0120     		movs	r0, #1
 314 00e4 FFF7FEFF 		bl	temp_read_value
 315              	.LVL26:
 316 00e8 B0EE408A 		vmov.f32	s16, s0
 317              	.LVL27:
 112:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 318              		.loc 1 112 9 is_stmt 1 view .LVU59
 112:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 319              		.loc 1 112 26 is_stmt 0 view .LVU60
 320 00ec FCEEC07A 		vcvt.u32.f32	s15, s0
 321 00f0 17EE903A 		vmov	r3, s15	@ int
 322 00f4 8DF83830 		strb	r3, [sp, #56]
 113:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 323              		.loc 1 113 6 is_stmt 1 view .LVU61
 324 00f8 651C     		adds	r5, r4, #1
 325 00fa EDB2     		uxtb	r5, r5
 326 00fc 0121     		movs	r1, #1
 327 00fe 2846     		mov	r0, r5
 328 0100 FFF7FEFF 		bl	rtc_group_power
 329              	.LVL28:
 114:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 330              		.loc 1 114 9 view .LVU62
 114:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 331              		.loc 1 114 13 is_stmt 0 view .LVU63
 332 0104 2846     		mov	r0, r5
 333 0106 FFF7FEFF 		bl	rtc_1006_set_testmode
 334              	.LVL29:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 10


 114:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 335              		.loc 1 114 12 view .LVU64
 336 010a 0028     		cmp	r0, #0
 337 010c CED1     		bne	.L23
 119:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 338              		.loc 1 119 9 is_stmt 1 view .LVU65
 339 010e 0120     		movs	r0, #1
 340 0110 FFF7FEFF 		bl	HAL_Delay
 341              	.LVL30:
 120:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 342              		.loc 1 120 9 view .LVU66
 120:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 343              		.loc 1 120 20 is_stmt 0 view .LVU67
 344 0114 FFF7FEFF 		bl	system_get_rtc_temp
 345              	.LVL31:
 346 0118 10EE108A 		vmov	r8, s0
 347              	.LVL32:
 121:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 348              		.loc 1 121 9 is_stmt 1 view .LVU68
 121:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 349              		.loc 1 121 21 is_stmt 0 view .LVU69
 350 011c F0EE480A 		vmov.f32	s1, s16
 351 0120 FFF7FEFF 		bl	rtc_convert_temp_offset
 352              	.LVL33:
 353 0124 0746     		mov	r7, r0
 121:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 354              		.loc 1 121 19 view .LVU70
 355 0126 04F5AC73 		add	r3, r4, #344
 356 012a 6B44     		add	r3, sp, r3
 357 012c 03F8640C 		strb	r0, [r3, #-100]
 122:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 358              		.loc 1 122 9 is_stmt 1 view .LVU71
 359 0130 4046     		mov	r0, r8	@ float
 360 0132 FFF7FEFF 		bl	__aeabi_f2d
 361              	.LVL34:
 362 0136 8046     		mov	r8, r0
 363              	.LVL35:
 122:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 364              		.loc 1 122 9 is_stmt 0 view .LVU72
 365 0138 8946     		mov	r9, r1
 366 013a DFF888B0 		ldr	fp, .L24+32
 367 013e 0097     		str	r7, [sp]
 368 0140 0246     		mov	r2, r0
 369 0142 0B46     		mov	r3, r1
 370 0144 5846     		mov	r0, fp
 371 0146 FFF7FEFF 		bl	UsbPrintf
 372              	.LVL36:
 123:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 373              		.loc 1 123 9 is_stmt 1 view .LVU73
 374 014a 0097     		str	r7, [sp]
 375 014c 4246     		mov	r2, r8
 376 014e 4B46     		mov	r3, r9
 377 0150 5846     		mov	r0, fp
 378 0152 FFF7FEFF 		bl	log_printf
 379              	.LVL37:
 124:App/Src/manager.c ****             g_testFlag[i] = 1;
 380              		.loc 1 124 9 view .LVU74
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 11


 124:App/Src/manager.c ****             g_testFlag[i] = 1;
 381              		.loc 1 124 29 is_stmt 0 view .LVU75
 382 0156 A7F13C03 		sub	r3, r7, #60
 383 015a DBB2     		uxtb	r3, r3
 124:App/Src/manager.c ****             g_testFlag[i] = 1;
 384              		.loc 1 124 12 view .LVU76
 385 015c 502B     		cmp	r3, #80
 386 015e ACD8     		bhi	.L17
 125:App/Src/manager.c ****             stepCount++;
 387              		.loc 1 125 13 is_stmt 1 view .LVU77
 125:App/Src/manager.c ****             stepCount++;
 388              		.loc 1 125 27 is_stmt 0 view .LVU78
 389 0160 114B     		ldr	r3, .L24+4
 390 0162 0122     		movs	r2, #1
 391 0164 1A55     		strb	r2, [r3, r4]
 126:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 392              		.loc 1 126 13 is_stmt 1 view .LVU79
 126:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 393              		.loc 1 126 22 is_stmt 0 view .LVU80
 394 0166 9244     		add	r10, r10, r2
 395              	.LVL38:
 126:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 396              		.loc 1 126 22 view .LVU81
 397 0168 5FFA8AFA 		uxtb	r10, r10
 398              	.LVL39:
 127:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 399              		.loc 1 127 13 is_stmt 1 view .LVU82
 127:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 400              		.loc 1 127 33 is_stmt 0 view .LVU83
 401 016c 8DF83970 		strb	r7, [sp, #57]
 128:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 402              		.loc 1 128 13 is_stmt 1 view .LVU84
 403 0170 3022     		movs	r2, #48
 404 0172 2946     		mov	r1, r5
 405 0174 02A8     		add	r0, sp, #8
 406 0176 FFF7FEFF 		bl	flash_test_data_write_add
 407              	.LVL40:
 129:App/Src/manager.c ****         }
 408              		.loc 1 129 13 view .LVU85
 409 017a 3122     		movs	r2, #49
 410 017c 2946     		mov	r1, r5
 411 017e 02A8     		add	r0, sp, #8
 412 0180 FFF7FEFF 		bl	flash_test_data_write_add
 413              	.LVL41:
 414 0184 99E7     		b	.L17
 415              	.L21:
 132:App/Src/manager.c ****     }
 133:App/Src/manager.c ****     
 134:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_WRITE_ADD);
 416              		.loc 1 134 5 view .LVU86
 417 0186 0122     		movs	r2, #1
 418 0188 0021     		movs	r1, #0
 419 018a 0748     		ldr	r0, .L24+4
 420 018c FFF7FEFF 		bl	flash_test_flag_manage
 421              	.LVL42:
 135:App/Src/manager.c ****     UsbPrintf("system set rtc group temp config end.\n");
 422              		.loc 1 135 5 view .LVU87
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 12


 423 0190 0B48     		ldr	r0, .L24+28
 424 0192 FFF7FEFF 		bl	UsbPrintf
 425              	.LVL43:
 136:App/Src/manager.c ****     return stepCount;
 426              		.loc 1 136 5 view .LVU88
 427              		.loc 1 136 12 is_stmt 0 view .LVU89
 428 0196 5046     		mov	r0, r10
 429              	.LVL44:
 430              	.L8:
 137:App/Src/manager.c **** }
 431              		.loc 1 137 1 view .LVU90
 432 0198 57B0     		add	sp, sp, #348
 433              	.LCFI3:
 434              		.cfi_def_cfa_offset 44
 435              		@ sp needed
 436 019a BDEC028B 		vldm	sp!, {d8}
 437              	.LCFI4:
 438              		.cfi_restore 80
 439              		.cfi_restore 81
 440              		.cfi_def_cfa_offset 36
 441              	.LVL45:
 442              		.loc 1 137 1 view .LVU91
 443 019e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 444              	.L25:
 445 01a2 00BF     		.align	2
 446              	.L24:
 447 01a4 00000000 		.word	.LC0
 448 01a8 00000000 		.word	.LANCHOR1
 449 01ac 14000000 		.word	.LC1
 450 01b0 3C000000 		.word	.LC2
 451 01b4 68000000 		.word	.LC4
 452 01b8 7C000000 		.word	.LC5
 453 01bc 54000000 		.word	.LC3
 454 01c0 B0000000 		.word	.LC7
 455 01c4 94000000 		.word	.LC6
 456              		.cfi_endproc
 457              	.LFE238:
 459              		.section	.rodata.system_manage_download_cap.str1.4,"aMS",%progbits,1
 460              		.align	2
 461              	.LC8:
 462 0000 63686970 		.ascii	"chip %d history success\012\000"
 462      20256420 
 462      68697374 
 462      6F727920 
 462      73756363 
 463 0019 000000   		.align	2
 464              	.LC9:
 465 001c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:success\012\000"
 465      6D626572 
 465      3A256420 
 465      63686970 
 465      4E616D65 
 466 0045 000000   		.align	2
 467              	.LC10:
 468 0048 63686970 		.ascii	"chip %d success\012\000"
 468      20256420 
 468      73756363 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 13


 468      6573730A 
 468      00
 469 0059 000000   		.align	2
 470              	.LC11:
 471 005c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:fail\012\000"
 471      6D626572 
 471      3A256420 
 471      63686970 
 471      4E616D65 
 472              		.section	.text.system_manage_download_cap,"ax",%progbits
 473              		.align	1
 474              		.global	system_manage_download_cap
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 479              	system_manage_download_cap:
 480              	.LFB239:
 138:App/Src/manager.c **** 
 139:App/Src/manager.c **** 
 140:App/Src/manager.c **** //下载函数
 141:App/Src/manager.c **** //先做下载前的检查工作
 142:App/Src/manager.c **** //最后调用download_temp_cap函数去烧录
 143:App/Src/manager.c **** int system_manage_download_cap(void)
 144:App/Src/manager.c **** {
 481              		.loc 1 144 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 486              	.LCFI5:
 487              		.cfi_def_cfa_offset 24
 488              		.cfi_offset 3, -24
 489              		.cfi_offset 4, -20
 490              		.cfi_offset 5, -16
 491              		.cfi_offset 6, -12
 492              		.cfi_offset 7, -8
 493              		.cfi_offset 14, -4
 145:App/Src/manager.c ****     int i;
 494              		.loc 1 145 5 view .LVU93
 146:App/Src/manager.c ****     int count = 0;
 495              		.loc 1 146 5 view .LVU94
 496              	.LVL46:
 147:App/Src/manager.c ****     
 148:App/Src/manager.c ****     memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 497              		.loc 1 148 5 view .LVU95
 498 0002 284C     		ldr	r4, .L36
 499 0004 6422     		movs	r2, #100
 500 0006 FF21     		movs	r1, #255
 501 0008 2046     		mov	r0, r4
 502 000a FFF7FEFF 		bl	memset
 503              	.LVL47:
 149:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_READ);
 504              		.loc 1 149 5 view .LVU96
 505 000e 0022     		movs	r2, #0
 506 0010 0321     		movs	r1, #3
 507 0012 2046     		mov	r0, r4
 508 0014 FFF7FEFF 		bl	flash_test_flag_manage
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 14


 509              	.LVL48:
 150:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 510              		.loc 1 150 5 view .LVU97
 146:App/Src/manager.c ****     
 511              		.loc 1 146 9 is_stmt 0 view .LVU98
 512 0018 0025     		movs	r5, #0
 513              		.loc 1 150 12 view .LVU99
 514 001a 2C46     		mov	r4, r5
 515              		.loc 1 150 5 view .LVU100
 516 001c 1AE0     		b	.L27
 517              	.LVL49:
 518              	.L35:
 151:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 152:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 519              		.loc 1 152 13 is_stmt 1 view .LVU101
 520 001e 661C     		adds	r6, r4, #1
 521 0020 214F     		ldr	r7, .L36+4
 522 0022 3146     		mov	r1, r6
 523 0024 3846     		mov	r0, r7
 524 0026 FFF7FEFF 		bl	log_printf
 525              	.LVL50:
 153:App/Src/manager.c ****             UsbPrintf("chip %d history success\n", i + 1);
 526              		.loc 1 153 13 view .LVU102
 527 002a 3146     		mov	r1, r6
 528 002c 3846     		mov	r0, r7
 529 002e FFF7FEFF 		bl	UsbPrintf
 530              	.LVL51:
 154:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 531              		.loc 1 154 4 view .LVU103
 532 0032 3246     		mov	r2, r6
 533 0034 2946     		mov	r1, r5
 534 0036 1D48     		ldr	r0, .L36+8
 535 0038 FFF7FEFF 		bl	ControlPrintf
 536              	.LVL52:
 155:App/Src/manager.c ****             count++;
 537              		.loc 1 155 13 view .LVU104
 538              		.loc 1 155 18 is_stmt 0 view .LVU105
 539 003c 0135     		adds	r5, r5, #1
 540              	.LVL53:
 156:App/Src/manager.c ****             continue;
 541              		.loc 1 156 13 is_stmt 1 view .LVU106
 542 003e 08E0     		b	.L29
 543              	.L30:
 157:App/Src/manager.c ****         }
 158:App/Src/manager.c **** 
 159:App/Src/manager.c ****         if (sd3078b_write_otp(i + 1) != 0) {
 160:App/Src/manager.c ****             count++;
 161:App/Src/manager.c ****             g_testFlag[i] = '1';
 162:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 163:App/Src/manager.c ****             log_printf("chip %d success\n", i + 1);
 164:App/Src/manager.c ****             UsbPrintf("chip %d success\n", i + 1);
 165:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 166:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:fail\n", count, i + 1);
 544              		.loc 1 166 4 view .LVU107
 545 0040 621C     		adds	r2, r4, #1
 546 0042 2946     		mov	r1, r5
 547 0044 1A48     		ldr	r0, .L36+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 15


 548 0046 FFF7FEFF 		bl	ControlPrintf
 549              	.LVL54:
 550              	.L31:
 167:App/Src/manager.c ****         }
 168:App/Src/manager.c **** 
 169:App/Src/manager.c ****         HAL_Delay(500);
 551              		.loc 1 169 9 view .LVU108
 552 004a 4FF4FA70 		mov	r0, #500
 553 004e FFF7FEFF 		bl	HAL_Delay
 554              	.LVL55:
 555              	.L29:
 150:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 556              		.loc 1 150 38 discriminator 2 view .LVU109
 150:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 557              		.loc 1 150 39 is_stmt 0 discriminator 2 view .LVU110
 558 0052 0134     		adds	r4, r4, #1
 559              	.LVL56:
 560              	.L27:
 150:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 561              		.loc 1 150 17 is_stmt 1 discriminator 1 view .LVU111
 150:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 562              		.loc 1 150 5 is_stmt 0 discriminator 1 view .LVU112
 563 0054 632C     		cmp	r4, #99
 564 0056 1DDC     		bgt	.L34
 151:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 565              		.loc 1 151 9 is_stmt 1 view .LVU113
 151:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 566              		.loc 1 151 23 is_stmt 0 view .LVU114
 567 0058 124B     		ldr	r3, .L36
 568 005a 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 151:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 569              		.loc 1 151 12 view .LVU115
 570 005c 312B     		cmp	r3, #49
 571 005e DED0     		beq	.L35
 159:App/Src/manager.c ****             count++;
 572              		.loc 1 159 9 is_stmt 1 view .LVU116
 159:App/Src/manager.c ****             count++;
 573              		.loc 1 159 13 is_stmt 0 view .LVU117
 574 0060 601C     		adds	r0, r4, #1
 575 0062 C0B2     		uxtb	r0, r0
 576 0064 FFF7FEFF 		bl	sd3078b_write_otp
 577              	.LVL57:
 159:App/Src/manager.c ****             count++;
 578              		.loc 1 159 12 view .LVU118
 579 0068 0028     		cmp	r0, #0
 580 006a E9D0     		beq	.L30
 160:App/Src/manager.c ****             g_testFlag[i] = '1';
 581              		.loc 1 160 13 is_stmt 1 view .LVU119
 160:App/Src/manager.c ****             g_testFlag[i] = '1';
 582              		.loc 1 160 18 is_stmt 0 view .LVU120
 583 006c 0135     		adds	r5, r5, #1
 584              	.LVL58:
 161:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 585              		.loc 1 161 13 is_stmt 1 view .LVU121
 161:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 586              		.loc 1 161 27 is_stmt 0 view .LVU122
 587 006e 0D4B     		ldr	r3, .L36
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 16


 588 0070 3122     		movs	r2, #49
 589 0072 1A55     		strb	r2, [r3, r4]
 162:App/Src/manager.c ****             log_printf("chip %d success\n", i + 1);
 590              		.loc 1 162 4 is_stmt 1 view .LVU123
 591 0074 661C     		adds	r6, r4, #1
 592 0076 3246     		mov	r2, r6
 593 0078 2946     		mov	r1, r5
 594 007a 0C48     		ldr	r0, .L36+8
 595 007c FFF7FEFF 		bl	ControlPrintf
 596              	.LVL59:
 163:App/Src/manager.c ****             UsbPrintf("chip %d success\n", i + 1);
 597              		.loc 1 163 13 view .LVU124
 598 0080 0C4F     		ldr	r7, .L36+16
 599 0082 3146     		mov	r1, r6
 600 0084 3846     		mov	r0, r7
 601 0086 FFF7FEFF 		bl	log_printf
 602              	.LVL60:
 164:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 603              		.loc 1 164 13 view .LVU125
 604 008a 3146     		mov	r1, r6
 605 008c 3846     		mov	r0, r7
 606 008e FFF7FEFF 		bl	UsbPrintf
 607              	.LVL61:
 608 0092 DAE7     		b	.L31
 609              	.L34:
 170:App/Src/manager.c ****     }
 171:App/Src/manager.c ****     
 172:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_WRITE_ADD);
 610              		.loc 1 172 5 view .LVU126
 611 0094 0122     		movs	r2, #1
 612 0096 0321     		movs	r1, #3
 613 0098 0248     		ldr	r0, .L36
 614 009a FFF7FEFF 		bl	flash_test_flag_manage
 615              	.LVL62:
 173:App/Src/manager.c ****     return count;
 616              		.loc 1 173 5 view .LVU127
 174:App/Src/manager.c **** }
 617              		.loc 1 174 1 is_stmt 0 view .LVU128
 618 009e 2846     		mov	r0, r5
 619 00a0 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 620              	.LVL63:
 621              	.L37:
 622              		.loc 1 174 1 view .LVU129
 623 00a2 00BF     		.align	2
 624              	.L36:
 625 00a4 00000000 		.word	.LANCHOR1
 626 00a8 00000000 		.word	.LC8
 627 00ac 1C000000 		.word	.LC9
 628 00b0 5C000000 		.word	.LC11
 629 00b4 48000000 		.word	.LC10
 630              		.cfi_endproc
 631              	.LFE239:
 633              		.section	.rodata.system_set_int.str1.4,"aMS",%progbits,1
 634              		.align	2
 635              	.LC12:
 636 0000 74657374 		.ascii	"test chip %d\012\000"
 636      20636869 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 17


 636      70202564 
 636      0A00
 637              		.section	.text.system_set_int,"ax",%progbits
 638              		.align	1
 639              		.global	system_set_int
 640              		.syntax unified
 641              		.thumb
 642              		.thumb_func
 644              	system_set_int:
 645              	.LVL64:
 646              	.LFB240:
 175:App/Src/manager.c **** 
 176:App/Src/manager.c **** void system_set_int(uint8_t channel)
 177:App/Src/manager.c **** {
 647              		.loc 1 177 1 is_stmt 1 view -0
 648              		.cfi_startproc
 649              		@ args = 0, pretend = 0, frame = 0
 650              		@ frame_needed = 0, uses_anonymous_args = 0
 651              		.loc 1 177 1 is_stmt 0 view .LVU131
 652 0000 38B5     		push	{r3, r4, r5, lr}
 653              	.LCFI6:
 654              		.cfi_def_cfa_offset 16
 655              		.cfi_offset 3, -16
 656              		.cfi_offset 4, -12
 657              		.cfi_offset 5, -8
 658              		.cfi_offset 14, -4
 659 0002 0446     		mov	r4, r0
 178:App/Src/manager.c ****     static int lastChannel = -1;
 660              		.loc 1 178 5 is_stmt 1 view .LVU132
 179:App/Src/manager.c ****     // int i;
 180:App/Src/manager.c ****     UsbPrintf("test chip %d\n", channel);
 661              		.loc 1 180 5 view .LVU133
 662 0004 124D     		ldr	r5, .L44
 663 0006 0146     		mov	r1, r0
 664 0008 2846     		mov	r0, r5
 665              	.LVL65:
 666              		.loc 1 180 5 is_stmt 0 view .LVU134
 667 000a FFF7FEFF 		bl	UsbPrintf
 668              	.LVL66:
 181:App/Src/manager.c ****     log_printf("test chip %d\n", channel);
 669              		.loc 1 181 5 is_stmt 1 view .LVU135
 670 000e 2146     		mov	r1, r4
 671 0010 2846     		mov	r0, r5
 672 0012 FFF7FEFF 		bl	log_printf
 673              	.LVL67:
 182:App/Src/manager.c **** 
 183:App/Src/manager.c ****     if (lastChannel > 0) {
 674              		.loc 1 183 5 view .LVU136
 675              		.loc 1 183 21 is_stmt 0 view .LVU137
 676 0016 0F4B     		ldr	r3, .L44+4
 677 0018 1868     		ldr	r0, [r3]
 678              		.loc 1 183 8 view .LVU138
 679 001a 0028     		cmp	r0, #0
 680 001c 03DC     		bgt	.L42
 681              	.L39:
 184:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 185:App/Src/manager.c ****         rtc_disable_int();
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 18


 186:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
 187:App/Src/manager.c ****     }
 188:App/Src/manager.c ****     
 189:App/Src/manager.c ****     if (channel != 0) {
 682              		.loc 1 189 5 is_stmt 1 view .LVU139
 683              		.loc 1 189 8 is_stmt 0 view .LVU140
 684 001e 64B9     		cbnz	r4, .L43
 685              	.L40:
 190:App/Src/manager.c ****         rtc_group_power(channel, POWER_I2C);
 191:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 192:App/Src/manager.c ****         rtc_out_4096();
 193:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 194:App/Src/manager.c ****     } 
 195:App/Src/manager.c ****     lastChannel = channel;
 686              		.loc 1 195 5 is_stmt 1 view .LVU141
 687              		.loc 1 195 17 is_stmt 0 view .LVU142
 688 0020 0C4B     		ldr	r3, .L44+4
 689 0022 1C60     		str	r4, [r3]
 196:App/Src/manager.c **** }
 690              		.loc 1 196 1 view .LVU143
 691 0024 38BD     		pop	{r3, r4, r5, pc}
 692              	.L42:
 184:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 693              		.loc 1 184 9 is_stmt 1 view .LVU144
 694 0026 0121     		movs	r1, #1
 695 0028 C0B2     		uxtb	r0, r0
 696 002a FFF7FEFF 		bl	rtc_group_power
 697              	.LVL68:
 185:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
 698              		.loc 1 185 9 view .LVU145
 699 002e FFF7FEFF 		bl	rtc_disable_int
 700              	.LVL69:
 186:App/Src/manager.c ****     }
 701              		.loc 1 186 9 view .LVU146
 702 0032 2046     		mov	r0, r4
 703 0034 FFF7FEFF 		bl	rtc_1006_exit_testmode
 704              	.LVL70:
 705 0038 F1E7     		b	.L39
 706              	.L43:
 190:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 707              		.loc 1 190 9 view .LVU147
 708 003a 0121     		movs	r1, #1
 709 003c 2046     		mov	r0, r4
 710 003e FFF7FEFF 		bl	rtc_group_power
 711              	.LVL71:
 191:App/Src/manager.c ****         rtc_out_4096();
 712              		.loc 1 191 9 view .LVU148
 713 0042 2046     		mov	r0, r4
 714 0044 FFF7FEFF 		bl	rtc_1006_set_testmode
 715              	.LVL72:
 192:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 716              		.loc 1 192 9 view .LVU149
 717 0048 FFF7FEFF 		bl	rtc_out_4096
 718              	.LVL73:
 719 004c E8E7     		b	.L40
 720              	.L45:
 721 004e 00BF     		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 19


 722              	.L44:
 723 0050 00000000 		.word	.LC12
 724 0054 00000000 		.word	.LANCHOR2
 725              		.cfi_endproc
 726              	.LFE240:
 728              		.section	.text.check_system_temp,"ax",%progbits
 729              		.align	1
 730              		.global	check_system_temp
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 735              	check_system_temp:
 736              	.LFB241:
 197:App/Src/manager.c **** 
 198:App/Src/manager.c **** int check_system_temp(void)
 199:App/Src/manager.c **** {
 737              		.loc 1 199 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 0
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 741 0000 08B5     		push	{r3, lr}
 742              	.LCFI7:
 743              		.cfi_def_cfa_offset 8
 744              		.cfi_offset 3, -8
 745              		.cfi_offset 14, -4
 200:App/Src/manager.c ****     float temp;
 746              		.loc 1 200 5 view .LVU151
 201:App/Src/manager.c ****     temp = temp_read_value(1);
 747              		.loc 1 201 5 view .LVU152
 748              		.loc 1 201 12 is_stmt 0 view .LVU153
 749 0002 0120     		movs	r0, #1
 750 0004 FFF7FEFF 		bl	temp_read_value
 751              	.LVL74:
 202:App/Src/manager.c ****     int num = 100;
 752              		.loc 1 202 5 is_stmt 1 view .LVU154
 203:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 753              		.loc 1 203 5 view .LVU155
 754              		.loc 1 203 8 is_stmt 0 view .LVU156
 755 0008 DFED297A 		vldr.32	s15, .L70
 756 000c B4EEE70A 		vcmpe.f32	s0, s15
 757 0010 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 758 0014 06DB     		blt	.L47
 759              		.loc 1 203 21 discriminator 1 view .LVU157
 760 0016 DFED277A 		vldr.32	s15, .L70+4
 761 001a B4EEE70A 		vcmpe.f32	s0, s15
 762 001e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 763 0022 39D9     		bls	.L57
 764              	.L47:
 204:App/Src/manager.c ****         num = TEST_RTC_TEMP_F40;
 205:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 765              		.loc 1 205 12 is_stmt 1 view .LVU158
 766              		.loc 1 205 15 is_stmt 0 view .LVU159
 767 0024 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 768 0028 B4EEE70A 		vcmpe.f32	s0, s15
 769 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 770 0030 06DB     		blt	.L50
 771              		.loc 1 205 28 discriminator 1 view .LVU160
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 20


 772 0032 F9EE047A 		vmov.f32	s15, #-5.0e+0
 773 0036 B4EEE70A 		vcmpe.f32	s0, s15
 774 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 775 003e 2DD9     		bls	.L58
 776              	.L50:
 206:App/Src/manager.c ****         num = TEST_RTC_TEMP_F10;
 207:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 777              		.loc 1 207 13 is_stmt 1 view .LVU161
 778              		.loc 1 207 16 is_stmt 0 view .LVU162
 779 0040 F3EE047A 		vmov.f32	s15, #2.0e+1
 780 0044 B4EEE70A 		vcmpe.f32	s0, s15
 781 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 782 004c 06DB     		blt	.L52
 783              		.loc 1 207 28 discriminator 1 view .LVU163
 784 004e DFED1A7A 		vldr.32	s15, .L70+8
 785 0052 B4EEE70A 		vcmpe.f32	s0, s15
 786 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 787 005a 21D9     		bls	.L59
 788              	.L52:
 208:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z29;
 209:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 789              		.loc 1 209 12 is_stmt 1 view .LVU164
 790              		.loc 1 209 15 is_stmt 0 view .LVU165
 791 005c DFED177A 		vldr.32	s15, .L70+12
 792 0060 B4EEE70A 		vcmpe.f32	s0, s15
 793 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 794 0068 06DB     		blt	.L54
 795              		.loc 1 209 27 discriminator 1 view .LVU166
 796 006a DFED157A 		vldr.32	s15, .L70+16
 797 006e B4EEE70A 		vcmpe.f32	s0, s15
 798 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 799 0076 15D9     		bls	.L60
 800              	.L54:
 210:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z60;
 211:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 801              		.loc 1 211 12 is_stmt 1 view .LVU167
 802              		.loc 1 211 15 is_stmt 0 view .LVU168
 803 0078 DFED127A 		vldr.32	s15, .L70+20
 804 007c B4EEE70A 		vcmpe.f32	s0, s15
 805 0080 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 806 0084 10DB     		blt	.L68
 807              		.loc 1 211 27 discriminator 1 view .LVU169
 808 0086 DFED107A 		vldr.32	s15, .L70+24
 809 008a B4EEE70A 		vcmpe.f32	s0, s15
 810 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 811 0092 0BD9     		bls	.L62
 202:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 812              		.loc 1 202 9 view .LVU170
 813 0094 6420     		movs	r0, #100
 814 0096 00E0     		b	.L46
 815              	.L57:
 204:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 816              		.loc 1 204 13 view .LVU171
 817 0098 0020     		movs	r0, #0
 818              	.LVL75:
 819              	.L46:
 212:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z85;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 21


 213:App/Src/manager.c ****     }
 214:App/Src/manager.c ****     return num;
 215:App/Src/manager.c **** }
 820              		.loc 1 215 1 view .LVU172
 821 009a 08BD     		pop	{r3, pc}
 822              	.LVL76:
 823              	.L58:
 206:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 824              		.loc 1 206 13 view .LVU173
 825 009c 0120     		movs	r0, #1
 826 009e FCE7     		b	.L46
 827              	.L59:
 208:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 828              		.loc 1 208 13 view .LVU174
 829 00a0 0220     		movs	r0, #2
 830 00a2 FAE7     		b	.L46
 831              	.L60:
 210:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 832              		.loc 1 210 13 view .LVU175
 833 00a4 0320     		movs	r0, #3
 834 00a6 F8E7     		b	.L46
 835              	.L68:
 202:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 836              		.loc 1 202 9 view .LVU176
 837 00a8 6420     		movs	r0, #100
 838 00aa F6E7     		b	.L46
 839              	.L62:
 212:App/Src/manager.c ****     }
 840              		.loc 1 212 13 view .LVU177
 841 00ac 0420     		movs	r0, #4
 842              	.LVL77:
 214:App/Src/manager.c **** }
 843              		.loc 1 214 5 is_stmt 1 view .LVU178
 214:App/Src/manager.c **** }
 844              		.loc 1 214 12 is_stmt 0 view .LVU179
 845 00ae F4E7     		b	.L46
 846              	.L71:
 847              		.align	2
 848              	.L70:
 849 00b0 000034C2 		.word	-1036779520
 850 00b4 00000CC2 		.word	-1039400960
 851 00b8 00002042 		.word	1109393408
 852 00bc 00005C42 		.word	1113325568
 853 00c0 00008242 		.word	1115815936
 854 00c4 0000A042 		.word	1117782016
 855 00c8 0000B442 		.word	1119092736
 856              		.cfi_endproc
 857              	.LFE241:
 859              		.section	.text.systm_cap_save_buffer,"ax",%progbits
 860              		.align	1
 861              		.global	systm_cap_save_buffer
 862              		.syntax unified
 863              		.thumb
 864              		.thumb_func
 866              	systm_cap_save_buffer:
 867              	.LVL78:
 868              	.LFB242:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 22


 216:App/Src/manager.c **** 
 217:App/Src/manager.c **** 
 218:App/Src/manager.c **** void systm_cap_save_buffer(uint8_t rtcNumber, float testTemp, float testCap)
 219:App/Src/manager.c **** {
 869              		.loc 1 219 1 is_stmt 1 view -0
 870              		.cfi_startproc
 871              		@ args = 0, pretend = 0, frame = 0
 872              		@ frame_needed = 0, uses_anonymous_args = 0
 873              		@ link register save eliminated.
 220:App/Src/manager.c ****     int i;
 874              		.loc 1 220 5 view .LVU181
 221:App/Src/manager.c **** 
 222:App/Src/manager.c ****     if (rtcNumber == 0) {
 875              		.loc 1 222 5 view .LVU182
 876              		.loc 1 222 8 is_stmt 0 view .LVU183
 877 0000 0246     		mov	r2, r0
 878 0002 C8B1     		cbz	r0, .L77
 223:App/Src/manager.c ****         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 224:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 225:App/Src/manager.c ****         }
 226:App/Src/manager.c ****     } else {
 227:App/Src/manager.c ****         g_oneData.flag[rtcNumber - 1] = CAP_ADJUST_SUCCESS;
 879              		.loc 1 227 9 is_stmt 1 view .LVU184
 880              		.loc 1 227 34 is_stmt 0 view .LVU185
 881 0004 411E     		subs	r1, r0, #1
 882              		.loc 1 227 39 view .LVU186
 883 0006 0D4B     		ldr	r3, .L79
 884 0008 5818     		adds	r0, r3, r1
 885              	.LVL79:
 886              		.loc 1 227 39 view .LVU187
 887 000a 4FF0020C 		mov	ip, #2
 888 000e 80F824C3 		strb	ip, [r0, #804]
 228:App/Src/manager.c ****         g_oneData.temp[rtcNumber - 1] = testTemp;
 889              		.loc 1 228 9 is_stmt 1 view .LVU188
 890              		.loc 1 228 39 is_stmt 0 view .LVU189
 891 0012 03EB8101 		add	r1, r3, r1, lsl #2
 892 0016 81ED010A 		vstr.32	s0, [r1, #4]
 229:App/Src/manager.c ****         g_oneData.cap[rtcNumber - 1] = testCap;
 893              		.loc 1 229 9 is_stmt 1 view .LVU190
 894              		.loc 1 229 38 is_stmt 0 view .LVU191
 895 001a 6332     		adds	r2, r2, #99
 896 001c 03EB8203 		add	r3, r3, r2, lsl #2
 897 0020 C3ED010A 		vstr.32	s1, [r3, #4]
 230:App/Src/manager.c ****     }
 231:App/Src/manager.c **** }
 898              		.loc 1 231 1 view .LVU192
 899 0024 7047     		bx	lr
 900              	.LVL80:
 901              	.L75:
 224:App/Src/manager.c ****         }
 902              		.loc 1 224 12 is_stmt 1 discriminator 3 view .LVU193
 224:App/Src/manager.c ****         }
 903              		.loc 1 224 30 is_stmt 0 discriminator 3 view .LVU194
 904 0026 054A     		ldr	r2, .L79
 905 0028 1A44     		add	r2, r2, r3
 906 002a 0021     		movs	r1, #0
 907 002c 82F82413 		strb	r1, [r2, #804]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 23


 223:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 908              		.loc 1 223 42 is_stmt 1 discriminator 3 view .LVU195
 223:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 909              		.loc 1 223 43 is_stmt 0 discriminator 3 view .LVU196
 910 0030 0133     		adds	r3, r3, #1
 911              	.LVL81:
 912              	.L73:
 223:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 913              		.loc 1 223 21 is_stmt 1 discriminator 1 view .LVU197
 223:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 914              		.loc 1 223 9 is_stmt 0 discriminator 1 view .LVU198
 915 0032 632B     		cmp	r3, #99
 916 0034 F7DD     		ble	.L75
 917 0036 7047     		bx	lr
 918              	.LVL82:
 919              	.L77:
 223:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 920              		.loc 1 223 16 view .LVU199
 921 0038 0023     		movs	r3, #0
 922 003a FAE7     		b	.L73
 923              	.L80:
 924              		.align	2
 925              	.L79:
 926 003c 00000000 		.word	.LANCHOR3
 927              		.cfi_endproc
 928              	.LFE242:
 930              		.section	.text.system_check_test_dot,"ax",%progbits
 931              		.align	1
 932              		.global	system_check_test_dot
 933              		.syntax unified
 934              		.thumb
 935              		.thumb_func
 937              	system_check_test_dot:
 938              	.LVL83:
 939              	.LFB243:
 232:App/Src/manager.c **** 
 233:App/Src/manager.c **** uint8_t system_check_test_dot(uint8_t rtcNumber, uint8_t testNumber)
 234:App/Src/manager.c **** {
 940              		.loc 1 234 1 is_stmt 1 view -0
 941              		.cfi_startproc
 942              		@ args = 0, pretend = 0, frame = 8
 943              		@ frame_needed = 0, uses_anonymous_args = 0
 944              		.loc 1 234 1 is_stmt 0 view .LVU201
 945 0000 00B5     		push	{lr}
 946              	.LCFI8:
 947              		.cfi_def_cfa_offset 4
 948              		.cfi_offset 14, -4
 949 0002 83B0     		sub	sp, sp, #12
 950              	.LCFI9:
 951              		.cfi_def_cfa_offset 16
 952 0004 0B46     		mov	r3, r1
 235:App/Src/manager.c ****     uint32_t address;
 953              		.loc 1 235 5 is_stmt 1 view .LVU202
 236:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 954              		.loc 1 236 5 view .LVU203
 955              		.loc 1 236 13 is_stmt 0 view .LVU204
 956 0006 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 24


 957 0008 0192     		str	r2, [sp, #4]
 237:App/Src/manager.c ****     
 238:App/Src/manager.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + tes
 958              		.loc 1 238 5 is_stmt 1 view .LVU205
 959              		.loc 1 238 38 is_stmt 0 view .LVU206
 960 000a 0730     		adds	r0, r0, #7
 961              	.LVL84:
 962              		.loc 1 238 38 view .LVU207
 963 000c 4002     		lsls	r0, r0, #9
 964              		.loc 1 238 79 view .LVU208
 965 000e 0830     		adds	r0, r0, #8
 966              	.LVL85:
 239:App/Src/manager.c ****     flash_read_data(address, buffer, 4);
 967              		.loc 1 239 5 is_stmt 1 view .LVU209
 968 0010 0422     		movs	r2, #4
 969 0012 0DEB0201 		add	r1, sp, r2
 970              	.LVL86:
 971              		.loc 1 239 5 is_stmt 0 view .LVU210
 972 0016 00EB8300 		add	r0, r0, r3, lsl #2
 973              	.LVL87:
 974              		.loc 1 239 5 view .LVU211
 975 001a FFF7FEFF 		bl	flash_read_data
 976              	.LVL88:
 240:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 977              		.loc 1 240 5 is_stmt 1 view .LVU212
 978              		.loc 1 240 15 is_stmt 0 view .LVU213
 979 001e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 980              		.loc 1 240 8 view .LVU214
 981 0022 FF2B     		cmp	r3, #255
 982 0024 0DD1     		bne	.L83
 983              		.loc 1 240 36 discriminator 2 view .LVU215
 984 0026 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 985              		.loc 1 240 27 discriminator 2 view .LVU216
 986 002a FF2B     		cmp	r3, #255
 987 002c 0DD1     		bne	.L84
 988              		.loc 1 240 57 discriminator 4 view .LVU217
 989 002e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 990              		.loc 1 240 48 discriminator 4 view .LVU218
 991 0032 FF2B     		cmp	r3, #255
 992 0034 0BD1     		bne	.L85
 993              		.loc 1 240 78 discriminator 6 view .LVU219
 994 0036 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 995              		.loc 1 240 69 discriminator 6 view .LVU220
 996 003a FF2B     		cmp	r3, #255
 997 003c 09D1     		bne	.L86
 241:App/Src/manager.c ****     return 0;
 998              		.loc 1 241 12 view .LVU221
 999 003e 0020     		movs	r0, #0
 1000 0040 00E0     		b	.L82
 1001              	.L83:
 240:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 1002              		.loc 1 240 100 view .LVU222
 1003 0042 0120     		movs	r0, #1
 1004              	.L82:
 242:App/Src/manager.c **** }
 1005              		.loc 1 242 1 view .LVU223
 1006 0044 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 25


 1007              	.LCFI10:
 1008              		.cfi_remember_state
 1009              		.cfi_def_cfa_offset 4
 1010              		@ sp needed
 1011 0046 5DF804FB 		ldr	pc, [sp], #4
 1012              	.L84:
 1013              	.LCFI11:
 1014              		.cfi_restore_state
 240:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 1015              		.loc 1 240 100 view .LVU224
 1016 004a 0120     		movs	r0, #1
 1017 004c FAE7     		b	.L82
 1018              	.L85:
 1019 004e 0120     		movs	r0, #1
 1020 0050 F8E7     		b	.L82
 1021              	.L86:
 1022 0052 0120     		movs	r0, #1
 1023 0054 F6E7     		b	.L82
 1024              		.cfi_endproc
 1025              	.LFE243:
 1027              		.section	.text.system_cap_write_flash,"ax",%progbits
 1028              		.align	1
 1029              		.global	system_cap_write_flash
 1030              		.syntax unified
 1031              		.thumb
 1032              		.thumb_func
 1034              	system_cap_write_flash:
 1035              	.LFB244:
 243:App/Src/manager.c **** 
 244:App/Src/manager.c **** void system_cap_write_flash(void)
 245:App/Src/manager.c **** {
 1036              		.loc 1 245 1 is_stmt 1 view -0
 1037              		.cfi_startproc
 1038              		@ args = 0, pretend = 0, frame = 8
 1039              		@ frame_needed = 0, uses_anonymous_args = 0
 1040 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1041              	.LCFI12:
 1042              		.cfi_def_cfa_offset 20
 1043              		.cfi_offset 4, -20
 1044              		.cfi_offset 5, -16
 1045              		.cfi_offset 6, -12
 1046              		.cfi_offset 7, -8
 1047              		.cfi_offset 14, -4
 1048 0002 83B0     		sub	sp, sp, #12
 1049              	.LCFI13:
 1050              		.cfi_def_cfa_offset 32
 246:App/Src/manager.c ****     uint32_t address;
 1051              		.loc 1 246 5 view .LVU226
 247:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 1052              		.loc 1 247 5 view .LVU227
 1053              		.loc 1 247 13 is_stmt 0 view .LVU228
 1054 0004 0024     		movs	r4, #0
 1055 0006 0194     		str	r4, [sp, #4]
 248:App/Src/manager.c ****     int i;
 1056              		.loc 1 248 5 is_stmt 1 view .LVU229
 249:App/Src/manager.c **** 
 250:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 26


 1057              		.loc 1 250 5 view .LVU230
 1058              	.LVL89:
 1059              		.loc 1 250 5 is_stmt 0 view .LVU231
 1060 0008 00E0     		b	.L89
 1061              	.LVL90:
 1062              	.L90:
 1063              		.loc 1 250 38 is_stmt 1 discriminator 2 view .LVU232
 1064              		.loc 1 250 39 is_stmt 0 discriminator 2 view .LVU233
 1065 000a 0134     		adds	r4, r4, #1
 1066              	.LVL91:
 1067              	.L89:
 1068              		.loc 1 250 17 is_stmt 1 discriminator 1 view .LVU234
 1069              		.loc 1 250 5 is_stmt 0 discriminator 1 view .LVU235
 1070 000c 632C     		cmp	r4, #99
 1071 000e 3BDC     		bgt	.L93
 251:App/Src/manager.c ****         if (g_oneData.flag[i] != CAP_ADJUST_SUCCESS) { continue; }//测试不成功，不会写入flash
 1072              		.loc 1 251 9 is_stmt 1 view .LVU236
 1073              		.loc 1 251 27 is_stmt 0 view .LVU237
 1074 0010 1E4B     		ldr	r3, .L94
 1075 0012 2344     		add	r3, r3, r4
 1076 0014 93F82433 		ldrb	r3, [r3, #804]	@ zero_extendqisi2
 1077              		.loc 1 251 12 view .LVU238
 1078 0018 022B     		cmp	r3, #2
 1079 001a F6D1     		bne	.L90
 252:App/Src/manager.c ****         if (system_check_test_dot(i + 1, g_oneData.number) > 0) { continue; }//防止重复测试不会更新
 1080              		.loc 1 252 9 is_stmt 1 view .LVU239
 1081              		.loc 1 252 13 is_stmt 0 view .LVU240
 1082 001c 601C     		adds	r0, r4, #1
 1083 001e 1B4B     		ldr	r3, .L94
 1084 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1085 0022 C0B2     		uxtb	r0, r0
 1086 0024 FFF7FEFF 		bl	system_check_test_dot
 1087              	.LVL92:
 1088              		.loc 1 252 12 view .LVU241
 1089 0028 0028     		cmp	r0, #0
 1090 002a EED1     		bne	.L90
 253:App/Src/manager.c ****         // HAL_Delay(1);
 254:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + g_oneData.num
 1091              		.loc 1 254 9 is_stmt 1 view .LVU242
 1092              		.loc 1 254 42 is_stmt 0 view .LVU243
 1093 002c 04F10805 		add	r5, r4, #8
 1094 0030 6D02     		lsls	r5, r5, #9
 1095              		.loc 1 254 69 view .LVU244
 1096 0032 05F10807 		add	r7, r5, #8
 1097              		.loc 1 254 96 view .LVU245
 1098 0036 154E     		ldr	r6, .L94
 1099 0038 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1100              		.loc 1 254 85 view .LVU246
 1101 003a 07EB8307 		add	r7, r7, r3, lsl #2
 1102              	.LVL93:
 255:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.temp[i]);
 1103              		.loc 1 255 9 is_stmt 1 view .LVU247
 1104 003e 06EB8401 		add	r1, r6, r4, lsl #2
 1105 0042 0431     		adds	r1, r1, #4
 1106 0044 01A8     		add	r0, sp, #4
 1107 0046 FFF7FEFF 		bl	float_to_uint8
 1108              	.LVL94:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 27


 256:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1109              		.loc 1 256 9 view .LVU248
 1110 004a 0422     		movs	r2, #4
 1111 004c 0DEB0201 		add	r1, sp, r2
 1112 0050 3846     		mov	r0, r7
 1113 0052 FFF7FEFF 		bl	flash_write_data
 1114              	.LVL95:
 257:App/Src/manager.c ****         HAL_Delay(5);
 1115              		.loc 1 257 9 view .LVU249
 1116 0056 0520     		movs	r0, #5
 1117 0058 FFF7FEFF 		bl	HAL_Delay
 1118              	.LVL96:
 258:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_CAP + g_oneData.numb
 1119              		.loc 1 258 9 view .LVU250
 1120              		.loc 1 258 69 is_stmt 0 view .LVU251
 1121 005c 1C35     		adds	r5, r5, #28
 1122              		.loc 1 258 95 view .LVU252
 1123 005e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1124              		.loc 1 258 84 view .LVU253
 1125 0060 05EB8305 		add	r5, r5, r3, lsl #2
 1126              	.LVL97:
 259:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.cap[i]);
 1127              		.loc 1 259 9 is_stmt 1 view .LVU254
 1128 0064 04F16401 		add	r1, r4, #100
 1129 0068 06EB8101 		add	r1, r6, r1, lsl #2
 1130 006c 0431     		adds	r1, r1, #4
 1131 006e 01A8     		add	r0, sp, #4
 1132 0070 FFF7FEFF 		bl	float_to_uint8
 1133              	.LVL98:
 260:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1134              		.loc 1 260 9 view .LVU255
 1135 0074 0422     		movs	r2, #4
 1136 0076 0DEB0201 		add	r1, sp, r2
 1137 007a 2846     		mov	r0, r5
 1138 007c FFF7FEFF 		bl	flash_write_data
 1139              	.LVL99:
 261:App/Src/manager.c ****         HAL_Delay(5);
 1140              		.loc 1 261 9 view .LVU256
 1141 0080 0520     		movs	r0, #5
 1142 0082 FFF7FEFF 		bl	HAL_Delay
 1143              	.LVL100:
 1144 0086 C0E7     		b	.L90
 1145              	.LVL101:
 1146              	.L93:
 262:App/Src/manager.c ****     }
 263:App/Src/manager.c **** }
 1147              		.loc 1 263 1 is_stmt 0 view .LVU257
 1148 0088 03B0     		add	sp, sp, #12
 1149              	.LCFI14:
 1150              		.cfi_def_cfa_offset 20
 1151              		@ sp needed
 1152 008a F0BD     		pop	{r4, r5, r6, r7, pc}
 1153              	.LVL102:
 1154              	.L95:
 1155              		.loc 1 263 1 view .LVU258
 1156              		.align	2
 1157              	.L94:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 28


 1158 008c 00000000 		.word	.LANCHOR3
 1159              		.cfi_endproc
 1160              	.LFE244:
 1162              		.section	.rodata.system_tool_calculate_sec.str1.4,"aMS",%progbits,1
 1163              		.align	2
 1164              	.LC13:
 1165 0000 1F1C1F1E 		.ascii	"\037\034\037\036\037\036\037\037\036\037\036\037\000"
 1165      1F1E1F1F 
 1165      1E1F1E1F 
 1165      00
 1166              		.section	.text.system_tool_calculate_sec,"ax",%progbits
 1167              		.align	1
 1168              		.global	system_tool_calculate_sec
 1169              		.syntax unified
 1170              		.thumb
 1171              		.thumb_func
 1173              	system_tool_calculate_sec:
 1174              	.LFB245:
 264:App/Src/manager.c **** //计算基于2000年以后的时间秒
 265:App/Src/manager.c **** int system_tool_calculate_sec(RealTime time)
 266:App/Src/manager.c **** {
 1175              		.loc 1 266 1 is_stmt 1 view -0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 24
 1178              		@ frame_needed = 0, uses_anonymous_args = 0
 1179              		@ link register save eliminated.
 1180 0000 86B0     		sub	sp, sp, #24
 1181              	.LCFI15:
 1182              		.cfi_def_cfa_offset 24
 1183 0002 6B46     		mov	r3, sp
 1184 0004 83E80300 		stm	r3, {r0, r1}
 267:App/Src/manager.c ****     int number;
 1185              		.loc 1 267 5 view .LVU260
 268:App/Src/manager.c ****     uint8_t dayInMon[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 1186              		.loc 1 268 5 view .LVU261
 1187              		.loc 1 268 13 is_stmt 0 view .LVU262
 1188 0008 244B     		ldr	r3, .L106
 1189 000a 93E80700 		ldm	r3, {r0, r1, r2}
 1190 000e 06AB     		add	r3, sp, #24
 1191 0010 03E90700 		stmdb	r3, {r0, r1, r2}
 269:App/Src/manager.c ****     uint8_t i;
 1192              		.loc 1 269 5 is_stmt 1 view .LVU263
 270:App/Src/manager.c ****     int day = 0; 
 1193              		.loc 1 270 5 view .LVU264
 1194              	.LVL103:
 271:App/Src/manager.c ****     if (time.year >= 100 || time.year == 0) {
 1195              		.loc 1 271 5 view .LVU265
 1196              		.loc 1 271 13 is_stmt 0 view .LVU266
 1197 0014 9DF800C0 		ldrb	ip, [sp]	@ zero_extendqisi2
 1198              		.loc 1 271 26 view .LVU267
 1199 0018 0CF1FF33 		add	r3, ip, #-1
 1200 001c DBB2     		uxtb	r3, r3
 1201              		.loc 1 271 8 view .LVU268
 1202 001e 622B     		cmp	r3, #98
 1203 0020 1BD8     		bhi	.L103
 272:App/Src/manager.c ****         day = 0;
 273:App/Src/manager.c ****     } else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 29


 274:App/Src/manager.c ****         day = 365 * time.year + ((time.year - 1) / 4);//补足闰年的天数
 1204              		.loc 1 274 9 is_stmt 1 view .LVU269
 1205              		.loc 1 274 19 is_stmt 0 view .LVU270
 1206 0022 40F26D10 		movw	r0, #365
 1207 0026 00FB0CF0 		mul	r0, r0, ip
 1208              		.loc 1 274 50 view .LVU271
 1209 002a BCF10103 		subs	r3, ip, #1
 1210 002e 12D4     		bmi	.L105
 1211              	.L98:
 1212              		.loc 1 274 13 view .LVU272
 1213 0030 00EBA300 		add	r0, r0, r3, asr #2
 1214              	.LVL104:
 1215              	.L97:
 272:App/Src/manager.c ****         day = 0;
 1216              		.loc 1 272 13 discriminator 1 view .LVU273
 1217 0034 0023     		movs	r3, #0
 1218              	.L99:
 1219              	.LVL105:
 275:App/Src/manager.c ****     }
 276:App/Src/manager.c ****     for (i = 0; i < 12; i++) {
 1220              		.loc 1 276 17 is_stmt 1 discriminator 1 view .LVU274
 1221              		.loc 1 276 5 is_stmt 0 discriminator 1 view .LVU275
 1222 0036 0B2B     		cmp	r3, #11
 1223 0038 11D8     		bhi	.L100
 277:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1224              		.loc 1 277 9 is_stmt 1 view .LVU276
 1225              		.loc 1 277 16 is_stmt 0 view .LVU277
 1226 003a 5A1C     		adds	r2, r3, #1
 1227              		.loc 1 277 28 view .LVU278
 1228 003c 9DF80110 		ldrb	r1, [sp, #1]	@ zero_extendqisi2
 1229              		.loc 1 277 12 view .LVU279
 1230 0040 8A42     		cmp	r2, r1
 1231 0042 0CD0     		beq	.L100
 278:App/Src/manager.c ****         day += dayInMon[i];
 1232              		.loc 1 278 9 is_stmt 1 discriminator 2 view .LVU280
 1233              		.loc 1 278 24 is_stmt 0 discriminator 2 view .LVU281
 1234 0044 03F11802 		add	r2, r3, #24
 1235 0048 6A44     		add	r2, sp, r2
 1236 004a 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
 1237              		.loc 1 278 13 discriminator 2 view .LVU282
 1238 004e 1044     		add	r0, r0, r2
 1239              	.LVL106:
 276:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1240              		.loc 1 276 25 is_stmt 1 discriminator 2 view .LVU283
 276:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1241              		.loc 1 276 26 is_stmt 0 discriminator 2 view .LVU284
 1242 0050 0133     		adds	r3, r3, #1
 1243              	.LVL107:
 276:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1244              		.loc 1 276 26 discriminator 2 view .LVU285
 1245 0052 DBB2     		uxtb	r3, r3
 1246              	.LVL108:
 276:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1247              		.loc 1 276 26 discriminator 2 view .LVU286
 1248 0054 EFE7     		b	.L99
 1249              	.LVL109:
 1250              	.L105:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 30


 274:App/Src/manager.c ****     }
 1251              		.loc 1 274 50 view .LVU287
 1252 0056 0333     		adds	r3, r3, #3
 1253 0058 EAE7     		b	.L98
 1254              	.L103:
 272:App/Src/manager.c ****     } else {
 1255              		.loc 1 272 13 view .LVU288
 1256 005a 0020     		movs	r0, #0
 1257 005c EAE7     		b	.L97
 1258              	.LVL110:
 1259              	.L100:
 279:App/Src/manager.c ****     }
 280:App/Src/manager.c ****     day += time.day; 
 1260              		.loc 1 280 5 is_stmt 1 view .LVU289
 1261              		.loc 1 280 16 is_stmt 0 view .LVU290
 1262 005e 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 1263              	.LVL111:
 1264              		.loc 1 280 9 view .LVU291
 1265 0062 1844     		add	r0, r0, r3
 1266              	.LVL112:
 281:App/Src/manager.c ****     if ((time.year % 4) == 0 && time.mon >= 3) {
 1267              		.loc 1 281 5 is_stmt 1 view .LVU292
 1268              		.loc 1 281 8 is_stmt 0 view .LVU293
 1269 0064 1CF0030F 		tst	ip, #3
 1270 0068 04D1     		bne	.L102
 1271              		.loc 1 281 37 discriminator 1 view .LVU294
 1272 006a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1273              		.loc 1 281 30 discriminator 1 view .LVU295
 1274 006e 022B     		cmp	r3, #2
 1275 0070 00D9     		bls	.L102
 282:App/Src/manager.c ****         day += 1;       //闰月＋1
 1276              		.loc 1 282 9 is_stmt 1 view .LVU296
 1277              		.loc 1 282 13 is_stmt 0 view .LVU297
 1278 0072 0130     		adds	r0, r0, #1
 1279              	.LVL113:
 1280              	.L102:
 283:App/Src/manager.c ****     }
 284:App/Src/manager.c ****     number = time.sec + (uint32_t)time.min * 60 + (uint32_t)time.hour * 3600 + day * 24 * 3600;
 1281              		.loc 1 284 5 is_stmt 1 view .LVU298
 1282              		.loc 1 284 18 is_stmt 0 view .LVU299
 1283 0074 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 1284              		.loc 1 284 65 view .LVU300
 1285 0078 9DF803C0 		ldrb	ip, [sp, #3]	@ zero_extendqisi2
 1286              		.loc 1 284 39 view .LVU301
 1287 007c 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 1288              		.loc 1 284 44 view .LVU302
 1289 0080 C2EB0212 		rsb	r2, r2, r2, lsl #4
 1290 0084 9300     		lsls	r3, r2, #2
 1291              		.loc 1 284 49 view .LVU303
 1292 0086 4FF46162 		mov	r2, #3600
 1293 008a 02FB0C33 		mla	r3, r2, ip, r3
 1294 008e 0B44     		add	r3, r3, r1
 1295              	.LVL114:
 285:App/Src/manager.c ****     return number;
 1296              		.loc 1 285 5 is_stmt 1 view .LVU304
 286:App/Src/manager.c **** }
 1297              		.loc 1 286 1 is_stmt 0 view .LVU305
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 31


 1298 0090 034A     		ldr	r2, .L106+4
 1299 0092 02FB0030 		mla	r0, r2, r0, r3
 1300              	.LVL115:
 1301              		.loc 1 286 1 view .LVU306
 1302 0096 06B0     		add	sp, sp, #24
 1303              	.LCFI16:
 1304              		.cfi_def_cfa_offset 0
 1305              		@ sp needed
 1306 0098 7047     		bx	lr
 1307              	.L107:
 1308 009a 00BF     		.align	2
 1309              	.L106:
 1310 009c 00000000 		.word	.LC13
 1311 00a0 80510100 		.word	86400
 1312              		.cfi_endproc
 1313              	.LFE245:
 1315              		.section	.rodata.system_manage_test_mode.str1.4,"aMS",%progbits,1
 1316              		.align	2
 1317              	.LC14:
 1318 0000 67726F75 		.ascii	"group i2c test:\000"
 1318      70206932 
 1318      63207465 
 1318      73743A00 
 1319              		.align	2
 1320              	.LC15:
 1321 0010 0A00     		.ascii	"\012\000"
 1322 0012 0000     		.align	2
 1323              	.LC16:
 1324 0014 310900   		.ascii	"1\011\000"
 1325 0017 00       		.align	2
 1326              	.LC17:
 1327 0018 300900   		.ascii	"0\011\000"
 1328 001b 00       		.align	2
 1329              	.LC18:
 1330 001c 0A6F6B20 		.ascii	"\012ok sum:%d\012\000"
 1330      73756D3A 
 1330      25640A00 
 1331              		.align	2
 1332              	.LC19:
 1333 0028 73756363 		.ascii	"success count:%d\012\000"
 1333      65737320 
 1333      636F756E 
 1333      743A2564 
 1333      0A00
 1334 003a 0000     		.align	2
 1335              	.LC20:
 1336 003c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\262\342\312\324\315"
 1336      6D626572 
 1336      3A256420 
 1336      63686970 
 1336      4E616D65 
 1337 0061 EAB3C90A 		.ascii	"\352\263\311\012\000"
 1337      00
 1338 0066 0000     		.align	2
 1339              	.LC21:
 1340 0068 73797374 		.ascii	"system temp:%.2f, test dot:%d\012\000"
 1340      656D2074 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 32


 1340      656D703A 
 1340      252E3266 
 1340      2C207465 
 1341 0087 00       		.align	2
 1342              	.LC22:
 1343 0088 73797374 		.ascii	"system temp can't test!\012\000"
 1343      656D2074 
 1343      656D7020 
 1343      63616E27 
 1343      74207465 
 1344 00a1 000000   		.align	2
 1345              	.LC23:
 1346 00a4 73797374 		.ascii	"system temp %.2f can't test!\012\000"
 1346      656D2074 
 1346      656D7020 
 1346      252E3266 
 1346      2063616E 
 1347 00c2 0000     		.align	2
 1348              	.LC24:
 1349 00c4 6F6B4E75 		.ascii	"okNumber:%d message:\265\245\265\343\262\342\312\324"
 1349      6D626572 
 1349      3A256420 
 1349      6D657373 
 1349      6167653A 
 1350 00e0 CDEAB3C9 		.ascii	"\315\352\263\311\012\000"
 1350      0A00
 1351 00e6 0000     		.align	2
 1352              	.LC25:
 1353 00e8 63617020 		.ascii	"cap adjust test end.\012\000"
 1353      61646A75 
 1353      73742074 
 1353      65737420 
 1353      656E642E 
 1354 00fe 0000     		.align	2
 1355              	.LC26:
 1356 0100 63686970 		.ascii	"chipTemp:%d chipName:%d message:OK\012\000"
 1356      54656D70 
 1356      3A256420 
 1356      63686970 
 1356      4E616D65 
 1357              		.align	2
 1358              	.LC27:
 1359 0124 636F756E 		.ascii	"count:%d, temp:%.1f, cap:%.2f\012\000"
 1359      743A2564 
 1359      2C207465 
 1359      6D703A25 
 1359      2E31662C 
 1360 0143 00       		.align	2
 1361              	.LC28:
 1362 0144 63686970 		.ascii	"chipName:%d message:fail!\012\000"
 1362      4E616D65 
 1362      3A256420 
 1362      6D657373 
 1362      6167653A 
 1363 015f 00       		.align	2
 1364              	.LC29:
 1365 0160 73797374 		.ascii	"system temp test cover!\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 33


 1365      656D2074 
 1365      656D7020 
 1365      74657374 
 1365      20636F76 
 1366 0179 000000   		.align	2
 1367              	.LC30:
 1368 017c 63616C63 		.ascii	"calculate success number %d\012\000"
 1368      756C6174 
 1368      65207375 
 1368      63636573 
 1368      73206E75 
 1369 0199 000000   		.align	2
 1370              	.LC31:
 1371 019c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\274\306\313\343\315"
 1371      6D626572 
 1371      3A256420 
 1371      63686970 
 1371      4E616D65 
 1372 01c1 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1372      A10A00
 1373              		.align	2
 1374              	.LC32:
 1375 01c8 646F776E 		.ascii	"download success number %d\012\000"
 1375      6C6F6164 
 1375      20737563 
 1375      63657373 
 1375      206E756D 
 1376              		.align	2
 1377              	.LC33:
 1378 01e4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\311\325\302\274\315"
 1378      6D626572 
 1378      3A256420 
 1378      63686970 
 1378      4E616D65 
 1379 0209 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1379      A10A00
 1380              		.align	2
 1381              	.LC34:
 1382 0210 25642073 		.ascii	"%d sync success\012\000"
 1382      796E6320 
 1382      73756363 
 1382      6573730A 
 1382      00
 1383 0221 000000   		.align	2
 1384              	.LC35:
 1385 0224 25642073 		.ascii	"%d sync i2c error\012\000"
 1385      796E6320 
 1385      69326320 
 1385      6572726F 
 1385      720A00
 1386 0237 00       		.align	2
 1387              	.LC36:
 1388 0238 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\315\254\262\275\312"
 1388      6D626572 
 1388      3A256420 
 1388      63686970 
 1388      4E616D65 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 34


 1389 025d B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1389      EAB3C90A 
 1389      00
 1390 0266 0000     		.align	2
 1391              	.LC37:
 1392 0268 73796E63 		.ascii	"sync end\012\000"
 1392      20656E64 
 1392      0A00
 1393 0272 0000     		.align	2
 1394              	.LC38:
 1395 0274 63686970 		.ascii	"chip%d time:%d, all number:%d\012\000"
 1395      25642074 
 1395      696D653A 
 1395      25642C20 
 1395      616C6C20 
 1396 0293 00       		.align	2
 1397              	.LC39:
 1398 0294 25642069 		.ascii	"%d i2c error\012\000"
 1398      32632065 
 1398      72726F72 
 1398      0A00
 1399 02a2 0000     		.align	2
 1400              	.LC40:
 1401 02a4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\320\243\321\351\312"
 1401      6D626572 
 1401      3A256420 
 1401      63686970 
 1401      4E616D65 
 1402 02c9 B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1402      EAB3C90A 
 1402      00
 1403 02d2 0000     		.align	2
 1404              	.LC41:
 1405 02d4 63686563 		.ascii	"check end\012\000"
 1405      6B20656E 
 1405      640A00
 1406 02df 00       		.align	2
 1407              	.LC42:
 1408 02e0 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:OK\012\000"
 1408      6D626572 
 1408      3A256420 
 1408      63686970 
 1408      4E616D65 
 1409              		.align	2
 1410              	.LC43:
 1411 0304 63686970 		.ascii	"chipName:%d message:fail\012\000"
 1411      4E616D65 
 1411      3A256420 
 1411      6D657373 
 1411      6167653A 
 1412 031e 0000     		.align	2
 1413              	.LC44:
 1414 0320 6D657373 		.ascii	"message:\262\342\312\324\315\352\263\311\012\000"
 1414      6167653A 
 1414      B2E2CAD4 
 1414      CDEAB3C9 
 1414      0A00
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 35


 1415              		.section	.text.system_manage_test_mode,"ax",%progbits
 1416              		.align	1
 1417              		.global	system_manage_test_mode
 1418              		.syntax unified
 1419              		.thumb
 1420              		.thumb_func
 1422              	system_manage_test_mode:
 1423              	.LFB246:
 287:App/Src/manager.c **** 
 288:App/Src/manager.c **** void system_manage_test_mode(void)
 289:App/Src/manager.c **** {
 1424              		.loc 1 289 1 is_stmt 1 view -0
 1425              		.cfi_startproc
 1426              		@ args = 0, pretend = 0, frame = 16
 1427              		@ frame_needed = 0, uses_anonymous_args = 0
 1428 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1429              	.LCFI17:
 1430              		.cfi_def_cfa_offset 24
 1431              		.cfi_offset 4, -24
 1432              		.cfi_offset 5, -20
 1433              		.cfi_offset 6, -16
 1434              		.cfi_offset 7, -12
 1435              		.cfi_offset 8, -8
 1436              		.cfi_offset 14, -4
 1437 0004 86B0     		sub	sp, sp, #24
 1438              	.LCFI18:
 1439              		.cfi_def_cfa_offset 48
 290:App/Src/manager.c ****     int result;
 1440              		.loc 1 290 5 view .LVU308
 291:App/Src/manager.c ****     static uint8_t state = 0;
 1441              		.loc 1 291 5 view .LVU309
 292:App/Src/manager.c ****     static uint8_t count = 0;
 1442              		.loc 1 292 5 view .LVU310
 293:App/Src/manager.c ****     int i;
 1443              		.loc 1 293 5 view .LVU311
 294:App/Src/manager.c ****     RealTime sysTime = {0};
 1444              		.loc 1 294 5 view .LVU312
 1445              		.loc 1 294 14 is_stmt 0 view .LVU313
 1446 0006 0023     		movs	r3, #0
 1447 0008 0493     		str	r3, [sp, #16]
 1448 000a 0593     		str	r3, [sp, #20]
 295:App/Src/manager.c ****     RealTime rtcTime = {0};
 1449              		.loc 1 295 5 is_stmt 1 view .LVU314
 1450              		.loc 1 295 14 is_stmt 0 view .LVU315
 1451 000c 0293     		str	r3, [sp, #8]
 1452 000e 0393     		str	r3, [sp, #12]
 296:App/Src/manager.c ****     switch (g_testMode) {
 1453              		.loc 1 296 5 is_stmt 1 view .LVU316
 1454 0010 B54B     		ldr	r3, .L183
 1455 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1456 0014 0B2B     		cmp	r3, #11
 1457 0016 12D8     		bhi	.L108
 1458 0018 DFE813F0 		tbh	[pc, r3, lsl #1]
 1459              	.L111:
 1460 001c 0C00     		.2byte	(.L122-.L111)/2
 1461 001e 1400     		.2byte	(.L121-.L111)/2
 1462 0020 5600     		.2byte	(.L120-.L111)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 36


 1463 0022 6800     		.2byte	(.L119-.L111)/2
 1464 0024 4901     		.2byte	(.L118-.L111)/2
 1465 0026 B901     		.2byte	(.L117-.L111)/2
 1466 0028 E901     		.2byte	(.L116-.L111)/2
 1467 002a F901     		.2byte	(.L115-.L111)/2
 1468 002c 3702     		.2byte	(.L114-.L111)/2
 1469 002e 8C02     		.2byte	(.L113-.L111)/2
 1470 0030 E902     		.2byte	(.L170-.L111)/2
 1471 0032 1403     		.2byte	(.L110-.L111)/2
 1472              		.p2align 1
 1473              	.L122:
 297:App/Src/manager.c ****         case FREE_MODE:// free mode
 298:App/Src/manager.c ****             state = 0;
 1474              		.loc 1 298 13 view .LVU317
 1475              		.loc 1 298 19 is_stmt 0 view .LVU318
 1476 0034 0023     		movs	r3, #0
 1477 0036 AD4A     		ldr	r2, .L183+4
 1478 0038 1370     		strb	r3, [r2]
 299:App/Src/manager.c ****             count = 0;
 1479              		.loc 1 299 13 is_stmt 1 view .LVU319
 1480              		.loc 1 299 19 is_stmt 0 view .LVU320
 1481 003a AD4A     		ldr	r2, .L183+8
 1482 003c 1370     		strb	r3, [r2]
 300:App/Src/manager.c ****         break;
 1483              		.loc 1 300 9 is_stmt 1 view .LVU321
 1484              	.L108:
 301:App/Src/manager.c ****         case  FREQ_CONNECT:
 302:App/Src/manager.c ****             count = 0;
 303:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 304:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 305:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 306:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 307:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 308:App/Src/manager.c ****                 HAL_Delay(10);
 309:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 310:App/Src/manager.c ****                     UsbPrintf("1\t");
 311:App/Src/manager.c ****                     count++;
 312:App/Src/manager.c ****                 } else {
 313:App/Src/manager.c ****                     UsbPrintf("0\t");
 314:App/Src/manager.c ****                 }
 315:App/Src/manager.c ****             }
 316:App/Src/manager.c ****             UsbPrintf("\nok sum:%d\n", count);
 317:App/Src/manager.c ****             g_testMode = FREE_MODE;
 318:App/Src/manager.c ****         break;
 319:App/Src/manager.c ****         case TEMP_TEST:
 320:App/Src/manager.c ****             result = system_manage_temp();
 321:App/Src/manager.c ****             g_testMode = FREE_MODE;
 322:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 323:App/Src/manager.c ****             if (result > 0) {
 324:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 325:App/Src/manager.c ****             }
 326:App/Src/manager.c ****         break;
 327:App/Src/manager.c ****         case CAP_ADJUST://调整电容以使得该温度点的误差最小
 328:App/Src/manager.c ****             switch (state) {
 329:App/Src/manager.c ****                 case 0:
 330:App/Src/manager.c ****                     count = 0;
 331:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 37


 332:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 333:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 334:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 335:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 336:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 337:App/Src/manager.c ****                     } else {
 338:App/Src/manager.c ****                         state = 1;
 339:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 340:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 341:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 342:App/Src/manager.c ****                     }
 343:App/Src/manager.c ****                 break;
 344:App/Src/manager.c ****                 case 1:
 345:App/Src/manager.c ****                     count++;
 346:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 347:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 348:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 349:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
 350:App/Src/manager.c ****                         HAL_Delay(10);
 351:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 352:App/Src/manager.c ****                         // system_set_int(count);
 353:App/Src/manager.c ****                         g_capAdjust.temp = system_get_rtc_temp();
 354:App/Src/manager.c ****                         g_capAdjust.count = count;
 355:App/Src/manager.c ****                         rtc_out_4096();
 356:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 357:App/Src/manager.c ****                         state = 2;
 358:App/Src/manager.c ****                     } else {
 359:App/Src/manager.c ****                         system_cap_write_flash();//write flash
 360:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 361:App/Src/manager.c ****                         result = 0;
 362:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 363:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 364:App/Src/manager.c ****                         }
 365:App/Src/manager.c ****                         ControlPrintf("okNumber:%d message:单点测试完成\n", result, count);
 366:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 367:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 368:App/Src/manager.c ****                     }
 369:App/Src/manager.c ****                 break;
 370:App/Src/manager.c ****                 case 2:
 371:App/Src/manager.c ****                     if (g_capAdjust.flag != CAP_ADJUST_DEFAULT) {//只要状态改变，就进行下一个芯片测
 372:App/Src/manager.c ****                         state = 1;
 373:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 374:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 375:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 376:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 377:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 378:App/Src/manager.c ****                         } else {
 379:App/Src/manager.c ****                             ControlPrintf("chipName:%d message:fail!\n", count);
 380:App/Src/manager.c ****                         }
 381:App/Src/manager.c ****                         rtc_disable_int();
 382:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 383:App/Src/manager.c ****                     }
 384:App/Src/manager.c ****                 break;
 385:App/Src/manager.c ****                 default:break;
 386:App/Src/manager.c ****             }
 387:App/Src/manager.c ****         break;
 388:App/Src/manager.c ****         case CAP_ADJUST_COVER:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 38


 389:App/Src/manager.c ****             g_oneData.number = check_system_temp();
 390:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 391:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 392:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 393:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 394:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 395:App/Src/manager.c ****             } else {
 396:App/Src/manager.c ****                 UsbPrintf("system temp test cover!\n");
 397:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 398:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 399:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 400:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 401:App/Src/manager.c ****                 }
 402:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_COVER);
 403:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 404:App/Src/manager.c ****             }
 405:App/Src/manager.c ****         break;
 406:App/Src/manager.c ****         case CALCULATE:
 407:App/Src/manager.c ****             count = 0;
 408:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 409:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 410:App/Src/manager.c ****                     count++;
 411:App/Src/manager.c ****                     g_testFlag[i] = '1';
 412:App/Src/manager.c ****                 } else {
 413:App/Src/manager.c ****                     g_testFlag[i] = 0xff;
 414:App/Src/manager.c ****                 }
 415:App/Src/manager.c ****             }
 416:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_CALCULATE, FLASH_FLAG_WRITE_ADD);
 417:App/Src/manager.c ****             g_testMode = FREE_MODE;
 418:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 419:App/Src/manager.c ****             log_printf("calculate success number %d\n", count);
 420:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 421:App/Src/manager.c ****         break;
 422:App/Src/manager.c ****         case CAP_DOWNLOAD:
 423:App/Src/manager.c ****             result = system_manage_download_cap();
 424:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 425:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 426:App/Src/manager.c ****             g_testMode = FREE_MODE;
 427:App/Src/manager.c ****         break;
 428:App/Src/manager.c ****         case SYNC_RTC_TIME:
 429:App/Src/manager.c ****             system_get_real_time(&sysTime);
 430:App/Src/manager.c ****             count = 0;
 431:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 433:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 434:App/Src/manager.c ****                     count++;
 435:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 436:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 437:App/Src/manager.c ****                 } else {
 438:App/Src/manager.c ****                     log_printf("%d sync i2c error\n", i + 1);
 439:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 440:App/Src/manager.c ****                 }
 441:App/Src/manager.c ****             }
 442:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:同步时间完成\n", count, MAX_CHIP_NUMBER);
 443:App/Src/manager.c ****             log_printf("sync end\n");
 444:App/Src/manager.c ****             UsbPrintf("sync end\n");
 445:App/Src/manager.c ****             g_testMode = FREE_MODE;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 39


 446:App/Src/manager.c ****         break;
 447:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 448:App/Src/manager.c ****             system_get_real_time(&sysTime);
 449:App/Src/manager.c ****             count = 0;
 450:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 452:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 453:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 454:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 455:App/Src/manager.c ****                         count++;
 456:App/Src/manager.c ****                     } 
 457:App/Src/manager.c ****                     log_printf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 458:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 459:App/Src/manager.c ****                 } else {
 460:App/Src/manager.c ****                     log_printf("%d i2c error\n", i + 1);
 461:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 462:App/Src/manager.c ****                 }
 463:App/Src/manager.c ****             }
 464:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:校验时间完成\n", count, MAX_CHIP_NUMBER);
 465:App/Src/manager.c ****             log_printf("check end\n");
 466:App/Src/manager.c ****             UsbPrintf("check end\n");
 467:App/Src/manager.c ****             g_testMode = FREE_MODE;
 468:App/Src/manager.c ****         break;
 469:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 470:App/Src/manager.c ****             if (count == 0) {
 471:App/Src/manager.c ****                 count = 1;
 472:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 473:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 474:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 475:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 476:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 477:App/Src/manager.c ****                     if (result > 0) {
 478:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 479:App/Src/manager.c ****                         result = 0;
 480:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 482:App/Src/manager.c ****                         }
 483:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 484:App/Src/manager.c ****                     } else {
 485:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;
 486:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 487:App/Src/manager.c ****                     }
 488:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 489:App/Src/manager.c ****                         count++;
 490:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 491:App/Src/manager.c ****                     } else {
 492:App/Src/manager.c ****                         count = 0;
 493:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 494:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 495:App/Src/manager.c ****                         break;
 496:App/Src/manager.c ****                     }
 497:App/Src/manager.c ****                 }
 498:App/Src/manager.c ****             }
 499:App/Src/manager.c ****         break;
 500:App/Src/manager.c ****         case MACHINE_COVER://先清空，测试后写入
 501:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 502:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 40


 503:App/Src/manager.c ****             }
 504:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_COVER);
 505:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 506:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 507:App/Src/manager.c ****             count = 0;
 508:App/Src/manager.c ****         break;
 509:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 510:App/Src/manager.c ****             if (count == 0 || count > MAX_CHIP_NUMBER) {
 511:App/Src/manager.c ****                 count = 1;
 512:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 513:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 514:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 515:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 516:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 517:App/Src/manager.c ****                     if (result > 0) {
 518:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 519:App/Src/manager.c ****                         result = 0;
 520:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 522:App/Src/manager.c ****                         }
 523:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 524:App/Src/manager.c ****                     } else {
 525:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;//相当于不写入数据
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 527:App/Src/manager.c ****                     }
 528:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 529:App/Src/manager.c ****                         count++;
 530:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 531:App/Src/manager.c ****                     } else {
 532:App/Src/manager.c ****                         count = 0;
 533:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 534:App/Src/manager.c ****                         result = 0;
 535:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 537:App/Src/manager.c ****                         }
 538:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 539:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 540:App/Src/manager.c ****                     }
 541:App/Src/manager.c ****                 }
 542:App/Src/manager.c ****             }
 543:App/Src/manager.c ****         break;
 544:App/Src/manager.c ****         default: break;
 545:App/Src/manager.c ****     }
 546:App/Src/manager.c **** }
 1485              		.loc 1 546 1 is_stmt 0 view .LVU322
 1486 003e 06B0     		add	sp, sp, #24
 1487              	.LCFI19:
 1488              		.cfi_remember_state
 1489              		.cfi_def_cfa_offset 24
 1490              		@ sp needed
 1491 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1492              	.L121:
 1493              	.LCFI20:
 1494              		.cfi_restore_state
 302:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1495              		.loc 1 302 13 is_stmt 1 view .LVU323
 302:App/Src/manager.c ****             UsbPrintf("group i2c test:");
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 41


 1496              		.loc 1 302 19 is_stmt 0 view .LVU324
 1497 0044 0024     		movs	r4, #0
 1498 0046 AA4B     		ldr	r3, .L183+8
 1499 0048 1C70     		strb	r4, [r3]
 303:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1500              		.loc 1 303 13 is_stmt 1 view .LVU325
 1501 004a AA48     		ldr	r0, .L183+12
 1502 004c FFF7FEFF 		bl	UsbPrintf
 1503              	.LVL116:
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1504              		.loc 1 304 13 view .LVU326
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1505              		.loc 1 304 13 is_stmt 0 view .LVU327
 1506 0050 07E0     		b	.L123
 1507              	.LVL117:
 1508              	.L173:
 305:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1509              		.loc 1 305 36 is_stmt 1 discriminator 1 view .LVU328
 1510 0052 A948     		ldr	r0, .L183+16
 1511 0054 FFF7FEFF 		bl	UsbPrintf
 1512              	.LVL118:
 1513 0058 10E0     		b	.L124
 1514              	.L125:
 313:App/Src/manager.c ****                 }
 1515              		.loc 1 313 21 view .LVU329
 1516 005a A848     		ldr	r0, .L183+20
 1517 005c FFF7FEFF 		bl	UsbPrintf
 1518              	.LVL119:
 1519              	.L126:
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1520              		.loc 1 304 46 discriminator 2 view .LVU330
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1521              		.loc 1 304 47 is_stmt 0 discriminator 2 view .LVU331
 1522 0060 0134     		adds	r4, r4, #1
 1523              	.LVL120:
 1524              	.L123:
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1525              		.loc 1 304 25 is_stmt 1 discriminator 1 view .LVU332
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1526              		.loc 1 304 13 is_stmt 0 discriminator 1 view .LVU333
 1527 0062 632C     		cmp	r4, #99
 1528 0064 27DC     		bgt	.L172
 305:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1529              		.loc 1 305 17 is_stmt 1 view .LVU334
 305:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1530              		.loc 1 305 23 is_stmt 0 view .LVU335
 1531 0066 A64A     		ldr	r2, .L183+24
 1532 0068 82FB0432 		smull	r3, r2, r2, r4
 1533 006c E317     		asrs	r3, r4, #31
 1534 006e C3EBA203 		rsb	r3, r3, r2, asr #2
 1535 0072 03EB8303 		add	r3, r3, r3, lsl #2
 305:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1536              		.loc 1 305 20 view .LVU336
 1537 0076 B4EB430F 		cmp	r4, r3, lsl #1
 1538 007a EAD0     		beq	.L173
 1539              	.L124:
 306:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 42


 1540              		.loc 1 306 17 is_stmt 1 view .LVU337
 1541 007c 651C     		adds	r5, r4, #1
 1542 007e EDB2     		uxtb	r5, r5
 1543 0080 0121     		movs	r1, #1
 1544 0082 2846     		mov	r0, r5
 1545 0084 FFF7FEFF 		bl	rtc_group_power
 1546              	.LVL121:
 307:App/Src/manager.c ****                 HAL_Delay(10);
 1547              		.loc 1 307 17 view .LVU338
 1548 0088 0321     		movs	r1, #3
 1549 008a 2846     		mov	r0, r5
 1550 008c FFF7FEFF 		bl	rtc_set_channel
 1551              	.LVL122:
 308:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 1552              		.loc 1 308 17 view .LVU339
 1553 0090 0A20     		movs	r0, #10
 1554 0092 FFF7FEFF 		bl	HAL_Delay
 1555              	.LVL123:
 309:App/Src/manager.c ****                     UsbPrintf("1\t");
 1556              		.loc 1 309 17 view .LVU340
 309:App/Src/manager.c ****                     UsbPrintf("1\t");
 1557              		.loc 1 309 21 is_stmt 0 view .LVU341
 1558 0096 0123     		movs	r3, #1
 1559 0098 944A     		ldr	r2, .L183+4
 1560 009a 0021     		movs	r1, #0
 1561 009c 6420     		movs	r0, #100
 1562 009e FFF7FEFF 		bl	rtc_read_multi_bytes
 1563              	.LVL124:
 309:App/Src/manager.c ****                     UsbPrintf("1\t");
 1564              		.loc 1 309 20 view .LVU342
 1565 00a2 0028     		cmp	r0, #0
 1566 00a4 D9D1     		bne	.L125
 310:App/Src/manager.c ****                     count++;
 1567              		.loc 1 310 21 is_stmt 1 view .LVU343
 1568 00a6 9748     		ldr	r0, .L183+28
 1569 00a8 FFF7FEFF 		bl	UsbPrintf
 1570              	.LVL125:
 311:App/Src/manager.c ****                 } else {
 1571              		.loc 1 311 21 view .LVU344
 311:App/Src/manager.c ****                 } else {
 1572              		.loc 1 311 26 is_stmt 0 view .LVU345
 1573 00ac 904A     		ldr	r2, .L183+8
 1574 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1575 00b0 0133     		adds	r3, r3, #1
 1576 00b2 1370     		strb	r3, [r2]
 1577 00b4 D4E7     		b	.L126
 1578              	.L172:
 316:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1579              		.loc 1 316 13 is_stmt 1 view .LVU346
 1580 00b6 8E4B     		ldr	r3, .L183+8
 1581 00b8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1582 00ba 9348     		ldr	r0, .L183+32
 1583 00bc FFF7FEFF 		bl	UsbPrintf
 1584              	.LVL126:
 317:App/Src/manager.c ****         break;
 1585              		.loc 1 317 13 view .LVU347
 317:App/Src/manager.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 43


 1586              		.loc 1 317 24 is_stmt 0 view .LVU348
 1587 00c0 894B     		ldr	r3, .L183
 1588 00c2 0022     		movs	r2, #0
 1589 00c4 1A70     		strb	r2, [r3]
 318:App/Src/manager.c ****         case TEMP_TEST:
 1590              		.loc 1 318 9 is_stmt 1 view .LVU349
 1591 00c6 BAE7     		b	.L108
 1592              	.LVL127:
 1593              	.L120:
 320:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1594              		.loc 1 320 13 view .LVU350
 320:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1595              		.loc 1 320 22 is_stmt 0 view .LVU351
 1596 00c8 FFF7FEFF 		bl	system_manage_temp
 1597              	.LVL128:
 1598 00cc 0446     		mov	r4, r0
 1599              	.LVL129:
 321:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1600              		.loc 1 321 13 is_stmt 1 view .LVU352
 321:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1601              		.loc 1 321 24 is_stmt 0 view .LVU353
 1602 00ce 864B     		ldr	r3, .L183
 1603 00d0 0022     		movs	r2, #0
 1604 00d2 1A70     		strb	r2, [r3]
 322:App/Src/manager.c ****             if (result > 0) {
 1605              		.loc 1 322 13 is_stmt 1 view .LVU354
 1606 00d4 0146     		mov	r1, r0
 1607 00d6 8D48     		ldr	r0, .L183+36
 1608              	.LVL130:
 322:App/Src/manager.c ****             if (result > 0) {
 1609              		.loc 1 322 13 is_stmt 0 view .LVU355
 1610 00d8 FFF7FEFF 		bl	UsbPrintf
 1611              	.LVL131:
 323:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1612              		.loc 1 323 13 is_stmt 1 view .LVU356
 323:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1613              		.loc 1 323 16 is_stmt 0 view .LVU357
 1614 00dc 002C     		cmp	r4, #0
 1615 00de AEDD     		ble	.L108
 324:App/Src/manager.c ****             }
 1616              		.loc 1 324 17 is_stmt 1 view .LVU358
 1617 00e0 6422     		movs	r2, #100
 1618 00e2 2146     		mov	r1, r4
 1619 00e4 8A48     		ldr	r0, .L183+40
 1620 00e6 FFF7FEFF 		bl	ControlPrintf
 1621              	.LVL132:
 1622 00ea A8E7     		b	.L108
 1623              	.LVL133:
 1624              	.L119:
 328:App/Src/manager.c ****                 case 0:
 1625              		.loc 1 328 13 view .LVU359
 1626 00ec 7F4B     		ldr	r3, .L183+4
 1627 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1628 00f0 012B     		cmp	r3, #1
 1629 00f2 45D0     		beq	.L128
 1630 00f4 022B     		cmp	r3, #2
 1631 00f6 00F09180 		beq	.L129
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 44


 1632 00fa 002B     		cmp	r3, #0
 1633 00fc 9FD1     		bne	.L108
 330:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1634              		.loc 1 330 21 view .LVU360
 330:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1635              		.loc 1 330 27 is_stmt 0 view .LVU361
 1636 00fe 7C4B     		ldr	r3, .L183+8
 1637 0100 0022     		movs	r2, #0
 1638 0102 1A70     		strb	r2, [r3]
 331:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1639              		.loc 1 331 21 is_stmt 1 view .LVU362
 331:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1640              		.loc 1 331 40 is_stmt 0 view .LVU363
 1641 0104 FFF7FEFF 		bl	check_system_temp
 1642              	.LVL134:
 331:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1643              		.loc 1 331 38 view .LVU364
 1644 0108 824C     		ldr	r4, .L183+44
 1645 010a 2070     		strb	r0, [r4]
 332:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1646              		.loc 1 332 21 is_stmt 1 view .LVU365
 332:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1647              		.loc 1 332 66 is_stmt 0 view .LVU366
 1648 010c 0120     		movs	r0, #1
 1649 010e FFF7FEFF 		bl	temp_read_value
 1650              	.LVL135:
 1651 0112 10EE100A 		vmov	r0, s0
 332:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1652              		.loc 1 332 95 view .LVU367
 1653 0116 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
 332:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1654              		.loc 1 332 21 view .LVU368
 1655 0118 FFF7FEFF 		bl	__aeabi_f2d
 1656              	.LVL136:
 1657 011c 0246     		mov	r2, r0
 1658 011e 0B46     		mov	r3, r1
 1659 0120 0095     		str	r5, [sp]
 1660 0122 7D48     		ldr	r0, .L183+48
 1661 0124 FFF7FEFF 		bl	UsbPrintf
 1662              	.LVL137:
 333:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1663              		.loc 1 333 21 is_stmt 1 view .LVU369
 333:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1664              		.loc 1 333 34 is_stmt 0 view .LVU370
 1665 0128 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 333:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1666              		.loc 1 333 24 view .LVU371
 1667 012a 042B     		cmp	r3, #4
 1668 012c 12D9     		bls	.L130
 334:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1669              		.loc 1 334 25 is_stmt 1 view .LVU372
 334:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1670              		.loc 1 334 36 is_stmt 0 view .LVU373
 1671 012e 6E4B     		ldr	r3, .L183
 1672 0130 0022     		movs	r2, #0
 1673 0132 1A70     		strb	r2, [r3]
 335:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 45


 1674              		.loc 1 335 25 is_stmt 1 view .LVU374
 1675 0134 7948     		ldr	r0, .L183+52
 1676 0136 FFF7FEFF 		bl	UsbPrintf
 1677              	.LVL138:
 336:App/Src/manager.c ****                     } else {
 1678              		.loc 1 336 25 view .LVU375
 336:App/Src/manager.c ****                     } else {
 1679              		.loc 1 336 70 is_stmt 0 view .LVU376
 1680 013a 0120     		movs	r0, #1
 1681 013c FFF7FEFF 		bl	temp_read_value
 1682              	.LVL139:
 1683 0140 10EE100A 		vmov	r0, s0
 336:App/Src/manager.c ****                     } else {
 1684              		.loc 1 336 25 view .LVU377
 1685 0144 FFF7FEFF 		bl	__aeabi_f2d
 1686              	.LVL140:
 1687 0148 0246     		mov	r2, r0
 1688 014a 0B46     		mov	r3, r1
 1689 014c 7448     		ldr	r0, .L183+56
 1690 014e FFF7FEFF 		bl	log_printf
 1691              	.LVL141:
 1692 0152 74E7     		b	.L108
 1693              	.L130:
 338:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1694              		.loc 1 338 25 is_stmt 1 view .LVU378
 338:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1695              		.loc 1 338 31 is_stmt 0 view .LVU379
 1696 0154 0125     		movs	r5, #1
 1697 0156 654B     		ldr	r3, .L183+4
 1698 0158 1D70     		strb	r5, [r3]
 339:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 1699              		.loc 1 339 25 is_stmt 1 view .LVU380
 1700 015a 9FED720A 		vldr.32	s0, .L183+60
 1701 015e F0EE400A 		vmov.f32	s1, s0
 1702 0162 0020     		movs	r0, #0
 1703 0164 FFF7FEFF 		bl	systm_cap_save_buffer
 1704              	.LVL142:
 340:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1705              		.loc 1 340 25 view .LVU381
 1706 0168 6F4C     		ldr	r4, .L183+64
 1707 016a 6422     		movs	r2, #100
 1708 016c FF21     		movs	r1, #255
 1709 016e 2046     		mov	r0, r4
 1710 0170 FFF7FEFF 		bl	memset
 1711              	.LVL143:
 341:App/Src/manager.c ****                     }
 1712              		.loc 1 341 25 view .LVU382
 1713 0174 0022     		movs	r2, #0
 1714 0176 2946     		mov	r1, r5
 1715 0178 2046     		mov	r0, r4
 1716 017a FFF7FEFF 		bl	flash_test_flag_manage
 1717              	.LVL144:
 1718 017e 5EE7     		b	.L108
 1719              	.L128:
 345:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1720              		.loc 1 345 21 view .LVU383
 345:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 46


 1721              		.loc 1 345 26 is_stmt 0 view .LVU384
 1722 0180 5B4B     		ldr	r3, .L183+8
 1723 0182 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1724 0184 0130     		adds	r0, r0, #1
 1725 0186 C0B2     		uxtb	r0, r0
 1726 0188 1870     		strb	r0, [r3]
 346:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1727              		.loc 1 346 21 is_stmt 1 view .LVU385
 346:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1728              		.loc 1 346 24 is_stmt 0 view .LVU386
 1729 018a 6428     		cmp	r0, #100
 1730 018c 23D8     		bhi	.L131
 347:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 1731              		.loc 1 347 25 is_stmt 1 view .LVU387
 347:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 1732              		.loc 1 347 29 is_stmt 0 view .LVU388
 1733 018e 614B     		ldr	r3, .L183+44
 1734 0190 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1735 0192 FFF7FEFF 		bl	system_check_test_dot
 1736              	.LVL145:
 347:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 1737              		.loc 1 347 28 view .LVU389
 1738 0196 0028     		cmp	r0, #0
 1739 0198 7FF451AF 		bne	.L108
 348:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
 1740              		.loc 1 348 25 is_stmt 1 view .LVU390
 1741 019c 544D     		ldr	r5, .L183+8
 1742 019e 0121     		movs	r1, #1
 1743 01a0 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1744 01a2 FFF7FEFF 		bl	rtc_group_power
 1745              	.LVL146:
 349:App/Src/manager.c ****                         HAL_Delay(10);
 1746              		.loc 1 349 25 view .LVU391
 1747 01a6 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1748 01a8 FFF7FEFF 		bl	rtc_1006_set_testmode
 1749              	.LVL147:
 350:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 1750              		.loc 1 350 25 view .LVU392
 1751 01ac 0A20     		movs	r0, #10
 1752 01ae FFF7FEFF 		bl	HAL_Delay
 1753              	.LVL148:
 351:App/Src/manager.c ****                         // system_set_int(count);
 1754              		.loc 1 351 25 view .LVU393
 351:App/Src/manager.c ****                         // system_set_int(count);
 1755              		.loc 1 351 42 is_stmt 0 view .LVU394
 1756 01b2 5E4C     		ldr	r4, .L183+68
 1757 01b4 0023     		movs	r3, #0
 1758 01b6 2370     		strb	r3, [r4]
 353:App/Src/manager.c ****                         g_capAdjust.count = count;
 1759              		.loc 1 353 25 is_stmt 1 view .LVU395
 353:App/Src/manager.c ****                         g_capAdjust.count = count;
 1760              		.loc 1 353 44 is_stmt 0 view .LVU396
 1761 01b8 FFF7FEFF 		bl	system_get_rtc_temp
 1762              	.LVL149:
 353:App/Src/manager.c ****                         g_capAdjust.count = count;
 1763              		.loc 1 353 42 view .LVU397
 1764 01bc 84ED020A 		vstr.32	s0, [r4, #8]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 47


 354:App/Src/manager.c ****                         rtc_out_4096();
 1765              		.loc 1 354 25 is_stmt 1 view .LVU398
 354:App/Src/manager.c ****                         rtc_out_4096();
 1766              		.loc 1 354 43 is_stmt 0 view .LVU399
 1767 01c0 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1768 01c2 2374     		strb	r3, [r4, #16]
 355:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 1769              		.loc 1 355 25 is_stmt 1 view .LVU400
 1770 01c4 FFF7FEFF 		bl	rtc_out_4096
 1771              	.LVL150:
 356:App/Src/manager.c ****                         state = 2;
 1772              		.loc 1 356 25 view .LVU401
 1773 01c8 0120     		movs	r0, #1
 1774 01ca FFF7FEFF 		bl	rtc_freq_test
 1775              	.LVL151:
 357:App/Src/manager.c ****                     } else {
 1776              		.loc 1 357 25 view .LVU402
 357:App/Src/manager.c ****                     } else {
 1777              		.loc 1 357 31 is_stmt 0 view .LVU403
 1778 01ce 474B     		ldr	r3, .L183+4
 1779 01d0 0222     		movs	r2, #2
 1780 01d2 1A70     		strb	r2, [r3]
 1781 01d4 33E7     		b	.L108
 1782              	.L131:
 359:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 1783              		.loc 1 359 25 is_stmt 1 view .LVU404
 1784 01d6 FFF7FEFF 		bl	system_cap_write_flash
 1785              	.LVL152:
 360:App/Src/manager.c ****                         result = 0;
 1786              		.loc 1 360 25 view .LVU405
 1787 01da 0122     		movs	r2, #1
 1788 01dc 1146     		mov	r1, r2
 1789 01de 5248     		ldr	r0, .L183+64
 1790 01e0 FFF7FEFF 		bl	flash_test_flag_manage
 1791              	.LVL153:
 361:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1792              		.loc 1 361 25 view .LVU406
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1793              		.loc 1 362 25 view .LVU407
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1794              		.loc 1 362 32 is_stmt 0 view .LVU408
 1795 01e4 0023     		movs	r3, #0
 361:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1796              		.loc 1 361 32 view .LVU409
 1797 01e6 1946     		mov	r1, r3
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1798              		.loc 1 362 25 view .LVU410
 1799 01e8 00E0     		b	.L132
 1800              	.LVL154:
 1801              	.L133:
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1802              		.loc 1 362 58 is_stmt 1 discriminator 2 view .LVU411
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1803              		.loc 1 362 59 is_stmt 0 discriminator 2 view .LVU412
 1804 01ea 0133     		adds	r3, r3, #1
 1805              	.LVL155:
 1806              	.L132:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 48


 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1807              		.loc 1 362 37 is_stmt 1 discriminator 1 view .LVU413
 362:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1808              		.loc 1 362 25 is_stmt 0 discriminator 1 view .LVU414
 1809 01ec 632B     		cmp	r3, #99
 1810 01ee 09DC     		bgt	.L174
 363:App/Src/manager.c ****                         }
 1811              		.loc 1 363 29 is_stmt 1 view .LVU415
 363:App/Src/manager.c ****                         }
 1812              		.loc 1 363 44 is_stmt 0 view .LVU416
 1813 01f0 4D4A     		ldr	r2, .L183+64
 1814 01f2 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 363:App/Src/manager.c ****                         }
 1815              		.loc 1 363 68 view .LVU417
 1816 01f4 4748     		ldr	r0, .L183+44
 1817 01f6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 363:App/Src/manager.c ****                         }
 1818              		.loc 1 363 78 view .LVU418
 1819 01f8 0241     		asrs	r2, r2, r0
 363:App/Src/manager.c ****                         }
 1820              		.loc 1 363 32 view .LVU419
 1821 01fa 12F0010F 		tst	r2, #1
 1822 01fe F4D1     		bne	.L133
 363:App/Src/manager.c ****                         }
 1823              		.loc 1 363 86 is_stmt 1 discriminator 1 view .LVU420
 363:App/Src/manager.c ****                         }
 1824              		.loc 1 363 92 is_stmt 0 discriminator 1 view .LVU421
 1825 0200 0131     		adds	r1, r1, #1
 1826              	.LVL156:
 363:App/Src/manager.c ****                         }
 1827              		.loc 1 363 92 discriminator 1 view .LVU422
 1828 0202 F2E7     		b	.L133
 1829              	.L174:
 365:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1830              		.loc 1 365 25 is_stmt 1 view .LVU423
 1831 0204 3A4B     		ldr	r3, .L183+8
 1832              	.LVL157:
 365:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1833              		.loc 1 365 25 is_stmt 0 view .LVU424
 1834 0206 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1835 0208 4948     		ldr	r0, .L183+72
 1836 020a FFF7FEFF 		bl	ControlPrintf
 1837              	.LVL158:
 366:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1838              		.loc 1 366 25 is_stmt 1 view .LVU425
 366:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1839              		.loc 1 366 36 is_stmt 0 view .LVU426
 1840 020e 364B     		ldr	r3, .L183
 1841 0210 0022     		movs	r2, #0
 1842 0212 1A70     		strb	r2, [r3]
 367:App/Src/manager.c ****                     }
 1843              		.loc 1 367 25 is_stmt 1 view .LVU427
 1844 0214 4748     		ldr	r0, .L183+76
 1845 0216 FFF7FEFF 		bl	UsbPrintf
 1846              	.LVL159:
 1847 021a 10E7     		b	.L108
 1848              	.L129:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 49


 371:App/Src/manager.c ****                         state = 1;
 1849              		.loc 1 371 21 view .LVU428
 371:App/Src/manager.c ****                         state = 1;
 1850              		.loc 1 371 36 is_stmt 0 view .LVU429
 1851 021c 434B     		ldr	r3, .L183+68
 1852 021e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 371:App/Src/manager.c ****                         state = 1;
 1853              		.loc 1 371 24 view .LVU430
 1854 0220 002B     		cmp	r3, #0
 1855 0222 3FF40CAF 		beq	.L108
 372:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1856              		.loc 1 372 25 is_stmt 1 view .LVU431
 372:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1857              		.loc 1 372 31 is_stmt 0 view .LVU432
 1858 0226 314A     		ldr	r2, .L183+4
 1859 0228 0121     		movs	r1, #1
 1860 022a 1170     		strb	r1, [r2]
 373:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 1861              		.loc 1 373 25 is_stmt 1 view .LVU433
 373:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 1862              		.loc 1 373 28 is_stmt 0 view .LVU434
 1863 022c 022B     		cmp	r3, #2
 1864 022e 0BD0     		beq	.L175
 379:App/Src/manager.c ****                         }
 1865              		.loc 1 379 29 is_stmt 1 view .LVU435
 1866 0230 2F4B     		ldr	r3, .L183+8
 1867 0232 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1868 0234 4048     		ldr	r0, .L183+80
 1869 0236 FFF7FEFF 		bl	ControlPrintf
 1870              	.LVL160:
 1871              	.L136:
 381:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 1872              		.loc 1 381 25 view .LVU436
 1873 023a FFF7FEFF 		bl	rtc_disable_int
 1874              	.LVL161:
 382:App/Src/manager.c ****                     }
 1875              		.loc 1 382 25 view .LVU437
 1876 023e 2C4B     		ldr	r3, .L183+8
 1877 0240 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1878 0242 FFF7FEFF 		bl	rtc_1006_exit_testmode
 1879              	.LVL162:
 1880 0246 FAE6     		b	.L108
 1881              	.L175:
 374:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 1882              		.loc 1 374 29 view .LVU438
 1883 0248 384C     		ldr	r4, .L183+68
 1884 024a 294D     		ldr	r5, .L183+8
 1885 024c D4ED010A 		vldr.32	s1, [r4, #4]
 1886 0250 94ED020A 		vldr.32	s0, [r4, #8]
 1887 0254 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1888 0256 FFF7FEFF 		bl	systm_cap_save_buffer
 1889              	.LVL163:
 375:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1890              		.loc 1 375 29 view .LVU439
 375:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1891              		.loc 1 375 99 is_stmt 0 view .LVU440
 1892 025a D4ED027A 		vldr.32	s15, [r4, #8]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 50


 375:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1893              		.loc 1 375 29 view .LVU441
 1894 025e 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 1895 0260 FDEEE77A 		vcvt.s32.f32	s15, s15
 1896 0264 17EE901A 		vmov	r1, s15	@ int
 1897 0268 3448     		ldr	r0, .L183+84
 1898 026a FFF7FEFF 		bl	ControlPrintf
 1899              	.LVL164:
 376:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1900              		.loc 1 376 29 is_stmt 1 view .LVU442
 376:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1901              		.loc 1 376 110 is_stmt 0 view .LVU443
 1902 026e D4F80480 		ldr	r8, [r4, #4]	@ float
 376:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1903              		.loc 1 376 29 view .LVU444
 1904 0272 A068     		ldr	r0, [r4, #8]	@ float
 1905 0274 FFF7FEFF 		bl	__aeabi_f2d
 1906              	.LVL165:
 1907 0278 0646     		mov	r6, r0
 1908 027a 0F46     		mov	r7, r1
 1909 027c 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 1910 027e 4046     		mov	r0, r8	@ float
 1911 0280 FFF7FEFF 		bl	__aeabi_f2d
 1912              	.LVL166:
 1913 0284 CDE90001 		strd	r0, [sp]
 1914 0288 3246     		mov	r2, r6
 1915 028a 3B46     		mov	r3, r7
 1916 028c 2146     		mov	r1, r4
 1917 028e 2C48     		ldr	r0, .L183+88
 1918 0290 FFF7FEFF 		bl	UsbPrintf
 1919              	.LVL167:
 377:App/Src/manager.c ****                         } else {
 1920              		.loc 1 377 29 is_stmt 1 view .LVU445
 377:App/Src/manager.c ****                         } else {
 1921              		.loc 1 377 51 is_stmt 0 view .LVU446
 1922 0294 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1923 0296 013B     		subs	r3, r3, #1
 377:App/Src/manager.c ****                         } else {
 1924              		.loc 1 377 74 view .LVU447
 1925 0298 1E4A     		ldr	r2, .L183+44
 1926 029a 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 377:App/Src/manager.c ****                         } else {
 1927              		.loc 1 377 62 view .LVU448
 1928 029c 0122     		movs	r2, #1
 1929 029e 02FA01F1 		lsl	r1, r2, r1
 377:App/Src/manager.c ****                         } else {
 1930              		.loc 1 377 51 view .LVU449
 1931 02a2 2148     		ldr	r0, .L183+64
 1932 02a4 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 1933 02a6 22EA0102 		bic	r2, r2, r1
 1934 02aa C254     		strb	r2, [r0, r3]
 1935 02ac C5E7     		b	.L136
 1936              	.L118:
 389:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1937              		.loc 1 389 13 is_stmt 1 view .LVU450
 389:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1938              		.loc 1 389 32 is_stmt 0 view .LVU451
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 51


 1939 02ae FFF7FEFF 		bl	check_system_temp
 1940              	.LVL168:
 389:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1941              		.loc 1 389 30 view .LVU452
 1942 02b2 C3B2     		uxtb	r3, r0
 1943 02b4 174A     		ldr	r2, .L183+44
 1944 02b6 1370     		strb	r3, [r2]
 390:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1945              		.loc 1 390 13 is_stmt 1 view .LVU453
 390:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1946              		.loc 1 390 16 is_stmt 0 view .LVU454
 1947 02b8 042B     		cmp	r3, #4
 1948 02ba 45D9     		bls	.L137
 391:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1949              		.loc 1 391 17 is_stmt 1 view .LVU455
 391:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1950              		.loc 1 391 28 is_stmt 0 view .LVU456
 1951 02bc 0A4B     		ldr	r3, .L183
 1952 02be 0022     		movs	r2, #0
 1953 02c0 1A70     		strb	r2, [r3]
 392:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 1954              		.loc 1 392 17 is_stmt 1 view .LVU457
 1955 02c2 1648     		ldr	r0, .L183+52
 1956 02c4 FFF7FEFF 		bl	UsbPrintf
 1957              	.LVL169:
 393:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1958              		.loc 1 393 17 view .LVU458
 1959 02c8 1E48     		ldr	r0, .L183+92
 1960 02ca FFF7FEFF 		bl	ControlPrintf
 1961              	.LVL170:
 394:App/Src/manager.c ****             } else {
 1962              		.loc 1 394 17 view .LVU459
 394:App/Src/manager.c ****             } else {
 1963              		.loc 1 394 62 is_stmt 0 view .LVU460
 1964 02ce 0120     		movs	r0, #1
 1965 02d0 FFF7FEFF 		bl	temp_read_value
 1966              	.LVL171:
 1967 02d4 10EE100A 		vmov	r0, s0
 394:App/Src/manager.c ****             } else {
 1968              		.loc 1 394 17 view .LVU461
 1969 02d8 FFF7FEFF 		bl	__aeabi_f2d
 1970              	.LVL172:
 1971 02dc 0246     		mov	r2, r0
 1972 02de 0B46     		mov	r3, r1
 1973 02e0 0F48     		ldr	r0, .L183+56
 1974 02e2 FFF7FEFF 		bl	log_printf
 1975              	.LVL173:
 1976 02e6 AAE6     		b	.L108
 1977              	.L184:
 1978              		.align	2
 1979              	.L183:
 1980 02e8 00000000 		.word	.LANCHOR0
 1981 02ec 00000000 		.word	.LANCHOR4
 1982 02f0 00000000 		.word	.LANCHOR5
 1983 02f4 00000000 		.word	.LC14
 1984 02f8 10000000 		.word	.LC15
 1985 02fc 18000000 		.word	.LC17
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 52


 1986 0300 67666666 		.word	1717986919
 1987 0304 14000000 		.word	.LC16
 1988 0308 1C000000 		.word	.LC18
 1989 030c 28000000 		.word	.LC19
 1990 0310 3C000000 		.word	.LC20
 1991 0314 00000000 		.word	.LANCHOR3
 1992 0318 68000000 		.word	.LC21
 1993 031c 88000000 		.word	.LC22
 1994 0320 A4000000 		.word	.LC23
 1995 0324 00000000 		.word	0
 1996 0328 00000000 		.word	.LANCHOR1
 1997 032c 00000000 		.word	.LANCHOR6
 1998 0330 C4000000 		.word	.LC24
 1999 0334 E8000000 		.word	.LC25
 2000 0338 44010000 		.word	.LC28
 2001 033c 00010000 		.word	.LC26
 2002 0340 24010000 		.word	.LC27
 2003 0344 3C000000 		.word	.LC2
 2004              	.L137:
 396:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 2005              		.loc 1 396 17 is_stmt 1 view .LVU462
 2006 0348 AA48     		ldr	r0, .L185
 2007 034a FFF7FEFF 		bl	UsbPrintf
 2008              	.LVL174:
 397:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 2009              		.loc 1 397 17 view .LVU463
 2010 034e AA4B     		ldr	r3, .L185+4
 2011 0350 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2012 0352 FFF7FEFF 		bl	flash_test_data_clear
 2013              	.LVL175:
 398:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2014              		.loc 1 398 17 view .LVU464
 2015 0356 0022     		movs	r2, #0
 2016 0358 0121     		movs	r1, #1
 2017 035a A848     		ldr	r0, .L185+8
 2018 035c FFF7FEFF 		bl	flash_test_flag_manage
 2019              	.LVL176:
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2020              		.loc 1 399 17 view .LVU465
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2021              		.loc 1 399 24 is_stmt 0 view .LVU466
 2022 0360 0023     		movs	r3, #0
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2023              		.loc 1 399 17 view .LVU467
 2024 0362 09E0     		b	.L138
 2025              	.LVL177:
 2026              	.L139:
 400:App/Src/manager.c ****                 }
 2027              		.loc 1 400 21 is_stmt 1 discriminator 3 view .LVU468
 400:App/Src/manager.c ****                 }
 2028              		.loc 1 400 56 is_stmt 0 discriminator 3 view .LVU469
 2029 0364 A44A     		ldr	r2, .L185+4
 2030 0366 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 400:App/Src/manager.c ****                 }
 2031              		.loc 1 400 44 discriminator 3 view .LVU470
 2032 0368 0122     		movs	r2, #1
 2033 036a 02FA01F1 		lsl	r1, r2, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 53


 400:App/Src/manager.c ****                 }
 2034              		.loc 1 400 35 discriminator 3 view .LVU471
 2035 036e A348     		ldr	r0, .L185+8
 2036 0370 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 2037 0372 0A43     		orrs	r2, r2, r1
 2038 0374 C254     		strb	r2, [r0, r3]
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2039              		.loc 1 399 50 is_stmt 1 discriminator 3 view .LVU472
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2040              		.loc 1 399 51 is_stmt 0 discriminator 3 view .LVU473
 2041 0376 0133     		adds	r3, r3, #1
 2042              	.LVL178:
 2043              	.L138:
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2044              		.loc 1 399 29 is_stmt 1 discriminator 1 view .LVU474
 399:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2045              		.loc 1 399 17 is_stmt 0 discriminator 1 view .LVU475
 2046 0378 632B     		cmp	r3, #99
 2047 037a F3DD     		ble	.L139
 402:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 2048              		.loc 1 402 17 is_stmt 1 view .LVU476
 2049 037c 0222     		movs	r2, #2
 2050 037e 0121     		movs	r1, #1
 2051 0380 9E48     		ldr	r0, .L185+8
 2052 0382 FFF7FEFF 		bl	flash_test_flag_manage
 2053              	.LVL179:
 403:App/Src/manager.c ****             }
 2054              		.loc 1 403 17 view .LVU477
 403:App/Src/manager.c ****             }
 2055              		.loc 1 403 28 is_stmt 0 view .LVU478
 2056 0386 9E4B     		ldr	r3, .L185+12
 2057 0388 0322     		movs	r2, #3
 2058 038a 1A70     		strb	r2, [r3]
 2059 038c 57E6     		b	.L108
 2060              	.L117:
 407:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2061              		.loc 1 407 13 is_stmt 1 view .LVU479
 407:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2062              		.loc 1 407 19 is_stmt 0 view .LVU480
 2063 038e 0024     		movs	r4, #0
 2064 0390 9C4B     		ldr	r3, .L185+16
 2065 0392 1C70     		strb	r4, [r3]
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2066              		.loc 1 408 13 is_stmt 1 view .LVU481
 2067              	.LVL180:
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2068              		.loc 1 408 13 is_stmt 0 view .LVU482
 2069 0394 03E0     		b	.L140
 2070              	.LVL181:
 2071              	.L141:
 413:App/Src/manager.c ****                 }
 2072              		.loc 1 413 21 is_stmt 1 view .LVU483
 413:App/Src/manager.c ****                 }
 2073              		.loc 1 413 35 is_stmt 0 view .LVU484
 2074 0396 994B     		ldr	r3, .L185+8
 2075 0398 FF22     		movs	r2, #255
 2076 039a 1A55     		strb	r2, [r3, r4]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 54


 2077              	.L142:
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2078              		.loc 1 408 46 is_stmt 1 discriminator 2 view .LVU485
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2079              		.loc 1 408 47 is_stmt 0 discriminator 2 view .LVU486
 2080 039c 0134     		adds	r4, r4, #1
 2081              	.LVL182:
 2082              	.L140:
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2083              		.loc 1 408 25 is_stmt 1 discriminator 1 view .LVU487
 408:App/Src/manager.c ****                 if (sd3078b_calcul_cap(i + 1) != 0) {
 2084              		.loc 1 408 13 is_stmt 0 discriminator 1 view .LVU488
 2085 039e 632C     		cmp	r4, #99
 2086 03a0 0DDC     		bgt	.L176
 409:App/Src/manager.c ****                     count++;
 2087              		.loc 1 409 17 is_stmt 1 view .LVU489
 409:App/Src/manager.c ****                     count++;
 2088              		.loc 1 409 21 is_stmt 0 view .LVU490
 2089 03a2 601C     		adds	r0, r4, #1
 2090 03a4 C0B2     		uxtb	r0, r0
 2091 03a6 FFF7FEFF 		bl	sd3078b_calcul_cap
 2092              	.LVL183:
 409:App/Src/manager.c ****                     count++;
 2093              		.loc 1 409 20 view .LVU491
 2094 03aa 0028     		cmp	r0, #0
 2095 03ac F3D0     		beq	.L141
 410:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2096              		.loc 1 410 21 is_stmt 1 view .LVU492
 410:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2097              		.loc 1 410 26 is_stmt 0 view .LVU493
 2098 03ae 954A     		ldr	r2, .L185+16
 2099 03b0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2100 03b2 0133     		adds	r3, r3, #1
 2101 03b4 1370     		strb	r3, [r2]
 411:App/Src/manager.c ****                 } else {
 2102              		.loc 1 411 21 is_stmt 1 view .LVU494
 411:App/Src/manager.c ****                 } else {
 2103              		.loc 1 411 35 is_stmt 0 view .LVU495
 2104 03b6 914B     		ldr	r3, .L185+8
 2105 03b8 3122     		movs	r2, #49
 2106 03ba 1A55     		strb	r2, [r3, r4]
 2107 03bc EEE7     		b	.L142
 2108              	.L176:
 416:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2109              		.loc 1 416 13 is_stmt 1 view .LVU496
 2110 03be 0122     		movs	r2, #1
 2111 03c0 0221     		movs	r1, #2
 2112 03c2 8E48     		ldr	r0, .L185+8
 2113 03c4 FFF7FEFF 		bl	flash_test_flag_manage
 2114              	.LVL184:
 417:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2115              		.loc 1 417 13 view .LVU497
 417:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2116              		.loc 1 417 24 is_stmt 0 view .LVU498
 2117 03c8 8D4B     		ldr	r3, .L185+12
 2118 03ca 0022     		movs	r2, #0
 2119 03cc 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 55


 418:App/Src/manager.c ****             log_printf("calculate success number %d\n", count);
 2120              		.loc 1 418 13 is_stmt 1 view .LVU499
 2121 03ce 8D4C     		ldr	r4, .L185+16
 2122              	.LVL185:
 418:App/Src/manager.c ****             log_printf("calculate success number %d\n", count);
 2123              		.loc 1 418 13 is_stmt 0 view .LVU500
 2124 03d0 8D4D     		ldr	r5, .L185+20
 2125 03d2 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2126 03d4 2846     		mov	r0, r5
 2127 03d6 FFF7FEFF 		bl	UsbPrintf
 2128              	.LVL186:
 419:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2129              		.loc 1 419 13 is_stmt 1 view .LVU501
 2130 03da 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2131 03dc 2846     		mov	r0, r5
 2132 03de FFF7FEFF 		bl	log_printf
 2133              	.LVL187:
 420:App/Src/manager.c ****         break;
 2134              		.loc 1 420 4 view .LVU502
 2135 03e2 6422     		movs	r2, #100
 2136 03e4 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2137 03e6 8948     		ldr	r0, .L185+24
 2138 03e8 FFF7FEFF 		bl	ControlPrintf
 2139              	.LVL188:
 421:App/Src/manager.c ****         case CAP_DOWNLOAD:
 2140              		.loc 1 421 9 view .LVU503
 2141 03ec 27E6     		b	.L108
 2142              	.L116:
 423:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2143              		.loc 1 423 13 view .LVU504
 423:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2144              		.loc 1 423 22 is_stmt 0 view .LVU505
 2145 03ee FFF7FEFF 		bl	system_manage_download_cap
 2146              	.LVL189:
 2147 03f2 0446     		mov	r4, r0
 2148              	.LVL190:
 424:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 2149              		.loc 1 424 13 is_stmt 1 view .LVU506
 2150 03f4 0146     		mov	r1, r0
 2151 03f6 8648     		ldr	r0, .L185+28
 2152              	.LVL191:
 424:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 2153              		.loc 1 424 13 is_stmt 0 view .LVU507
 2154 03f8 FFF7FEFF 		bl	UsbPrintf
 2155              	.LVL192:
 425:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2156              		.loc 1 425 4 is_stmt 1 view .LVU508
 2157 03fc 6422     		movs	r2, #100
 2158 03fe 2146     		mov	r1, r4
 2159 0400 8448     		ldr	r0, .L185+32
 2160 0402 FFF7FEFF 		bl	ControlPrintf
 2161              	.LVL193:
 426:App/Src/manager.c ****         break;
 2162              		.loc 1 426 13 view .LVU509
 426:App/Src/manager.c ****         break;
 2163              		.loc 1 426 24 is_stmt 0 view .LVU510
 2164 0406 7E4B     		ldr	r3, .L185+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 56


 2165 0408 0022     		movs	r2, #0
 2166 040a 1A70     		strb	r2, [r3]
 427:App/Src/manager.c ****         case SYNC_RTC_TIME:
 2167              		.loc 1 427 9 is_stmt 1 view .LVU511
 2168 040c 17E6     		b	.L108
 2169              	.LVL194:
 2170              	.L115:
 429:App/Src/manager.c ****             count = 0;
 2171              		.loc 1 429 13 view .LVU512
 2172 040e 04A8     		add	r0, sp, #16
 2173 0410 FFF7FEFF 		bl	system_get_real_time
 2174              	.LVL195:
 430:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2175              		.loc 1 430 13 view .LVU513
 430:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2176              		.loc 1 430 19 is_stmt 0 view .LVU514
 2177 0414 0024     		movs	r4, #0
 2178 0416 7B4B     		ldr	r3, .L185+16
 2179 0418 1C70     		strb	r4, [r3]
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2180              		.loc 1 431 13 is_stmt 1 view .LVU515
 2181              	.LVL196:
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2182              		.loc 1 431 13 is_stmt 0 view .LVU516
 2183 041a 0AE0     		b	.L144
 2184              	.LVL197:
 2185              	.L145:
 438:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 2186              		.loc 1 438 21 is_stmt 1 view .LVU517
 2187 041c 651C     		adds	r5, r4, #1
 2188 041e 7E4E     		ldr	r6, .L185+36
 2189 0420 2946     		mov	r1, r5
 2190 0422 3046     		mov	r0, r6
 2191 0424 FFF7FEFF 		bl	log_printf
 2192              	.LVL198:
 439:App/Src/manager.c ****                 }
 2193              		.loc 1 439 21 view .LVU518
 2194 0428 2946     		mov	r1, r5
 2195 042a 3046     		mov	r0, r6
 2196 042c FFF7FEFF 		bl	UsbPrintf
 2197              	.LVL199:
 2198              	.L146:
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2199              		.loc 1 431 46 discriminator 2 view .LVU519
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2200              		.loc 1 431 47 is_stmt 0 discriminator 2 view .LVU520
 2201 0430 0134     		adds	r4, r4, #1
 2202              	.LVL200:
 2203              	.L144:
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2204              		.loc 1 431 25 is_stmt 1 discriminator 1 view .LVU521
 431:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2205              		.loc 1 431 13 is_stmt 0 discriminator 1 view .LVU522
 2206 0432 632C     		cmp	r4, #99
 2207 0434 18DC     		bgt	.L177
 432:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 2208              		.loc 1 432 17 is_stmt 1 view .LVU523
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 57


 2209 0436 601C     		adds	r0, r4, #1
 2210 0438 0121     		movs	r1, #1
 2211 043a C0B2     		uxtb	r0, r0
 2212 043c FFF7FEFF 		bl	rtc_group_power
 2213              	.LVL201:
 433:App/Src/manager.c ****                     count++;
 2214              		.loc 1 433 17 view .LVU524
 433:App/Src/manager.c ****                     count++;
 2215              		.loc 1 433 21 is_stmt 0 view .LVU525
 2216 0440 04A8     		add	r0, sp, #16
 2217 0442 FFF7FEFF 		bl	rtc_write_date
 2218              	.LVL202:
 433:App/Src/manager.c ****                     count++;
 2219              		.loc 1 433 20 view .LVU526
 2220 0446 0028     		cmp	r0, #0
 2221 0448 E8D1     		bne	.L145
 434:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2222              		.loc 1 434 21 is_stmt 1 view .LVU527
 434:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2223              		.loc 1 434 26 is_stmt 0 view .LVU528
 2224 044a 6E4A     		ldr	r2, .L185+16
 2225 044c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2226 044e 0133     		adds	r3, r3, #1
 2227 0450 1370     		strb	r3, [r2]
 435:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 2228              		.loc 1 435 21 is_stmt 1 view .LVU529
 2229 0452 651C     		adds	r5, r4, #1
 2230 0454 714E     		ldr	r6, .L185+40
 2231 0456 2946     		mov	r1, r5
 2232 0458 3046     		mov	r0, r6
 2233 045a FFF7FEFF 		bl	log_printf
 2234              	.LVL203:
 436:App/Src/manager.c ****                 } else {
 2235              		.loc 1 436 21 view .LVU530
 2236 045e 2946     		mov	r1, r5
 2237 0460 3046     		mov	r0, r6
 2238 0462 FFF7FEFF 		bl	UsbPrintf
 2239              	.LVL204:
 2240 0466 E3E7     		b	.L146
 2241              	.L177:
 442:App/Src/manager.c ****             log_printf("sync end\n");
 2242              		.loc 1 442 4 view .LVU531
 2243 0468 6422     		movs	r2, #100
 2244 046a 664B     		ldr	r3, .L185+16
 2245 046c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2246 046e 6C48     		ldr	r0, .L185+44
 2247 0470 FFF7FEFF 		bl	ControlPrintf
 2248              	.LVL205:
 443:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2249              		.loc 1 443 13 view .LVU532
 2250 0474 6B4C     		ldr	r4, .L185+48
 2251              	.LVL206:
 443:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2252              		.loc 1 443 13 is_stmt 0 view .LVU533
 2253 0476 2046     		mov	r0, r4
 2254 0478 FFF7FEFF 		bl	log_printf
 2255              	.LVL207:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 58


 444:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2256              		.loc 1 444 13 is_stmt 1 view .LVU534
 2257 047c 2046     		mov	r0, r4
 2258 047e FFF7FEFF 		bl	UsbPrintf
 2259              	.LVL208:
 445:App/Src/manager.c ****         break;
 2260              		.loc 1 445 13 view .LVU535
 445:App/Src/manager.c ****         break;
 2261              		.loc 1 445 24 is_stmt 0 view .LVU536
 2262 0482 5F4B     		ldr	r3, .L185+12
 2263 0484 0022     		movs	r2, #0
 2264 0486 1A70     		strb	r2, [r3]
 446:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 2265              		.loc 1 446 9 is_stmt 1 view .LVU537
 2266 0488 D9E5     		b	.L108
 2267              	.L114:
 448:App/Src/manager.c ****             count = 0;
 2268              		.loc 1 448 13 view .LVU538
 2269 048a 04A8     		add	r0, sp, #16
 2270 048c FFF7FEFF 		bl	system_get_real_time
 2271              	.LVL209:
 449:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2272              		.loc 1 449 13 view .LVU539
 449:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2273              		.loc 1 449 19 is_stmt 0 view .LVU540
 2274 0490 0026     		movs	r6, #0
 2275 0492 5C4B     		ldr	r3, .L185+16
 2276 0494 1E70     		strb	r6, [r3]
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2277              		.loc 1 450 13 is_stmt 1 view .LVU541
 2278              	.LVL210:
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2279              		.loc 1 450 13 is_stmt 0 view .LVU542
 2280 0496 12E0     		b	.L148
 2281              	.LVL211:
 2282              	.L150:
 457:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 2283              		.loc 1 457 21 is_stmt 1 view .LVU543
 2284 0498 751C     		adds	r5, r6, #1
 2285 049a DFF86881 		ldr	r8, .L185+16
 2286 049e 624F     		ldr	r7, .L185+52
 2287 04a0 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2288 04a4 2246     		mov	r2, r4
 2289 04a6 2946     		mov	r1, r5
 2290 04a8 3846     		mov	r0, r7
 2291 04aa FFF7FEFF 		bl	log_printf
 2292              	.LVL212:
 458:App/Src/manager.c ****                 } else {
 2293              		.loc 1 458 21 view .LVU544
 2294 04ae 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2295 04b2 2246     		mov	r2, r4
 2296 04b4 2946     		mov	r1, r5
 2297 04b6 3846     		mov	r0, r7
 2298 04b8 FFF7FEFF 		bl	UsbPrintf
 2299              	.LVL213:
 2300              	.L151:
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 59


 2301              		.loc 1 450 46 discriminator 2 view .LVU545
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2302              		.loc 1 450 47 is_stmt 0 discriminator 2 view .LVU546
 2303 04bc 0136     		adds	r6, r6, #1
 2304              	.LVL214:
 2305              	.L148:
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2306              		.loc 1 450 25 is_stmt 1 discriminator 1 view .LVU547
 450:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2307              		.loc 1 450 13 is_stmt 0 discriminator 1 view .LVU548
 2308 04be 632E     		cmp	r6, #99
 2309 04c0 27DC     		bgt	.L178
 451:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 2310              		.loc 1 451 17 is_stmt 1 view .LVU549
 2311 04c2 701C     		adds	r0, r6, #1
 2312 04c4 0121     		movs	r1, #1
 2313 04c6 C0B2     		uxtb	r0, r0
 2314 04c8 FFF7FEFF 		bl	rtc_group_power
 2315              	.LVL215:
 452:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2316              		.loc 1 452 17 view .LVU550
 452:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2317              		.loc 1 452 21 is_stmt 0 view .LVU551
 2318 04cc 02A8     		add	r0, sp, #8
 2319 04ce FFF7FEFF 		bl	rtc_read_date
 2320              	.LVL216:
 452:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2321              		.loc 1 452 20 view .LVU552
 2322 04d2 98B9     		cbnz	r0, .L149
 453:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2323              		.loc 1 453 21 is_stmt 1 view .LVU553
 453:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2324              		.loc 1 453 30 is_stmt 0 view .LVU554
 2325 04d4 06AB     		add	r3, sp, #24
 2326 04d6 13E90300 		ldmdb	r3, {r0, r1}
 2327 04da FFF7FEFF 		bl	system_tool_calculate_sec
 2328              	.LVL217:
 2329 04de 0446     		mov	r4, r0
 453:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2330              		.loc 1 453 67 view .LVU555
 2331 04e0 02AB     		add	r3, sp, #8
 2332 04e2 93E80300 		ldm	r3, {r0, r1}
 2333 04e6 FFF7FEFF 		bl	system_tool_calculate_sec
 2334              	.LVL218:
 453:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2335              		.loc 1 453 28 view .LVU556
 2336 04ea 241A     		subs	r4, r4, r0
 2337              	.LVL219:
 454:App/Src/manager.c ****                         count++;
 2338              		.loc 1 454 21 is_stmt 1 view .LVU557
 454:App/Src/manager.c ****                         count++;
 2339              		.loc 1 454 38 is_stmt 0 view .LVU558
 2340 04ec 631D     		adds	r3, r4, #5
 454:App/Src/manager.c ****                         count++;
 2341              		.loc 1 454 24 view .LVU559
 2342 04ee 0A2B     		cmp	r3, #10
 2343 04f0 D2D8     		bhi	.L150
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 60


 455:App/Src/manager.c ****                     } 
 2344              		.loc 1 455 25 is_stmt 1 view .LVU560
 455:App/Src/manager.c ****                     } 
 2345              		.loc 1 455 30 is_stmt 0 view .LVU561
 2346 04f2 444A     		ldr	r2, .L185+16
 2347 04f4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2348 04f6 0133     		adds	r3, r3, #1
 2349 04f8 1370     		strb	r3, [r2]
 2350 04fa CDE7     		b	.L150
 2351              	.LVL220:
 2352              	.L149:
 460:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 2353              		.loc 1 460 21 is_stmt 1 view .LVU562
 2354 04fc 741C     		adds	r4, r6, #1
 2355 04fe 4B4D     		ldr	r5, .L185+56
 2356 0500 2146     		mov	r1, r4
 2357 0502 2846     		mov	r0, r5
 2358 0504 FFF7FEFF 		bl	log_printf
 2359              	.LVL221:
 461:App/Src/manager.c ****                 }
 2360              		.loc 1 461 21 view .LVU563
 2361 0508 2146     		mov	r1, r4
 2362 050a 2846     		mov	r0, r5
 2363 050c FFF7FEFF 		bl	UsbPrintf
 2364              	.LVL222:
 2365 0510 D4E7     		b	.L151
 2366              	.L178:
 464:App/Src/manager.c ****             log_printf("check end\n");
 2367              		.loc 1 464 4 view .LVU564
 2368 0512 6422     		movs	r2, #100
 2369 0514 3B4B     		ldr	r3, .L185+16
 2370 0516 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2371 0518 4548     		ldr	r0, .L185+60
 2372 051a FFF7FEFF 		bl	ControlPrintf
 2373              	.LVL223:
 465:App/Src/manager.c ****             UsbPrintf("check end\n");
 2374              		.loc 1 465 13 view .LVU565
 2375 051e 454C     		ldr	r4, .L185+64
 2376 0520 2046     		mov	r0, r4
 2377 0522 FFF7FEFF 		bl	log_printf
 2378              	.LVL224:
 466:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2379              		.loc 1 466 13 view .LVU566
 2380 0526 2046     		mov	r0, r4
 2381 0528 FFF7FEFF 		bl	UsbPrintf
 2382              	.LVL225:
 467:App/Src/manager.c ****         break;
 2383              		.loc 1 467 13 view .LVU567
 467:App/Src/manager.c ****         break;
 2384              		.loc 1 467 24 is_stmt 0 view .LVU568
 2385 052c 344B     		ldr	r3, .L185+12
 2386 052e 0022     		movs	r2, #0
 2387 0530 1A70     		strb	r2, [r3]
 468:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 2388              		.loc 1 468 9 is_stmt 1 view .LVU569
 2389 0532 84E5     		b	.L108
 2390              	.LVL226:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 61


 2391              	.L113:
 470:App/Src/manager.c ****                 count = 1;
 2392              		.loc 1 470 13 view .LVU570
 470:App/Src/manager.c ****                 count = 1;
 2393              		.loc 1 470 23 is_stmt 0 view .LVU571
 2394 0534 334B     		ldr	r3, .L185+16
 2395 0536 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 470:App/Src/manager.c ****                 count = 1;
 2396              		.loc 1 470 16 view .LVU572
 2397 0538 98B1     		cbz	r0, .L179
 473:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2398              		.loc 1 473 20 is_stmt 1 view .LVU573
 473:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2399              		.loc 1 473 23 is_stmt 0 view .LVU574
 2400 053a 6428     		cmp	r0, #100
 2401 053c 3FF67FAD 		bhi	.L108
 474:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2402              		.loc 1 474 17 is_stmt 1 view .LVU575
 474:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2403              		.loc 1 474 26 is_stmt 0 view .LVU576
 2404 0540 0021     		movs	r1, #0
 2405 0542 FFF7FEFF 		bl	system_machine_test_one
 2406              	.LVL227:
 475:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2407              		.loc 1 475 17 is_stmt 1 view .LVU577
 475:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2408              		.loc 1 475 20 is_stmt 0 view .LVU578
 2409 0546 0028     		cmp	r0, #0
 2410 0548 3FF479AD 		beq	.L108
 477:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2411              		.loc 1 477 21 is_stmt 1 view .LVU579
 477:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2412              		.loc 1 477 24 is_stmt 0 view .LVU580
 2413 054c 0028     		cmp	r0, #0
 2414 054e 26DD     		ble	.L154
 478:App/Src/manager.c ****                         result = 0;
 2415              		.loc 1 478 25 is_stmt 1 view .LVU581
 478:App/Src/manager.c ****                         result = 0;
 2416              		.loc 1 478 42 is_stmt 0 view .LVU582
 2417 0550 2C4B     		ldr	r3, .L185+16
 2418 0552 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2419 0554 531E     		subs	r3, r2, #1
 478:App/Src/manager.c ****                         result = 0;
 2420              		.loc 1 478 47 view .LVU583
 2421 0556 2949     		ldr	r1, .L185+8
 2422 0558 3120     		movs	r0, #49
 2423              	.LVL228:
 478:App/Src/manager.c ****                         result = 0;
 2424              		.loc 1 478 47 view .LVU584
 2425 055a C854     		strb	r0, [r1, r3]
 479:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2426              		.loc 1 479 25 is_stmt 1 view .LVU585
 2427              	.LVL229:
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2428              		.loc 1 480 25 view .LVU586
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2429              		.loc 1 480 32 is_stmt 0 view .LVU587
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 62


 2430 055c 0023     		movs	r3, #0
 479:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2431              		.loc 1 479 32 view .LVU588
 2432 055e 1946     		mov	r1, r3
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2433              		.loc 1 480 25 view .LVU589
 2434 0560 06E0     		b	.L155
 2435              	.LVL230:
 2436              	.L179:
 471:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2437              		.loc 1 471 17 is_stmt 1 view .LVU590
 471:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2438              		.loc 1 471 23 is_stmt 0 view .LVU591
 2439 0562 0120     		movs	r0, #1
 2440 0564 1870     		strb	r0, [r3]
 472:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2441              		.loc 1 472 17 is_stmt 1 view .LVU592
 2442 0566 0146     		mov	r1, r0
 2443 0568 FFF7FEFF 		bl	system_machine_test_one
 2444              	.LVL231:
 2445 056c 67E5     		b	.L108
 2446              	.LVL232:
 2447              	.L156:
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2448              		.loc 1 480 58 discriminator 2 view .LVU593
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2449              		.loc 1 480 59 is_stmt 0 discriminator 2 view .LVU594
 2450 056e 0133     		adds	r3, r3, #1
 2451              	.LVL233:
 2452              	.L155:
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2453              		.loc 1 480 37 is_stmt 1 discriminator 1 view .LVU595
 480:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2454              		.loc 1 480 25 is_stmt 0 discriminator 1 view .LVU596
 2455 0570 632B     		cmp	r3, #99
 2456 0572 05DC     		bgt	.L180
 481:App/Src/manager.c ****                         }
 2457              		.loc 1 481 29 is_stmt 1 view .LVU597
 481:App/Src/manager.c ****                         }
 2458              		.loc 1 481 43 is_stmt 0 view .LVU598
 2459 0574 2148     		ldr	r0, .L185+8
 2460 0576 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 481:App/Src/manager.c ****                         }
 2461              		.loc 1 481 32 view .LVU599
 2462 0578 3128     		cmp	r0, #49
 2463 057a F8D1     		bne	.L156
 481:App/Src/manager.c ****                         }
 2464              		.loc 1 481 57 is_stmt 1 discriminator 1 view .LVU600
 481:App/Src/manager.c ****                         }
 2465              		.loc 1 481 63 is_stmt 0 discriminator 1 view .LVU601
 2466 057c 0131     		adds	r1, r1, #1
 2467              	.LVL234:
 481:App/Src/manager.c ****                         }
 2468              		.loc 1 481 63 discriminator 1 view .LVU602
 2469 057e F6E7     		b	.L156
 2470              	.L180:
 483:App/Src/manager.c ****                     } else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 63


 2471              		.loc 1 483 25 is_stmt 1 view .LVU603
 2472 0580 2D48     		ldr	r0, .L185+68
 2473 0582 FFF7FEFF 		bl	ControlPrintf
 2474              	.LVL235:
 2475              	.L158:
 488:App/Src/manager.c ****                         count++;
 2476              		.loc 1 488 21 view .LVU604
 488:App/Src/manager.c ****                         count++;
 2477              		.loc 1 488 31 is_stmt 0 view .LVU605
 2478 0586 1F4B     		ldr	r3, .L185+16
 2479 0588 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 488:App/Src/manager.c ****                         count++;
 2480              		.loc 1 488 24 view .LVU606
 2481 058a 632B     		cmp	r3, #99
 2482 058c 11D8     		bhi	.L159
 489:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2483              		.loc 1 489 25 is_stmt 1 view .LVU607
 489:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2484              		.loc 1 489 30 is_stmt 0 view .LVU608
 2485 058e 0133     		adds	r3, r3, #1
 2486 0590 D8B2     		uxtb	r0, r3
 2487 0592 1C4B     		ldr	r3, .L185+16
 2488 0594 1870     		strb	r0, [r3]
 490:App/Src/manager.c ****                     } else {
 2489              		.loc 1 490 25 is_stmt 1 view .LVU609
 2490 0596 0121     		movs	r1, #1
 2491 0598 FFF7FEFF 		bl	system_machine_test_one
 2492              	.LVL236:
 2493 059c 4FE5     		b	.L108
 2494              	.LVL237:
 2495              	.L154:
 485:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2496              		.loc 1 485 25 view .LVU610
 485:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2497              		.loc 1 485 42 is_stmt 0 view .LVU611
 2498 059e 194B     		ldr	r3, .L185+16
 2499 05a0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2500 05a2 4B1E     		subs	r3, r1, #1
 485:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2501              		.loc 1 485 47 view .LVU612
 2502 05a4 154A     		ldr	r2, .L185+8
 2503 05a6 FF20     		movs	r0, #255
 2504              	.LVL238:
 485:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2505              		.loc 1 485 47 view .LVU613
 2506 05a8 D054     		strb	r0, [r2, r3]
 486:App/Src/manager.c ****                     }
 2507              		.loc 1 486 25 is_stmt 1 view .LVU614
 2508 05aa 2448     		ldr	r0, .L185+72
 2509 05ac FFF7FEFF 		bl	ControlPrintf
 2510              	.LVL239:
 2511 05b0 E9E7     		b	.L158
 2512              	.L159:
 492:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2513              		.loc 1 492 25 view .LVU615
 492:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2514              		.loc 1 492 31 is_stmt 0 view .LVU616
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 64


 2515 05b2 0024     		movs	r4, #0
 2516 05b4 134B     		ldr	r3, .L185+16
 2517 05b6 1C70     		strb	r4, [r3]
 493:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2518              		.loc 1 493 25 is_stmt 1 view .LVU617
 2519 05b8 2148     		ldr	r0, .L185+76
 2520 05ba FFF7FEFF 		bl	ControlPrintf
 2521              	.LVL240:
 494:App/Src/manager.c ****                         break;
 2522              		.loc 1 494 25 view .LVU618
 494:App/Src/manager.c ****                         break;
 2523              		.loc 1 494 36 is_stmt 0 view .LVU619
 2524 05be 104B     		ldr	r3, .L185+12
 2525 05c0 1C70     		strb	r4, [r3]
 495:App/Src/manager.c ****                     }
 2526              		.loc 1 495 25 is_stmt 1 view .LVU620
 2527 05c2 3CE5     		b	.L108
 2528              	.LVL241:
 2529              	.L160:
 502:App/Src/manager.c ****             }
 2530              		.loc 1 502 17 discriminator 3 view .LVU621
 502:App/Src/manager.c ****             }
 2531              		.loc 1 502 31 is_stmt 0 discriminator 3 view .LVU622
 2532 05c4 0D4A     		ldr	r2, .L185+8
 2533 05c6 FF21     		movs	r1, #255
 2534 05c8 D154     		strb	r1, [r2, r3]
 501:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2535              		.loc 1 501 46 is_stmt 1 discriminator 3 view .LVU623
 501:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2536              		.loc 1 501 47 is_stmt 0 discriminator 3 view .LVU624
 2537 05ca 0133     		adds	r3, r3, #1
 2538              	.LVL242:
 2539              	.L112:
 501:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2540              		.loc 1 501 25 is_stmt 1 discriminator 1 view .LVU625
 501:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2541              		.loc 1 501 13 is_stmt 0 discriminator 1 view .LVU626
 2542 05cc 632B     		cmp	r3, #99
 2543 05ce F9DD     		ble	.L160
 504:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 2544              		.loc 1 504 13 is_stmt 1 view .LVU627
 2545 05d0 0222     		movs	r2, #2
 2546 05d2 0421     		movs	r1, #4
 2547 05d4 0948     		ldr	r0, .L185+8
 2548 05d6 FFF7FEFF 		bl	flash_test_flag_manage
 2549              	.LVL243:
 505:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 2550              		.loc 1 505 13 view .LVU628
 2551 05da 0620     		movs	r0, #6
 2552 05dc FFF7FEFF 		bl	flash_test_data_clear
 2553              	.LVL244:
 506:App/Src/manager.c ****             count = 0;
 2554              		.loc 1 506 13 view .LVU629
 506:App/Src/manager.c ****             count = 0;
 2555              		.loc 1 506 24 is_stmt 0 view .LVU630
 2556 05e0 074B     		ldr	r3, .L185+12
 2557 05e2 0B22     		movs	r2, #11
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 65


 2558 05e4 1A70     		strb	r2, [r3]
 507:App/Src/manager.c ****         break;
 2559              		.loc 1 507 13 is_stmt 1 view .LVU631
 507:App/Src/manager.c ****         break;
 2560              		.loc 1 507 19 is_stmt 0 view .LVU632
 2561 05e6 074B     		ldr	r3, .L185+16
 2562 05e8 0022     		movs	r2, #0
 2563 05ea 1A70     		strb	r2, [r3]
 508:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 2564              		.loc 1 508 9 is_stmt 1 view .LVU633
 2565 05ec 27E5     		b	.L108
 2566              	.L170:
 296:App/Src/manager.c ****         case FREE_MODE:// free mode
 2567              		.loc 1 296 5 is_stmt 0 view .LVU634
 2568 05ee 0023     		movs	r3, #0
 2569 05f0 ECE7     		b	.L112
 2570              	.L186:
 2571 05f2 00BF     		.align	2
 2572              	.L185:
 2573 05f4 60010000 		.word	.LC29
 2574 05f8 00000000 		.word	.LANCHOR3
 2575 05fc 00000000 		.word	.LANCHOR1
 2576 0600 00000000 		.word	.LANCHOR0
 2577 0604 00000000 		.word	.LANCHOR5
 2578 0608 7C010000 		.word	.LC30
 2579 060c 9C010000 		.word	.LC31
 2580 0610 C8010000 		.word	.LC32
 2581 0614 E4010000 		.word	.LC33
 2582 0618 24020000 		.word	.LC35
 2583 061c 10020000 		.word	.LC34
 2584 0620 38020000 		.word	.LC36
 2585 0624 68020000 		.word	.LC37
 2586 0628 74020000 		.word	.LC38
 2587 062c 94020000 		.word	.LC39
 2588 0630 A4020000 		.word	.LC40
 2589 0634 D4020000 		.word	.LC41
 2590 0638 E0020000 		.word	.LC42
 2591 063c 04030000 		.word	.LC43
 2592 0640 20030000 		.word	.LC44
 2593              	.L110:
 510:App/Src/manager.c ****                 count = 1;
 2594              		.loc 1 510 13 is_stmt 1 view .LVU635
 510:App/Src/manager.c ****                 count = 1;
 2595              		.loc 1 510 28 is_stmt 0 view .LVU636
 2596 0644 2B4B     		ldr	r3, .L187
 2597 0646 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2598 0648 431E     		subs	r3, r0, #1
 2599 064a DBB2     		uxtb	r3, r3
 510:App/Src/manager.c ****                 count = 1;
 2600              		.loc 1 510 16 view .LVU637
 2601 064c 632B     		cmp	r3, #99
 2602 064e 13D8     		bhi	.L181
 513:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2603              		.loc 1 513 20 is_stmt 1 view .LVU638
 513:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2604              		.loc 1 513 23 is_stmt 0 view .LVU639
 2605 0650 6428     		cmp	r0, #100
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 66


 2606 0652 3FF6F4AC 		bhi	.L108
 514:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2607              		.loc 1 514 17 is_stmt 1 view .LVU640
 514:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2608              		.loc 1 514 26 is_stmt 0 view .LVU641
 2609 0656 0021     		movs	r1, #0
 2610 0658 FFF7FEFF 		bl	system_machine_write_one
 2611              	.LVL245:
 515:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2612              		.loc 1 515 17 is_stmt 1 view .LVU642
 515:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2613              		.loc 1 515 20 is_stmt 0 view .LVU643
 2614 065c 0028     		cmp	r0, #0
 2615 065e 3FF4EEAC 		beq	.L108
 517:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2616              		.loc 1 517 21 is_stmt 1 view .LVU644
 517:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2617              		.loc 1 517 24 is_stmt 0 view .LVU645
 2618 0662 0028     		cmp	r0, #0
 2619 0664 27DD     		ble	.L162
 518:App/Src/manager.c ****                         result = 0;
 2620              		.loc 1 518 25 is_stmt 1 view .LVU646
 518:App/Src/manager.c ****                         result = 0;
 2621              		.loc 1 518 42 is_stmt 0 view .LVU647
 2622 0666 234B     		ldr	r3, .L187
 2623 0668 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2624 066a 531E     		subs	r3, r2, #1
 518:App/Src/manager.c ****                         result = 0;
 2625              		.loc 1 518 47 view .LVU648
 2626 066c 2249     		ldr	r1, .L187+4
 2627 066e 3120     		movs	r0, #49
 2628              	.LVL246:
 518:App/Src/manager.c ****                         result = 0;
 2629              		.loc 1 518 47 view .LVU649
 2630 0670 C854     		strb	r0, [r1, r3]
 519:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2631              		.loc 1 519 25 is_stmt 1 view .LVU650
 2632              	.LVL247:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2633              		.loc 1 520 25 view .LVU651
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2634              		.loc 1 520 32 is_stmt 0 view .LVU652
 2635 0672 0023     		movs	r3, #0
 519:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2636              		.loc 1 519 32 view .LVU653
 2637 0674 1946     		mov	r1, r3
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2638              		.loc 1 520 25 view .LVU654
 2639 0676 07E0     		b	.L163
 2640              	.LVL248:
 2641              	.L181:
 511:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2642              		.loc 1 511 17 is_stmt 1 view .LVU655
 511:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2643              		.loc 1 511 23 is_stmt 0 view .LVU656
 2644 0678 0120     		movs	r0, #1
 2645 067a 1E4B     		ldr	r3, .L187
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 67


 2646 067c 1870     		strb	r0, [r3]
 512:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2647              		.loc 1 512 17 is_stmt 1 view .LVU657
 2648 067e 0146     		mov	r1, r0
 2649 0680 FFF7FEFF 		bl	system_machine_write_one
 2650              	.LVL249:
 2651 0684 DBE4     		b	.L108
 2652              	.LVL250:
 2653              	.L164:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2654              		.loc 1 520 58 discriminator 2 view .LVU658
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2655              		.loc 1 520 59 is_stmt 0 discriminator 2 view .LVU659
 2656 0686 0133     		adds	r3, r3, #1
 2657              	.LVL251:
 2658              	.L163:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2659              		.loc 1 520 37 is_stmt 1 discriminator 1 view .LVU660
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2660              		.loc 1 520 25 is_stmt 0 discriminator 1 view .LVU661
 2661 0688 632B     		cmp	r3, #99
 2662 068a 05DC     		bgt	.L182
 521:App/Src/manager.c ****                         }
 2663              		.loc 1 521 29 is_stmt 1 view .LVU662
 521:App/Src/manager.c ****                         }
 2664              		.loc 1 521 43 is_stmt 0 view .LVU663
 2665 068c 1A48     		ldr	r0, .L187+4
 2666 068e C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 521:App/Src/manager.c ****                         }
 2667              		.loc 1 521 32 view .LVU664
 2668 0690 3128     		cmp	r0, #49
 2669 0692 F8D1     		bne	.L164
 521:App/Src/manager.c ****                         }
 2670              		.loc 1 521 57 is_stmt 1 discriminator 1 view .LVU665
 521:App/Src/manager.c ****                         }
 2671              		.loc 1 521 63 is_stmt 0 discriminator 1 view .LVU666
 2672 0694 0131     		adds	r1, r1, #1
 2673              	.LVL252:
 521:App/Src/manager.c ****                         }
 2674              		.loc 1 521 63 discriminator 1 view .LVU667
 2675 0696 F6E7     		b	.L164
 2676              	.L182:
 523:App/Src/manager.c ****                     } else {
 2677              		.loc 1 523 25 is_stmt 1 view .LVU668
 2678 0698 1848     		ldr	r0, .L187+8
 2679 069a FFF7FEFF 		bl	ControlPrintf
 2680              	.LVL253:
 2681              	.L166:
 528:App/Src/manager.c ****                         count++;
 2682              		.loc 1 528 21 view .LVU669
 528:App/Src/manager.c ****                         count++;
 2683              		.loc 1 528 31 is_stmt 0 view .LVU670
 2684 069e 154B     		ldr	r3, .L187
 2685 06a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 528:App/Src/manager.c ****                         count++;
 2686              		.loc 1 528 24 view .LVU671
 2687 06a2 632B     		cmp	r3, #99
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 68


 2688 06a4 11D8     		bhi	.L167
 529:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2689              		.loc 1 529 25 is_stmt 1 view .LVU672
 529:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2690              		.loc 1 529 30 is_stmt 0 view .LVU673
 2691 06a6 0133     		adds	r3, r3, #1
 2692 06a8 D8B2     		uxtb	r0, r3
 2693 06aa 124B     		ldr	r3, .L187
 2694 06ac 1870     		strb	r0, [r3]
 530:App/Src/manager.c ****                     } else {
 2695              		.loc 1 530 25 is_stmt 1 view .LVU674
 2696 06ae 0121     		movs	r1, #1
 2697 06b0 FFF7FEFF 		bl	system_machine_write_one
 2698              	.LVL254:
 2699 06b4 C3E4     		b	.L108
 2700              	.LVL255:
 2701              	.L162:
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2702              		.loc 1 525 25 view .LVU675
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2703              		.loc 1 525 42 is_stmt 0 view .LVU676
 2704 06b6 0F4B     		ldr	r3, .L187
 2705 06b8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2706 06ba 4B1E     		subs	r3, r1, #1
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2707              		.loc 1 525 47 view .LVU677
 2708 06bc 0E4A     		ldr	r2, .L187+4
 2709 06be FF20     		movs	r0, #255
 2710              	.LVL256:
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2711              		.loc 1 525 47 view .LVU678
 2712 06c0 D054     		strb	r0, [r2, r3]
 526:App/Src/manager.c ****                     }
 2713              		.loc 1 526 25 is_stmt 1 view .LVU679
 2714 06c2 0F48     		ldr	r0, .L187+12
 2715 06c4 FFF7FEFF 		bl	ControlPrintf
 2716              	.LVL257:
 2717 06c8 E9E7     		b	.L166
 2718              	.L167:
 532:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2719              		.loc 1 532 25 view .LVU680
 532:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2720              		.loc 1 532 31 is_stmt 0 view .LVU681
 2721 06ca 0024     		movs	r4, #0
 2722 06cc 094B     		ldr	r3, .L187
 2723 06ce 1C70     		strb	r4, [r3]
 533:App/Src/manager.c ****                         result = 0;
 2724              		.loc 1 533 25 is_stmt 1 view .LVU682
 2725 06d0 0122     		movs	r2, #1
 2726 06d2 0421     		movs	r1, #4
 2727 06d4 0848     		ldr	r0, .L187+4
 2728 06d6 FFF7FEFF 		bl	flash_test_flag_manage
 2729              	.LVL258:
 534:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2730              		.loc 1 534 25 view .LVU683
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2731              		.loc 1 535 25 view .LVU684
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 69


 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2732              		.loc 1 535 32 is_stmt 0 view .LVU685
 2733 06da 2346     		mov	r3, r4
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2734              		.loc 1 535 25 view .LVU686
 2735 06dc 00E0     		b	.L168
 2736              	.LVL259:
 2737              	.L169:
 536:App/Src/manager.c ****                         }
 2738              		.loc 1 536 29 is_stmt 1 view .LVU687
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2739              		.loc 1 535 58 view .LVU688
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2740              		.loc 1 535 59 is_stmt 0 view .LVU689
 2741 06de 0133     		adds	r3, r3, #1
 2742              	.LVL260:
 2743              	.L168:
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2744              		.loc 1 535 37 is_stmt 1 discriminator 1 view .LVU690
 535:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2745              		.loc 1 535 25 is_stmt 0 discriminator 1 view .LVU691
 2746 06e0 632B     		cmp	r3, #99
 2747 06e2 FCDD     		ble	.L169
 538:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2748              		.loc 1 538 25 is_stmt 1 view .LVU692
 2749 06e4 0748     		ldr	r0, .L187+16
 2750 06e6 FFF7FEFF 		bl	ControlPrintf
 2751              	.LVL261:
 539:App/Src/manager.c ****                     }
 2752              		.loc 1 539 25 view .LVU693
 539:App/Src/manager.c ****                     }
 2753              		.loc 1 539 36 is_stmt 0 view .LVU694
 2754 06ea 074B     		ldr	r3, .L187+20
 2755 06ec 0022     		movs	r2, #0
 2756 06ee 1A70     		strb	r2, [r3]
 2757              		.loc 1 546 1 view .LVU695
 2758 06f0 A5E4     		b	.L108
 2759              	.L188:
 2760 06f2 00BF     		.align	2
 2761              	.L187:
 2762 06f4 00000000 		.word	.LANCHOR5
 2763 06f8 00000000 		.word	.LANCHOR1
 2764 06fc E0020000 		.word	.LC42
 2765 0700 04030000 		.word	.LC43
 2766 0704 20030000 		.word	.LC44
 2767 0708 00000000 		.word	.LANCHOR0
 2768              		.cfi_endproc
 2769              	.LFE246:
 2771              		.global	g_testFlag
 2772              		.global	g_capAdjust
 2773              		.section	.bss.count.0,"aw",%nobits
 2774              		.set	.LANCHOR5,. + 0
 2777              	count.0:
 2778 0000 00       		.space	1
 2779              		.section	.bss.g_capAdjust,"aw",%nobits
 2780              		.align	2
 2781              		.set	.LANCHOR6,. + 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 70


 2784              	g_capAdjust:
 2785 0000 00000000 		.space	20
 2785      00000000 
 2785      00000000 
 2785      00000000 
 2785      00000000 
 2786              		.section	.bss.g_oneData,"aw",%nobits
 2787              		.align	2
 2788              		.set	.LANCHOR3,. + 0
 2791              	g_oneData:
 2792 0000 00000000 		.space	904
 2792      00000000 
 2792      00000000 
 2792      00000000 
 2792      00000000 
 2793              		.section	.bss.g_testFlag,"aw",%nobits
 2794              		.align	2
 2795              		.set	.LANCHOR1,. + 0
 2798              	g_testFlag:
 2799 0000 00000000 		.space	100
 2799      00000000 
 2799      00000000 
 2799      00000000 
 2799      00000000 
 2800              		.section	.bss.g_testMode,"aw",%nobits
 2801              		.set	.LANCHOR0,. + 0
 2804              	g_testMode:
 2805 0000 00       		.space	1
 2806              		.section	.bss.state.1,"aw",%nobits
 2807              		.set	.LANCHOR4,. + 0
 2810              	state.1:
 2811 0000 00       		.space	1
 2812              		.section	.data.lastChannel.2,"aw"
 2813              		.align	2
 2814              		.set	.LANCHOR2,. + 0
 2817              	lastChannel.2:
 2818 0000 FFFFFFFF 		.word	-1
 2819              		.text
 2820              	.Letext0:
 2821              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 2822              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2823              		.file 4 "Core/Inc/main.h"
 2824              		.file 5 "App/Inc/manager.h"
 2825              		.file 6 "Device/Inc/flash.h"
 2826              		.file 7 "Drivers/User_Driver/Inc/soft_i2c.h"
 2827              		.file 8 "Drivers/User_Driver/Inc/rtc_i2c.h"
 2828              		.file 9 "App/Inc/calculate.h"
 2829              		.file 10 "Device/Inc/power.h"
 2830              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2831              		.file 12 "Device/Inc/temp.h"
 2832              		.file 13 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 2833              		.file 14 "Device/Inc/rtc.h"
 2834              		.file 15 "App/Inc/task.h"
 2835              		.file 16 "Device/Inc/drv_wave1006.h"
 2836              		.file 17 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 71


DEFINED SYMBOLS
                            *ABS*:00000000 manager.c
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:20     .text.manager_set_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:26     .text.manager_set_mode:00000000 manager_set_mode
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:44     .text.manager_set_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:49     .text.manager_get_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:55     .text.manager_get_mode:00000000 manager_get_mode
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:70     .text.manager_get_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:75     .text.system_voltage_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:81     .text.system_voltage_test:00000000 system_voltage_test
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:99     .rodata.system_manage_temp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:125    .text.system_manage_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:131    .text.system_manage_temp:00000000 system_manage_temp
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:447    .text.system_manage_temp:000001a4 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:460    .rodata.system_manage_download_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:473    .text.system_manage_download_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:479    .text.system_manage_download_cap:00000000 system_manage_download_cap
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:625    .text.system_manage_download_cap:000000a4 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:634    .rodata.system_set_int.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:638    .text.system_set_int:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:644    .text.system_set_int:00000000 system_set_int
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:723    .text.system_set_int:00000050 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:729    .text.check_system_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:735    .text.check_system_temp:00000000 check_system_temp
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:849    .text.check_system_temp:000000b0 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:860    .text.systm_cap_save_buffer:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:866    .text.systm_cap_save_buffer:00000000 systm_cap_save_buffer
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:926    .text.systm_cap_save_buffer:0000003c $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:931    .text.system_check_test_dot:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:937    .text.system_check_test_dot:00000000 system_check_test_dot
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1028   .text.system_cap_write_flash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1034   .text.system_cap_write_flash:00000000 system_cap_write_flash
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1158   .text.system_cap_write_flash:0000008c $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1163   .rodata.system_tool_calculate_sec.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1167   .text.system_tool_calculate_sec:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1173   .text.system_tool_calculate_sec:00000000 system_tool_calculate_sec
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1310   .text.system_tool_calculate_sec:0000009c $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1316   .rodata.system_manage_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1416   .text.system_manage_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1422   .text.system_manage_test_mode:00000000 system_manage_test_mode
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1460   .text.system_manage_test_mode:0000001c $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1472   .text.system_manage_test_mode:00000034 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:1980   .text.system_manage_test_mode:000002e8 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2006   .text.system_manage_test_mode:00000348 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2573   .text.system_manage_test_mode:000005f4 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2596   .text.system_manage_test_mode:00000644 $t
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2762   .text.system_manage_test_mode:000006f4 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2798   .bss.g_testFlag:00000000 g_testFlag
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2784   .bss.g_capAdjust:00000000 g_capAdjust
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2777   .bss.count.0:00000000 count.0
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2778   .bss.count.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2780   .bss.g_capAdjust:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2787   .bss.g_oneData:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2791   .bss.g_oneData:00000000 g_oneData
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2794   .bss.g_testFlag:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2804   .bss.g_testMode:00000000 g_testMode
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2805   .bss.g_testMode:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s 			page 72


C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2810   .bss.state.1:00000000 state.1
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2811   .bss.state.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2813   .data.lastChannel.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccZ0K03q.s:2817   .data.lastChannel.2:00000000 lastChannel.2

UNDEFINED SYMBOLS
__aeabi_f2d
memset
temp_read_value
log_printf
UsbPrintf
flash_test_flag_manage
HAL_Delay
ControlPrintf
rtc_1006_exit_testmode
rtc_group_power
rtc_1006_set_testmode
system_get_rtc_temp
rtc_convert_temp_offset
flash_test_data_write_add
sd3078b_write_otp
rtc_disable_int
rtc_out_4096
flash_read_data
float_to_uint8
flash_write_data
rtc_set_channel
rtc_read_multi_bytes
rtc_freq_test
flash_test_data_clear
sd3078b_calcul_cap
system_get_real_time
rtc_write_date
rtc_read_date
system_machine_test_one
system_machine_write_one
