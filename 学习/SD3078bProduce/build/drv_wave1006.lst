ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"drv_wave1006.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.otp_prg_power_ctrl,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	otp_prg_power_ctrl:
  26              	.LVL0:
  27              	.LFB236:
  28              		.file 1 "Device/Src/drv_wave1006.c"
   1:Device/Src/drv_wave1006.c **** /*
   2:Device/Src/drv_wave1006.c ****  *  drivers  wave1006
   3:Device/Src/drv_wave1006.c ****  * Copyright (C) 2022 shenzhen wave
   4:Device/Src/drv_wave1006.c ****  * version:v1.0.0--2023-2-12
   5:Device/Src/drv_wave1006.c ****  * This program is free software; you can redistribute it and/or modify
   6:Device/Src/drv_wave1006.c ****  *  Driver for wave1006 RTC 
   7:Device/Src/drv_wave1006.c ****  */
   8:Device/Src/drv_wave1006.c **** #include "drv_wave1006.h"
   9:Device/Src/drv_wave1006.c **** #include "rtc_i2c.h"
  10:Device/Src/drv_wave1006.c **** #include "power.h"
  11:Device/Src/drv_wave1006.c **** #include "calculate.h"
  12:Device/Src/drv_wave1006.c **** #include "rtc.h"
  13:Device/Src/drv_wave1006.c **** #define BIT(x)  (1 << x)
  14:Device/Src/drv_wave1006.c **** 
  15:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_RESET_SEQ1          0x00
  16:Device/Src/drv_wave1006.c **** /*enable write protect sequence*/
  17:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ1         0x54
  18:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ2         0x28
  19:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ3         0x5C
  20:Device/Src/drv_wave1006.c **** 
  21:Device/Src/drv_wave1006.c **** /*disable write protect sequence*/
  22:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ1        0x70
  23:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ2        0x0C
  24:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ3        0x38
  25:Device/Src/drv_wave1006.c **** 
  26:Device/Src/drv_wave1006.c **** 
  27:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd3068_config;     //otp_config.c中定义的烧写基本结构体
  28:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8825_config;
  29:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8800_config;     
  30:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8810_config;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 2


  31:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8804_config;
  32:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8931_config;
  33:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8939_config;
  34:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8200_config;
  35:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8840_config;
  36:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8902_config;
  37:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd3068_config = {
  38:Device/Src/drv_wave1006.c **** 	0,         //otp_wp_config
  39:Device/Src/drv_wave1006.c **** 	1,         //test_wp_config
  40:Device/Src/drv_wave1006.c **** 	DEV_SD3068,//device_type_config 
  41:Device/Src/drv_wave1006.c **** 	1,         //hour_12_config          		// no support 12 hour
  42:Device/Src/drv_wave1006.c **** 	0,         //week_encode_config   	  		//00-06 as sunday-monday
  43:Device/Src/drv_wave1006.c **** 	1,         //freq_en_config    	    		//use one bit enbale control
  44:Device/Src/drv_wave1006.c **** 	PKG_SD3078A,//package_type_config
  45:Device/Src/drv_wave1006.c **** 	0,         //ae_polarity_config  	 			//1 is alarm enable
  46:Device/Src/drv_wave1006.c **** 	1,         //week_day_alarm_config 			//both week and day can select alarm
  47:Device/Src/drv_wave1006.c **** 	0,         //wada_polarity_config  			//if the "week_day_alarm config" as 1,this bit not use
  48:Device/Src/drv_wave1006.c **** 	1,         //week_alarm_config     			//every bit represent a day
  49:Device/Src/drv_wave1006.c **** 	0x7f,      //alarm_valid_config    			//second -year can alarm
  50:Device/Src/drv_wave1006.c **** 	0,         //ae_disable_config     			//when all alarm is disable, alarm is close
  51:Device/Src/drv_wave1006.c **** 	0,         //timer_freq_source_config		//use 2 bit select timer frequency source 
  52:Device/Src/drv_wave1006.c **** 	1,				 //id_support_config
  53:Device/Src/drv_wave1006.c **** 	0, 				 //timer_pause_support_config	//not support timer pause
  54:Device/Src/drv_wave1006.c ****   	0, 				 //timer_reset_support_config	//not support timer reset
  55:Device/Src/drv_wave1006.c **** 	0,				 //int_out_sel_config					//use INTS1:0 bits select alarm or freq output
  56:Device/Src/drv_wave1006.c ****   	0,				 //int_out_rst_config					//int output high when flag clear or int is disable
  57:Device/Src/drv_wave1006.c ****   	0, 				 //wp_type_config							//use three wp bit
  58:Device/Src/drv_wave1006.c **** 	0, 				 //time_rst_support_config		//not support time power on reset
  59:Device/Src/drv_wave1006.c **** 	0, 				 //group2_alarm_support_config//not support group2 alarm
  60:Device/Src/drv_wave1006.c **** 	1, 				 //reg_addr_reset_config			//read and write stop addr is reset
  61:Device/Src/drv_wave1006.c **** 	0, 				 //time_update_support_config	//not support time update
  62:Device/Src/drv_wave1006.c **** 	112,       		//temp_offset_config  				//温度偏移值
  63:Device/Src/drv_wave1006.c **** 	0,				 //digtal_comp_sel_config			//1:load form otp, 0:load form reg 
  64:Device/Src/drv_wave1006.c **** 	0x32,			 //device_addr_config 
  65:Device/Src/drv_wave1006.c **** 	0,				 //alarm_ext_config						//not support alarm extend
  66:Device/Src/drv_wave1006.c **** 	0,				 //timer_ext_config						//not support timer extend
  67:Device/Src/drv_wave1006.c **** 	0,				 //event_support_config 			//support event extend
  68:Device/Src/drv_wave1006.c **** 	0,				 //pps_support_config					//support 1 pps extend
  69:Device/Src/drv_wave1006.c **** 	1,				 //temp_comp_support_config		//1：支持温补   0：不支持温补
  70:Device/Src/drv_wave1006.c **** 	0,				 //digtal_comp_ext_config	    //support digtal extend,digtal_comp_sel_config must this bit h
  71:Device/Src/drv_wave1006.c **** 	0,				 //ram_ext_config							//not support ram extend
  72:Device/Src/drv_wave1006.c **** 	1,				 //sub_second_ext_config 			//support sub second extend
  73:Device/Src/drv_wave1006.c **** 	0,				 //charge_ext_config					//1:支持扩展充电  0:不支持扩展充电
  74:Device/Src/drv_wave1006.c **** 	1,				 //bat_val_ext_config
  75:Device/Src/drv_wave1006.c **** 	0,				 //rst_out_support_config 
  76:Device/Src/drv_wave1006.c **** 	1,				 //temp_alarm_ext_config
  77:Device/Src/drv_wave1006.c **** 	1,				 //temp_val_ext_config
  78:Device/Src/drv_wave1006.c **** 	5,  			 //rule_temp_adj_config
  79:Device/Src/drv_wave1006.c ****   	4,				 //rule_bat_adj_config
  80:Device/Src/drv_wave1006.c **** 	2,				 //osc_cap_sel_config1        //封装电容选择值 3pf
  81:Device/Src/drv_wave1006.c **** 	1,    		 	//adjust_temp_1_3_ppm_config	//3ppm
  82:Device/Src/drv_wave1006.c **** 	0,				 //en_bat_pulldown_config     //有BAT脚的配置为0,没有BAT脚的配置为1通过内部200k下拉到地
  83:Device/Src/drv_wave1006.c **** 	0x19f7,		 	//osc_config_config					//13'b00_010_1001_0111; 
  84:Device/Src/drv_wave1006.c **** 	0,				 //spi_freq_en_config					//not support
  85:Device/Src/drv_wave1006.c **** 	0,				 //vol_sel_config
  86:Device/Src/drv_wave1006.c **** 	0, 				 //freq_src_config						//use 4 bit select frequency
  87:Device/Src/drv_wave1006.c **** 	1, 				 //k32_support_config					// support 32k alone output
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 3


  88:Device/Src/drv_wave1006.c **** 	0,				 //fout_open_drain_config
  89:Device/Src/drv_wave1006.c **** 	0,				 //sout_open_drain_config
  90:Device/Src/drv_wave1006.c **** 	0,				 //comp_period_config
  91:Device/Src/drv_wave1006.c **** 	0,				 //rst_time_config
  92:Device/Src/drv_wave1006.c **** 	0,			 	 //adjust_25_config
  93:Device/Src/drv_wave1006.c **** 	0,				 //spi_mode_config
  94:Device/Src/drv_wave1006.c **** 	0,				 //bus_select_config					//i2c
  95:Device/Src/drv_wave1006.c **** 	1, 				 //en_charge_config						//1:支持充电  0:不支持充电
  96:Device/Src/drv_wave1006.c **** 	0x177f, 	   	//osc_start_config	  				//13'b00_010_0001_0011
  97:Device/Src/drv_wave1006.c **** 	3,				 //charge_vol_adj_config
  98:Device/Src/drv_wave1006.c **** 	0,				 //timer_rst_out_config    
  99:Device/Src/drv_wave1006.c **** }; 
 100:Device/Src/drv_wave1006.c **** uint8_t g_dev_id[40];
 101:Device/Src/drv_wave1006.c **** wave1006_temp_arg_t g_temp_arg[420]; //-60~150
 102:Device/Src/drv_wave1006.c **** 
 103:Device/Src/drv_wave1006.c **** int g_digtal_adj[420] = {0};
 104:Device/Src/drv_wave1006.c **** float g_cap_val[420] = { 0};
 105:Device/Src/drv_wave1006.c **** uint16_t g_offset = 0;
 106:Device/Src/drv_wave1006.c **** 
 107:Device/Src/drv_wave1006.c **** typedef struct  
 108:Device/Src/drv_wave1006.c **** {
 109:Device/Src/drv_wave1006.c **** 	unsigned char device_type;
 110:Device/Src/drv_wave1006.c **** 	wave1006_test_mode_e test_mode;    
 111:Device/Src/drv_wave1006.c **** } wave1006_state_t;    		//测试模式选择
 112:Device/Src/drv_wave1006.c **** 
 113:Device/Src/drv_wave1006.c **** wave1006_state_t g_wave1006_state = {0, WAVE1006_NORMAL_MODE};
 114:Device/Src/drv_wave1006.c **** 
 115:Device/Src/drv_wave1006.c **** 
 116:Device/Src/drv_wave1006.c **** wave1006_exit_code_e get_device_addr(wave1006_dev_e dev, unsigned char *dev_addr)
 117:Device/Src/drv_wave1006.c **** {
 118:Device/Src/drv_wave1006.c **** 	switch (dev)
 119:Device/Src/drv_wave1006.c **** 	{
 120:Device/Src/drv_wave1006.c **** 		case DEV_SD3068:
 121:Device/Src/drv_wave1006.c **** 		case DEV_SD8800:
 122:Device/Src/drv_wave1006.c **** 		case DEV_SD8810:
 123:Device/Src/drv_wave1006.c **** 		case DEV_SD8804:	
 124:Device/Src/drv_wave1006.c **** 			*dev_addr = 0x64;
 125:Device/Src/drv_wave1006.c **** 			break;
 126:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 127:Device/Src/drv_wave1006.c **** 		case DEV_SD8939:
 128:Device/Src/drv_wave1006.c **** 		case DEV_SD8200://BQ32000
 129:Device/Src/drv_wave1006.c **** 			*dev_addr = 0xd0;
 130:Device/Src/drv_wave1006.c **** 			break;
 131:Device/Src/drv_wave1006.c **** 		default:
 132:Device/Src/drv_wave1006.c **** 			return WAVE1006_EXIT_ARG_ERR;
 133:Device/Src/drv_wave1006.c **** 			break;
 134:Device/Src/drv_wave1006.c **** 	}
 135:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 136:Device/Src/drv_wave1006.c **** }
 137:Device/Src/drv_wave1006.c **** 
 138:Device/Src/drv_wave1006.c **** /*
 139:Device/Src/drv_wave1006.c **** *Function: otp_prg_power_ctrl
 140:Device/Src/drv_wave1006.c **** *Description: 
 141:Device/Src/drv_wave1006.c **** *Input: enbale:otp power enable;vol_sel:otp voltage input,0:5V,1:8.5V
 142:Device/Src/drv_wave1006.c **** *Output: 
 143:Device/Src/drv_wave1006.c **** *Return: 
 144:Device/Src/drv_wave1006.c **** *Others:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 4


 145:Device/Src/drv_wave1006.c **** */       //OTP编程电源控制
 146:Device/Src/drv_wave1006.c **** static void otp_prg_power_ctrl(unsigned char enbale)
 147:Device/Src/drv_wave1006.c **** {
  29              		.loc 1 147 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 147 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 148:Device/Src/drv_wave1006.c **** 	if (enbale == 1) {
  39              		.loc 1 148 2 is_stmt 1 view .LVU2
  40              		.loc 1 148 5 is_stmt 0 view .LVU3
  41 0002 0128     		cmp	r0, #1
  42 0004 04D0     		beq	.L5
 149:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
 150:Device/Src/drv_wave1006.c **** 	} else {
 151:Device/Src/drv_wave1006.c **** 		rtc_otp_power(5);  //读otp电压
  43              		.loc 1 151 3 is_stmt 1 view .LVU4
  44 0006 B1EE040A 		vmov.f32	s0, #5.0e+0
  45 000a FFF7FEFF 		bl	rtc_otp_power
  46              	.LVL1:
  47              	.L1:
 152:Device/Src/drv_wave1006.c **** 	}
 153:Device/Src/drv_wave1006.c **** }
  48              		.loc 1 153 1 is_stmt 0 view .LVU5
  49 000e 08BD     		pop	{r3, pc}
  50              	.LVL2:
  51              	.L5:
 149:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  52              		.loc 1 149 3 is_stmt 1 view .LVU6
  53 0010 B2EE010A 		vmov.f32	s0, #8.5e+0
  54 0014 FFF7FEFF 		bl	rtc_otp_power
  55              	.LVL3:
 149:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  56              		.loc 1 149 3 is_stmt 0 view .LVU7
  57 0018 F9E7     		b	.L1
  58              		.cfi_endproc
  59              	.LFE236:
  61              		.section	.text.get_device_addr,"ax",%progbits
  62              		.align	1
  63              		.global	get_device_addr
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	get_device_addr:
  69              	.LVL4:
  70              	.LFB235:
 117:Device/Src/drv_wave1006.c **** 	switch (dev)
  71              		.loc 1 117 1 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 5


 118:Device/Src/drv_wave1006.c **** 	{
  76              		.loc 1 118 2 view .LVU9
  77 0000 0828     		cmp	r0, #8
  78 0002 0ED8     		bhi	.L11
  79 0004 DFE800F0 		tbb	[pc, r0]
  80              	.L9:
  81 0008 05       		.byte	(.L10-.L9)/2
  82 0009 0D       		.byte	(.L11-.L9)/2
  83 000a 05       		.byte	(.L10-.L9)/2
  84 000b 05       		.byte	(.L10-.L9)/2
  85 000c 05       		.byte	(.L10-.L9)/2
  86 000d 09       		.byte	(.L8-.L9)/2
  87 000e 09       		.byte	(.L8-.L9)/2
  88 000f 0D       		.byte	(.L11-.L9)/2
  89 0010 09       		.byte	(.L8-.L9)/2
  90 0011 00       		.p2align 1
  91              	.L10:
 124:Device/Src/drv_wave1006.c **** 			break;
  92              		.loc 1 124 4 view .LVU10
 124:Device/Src/drv_wave1006.c **** 			break;
  93              		.loc 1 124 14 is_stmt 0 view .LVU11
  94 0012 6423     		movs	r3, #100
  95 0014 0B70     		strb	r3, [r1]
 125:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
  96              		.loc 1 125 4 is_stmt 1 view .LVU12
 135:Device/Src/drv_wave1006.c **** }
  97              		.loc 1 135 9 is_stmt 0 view .LVU13
  98 0016 0020     		movs	r0, #0
  99              	.LVL5:
 125:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 100              		.loc 1 125 4 view .LVU14
 101 0018 7047     		bx	lr
 102              	.LVL6:
 103              	.L8:
 129:Device/Src/drv_wave1006.c **** 			break;
 104              		.loc 1 129 4 is_stmt 1 view .LVU15
 129:Device/Src/drv_wave1006.c **** 			break;
 105              		.loc 1 129 14 is_stmt 0 view .LVU16
 106 001a D023     		movs	r3, #208
 107 001c 0B70     		strb	r3, [r1]
 130:Device/Src/drv_wave1006.c **** 		default:
 108              		.loc 1 130 4 is_stmt 1 view .LVU17
 135:Device/Src/drv_wave1006.c **** }
 109              		.loc 1 135 9 is_stmt 0 view .LVU18
 110 001e 0020     		movs	r0, #0
 111              	.LVL7:
 130:Device/Src/drv_wave1006.c **** 		default:
 112              		.loc 1 130 4 view .LVU19
 113 0020 7047     		bx	lr
 114              	.LVL8:
 115              	.L11:
 118:Device/Src/drv_wave1006.c **** 	{
 116              		.loc 1 118 2 view .LVU20
 117 0022 6FF00100 		mvn	r0, #1
 118              	.LVL9:
 136:Device/Src/drv_wave1006.c **** 
 119              		.loc 1 136 1 view .LVU21
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 6


 120 0026 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE235:
 124              		.section	.text.drv_wave1006_read_reg,"ax",%progbits
 125              		.align	1
 126              		.global	drv_wave1006_read_reg
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	drv_wave1006_read_reg:
 132              	.LVL10:
 133              	.LFB238:
 154:Device/Src/drv_wave1006.c **** /*Function: wave1006_write_enable_seq
 155:Device/Src/drv_wave1006.c **** *Description: 
 156:Device/Src/drv_wave1006.c **** *Input:
 157:Device/Src/drv_wave1006.c **** *Output: 
 158:Device/Src/drv_wave1006.c **** *Return: 
 159:Device/Src/drv_wave1006.c **** *Others:
 160:Device/Src/drv_wave1006.c **** */
 161:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_enable_seq(wave1006_dev_e dev)
 162:Device/Src/drv_wave1006.c **** {
 163:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 164:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 165:Device/Src/drv_wave1006.c **** 	
 166:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(dev, WAVE1006_REG_CTR1, 2,  buf);
 167:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 168:Device/Src/drv_wave1006.c **** 		return ret;
 169:Device/Src/drv_wave1006.c **** 
 170:Device/Src/drv_wave1006.c **** 	buf[1] |=  BIT(7);
 171:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 172:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 173:Device/Src/drv_wave1006.c **** 		return ret;
 174:Device/Src/drv_wave1006.c **** 
 175:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(2);
 176:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 177:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 178:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 179:Device/Src/drv_wave1006.c **** 		return ret;
 180:Device/Src/drv_wave1006.c **** 	
 181:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 182:Device/Src/drv_wave1006.c **** }
 183:Device/Src/drv_wave1006.c **** 
 184:Device/Src/drv_wave1006.c **** /**
 185:Device/Src/drv_wave1006.c ****  * @brief wave1006 read reg
 186:Device/Src/drv_wave1006.c ****  * 
 187:Device/Src/drv_wave1006.c ****  */
 188:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_read_reg(wave1006_dev_e dev, unsigned char reg, unsigned char len
 189:Device/Src/drv_wave1006.c **** {
 134              		.loc 1 189 1 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 8
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		.loc 1 189 1 is_stmt 0 view .LVU23
 139 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 140              	.LCFI1:
 141              		.cfi_def_cfa_offset 20
 142              		.cfi_offset 4, -20
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 7


 143              		.cfi_offset 5, -16
 144              		.cfi_offset 6, -12
 145              		.cfi_offset 7, -8
 146              		.cfi_offset 14, -4
 147 0002 83B0     		sub	sp, sp, #12
 148              	.LCFI2:
 149              		.cfi_def_cfa_offset 32
 150 0004 0C46     		mov	r4, r1
 151 0006 1646     		mov	r6, r2
 152 0008 1D46     		mov	r5, r3
 190:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 153              		.loc 1 190 2 is_stmt 1 view .LVU24
 191:Device/Src/drv_wave1006.c **** 
 192:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) {
 154              		.loc 1 192 2 view .LVU25
 155              		.loc 1 192 6 is_stmt 0 view .LVU26
 156 000a 0DF10701 		add	r1, sp, #7
 157              	.LVL11:
 158              		.loc 1 192 6 view .LVU27
 159 000e FFF7FEFF 		bl	get_device_addr
 160              	.LVL12:
 161              		.loc 1 192 5 view .LVU28
 162 0012 58B9     		cbnz	r0, .L14
 163 0014 0746     		mov	r7, r0
 193:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 194:Device/Src/drv_wave1006.c **** 	} 
 195:Device/Src/drv_wave1006.c **** 	if (rtc_read_multi_bytes(dev_addr, reg, buf, length) != I2C_OK) {
 164              		.loc 1 195 2 is_stmt 1 view .LVU29
 165              		.loc 1 195 6 is_stmt 0 view .LVU30
 166 0016 3346     		mov	r3, r6
 167 0018 2A46     		mov	r2, r5
 168 001a 2146     		mov	r1, r4
 169 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 170 0020 FFF7FEFF 		bl	rtc_read_multi_bytes
 171              	.LVL13:
 172              		.loc 1 195 5 view .LVU31
 173 0024 28B9     		cbnz	r0, .L17
 174              	.L13:
 196:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 197:Device/Src/drv_wave1006.c **** 	}
 198:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 199:Device/Src/drv_wave1006.c **** } 
 175              		.loc 1 199 1 view .LVU32
 176 0026 3846     		mov	r0, r7
 177 0028 03B0     		add	sp, sp, #12
 178              	.LCFI3:
 179              		.cfi_remember_state
 180              		.cfi_def_cfa_offset 20
 181              		@ sp needed
 182 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 183              	.LVL14:
 184              	.L14:
 185              	.LCFI4:
 186              		.cfi_restore_state
 193:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 187              		.loc 1 193 10 view .LVU33
 188 002c 6FF00107 		mvn	r7, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 8


 189 0030 F9E7     		b	.L13
 190              	.L17:
 196:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 191              		.loc 1 196 10 view .LVU34
 192 0032 4FF0FF37 		mov	r7, #-1
 193 0036 F6E7     		b	.L13
 194              		.cfi_endproc
 195              	.LFE238:
 197              		.section	.text.drv_wave1006_write_reg,"ax",%progbits
 198              		.align	1
 199              		.global	drv_wave1006_write_reg
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 204              	drv_wave1006_write_reg:
 205              	.LVL15:
 206              	.LFB239:
 200:Device/Src/drv_wave1006.c **** 
 201:Device/Src/drv_wave1006.c **** /**
 202:Device/Src/drv_wave1006.c ****  * @brief wave1006 write register
 203:Device/Src/drv_wave1006.c ****  * 
 204:Device/Src/drv_wave1006.c ****  */
 205:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_write_reg(wave1006_dev_e dev, unsigned char reg, unsigned char le
 206:Device/Src/drv_wave1006.c **** {
 207              		.loc 1 206 1 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 8
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		.loc 1 206 1 is_stmt 0 view .LVU36
 212 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 213              	.LCFI5:
 214              		.cfi_def_cfa_offset 20
 215              		.cfi_offset 4, -20
 216              		.cfi_offset 5, -16
 217              		.cfi_offset 6, -12
 218              		.cfi_offset 7, -8
 219              		.cfi_offset 14, -4
 220 0002 83B0     		sub	sp, sp, #12
 221              	.LCFI6:
 222              		.cfi_def_cfa_offset 32
 223 0004 0C46     		mov	r4, r1
 224 0006 1646     		mov	r6, r2
 225 0008 1D46     		mov	r5, r3
 207:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 226              		.loc 1 207 2 is_stmt 1 view .LVU37
 208:Device/Src/drv_wave1006.c **** 
 209:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) 
 227              		.loc 1 209 2 view .LVU38
 228              		.loc 1 209 6 is_stmt 0 view .LVU39
 229 000a 0DF10701 		add	r1, sp, #7
 230              	.LVL16:
 231              		.loc 1 209 6 view .LVU40
 232 000e FFF7FEFF 		bl	get_device_addr
 233              	.LVL17:
 234              		.loc 1 209 5 view .LVU41
 235 0012 58B9     		cbnz	r0, .L20
 236 0014 0746     		mov	r7, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 9


 210:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 211:Device/Src/drv_wave1006.c **** 	if (rtc_write_multi_bytes(dev_addr, reg, buf, length) != I2C_OK)
 237              		.loc 1 211 2 is_stmt 1 view .LVU42
 238              		.loc 1 211 6 is_stmt 0 view .LVU43
 239 0016 3346     		mov	r3, r6
 240 0018 2A46     		mov	r2, r5
 241 001a 2146     		mov	r1, r4
 242 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 243 0020 FFF7FEFF 		bl	rtc_write_multi_bytes
 244              	.LVL18:
 245              		.loc 1 211 5 view .LVU44
 246 0024 28B9     		cbnz	r0, .L23
 247              	.L19:
 212:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 213:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 214:Device/Src/drv_wave1006.c **** }
 248              		.loc 1 214 1 view .LVU45
 249 0026 3846     		mov	r0, r7
 250 0028 03B0     		add	sp, sp, #12
 251              	.LCFI7:
 252              		.cfi_remember_state
 253              		.cfi_def_cfa_offset 20
 254              		@ sp needed
 255 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 256              	.LVL19:
 257              	.L20:
 258              	.LCFI8:
 259              		.cfi_restore_state
 210:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 260              		.loc 1 210 10 view .LVU46
 261 002c 6FF00107 		mvn	r7, #1
 262 0030 F9E7     		b	.L19
 263              	.L23:
 212:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 264              		.loc 1 212 10 view .LVU47
 265 0032 4FF0FF37 		mov	r7, #-1
 266 0036 F6E7     		b	.L19
 267              		.cfi_endproc
 268              	.LFE239:
 270              		.section	.text.wave1006_write_enable_seq,"ax",%progbits
 271              		.align	1
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 276              	wave1006_write_enable_seq:
 277              	.LVL20:
 278              	.LFB237:
 162:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 279              		.loc 1 162 1 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 8
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 162:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 283              		.loc 1 162 1 is_stmt 0 view .LVU49
 284 0000 10B5     		push	{r4, lr}
 285              	.LCFI9:
 286              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 10


 287              		.cfi_offset 4, -8
 288              		.cfi_offset 14, -4
 289 0002 82B0     		sub	sp, sp, #8
 290              	.LCFI10:
 291              		.cfi_def_cfa_offset 16
 292 0004 0446     		mov	r4, r0
 163:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 293              		.loc 1 163 2 is_stmt 1 view .LVU50
 164:Device/Src/drv_wave1006.c **** 	
 294              		.loc 1 164 2 view .LVU51
 166:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 295              		.loc 1 166 2 view .LVU52
 166:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 296              		.loc 1 166 8 is_stmt 0 view .LVU53
 297 0006 01AB     		add	r3, sp, #4
 298 0008 0222     		movs	r2, #2
 299 000a 0F21     		movs	r1, #15
 300 000c FFF7FEFF 		bl	drv_wave1006_read_reg
 301              	.LVL21:
 167:Device/Src/drv_wave1006.c **** 		return ret;
 302              		.loc 1 167 2 is_stmt 1 view .LVU54
 167:Device/Src/drv_wave1006.c **** 		return ret;
 303              		.loc 1 167 5 is_stmt 0 view .LVU55
 304 0010 0346     		mov	r3, r0
 305 0012 10B1     		cbz	r0, .L27
 306              	.LVL22:
 307              	.L25:
 182:Device/Src/drv_wave1006.c **** 
 308              		.loc 1 182 1 view .LVU56
 309 0014 1846     		mov	r0, r3
 310 0016 02B0     		add	sp, sp, #8
 311              	.LCFI11:
 312              		.cfi_remember_state
 313              		.cfi_def_cfa_offset 8
 314              		@ sp needed
 315 0018 10BD     		pop	{r4, pc}
 316              	.LVL23:
 317              	.L27:
 318              	.LCFI12:
 319              		.cfi_restore_state
 170:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 320              		.loc 1 170 2 is_stmt 1 view .LVU57
 170:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 321              		.loc 1 170 9 is_stmt 0 view .LVU58
 322 001a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 323 001e 63F07F03 		orn	r3, r3, #127
 324 0022 8DF80530 		strb	r3, [sp, #5]
 171:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 325              		.loc 1 171 2 is_stmt 1 view .LVU59
 171:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 326              		.loc 1 171 8 is_stmt 0 view .LVU60
 327 0026 0DF10503 		add	r3, sp, #5
 328 002a 0122     		movs	r2, #1
 329 002c 1021     		movs	r1, #16
 330 002e 2046     		mov	r0, r4
 331              	.LVL24:
 171:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 11


 332              		.loc 1 171 8 view .LVU61
 333 0030 FFF7FEFF 		bl	drv_wave1006_write_reg
 334              	.LVL25:
 172:Device/Src/drv_wave1006.c **** 		return ret;
 335              		.loc 1 172 2 is_stmt 1 view .LVU62
 172:Device/Src/drv_wave1006.c **** 		return ret;
 336              		.loc 1 172 5 is_stmt 0 view .LVU63
 337 0034 0346     		mov	r3, r0
 338 0036 0028     		cmp	r0, #0
 339 0038 ECD1     		bne	.L25
 175:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 340              		.loc 1 175 2 is_stmt 1 view .LVU64
 175:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 341              		.loc 1 175 9 is_stmt 0 view .LVU65
 342 003a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 343 003e 43F00403 		orr	r3, r3, #4
 344 0042 8DF80430 		strb	r3, [sp, #4]
 176:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 345              		.loc 1 176 2 is_stmt 1 view .LVU66
 176:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 346              		.loc 1 176 9 is_stmt 0 view .LVU67
 347 0046 63F07F03 		orn	r3, r3, #127
 348 004a 8DF80430 		strb	r3, [sp, #4]
 177:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 349              		.loc 1 177 2 is_stmt 1 view .LVU68
 177:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 350              		.loc 1 177 8 is_stmt 0 view .LVU69
 351 004e 01AB     		add	r3, sp, #4
 352 0050 0122     		movs	r2, #1
 353 0052 0F21     		movs	r1, #15
 354 0054 2046     		mov	r0, r4
 355              	.LVL26:
 177:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 356              		.loc 1 177 8 view .LVU70
 357 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 358              	.LVL27:
 359 005a 0346     		mov	r3, r0
 360              	.LVL28:
 178:Device/Src/drv_wave1006.c **** 		return ret;
 361              		.loc 1 178 2 is_stmt 1 view .LVU71
 362 005c DAE7     		b	.L25
 363              		.cfi_endproc
 364              	.LFE237:
 366              		.section	.text.wave1006_write_otp_single,"ax",%progbits
 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 372              	wave1006_write_otp_single:
 373              	.LVL29:
 374              	.LFB245:
 215:Device/Src/drv_wave1006.c **** 
 216:Device/Src/drv_wave1006.c **** 
 217:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_enter_test_mode(wave1006_test_mode_e mode)     //烧写1006时使用
 218:Device/Src/drv_wave1006.c **** {
 219:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 220:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 12


 221:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 222:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 223:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 224:Device/Src/drv_wave1006.c **** 	{
 225:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 226:Device/Src/drv_wave1006.c **** 	}
 227:Device/Src/drv_wave1006.c **** 
 228:Device/Src/drv_wave1006.c **** 	/*2.set test mode*/
 229:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 230:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 231:Device/Src/drv_wave1006.c **** 	{
 232:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 233:Device/Src/drv_wave1006.c **** 	}
 234:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 235:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 236:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 237:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 238:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 239:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 240:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 241:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 242:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 243:Device/Src/drv_wave1006.c **** 	{
 244:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 245:Device/Src/drv_wave1006.c **** 	}
 246:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 247:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 248:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 249:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 250:Device/Src/drv_wave1006.c **** 
 251:Device/Src/drv_wave1006.c **** 	// if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, buf) != WAVE1006_EXIT_OK)
 252:Device/Src/drv_wave1006.c **** 	// {
 253:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_ARG_ERR;
 254:Device/Src/drv_wave1006.c **** 	// }
 255:Device/Src/drv_wave1006.c **** 
 256:Device/Src/drv_wave1006.c **** 	// if((buf[0] & BIT(3)) != 0)
 257:Device/Src/drv_wave1006.c **** 	// {
 258:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode success!\r\n");
 259:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_OK;
 260:Device/Src/drv_wave1006.c **** 	// }
 261:Device/Src/drv_wave1006.c **** 	// else
 262:Device/Src/drv_wave1006.c **** 	// {
 263:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode faild!\r\n");
 264:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_FAIL;
 265:Device/Src/drv_wave1006.c **** 	// }
 266:Device/Src/drv_wave1006.c **** }
 267:Device/Src/drv_wave1006.c **** 
 268:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_enter_test_mode(wave1006_test_mode_e mode)
 269:Device/Src/drv_wave1006.c **** {
 270:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 271:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 272:Device/Src/drv_wave1006.c **** 
 273:Device/Src/drv_wave1006.c **** 	wave1006_write_enable_seq(DEV_SD3068);
 274:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 275:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 276:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 277:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 13


 278:Device/Src/drv_wave1006.c **** 		return ret;
 279:Device/Src/drv_wave1006.c **** 	
 280:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 281:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 282:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 283:Device/Src/drv_wave1006.c **** 		return ret;
 284:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 285:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 286:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 287:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 288:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 289:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 290:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 291:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 292:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 293:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 294:Device/Src/drv_wave1006.c **** 		return ret;
 295:Device/Src/drv_wave1006.c **** 	/*wait 40ms*/
 296:Device/Src/drv_wave1006.c **** //	HAL_Delay((40);
 297:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 298:Device/Src/drv_wave1006.c **** 	HAL_Delay(1000);
 299:Device/Src/drv_wave1006.c **** 	
 300:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, buf);
 301:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 302:Device/Src/drv_wave1006.c **** 		return ret;
 303:Device/Src/drv_wave1006.c **** 	if((buf[0] & BIT(3)) != 0)
 304:Device/Src/drv_wave1006.c **** 	{
 305:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode success!\r\n");
 306:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 307:Device/Src/drv_wave1006.c **** 	}
 308:Device/Src/drv_wave1006.c **** 	else
 309:Device/Src/drv_wave1006.c **** 	{
 310:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode faild!\r\n");
 311:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 312:Device/Src/drv_wave1006.c **** 	}
 313:Device/Src/drv_wave1006.c **** //	g_wave1006_state.test_mode = mode;
 314:Device/Src/drv_wave1006.c **** }
 315:Device/Src/drv_wave1006.c **** 
 316:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_get_test_flag(void)
 317:Device/Src/drv_wave1006.c **** {
 318:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 319:Device/Src/drv_wave1006.c **** 	
 320:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 321:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 322:Device/Src/drv_wave1006.c **** 	}
 323:Device/Src/drv_wave1006.c **** 	
 324:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 325:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 326:Device/Src/drv_wave1006.c **** 	} else {
 327:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 328:Device/Src/drv_wave1006.c **** 	}
 329:Device/Src/drv_wave1006.c **** }
 330:Device/Src/drv_wave1006.c **** 
 331:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_get_test_flag(void)
 332:Device/Src/drv_wave1006.c **** {
 333:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 334:Device/Src/drv_wave1006.c **** 	
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 14


 335:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 336:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 337:Device/Src/drv_wave1006.c **** 	}
 338:Device/Src/drv_wave1006.c **** 	
 339:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 340:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 341:Device/Src/drv_wave1006.c **** 	} else {
 342:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 343:Device/Src/drv_wave1006.c **** 	}
 344:Device/Src/drv_wave1006.c **** }
 345:Device/Src/drv_wave1006.c **** 
 346:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_osc_config_set(wave1006_osc_config_t *config)
 347:Device/Src/drv_wave1006.c **** {
 348:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 349:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 350:Device/Src/drv_wave1006.c **** 
 351:Device/Src/drv_wave1006.c **** 	/*RAM24:osc_config[7:0]; RAM25[4:0]:osc_config[12:8]*/
 352:Device/Src/drv_wave1006.c **** 	buf[0] = ((config->osc_vref_adj & 0x01)<< 7) | (config->vol_cure_adj << 5) | (config->osc_res_adju
 353:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 354:Device/Src/drv_wave1006.c **** 	
 355:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 23, 2, &buf[0]);
 356:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 357:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 358:Device/Src/drv_wave1006.c **** //	if ((g_wave1006_state.test_mode & WAVE1006_TEST_OSC) != WAVE1006_TEST_OSC)
 359:Device/Src/drv_wave1006.c **** //	{
 360:Device/Src/drv_wave1006.c **** //		ret = wave1006_enter_test_mode(g_wave1006_state.test_mode | WAVE1006_TEST_OSC);
 361:Device/Src/drv_wave1006.c **** //		if (ret != WAVE1006_EXIT_OK)
 362:Device/Src/drv_wave1006.c **** //			return ret;
 363:Device/Src/drv_wave1006.c **** //		g_wave1006_state.test_mode |= WAVE1006_TEST_OSC;
 364:Device/Src/drv_wave1006.c **** //	}
 365:Device/Src/drv_wave1006.c **** 	if (wave1006_enter_test_mode(WAVE1006_TEST_OSC) != WAVE1006_EXIT_OK) {
 366:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 367:Device/Src/drv_wave1006.c **** 	}
 368:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 369:Device/Src/drv_wave1006.c **** }
 370:Device/Src/drv_wave1006.c **** 
 371:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_otp_single(unsigned short addr, unsigned short Data)
 372:Device/Src/drv_wave1006.c **** {
 375              		.loc 1 372 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 8
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379              		.loc 1 372 1 is_stmt 0 view .LVU73
 380 0000 00B5     		push	{lr}
 381              	.LCFI13:
 382              		.cfi_def_cfa_offset 4
 383              		.cfi_offset 14, -4
 384 0002 83B0     		sub	sp, sp, #12
 385              	.LCFI14:
 386              		.cfi_def_cfa_offset 16
 373:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 387              		.loc 1 373 2 is_stmt 1 view .LVU74
 374:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 388              		.loc 1 374 2 view .LVU75
 375:Device/Src/drv_wave1006.c **** 
 376:Device/Src/drv_wave1006.c **** 	//set addr
 377:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 15


 389              		.loc 1 377 2 view .LVU76
 390              		.loc 1 377 9 is_stmt 0 view .LVU77
 391 0004 8DF80400 		strb	r0, [sp, #4]
 378:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 392              		.loc 1 378 2 is_stmt 1 view .LVU78
 393              		.loc 1 378 23 is_stmt 0 view .LVU79
 394 0008 C0F30120 		ubfx	r0, r0, #8, #2
 395              	.LVL30:
 396              		.loc 1 378 9 view .LVU80
 397 000c 8DF80500 		strb	r0, [sp, #5]
 379:Device/Src/drv_wave1006.c **** 	//set Data
 380:Device/Src/drv_wave1006.c **** 	buf[2] = Data & 0xff;
 398              		.loc 1 380 2 is_stmt 1 view .LVU81
 399              		.loc 1 380 9 is_stmt 0 view .LVU82
 400 0010 8DF80610 		strb	r1, [sp, #6]
 381:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 401              		.loc 1 381 2 is_stmt 1 view .LVU83
 402              		.loc 1 381 23 is_stmt 0 view .LVU84
 403 0014 C1F30521 		ubfx	r1, r1, #8, #6
 404              	.LVL31:
 405              		.loc 1 381 9 view .LVU85
 406 0018 8DF80710 		strb	r1, [sp, #7]
 382:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 407              		.loc 1 382 3 is_stmt 1 view .LVU86
 408              		.loc 1 382 9 is_stmt 0 view .LVU87
 409 001c 01AB     		add	r3, sp, #4
 410 001e 0422     		movs	r2, #4
 411 0020 2E21     		movs	r1, #46
 412 0022 0020     		movs	r0, #0
 413 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 414              	.LVL32:
 383:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 415              		.loc 1 383 3 is_stmt 1 view .LVU88
 416              		.loc 1 383 6 is_stmt 0 view .LVU89
 417 0028 0346     		mov	r3, r0
 418 002a 18B1     		cbz	r0, .L31
 419              	.LVL33:
 420              	.L29:
 384:Device/Src/drv_wave1006.c **** 			return ret;
 385:Device/Src/drv_wave1006.c **** 	//pwe=1
 386:Device/Src/drv_wave1006.c **** 	buf[0] = 0xb2;
 387:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 388:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 389:Device/Src/drv_wave1006.c **** 			return ret;
 390:Device/Src/drv_wave1006.c **** 		//delay 100us
 391:Device/Src/drv_wave1006.c **** 	//pwe=0
 392:Device/Src/drv_wave1006.c **** 	buf[0] = 0xa2;
 393:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 394:Device/Src/drv_wave1006.c **** 	return ret;
 395:Device/Src/drv_wave1006.c **** }
 421              		.loc 1 395 1 view .LVU90
 422 002c 1846     		mov	r0, r3
 423 002e 03B0     		add	sp, sp, #12
 424              	.LCFI15:
 425              		.cfi_remember_state
 426              		.cfi_def_cfa_offset 4
 427              		@ sp needed
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 16


 428 0030 5DF804FB 		ldr	pc, [sp], #4
 429              	.LVL34:
 430              	.L31:
 431              	.LCFI16:
 432              		.cfi_restore_state
 386:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 433              		.loc 1 386 2 is_stmt 1 view .LVU91
 386:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 434              		.loc 1 386 9 is_stmt 0 view .LVU92
 435 0034 B223     		movs	r3, #178
 436 0036 8DF80430 		strb	r3, [sp, #4]
 387:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 437              		.loc 1 387 3 is_stmt 1 view .LVU93
 387:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 438              		.loc 1 387 9 is_stmt 0 view .LVU94
 439 003a 01AB     		add	r3, sp, #4
 440 003c 0122     		movs	r2, #1
 441 003e 2D21     		movs	r1, #45
 442 0040 FFF7FEFF 		bl	drv_wave1006_write_reg
 443              	.LVL35:
 388:Device/Src/drv_wave1006.c **** 			return ret;
 444              		.loc 1 388 3 is_stmt 1 view .LVU95
 388:Device/Src/drv_wave1006.c **** 			return ret;
 445              		.loc 1 388 6 is_stmt 0 view .LVU96
 446 0044 0346     		mov	r3, r0
 447 0046 0028     		cmp	r0, #0
 448 0048 F0D1     		bne	.L29
 392:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 449              		.loc 1 392 2 is_stmt 1 view .LVU97
 392:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 450              		.loc 1 392 9 is_stmt 0 view .LVU98
 451 004a A223     		movs	r3, #162
 452 004c 8DF80430 		strb	r3, [sp, #4]
 393:Device/Src/drv_wave1006.c **** 	return ret;
 453              		.loc 1 393 2 is_stmt 1 view .LVU99
 393:Device/Src/drv_wave1006.c **** 	return ret;
 454              		.loc 1 393 8 is_stmt 0 view .LVU100
 455 0050 01AB     		add	r3, sp, #4
 456 0052 0122     		movs	r2, #1
 457 0054 2D21     		movs	r1, #45
 458 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 459              	.LVL36:
 393:Device/Src/drv_wave1006.c **** 	return ret;
 460              		.loc 1 393 8 view .LVU101
 461 005a 0346     		mov	r3, r0
 462              	.LVL37:
 394:Device/Src/drv_wave1006.c **** }
 463              		.loc 1 394 2 is_stmt 1 view .LVU102
 394:Device/Src/drv_wave1006.c **** }
 464              		.loc 1 394 9 is_stmt 0 view .LVU103
 465 005c E6E7     		b	.L29
 466              		.cfi_endproc
 467              	.LFE245:
 469              		.section	.text.wave1006_read_otp_single,"ax",%progbits
 470              		.align	1
 471              		.syntax unified
 472              		.thumb
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 17


 473              		.thumb_func
 475              	wave1006_read_otp_single:
 476              	.LVL38:
 477              	.LFB246:
 396:Device/Src/drv_wave1006.c **** 
 397:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_read_otp_single(unsigned short addr, unsigned short *Data)
 398:Device/Src/drv_wave1006.c **** {
 478              		.loc 1 398 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 8
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		.loc 1 398 1 is_stmt 0 view .LVU105
 483 0000 10B5     		push	{r4, lr}
 484              	.LCFI17:
 485              		.cfi_def_cfa_offset 8
 486              		.cfi_offset 4, -8
 487              		.cfi_offset 14, -4
 488 0002 82B0     		sub	sp, sp, #8
 489              	.LCFI18:
 490              		.cfi_def_cfa_offset 16
 491 0004 0C46     		mov	r4, r1
 399:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 492              		.loc 1 399 2 is_stmt 1 view .LVU106
 400:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 493              		.loc 1 400 2 view .LVU107
 401:Device/Src/drv_wave1006.c **** 
 402:Device/Src/drv_wave1006.c **** 	/*set addr*/
 403:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 494              		.loc 1 403 2 view .LVU108
 495              		.loc 1 403 9 is_stmt 0 view .LVU109
 496 0006 8DF80400 		strb	r0, [sp, #4]
 404:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 497              		.loc 1 404 2 is_stmt 1 view .LVU110
 498              		.loc 1 404 23 is_stmt 0 view .LVU111
 499 000a C0F30120 		ubfx	r0, r0, #8, #2
 500              	.LVL39:
 501              		.loc 1 404 9 view .LVU112
 502 000e 8DF80500 		strb	r0, [sp, #5]
 405:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 2, &buf[0]);
 503              		.loc 1 405 2 is_stmt 1 view .LVU113
 504              		.loc 1 405 8 is_stmt 0 view .LVU114
 505 0012 01AB     		add	r3, sp, #4
 506 0014 0222     		movs	r2, #2
 507 0016 2E21     		movs	r1, #46
 508              	.LVL40:
 509              		.loc 1 405 8 view .LVU115
 510 0018 0020     		movs	r0, #0
 511 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 512              	.LVL41:
 406:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 513              		.loc 1 406 2 is_stmt 1 view .LVU116
 514              		.loc 1 406 5 is_stmt 0 view .LVU117
 515 001e 0346     		mov	r3, r0
 516 0020 10B1     		cbz	r0, .L35
 517              	.LVL42:
 518              	.L33:
 407:Device/Src/drv_wave1006.c **** 		return ret;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 18


 408:Device/Src/drv_wave1006.c **** 	/*prd=1*/
 409:Device/Src/drv_wave1006.c **** 	buf[0] = 0xc0;
 410:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 411:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 412:Device/Src/drv_wave1006.c **** 		return ret;
 413:Device/Src/drv_wave1006.c **** 	/*prd=0*/
 414:Device/Src/drv_wave1006.c **** 	buf[0] = 0x80;
 415:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 416:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 417:Device/Src/drv_wave1006.c **** 		return ret;
 418:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 4, 2, buf);
 419:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 420:Device/Src/drv_wave1006.c **** 	return ret;
 421:Device/Src/drv_wave1006.c **** }
 519              		.loc 1 421 1 view .LVU118
 520 0022 1846     		mov	r0, r3
 521 0024 02B0     		add	sp, sp, #8
 522              	.LCFI19:
 523              		.cfi_remember_state
 524              		.cfi_def_cfa_offset 8
 525              		@ sp needed
 526 0026 10BD     		pop	{r4, pc}
 527              	.LVL43:
 528              	.L35:
 529              	.LCFI20:
 530              		.cfi_restore_state
 409:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 531              		.loc 1 409 2 is_stmt 1 view .LVU119
 409:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 532              		.loc 1 409 9 is_stmt 0 view .LVU120
 533 0028 C023     		movs	r3, #192
 534 002a 8DF80430 		strb	r3, [sp, #4]
 410:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 535              		.loc 1 410 2 is_stmt 1 view .LVU121
 410:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 536              		.loc 1 410 8 is_stmt 0 view .LVU122
 537 002e 01AB     		add	r3, sp, #4
 538 0030 0122     		movs	r2, #1
 539 0032 2D21     		movs	r1, #45
 540 0034 FFF7FEFF 		bl	drv_wave1006_write_reg
 541              	.LVL44:
 411:Device/Src/drv_wave1006.c **** 		return ret;
 542              		.loc 1 411 2 is_stmt 1 view .LVU123
 411:Device/Src/drv_wave1006.c **** 		return ret;
 543              		.loc 1 411 5 is_stmt 0 view .LVU124
 544 0038 0346     		mov	r3, r0
 545 003a 0028     		cmp	r0, #0
 546 003c F1D1     		bne	.L33
 414:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 547              		.loc 1 414 2 is_stmt 1 view .LVU125
 414:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 548              		.loc 1 414 9 is_stmt 0 view .LVU126
 549 003e 8023     		movs	r3, #128
 550 0040 8DF80430 		strb	r3, [sp, #4]
 415:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 551              		.loc 1 415 2 is_stmt 1 view .LVU127
 415:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 19


 552              		.loc 1 415 8 is_stmt 0 view .LVU128
 553 0044 01AB     		add	r3, sp, #4
 554 0046 0122     		movs	r2, #1
 555 0048 2D21     		movs	r1, #45
 556 004a FFF7FEFF 		bl	drv_wave1006_write_reg
 557              	.LVL45:
 416:Device/Src/drv_wave1006.c **** 		return ret;
 558              		.loc 1 416 2 is_stmt 1 view .LVU129
 416:Device/Src/drv_wave1006.c **** 		return ret;
 559              		.loc 1 416 5 is_stmt 0 view .LVU130
 560 004e 0346     		mov	r3, r0
 561 0050 0028     		cmp	r0, #0
 562 0052 E6D1     		bne	.L33
 418:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 563              		.loc 1 418 2 is_stmt 1 view .LVU131
 418:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 564              		.loc 1 418 8 is_stmt 0 view .LVU132
 565 0054 01AB     		add	r3, sp, #4
 566 0056 0222     		movs	r2, #2
 567 0058 3021     		movs	r1, #48
 568 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 569              	.LVL46:
 418:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 570              		.loc 1 418 8 view .LVU133
 571 005e 0346     		mov	r3, r0
 572              	.LVL47:
 419:Device/Src/drv_wave1006.c **** 	return ret;
 573              		.loc 1 419 2 is_stmt 1 view .LVU134
 419:Device/Src/drv_wave1006.c **** 	return ret;
 574              		.loc 1 419 15 is_stmt 0 view .LVU135
 575 0060 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 419:Device/Src/drv_wave1006.c **** 	return ret;
 576              		.loc 1 419 27 view .LVU136
 577 0064 1202     		lsls	r2, r2, #8
 578 0066 02F47C52 		and	r2, r2, #16128
 419:Device/Src/drv_wave1006.c **** 	return ret;
 579              		.loc 1 419 38 view .LVU137
 580 006a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 419:Device/Src/drv_wave1006.c **** 	return ret;
 581              		.loc 1 419 33 view .LVU138
 582 006e 0A43     		orrs	r2, r2, r1
 419:Device/Src/drv_wave1006.c **** 	return ret;
 583              		.loc 1 419 8 view .LVU139
 584 0070 2280     		strh	r2, [r4]	@ movhi
 420:Device/Src/drv_wave1006.c **** }
 585              		.loc 1 420 2 is_stmt 1 view .LVU140
 420:Device/Src/drv_wave1006.c **** }
 586              		.loc 1 420 9 is_stmt 0 view .LVU141
 587 0072 D6E7     		b	.L33
 588              		.cfi_endproc
 589              	.LFE246:
 591              		.section	.rodata.wave1006_enter_test_mode.str1.4,"aMS",%progbits,1
 592              		.align	2
 593              	.LC0:
 594 0000 456E7465 		.ascii	"Enter test mode success!\015\012\000"
 594      72207465 
 594      7374206D 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 20


 594      6F646520 
 594      73756363 
 595              		.section	.text.wave1006_enter_test_mode,"ax",%progbits
 596              		.align	1
 597              		.global	wave1006_enter_test_mode
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 602              	wave1006_enter_test_mode:
 603              	.LVL48:
 604              	.LFB240:
 218:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 605              		.loc 1 218 1 is_stmt 1 view -0
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 8
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 218:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 609              		.loc 1 218 1 is_stmt 0 view .LVU143
 610 0000 10B5     		push	{r4, lr}
 611              	.LCFI21:
 612              		.cfi_def_cfa_offset 8
 613              		.cfi_offset 4, -8
 614              		.cfi_offset 14, -4
 615 0002 82B0     		sub	sp, sp, #8
 616              	.LCFI22:
 617              		.cfi_def_cfa_offset 16
 618 0004 0446     		mov	r4, r0
 219:Device/Src/drv_wave1006.c **** 
 619              		.loc 1 219 2 is_stmt 1 view .LVU144
 222:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 620              		.loc 1 222 2 view .LVU145
 222:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 621              		.loc 1 222 9 is_stmt 0 view .LVU146
 622 0006 0420     		movs	r0, #4
 623              	.LVL49:
 222:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 624              		.loc 1 222 9 view .LVU147
 625 0008 8DF80000 		strb	r0, [sp]
 223:Device/Src/drv_wave1006.c **** 	{
 626              		.loc 1 223 2 is_stmt 1 view .LVU148
 223:Device/Src/drv_wave1006.c **** 	{
 627              		.loc 1 223 5 is_stmt 0 view .LVU149
 628 000c 6B46     		mov	r3, sp
 629 000e 0122     		movs	r2, #1
 630 0010 FD21     		movs	r1, #253
 631 0012 FFF7FEFF 		bl	drv_wave1006_write_reg
 632              	.LVL50:
 223:Device/Src/drv_wave1006.c **** 	{
 633              		.loc 1 223 4 view .LVU150
 634 0016 58BB     		cbnz	r0, .L38
 229:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 635              		.loc 1 229 2 is_stmt 1 view .LVU151
 229:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 636              		.loc 1 229 9 is_stmt 0 view .LVU152
 637 0018 8DF80040 		strb	r4, [sp]
 230:Device/Src/drv_wave1006.c **** 	{
 638              		.loc 1 230 2 is_stmt 1 view .LVU153
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 21


 230:Device/Src/drv_wave1006.c **** 	{
 639              		.loc 1 230 5 is_stmt 0 view .LVU154
 640 001c 6B46     		mov	r3, sp
 641 001e 0122     		movs	r2, #1
 642 0020 2C21     		movs	r1, #44
 643 0022 0420     		movs	r0, #4
 644 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 645              	.LVL51:
 230:Device/Src/drv_wave1006.c **** 	{
 646              		.loc 1 230 4 view .LVU155
 647 0028 28BB     		cbnz	r0, .L39
 235:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 648              		.loc 1 235 2 is_stmt 1 view .LVU156
 235:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 649              		.loc 1 235 9 is_stmt 0 view .LVU157
 650 002a 6C23     		movs	r3, #108
 651 002c 8DF80030 		strb	r3, [sp]
 236:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 652              		.loc 1 236 2 is_stmt 1 view .LVU158
 236:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 653              		.loc 1 236 9 is_stmt 0 view .LVU159
 654 0030 8DF80130 		strb	r3, [sp, #1]
 237:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 655              		.loc 1 237 2 is_stmt 1 view .LVU160
 237:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 656              		.loc 1 237 9 is_stmt 0 view .LVU161
 657 0034 3C23     		movs	r3, #60
 658 0036 8DF80230 		strb	r3, [sp, #2]
 238:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 659              		.loc 1 238 2 is_stmt 1 view .LVU162
 238:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 660              		.loc 1 238 9 is_stmt 0 view .LVU163
 661 003a 0722     		movs	r2, #7
 662 003c 8DF80320 		strb	r2, [sp, #3]
 239:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 663              		.loc 1 239 2 is_stmt 1 view .LVU164
 239:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 664              		.loc 1 239 9 is_stmt 0 view .LVU165
 665 0040 8DF80430 		strb	r3, [sp, #4]
 240:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 666              		.loc 1 240 2 is_stmt 1 view .LVU166
 240:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 667              		.loc 1 240 9 is_stmt 0 view .LVU167
 668 0044 1C23     		movs	r3, #28
 669 0046 8DF80530 		strb	r3, [sp, #5]
 241:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 670              		.loc 1 241 2 is_stmt 1 view .LVU168
 241:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 671              		.loc 1 241 9 is_stmt 0 view .LVU169
 672 004a CC23     		movs	r3, #204
 673 004c 8DF80630 		strb	r3, [sp, #6]
 242:Device/Src/drv_wave1006.c **** 	{
 674              		.loc 1 242 2 is_stmt 1 view .LVU170
 242:Device/Src/drv_wave1006.c **** 	{
 675              		.loc 1 242 5 is_stmt 0 view .LVU171
 676 0050 6B46     		mov	r3, sp
 677 0052 0021     		movs	r1, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 22


 678 0054 0420     		movs	r0, #4
 679 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 680              	.LVL52:
 242:Device/Src/drv_wave1006.c **** 	{
 681              		.loc 1 242 4 view .LVU172
 682 005a 0446     		mov	r4, r0
 683 005c 70B9     		cbnz	r0, .L40
 247:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 684              		.loc 1 247 2 is_stmt 1 view .LVU173
 685 005e 6420     		movs	r0, #100
 686 0060 FFF7FEFF 		bl	HAL_Delay
 687              	.LVL53:
 248:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 688              		.loc 1 248 2 view .LVU174
 689 0064 0748     		ldr	r0, .L42
 690 0066 FFF7FEFF 		bl	UsbPrintf
 691              	.LVL54:
 249:Device/Src/drv_wave1006.c **** 
 692              		.loc 1 249 2 view .LVU175
 693              	.L37:
 266:Device/Src/drv_wave1006.c **** 
 694              		.loc 1 266 1 is_stmt 0 view .LVU176
 695 006a 2046     		mov	r0, r4
 696 006c 02B0     		add	sp, sp, #8
 697              	.LCFI23:
 698              		.cfi_remember_state
 699              		.cfi_def_cfa_offset 8
 700              		@ sp needed
 701 006e 10BD     		pop	{r4, pc}
 702              	.L38:
 703              	.LCFI24:
 704              		.cfi_restore_state
 225:Device/Src/drv_wave1006.c **** 	}
 705              		.loc 1 225 10 view .LVU177
 706 0070 6FF00104 		mvn	r4, #1
 707 0074 F9E7     		b	.L37
 708              	.L39:
 232:Device/Src/drv_wave1006.c **** 	}
 709              		.loc 1 232 10 view .LVU178
 710 0076 6FF00104 		mvn	r4, #1
 711 007a F6E7     		b	.L37
 712              	.L40:
 244:Device/Src/drv_wave1006.c **** 	}
 713              		.loc 1 244 10 view .LVU179
 714 007c 6FF00104 		mvn	r4, #1
 715 0080 F3E7     		b	.L37
 716              	.L43:
 717 0082 00BF     		.align	2
 718              	.L42:
 719 0084 00000000 		.word	.LC0
 720              		.cfi_endproc
 721              	.LFE240:
 723              		.section	.rodata.sd3031_enter_test_mode.str1.4,"aMS",%progbits,1
 724              		.align	2
 725              	.LC1:
 726 0000 456E7465 		.ascii	"Enter test mode faild!\015\012\000"
 726      72207465 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 23


 726      7374206D 
 726      6F646520 
 726      6661696C 
 727              		.section	.text.sd3031_enter_test_mode,"ax",%progbits
 728              		.align	1
 729              		.global	sd3031_enter_test_mode
 730              		.syntax unified
 731              		.thumb
 732              		.thumb_func
 734              	sd3031_enter_test_mode:
 735              	.LVL55:
 736              	.LFB241:
 269:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 737              		.loc 1 269 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 8
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 269:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 741              		.loc 1 269 1 is_stmt 0 view .LVU181
 742 0000 30B5     		push	{r4, r5, lr}
 743              	.LCFI25:
 744              		.cfi_def_cfa_offset 12
 745              		.cfi_offset 4, -12
 746              		.cfi_offset 5, -8
 747              		.cfi_offset 14, -4
 748 0002 83B0     		sub	sp, sp, #12
 749              	.LCFI26:
 750              		.cfi_def_cfa_offset 24
 751 0004 0446     		mov	r4, r0
 270:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 752              		.loc 1 270 2 is_stmt 1 view .LVU182
 271:Device/Src/drv_wave1006.c **** 
 753              		.loc 1 271 2 view .LVU183
 273:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 754              		.loc 1 273 2 view .LVU184
 755 0006 0020     		movs	r0, #0
 756              	.LVL56:
 273:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 757              		.loc 1 273 2 is_stmt 0 view .LVU185
 758 0008 FFF7FEFF 		bl	wave1006_write_enable_seq
 759              	.LVL57:
 275:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 760              		.loc 1 275 2 is_stmt 1 view .LVU186
 275:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 761              		.loc 1 275 9 is_stmt 0 view .LVU187
 762 000c 0423     		movs	r3, #4
 763 000e 8DF80030 		strb	r3, [sp]
 276:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 764              		.loc 1 276 2 is_stmt 1 view .LVU188
 276:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 765              		.loc 1 276 8 is_stmt 0 view .LVU189
 766 0012 6B46     		mov	r3, sp
 767 0014 0122     		movs	r2, #1
 768 0016 FD21     		movs	r1, #253
 769 0018 0020     		movs	r0, #0
 770 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 771              	.LVL58:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 24


 277:Device/Src/drv_wave1006.c **** 		return ret;
 772              		.loc 1 277 2 is_stmt 1 view .LVU190
 277:Device/Src/drv_wave1006.c **** 		return ret;
 773              		.loc 1 277 5 is_stmt 0 view .LVU191
 774 001e 0546     		mov	r5, r0
 775 0020 10B1     		cbz	r0, .L48
 776              	.LVL59:
 777              	.L45:
 314:Device/Src/drv_wave1006.c **** 
 778              		.loc 1 314 1 view .LVU192
 779 0022 2846     		mov	r0, r5
 780 0024 03B0     		add	sp, sp, #12
 781              	.LCFI27:
 782              		.cfi_remember_state
 783              		.cfi_def_cfa_offset 12
 784              		@ sp needed
 785 0026 30BD     		pop	{r4, r5, pc}
 786              	.LVL60:
 787              	.L48:
 788              	.LCFI28:
 789              		.cfi_restore_state
 280:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 790              		.loc 1 280 2 is_stmt 1 view .LVU193
 280:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 791              		.loc 1 280 9 is_stmt 0 view .LVU194
 792 0028 8DF80040 		strb	r4, [sp]
 281:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 793              		.loc 1 281 2 is_stmt 1 view .LVU195
 281:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 794              		.loc 1 281 8 is_stmt 0 view .LVU196
 795 002c 6B46     		mov	r3, sp
 796 002e 0122     		movs	r2, #1
 797 0030 2C21     		movs	r1, #44
 798 0032 FFF7FEFF 		bl	drv_wave1006_write_reg
 799              	.LVL61:
 282:Device/Src/drv_wave1006.c **** 		return ret;
 800              		.loc 1 282 2 is_stmt 1 view .LVU197
 282:Device/Src/drv_wave1006.c **** 		return ret;
 801              		.loc 1 282 5 is_stmt 0 view .LVU198
 802 0036 0546     		mov	r5, r0
 803 0038 0028     		cmp	r0, #0
 804 003a F2D1     		bne	.L45
 285:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 805              		.loc 1 285 2 is_stmt 1 view .LVU199
 285:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 806              		.loc 1 285 9 is_stmt 0 view .LVU200
 807 003c 6C23     		movs	r3, #108
 808 003e 8DF80030 		strb	r3, [sp]
 286:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 809              		.loc 1 286 2 is_stmt 1 view .LVU201
 286:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 810              		.loc 1 286 9 is_stmt 0 view .LVU202
 811 0042 8DF80130 		strb	r3, [sp, #1]
 287:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 812              		.loc 1 287 2 is_stmt 1 view .LVU203
 287:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 813              		.loc 1 287 9 is_stmt 0 view .LVU204
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 25


 814 0046 3C23     		movs	r3, #60
 815 0048 8DF80230 		strb	r3, [sp, #2]
 288:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 816              		.loc 1 288 2 is_stmt 1 view .LVU205
 288:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 817              		.loc 1 288 9 is_stmt 0 view .LVU206
 818 004c 0722     		movs	r2, #7
 819 004e 8DF80320 		strb	r2, [sp, #3]
 289:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 820              		.loc 1 289 2 is_stmt 1 view .LVU207
 289:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 821              		.loc 1 289 9 is_stmt 0 view .LVU208
 822 0052 8DF80430 		strb	r3, [sp, #4]
 290:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 823              		.loc 1 290 2 is_stmt 1 view .LVU209
 290:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 824              		.loc 1 290 9 is_stmt 0 view .LVU210
 825 0056 1C23     		movs	r3, #28
 826 0058 8DF80530 		strb	r3, [sp, #5]
 291:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 827              		.loc 1 291 2 is_stmt 1 view .LVU211
 291:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 828              		.loc 1 291 9 is_stmt 0 view .LVU212
 829 005c CC23     		movs	r3, #204
 830 005e 8DF80630 		strb	r3, [sp, #6]
 292:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 831              		.loc 1 292 2 is_stmt 1 view .LVU213
 292:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 832              		.loc 1 292 8 is_stmt 0 view .LVU214
 833 0062 6B46     		mov	r3, sp
 834 0064 0021     		movs	r1, #0
 835 0066 0846     		mov	r0, r1
 836              	.LVL62:
 292:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 837              		.loc 1 292 8 view .LVU215
 838 0068 FFF7FEFF 		bl	drv_wave1006_write_reg
 839              	.LVL63:
 293:Device/Src/drv_wave1006.c **** 		return ret;
 840              		.loc 1 293 2 is_stmt 1 view .LVU216
 293:Device/Src/drv_wave1006.c **** 		return ret;
 841              		.loc 1 293 5 is_stmt 0 view .LVU217
 842 006c 0546     		mov	r5, r0
 843 006e 0028     		cmp	r0, #0
 844 0070 D7D1     		bne	.L45
 298:Device/Src/drv_wave1006.c **** 	
 845              		.loc 1 298 2 is_stmt 1 view .LVU218
 846 0072 4FF47A70 		mov	r0, #1000
 847              	.LVL64:
 298:Device/Src/drv_wave1006.c **** 	
 848              		.loc 1 298 2 is_stmt 0 view .LVU219
 849 0076 FFF7FEFF 		bl	HAL_Delay
 850              	.LVL65:
 300:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 851              		.loc 1 300 2 is_stmt 1 view .LVU220
 300:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 852              		.loc 1 300 8 is_stmt 0 view .LVU221
 853 007a 6B46     		mov	r3, sp
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 26


 854 007c 0122     		movs	r2, #1
 855 007e FD21     		movs	r1, #253
 856 0080 0020     		movs	r0, #0
 857 0082 FFF7FEFF 		bl	drv_wave1006_read_reg
 858              	.LVL66:
 301:Device/Src/drv_wave1006.c **** 		return ret;
 859              		.loc 1 301 2 is_stmt 1 view .LVU222
 301:Device/Src/drv_wave1006.c **** 		return ret;
 860              		.loc 1 301 5 is_stmt 0 view .LVU223
 861 0086 0546     		mov	r5, r0
 862 0088 0028     		cmp	r0, #0
 863 008a CAD1     		bne	.L45
 303:Device/Src/drv_wave1006.c **** 	{
 864              		.loc 1 303 2 is_stmt 1 view .LVU224
 303:Device/Src/drv_wave1006.c **** 	{
 865              		.loc 1 303 9 is_stmt 0 view .LVU225
 866 008c 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 303:Device/Src/drv_wave1006.c **** 	{
 867              		.loc 1 303 4 view .LVU226
 868 0090 13F0080F 		tst	r3, #8
 869 0094 03D0     		beq	.L46
 305:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 870              		.loc 1 305 3 is_stmt 1 view .LVU227
 871 0096 0548     		ldr	r0, .L49
 872              	.LVL67:
 305:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 873              		.loc 1 305 3 is_stmt 0 view .LVU228
 874 0098 FFF7FEFF 		bl	UsbPrintf
 875              	.LVL68:
 306:Device/Src/drv_wave1006.c **** 	}
 876              		.loc 1 306 3 is_stmt 1 view .LVU229
 306:Device/Src/drv_wave1006.c **** 	}
 877              		.loc 1 306 10 is_stmt 0 view .LVU230
 878 009c C1E7     		b	.L45
 879              	.LVL69:
 880              	.L46:
 310:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 881              		.loc 1 310 3 is_stmt 1 view .LVU231
 882 009e 0448     		ldr	r0, .L49+4
 883              	.LVL70:
 310:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 884              		.loc 1 310 3 is_stmt 0 view .LVU232
 885 00a0 FFF7FEFF 		bl	UsbPrintf
 886              	.LVL71:
 311:Device/Src/drv_wave1006.c **** 	}
 887              		.loc 1 311 3 is_stmt 1 view .LVU233
 311:Device/Src/drv_wave1006.c **** 	}
 888              		.loc 1 311 10 is_stmt 0 view .LVU234
 889 00a4 6FF00205 		mvn	r5, #2
 890 00a8 BBE7     		b	.L45
 891              	.L50:
 892 00aa 00BF     		.align	2
 893              	.L49:
 894 00ac 00000000 		.word	.LC0
 895 00b0 00000000 		.word	.LC1
 896              		.cfi_endproc
 897              	.LFE241:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 27


 899              		.section	.text.wave1006_get_test_flag,"ax",%progbits
 900              		.align	1
 901              		.global	wave1006_get_test_flag
 902              		.syntax unified
 903              		.thumb
 904              		.thumb_func
 906              	wave1006_get_test_flag:
 907              	.LFB242:
 317:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 908              		.loc 1 317 1 is_stmt 1 view -0
 909              		.cfi_startproc
 910              		@ args = 0, pretend = 0, frame = 8
 911              		@ frame_needed = 0, uses_anonymous_args = 0
 912 0000 00B5     		push	{lr}
 913              	.LCFI29:
 914              		.cfi_def_cfa_offset 4
 915              		.cfi_offset 14, -4
 916 0002 83B0     		sub	sp, sp, #12
 917              	.LCFI30:
 918              		.cfi_def_cfa_offset 16
 318:Device/Src/drv_wave1006.c **** 	
 919              		.loc 1 318 2 view .LVU236
 320:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 920              		.loc 1 320 2 view .LVU237
 320:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 921              		.loc 1 320 6 is_stmt 0 view .LVU238
 922 0004 0DF10703 		add	r3, sp, #7
 923 0008 0122     		movs	r2, #1
 924 000a FD21     		movs	r1, #253
 925 000c 0420     		movs	r0, #4
 926 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 927              	.LVL72:
 320:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 928              		.loc 1 320 5 view .LVU239
 929 0012 50B9     		cbnz	r0, .L53
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 930              		.loc 1 324 2 is_stmt 1 view .LVU240
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 931              		.loc 1 324 11 is_stmt 0 view .LVU241
 932 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 933              		.loc 1 324 5 view .LVU242
 934 0018 13F0080F 		tst	r3, #8
 935 001c 02D0     		beq	.L55
 936              	.L52:
 329:Device/Src/drv_wave1006.c **** 
 937              		.loc 1 329 1 view .LVU243
 938 001e 03B0     		add	sp, sp, #12
 939              	.LCFI31:
 940              		.cfi_remember_state
 941              		.cfi_def_cfa_offset 4
 942              		@ sp needed
 943 0020 5DF804FB 		ldr	pc, [sp], #4
 944              	.L55:
 945              	.LCFI32:
 946              		.cfi_restore_state
 325:Device/Src/drv_wave1006.c **** 	} else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 28


 947              		.loc 1 325 10 view .LVU244
 948 0024 6FF00100 		mvn	r0, #1
 949 0028 F9E7     		b	.L52
 950              	.L53:
 321:Device/Src/drv_wave1006.c **** 	}
 951              		.loc 1 321 10 view .LVU245
 952 002a 6FF00100 		mvn	r0, #1
 953 002e F6E7     		b	.L52
 954              		.cfi_endproc
 955              	.LFE242:
 957              		.section	.text.sd3031_get_test_flag,"ax",%progbits
 958              		.align	1
 959              		.global	sd3031_get_test_flag
 960              		.syntax unified
 961              		.thumb
 962              		.thumb_func
 964              	sd3031_get_test_flag:
 965              	.LFB243:
 332:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 966              		.loc 1 332 1 is_stmt 1 view -0
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 8
 969              		@ frame_needed = 0, uses_anonymous_args = 0
 970 0000 00B5     		push	{lr}
 971              	.LCFI33:
 972              		.cfi_def_cfa_offset 4
 973              		.cfi_offset 14, -4
 974 0002 83B0     		sub	sp, sp, #12
 975              	.LCFI34:
 976              		.cfi_def_cfa_offset 16
 333:Device/Src/drv_wave1006.c **** 	
 977              		.loc 1 333 2 view .LVU247
 335:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 978              		.loc 1 335 2 view .LVU248
 335:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 979              		.loc 1 335 6 is_stmt 0 view .LVU249
 980 0004 0DF10703 		add	r3, sp, #7
 981 0008 0122     		movs	r2, #1
 982 000a FD21     		movs	r1, #253
 983 000c 0020     		movs	r0, #0
 984 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 985              	.LVL73:
 335:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 986              		.loc 1 335 5 view .LVU250
 987 0012 50B9     		cbnz	r0, .L58
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 988              		.loc 1 339 2 is_stmt 1 view .LVU251
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 989              		.loc 1 339 11 is_stmt 0 view .LVU252
 990 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 991              		.loc 1 339 5 view .LVU253
 992 0018 13F0080F 		tst	r3, #8
 993 001c 02D0     		beq	.L60
 994              	.L57:
 344:Device/Src/drv_wave1006.c **** 
 995              		.loc 1 344 1 view .LVU254
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 29


 996 001e 03B0     		add	sp, sp, #12
 997              	.LCFI35:
 998              		.cfi_remember_state
 999              		.cfi_def_cfa_offset 4
 1000              		@ sp needed
 1001 0020 5DF804FB 		ldr	pc, [sp], #4
 1002              	.L60:
 1003              	.LCFI36:
 1004              		.cfi_restore_state
 340:Device/Src/drv_wave1006.c **** 	} else {
 1005              		.loc 1 340 10 view .LVU255
 1006 0024 6FF00100 		mvn	r0, #1
 1007 0028 F9E7     		b	.L57
 1008              	.L58:
 336:Device/Src/drv_wave1006.c **** 	}
 1009              		.loc 1 336 10 view .LVU256
 1010 002a 6FF00100 		mvn	r0, #1
 1011 002e F6E7     		b	.L57
 1012              		.cfi_endproc
 1013              	.LFE243:
 1015              		.section	.text.wave1006_osc_config_set,"ax",%progbits
 1016              		.align	1
 1017              		.global	wave1006_osc_config_set
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1022              	wave1006_osc_config_set:
 1023              	.LVL74:
 1024              	.LFB244:
 347:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1025              		.loc 1 347 1 is_stmt 1 view -0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 8
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 347:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1029              		.loc 1 347 1 is_stmt 0 view .LVU258
 1030 0000 00B5     		push	{lr}
 1031              	.LCFI37:
 1032              		.cfi_def_cfa_offset 4
 1033              		.cfi_offset 14, -4
 1034 0002 83B0     		sub	sp, sp, #12
 1035              	.LCFI38:
 1036              		.cfi_def_cfa_offset 16
 348:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 1037              		.loc 1 348 2 is_stmt 1 view .LVU259
 349:Device/Src/drv_wave1006.c **** 
 1038              		.loc 1 349 2 view .LVU260
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1039              		.loc 1 352 2 view .LVU261
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1040              		.loc 1 352 19 is_stmt 0 view .LVU262
 1041 0004 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 1042 0006 C2F30111 		ubfx	r1, r2, #4, #2
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1043              		.loc 1 352 56 view .LVU263
 1044 000a 9309     		lsrs	r3, r2, #6
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 30


 1045              		.loc 1 352 71 view .LVU264
 1046 000c 5B01     		lsls	r3, r3, #5
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1047              		.loc 1 352 47 view .LVU265
 1048 000e 43EAC113 		orr	r3, r3, r1, lsl #7
 1049 0012 5BB2     		sxtb	r3, r3
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1050              		.loc 1 352 86 view .LVU266
 1051 0014 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 1052 0016 01F00300 		and	r0, r1, #3
 1053              	.LVL75:
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1054              		.loc 1 352 77 view .LVU267
 1055 001a 43EAC003 		orr	r3, r3, r0, lsl #3
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1056              		.loc 1 352 135 view .LVU268
 1057 001e 01F00400 		and	r0, r1, #4
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1058              		.loc 1 352 109 view .LVU269
 1059 0022 0343     		orrs	r3, r3, r0
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1060              		.loc 1 352 150 view .LVU270
 1061 0024 C1F3C000 		ubfx	r0, r1, #3, #1
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1062              		.loc 1 352 141 view .LVU271
 1063 0028 43EA4003 		orr	r3, r3, r0, lsl #1
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1064              		.loc 1 352 173 view .LVU272
 1065 002c C1F30011 		ubfx	r1, r1, #4, #1
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1066              		.loc 1 352 165 view .LVU273
 1067 0030 0B43     		orrs	r3, r3, r1
 352:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1068              		.loc 1 352 9 view .LVU274
 1069 0032 8DF80430 		strb	r3, [sp, #4]
 353:Device/Src/drv_wave1006.c **** 	
 1070              		.loc 1 353 2 is_stmt 1 view .LVU275
 353:Device/Src/drv_wave1006.c **** 	
 1071              		.loc 1 353 18 is_stmt 0 view .LVU276
 1072 0036 02F00101 		and	r1, r2, #1
 353:Device/Src/drv_wave1006.c **** 	
 1073              		.loc 1 353 43 view .LVU277
 1074 003a C2F34003 		ubfx	r3, r2, #1, #1
 353:Device/Src/drv_wave1006.c **** 	
 1075              		.loc 1 353 50 view .LVU278
 1076 003e DB00     		lsls	r3, r3, #3
 353:Device/Src/drv_wave1006.c **** 	
 1077              		.loc 1 353 34 view .LVU279
 1078 0040 43EA0113 		orr	r3, r3, r1, lsl #4
 353:Device/Src/drv_wave1006.c **** 	
 1079              		.loc 1 353 79 view .LVU280
 1080 0044 02F00C01 		and	r1, r2, #12
 353:Device/Src/drv_wave1006.c **** 	
 1081              		.loc 1 353 56 view .LVU281
 1082 0048 0B43     		orrs	r3, r3, r1
 353:Device/Src/drv_wave1006.c **** 	
 1083              		.loc 1 353 116 view .LVU282
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 31


 1084 004a C2F34012 		ubfx	r2, r2, #5, #1
 353:Device/Src/drv_wave1006.c **** 	
 1085              		.loc 1 353 85 view .LVU283
 1086 004e 1343     		orrs	r3, r3, r2
 353:Device/Src/drv_wave1006.c **** 	
 1087              		.loc 1 353 9 view .LVU284
 1088 0050 8DF80530 		strb	r3, [sp, #5]
 355:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1089              		.loc 1 355 2 is_stmt 1 view .LVU285
 355:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1090              		.loc 1 355 8 is_stmt 0 view .LVU286
 1091 0054 01AB     		add	r3, sp, #4
 1092 0056 0222     		movs	r2, #2
 1093 0058 4321     		movs	r1, #67
 1094 005a 0420     		movs	r0, #4
 1095 005c FFF7FEFF 		bl	drv_wave1006_write_reg
 1096              	.LVL76:
 356:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1097              		.loc 1 356 2 is_stmt 1 view .LVU287
 356:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1098              		.loc 1 356 5 is_stmt 0 view .LVU288
 1099 0060 10B1     		cbz	r0, .L65
 1100              	.L62:
 369:Device/Src/drv_wave1006.c **** 
 1101              		.loc 1 369 1 view .LVU289
 1102 0062 03B0     		add	sp, sp, #12
 1103              	.LCFI39:
 1104              		.cfi_remember_state
 1105              		.cfi_def_cfa_offset 4
 1106              		@ sp needed
 1107 0064 5DF804FB 		ldr	pc, [sp], #4
 1108              	.LVL77:
 1109              	.L65:
 1110              	.LCFI40:
 1111              		.cfi_restore_state
 365:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1112              		.loc 1 365 2 is_stmt 1 view .LVU290
 365:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1113              		.loc 1 365 6 is_stmt 0 view .LVU291
 1114 0068 0420     		movs	r0, #4
 1115 006a FFF7FEFF 		bl	wave1006_enter_test_mode
 1116              	.LVL78:
 365:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1117              		.loc 1 365 5 view .LVU292
 1118 006e 0028     		cmp	r0, #0
 1119 0070 F7D0     		beq	.L62
 366:Device/Src/drv_wave1006.c **** 	}
 1120              		.loc 1 366 10 view .LVU293
 1121 0072 6FF00200 		mvn	r0, #2
 1122 0076 F4E7     		b	.L62
 1123              		.cfi_endproc
 1124              	.LFE244:
 1126              		.section	.rodata.wave1006_write_otp.str1.4,"aMS",%progbits,1
 1127              		.align	2
 1128              	.LC3:
 1129 0000 57524954 		.ascii	"WRITE ALL OTP start!\015\012\000"
 1129      4520414C 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 32


 1129      4C204F54 
 1129      50207374 
 1129      61727421 
 1130 0017 00       		.align	2
 1131              	.LC4:
 1132 0018 77726974 		.ascii	"write otp step 1 fail!\015\012\000"
 1132      65206F74 
 1132      70207374 
 1132      65702031 
 1132      20666169 
 1133 0031 000000   		.align	2
 1134              	.LC5:
 1135 0034 77726974 		.ascii	"write otp step 2 fail!\015\012\000"
 1135      65206F74 
 1135      70207374 
 1135      65702032 
 1135      20666169 
 1136 004d 000000   		.align	2
 1137              	.LC6:
 1138 0050 77726974 		.ascii	"write otp step 3 fail!\015\012\000"
 1138      65206F74 
 1138      70207374 
 1138      65702033 
 1138      20666169 
 1139 0069 000000   		.align	2
 1140              	.LC7:
 1141 006c 77726974 		.ascii	"write otp step 4 fail!\015\012\000"
 1141      65206F74 
 1141      70207374 
 1141      65702034 
 1141      20666169 
 1142 0085 000000   		.align	2
 1143              	.LC8:
 1144 0088 77726974 		.ascii	"write otp step 5 fail!\015\012\000"
 1144      65206F74 
 1144      70207374 
 1144      65702035 
 1144      20666169 
 1145 00a1 000000   		.align	2
 1146              	.LC9:
 1147 00a4 77726974 		.ascii	"write reg error in test mode\012\000"
 1147      65207265 
 1147      67206572 
 1147      726F7220 
 1147      696E2074 
 1148 00c2 0000     		.align	2
 1149              	.LC10:
 1150 00c4 2F2A2A2A 		.ascii	"/**************************** WRITE OTP ***********"
 1150      2A2A2A2A 
 1150      2A2A2A2A 
 1150      2A2A2A2A 
 1150      2A2A2A2A 
 1151 00f7 2A2A2A2A 		.ascii	"*********************/\015\012\000"
 1151      2A2A2A2A 
 1151      2A2A2A2A 
 1151      2A2A2A2A 
 1151      2A2A2A2A 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 33


 1152              		.align	2
 1153              	.LC11:
 1154 0110 6F747020 		.ascii	"otp addr0:%hx\015\012\000"
 1154      61646472 
 1154      303A2568 
 1154      780D0A00 
 1155              		.align	2
 1156              	.LC12:
 1157 0120 6F747020 		.ascii	"otp addr1:%hx\015\012\000"
 1157      61646472 
 1157      313A2568 
 1157      780D0A00 
 1158              		.align	2
 1159              	.LC13:
 1160 0130 6F747020 		.ascii	"otp addr2:%hx\015\012\000"
 1160      61646472 
 1160      323A2568 
 1160      780D0A00 
 1161              		.align	2
 1162              	.LC14:
 1163 0140 6F747020 		.ascii	"otp addr3:%hx\015\012\000"
 1163      61646472 
 1163      333A2568 
 1163      780D0A00 
 1164              		.align	2
 1165              	.LC15:
 1166 0150 6F747020 		.ascii	"otp addr4:%hx\015\012\000"
 1166      61646472 
 1166      343A2568 
 1166      780D0A00 
 1167              		.align	2
 1168              	.LC16:
 1169 0160 6F747020 		.ascii	"otp addr5:%hx\015\012\000"
 1169      61646472 
 1169      353A2568 
 1169      780D0A00 
 1170              		.align	2
 1171              	.LC17:
 1172 0170 6F747020 		.ascii	"otp addr6:%hx\015\012\000"
 1172      61646472 
 1172      363A2568 
 1172      780D0A00 
 1173              		.align	2
 1174              	.LC18:
 1175 0180 6F747020 		.ascii	"otp addr7:%hx\015\012\000"
 1175      61646472 
 1175      373A2568 
 1175      780D0A00 
 1176              		.align	2
 1177              	.LC19:
 1178 0190 6F747020 		.ascii	"otp addr8:%hx\015\012\000"
 1178      61646472 
 1178      383A2568 
 1178      780D0A00 
 1179              		.align	2
 1180              	.LC20:
 1181 01a0 6F747020 		.ascii	"otp addr9:%hx\015\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 34


 1181      61646472 
 1181      393A2568 
 1181      780D0A00 
 1182              		.align	2
 1183              	.LC21:
 1184 01b0 6F747020 		.ascii	"otp addra:%hx\015\012\000"
 1184      61646472 
 1184      613A2568 
 1184      780D0A00 
 1185              		.align	2
 1186              	.LC22:
 1187 01c0 6F747020 		.ascii	"otp addrb:%hx\015\012\000"
 1187      61646472 
 1187      623A2568 
 1187      780D0A00 
 1188              		.align	2
 1189              	.LC23:
 1190 01d0 6F747020 		.ascii	"otp addrc:%hx\015\012\000"
 1190      61646472 
 1190      633A2568 
 1190      780D0A00 
 1191              		.align	2
 1192              	.LC24:
 1193 01e0 6F747020 		.ascii	"otp addrd:%hx\015\012\000"
 1193      61646472 
 1193      643A2568 
 1193      780D0A00 
 1194              		.align	2
 1195              	.LC25:
 1196 01f0 6F747020 		.ascii	"otp addre:%hx\015\012\000"
 1196      61646472 
 1196      653A2568 
 1196      780D0A00 
 1197              		.align	2
 1198              	.LC26:
 1199 0200 6F747020 		.ascii	"otp addrf:%hx\015\012\000"
 1199      61646472 
 1199      663A2568 
 1199      780D0A00 
 1200              		.align	2
 1201              	.LC27:
 1202 0210 2F2A2A2A 		.ascii	"/**************************** READ OTP ************"
 1202      2A2A2A2A 
 1202      2A2A2A2A 
 1202      2A2A2A2A 
 1202      2A2A2A2A 
 1203 0243 2A2A2A2A 		.ascii	"********************/\015\012\000"
 1203      2A2A2A2A 
 1203      2A2A2A2A 
 1203      2A2A2A2A 
 1203      2A2A2A2A 
 1204 025b 00       		.align	2
 1205              	.LC28:
 1206 025c 77725F70 		.ascii	"wr_pos = %hx\015\012\000"
 1206      6F73203D 
 1206      20256878 
 1206      0D0A00
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 35


 1207 026b 00       		.align	2
 1208              	.LC29:
 1209 026c 77726974 		.ascii	"write check is err %lx: cal=%lx\015\012\000"
 1209      65206368 
 1209      65636B20 
 1209      69732065 
 1209      72722025 
 1210 028e 0000     		.align	2
 1211              	.LC30:
 1212 0290 77726974 		.ascii	"write otp is successful! %lx: cal=%lx\015\012\000"
 1212      65206F74 
 1212      70206973 
 1212      20737563 
 1212      63657373 
 1213              		.align	2
 1214              	.LC31:
 1215 02b8 45584954 		.ascii	"EXIT OK!\015\012\000"
 1215      204F4B21 
 1215      0D0A00
 1216              		.section	.text.wave1006_write_otp,"ax",%progbits
 1217              		.align	1
 1218              		.global	wave1006_write_otp
 1219              		.syntax unified
 1220              		.thumb
 1221              		.thumb_func
 1223              	wave1006_write_otp:
 1224              	.LVL79:
 1225              	.LFB247:
 422:Device/Src/drv_wave1006.c **** 
 423:Device/Src/drv_wave1006.c **** 
 424:Device/Src/drv_wave1006.c **** //配置为SD3031烧写为不同型号
 425:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp(wave1006_otp_arg_t const *config_arg,  unsigned char const 
 426:Device/Src/drv_wave1006.c **** {
 1226              		.loc 1 426 1 is_stmt 1 view -0
 1227              		.cfi_startproc
 1228              		@ args = 0, pretend = 0, frame = 16
 1229              		@ frame_needed = 0, uses_anonymous_args = 0
 1230              		.loc 1 426 1 is_stmt 0 view .LVU295
 1231 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1232              	.LCFI41:
 1233              		.cfi_def_cfa_offset 28
 1234              		.cfi_offset 4, -28
 1235              		.cfi_offset 5, -24
 1236              		.cfi_offset 6, -20
 1237              		.cfi_offset 7, -16
 1238              		.cfi_offset 8, -12
 1239              		.cfi_offset 9, -8
 1240              		.cfi_offset 14, -4
 1241 0004 85B0     		sub	sp, sp, #20
 1242              	.LCFI42:
 1243              		.cfi_def_cfa_offset 48
 1244 0006 0646     		mov	r6, r0
 1245 0008 8946     		mov	r9, r1
 1246 000a 1546     		mov	r5, r2
 1247 000c 1F46     		mov	r7, r3
 427:Device/Src/drv_wave1006.c **** 	uint16_t i;
 1248              		.loc 1 427 2 is_stmt 1 view .LVU296
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 36


 428:Device/Src/drv_wave1006.c **** 	uint8_t buf1;
 1249              		.loc 1 428 2 view .LVU297
 429:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0};
 1250              		.loc 1 429 2 view .LVU298
 1251              		.loc 1 429 10 is_stmt 0 view .LVU299
 1252 000e E74B     		ldr	r3, .L89
 1253              	.LVL80:
 1254              		.loc 1 429 10 view .LVU300
 1255 0010 93E80300 		ldm	r3, {r0, r1}
 1256              	.LVL81:
 1257              		.loc 1 429 10 view .LVU301
 1258 0014 0290     		str	r0, [sp, #8]
 1259 0016 8DF80C10 		strb	r1, [sp, #12]
 430:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 1260              		.loc 1 430 2 is_stmt 1 view .LVU302
 431:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_wr = 0;     //写数据校验缓存
 1261              		.loc 1 431 2 view .LVU303
 1262              	.LVL82:
 432:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_rd = 0;		 //读数据校验缓存
 1263              		.loc 1 432 2 view .LVU304
 433:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 1264              		.loc 1 433 2 view .LVU305
 434:Device/Src/drv_wave1006.c **** 
 435:Device/Src/drv_wave1006.c **** 	UsbPrintf("WRITE ALL OTP start!\r\n");
 1265              		.loc 1 435 2 view .LVU306
 1266 001a E548     		ldr	r0, .L89+4
 1267 001c FFF7FEFF 		bl	UsbPrintf
 1268              	.LVL83:
 436:Device/Src/drv_wave1006.c **** 	rtc_group_power(rtcNumber, POWER_I2C);//-------------------
 1269              		.loc 1 436 2 view .LVU307
 1270 0020 0121     		movs	r1, #1
 1271 0022 3846     		mov	r0, r7
 1272 0024 FFF7FEFF 		bl	rtc_group_power
 1273              	.LVL84:
 437:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 1274              		.loc 1 437 2 view .LVU308
 1275 0028 0321     		movs	r1, #3
 1276 002a 3846     		mov	r0, r7
 1277 002c FFF7FEFF 		bl	rtc_set_channel
 1278              	.LVL85:
 438:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 1279              		.loc 1 438 2 view .LVU309
 1280 0030 6420     		movs	r0, #100
 1281 0032 FFF7FEFF 		bl	HAL_Delay
 1282              	.LVL86:
 439:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 1283              		.loc 1 439 2 view .LVU310
 1284              		.loc 1 439 7 is_stmt 0 view .LVU311
 1285 0036 4023     		movs	r3, #64
 1286 0038 8DF80F30 		strb	r3, [sp, #15]
 440:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果
 1287              		.loc 1 440 2 is_stmt 1 view .LVU312
 1288              		.loc 1 440 6 is_stmt 0 view .LVU313
 1289 003c 0DF10F03 		add	r3, sp, #15
 1290 0040 0122     		movs	r2, #1
 1291 0042 1121     		movs	r1, #17
 1292 0044 0420     		movs	r0, #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 37


 1293 0046 FFF7FEFF 		bl	drv_wave1006_write_reg
 1294              	.LVL87:
 1295              		.loc 1 440 5 view .LVU314
 1296 004a 0028     		cmp	r0, #0
 1297 004c 40F07A82 		bne	.L82
 441:Device/Src/drv_wave1006.c **** 	{
 442:Device/Src/drv_wave1006.c **** 		UsbPrintf("write otp step 1 fail!\r\n");
 443:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 444:Device/Src/drv_wave1006.c **** 	}  
 445:Device/Src/drv_wave1006.c **** 	//选择为SD3302封装(必须在进测试模式之前选择，否则芯片pad改变)
 446:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 1298              		.loc 1 446 2 is_stmt 1 view .LVU315
 1299              		.loc 1 446 6 is_stmt 0 view .LVU316
 1300 0050 0DF10F03 		add	r3, sp, #15
 1301 0054 0122     		movs	r2, #1
 1302 0056 4021     		movs	r1, #64
 1303 0058 0020     		movs	r0, #0
 1304 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 1305              	.LVL88:
 1306              		.loc 1 446 5 view .LVU317
 1307 005e 0028     		cmp	r0, #0
 1308 0060 40F07682 		bne	.L83
 447:Device/Src/drv_wave1006.c **** 	{
 448:Device/Src/drv_wave1006.c **** 		UsbPrintf("write otp step 2 fail!\r\n");
 449:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 450:Device/Src/drv_wave1006.c **** 	}
 451:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 1309              		.loc 1 451 2 is_stmt 1 view .LVU318
 1310              		.loc 1 451 7 is_stmt 0 view .LVU319
 1311 0064 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1312 0068 03F0F003 		and	r3, r3, #240
 1313 006c 8DF80F30 		strb	r3, [sp, #15]
 452:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0d;
 1314              		.loc 1 452 2 is_stmt 1 view .LVU320
 1315              		.loc 1 452 7 is_stmt 0 view .LVU321
 1316 0070 43F00D03 		orr	r3, r3, #13
 1317 0074 8DF80F30 		strb	r3, [sp, #15]
 453:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXI
 1318              		.loc 1 453 2 is_stmt 1 view .LVU322
 1319              		.loc 1 453 6 is_stmt 0 view .LVU323
 1320 0078 0DF10F03 		add	r3, sp, #15
 1321 007c 0122     		movs	r2, #1
 1322 007e 4021     		movs	r1, #64
 1323 0080 0420     		movs	r0, #4
 1324 0082 FFF7FEFF 		bl	drv_wave1006_write_reg
 1325              	.LVL89:
 1326              		.loc 1 453 5 view .LVU324
 1327 0086 0028     		cmp	r0, #0
 1328 0088 40F06882 		bne	.L84
 454:Device/Src/drv_wave1006.c **** 	{
 455:Device/Src/drv_wave1006.c **** 		UsbPrintf("write otp step 3 fail!\r\n");
 456:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 457:Device/Src/drv_wave1006.c **** 	}
 458:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 459:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EX
 1329              		.loc 1 459 2 is_stmt 1 view .LVU325
 1330              		.loc 1 459 6 is_stmt 0 view .LVU326
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 38


 1331 008c 02AB     		add	r3, sp, #8
 1332 008e 0522     		movs	r2, #5
 1333 0090 2D21     		movs	r1, #45
 1334 0092 0420     		movs	r0, #4
 1335 0094 FFF7FEFF 		bl	drv_wave1006_write_reg
 1336              	.LVL90:
 1337              		.loc 1 459 5 view .LVU327
 1338 0098 0028     		cmp	r0, #0
 1339 009a 40F06582 		bne	.L85
 460:Device/Src/drv_wave1006.c **** 	{
 461:Device/Src/drv_wave1006.c **** 		UsbPrintf("write otp step 4 fail!\r\n");
 462:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 463:Device/Src/drv_wave1006.c **** 	}
 464:Device/Src/drv_wave1006.c **** 		
 465:Device/Src/drv_wave1006.c **** 	if (wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处
 1340              		.loc 1 465 2 is_stmt 1 view .LVU328
 1341              		.loc 1 465 6 is_stmt 0 view .LVU329
 1342 009e 3020     		movs	r0, #48
 1343 00a0 FFF7FEFF 		bl	wave1006_enter_test_mode
 1344              	.LVL91:
 1345              		.loc 1 465 5 view .LVU330
 1346 00a4 0028     		cmp	r0, #0
 1347 00a6 40F06582 		bne	.L86
 466:Device/Src/drv_wave1006.c **** 	{
 467:Device/Src/drv_wave1006.c **** 		UsbPrintf("write otp step 5 fail!\r\n");
 468:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 469:Device/Src/drv_wave1006.c **** 	}
 470:Device/Src/drv_wave1006.c ****  
 471:Device/Src/drv_wave1006.c ****     /*switch i2c prot, io6 =5V*/
 472:Device/Src/drv_wave1006.c **** //	otp_prg_power_ctrl(0); 
 473:Device/Src/drv_wave1006.c ****  	rtc_set_channel(rtcNumber, RTC_SD3068);//切换pad引脚
 1348              		.loc 1 473 3 is_stmt 1 view .LVU331
 1349 00aa 0421     		movs	r1, #4
 1350 00ac 3846     		mov	r0, r7
 1351 00ae FFF7FEFF 		bl	rtc_set_channel
 1352              	.LVL92:
 474:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1353              		.loc 1 474 2 view .LVU332
 1354 00b2 0A20     		movs	r0, #10
 1355 00b4 FFF7FEFF 		bl	HAL_Delay
 1356              	.LVL93:
 475:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 476:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 1357              		.loc 1 476 3 view .LVU333
 1358              		.loc 1 476 10 is_stmt 0 view .LVU334
 1359 00b8 8023     		movs	r3, #128
 1360 00ba 8DF80830 		strb	r3, [sp, #8]
 477:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0])!= WAVE1006_EXI
 1361              		.loc 1 477 2 is_stmt 1 view .LVU335
 1362              		.loc 1 477 6 is_stmt 0 view .LVU336
 1363 00be 02AB     		add	r3, sp, #8
 1364 00c0 0122     		movs	r2, #1
 1365 00c2 2D21     		movs	r1, #45
 1366 00c4 0420     		movs	r0, #4
 1367 00c6 FFF7FEFF 		bl	drv_wave1006_write_reg
 1368              	.LVL94:
 1369              		.loc 1 477 5 view .LVU337
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 39


 1370 00ca 8046     		mov	r8, r0
 1371 00cc 0028     		cmp	r0, #0
 1372 00ce 40F05782 		bne	.L87
 478:Device/Src/drv_wave1006.c **** 		UsbPrintf("write reg error in test mode\n");
 479:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 480:Device/Src/drv_wave1006.c **** 	}
 481:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 482:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 1373              		.loc 1 482 3 is_stmt 1 view .LVU338
 1374              		.loc 1 482 10 is_stmt 0 view .LVU339
 1375 00d2 8223     		movs	r3, #130
 1376 00d4 8DF80830 		strb	r3, [sp, #8]
 483:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1377              		.loc 1 483 3 is_stmt 1 view .LVU340
 1378 00d8 02AB     		add	r3, sp, #8
 1379 00da 0122     		movs	r2, #1
 1380 00dc 2D21     		movs	r1, #45
 1381 00de 0420     		movs	r0, #4
 1382 00e0 FFF7FEFF 		bl	drv_wave1006_write_reg
 1383              	.LVL95:
 484:Device/Src/drv_wave1006.c **** //    pprog = 1
 485:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 1384              		.loc 1 485 3 view .LVU341
 1385              		.loc 1 485 10 is_stmt 0 view .LVU342
 1386 00e4 A223     		movs	r3, #162
 1387 00e6 8DF80830 		strb	r3, [sp, #8]
 486:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1388              		.loc 1 486 3 is_stmt 1 view .LVU343
 1389 00ea 02AB     		add	r3, sp, #8
 1390 00ec 0122     		movs	r2, #1
 1391 00ee 2D21     		movs	r1, #45
 1392 00f0 0420     		movs	r0, #4
 1393 00f2 FFF7FEFF 		bl	drv_wave1006_write_reg
 1394              	.LVL96:
 487:Device/Src/drv_wave1006.c **** 
 488:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** WRITE OTP ********************************/\r\n");
 1395              		.loc 1 488 2 view .LVU344
 1396 00f6 AF48     		ldr	r0, .L89+8
 1397 00f8 FFF7FEFF 		bl	UsbPrintf
 1398              	.LVL97:
 489:Device/Src/drv_wave1006.c **** 	//    io6 =8.5V
 490:Device/Src/drv_wave1006.c ****  	rtc_otp_power(8.5);
 1399              		.loc 1 490 3 view .LVU345
 1400 00fc B2EE010A 		vmov.f32	s0, #8.5e+0
 1401 0100 FFF7FEFF 		bl	rtc_otp_power
 1402              	.LVL98:
 491:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_SET); //打开8.5v的开关
 1403              		.loc 1 491 2 view .LVU346
 1404 0104 0122     		movs	r2, #1
 1405 0106 4021     		movs	r1, #64
 1406 0108 AB48     		ldr	r0, .L89+12
 1407 010a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1408              	.LVL99:
 492:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1409              		.loc 1 492 2 view .LVU347
 1410 010e 0A20     		movs	r0, #10
 1411 0110 FFF7FEFF 		bl	HAL_Delay
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 40


 1412              	.LVL100:
 493:Device/Src/drv_wave1006.c **** 
 494:Device/Src/drv_wave1006.c **** //    start write otp
 495:Device/Src/drv_wave1006.c **** 	otp_temp =  0x3ffc | (config_arg->test_wp_config << 1) | config_arg->otp_wp_config;
 1413              		.loc 1 495 2 view .LVU348
 1414              		.loc 1 495 34 is_stmt 0 view .LVU349
 1415 0114 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1416              		.loc 1 495 51 view .LVU350
 1417 0116 03F00204 		and	r4, r3, #2
 1418              		.loc 1 495 21 view .LVU351
 1419 011a 44F47F54 		orr	r4, r4, #16320
 1420 011e 44F03C04 		orr	r4, r4, #60
 1421              		.loc 1 495 69 view .LVU352
 1422 0122 03F00103 		and	r3, r3, #1
 1423              		.loc 1 495 57 view .LVU353
 1424 0126 1C43     		orrs	r4, r4, r3
 1425              		.loc 1 495 11 view .LVU354
 1426 0128 ADF80640 		strh	r4, [sp, #6]	@ movhi
 496:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1427              		.loc 1 496 2 is_stmt 1 view .LVU355
 1428              	.LVL101:
 497:Device/Src/drv_wave1006.c ****   wave1006_write_otp_single(0, otp_temp);// addr 0
 1429              		.loc 1 497 3 view .LVU356
 1430 012c 2146     		mov	r1, r4
 1431 012e 0020     		movs	r0, #0
 1432 0130 FFF7FEFF 		bl	wave1006_write_otp_single
 1433              	.LVL102:
 498:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr0:%hx\r\n", otp_temp);
 1434              		.loc 1 498 2 view .LVU357
 1435 0134 BDF80610 		ldrh	r1, [sp, #6]
 1436 0138 A048     		ldr	r0, .L89+16
 1437 013a FFF7FEFF 		bl	UsbPrintf
 1438              	.LVL103:
 499:Device/Src/drv_wave1006.c **** 
 500:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->package_type_config << 10) | (config_arg->freq_en_config << 7) | (config_a
 1439              		.loc 1 500 2 view .LVU358
 1440              		.loc 1 500 24 is_stmt 0 view .LVU359
 1441 013e B278     		ldrb	r2, [r6, #2]	@ zero_extendqisi2
 1442 0140 02F00F02 		and	r2, r2, #15
 1443              		.loc 1 500 66 view .LVU360
 1444 0144 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 1445 0146 C3F38201 		ubfx	r1, r3, #2, #3
 1446              		.loc 1 500 83 view .LVU361
 1447 014a C901     		lsls	r1, r1, #7
 1448              		.loc 1 500 53 view .LVU362
 1449 014c 41EA8221 		orr	r1, r1, r2, lsl #10
 1450              		.loc 1 500 102 view .LVU363
 1451 0150 03F00303 		and	r3, r3, #3
 1452              		.loc 1 500 89 view .LVU364
 1453 0154 41EA4311 		orr	r1, r1, r3, lsl #5
 1454              		.loc 1 500 142 view .LVU365
 1455 0158 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1456 015a C3F38012 		ubfx	r2, r3, #6, #1
 1457              		.loc 1 500 129 view .LVU366
 1458 015e 41EA0211 		orr	r1, r1, r2, lsl #4
 501:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1459              		.loc 1 501 13 view .LVU367
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 41


 1460 0162 C3F38303 		ubfx	r3, r3, #2, #4
 500:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1461              		.loc 1 500 165 view .LVU368
 1462 0166 1943     		orrs	r1, r1, r3
 500:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1463              		.loc 1 500 11 view .LVU369
 1464 0168 ADF80610 		strh	r1, [sp, #6]	@ movhi
 502:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1465              		.loc 1 502 2 is_stmt 1 view .LVU370
 1466              		.loc 1 502 15 is_stmt 0 view .LVU371
 1467 016c 0C44     		add	r4, r4, r1
 1468              	.LVL104:
 503:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(1, otp_temp);
 1469              		.loc 1 503 2 is_stmt 1 view .LVU372
 1470 016e 0120     		movs	r0, #1
 1471 0170 FFF7FEFF 		bl	wave1006_write_otp_single
 1472              	.LVL105:
 504:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr1:%hx\r\n", otp_temp);
 1473              		.loc 1 504 2 view .LVU373
 1474 0174 BDF80610 		ldrh	r1, [sp, #6]
 1475 0178 9148     		ldr	r0, .L89+20
 1476 017a FFF7FEFF 		bl	UsbPrintf
 1477              	.LVL106:
 505:Device/Src/drv_wave1006.c **** 
 506:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->timer_freq_source_config & 0x01) << 13) | (config_arg->ae_disable_config 
 1478              		.loc 1 506 2 view .LVU374
 1479              		.loc 1 506 25 is_stmt 0 view .LVU375
 1480 017e 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 1481 0180 C3F38101 		ubfx	r1, r3, #2, #2
 1482              		.loc 1 506 60 view .LVU376
 1483 0184 4903     		lsls	r1, r1, #13
 1484 0186 01F40051 		and	r1, r1, #8192
 1485              		.loc 1 506 80 view .LVU377
 1486 018a 03F00303 		and	r3, r3, #3
 1487              		.loc 1 506 67 view .LVU378
 1488 018e 41EAC321 		orr	r1, r1, r3, lsl #11
 1489              		.loc 1 506 120 view .LVU379
 1490 0192 F378     		ldrb	r3, [r6, #3]	@ zero_extendqisi2
 1491 0194 03F07F03 		and	r3, r3, #127
 1492              		.loc 1 506 107 view .LVU380
 1493 0198 41EA0311 		orr	r1, r1, r3, lsl #4
 507:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1494              		.loc 1 507 14 view .LVU381
 1495 019c B378     		ldrb	r3, [r6, #2]	@ zero_extendqisi2
 1496 019e DA09     		lsrs	r2, r3, #7
 506:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1497              		.loc 1 506 147 view .LVU382
 1498 01a0 41EAC201 		orr	r1, r1, r2, lsl #3
 1499              		.loc 1 507 53 view .LVU383
 1500 01a4 C3F38012 		ubfx	r2, r3, #6, #1
 1501              		.loc 1 507 40 view .LVU384
 1502 01a8 41EA8201 		orr	r1, r1, r2, lsl #2
 1503              		.loc 1 507 96 view .LVU385
 1504 01ac C3F34012 		ubfx	r2, r3, #5, #1
 1505              		.loc 1 507 82 view .LVU386
 1506 01b0 41EA4201 		orr	r1, r1, r2, lsl #1
 1507              		.loc 1 507 138 view .LVU387
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 42


 1508 01b4 C3F30013 		ubfx	r3, r3, #4, #1
 1509              		.loc 1 507 126 view .LVU388
 1510 01b8 1943     		orrs	r1, r1, r3
 506:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1511              		.loc 1 506 11 view .LVU389
 1512 01ba ADF80610 		strh	r1, [sp, #6]	@ movhi
 508:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1513              		.loc 1 508 2 is_stmt 1 view .LVU390
 1514              		.loc 1 508 15 is_stmt 0 view .LVU391
 1515 01be 0C44     		add	r4, r4, r1
 1516              	.LVL107:
 509:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(2, otp_temp);
 1517              		.loc 1 509 2 is_stmt 1 view .LVU392
 1518 01c0 0220     		movs	r0, #2
 1519 01c2 FFF7FEFF 		bl	wave1006_write_otp_single
 1520              	.LVL108:
 510:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr2:%hx\r\n", otp_temp);
 1521              		.loc 1 510 2 view .LVU393
 1522 01c6 BDF80610 		ldrh	r1, [sp, #6]
 1523 01ca 7E48     		ldr	r0, .L89+24
 1524 01cc FFF7FEFF 		bl	UsbPrintf
 1525              	.LVL109:
 511:Device/Src/drv_wave1006.c **** 
 512:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->time_update_support_config << 13) | (config_arg->reg_addr_reset_config << 
 1526              		.loc 1 512 2 view .LVU394
 1527              		.loc 1 512 24 is_stmt 0 view .LVU395
 1528 01d0 F379     		ldrb	r3, [r6, #7]	@ zero_extendqisi2
 1529 01d2 C3F38002 		ubfx	r2, r3, #2, #1
 1530              		.loc 1 512 73 view .LVU396
 1531 01d6 03F00301 		and	r1, r3, #3
 1532              		.loc 1 512 97 view .LVU397
 1533 01da C902     		lsls	r1, r1, #11
 1534              		.loc 1 512 60 view .LVU398
 1535 01dc 41EA4231 		orr	r1, r1, r2, lsl #13
 1536              		.loc 1 512 117 view .LVU399
 1537 01e0 B379     		ldrb	r3, [r6, #6]	@ zero_extendqisi2
 1538 01e2 C3F38012 		ubfx	r2, r3, #6, #1
 1539              		.loc 1 512 104 view .LVU400
 1540 01e6 41EA8221 		orr	r1, r1, r2, lsl #10
 513:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1541              		.loc 1 513 14 view .LVU401
 1542 01ea C3F34012 		ubfx	r2, r3, #5, #1
 512:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1543              		.loc 1 512 154 view .LVU402
 1544 01ee 41EA4221 		orr	r1, r1, r2, lsl #9
 1545              		.loc 1 513 59 view .LVU403
 1546 01f2 C3F30012 		ubfx	r2, r3, #4, #1
 1547              		.loc 1 513 46 view .LVU404
 1548 01f6 41EA0221 		orr	r1, r1, r2, lsl #8
 1549              		.loc 1 513 95 view .LVU405
 1550 01fa C3F3C002 		ubfx	r2, r3, #3, #1
 1551              		.loc 1 513 82 view .LVU406
 1552 01fe 41EAC211 		orr	r1, r1, r2, lsl #7
 1553              		.loc 1 513 136 view .LVU407
 1554 0202 03F00703 		and	r3, r3, #7
 1555              		.loc 1 513 122 view .LVU408
 1556 0206 41EA0311 		orr	r1, r1, r3, lsl #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 43


 514:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1557              		.loc 1 514 14 view .LVU409
 1558 020a 7379     		ldrb	r3, [r6, #5]	@ zero_extendqisi2
 513:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1559              		.loc 1 513 163 view .LVU410
 1560 020c 41EAC301 		orr	r1, r1, r3, lsl #3
 1561              		.loc 1 514 62 view .LVU411
 1562 0210 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 1563 0212 C3F34012 		ubfx	r2, r3, #5, #1
 1564              		.loc 1 514 49 view .LVU412
 1565 0216 41EA8201 		orr	r1, r1, r2, lsl #2
 1566              		.loc 1 514 110 view .LVU413
 1567 021a C3F30012 		ubfx	r2, r3, #4, #1
 1568              		.loc 1 514 97 view .LVU414
 1569 021e 41EA4201 		orr	r1, r1, r2, lsl #1
 515:Device/Src/drv_wave1006.c **** 		((config_arg->timer_freq_source_config >> 1) & 0x01);
 1570              		.loc 1 515 48 view .LVU415
 1571 0222 C3F3C003 		ubfx	r3, r3, #3, #1
 514:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1572              		.loc 1 514 136 view .LVU416
 1573 0226 1943     		orrs	r1, r1, r3
 512:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1574              		.loc 1 512 11 view .LVU417
 1575 0228 ADF80610 		strh	r1, [sp, #6]	@ movhi
 516:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1576              		.loc 1 516 2 is_stmt 1 view .LVU418
 1577              		.loc 1 516 15 is_stmt 0 view .LVU419
 1578 022c 0C44     		add	r4, r4, r1
 1579              	.LVL110:
 517:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(3, otp_temp);
 1580              		.loc 1 517 2 is_stmt 1 view .LVU420
 1581 022e 0320     		movs	r0, #3
 1582 0230 FFF7FEFF 		bl	wave1006_write_otp_single
 1583              	.LVL111:
 518:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr3:%hx\r\n", otp_temp);
 1584              		.loc 1 518 2 view .LVU421
 1585 0234 BDF80610 		ldrh	r1, [sp, #6]
 1586 0238 6348     		ldr	r0, .L89+28
 1587 023a FFF7FEFF 		bl	UsbPrintf
 1588              	.LVL112:
 519:Device/Src/drv_wave1006.c **** 	
 520:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->device_addr_config & 0x0f) << 10) | (config_arg->digtal_comp_sel_config <
 1589              		.loc 1 520 2 view .LVU422
 1590              		.loc 1 520 25 is_stmt 0 view .LVU423
 1591 023e 737A     		ldrb	r3, [r6, #9]	@ zero_extendqisi2
 1592 0240 5908     		lsrs	r1, r3, #1
 1593              		.loc 1 520 54 view .LVU424
 1594 0242 8902     		lsls	r1, r1, #10
 1595 0244 01F47051 		and	r1, r1, #15360
 1596              		.loc 1 520 74 view .LVU425
 1597 0248 03F00103 		and	r3, r3, #1
 1598              		.loc 1 520 61 view .LVU426
 1599 024c 41EA4321 		orr	r1, r1, r3, lsl #9
 1600              		.loc 1 520 105 view .LVU427
 1601 0250 41F48071 		orr	r1, r1, #256
 1602              		.loc 1 520 128 view .LVU428
 1603 0254 337A     		ldrb	r3, [r6, #8]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 44


 1604              		.loc 1 520 116 view .LVU429
 1605 0256 1943     		orrs	r1, r1, r3
 1606              		.loc 1 520 11 view .LVU430
 1607 0258 ADF80610 		strh	r1, [sp, #6]	@ movhi
 521:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1608              		.loc 1 521 2 is_stmt 1 view .LVU431
 1609              		.loc 1 521 15 is_stmt 0 view .LVU432
 1610 025c 0C44     		add	r4, r4, r1
 1611              	.LVL113:
 522:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(4, otp_temp);
 1612              		.loc 1 522 2 is_stmt 1 view .LVU433
 1613 025e 0420     		movs	r0, #4
 1614 0260 FFF7FEFF 		bl	wave1006_write_otp_single
 1615              	.LVL114:
 523:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr4:%hx\r\n", otp_temp);
 1616              		.loc 1 523 2 view .LVU434
 1617 0264 BDF80610 		ldrh	r1, [sp, #6]
 1618 0268 5848     		ldr	r0, .L89+32
 1619 026a FFF7FEFF 		bl	UsbPrintf
 1620              	.LVL115:
 524:Device/Src/drv_wave1006.c **** 
 525:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->rst_out_support_config << 13) | (config_arg->bat_val_ext_config << 12) | (
 1621              		.loc 1 525 2 view .LVU435
 1622              		.loc 1 525 24 is_stmt 0 view .LVU436
 1623 026e F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
 1624 0270 C3F38002 		ubfx	r2, r3, #2, #1
 1625              		.loc 1 525 69 view .LVU437
 1626 0274 C3F34001 		ubfx	r1, r3, #1, #1
 1627              		.loc 1 525 90 view .LVU438
 1628 0278 0903     		lsls	r1, r1, #12
 1629              		.loc 1 525 56 view .LVU439
 1630 027a 41EA4231 		orr	r1, r1, r2, lsl #13
 1631              		.loc 1 525 110 view .LVU440
 1632 027e 03F00103 		and	r3, r3, #1
 1633              		.loc 1 525 97 view .LVU441
 1634 0282 41EAC321 		orr	r1, r1, r3, lsl #11
 526:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1635              		.loc 1 526 14 view .LVU442
 1636 0286 B37A     		ldrb	r3, [r6, #10]	@ zero_extendqisi2
 1637 0288 DA09     		lsrs	r2, r3, #7
 525:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1638              		.loc 1 525 137 view .LVU443
 1639 028a 41EA8221 		orr	r1, r1, r2, lsl #10
 1640              		.loc 1 526 58 view .LVU444
 1641 028e C3F38012 		ubfx	r2, r3, #6, #1
 1642              		.loc 1 526 45 view .LVU445
 1643 0292 41EA4221 		orr	r1, r1, r2, lsl #9
 1644              		.loc 1 526 94 view .LVU446
 1645 0296 C3F34012 		ubfx	r2, r3, #5, #1
 1646              		.loc 1 526 81 view .LVU447
 1647 029a 41EA0221 		orr	r1, r1, r2, lsl #8
 527:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1648              		.loc 1 527 14 view .LVU448
 1649 029e C3F30012 		ubfx	r2, r3, #4, #1
 526:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1650              		.loc 1 526 125 view .LVU449
 1651 02a2 41EAC211 		orr	r1, r1, r2, lsl #7
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 45


 1652              		.loc 1 527 60 view .LVU450
 1653 02a6 C3F3C002 		ubfx	r2, r3, #3, #1
 1654              		.loc 1 527 47 view .LVU451
 1655 02aa 41EA8211 		orr	r1, r1, r2, lsl #6
 1656              		.loc 1 527 101 view .LVU452
 1657 02ae C3F38002 		ubfx	r2, r3, #2, #1
 1658              		.loc 1 527 88 view .LVU453
 1659 02b2 41EA4211 		orr	r1, r1, r2, lsl #5
 528:Device/Src/drv_wave1006.c **** 		(config_arg->timer_ext_config << 4) | (config_arg->alarm_ext_config << 3) | ((config_arg->device_
 1660              		.loc 1 528 14 view .LVU454
 1661 02b6 C3F34002 		ubfx	r2, r3, #1, #1
 527:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1662              		.loc 1 527 130 view .LVU455
 1663 02ba 41EA0211 		orr	r1, r1, r2, lsl #4
 1664              		.loc 1 528 52 view .LVU456
 1665 02be 03F00103 		and	r3, r3, #1
 1666              		.loc 1 528 39 view .LVU457
 1667 02c2 41EAC301 		orr	r1, r1, r3, lsl #3
 1668              		.loc 1 528 91 view .LVU458
 1669 02c6 737A     		ldrb	r3, [r6, #9]	@ zero_extendqisi2
 1670              		.loc 1 528 77 view .LVU459
 1671 02c8 41EA5311 		orr	r1, r1, r3, lsr #5
 525:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1672              		.loc 1 525 11 view .LVU460
 1673 02cc ADF80610 		strh	r1, [sp, #6]	@ movhi
 529:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1674              		.loc 1 529 2 is_stmt 1 view .LVU461
 1675              		.loc 1 529 15 is_stmt 0 view .LVU462
 1676 02d0 0C44     		add	r4, r4, r1
 1677              	.LVL116:
 530:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(5, otp_temp);
 1678              		.loc 1 530 2 is_stmt 1 view .LVU463
 1679 02d2 0520     		movs	r0, #5
 1680 02d4 FFF7FEFF 		bl	wave1006_write_otp_single
 1681              	.LVL117:
 531:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr5:%hx\r\n", otp_temp);
 1682              		.loc 1 531 2 view .LVU464
 1683 02d8 BDF80610 		ldrh	r1, [sp, #6]
 1684 02dc 3C48     		ldr	r0, .L89+36
 1685 02de FFF7FEFF 		bl	UsbPrintf
 1686              	.LVL118:
 532:Device/Src/drv_wave1006.c **** 
 533:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config & 0x03) << 12) | (config_arg->en_bat_pulldown_config <<
 1687              		.loc 1 533 2 view .LVU465
 1688              		.loc 1 533 25 is_stmt 0 view .LVU466
 1689 02e2 F189     		ldrh	r1, [r6, #14]
 1690 02e4 C1F30C01 		ubfx	r1, r1, #0, #13
 1691              		.loc 1 533 53 view .LVU467
 1692 02e8 0903     		lsls	r1, r1, #12
 1693 02ea 01F44051 		and	r1, r1, #12288
 1694              		.loc 1 533 73 view .LVU468
 1695 02ee 337B     		ldrb	r3, [r6, #12]	@ zero_extendqisi2
 1696 02f0 C3F38012 		ubfx	r2, r3, #6, #1
 1697              		.loc 1 533 60 view .LVU469
 1698 02f4 41EAC221 		orr	r1, r1, r2, lsl #11
 1699              		.loc 1 533 118 view .LVU470
 1700 02f8 C3F34012 		ubfx	r2, r3, #5, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 46


 1701              		.loc 1 533 105 view .LVU471
 1702 02fc 41EA8221 		orr	r1, r1, r2, lsl #10
 534:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1703              		.loc 1 534 14 view .LVU472
 1704 0300 C3F3C102 		ubfx	r2, r3, #3, #2
 533:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1705              		.loc 1 533 154 view .LVU473
 1706 0304 41EA0221 		orr	r1, r1, r2, lsl #8
 1707              		.loc 1 534 56 view .LVU474
 1708 0308 03F00703 		and	r3, r3, #7
 1709              		.loc 1 534 42 view .LVU475
 1710 030c 41EA4311 		orr	r1, r1, r3, lsl #5
 1711              		.loc 1 534 96 view .LVU476
 1712 0310 F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
 1713 0312 5A09     		lsrs	r2, r3, #5
 1714              		.loc 1 534 84 view .LVU477
 1715 0314 41EA8201 		orr	r1, r1, r2, lsl #2
 1716              		.loc 1 534 139 view .LVU478
 1717 0318 C3F30012 		ubfx	r2, r3, #4, #1
 1718              		.loc 1 534 125 view .LVU479
 1719 031c 41EA4201 		orr	r1, r1, r2, lsl #1
 535:Device/Src/drv_wave1006.c **** 		config_arg->temp_alarm_ext_config;
 1720              		.loc 1 535 13 view .LVU480
 1721 0320 C3F3C003 		ubfx	r3, r3, #3, #1
 534:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1722              		.loc 1 534 167 view .LVU481
 1723 0324 1943     		orrs	r1, r1, r3
 533:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1724              		.loc 1 533 11 view .LVU482
 1725 0326 ADF80610 		strh	r1, [sp, #6]	@ movhi
 536:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1726              		.loc 1 536 2 is_stmt 1 view .LVU483
 1727              		.loc 1 536 15 is_stmt 0 view .LVU484
 1728 032a 0C44     		add	r4, r4, r1
 1729              	.LVL119:
 537:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(6, otp_temp);
 1730              		.loc 1 537 2 is_stmt 1 view .LVU485
 1731 032c 0620     		movs	r0, #6
 1732 032e FFF7FEFF 		bl	wave1006_write_otp_single
 1733              	.LVL120:
 538:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr6:%hx\r\n", otp_temp);
 1734              		.loc 1 538 2 view .LVU486
 1735 0332 BDF80610 		ldrh	r1, [sp, #6]
 1736 0336 2748     		ldr	r0, .L89+40
 1737 0338 FFF7FEFF 		bl	UsbPrintf
 1738              	.LVL121:
 539:Device/Src/drv_wave1006.c **** 
 540:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config << 6) & 0x3f00 ) | id[0];
 1739              		.loc 1 540 2 view .LVU487
 1740              		.loc 1 540 25 is_stmt 0 view .LVU488
 1741 033c F189     		ldrh	r1, [r6, #14]
 1742 033e C1F30C01 		ubfx	r1, r1, #0, #13
 1743              		.loc 1 540 45 view .LVU489
 1744 0342 8901     		lsls	r1, r1, #6
 1745              		.loc 1 540 51 view .LVU490
 1746 0344 01F47C51 		and	r1, r1, #16128
 1747              		.loc 1 540 66 view .LVU491
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 47


 1748 0348 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 1749              		.loc 1 540 62 view .LVU492
 1750 034c 1943     		orrs	r1, r1, r3
 1751              		.loc 1 540 11 view .LVU493
 1752 034e ADF80610 		strh	r1, [sp, #6]	@ movhi
 541:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1753              		.loc 1 541 2 is_stmt 1 view .LVU494
 1754              		.loc 1 541 15 is_stmt 0 view .LVU495
 1755 0352 0C44     		add	r4, r4, r1
 1756              	.LVL122:
 542:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(7, otp_temp);
 1757              		.loc 1 542 2 is_stmt 1 view .LVU496
 1758 0354 0720     		movs	r0, #7
 1759 0356 FFF7FEFF 		bl	wave1006_write_otp_single
 1760              	.LVL123:
 543:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr7:%hx\r\n", otp_temp);
 1761              		.loc 1 543 2 view .LVU497
 1762 035a BDF80610 		ldrh	r1, [sp, #6]
 1763 035e 1E48     		ldr	r0, .L89+44
 1764 0360 FFF7FEFF 		bl	UsbPrintf
 1765              	.LVL124:
 544:Device/Src/drv_wave1006.c **** 
 545:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->spi_freq_en_config << 13) | (config_arg->osc_config_config & 0x1f00 ) | id
 1766              		.loc 1 545 2 view .LVU498
 1767              		.loc 1 545 24 is_stmt 0 view .LVU499
 1768 0364 F37B     		ldrb	r3, [r6, #15]	@ zero_extendqisi2
 1769 0366 C3F34013 		ubfx	r3, r3, #5, #1
 1770              		.loc 1 545 65 view .LVU500
 1771 036a F189     		ldrh	r1, [r6, #14]
 1772              		.loc 1 545 85 view .LVU501
 1773 036c 01F4F851 		and	r1, r1, #7936
 1774              		.loc 1 545 52 view .LVU502
 1775 0370 41EA4331 		orr	r1, r1, r3, lsl #13
 1776              		.loc 1 545 100 view .LVU503
 1777 0374 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1778              		.loc 1 545 96 view .LVU504
 1779 0378 1943     		orrs	r1, r1, r3
 1780              		.loc 1 545 11 view .LVU505
 1781 037a ADF80610 		strh	r1, [sp, #6]	@ movhi
 546:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1782              		.loc 1 546 2 is_stmt 1 view .LVU506
 1783              		.loc 1 546 15 is_stmt 0 view .LVU507
 1784 037e 0C44     		add	r4, r4, r1
 1785              	.LVL125:
 547:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(8, otp_temp);
 1786              		.loc 1 547 2 is_stmt 1 view .LVU508
 1787 0380 0820     		movs	r0, #8
 1788 0382 FFF7FEFF 		bl	wave1006_write_otp_single
 1789              	.LVL126:
 548:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr8:%hx\r\n", otp_temp);
 1790              		.loc 1 548 2 view .LVU509
 1791 0386 BDF80610 		ldrh	r1, [sp, #6]
 1792 038a 1448     		ldr	r0, .L89+48
 1793 038c FFF7FEFF 		bl	UsbPrintf
 1794              	.LVL127:
 549:Device/Src/drv_wave1006.c **** 
 550:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->freq_src_config & 0x03) << 12) | (config_arg->vol_sel_config << 8) | id[2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 48


 1795              		.loc 1 550 2 view .LVU510
 1796              		.loc 1 550 25 is_stmt 0 view .LVU511
 1797 0390 337C     		ldrb	r3, [r6, #16]	@ zero_extendqisi2
 1798 0392 C3F30211 		ubfx	r1, r3, #4, #3
 1799              		.loc 1 550 51 view .LVU512
 1800 0396 0903     		lsls	r1, r1, #12
 1801 0398 01F44051 		and	r1, r1, #12288
 1802              		.loc 1 550 71 view .LVU513
 1803 039c 03F00F03 		and	r3, r3, #15
 1804              		.loc 1 550 58 view .LVU514
 1805 03a0 41EA0321 		orr	r1, r1, r3, lsl #8
 1806              		.loc 1 550 98 view .LVU515
 1807 03a4 99F80230 		ldrb	r3, [r9, #2]	@ zero_extendqisi2
 1808 03a8 1AE0     		b	.L90
 1809              	.L91:
 1810 03aa 00BF     		.align	2
 1811              	.L89:
 1812 03ac 00000000 		.word	.LANCHOR0
 1813 03b0 00000000 		.word	.LC3
 1814 03b4 C4000000 		.word	.LC10
 1815 03b8 00100240 		.word	1073876992
 1816 03bc 10010000 		.word	.LC11
 1817 03c0 20010000 		.word	.LC12
 1818 03c4 30010000 		.word	.LC13
 1819 03c8 40010000 		.word	.LC14
 1820 03cc 50010000 		.word	.LC15
 1821 03d0 60010000 		.word	.LC16
 1822 03d4 70010000 		.word	.LC17
 1823 03d8 80010000 		.word	.LC18
 1824 03dc 90010000 		.word	.LC19
 1825              	.L90:
 1826              		.loc 1 550 94 view .LVU516
 1827 03e0 1943     		orrs	r1, r1, r3
 1828              		.loc 1 550 11 view .LVU517
 1829 03e2 ADF80610 		strh	r1, [sp, #6]	@ movhi
 551:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1830              		.loc 1 551 2 is_stmt 1 view .LVU518
 1831              		.loc 1 551 15 is_stmt 0 view .LVU519
 1832 03e6 0C44     		add	r4, r4, r1
 1833              	.LVL128:
 552:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(9, otp_temp);
 1834              		.loc 1 552 2 is_stmt 1 view .LVU520
 1835 03e8 0920     		movs	r0, #9
 1836 03ea FFF7FEFF 		bl	wave1006_write_otp_single
 1837              	.LVL129:
 553:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr9:%hx\r\n", otp_temp);
 1838              		.loc 1 553 2 view .LVU521
 1839 03ee BDF80610 		ldrh	r1, [sp, #6]
 1840 03f2 B648     		ldr	r0, .L92
 1841 03f4 FFF7FEFF 		bl	UsbPrintf
 1842              	.LVL130:
 554:Device/Src/drv_wave1006.c **** 	
 555:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->comp_period_config  << 12) | (config_arg->sout_open_drain_config << 11) | 
 1843              		.loc 1 555 2 view .LVU522
 1844              		.loc 1 555 24 is_stmt 0 view .LVU523
 1845 03f8 737C     		ldrb	r3, [r6, #17]	@ zero_extendqisi2
 1846 03fa C3F38102 		ubfx	r2, r3, #2, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 49


 1847              		.loc 1 555 66 view .LVU524
 1848 03fe C3F34001 		ubfx	r1, r3, #1, #1
 1849              		.loc 1 555 91 view .LVU525
 1850 0402 C902     		lsls	r1, r1, #11
 1851              		.loc 1 555 53 view .LVU526
 1852 0404 41EA0231 		orr	r1, r1, r2, lsl #12
 1853              		.loc 1 555 111 view .LVU527
 1854 0408 03F00103 		and	r3, r3, #1
 1855              		.loc 1 555 98 view .LVU528
 1856 040c 41EA8321 		orr	r1, r1, r3, lsl #10
 556:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1857              		.loc 1 556 14 view .LVU529
 1858 0410 337C     		ldrb	r3, [r6, #16]	@ zero_extendqisi2
 1859 0412 DA09     		lsrs	r2, r3, #7
 555:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1860              		.loc 1 555 143 view .LVU530
 1861 0414 41EA4221 		orr	r1, r1, r2, lsl #9
 1862              		.loc 1 556 55 view .LVU531
 1863 0418 C3F30213 		ubfx	r3, r3, #4, #3
 1864              		.loc 1 556 81 view .LVU532
 1865 041c 9B01     		lsls	r3, r3, #6
 1866 041e 03F48073 		and	r3, r3, #256
 1867              		.loc 1 556 41 view .LVU533
 1868 0422 1943     		orrs	r1, r1, r3
 1869              		.loc 1 556 91 view .LVU534
 1870 0424 99F80330 		ldrb	r3, [r9, #3]	@ zero_extendqisi2
 1871              		.loc 1 556 87 view .LVU535
 1872 0428 1943     		orrs	r1, r1, r3
 555:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1873              		.loc 1 555 11 view .LVU536
 1874 042a ADF80610 		strh	r1, [sp, #6]	@ movhi
 557:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1875              		.loc 1 557 2 is_stmt 1 view .LVU537
 1876              		.loc 1 557 15 is_stmt 0 view .LVU538
 1877 042e 0C44     		add	r4, r4, r1
 1878              	.LVL131:
 558:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(10, otp_temp);
 1879              		.loc 1 558 2 is_stmt 1 view .LVU539
 1880 0430 0A20     		movs	r0, #10
 1881 0432 FFF7FEFF 		bl	wave1006_write_otp_single
 1882              	.LVL132:
 559:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addra:%hx\r\n", otp_temp);
 1883              		.loc 1 559 2 view .LVU540
 1884 0436 BDF80610 		ldrh	r1, [sp, #6]
 1885 043a A548     		ldr	r0, .L92+4
 1886 043c FFF7FEFF 		bl	UsbPrintf
 1887              	.LVL133:
 560:Device/Src/drv_wave1006.c **** 
 561:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->adjust_25_config & 0x0f) << 10) | (config_arg->rst_time_config << 8) | id
 1888              		.loc 1 561 2 view .LVU541
 1889              		.loc 1 561 25 is_stmt 0 view .LVU542
 1890 0440 B17C     		ldrb	r1, [r6, #18]	@ zero_extendqisi2
 1891 0442 01F07F01 		and	r1, r1, #127
 1892              		.loc 1 561 52 view .LVU543
 1893 0446 8902     		lsls	r1, r1, #10
 1894 0448 01F47051 		and	r1, r1, #15360
 1895              		.loc 1 561 72 view .LVU544
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 50


 1896 044c 737C     		ldrb	r3, [r6, #17]	@ zero_extendqisi2
 1897 044e C3F30113 		ubfx	r3, r3, #4, #2
 1898              		.loc 1 561 59 view .LVU545
 1899 0452 41EA0321 		orr	r1, r1, r3, lsl #8
 1900              		.loc 1 561 100 view .LVU546
 1901 0456 99F80430 		ldrb	r3, [r9, #4]	@ zero_extendqisi2
 1902              		.loc 1 561 96 view .LVU547
 1903 045a 1943     		orrs	r1, r1, r3
 1904              		.loc 1 561 11 view .LVU548
 1905 045c ADF80610 		strh	r1, [sp, #6]	@ movhi
 562:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1906              		.loc 1 562 2 is_stmt 1 view .LVU549
 1907              		.loc 1 562 15 is_stmt 0 view .LVU550
 1908 0460 0C44     		add	r4, r4, r1
 1909              	.LVL134:
 563:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(11, otp_temp);
 1910              		.loc 1 563 2 is_stmt 1 view .LVU551
 1911 0462 0B20     		movs	r0, #11
 1912 0464 FFF7FEFF 		bl	wave1006_write_otp_single
 1913              	.LVL135:
 564:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrb:%hx\r\n", otp_temp);
 1914              		.loc 1 564 2 view .LVU552
 1915 0468 BDF80610 		ldrh	r1, [sp, #6]
 1916 046c 9948     		ldr	r0, .L92+8
 1917 046e FFF7FEFF 		bl	UsbPrintf
 1918              	.LVL136:
 565:Device/Src/drv_wave1006.c **** 
 566:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->bus_select_config << 13) | (1 << 12) | (config_arg->spi_mode_config << 11)
 1919              		.loc 1 566 2 view .LVU553
 1920              		.loc 1 566 24 is_stmt 0 view .LVU554
 1921 0472 F17C     		ldrb	r1, [r6, #19]	@ zero_extendqisi2
 1922 0474 01F00101 		and	r1, r1, #1
 1923              		.loc 1 566 44 view .LVU555
 1924 0478 4903     		lsls	r1, r1, #13
 1925              		.loc 1 566 51 view .LVU556
 1926 047a 41F48051 		orr	r1, r1, #4096
 1927              		.loc 1 566 76 view .LVU557
 1928 047e B37C     		ldrb	r3, [r6, #18]	@ zero_extendqisi2
 1929 0480 DA09     		lsrs	r2, r3, #7
 1930              		.loc 1 566 63 view .LVU558
 1931 0482 41EAC221 		orr	r1, r1, r2, lsl #11
 1932              		.loc 1 566 115 view .LVU559
 1933 0486 03F07F03 		and	r3, r3, #127
 1934              		.loc 1 566 134 view .LVU560
 1935 048a 1B01     		lsls	r3, r3, #4
 1936              		.loc 1 566 140 view .LVU561
 1937 048c 03F4E063 		and	r3, r3, #1792
 1938              		.loc 1 566 101 view .LVU562
 1939 0490 1943     		orrs	r1, r1, r3
 1940              		.loc 1 566 153 view .LVU563
 1941 0492 99F80530 		ldrb	r3, [r9, #5]	@ zero_extendqisi2
 1942              		.loc 1 566 149 view .LVU564
 1943 0496 1943     		orrs	r1, r1, r3
 1944              		.loc 1 566 11 view .LVU565
 1945 0498 ADF80610 		strh	r1, [sp, #6]	@ movhi
 567:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1946              		.loc 1 567 2 is_stmt 1 view .LVU566
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 51


 1947              		.loc 1 567 15 is_stmt 0 view .LVU567
 1948 049c 0C44     		add	r4, r4, r1
 1949              	.LVL137:
 568:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(12, otp_temp);
 1950              		.loc 1 568 2 is_stmt 1 view .LVU568
 1951 049e 0C20     		movs	r0, #12
 1952 04a0 FFF7FEFF 		bl	wave1006_write_otp_single
 1953              	.LVL138:
 569:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrc:%hx\r\n", otp_temp);
 1954              		.loc 1 569 2 view .LVU569
 1955 04a4 BDF80610 		ldrh	r1, [sp, #6]
 1956 04a8 8B48     		ldr	r0, .L92+12
 1957 04aa FFF7FEFF 		bl	UsbPrintf
 1958              	.LVL139:
 570:Device/Src/drv_wave1006.c **** 
 571:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 9) & 0x3e00) | (config_arg->en_charge_config << 8) | 
 1959              		.loc 1 571 2 view .LVU570
 1960              		.loc 1 571 25 is_stmt 0 view .LVU571
 1961 04ae B18A     		ldrh	r1, [r6, #20]
 1962 04b0 C1F30C01 		ubfx	r1, r1, #0, #13
 1963              		.loc 1 571 44 view .LVU572
 1964 04b4 4902     		lsls	r1, r1, #9
 1965              		.loc 1 571 50 view .LVU573
 1966 04b6 01F47851 		and	r1, r1, #15872
 1967              		.loc 1 571 73 view .LVU574
 1968 04ba F37C     		ldrb	r3, [r6, #19]	@ zero_extendqisi2
 1969 04bc C3F34003 		ubfx	r3, r3, #1, #1
 1970              		.loc 1 571 60 view .LVU575
 1971 04c0 41EA0321 		orr	r1, r1, r3, lsl #8
 1972              		.loc 1 571 102 view .LVU576
 1973 04c4 99F80630 		ldrb	r3, [r9, #6]	@ zero_extendqisi2
 1974              		.loc 1 571 98 view .LVU577
 1975 04c8 1943     		orrs	r1, r1, r3
 1976              		.loc 1 571 11 view .LVU578
 1977 04ca ADF80610 		strh	r1, [sp, #6]	@ movhi
 572:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1978              		.loc 1 572 2 is_stmt 1 view .LVU579
 1979              		.loc 1 572 15 is_stmt 0 view .LVU580
 1980 04ce 0C44     		add	r4, r4, r1
 1981              	.LVL140:
 573:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(13, otp_temp);
 1982              		.loc 1 573 2 is_stmt 1 view .LVU581
 1983 04d0 0D20     		movs	r0, #13
 1984 04d2 FFF7FEFF 		bl	wave1006_write_otp_single
 1985              	.LVL141:
 574:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrd:%hx\r\n", otp_temp);
 1986              		.loc 1 574 2 view .LVU582
 1987 04d6 BDF80610 		ldrh	r1, [sp, #6]
 1988 04da 8048     		ldr	r0, .L92+16
 1989 04dc FFF7FEFF 		bl	UsbPrintf
 1990              	.LVL142:
 575:Device/Src/drv_wave1006.c **** 
 576:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 3) & 0x3f00) | id[7];
 1991              		.loc 1 576 2 view .LVU583
 1992              		.loc 1 576 25 is_stmt 0 view .LVU584
 1993 04e0 B18A     		ldrh	r1, [r6, #20]
 1994 04e2 C1F30C01 		ubfx	r1, r1, #0, #13
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 52


 1995              		.loc 1 576 44 view .LVU585
 1996 04e6 C900     		lsls	r1, r1, #3
 1997              		.loc 1 576 50 view .LVU586
 1998 04e8 01F47C51 		and	r1, r1, #16128
 1999              		.loc 1 576 64 view .LVU587
 2000 04ec 99F80730 		ldrb	r3, [r9, #7]	@ zero_extendqisi2
 2001              		.loc 1 576 60 view .LVU588
 2002 04f0 1943     		orrs	r1, r1, r3
 2003              		.loc 1 576 11 view .LVU589
 2004 04f2 ADF80610 		strh	r1, [sp, #6]	@ movhi
 577:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 2005              		.loc 1 577 2 is_stmt 1 view .LVU590
 2006              		.loc 1 577 15 is_stmt 0 view .LVU591
 2007 04f6 0C44     		add	r4, r4, r1
 2008              	.LVL143:
 578:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(14, otp_temp);
 2009              		.loc 1 578 2 is_stmt 1 view .LVU592
 2010 04f8 0E20     		movs	r0, #14
 2011 04fa FFF7FEFF 		bl	wave1006_write_otp_single
 2012              	.LVL144:
 579:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addre:%hx\r\n", otp_temp);
 2013              		.loc 1 579 2 view .LVU593
 2014 04fe BDF80610 		ldrh	r1, [sp, #6]
 2015 0502 7748     		ldr	r0, .L92+20
 2016 0504 FFF7FEFF 		bl	UsbPrintf
 2017              	.LVL145:
 580:Device/Src/drv_wave1006.c **** 
 581:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->timer_rst_out_config << 13)  | (config_arg->charge_vol_adj_config << 10) |
 2018              		.loc 1 581 2 view .LVU594
 2019              		.loc 1 581 24 is_stmt 0 view .LVU595
 2020 0508 B37D     		ldrb	r3, [r6, #22]	@ zero_extendqisi2
 2021 050a 03F00103 		and	r3, r3, #1
 2022              		.loc 1 581 68 view .LVU596
 2023 050e 717D     		ldrb	r1, [r6, #21]	@ zero_extendqisi2
 2024 0510 4909     		lsrs	r1, r1, #5
 2025              		.loc 1 581 92 view .LVU597
 2026 0512 8902     		lsls	r1, r1, #10
 2027              		.loc 1 581 55 view .LVU598
 2028 0514 41EA4331 		orr	r1, r1, r3, lsl #13
 2029              		.loc 1 581 113 view .LVU599
 2030 0518 B38A     		ldrh	r3, [r6, #20]
 2031              		.loc 1 581 132 view .LVU600
 2032 051a C3F3C903 		ubfx	r3, r3, #3, #10
 2033              		.loc 1 581 138 view .LVU601
 2034 051e 03F44073 		and	r3, r3, #768
 2035              		.loc 1 581 99 view .LVU602
 2036 0522 1943     		orrs	r1, r1, r3
 2037              		.loc 1 581 151 view .LVU603
 2038 0524 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2039              		.loc 1 581 147 view .LVU604
 2040 0528 1943     		orrs	r1, r1, r3
 2041              		.loc 1 581 11 view .LVU605
 2042 052a ADF80610 		strh	r1, [sp, #6]	@ movhi
 582:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 2043              		.loc 1 582 2 is_stmt 1 view .LVU606
 2044              		.loc 1 582 15 is_stmt 0 view .LVU607
 2045 052e 0E19     		adds	r6, r1, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 53


 2046              	.LVL146:
 583:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(15, otp_temp);
 2047              		.loc 1 583 2 is_stmt 1 view .LVU608
 2048 0530 0F20     		movs	r0, #15
 2049 0532 FFF7FEFF 		bl	wave1006_write_otp_single
 2050              	.LVL147:
 584:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrf:%hx\r\n", otp_temp);
 2051              		.loc 1 584 2 view .LVU609
 2052 0536 BDF80610 		ldrh	r1, [sp, #6]
 2053 053a 6A48     		ldr	r0, .L92+24
 2054 053c FFF7FEFF 		bl	UsbPrintf
 2055              	.LVL148:
 585:Device/Src/drv_wave1006.c **** 
 586:Device/Src/drv_wave1006.c **** 	for (i = 16; i < 47; i++)
 2056              		.loc 1 586 2 view .LVU610
 2057              		.loc 1 586 9 is_stmt 0 view .LVU611
 2058 0540 1024     		movs	r4, #16
 2059              		.loc 1 586 2 view .LVU612
 2060 0542 31E0     		b	.L74
 2061              	.LVL149:
 2062              	.L82:
 442:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2063              		.loc 1 442 3 is_stmt 1 view .LVU613
 2064 0544 6848     		ldr	r0, .L92+28
 2065 0546 FFF7FEFF 		bl	UsbPrintf
 2066              	.LVL150:
 443:Device/Src/drv_wave1006.c **** 	}  
 2067              		.loc 1 443 3 view .LVU614
 443:Device/Src/drv_wave1006.c **** 	}  
 2068              		.loc 1 443 10 is_stmt 0 view .LVU615
 2069 054a 6FF00208 		mvn	r8, #2
 2070 054e B0E0     		b	.L68
 2071              	.L83:
 448:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2072              		.loc 1 448 3 is_stmt 1 view .LVU616
 2073 0550 6648     		ldr	r0, .L92+32
 2074 0552 FFF7FEFF 		bl	UsbPrintf
 2075              	.LVL151:
 449:Device/Src/drv_wave1006.c **** 	}
 2076              		.loc 1 449 3 view .LVU617
 449:Device/Src/drv_wave1006.c **** 	}
 2077              		.loc 1 449 10 is_stmt 0 view .LVU618
 2078 0556 6FF00208 		mvn	r8, #2
 2079 055a AAE0     		b	.L68
 2080              	.L84:
 455:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2081              		.loc 1 455 3 is_stmt 1 view .LVU619
 2082 055c 6448     		ldr	r0, .L92+36
 2083 055e FFF7FEFF 		bl	UsbPrintf
 2084              	.LVL152:
 456:Device/Src/drv_wave1006.c **** 	}
 2085              		.loc 1 456 3 view .LVU620
 456:Device/Src/drv_wave1006.c **** 	}
 2086              		.loc 1 456 10 is_stmt 0 view .LVU621
 2087 0562 6FF00208 		mvn	r8, #2
 2088 0566 A4E0     		b	.L68
 2089              	.L85:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 54


 461:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2090              		.loc 1 461 3 is_stmt 1 view .LVU622
 2091 0568 6248     		ldr	r0, .L92+40
 2092 056a FFF7FEFF 		bl	UsbPrintf
 2093              	.LVL153:
 462:Device/Src/drv_wave1006.c **** 	}
 2094              		.loc 1 462 3 view .LVU623
 462:Device/Src/drv_wave1006.c **** 	}
 2095              		.loc 1 462 10 is_stmt 0 view .LVU624
 2096 056e 6FF00208 		mvn	r8, #2
 2097 0572 9EE0     		b	.L68
 2098              	.L86:
 467:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2099              		.loc 1 467 3 is_stmt 1 view .LVU625
 2100 0574 6048     		ldr	r0, .L92+44
 2101 0576 FFF7FEFF 		bl	UsbPrintf
 2102              	.LVL154:
 468:Device/Src/drv_wave1006.c **** 	}
 2103              		.loc 1 468 3 view .LVU626
 468:Device/Src/drv_wave1006.c **** 	}
 2104              		.loc 1 468 10 is_stmt 0 view .LVU627
 2105 057a 6FF00208 		mvn	r8, #2
 2106 057e 98E0     		b	.L68
 2107              	.L87:
 478:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2108              		.loc 1 478 3 is_stmt 1 view .LVU628
 2109 0580 5E48     		ldr	r0, .L92+48
 2110 0582 FFF7FEFF 		bl	UsbPrintf
 2111              	.LVL155:
 479:Device/Src/drv_wave1006.c **** 	}
 2112              		.loc 1 479 3 view .LVU629
 479:Device/Src/drv_wave1006.c **** 	}
 2113              		.loc 1 479 10 is_stmt 0 view .LVU630
 2114 0586 6FF00208 		mvn	r8, #2
 2115 058a 92E0     		b	.L68
 2116              	.LVL156:
 2117              	.L75:
 587:Device/Src/drv_wave1006.c **** 	{
 588:Device/Src/drv_wave1006.c **** 		otp_temp = 0x3f00 | id[9+i-16];
 2118              		.loc 1 588 3 is_stmt 1 discriminator 3 view .LVU631
 2119              		.loc 1 588 25 is_stmt 0 discriminator 3 view .LVU632
 2120 058c 09EB0403 		add	r3, r9, r4
 2121 0590 13F8071C 		ldrb	r1, [r3, #-7]	@ zero_extendqisi2
 2122              		.loc 1 588 21 discriminator 3 view .LVU633
 2123 0594 41F47C51 		orr	r1, r1, #16128
 2124              		.loc 1 588 12 discriminator 3 view .LVU634
 2125 0598 ADF80610 		strh	r1, [sp, #6]	@ movhi
 589:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2126              		.loc 1 589 3 is_stmt 1 discriminator 3 view .LVU635
 2127              		.loc 1 589 16 is_stmt 0 discriminator 3 view .LVU636
 2128 059c 0E44     		add	r6, r6, r1
 2129              	.LVL157:
 590:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2130              		.loc 1 590 3 is_stmt 1 discriminator 3 view .LVU637
 2131 059e 2046     		mov	r0, r4
 2132 05a0 FFF7FEFF 		bl	wave1006_write_otp_single
 2133              	.LVL158:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 55


 586:Device/Src/drv_wave1006.c **** 	{
 2134              		.loc 1 586 23 discriminator 3 view .LVU638
 586:Device/Src/drv_wave1006.c **** 	{
 2135              		.loc 1 586 24 is_stmt 0 discriminator 3 view .LVU639
 2136 05a4 0134     		adds	r4, r4, #1
 2137              	.LVL159:
 586:Device/Src/drv_wave1006.c **** 	{
 2138              		.loc 1 586 24 discriminator 3 view .LVU640
 2139 05a6 A4B2     		uxth	r4, r4
 2140              	.LVL160:
 2141              	.L74:
 586:Device/Src/drv_wave1006.c **** 	{
 2142              		.loc 1 586 15 is_stmt 1 discriminator 1 view .LVU641
 586:Device/Src/drv_wave1006.c **** 	{
 2143              		.loc 1 586 2 is_stmt 0 discriminator 1 view .LVU642
 2144 05a8 2E2C     		cmp	r4, #46
 2145 05aa EFD9     		bls	.L75
 591:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
 592:Device/Src/drv_wave1006.c **** 	}
 593:Device/Src/drv_wave1006.c **** 	check_sum_wr += 0x3fff;
 2146              		.loc 1 593 2 is_stmt 1 view .LVU643
 2147              		.loc 1 593 15 is_stmt 0 view .LVU644
 2148 05ac 06F57F56 		add	r6, r6, #16320
 2149              	.LVL161:
 2150              		.loc 1 593 15 view .LVU645
 2151 05b0 3F36     		adds	r6, r6, #63
 2152              	.LVL162:
 594:Device/Src/drv_wave1006.c **** //	write temp value
 595:Device/Src/drv_wave1006.c **** 	for (i = 48; i < 210 * 4 + 48 ; i=i+2)
 2153              		.loc 1 595 2 is_stmt 1 view .LVU646
 2154              		.loc 1 595 9 is_stmt 0 view .LVU647
 2155 05b2 3024     		movs	r4, #48
 2156              		.loc 1 595 2 view .LVU648
 2157 05b4 26E0     		b	.L76
 2158              	.LVL163:
 2159              	.L77:
 596:Device/Src/drv_wave1006.c **** 	{
 597:Device/Src/drv_wave1006.c **** 		otp_temp = ((temp_arg->temp_adj & 0x07) << 11) | (temp_arg->cap_com << 6) | (temp_arg->cap_in << 
 2160              		.loc 1 597 3 is_stmt 1 discriminator 3 view .LVU649
 2161              		.loc 1 597 24 is_stmt 0 discriminator 3 view .LVU650
 2162 05b6 A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2163              		.loc 1 597 43 discriminator 3 view .LVU651
 2164 05b8 C902     		lsls	r1, r1, #11
 2165 05ba 01F46051 		and	r1, r1, #14336
 2166              		.loc 1 597 61 discriminator 3 view .LVU652
 2167 05be 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 2168 05c0 03F01F02 		and	r2, r3, #31
 2169              		.loc 1 597 50 discriminator 3 view .LVU653
 2170 05c4 41EA8211 		orr	r1, r1, r2, lsl #6
 2171              		.loc 1 597 88 discriminator 3 view .LVU654
 2172 05c8 5B09     		lsrs	r3, r3, #5
 2173              		.loc 1 597 77 discriminator 3 view .LVU655
 2174 05ca 41EAC301 		orr	r1, r1, r3, lsl #3
 2175              		.loc 1 597 113 discriminator 3 view .LVU656
 2176 05ce 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2177 05d0 03F00703 		and	r3, r3, #7
 2178              		.loc 1 597 103 discriminator 3 view .LVU657
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 56


 2179 05d4 1943     		orrs	r1, r1, r3
 2180              		.loc 1 597 12 discriminator 3 view .LVU658
 2181 05d6 ADF80610 		strh	r1, [sp, #6]	@ movhi
 598:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2182              		.loc 1 598 3 is_stmt 1 discriminator 3 view .LVU659
 2183              		.loc 1 598 16 is_stmt 0 discriminator 3 view .LVU660
 2184 05da 0E44     		add	r6, r6, r1
 2185              	.LVL164:
 599:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2186              		.loc 1 599 3 is_stmt 1 discriminator 3 view .LVU661
 2187 05dc 2046     		mov	r0, r4
 2188 05de FFF7FEFF 		bl	wave1006_write_otp_single
 2189              	.LVL165:
 600:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
 601:Device/Src/drv_wave1006.c **** 
 602:Device/Src/drv_wave1006.c **** 		otp_temp = (temp_arg->temp_val << 5) | (temp_arg->temp_adj >> 3);
 2190              		.loc 1 602 3 discriminator 3 view .LVU662
 2191              		.loc 1 602 23 is_stmt 0 discriminator 3 view .LVU663
 2192 05e2 A988     		ldrh	r1, [r5, #4]
 2193 05e4 C1F30803 		ubfx	r3, r1, #0, #9
 2194              		.loc 1 602 51 discriminator 3 view .LVU664
 2195 05e8 A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2196              		.loc 1 602 40 discriminator 3 view .LVU665
 2197 05ea C908     		lsrs	r1, r1, #3
 2198 05ec 41EA4311 		orr	r1, r1, r3, lsl #5
 2199              		.loc 1 602 12 discriminator 3 view .LVU666
 2200 05f0 ADF80610 		strh	r1, [sp, #6]	@ movhi
 603:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2201              		.loc 1 603 3 is_stmt 1 discriminator 3 view .LVU667
 2202              		.loc 1 603 16 is_stmt 0 discriminator 3 view .LVU668
 2203 05f4 0E44     		add	r6, r6, r1
 2204              	.LVL166:
 604:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i + 1, otp_temp);
 2205              		.loc 1 604 3 is_stmt 1 discriminator 3 view .LVU669
 2206 05f6 601C     		adds	r0, r4, #1
 2207 05f8 80B2     		uxth	r0, r0
 2208 05fa FFF7FEFF 		bl	wave1006_write_otp_single
 2209              	.LVL167:
 605:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i + 1, otp_temp);
 606:Device/Src/drv_wave1006.c **** 		temp_arg++;    //温补数据指向下一个字节
 2210              		.loc 1 606 3 discriminator 3 view .LVU670
 2211              		.loc 1 606 11 is_stmt 0 discriminator 3 view .LVU671
 2212 05fe 0635     		adds	r5, r5, #6
 2213              	.LVL168:
 595:Device/Src/drv_wave1006.c **** 	{
 2214              		.loc 1 595 34 is_stmt 1 discriminator 3 view .LVU672
 595:Device/Src/drv_wave1006.c **** 	{
 2215              		.loc 1 595 35 is_stmt 0 discriminator 3 view .LVU673
 2216 0600 0234     		adds	r4, r4, #2
 2217              	.LVL169:
 595:Device/Src/drv_wave1006.c **** 	{
 2218              		.loc 1 595 35 discriminator 3 view .LVU674
 2219 0602 A4B2     		uxth	r4, r4
 2220              	.LVL170:
 2221              	.L76:
 595:Device/Src/drv_wave1006.c **** 	{
 2222              		.loc 1 595 15 is_stmt 1 discriminator 1 view .LVU675
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 57


 595:Device/Src/drv_wave1006.c **** 	{
 2223              		.loc 1 595 2 is_stmt 0 discriminator 1 view .LVU676
 2224 0604 B4F55E7F 		cmp	r4, #888
 2225 0608 D5D3     		bcc	.L77
 607:Device/Src/drv_wave1006.c **** 	}
 608:Device/Src/drv_wave1006.c **** 	wr_pos = i;
 2226              		.loc 1 608 2 is_stmt 1 view .LVU677
 2227              	.LVL171:
 609:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ OTP ********************************/\r\n");
 2228              		.loc 1 609 2 view .LVU678
 2229 060a 3D48     		ldr	r0, .L92+52
 2230 060c FFF7FEFF 		bl	UsbPrintf
 2231              	.LVL172:
 610:Device/Src/drv_wave1006.c **** //	write otp is complete, switch i2c prot, io6 =5V
 611:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  
 2232              		.loc 1 611 2 view .LVU679
 2233 0610 B1EE040A 		vmov.f32	s0, #5.0e+0
 2234 0614 FFF7FEFF 		bl	rtc_otp_power
 2235              	.LVL173:
 612:Device/Src/drv_wave1006.c **** //  pprog = 0 
 613:Device/Src/drv_wave1006.c ****     buf[0] = 0x82;
 2236              		.loc 1 613 5 view .LVU680
 2237              		.loc 1 613 12 is_stmt 0 view .LVU681
 2238 0618 8223     		movs	r3, #130
 2239 061a 8DF80830 		strb	r3, [sp, #8]
 614:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2240              		.loc 1 614 2 is_stmt 1 view .LVU682
 2241 061e 02AB     		add	r3, sp, #8
 2242 0620 0122     		movs	r2, #1
 2243 0622 2D21     		movs	r1, #45
 2244 0624 0020     		movs	r0, #0
 2245 0626 FFF7FEFF 		bl	drv_wave1006_write_reg
 2246              	.LVL174:
 615:Device/Src/drv_wave1006.c **** //    ptm=000
 616:Device/Src/drv_wave1006.c ****     buf[0] = 0x80;
 2247              		.loc 1 616 5 view .LVU683
 2248              		.loc 1 616 12 is_stmt 0 view .LVU684
 2249 062a 8023     		movs	r3, #128
 2250 062c 8DF80830 		strb	r3, [sp, #8]
 617:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2251              		.loc 1 617 2 is_stmt 1 view .LVU685
 2252 0630 02AB     		add	r3, sp, #8
 2253 0632 0122     		movs	r2, #1
 2254 0634 2D21     		movs	r1, #45
 2255 0636 0020     		movs	r0, #0
 2256 0638 FFF7FEFF 		bl	drv_wave1006_write_reg
 2257              	.LVL175:
 618:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 619:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2258              		.loc 1 619 5 view .LVU686
 2259              		.loc 1 619 12 is_stmt 0 view .LVU687
 2260 063c 0025     		movs	r5, #0
 2261              	.LVL176:
 2262              		.loc 1 619 12 view .LVU688
 2263 063e 8DF80850 		strb	r5, [sp, #8]
 620:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2264              		.loc 1 620 5 is_stmt 1 view .LVU689
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 58


 2265              		.loc 1 620 12 is_stmt 0 view .LVU690
 2266 0642 8DF80950 		strb	r5, [sp, #9]
 621:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2267              		.loc 1 621 5 is_stmt 1 view .LVU691
 2268              		.loc 1 621 12 is_stmt 0 view .LVU692
 2269 0646 8DF80A50 		strb	r5, [sp, #10]
 622:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2270              		.loc 1 622 5 is_stmt 1 view .LVU693
 2271              		.loc 1 622 12 is_stmt 0 view .LVU694
 2272 064a 8DF80B50 		strb	r5, [sp, #11]
 623:Device/Src/drv_wave1006.c ****     drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2273              		.loc 1 623 5 is_stmt 1 view .LVU695
 2274 064e 02AB     		add	r3, sp, #8
 2275 0650 0422     		movs	r2, #4
 2276 0652 2D21     		movs	r1, #45
 2277 0654 2846     		mov	r0, r5
 2278 0656 FFF7FEFF 		bl	drv_wave1006_write_reg
 2279              	.LVL177:
 624:Device/Src/drv_wave1006.c **** 	UsbPrintf("wr_pos = %hx\r\n",wr_pos);
 2280              		.loc 1 624 2 view .LVU696
 2281 065a 2146     		mov	r1, r4
 2282 065c 2948     		ldr	r0, .L92+56
 2283 065e FFF7FEFF 		bl	UsbPrintf
 2284              	.LVL178:
 625:Device/Src/drv_wave1006.c **** //	check write value
 626:Device/Src/drv_wave1006.c **** 	for (i = 0; i < wr_pos; i++)
 2285              		.loc 1 626 2 view .LVU697
 432:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 2286              		.loc 1 432 11 is_stmt 0 view .LVU698
 2287 0662 A946     		mov	r9, r5
 2288              	.LVL179:
 2289              		.loc 1 626 2 view .LVU699
 2290 0664 09E0     		b	.L78
 2291              	.LVL180:
 2292              	.L79:
 627:Device/Src/drv_wave1006.c **** 	{
 628:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 2293              		.loc 1 628 3 is_stmt 1 discriminator 3 view .LVU700
 2294 0666 0DF10601 		add	r1, sp, #6
 2295 066a 2846     		mov	r0, r5
 2296 066c FFF7FEFF 		bl	wave1006_read_otp_single
 2297              	.LVL181:
 629:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 2298              		.loc 1 629 3 discriminator 3 view .LVU701
 2299              		.loc 1 629 16 is_stmt 0 discriminator 3 view .LVU702
 2300 0670 BDF80630 		ldrh	r3, [sp, #6]
 2301 0674 9944     		add	r9, r9, r3
 2302              	.LVL182:
 626:Device/Src/drv_wave1006.c **** 	{
 2303              		.loc 1 626 26 is_stmt 1 discriminator 3 view .LVU703
 626:Device/Src/drv_wave1006.c **** 	{
 2304              		.loc 1 626 27 is_stmt 0 discriminator 3 view .LVU704
 2305 0676 0135     		adds	r5, r5, #1
 2306              	.LVL183:
 626:Device/Src/drv_wave1006.c **** 	{
 2307              		.loc 1 626 27 discriminator 3 view .LVU705
 2308 0678 ADB2     		uxth	r5, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 59


 2309              	.LVL184:
 2310              	.L78:
 626:Device/Src/drv_wave1006.c **** 	{
 2311              		.loc 1 626 14 is_stmt 1 discriminator 1 view .LVU706
 626:Device/Src/drv_wave1006.c **** 	{
 2312              		.loc 1 626 2 is_stmt 0 discriminator 1 view .LVU707
 2313 067a AC42     		cmp	r4, r5
 2314 067c F3D8     		bhi	.L79
 630:Device/Src/drv_wave1006.c **** 		// UsbPrintf("read otp addr%hx:%hx\r\n",i, otp_temp);
 631:Device/Src/drv_wave1006.c **** 	}
 632:Device/Src/drv_wave1006.c **** 	
 633:Device/Src/drv_wave1006.c ****  	rtc_otp_power(3.3);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数,否则只是烧写好，
 2315              		.loc 1 633 3 is_stmt 1 view .LVU708
 2316 067e 9FED220A 		vldr.32	s0, .L92+60
 2317 0682 FFF7FEFF 		bl	rtc_otp_power
 2318              	.LVL185:
 634:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 2319              		.loc 1 634 2 view .LVU709
 2320 0686 6420     		movs	r0, #100
 2321 0688 FFF7FEFF 		bl	HAL_Delay
 2322              	.LVL186:
 635:Device/Src/drv_wave1006.c **** 	if (check_sum_rd != check_sum_wr)
 2323              		.loc 1 635 2 view .LVU710
 2324              		.loc 1 635 5 is_stmt 0 view .LVU711
 2325 068c 4E45     		cmp	r6, r9
 2326 068e 14D1     		bne	.L88
 636:Device/Src/drv_wave1006.c **** 	{
 637:Device/Src/drv_wave1006.c **** 		UsbPrintf("write check is err %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);
 638:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 639:Device/Src/drv_wave1006.c **** 	}
 640:Device/Src/drv_wave1006.c **** 	UsbPrintf("write otp is successful! %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);	
 2327              		.loc 1 640 2 is_stmt 1 view .LVU712
 2328 0690 3246     		mov	r2, r6
 2329 0692 4946     		mov	r1, r9
 2330 0694 1D48     		ldr	r0, .L92+64
 2331 0696 FFF7FEFF 		bl	UsbPrintf
 2332              	.LVL187:
 641:Device/Src/drv_wave1006.c **** 	
 642:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 2333              		.loc 1 642 2 view .LVU713
 2334 069a 0321     		movs	r1, #3
 2335 069c 3846     		mov	r0, r7
 2336 069e FFF7FEFF 		bl	rtc_set_channel
 2337              	.LVL188:
 643:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5v关闭的开关
 2338              		.loc 1 643 2 view .LVU714
 2339 06a2 0022     		movs	r2, #0
 2340 06a4 4021     		movs	r1, #64
 2341 06a6 1A48     		ldr	r0, .L92+68
 2342 06a8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2343              	.LVL189:
 644:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT OK!\r\n");
 2344              		.loc 1 644 2 view .LVU715
 2345 06ac 1948     		ldr	r0, .L92+72
 2346 06ae FFF7FEFF 		bl	UsbPrintf
 2347              	.LVL190:
 645:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 60


 2348              		.loc 1 645 2 view .LVU716
 2349              	.L68:
 646:Device/Src/drv_wave1006.c **** }
 2350              		.loc 1 646 1 is_stmt 0 view .LVU717
 2351 06b2 4046     		mov	r0, r8
 2352 06b4 05B0     		add	sp, sp, #20
 2353              	.LCFI43:
 2354              		.cfi_remember_state
 2355              		.cfi_def_cfa_offset 28
 2356              		@ sp needed
 2357 06b6 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2358              	.LVL191:
 2359              	.L88:
 2360              	.LCFI44:
 2361              		.cfi_restore_state
 637:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2362              		.loc 1 637 3 is_stmt 1 view .LVU718
 2363 06ba 3246     		mov	r2, r6
 2364 06bc 4946     		mov	r1, r9
 2365 06be 1648     		ldr	r0, .L92+76
 2366 06c0 FFF7FEFF 		bl	UsbPrintf
 2367              	.LVL192:
 638:Device/Src/drv_wave1006.c **** 	}
 2368              		.loc 1 638 3 view .LVU719
 638:Device/Src/drv_wave1006.c **** 	}
 2369              		.loc 1 638 10 is_stmt 0 view .LVU720
 2370 06c4 6FF00208 		mvn	r8, #2
 2371 06c8 F3E7     		b	.L68
 2372              	.L93:
 2373 06ca 00BF     		.align	2
 2374              	.L92:
 2375 06cc A0010000 		.word	.LC20
 2376 06d0 B0010000 		.word	.LC21
 2377 06d4 C0010000 		.word	.LC22
 2378 06d8 D0010000 		.word	.LC23
 2379 06dc E0010000 		.word	.LC24
 2380 06e0 F0010000 		.word	.LC25
 2381 06e4 00020000 		.word	.LC26
 2382 06e8 18000000 		.word	.LC4
 2383 06ec 34000000 		.word	.LC5
 2384 06f0 50000000 		.word	.LC6
 2385 06f4 6C000000 		.word	.LC7
 2386 06f8 88000000 		.word	.LC8
 2387 06fc A4000000 		.word	.LC9
 2388 0700 10020000 		.word	.LC27
 2389 0704 5C020000 		.word	.LC28
 2390 0708 33335340 		.word	1079194419
 2391 070c 90020000 		.word	.LC30
 2392 0710 00100240 		.word	1073876992
 2393 0714 B8020000 		.word	.LC31
 2394 0718 6C020000 		.word	.LC29
 2395              		.cfi_endproc
 2396              	.LFE247:
 2398              		.section	.rodata.wave1006_write_otp_one.str1.4,"aMS",%progbits,1
 2399              		.align	2
 2400              	.LC32:
 2401 0000 4F50454E 		.ascii	"OPEN WRITE ONE!\015\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 61


 2401      20575249 
 2401      5445204F 
 2401      4E45210D 
 2401      0A00
 2402 0012 0000     		.align	2
 2403              	.LC33:
 2404 0014 2C00     		.ascii	",\000"
 2405 0016 0000     		.align	2
 2406              	.LC34:
 2407 0018 45584954 		.ascii	"EXIT I2C_OK!\015\012\000"
 2407      20493243 
 2407      5F4F4B21 
 2407      0D0A00
 2408              		.section	.text.wave1006_write_otp_one,"ax",%progbits
 2409              		.align	1
 2410              		.global	wave1006_write_otp_one
 2411              		.syntax unified
 2412              		.thumb
 2413              		.thumb_func
 2415              	wave1006_write_otp_one:
 2416              	.LVL193:
 2417              	.LFB248:
 647:Device/Src/drv_wave1006.c **** 
 648:Device/Src/drv_wave1006.c **** 
 649:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp_one(char *str)
 650:Device/Src/drv_wave1006.c **** {
 2418              		.loc 1 650 1 is_stmt 1 view -0
 2419              		.cfi_startproc
 2420              		@ args = 0, pretend = 0, frame = 24
 2421              		@ frame_needed = 0, uses_anonymous_args = 0
 2422              		.loc 1 650 1 is_stmt 0 view .LVU722
 2423 0000 70B5     		push	{r4, r5, r6, lr}
 2424              	.LCFI45:
 2425              		.cfi_def_cfa_offset 16
 2426              		.cfi_offset 4, -16
 2427              		.cfi_offset 5, -12
 2428              		.cfi_offset 6, -8
 2429              		.cfi_offset 14, -4
 2430 0002 86B0     		sub	sp, sp, #24
 2431              	.LCFI46:
 2432              		.cfi_def_cfa_offset 40
 2433 0004 0446     		mov	r4, r0
 651:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0}, buf1;
 2434              		.loc 1 651 2 is_stmt 1 view .LVU723
 2435              		.loc 1 651 10 is_stmt 0 view .LVU724
 2436 0006 624B     		ldr	r3, .L104
 2437 0008 93E80300 		ldm	r3, {r0, r1}
 2438              	.LVL194:
 2439              		.loc 1 651 10 view .LVU725
 2440 000c 0490     		str	r0, [sp, #16]
 2441 000e 8DF81410 		strb	r1, [sp, #20]
 652:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 2442              		.loc 1 652 2 is_stmt 1 view .LVU726
 653:Device/Src/drv_wave1006.c **** 	int Addr = 0,Data = 0;
 2443              		.loc 1 653 2 view .LVU727
 2444              		.loc 1 653 6 is_stmt 0 view .LVU728
 2445 0012 0023     		movs	r3, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 62


 2446 0014 0293     		str	r3, [sp, #8]
 2447              		.loc 1 653 15 view .LVU729
 2448 0016 0193     		str	r3, [sp, #4]
 654:Device/Src/drv_wave1006.c **** 	
 655:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN WRITE ONE!\r\n");
 2449              		.loc 1 655 2 is_stmt 1 view .LVU730
 2450 0018 5E48     		ldr	r0, .L104+4
 2451 001a FFF7FEFF 		bl	UsbPrintf
 2452              	.LVL195:
 656:Device/Src/drv_wave1006.c **** 	CharToInt(str, 6, &Addr);
 2453              		.loc 1 656 2 view .LVU731
 2454 001e 02AA     		add	r2, sp, #8
 2455 0020 0621     		movs	r1, #6
 2456 0022 2046     		mov	r0, r4
 2457 0024 FFF7FEFF 		bl	CharToInt
 2458              	.LVL196:
 657:Device/Src/drv_wave1006.c **** 	CharToInt(str, strSearch(str, ","), &Data);
 2459              		.loc 1 657 2 view .LVU732
 2460              		.loc 1 657 17 is_stmt 0 view .LVU733
 2461 0028 5B49     		ldr	r1, .L104+8
 2462 002a 2046     		mov	r0, r4
 2463 002c FFF7FEFF 		bl	strSearch
 2464              	.LVL197:
 2465              		.loc 1 657 2 view .LVU734
 2466 0030 01AA     		add	r2, sp, #4
 2467 0032 C1B2     		uxtb	r1, r0
 2468 0034 2046     		mov	r0, r4
 2469 0036 FFF7FEFF 		bl	CharToInt
 2470              	.LVL198:
 658:Device/Src/drv_wave1006.c **** 	
 659:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2471              		.loc 1 659 2 is_stmt 1 view .LVU735
 2472 003a B1EE040A 		vmov.f32	s0, #5.0e+0
 2473 003e FFF7FEFF 		bl	rtc_otp_power
 2474              	.LVL199:
 660:Device/Src/drv_wave1006.c **** 	HAL_Delay(2000);
 2475              		.loc 1 660 2 view .LVU736
 2476 0042 4FF4FA60 		mov	r0, #2000
 2477 0046 FFF7FEFF 		bl	HAL_Delay
 2478              	.LVL200:
 661:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2479              		.loc 1 661 2 view .LVU737
 2480              		.loc 1 661 7 is_stmt 0 view .LVU738
 2481 004a 4023     		movs	r3, #64
 2482 004c 8DF80F30 		strb	r3, [sp, #15]
 662:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2483              		.loc 1 662 2 is_stmt 1 view .LVU739
 2484              		.loc 1 662 5 is_stmt 0 view .LVU740
 2485 0050 0DF10F03 		add	r3, sp, #15
 2486 0054 0122     		movs	r2, #1
 2487 0056 1121     		movs	r1, #17
 2488 0058 0420     		movs	r0, #4
 2489 005a FFF7FEFF 		bl	drv_wave1006_write_reg
 2490              	.LVL201:
 2491              		.loc 1 662 4 view .LVU741
 2492 005e 0028     		cmp	r0, #0
 2493 0060 40F08480 		bne	.L96
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 63


 663:Device/Src/drv_wave1006.c **** 	{
 664:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 665:Device/Src/drv_wave1006.c **** 	}
 666:Device/Src/drv_wave1006.c **** 	
 667:Device/Src/drv_wave1006.c **** 	//选择为SD3302封装(必须在进测试模式之前选择，否则芯片pad改变)
 668:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2494              		.loc 1 668 2 is_stmt 1 view .LVU742
 2495              		.loc 1 668 6 is_stmt 0 view .LVU743
 2496 0064 0DF10F03 		add	r3, sp, #15
 2497 0068 0122     		movs	r2, #1
 2498 006a 4021     		movs	r1, #64
 2499 006c FFF7FEFF 		bl	drv_wave1006_read_reg
 2500              	.LVL202:
 2501              		.loc 1 668 5 view .LVU744
 2502 0070 0028     		cmp	r0, #0
 2503 0072 7ED1     		bne	.L97
 669:Device/Src/drv_wave1006.c **** 	{
 670:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 671:Device/Src/drv_wave1006.c **** 	}
 672:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2504              		.loc 1 672 2 is_stmt 1 view .LVU745
 2505              		.loc 1 672 7 is_stmt 0 view .LVU746
 2506 0074 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 2507 0078 03F0F003 		and	r3, r3, #240
 2508 007c 8DF80F30 		strb	r3, [sp, #15]
 673:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0d;
 2509              		.loc 1 673 2 is_stmt 1 view .LVU747
 2510              		.loc 1 673 7 is_stmt 0 view .LVU748
 2511 0080 43F00D03 		orr	r3, r3, #13
 2512 0084 8DF80F30 		strb	r3, [sp, #15]
 674:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2513              		.loc 1 674 2 is_stmt 1 view .LVU749
 2514              		.loc 1 674 5 is_stmt 0 view .LVU750
 2515 0088 0DF10F03 		add	r3, sp, #15
 2516 008c 0122     		movs	r2, #1
 2517 008e 4021     		movs	r1, #64
 2518 0090 0420     		movs	r0, #4
 2519 0092 FFF7FEFF 		bl	drv_wave1006_write_reg
 2520              	.LVL203:
 2521              		.loc 1 674 4 view .LVU751
 2522 0096 0028     		cmp	r0, #0
 2523 0098 6ED1     		bne	.L98
 675:Device/Src/drv_wave1006.c **** 	{
 676:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 677:Device/Src/drv_wave1006.c **** 	}
 678:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 679:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2524              		.loc 1 679 2 is_stmt 1 view .LVU752
 2525              		.loc 1 679 5 is_stmt 0 view .LVU753
 2526 009a 04AB     		add	r3, sp, #16
 2527 009c 0522     		movs	r2, #5
 2528 009e 2D21     		movs	r1, #45
 2529 00a0 0420     		movs	r0, #4
 2530 00a2 FFF7FEFF 		bl	drv_wave1006_write_reg
 2531              	.LVL204:
 2532              		.loc 1 679 4 view .LVU754
 2533 00a6 0028     		cmp	r0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 64


 2534 00a8 69D1     		bne	.L99
 680:Device/Src/drv_wave1006.c **** 	{
 681:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 682:Device/Src/drv_wave1006.c **** 	}
 683:Device/Src/drv_wave1006.c **** 		
 684:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2535              		.loc 1 684 2 is_stmt 1 view .LVU755
 2536              		.loc 1 684 5 is_stmt 0 view .LVU756
 2537 00aa 3020     		movs	r0, #48
 2538 00ac FFF7FEFF 		bl	wave1006_enter_test_mode
 2539              	.LVL205:
 2540              		.loc 1 684 4 view .LVU757
 2541 00b0 0646     		mov	r6, r0
 2542 00b2 0028     		cmp	r0, #0
 2543 00b4 66D1     		bne	.L100
 685:Device/Src/drv_wave1006.c **** 	{
 686:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 687:Device/Src/drv_wave1006.c **** 	}
 688:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 689:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2544              		.loc 1 689 3 is_stmt 1 view .LVU758
 2545              		.loc 1 689 10 is_stmt 0 view .LVU759
 2546 00b6 8024     		movs	r4, #128
 2547              	.LVL206:
 2548              		.loc 1 689 10 view .LVU760
 2549 00b8 8DF81040 		strb	r4, [sp, #16]
 690:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2550              		.loc 1 690 2 is_stmt 1 view .LVU761
 2551 00bc 04AB     		add	r3, sp, #16
 2552 00be 0122     		movs	r2, #1
 2553 00c0 2D21     		movs	r1, #45
 2554 00c2 FFF7FEFF 		bl	drv_wave1006_write_reg
 2555              	.LVL207:
 691:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 692:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2556              		.loc 1 692 3 view .LVU762
 2557              		.loc 1 692 10 is_stmt 0 view .LVU763
 2558 00c6 8225     		movs	r5, #130
 2559 00c8 8DF81050 		strb	r5, [sp, #16]
 693:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2560              		.loc 1 693 3 is_stmt 1 view .LVU764
 2561 00cc 04AB     		add	r3, sp, #16
 2562 00ce 0122     		movs	r2, #1
 2563 00d0 2D21     		movs	r1, #45
 2564 00d2 0020     		movs	r0, #0
 2565 00d4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2566              	.LVL208:
 694:Device/Src/drv_wave1006.c ****     /*pprog = 1*/
 695:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 2567              		.loc 1 695 3 view .LVU765
 2568              		.loc 1 695 10 is_stmt 0 view .LVU766
 2569 00d8 A223     		movs	r3, #162
 2570 00da 8DF81030 		strb	r3, [sp, #16]
 696:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2571              		.loc 1 696 3 is_stmt 1 view .LVU767
 2572 00de 04AB     		add	r3, sp, #16
 2573 00e0 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 65


 2574 00e2 2D21     		movs	r1, #45
 2575 00e4 0020     		movs	r0, #0
 2576 00e6 FFF7FEFF 		bl	drv_wave1006_write_reg
 2577              	.LVL209:
 697:Device/Src/drv_wave1006.c ****     /*io6 =8.5V*/
 698:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(1);
 2578              		.loc 1 698 2 view .LVU768
 2579 00ea 0120     		movs	r0, #1
 2580 00ec FFF7FEFF 		bl	otp_prg_power_ctrl
 2581              	.LVL210:
 699:Device/Src/drv_wave1006.c ****     /*start write otp*/
 700:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(Addr, Data);
 2582              		.loc 1 700 2 view .LVU769
 2583 00f0 BDF80410 		ldrh	r1, [sp, #4]
 2584 00f4 BDF80800 		ldrh	r0, [sp, #8]
 2585 00f8 FFF7FEFF 		bl	wave1006_write_otp_single
 2586              	.LVL211:
 701:Device/Src/drv_wave1006.c **** 	/*write otp is complete, switch i2c prot, io6 =5V*/
 702:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    
 2587              		.loc 1 702 2 view .LVU770
 2588 00fc 0020     		movs	r0, #0
 2589 00fe FFF7FEFF 		bl	otp_prg_power_ctrl
 2590              	.LVL212:
 703:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 704:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2591              		.loc 1 704 3 view .LVU771
 2592              		.loc 1 704 10 is_stmt 0 view .LVU772
 2593 0102 8DF81050 		strb	r5, [sp, #16]
 705:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2594              		.loc 1 705 2 is_stmt 1 view .LVU773
 2595 0106 04AB     		add	r3, sp, #16
 2596 0108 0122     		movs	r2, #1
 2597 010a 2D21     		movs	r1, #45
 2598 010c 0020     		movs	r0, #0
 2599 010e FFF7FEFF 		bl	drv_wave1006_write_reg
 2600              	.LVL213:
 706:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 707:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2601              		.loc 1 707 3 view .LVU774
 2602              		.loc 1 707 10 is_stmt 0 view .LVU775
 2603 0112 8DF81040 		strb	r4, [sp, #16]
 708:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2604              		.loc 1 708 2 is_stmt 1 view .LVU776
 2605 0116 04AB     		add	r3, sp, #16
 2606 0118 0122     		movs	r2, #1
 2607 011a 2D21     		movs	r1, #45
 2608 011c 0020     		movs	r0, #0
 2609 011e FFF7FEFF 		bl	drv_wave1006_write_reg
 2610              	.LVL214:
 709:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 710:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2611              		.loc 1 710 5 view .LVU777
 2612              		.loc 1 710 12 is_stmt 0 view .LVU778
 2613 0122 0020     		movs	r0, #0
 2614 0124 8DF81000 		strb	r0, [sp, #16]
 711:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2615              		.loc 1 711 5 is_stmt 1 view .LVU779
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 66


 2616              		.loc 1 711 12 is_stmt 0 view .LVU780
 2617 0128 8DF81100 		strb	r0, [sp, #17]
 712:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2618              		.loc 1 712 5 is_stmt 1 view .LVU781
 2619              		.loc 1 712 12 is_stmt 0 view .LVU782
 2620 012c 8DF81200 		strb	r0, [sp, #18]
 713:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2621              		.loc 1 713 5 is_stmt 1 view .LVU783
 2622              		.loc 1 713 12 is_stmt 0 view .LVU784
 2623 0130 8DF81300 		strb	r0, [sp, #19]
 714:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2624              		.loc 1 714 3 is_stmt 1 view .LVU785
 2625 0134 04AB     		add	r3, sp, #16
 2626 0136 0422     		movs	r2, #4
 2627 0138 2D21     		movs	r1, #45
 2628 013a FFF7FEFF 		bl	drv_wave1006_write_reg
 2629              	.LVL215:
 715:Device/Src/drv_wave1006.c **** 	/*check write value*/
 716:Device/Src/drv_wave1006.c **** 	wave1006_read_otp_single(Addr, &otp_temp);
 2630              		.loc 1 716 2 view .LVU786
 2631 013e 03A9     		add	r1, sp, #12
 2632 0140 BDF80800 		ldrh	r0, [sp, #8]
 2633 0144 FFF7FEFF 		bl	wave1006_read_otp_single
 2634              	.LVL216:
 717:Device/Src/drv_wave1006.c **** 	// UsbPrintf("read otp addr%hx:%hx\r\n",Addr, otp_temp);
 718:Device/Src/drv_wave1006.c **** 	
 719:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 720:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2635              		.loc 1 720 2 view .LVU787
 2636 0148 B1EE040A 		vmov.f32	s0, #5.0e+0
 2637 014c FFF7FEFF 		bl	rtc_otp_power
 2638              	.LVL217:
 721:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2639              		.loc 1 721 2 view .LVU788
 2640 0150 C820     		movs	r0, #200
 2641 0152 FFF7FEFF 		bl	HAL_Delay
 2642              	.LVL218:
 722:Device/Src/drv_wave1006.c **** 	
 723:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2643              		.loc 1 723 2 view .LVU789
 2644 0156 1148     		ldr	r0, .L104+12
 2645 0158 FFF7FEFF 		bl	UsbPrintf
 2646              	.LVL219:
 724:Device/Src/drv_wave1006.c **** 	if (otp_temp != Data)
 2647              		.loc 1 724 2 view .LVU790
 2648              		.loc 1 724 15 is_stmt 0 view .LVU791
 2649 015c BDF80C20 		ldrh	r2, [sp, #12]
 2650 0160 019B     		ldr	r3, [sp, #4]
 2651              		.loc 1 724 5 view .LVU792
 2652 0162 9A42     		cmp	r2, r3
 2653 0164 11D1     		bne	.L103
 2654              	.L95:
 725:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 726:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 727:Device/Src/drv_wave1006.c **** }
 2655              		.loc 1 727 1 view .LVU793
 2656 0166 3046     		mov	r0, r6
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 67


 2657 0168 06B0     		add	sp, sp, #24
 2658              	.LCFI47:
 2659              		.cfi_remember_state
 2660              		.cfi_def_cfa_offset 16
 2661              		@ sp needed
 2662 016a 70BD     		pop	{r4, r5, r6, pc}
 2663              	.LVL220:
 2664              	.L96:
 2665              	.LCFI48:
 2666              		.cfi_restore_state
 664:Device/Src/drv_wave1006.c **** 	}
 2667              		.loc 1 664 10 view .LVU794
 2668 016c 6FF00206 		mvn	r6, #2
 2669 0170 F9E7     		b	.L95
 2670              	.L97:
 670:Device/Src/drv_wave1006.c **** 	}
 2671              		.loc 1 670 10 view .LVU795
 2672 0172 6FF00206 		mvn	r6, #2
 2673 0176 F6E7     		b	.L95
 2674              	.L98:
 676:Device/Src/drv_wave1006.c **** 	}
 2675              		.loc 1 676 10 view .LVU796
 2676 0178 6FF00206 		mvn	r6, #2
 2677 017c F3E7     		b	.L95
 2678              	.L99:
 681:Device/Src/drv_wave1006.c **** 	}
 2679              		.loc 1 681 10 view .LVU797
 2680 017e 6FF00206 		mvn	r6, #2
 2681 0182 F0E7     		b	.L95
 2682              	.L100:
 686:Device/Src/drv_wave1006.c **** 	}
 2683              		.loc 1 686 10 view .LVU798
 2684 0184 6FF00206 		mvn	r6, #2
 2685 0188 EDE7     		b	.L95
 2686              	.LVL221:
 2687              	.L103:
 725:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2688              		.loc 1 725 10 view .LVU799
 2689 018a 6FF00206 		mvn	r6, #2
 2690 018e EAE7     		b	.L95
 2691              	.L105:
 2692              		.align	2
 2693              	.L104:
 2694 0190 00000000 		.word	.LANCHOR0
 2695 0194 00000000 		.word	.LC32
 2696 0198 14000000 		.word	.LC33
 2697 019c 18000000 		.word	.LC34
 2698              		.cfi_endproc
 2699              	.LFE248:
 2701              		.section	.rodata.wave1006_read_otp.str1.4,"aMS",%progbits,1
 2702              		.align	2
 2703              	.LC35:
 2704 0000 4F50454E 		.ascii	"OPEN READ!\015\012\000"
 2704      20524541 
 2704      44210D0A 
 2704      00
 2705 000d 000000   		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 68


 2706              	.LC36:
 2707 0010 2F2A2A2A 		.ascii	"/**************************** READ ALL OTP ********"
 2707      2A2A2A2A 
 2707      2A2A2A2A 
 2707      2A2A2A2A 
 2707      2A2A2A2A 
 2708 0043 2A2A2A2A 		.ascii	"************************/\015\012\000"
 2708      2A2A2A2A 
 2708      2A2A2A2A 
 2708      2A2A2A2A 
 2708      2A2A2A2A 
 2709              		.section	.text.wave1006_read_otp,"ax",%progbits
 2710              		.align	1
 2711              		.global	wave1006_read_otp
 2712              		.syntax unified
 2713              		.thumb
 2714              		.thumb_func
 2716              	wave1006_read_otp:
 2717              	.LFB249:
 728:Device/Src/drv_wave1006.c **** 
 729:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_read_otp(void)
 730:Device/Src/drv_wave1006.c **** {
 2718              		.loc 1 730 1 is_stmt 1 view -0
 2719              		.cfi_startproc
 2720              		@ args = 0, pretend = 0, frame = 16
 2721              		@ frame_needed = 0, uses_anonymous_args = 0
 2722 0000 30B5     		push	{r4, r5, lr}
 2723              	.LCFI49:
 2724              		.cfi_def_cfa_offset 12
 2725              		.cfi_offset 4, -12
 2726              		.cfi_offset 5, -8
 2727              		.cfi_offset 14, -4
 2728 0002 85B0     		sub	sp, sp, #20
 2729              	.LCFI50:
 2730              		.cfi_def_cfa_offset 32
 731:Device/Src/drv_wave1006.c **** 	uint16_t i;
 2731              		.loc 1 731 2 view .LVU801
 732:Device/Src/drv_wave1006.c **** 	uint8_t  buf[5]={0,0,0,0,0}, buf1;
 2732              		.loc 1 732 2 view .LVU802
 2733              		.loc 1 732 11 is_stmt 0 view .LVU803
 2734 0004 4D4B     		ldr	r3, .L116
 2735 0006 93E80300 		ldm	r3, {r0, r1}
 2736 000a 0290     		str	r0, [sp, #8]
 2737 000c 8DF80C10 		strb	r1, [sp, #12]
 733:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp = 0;
 2738              		.loc 1 733 2 is_stmt 1 view .LVU804
 2739              		.loc 1 733 11 is_stmt 0 view .LVU805
 2740 0010 0023     		movs	r3, #0
 2741 0012 ADF80430 		strh	r3, [sp, #4]	@ movhi
 734:Device/Src/drv_wave1006.c **** 
 735:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN READ!\r\n");
 2742              		.loc 1 735 2 is_stmt 1 view .LVU806
 2743 0016 4A48     		ldr	r0, .L116+4
 2744 0018 FFF7FEFF 		bl	UsbPrintf
 2745              	.LVL222:
 736:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2746              		.loc 1 736 2 view .LVU807
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 69


 2747 001c B1EE040A 		vmov.f32	s0, #5.0e+0
 2748 0020 FFF7FEFF 		bl	rtc_otp_power
 2749              	.LVL223:
 737:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2750              		.loc 1 737 2 view .LVU808
 2751 0024 C820     		movs	r0, #200
 2752 0026 FFF7FEFF 		bl	HAL_Delay
 2753              	.LVL224:
 738:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2754              		.loc 1 738 2 view .LVU809
 2755              		.loc 1 738 7 is_stmt 0 view .LVU810
 2756 002a 4023     		movs	r3, #64
 2757 002c 8DF80730 		strb	r3, [sp, #7]
 739:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2758              		.loc 1 739 2 is_stmt 1 view .LVU811
 2759              		.loc 1 739 5 is_stmt 0 view .LVU812
 2760 0030 0DF10703 		add	r3, sp, #7
 2761 0034 0122     		movs	r2, #1
 2762 0036 1121     		movs	r1, #17
 2763 0038 0420     		movs	r0, #4
 2764 003a FFF7FEFF 		bl	drv_wave1006_write_reg
 2765              	.LVL225:
 2766              		.loc 1 739 4 view .LVU813
 2767 003e 0028     		cmp	r0, #0
 2768 0040 6DD1     		bne	.L110
 740:Device/Src/drv_wave1006.c **** 	{
 741:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 742:Device/Src/drv_wave1006.c **** 	}
 743:Device/Src/drv_wave1006.c **** 	
 744:Device/Src/drv_wave1006.c **** 	//选择为SD3302封装(必须在进测试模式之前选择，否则芯片pad改变)
 745:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2769              		.loc 1 745 2 is_stmt 1 view .LVU814
 2770              		.loc 1 745 6 is_stmt 0 view .LVU815
 2771 0042 0DF10703 		add	r3, sp, #7
 2772 0046 0122     		movs	r2, #1
 2773 0048 4021     		movs	r1, #64
 2774 004a FFF7FEFF 		bl	drv_wave1006_read_reg
 2775              	.LVL226:
 2776              		.loc 1 745 5 view .LVU816
 2777 004e 0028     		cmp	r0, #0
 2778 0050 68D1     		bne	.L111
 746:Device/Src/drv_wave1006.c **** 	{
 747:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 748:Device/Src/drv_wave1006.c **** 	}
 749:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2779              		.loc 1 749 2 is_stmt 1 view .LVU817
 2780              		.loc 1 749 7 is_stmt 0 view .LVU818
 2781 0052 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2782 0056 03F0F003 		and	r3, r3, #240
 2783 005a 8DF80730 		strb	r3, [sp, #7]
 750:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0d;
 2784              		.loc 1 750 2 is_stmt 1 view .LVU819
 2785              		.loc 1 750 7 is_stmt 0 view .LVU820
 2786 005e 43F00D03 		orr	r3, r3, #13
 2787 0062 8DF80730 		strb	r3, [sp, #7]
 751:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2788              		.loc 1 751 2 is_stmt 1 view .LVU821
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 70


 2789              		.loc 1 751 5 is_stmt 0 view .LVU822
 2790 0066 0DF10703 		add	r3, sp, #7
 2791 006a 0122     		movs	r2, #1
 2792 006c 4021     		movs	r1, #64
 2793 006e 0420     		movs	r0, #4
 2794 0070 FFF7FEFF 		bl	drv_wave1006_write_reg
 2795              	.LVL227:
 2796              		.loc 1 751 4 view .LVU823
 2797 0074 0028     		cmp	r0, #0
 2798 0076 58D1     		bne	.L112
 752:Device/Src/drv_wave1006.c **** 	{
 753:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 754:Device/Src/drv_wave1006.c **** 	}
 755:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 756:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2799              		.loc 1 756 2 is_stmt 1 view .LVU824
 2800              		.loc 1 756 5 is_stmt 0 view .LVU825
 2801 0078 02AB     		add	r3, sp, #8
 2802 007a 0522     		movs	r2, #5
 2803 007c 2D21     		movs	r1, #45
 2804 007e 0420     		movs	r0, #4
 2805 0080 FFF7FEFF 		bl	drv_wave1006_write_reg
 2806              	.LVL228:
 2807              		.loc 1 756 4 view .LVU826
 2808 0084 0028     		cmp	r0, #0
 2809 0086 53D1     		bne	.L113
 757:Device/Src/drv_wave1006.c **** 	{
 758:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 759:Device/Src/drv_wave1006.c **** 	}
 760:Device/Src/drv_wave1006.c **** 		
 761:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2810              		.loc 1 761 2 is_stmt 1 view .LVU827
 2811              		.loc 1 761 5 is_stmt 0 view .LVU828
 2812 0088 3020     		movs	r0, #48
 2813 008a FFF7FEFF 		bl	wave1006_enter_test_mode
 2814              	.LVL229:
 2815              		.loc 1 761 4 view .LVU829
 2816 008e 0546     		mov	r5, r0
 2817 0090 0028     		cmp	r0, #0
 2818 0092 50D1     		bne	.L114
 762:Device/Src/drv_wave1006.c **** 	{
 763:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 764:Device/Src/drv_wave1006.c **** 	}
 765:Device/Src/drv_wave1006.c **** 	
 766:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    //IO6加5V电压
 2819              		.loc 1 766 2 is_stmt 1 view .LVU830
 2820 0094 FFF7FEFF 		bl	otp_prg_power_ctrl
 2821              	.LVL230:
 767:Device/Src/drv_wave1006.c **** 	             
 768:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 769:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2822              		.loc 1 769 3 view .LVU831
 2823              		.loc 1 769 10 is_stmt 0 view .LVU832
 2824 0098 8024     		movs	r4, #128
 2825 009a 8DF80840 		strb	r4, [sp, #8]
 770:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2826              		.loc 1 770 2 is_stmt 1 view .LVU833
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 71


 2827 009e 02AB     		add	r3, sp, #8
 2828 00a0 0122     		movs	r2, #1
 2829 00a2 2D21     		movs	r1, #45
 2830 00a4 0020     		movs	r0, #0
 2831 00a6 FFF7FEFF 		bl	drv_wave1006_write_reg
 2832              	.LVL231:
 771:Device/Src/drv_wave1006.c ****     
 772:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 773:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2833              		.loc 1 773 3 view .LVU834
 2834              		.loc 1 773 10 is_stmt 0 view .LVU835
 2835 00aa 8223     		movs	r3, #130
 2836 00ac 8DF80830 		strb	r3, [sp, #8]
 774:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2837              		.loc 1 774 2 is_stmt 1 view .LVU836
 2838 00b0 02AB     		add	r3, sp, #8
 2839 00b2 0122     		movs	r2, #1
 2840 00b4 2D21     		movs	r1, #45
 2841 00b6 0020     		movs	r0, #0
 2842 00b8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2843              	.LVL232:
 775:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 776:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2844              		.loc 1 776 3 view .LVU837
 2845              		.loc 1 776 10 is_stmt 0 view .LVU838
 2846 00bc 8DF80840 		strb	r4, [sp, #8]
 777:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2847              		.loc 1 777 2 is_stmt 1 view .LVU839
 2848 00c0 02AB     		add	r3, sp, #8
 2849 00c2 0122     		movs	r2, #1
 2850 00c4 2D21     		movs	r1, #45
 2851 00c6 0020     		movs	r0, #0
 2852 00c8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2853              	.LVL233:
 778:Device/Src/drv_wave1006.c ****     /*pa=0, Data*/
 779:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2854              		.loc 1 779 5 view .LVU840
 2855              		.loc 1 779 12 is_stmt 0 view .LVU841
 2856 00cc 0024     		movs	r4, #0
 2857 00ce 8DF80840 		strb	r4, [sp, #8]
 780:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2858              		.loc 1 780 5 is_stmt 1 view .LVU842
 2859              		.loc 1 780 12 is_stmt 0 view .LVU843
 2860 00d2 8DF80940 		strb	r4, [sp, #9]
 781:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2861              		.loc 1 781 5 is_stmt 1 view .LVU844
 2862              		.loc 1 781 12 is_stmt 0 view .LVU845
 2863 00d6 8DF80A40 		strb	r4, [sp, #10]
 782:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2864              		.loc 1 782 5 is_stmt 1 view .LVU846
 2865              		.loc 1 782 12 is_stmt 0 view .LVU847
 2866 00da 8DF80B40 		strb	r4, [sp, #11]
 783:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2867              		.loc 1 783 3 is_stmt 1 view .LVU848
 2868 00de 02AB     		add	r3, sp, #8
 2869 00e0 0422     		movs	r2, #4
 2870 00e2 2D21     		movs	r1, #45
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 72


 2871 00e4 2046     		mov	r0, r4
 2872 00e6 FFF7FEFF 		bl	drv_wave1006_write_reg
 2873              	.LVL234:
 784:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ ALL OTP ********************************/\r\n");
 2874              		.loc 1 784 2 view .LVU849
 2875 00ea 1648     		ldr	r0, .L116+8
 2876 00ec FFF7FEFF 		bl	UsbPrintf
 2877              	.LVL235:
 785:Device/Src/drv_wave1006.c **** 	/*check write value*/
 786:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 1024; i++)
 2878              		.loc 1 786 2 view .LVU850
 2879              		.loc 1 786 2 is_stmt 0 view .LVU851
 2880 00f0 05E0     		b	.L108
 2881              	.LVL236:
 2882              	.L109:
 787:Device/Src/drv_wave1006.c **** 	{
 788:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 2883              		.loc 1 788 3 is_stmt 1 discriminator 3 view .LVU852
 2884 00f2 01A9     		add	r1, sp, #4
 2885 00f4 2046     		mov	r0, r4
 2886 00f6 FFF7FEFF 		bl	wave1006_read_otp_single
 2887              	.LVL237:
 786:Device/Src/drv_wave1006.c **** 	{
 2888              		.loc 1 786 24 discriminator 3 view .LVU853
 786:Device/Src/drv_wave1006.c **** 	{
 2889              		.loc 1 786 25 is_stmt 0 discriminator 3 view .LVU854
 2890 00fa 0134     		adds	r4, r4, #1
 2891              	.LVL238:
 786:Device/Src/drv_wave1006.c **** 	{
 2892              		.loc 1 786 25 discriminator 3 view .LVU855
 2893 00fc A4B2     		uxth	r4, r4
 2894              	.LVL239:
 2895              	.L108:
 786:Device/Src/drv_wave1006.c **** 	{
 2896              		.loc 1 786 14 is_stmt 1 discriminator 1 view .LVU856
 786:Device/Src/drv_wave1006.c **** 	{
 2897              		.loc 1 786 2 is_stmt 0 discriminator 1 view .LVU857
 2898 00fe B4F5806F 		cmp	r4, #1024
 2899 0102 F6D3     		bcc	.L109
 789:Device/Src/drv_wave1006.c **** 		// UsbPrintf("addr%x:%hx\r\n",i, otp_temp);
 790:Device/Src/drv_wave1006.c **** 	}
 791:Device/Src/drv_wave1006.c **** 	
 792:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 793:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2900              		.loc 1 793 2 is_stmt 1 view .LVU858
 2901 0104 B1EE040A 		vmov.f32	s0, #5.0e+0
 2902 0108 FFF7FEFF 		bl	rtc_otp_power
 2903              	.LVL240:
 794:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2904              		.loc 1 794 2 view .LVU859
 2905 010c C820     		movs	r0, #200
 2906 010e FFF7FEFF 		bl	HAL_Delay
 2907              	.LVL241:
 795:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2908              		.loc 1 795 2 view .LVU860
 2909 0112 0D48     		ldr	r0, .L116+12
 2910 0114 FFF7FEFF 		bl	UsbPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 73


 2911              	.LVL242:
 796:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2912              		.loc 1 796 2 view .LVU861
 2913              	.L107:
 797:Device/Src/drv_wave1006.c **** }
 2914              		.loc 1 797 1 is_stmt 0 view .LVU862
 2915 0118 2846     		mov	r0, r5
 2916 011a 05B0     		add	sp, sp, #20
 2917              	.LCFI51:
 2918              		.cfi_remember_state
 2919              		.cfi_def_cfa_offset 12
 2920              		@ sp needed
 2921 011c 30BD     		pop	{r4, r5, pc}
 2922              	.L110:
 2923              	.LCFI52:
 2924              		.cfi_restore_state
 741:Device/Src/drv_wave1006.c **** 	}
 2925              		.loc 1 741 10 view .LVU863
 2926 011e 6FF00205 		mvn	r5, #2
 2927 0122 F9E7     		b	.L107
 2928              	.L111:
 747:Device/Src/drv_wave1006.c **** 	}
 2929              		.loc 1 747 10 view .LVU864
 2930 0124 6FF00205 		mvn	r5, #2
 2931 0128 F6E7     		b	.L107
 2932              	.L112:
 753:Device/Src/drv_wave1006.c **** 	}
 2933              		.loc 1 753 10 view .LVU865
 2934 012a 6FF00205 		mvn	r5, #2
 2935 012e F3E7     		b	.L107
 2936              	.L113:
 758:Device/Src/drv_wave1006.c **** 	}
 2937              		.loc 1 758 10 view .LVU866
 2938 0130 6FF00205 		mvn	r5, #2
 2939 0134 F0E7     		b	.L107
 2940              	.L114:
 763:Device/Src/drv_wave1006.c **** 	}
 2941              		.loc 1 763 10 view .LVU867
 2942 0136 6FF00205 		mvn	r5, #2
 2943 013a EDE7     		b	.L107
 2944              	.L117:
 2945              		.align	2
 2946              	.L116:
 2947 013c 00000000 		.word	.LANCHOR0
 2948 0140 00000000 		.word	.LC35
 2949 0144 10000000 		.word	.LC36
 2950 0148 18000000 		.word	.LC34
 2951              		.cfi_endproc
 2952              	.LFE249:
 2954              		.section	.rodata.sd3078b_calcul_cap.str1.4,"aMS",%progbits,1
 2955              		.align	2
 2956              	.LC37:
 2957 0000 63616C63 		.ascii	"calculate cap error\012\000"
 2957      756C6174 
 2957      65206361 
 2957      70206572 
 2957      726F720A 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 74


 2958              		.section	.text.sd3078b_calcul_cap,"ax",%progbits
 2959              		.align	1
 2960              		.global	sd3078b_calcul_cap
 2961              		.syntax unified
 2962              		.thumb
 2963              		.thumb_func
 2965              	sd3078b_calcul_cap:
 2966              	.LVL243:
 2967              	.LFB250:
 798:Device/Src/drv_wave1006.c **** 
 799:Device/Src/drv_wave1006.c **** uint8_t sd3078b_calcul_cap(uint8_t channel)
 800:Device/Src/drv_wave1006.c **** {
 2968              		.loc 1 800 1 is_stmt 1 view -0
 2969              		.cfi_startproc
 2970              		@ args = 0, pretend = 0, frame = 0
 2971              		@ frame_needed = 0, uses_anonymous_args = 0
 2972              		.loc 1 800 1 is_stmt 0 view .LVU869
 2973 0000 10B5     		push	{r4, lr}
 2974              	.LCFI53:
 2975              		.cfi_def_cfa_offset 8
 2976              		.cfi_offset 4, -8
 2977              		.cfi_offset 14, -4
 801:Device/Src/drv_wave1006.c **** 	int i;
 2978              		.loc 1 801 2 is_stmt 1 view .LVU870
 802:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2979              		.loc 1 802 2 view .LVU871
 2980              	.LVL244:
 2981              		.loc 1 802 9 is_stmt 0 view .LVU872
 2982 0002 0023     		movs	r3, #0
 2983              		.loc 1 802 2 view .LVU873
 2984 0004 09E0     		b	.L119
 2985              	.LVL245:
 2986              	.L120:
 803:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 2987              		.loc 1 803 3 is_stmt 1 discriminator 3 view .LVU874
 2988              		.loc 1 803 16 is_stmt 0 discriminator 3 view .LVU875
 2989 0006 0D4A     		ldr	r2, .L125
 2990 0008 02EB8302 		add	r2, r2, r3, lsl #2
 2991 000c 0021     		movs	r1, #0
 2992 000e 1160     		str	r1, [r2]	@ float
 804:Device/Src/drv_wave1006.c **** 		g_digtal_adj[i] = 0;
 2993              		.loc 1 804 3 is_stmt 1 discriminator 3 view .LVU876
 2994              		.loc 1 804 19 is_stmt 0 discriminator 3 view .LVU877
 2995 0010 0B4A     		ldr	r2, .L125+4
 2996 0012 0021     		movs	r1, #0
 2997 0014 42F82310 		str	r1, [r2, r3, lsl #2]
 802:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2998              		.loc 1 802 23 is_stmt 1 discriminator 3 view .LVU878
 802:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2999              		.loc 1 802 24 is_stmt 0 discriminator 3 view .LVU879
 3000 0018 0133     		adds	r3, r3, #1
 3001              	.LVL246:
 3002              	.L119:
 802:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 3003              		.loc 1 802 14 is_stmt 1 discriminator 1 view .LVU880
 802:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 3004              		.loc 1 802 2 is_stmt 0 discriminator 1 view .LVU881
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 75


 3005 001a B3F5D27F 		cmp	r3, #420
 3006 001e F2DB     		blt	.L120
 805:Device/Src/drv_wave1006.c **** 	}
 806:Device/Src/drv_wave1006.c **** 
 807:Device/Src/drv_wave1006.c **** 	if (calculate_wave1006_temp_cap(channel, g_cap_val, g_digtal_adj, &g_offset) == 0) {
 3007              		.loc 1 807 2 is_stmt 1 view .LVU882
 3008              		.loc 1 807 6 is_stmt 0 view .LVU883
 3009 0020 084B     		ldr	r3, .L125+8
 3010              	.LVL247:
 3011              		.loc 1 807 6 view .LVU884
 3012 0022 074A     		ldr	r2, .L125+4
 3013 0024 0549     		ldr	r1, .L125
 3014 0026 FFF7FEFF 		bl	calculate_wave1006_temp_cap
 3015              	.LVL248:
 3016              		.loc 1 807 5 view .LVU885
 3017 002a 0446     		mov	r4, r0
 3018 002c 10B1     		cbz	r0, .L124
 808:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 809:Device/Src/drv_wave1006.c **** 		return 0;
 810:Device/Src/drv_wave1006.c **** 	}
 811:Device/Src/drv_wave1006.c **** 	return 1;
 3019              		.loc 1 811 9 view .LVU886
 3020 002e 0124     		movs	r4, #1
 3021              	.L121:
 812:Device/Src/drv_wave1006.c **** 
 813:Device/Src/drv_wave1006.c **** }
 3022              		.loc 1 813 1 view .LVU887
 3023 0030 2046     		mov	r0, r4
 3024 0032 10BD     		pop	{r4, pc}
 3025              	.L124:
 808:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 3026              		.loc 1 808 3 is_stmt 1 view .LVU888
 3027 0034 0448     		ldr	r0, .L125+12
 3028 0036 FFF7FEFF 		bl	UsbPrintf
 3029              	.LVL249:
 809:Device/Src/drv_wave1006.c **** 	}
 3030              		.loc 1 809 3 view .LVU889
 809:Device/Src/drv_wave1006.c **** 	}
 3031              		.loc 1 809 10 is_stmt 0 view .LVU890
 3032 003a F9E7     		b	.L121
 3033              	.L126:
 3034              		.align	2
 3035              	.L125:
 3036 003c 00000000 		.word	.LANCHOR1
 3037 0040 00000000 		.word	.LANCHOR2
 3038 0044 00000000 		.word	.LANCHOR3
 3039 0048 00000000 		.word	.LC37
 3040              		.cfi_endproc
 3041              	.LFE250:
 3043              		.section	.rodata.sd3078b_write_otp.str1.4,"aMS",%progbits,1
 3044              		.align	2
 3045              	.LC38:
 3046 0000 64617465 		.ascii	"date error, check ID error\012\000"
 3046      20657272 
 3046      6F722C20 
 3046      63686563 
 3046      6B204944 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 76


 3047              		.align	2
 3048              	.LC39:
 3049 001c 72746320 		.ascii	"rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 3049      25642069 
 3049      643A2530 
 3049      32582530 
 3049      32582530 
 3050              		.align	2
 3051              	.LC40:
 3052 0048 2A2A2A2A 		.ascii	"*************** WRITE SD3078 ************\015\012\000"
 3052      2A2A2A2A 
 3052      2A2A2A2A 
 3052      2A2A2A20 
 3052      57524954 
 3053              		.section	.text.sd3078b_write_otp,"ax",%progbits
 3054              		.align	1
 3055              		.global	sd3078b_write_otp
 3056              		.syntax unified
 3057              		.thumb
 3058              		.thumb_func
 3060              	sd3078b_write_otp:
 3061              	.LVL250:
 3062              	.LFB251:
 814:Device/Src/drv_wave1006.c **** 
 815:Device/Src/drv_wave1006.c **** uint8_t sd3078b_write_otp(uint8_t channel)
 816:Device/Src/drv_wave1006.c **** {
 3063              		.loc 1 816 1 is_stmt 1 view -0
 3064              		.cfi_startproc
 3065              		@ args = 0, pretend = 0, frame = 16
 3066              		@ frame_needed = 0, uses_anonymous_args = 0
 3067              		.loc 1 816 1 is_stmt 0 view .LVU892
 3068 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3069              	.LCFI54:
 3070              		.cfi_def_cfa_offset 20
 3071              		.cfi_offset 4, -20
 3072              		.cfi_offset 5, -16
 3073              		.cfi_offset 6, -12
 3074              		.cfi_offset 7, -8
 3075              		.cfi_offset 14, -4
 3076 0002 8BB0     		sub	sp, sp, #44
 3077              	.LCFI55:
 3078              		.cfi_def_cfa_offset 64
 3079 0004 0546     		mov	r5, r0
 817:Device/Src/drv_wave1006.c **** 	int i;
 3080              		.loc 1 817 2 is_stmt 1 view .LVU893
 818:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 3081              		.loc 1 818 2 view .LVU894
 3082              		.loc 1 818 10 is_stmt 0 view .LVU895
 3083 0006 0023     		movs	r3, #0
 3084 0008 ADF82430 		strh	r3, [sp, #36]	@ movhi
 819:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 3085              		.loc 1 819 2 is_stmt 1 view .LVU896
 3086              		.loc 1 819 11 is_stmt 0 view .LVU897
 3087 000c 0793     		str	r3, [sp, #28]
 3088 000e 0893     		str	r3, [sp, #32]
 820:Device/Src/drv_wave1006.c **** 	int num_adj = -24;
 3089              		.loc 1 820 2 is_stmt 1 view .LVU898
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 77


 3090              	.LVL251:
 821:Device/Src/drv_wave1006.c **** 
 822:Device/Src/drv_wave1006.c **** 	if (sd3078b_calcul_cap(channel) == 0) { 
 3091              		.loc 1 822 2 view .LVU899
 3092              		.loc 1 822 6 is_stmt 0 view .LVU900
 3093 0010 FFF7FEFF 		bl	sd3078b_calcul_cap
 3094              	.LVL252:
 3095              		.loc 1 822 5 view .LVU901
 3096 0014 08B9     		cbnz	r0, .L139
 3097              	.LVL253:
 3098              	.L128:
 823:Device/Src/drv_wave1006.c **** 		return 0;
 824:Device/Src/drv_wave1006.c **** 	}
 825:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 826:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 99 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 827:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 828:Device/Src/drv_wave1006.c **** 		return 0;
 829:Device/Src/drv_wave1006.c **** 	}
 830:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3078   烧写保护位		
 831:Device/Src/drv_wave1006.c **** 	g_sd3068_config.temp_offset_config = g_offset;			 //温度偏移值，不同芯片不一样
 832:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);
 833:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);
 834:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);
 835:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = 0x01;
 836:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = 0x24;
 837:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = 0x27;
 838:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = channel / 100;
 839:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);
 840:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 841:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 842:Device/Src/drv_wave1006.c **** 	}
 843:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 844:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 845:Device/Src/drv_wave1006.c **** 	
 846:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) {
 847:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 849:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 850:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 851:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 852:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 853:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 854:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 855:Device/Src/drv_wave1006.c **** 			num_adj |= 0x40;
 856:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 857:Device/Src/drv_wave1006.c **** 		} else {
 858:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
 859:Device/Src/drv_wave1006.c **** 		}
 860:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val = (i - 120);
 861:Device/Src/drv_wave1006.c **** 	}
 862:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD3078 ************\r\n");
 863:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd3068_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 864:Device/Src/drv_wave1006.c **** 		return 0;
 865:Device/Src/drv_wave1006.c **** 	}
 866:Device/Src/drv_wave1006.c **** 	return 1;
 867:Device/Src/drv_wave1006.c **** }
 3099              		.loc 1 867 1 view .LVU902
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 78


 3100 0016 0BB0     		add	sp, sp, #44
 3101              	.LCFI56:
 3102              		.cfi_remember_state
 3103              		.cfi_def_cfa_offset 20
 3104              		@ sp needed
 3105 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 3106              	.LVL254:
 3107              	.L139:
 3108              	.LCFI57:
 3109              		.cfi_restore_state
 825:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 99 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 3110              		.loc 1 825 2 is_stmt 1 view .LVU903
 3111 001a 07A8     		add	r0, sp, #28
 3112 001c FFF7FEFF 		bl	system_get_real_time
 3113              	.LVL255:
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3114              		.loc 1 826 2 view .LVU904
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3115              		.loc 1 826 10 is_stmt 0 view .LVU905
 3116 0020 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3117              		.loc 1 826 21 view .LVU906
 3118 0024 A2F11803 		sub	r3, r2, #24
 3119 0028 DBB2     		uxtb	r3, r3
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3120              		.loc 1 826 5 view .LVU907
 3121 002a 4B2B     		cmp	r3, #75
 3122 002c 67D8     		bhi	.L129
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3123              		.loc 1 826 46 discriminator 1 view .LVU908
 3124 002e 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3125              		.loc 1 826 39 discriminator 1 view .LVU909
 3126 0032 002B     		cmp	r3, #0
 3127 0034 63D0     		beq	.L129
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3128              		.loc 1 826 55 discriminator 2 view .LVU910
 3129 0036 0C2B     		cmp	r3, #12
 3130 0038 61D8     		bhi	.L129
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3131              		.loc 1 826 79 discriminator 3 view .LVU911
 3132 003a 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3133              		.loc 1 826 72 discriminator 3 view .LVU912
 3134 003e 0028     		cmp	r0, #0
 3135 0040 5DD0     		beq	.L129
 826:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3136              		.loc 1 826 88 discriminator 4 view .LVU913
 3137 0042 1F28     		cmp	r0, #31
 3138 0044 5BD8     		bhi	.L129
 831:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);
 3139              		.loc 1 831 2 is_stmt 1 view .LVU914
 831:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);
 3140              		.loc 1 831 37 is_stmt 0 view .LVU915
 3141 0046 7049     		ldr	r1, .L142
 3142 0048 0C88     		ldrh	r4, [r1]
 3143 004a 7049     		ldr	r1, .L142+4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 79


 3144 004c 0C72     		strb	r4, [r1, #8]
 832:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);
 3145              		.loc 1 832 2 is_stmt 1 view .LVU916
 832:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);
 3146              		.loc 1 832 45 is_stmt 0 view .LVU917
 3147 004e 7049     		ldr	r1, .L142+8
 3148 0050 A1FB0264 		umull	r6, r4, r1, r2
 3149 0054 4FEAD40E 		lsr	lr, r4, #3
 3150 0058 A1FB0E6C 		umull	r6, ip, r1, lr
 3151 005c 4FEADC0C 		lsr	ip, ip, #3
 3152 0060 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3153 0064 AEEB4C04 		sub	r4, lr, ip, lsl #1
 3154 0068 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3155 006c A2EB4E02 		sub	r2, r2, lr, lsl #1
 3156 0070 02EB0412 		add	r2, r2, r4, lsl #4
 832:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);
 3157              		.loc 1 832 14 view .LVU918
 3158 0074 674C     		ldr	r4, .L142+12
 3159 0076 2270     		strb	r2, [r4]
 833:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);
 3160              		.loc 1 833 2 is_stmt 1 view .LVU919
 833:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);
 3161              		.loc 1 833 44 is_stmt 0 view .LVU920
 3162 0078 A1FB0362 		umull	r6, r2, r1, r3
 3163 007c 4FEAD20E 		lsr	lr, r2, #3
 3164 0080 A1FB0E6C 		umull	r6, ip, r1, lr
 3165 0084 4FEADC0C 		lsr	ip, ip, #3
 3166 0088 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3167 008c AEEB4C02 		sub	r2, lr, ip, lsl #1
 3168 0090 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3169 0094 A3EB4E03 		sub	r3, r3, lr, lsl #1
 3170 0098 03EB0213 		add	r3, r3, r2, lsl #4
 833:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);
 3171              		.loc 1 833 14 view .LVU921
 3172 009c 6370     		strb	r3, [r4, #1]
 834:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = 0x01;
 3173              		.loc 1 834 2 is_stmt 1 view .LVU922
 834:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = 0x01;
 3174              		.loc 1 834 44 is_stmt 0 view .LVU923
 3175 009e A1FB0032 		umull	r3, r2, r1, r0
 3176 00a2 D308     		lsrs	r3, r2, #3
 3177 00a4 A1FB036C 		umull	r6, ip, r1, r3
 3178 00a8 4FEADC0C 		lsr	ip, ip, #3
 3179 00ac 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3180 00b0 A3EB4C02 		sub	r2, r3, ip, lsl #1
 3181 00b4 03EB8303 		add	r3, r3, r3, lsl #2
 3182 00b8 A0EB4303 		sub	r3, r0, r3, lsl #1
 3183 00bc 03EB0213 		add	r3, r3, r2, lsl #4
 834:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = 0x01;
 3184              		.loc 1 834 14 view .LVU924
 3185 00c0 A370     		strb	r3, [r4, #2]
 835:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = 0x24;
 3186              		.loc 1 835 2 is_stmt 1 view .LVU925
 835:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = 0x24;
 3187              		.loc 1 835 14 is_stmt 0 view .LVU926
 3188 00c2 0123     		movs	r3, #1
 3189 00c4 E370     		strb	r3, [r4, #3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 80


 836:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = 0x27;
 3190              		.loc 1 836 2 is_stmt 1 view .LVU927
 836:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = 0x27;
 3191              		.loc 1 836 14 is_stmt 0 view .LVU928
 3192 00c6 2423     		movs	r3, #36
 3193 00c8 2371     		strb	r3, [r4, #4]
 837:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = channel / 100;
 3194              		.loc 1 837 2 is_stmt 1 view .LVU929
 837:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = channel / 100;
 3195              		.loc 1 837 14 is_stmt 0 view .LVU930
 3196 00ca 2723     		movs	r3, #39
 3197 00cc 6371     		strb	r3, [r4, #5]
 838:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);
 3198              		.loc 1 838 2 is_stmt 1 view .LVU931
 838:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);
 3199              		.loc 1 838 14 is_stmt 0 view .LVU932
 3200 00ce 524B     		ldr	r3, .L142+16
 3201 00d0 A3FB0523 		umull	r2, r3, r3, r5
 3202 00d4 5B09     		lsrs	r3, r3, #5
 3203 00d6 A371     		strb	r3, [r4, #6]
 839:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 3204              		.loc 1 839 2 is_stmt 1 view .LVU933
 839:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 3205              		.loc 1 839 43 is_stmt 0 view .LVU934
 3206 00d8 A1FB0530 		umull	r3, r0, r1, r5
 3207 00dc C208     		lsrs	r2, r0, #3
 3208 00de A1FB0213 		umull	r1, r3, r1, r2
 3209 00e2 DB08     		lsrs	r3, r3, #3
 3210 00e4 03EB8303 		add	r3, r3, r3, lsl #2
 3211 00e8 A2EB4300 		sub	r0, r2, r3, lsl #1
 3212 00ec 02EB8203 		add	r3, r2, r2, lsl #2
 3213 00f0 A5EB4303 		sub	r3, r5, r3, lsl #1
 3214 00f4 03EB0013 		add	r3, r3, r0, lsl #4
 839:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 3215              		.loc 1 839 14 view .LVU935
 3216 00f8 E371     		strb	r3, [r4, #7]
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3217              		.loc 1 840 2 is_stmt 1 view .LVU936
 3218              	.LVL256:
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3219              		.loc 1 840 9 is_stmt 0 view .LVU937
 3220 00fa 0823     		movs	r3, #8
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3221              		.loc 1 840 2 view .LVU938
 3222 00fc 08E0     		b	.L131
 3223              	.LVL257:
 3224              	.L129:
 827:Device/Src/drv_wave1006.c **** 		return 0;
 3225              		.loc 1 827 3 is_stmt 1 view .LVU939
 3226 00fe 4748     		ldr	r0, .L142+20
 3227 0100 FFF7FEFF 		bl	UsbPrintf
 3228              	.LVL258:
 828:Device/Src/drv_wave1006.c **** 	}
 3229              		.loc 1 828 3 view .LVU940
 828:Device/Src/drv_wave1006.c **** 	}
 3230              		.loc 1 828 10 is_stmt 0 view .LVU941
 3231 0104 0020     		movs	r0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 81


 3232 0106 86E7     		b	.L128
 3233              	.LVL259:
 3234              	.L132:
 841:Device/Src/drv_wave1006.c **** 	}
 3235              		.loc 1 841 3 is_stmt 1 discriminator 3 view .LVU942
 841:Device/Src/drv_wave1006.c **** 	}
 3236              		.loc 1 841 15 is_stmt 0 discriminator 3 view .LVU943
 3237 0108 424A     		ldr	r2, .L142+12
 3238 010a FF21     		movs	r1, #255
 3239 010c D154     		strb	r1, [r2, r3]
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3240              		.loc 1 840 22 is_stmt 1 discriminator 3 view .LVU944
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3241              		.loc 1 840 23 is_stmt 0 discriminator 3 view .LVU945
 3242 010e 0133     		adds	r3, r3, #1
 3243              	.LVL260:
 3244              	.L131:
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3245              		.loc 1 840 14 is_stmt 1 discriminator 1 view .LVU946
 840:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3246              		.loc 1 840 2 is_stmt 0 discriminator 1 view .LVU947
 3247 0110 272B     		cmp	r3, #39
 3248 0112 F9DD     		ble	.L132
 843:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3249              		.loc 1 843 2 is_stmt 1 view .LVU948
 843:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3250              		.loc 1 843 78 is_stmt 0 view .LVU949
 3251 0114 3F4A     		ldr	r2, .L142+12
 843:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3252              		.loc 1 843 104 view .LVU950
 3253 0116 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 3254              	.LVL261:
 843:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3255              		.loc 1 843 117 view .LVU951
 3256 0118 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
 844:Device/Src/drv_wave1006.c **** 	
 3257              		.loc 1 844 13 view .LVU952
 3258 011a 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 844:Device/Src/drv_wave1006.c **** 	
 3259              		.loc 1 844 26 view .LVU953
 3260 011c 5479     		ldrb	r4, [r2, #5]	@ zero_extendqisi2
 844:Device/Src/drv_wave1006.c **** 	
 3261              		.loc 1 844 39 view .LVU954
 3262 011e 9679     		ldrb	r6, [r2, #6]	@ zero_extendqisi2
 844:Device/Src/drv_wave1006.c **** 	
 3263              		.loc 1 844 52 view .LVU955
 3264 0120 D779     		ldrb	r7, [r2, #7]	@ zero_extendqisi2
 843:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3265              		.loc 1 843 2 view .LVU956
 3266 0122 0597     		str	r7, [sp, #20]
 3267 0124 0496     		str	r6, [sp, #16]
 3268 0126 0394     		str	r4, [sp, #12]
 3269 0128 0290     		str	r0, [sp, #8]
 3270 012a 0191     		str	r1, [sp, #4]
 3271 012c 0093     		str	r3, [sp]
 3272 012e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 3273 0130 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 82


 3274 0132 2946     		mov	r1, r5
 3275 0134 3A48     		ldr	r0, .L142+24
 3276 0136 FFF7FEFF 		bl	log_printf
 3277              	.LVL262:
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3278              		.loc 1 846 2 is_stmt 1 view .LVU957
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3279              		.loc 1 846 9 is_stmt 0 view .LVU958
 3280 013a 0024     		movs	r4, #0
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3281              		.loc 1 846 2 view .LVU959
 3282 013c 16E0     		b	.L133
 3283              	.LVL263:
 3284              	.L141:
 852:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3285              		.loc 1 852 4 is_stmt 1 view .LVU960
 852:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3286              		.loc 1 852 31 is_stmt 0 view .LVU961
 3287 013e 394B     		ldr	r3, .L142+28
 3288 0140 83FB0213 		smull	r1, r3, r3, r2
 3289              	.LVL264:
 853:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 3290              		.loc 1 853 4 is_stmt 1 view .LVU962
 854:Device/Src/drv_wave1006.c **** 			num_adj |= 0x40;
 3291              		.loc 1 854 4 view .LVU963
 854:Device/Src/drv_wave1006.c **** 			num_adj |= 0x40;
 3292              		.loc 1 854 12 is_stmt 0 view .LVU964
 3293 0144 A3EBE273 		sub	r3, r3, r2, asr #31
 3294              	.LVL265:
 854:Device/Src/drv_wave1006.c **** 			num_adj |= 0x40;
 3295              		.loc 1 854 12 view .LVU965
 3296 0148 03F07F03 		and	r3, r3, #127
 3297              	.LVL266:
 855:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3298              		.loc 1 855 4 is_stmt 1 view .LVU966
 855:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3299              		.loc 1 855 12 is_stmt 0 view .LVU967
 3300 014c 43F04003 		orr	r3, r3, #64
 3301              	.LVL267:
 856:Device/Src/drv_wave1006.c **** 		} else {
 3302              		.loc 1 856 4 is_stmt 1 view .LVU968
 856:Device/Src/drv_wave1006.c **** 		} else {
 3303              		.loc 1 856 27 is_stmt 0 view .LVU969
 3304 0150 8EF80230 		strb	r3, [lr, #2]
 3305              	.LVL268:
 3306              	.L135:
 860:Device/Src/drv_wave1006.c **** 	}
 3307              		.loc 1 860 3 is_stmt 1 discriminator 2 view .LVU970
 860:Device/Src/drv_wave1006.c **** 	}
 3308              		.loc 1 860 31 is_stmt 0 discriminator 2 view .LVU971
 3309 0154 A4F17801 		sub	r1, r4, #120
 860:Device/Src/drv_wave1006.c **** 	}
 3310              		.loc 1 860 26 discriminator 2 view .LVU972
 3311 0158 04EB4403 		add	r3, r4, r4, lsl #1
 3312 015c 324A     		ldr	r2, .L142+32
 3313 015e 02EB4302 		add	r2, r2, r3, lsl #1
 3314 0162 9388     		ldrh	r3, [r2, #4]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 83


 3315 0164 61F30803 		bfi	r3, r1, #0, #9
 3316 0168 9380     		strh	r3, [r2, #4]	@ movhi
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3317              		.loc 1 846 23 is_stmt 1 discriminator 2 view .LVU973
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3318              		.loc 1 846 24 is_stmt 0 discriminator 2 view .LVU974
 3319 016a 0134     		adds	r4, r4, #1
 3320              	.LVL269:
 3321              	.L133:
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3322              		.loc 1 846 14 is_stmt 1 discriminator 1 view .LVU975
 846:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3323              		.loc 1 846 2 is_stmt 0 discriminator 1 view .LVU976
 3324 016c B4F5D27F 		cmp	r4, #420
 3325 0170 3BDA     		bge	.L140
 847:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3326              		.loc 1 847 3 is_stmt 1 view .LVU977
 847:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3327              		.loc 1 847 39 is_stmt 0 view .LVU978
 3328 0172 2E4B     		ldr	r3, .L142+36
 3329 0174 03EB8403 		add	r3, r3, r4, lsl #2
 3330 0178 D3ED007A 		vldr.32	s15, [r3]
 847:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3331              		.loc 1 847 3 view .LVU979
 3332 017c FCEEE77A 		vcvt.u32.f32	s15, s15
 3333 0180 09A9     		add	r1, sp, #36
 3334 0182 17EE903A 		vmov	r3, s15	@ int
 3335 0186 98B2     		uxth	r0, r3
 3336 0188 FFF7FEFF 		bl	cap_list_to_uint
 3337              	.LVL270:
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3338              		.loc 1 848 3 is_stmt 1 view .LVU980
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3339              		.loc 1 848 36 is_stmt 0 view .LVU981
 3340 018c 9DF82520 		ldrb	r2, [sp, #37]	@ zero_extendqisi2
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3341              		.loc 1 848 48 view .LVU982
 3342 0190 9200     		lsls	r2, r2, #2
 3343 0192 02F01C02 		and	r2, r2, #28
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3344              		.loc 1 848 64 view .LVU983
 3345 0196 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3346              		.loc 1 848 54 view .LVU984
 3347 019a 42EA9312 		orr	r2, r2, r3, lsr #6
 848:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3348              		.loc 1 848 26 view .LVU985
 3349 019e 2249     		ldr	r1, .L142+32
 3350 01a0 04EB440C 		add	ip, r4, r4, lsl #1
 3351 01a4 4FEA4C00 		lsl	r0, ip, #1
 3352 01a8 01EB4C0E 		add	lr, r1, ip, lsl #1
 3353 01ac 11F81CC0 		ldrb	ip, [r1, ip, lsl #1]	@ zero_extendqisi2
 3354 01b0 62F3040C 		bfi	ip, r2, #0, #5
 3355 01b4 01F800C0 		strb	ip, [r1, r0]
 849:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3356              		.loc 1 849 3 is_stmt 1 view .LVU986
 849:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 84


 3357              		.loc 1 849 44 is_stmt 0 view .LVU987
 3358 01b8 C3F3C20C 		ubfx	ip, r3, #3, #3
 849:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3359              		.loc 1 849 25 view .LVU988
 3360 01bc 0A5C     		ldrb	r2, [r1, r0]	@ zero_extendqisi2
 3361 01be 6CF34712 		bfi	r2, ip, #5, #3
 3362 01c2 0A54     		strb	r2, [r1, r0]
 850:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3363              		.loc 1 850 3 is_stmt 1 view .LVU989
 850:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3364              		.loc 1 850 26 is_stmt 0 view .LVU990
 3365 01c4 9EF80120 		ldrb	r2, [lr, #1]	@ zero_extendqisi2
 3366 01c8 63F30202 		bfi	r2, r3, #0, #3
 3367 01cc 8EF80120 		strb	r2, [lr, #1]
 851:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3368              		.loc 1 851 3 is_stmt 1 view .LVU991
 851:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3369              		.loc 1 851 19 is_stmt 0 view .LVU992
 3370 01d0 174B     		ldr	r3, .L142+40
 3371 01d2 53F82420 		ldr	r2, [r3, r4, lsl #2]
 851:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3372              		.loc 1 851 6 view .LVU993
 3373 01d6 002A     		cmp	r2, #0
 3374 01d8 B1DB     		blt	.L141
 858:Device/Src/drv_wave1006.c **** 		}
 3375              		.loc 1 858 4 is_stmt 1 view .LVU994
 858:Device/Src/drv_wave1006.c **** 		}
 3376              		.loc 1 858 27 is_stmt 0 view .LVU995
 3377 01da 04EB4403 		add	r3, r4, r4, lsl #1
 3378 01de 124A     		ldr	r2, .L142+32
 3379 01e0 02EB4303 		add	r3, r2, r3, lsl #1
 3380 01e4 0022     		movs	r2, #0
 3381 01e6 9A70     		strb	r2, [r3, #2]
 3382 01e8 B4E7     		b	.L135
 3383              	.L140:
 862:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd3068_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 3384              		.loc 1 862 2 is_stmt 1 view .LVU996
 3385 01ea 1248     		ldr	r0, .L142+44
 3386 01ec FFF7FEFF 		bl	UsbPrintf
 3387              	.LVL271:
 863:Device/Src/drv_wave1006.c **** 		return 0;
 3388              		.loc 1 863 2 view .LVU997
 863:Device/Src/drv_wave1006.c **** 		return 0;
 3389              		.loc 1 863 6 is_stmt 0 view .LVU998
 3390 01f0 2B46     		mov	r3, r5
 3391 01f2 0D4A     		ldr	r2, .L142+32
 3392 01f4 0749     		ldr	r1, .L142+12
 3393 01f6 0548     		ldr	r0, .L142+4
 3394 01f8 FFF7FEFF 		bl	wave1006_write_otp
 3395              	.LVL272:
 863:Device/Src/drv_wave1006.c **** 		return 0;
 3396              		.loc 1 863 5 view .LVU999
 3397 01fc 08B9     		cbnz	r0, .L137
 866:Device/Src/drv_wave1006.c **** }
 3398              		.loc 1 866 9 view .LVU1000
 3399 01fe 0120     		movs	r0, #1
 3400 0200 09E7     		b	.L128
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 85


 3401              	.L137:
 864:Device/Src/drv_wave1006.c **** 	}
 3402              		.loc 1 864 10 view .LVU1001
 3403 0202 0020     		movs	r0, #0
 3404 0204 07E7     		b	.L128
 3405              	.L143:
 3406 0206 00BF     		.align	2
 3407              	.L142:
 3408 0208 00000000 		.word	.LANCHOR3
 3409 020c 00000000 		.word	.LANCHOR4
 3410 0210 CDCCCCCC 		.word	-858993459
 3411 0214 00000000 		.word	.LANCHOR5
 3412 0218 1F85EB51 		.word	1374389535
 3413 021c 00000000 		.word	.LC38
 3414 0220 1C000000 		.word	.LC39
 3415 0224 56555555 		.word	1431655766
 3416 0228 00000000 		.word	.LANCHOR6
 3417 022c 00000000 		.word	.LANCHOR1
 3418 0230 00000000 		.word	.LANCHOR2
 3419 0234 48000000 		.word	.LC40
 3420              		.cfi_endproc
 3421              	.LFE251:
 3423              		.section	.rodata.sd3078b_ACEQ100.str1.4,"aMS",%progbits,1
 3424              		.align	2
 3425              	.LC41:
 3426 0000 69643A25 		.ascii	"id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 3426      30325825 
 3426      30325825 
 3426      30325825 
 3426      30325825 
 3427              		.section	.text.sd3078b_ACEQ100,"ax",%progbits
 3428              		.align	1
 3429              		.global	sd3078b_ACEQ100
 3430              		.syntax unified
 3431              		.thumb
 3432              		.thumb_func
 3434              	sd3078b_ACEQ100:
 3435              	.LVL273:
 3436              	.LFB252:
 868:Device/Src/drv_wave1006.c **** 
 869:Device/Src/drv_wave1006.c **** uint8_t sd3078b_ACEQ100(uint16_t config, uint16_t rtcAdc, float maxCap)
 870:Device/Src/drv_wave1006.c **** {
 3437              		.loc 1 870 1 is_stmt 1 view -0
 3438              		.cfi_startproc
 3439              		@ args = 0, pretend = 0, frame = 16
 3440              		@ frame_needed = 0, uses_anonymous_args = 0
 3441              		.loc 1 870 1 is_stmt 0 view .LVU1003
 3442 0000 30B5     		push	{r4, r5, lr}
 3443              	.LCFI58:
 3444              		.cfi_def_cfa_offset 12
 3445              		.cfi_offset 4, -12
 3446              		.cfi_offset 5, -8
 3447              		.cfi_offset 14, -4
 3448 0002 8BB0     		sub	sp, sp, #44
 3449              	.LCFI59:
 3450              		.cfi_def_cfa_offset 56
 3451 0004 0446     		mov	r4, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 86


 3452 0006 0B46     		mov	r3, r1
 871:Device/Src/drv_wave1006.c **** 	int i;
 3453              		.loc 1 871 2 is_stmt 1 view .LVU1004
 872:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 3454              		.loc 1 872 2 view .LVU1005
 3455              		.loc 1 872 10 is_stmt 0 view .LVU1006
 3456 0008 0022     		movs	r2, #0
 3457 000a ADF82420 		strh	r2, [sp, #36]	@ movhi
 873:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 3458              		.loc 1 873 2 is_stmt 1 view .LVU1007
 3459              		.loc 1 873 11 is_stmt 0 view .LVU1008
 3460 000e 0792     		str	r2, [sp, #28]
 3461 0010 0892     		str	r2, [sp, #32]
 874:Device/Src/drv_wave1006.c **** 	int num_adj = 0;
 3462              		.loc 1 874 2 is_stmt 1 view .LVU1009
 3463              	.LVL274:
 875:Device/Src/drv_wave1006.c **** 	
 876:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 3464              		.loc 1 876 2 view .LVU1010
 3465              		.loc 1 876 2 is_stmt 0 view .LVU1011
 3466 0012 0BE0     		b	.L145
 3467              	.LVL275:
 3468              	.L146:
 877:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3469              		.loc 1 877 3 is_stmt 1 discriminator 3 view .LVU1012
 3470              		.loc 1 877 16 is_stmt 0 discriminator 3 view .LVU1013
 3471 0014 9849     		ldr	r1, .L162
 3472 0016 01EB820C 		add	ip, r1, r2, lsl #2
 3473 001a 4FF0000E 		mov	lr, #0
 3474 001e CCF800E0 		str	lr, [ip]	@ float
 878:Device/Src/drv_wave1006.c **** 		g_digtal_adj[i] = 0;
 3475              		.loc 1 878 3 is_stmt 1 discriminator 3 view .LVU1014
 3476              		.loc 1 878 19 is_stmt 0 discriminator 3 view .LVU1015
 3477 0022 9649     		ldr	r1, .L162+4
 3478 0024 0020     		movs	r0, #0
 3479 0026 41F82200 		str	r0, [r1, r2, lsl #2]
 876:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3480              		.loc 1 876 23 is_stmt 1 discriminator 3 view .LVU1016
 876:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3481              		.loc 1 876 24 is_stmt 0 discriminator 3 view .LVU1017
 3482 002a 0132     		adds	r2, r2, #1
 3483              	.LVL276:
 3484              	.L145:
 876:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3485              		.loc 1 876 14 is_stmt 1 discriminator 1 view .LVU1018
 876:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3486              		.loc 1 876 2 is_stmt 0 discriminator 1 view .LVU1019
 3487 002c B2F5D27F 		cmp	r2, #420
 3488 0030 F0DB     		blt	.L146
 879:Device/Src/drv_wave1006.c **** 	}
 880:Device/Src/drv_wave1006.c **** 	
 881:Device/Src/drv_wave1006.c **** 	
 882:Device/Src/drv_wave1006.c **** 	if (calculate_ACEQ100_temp_cap(g_cap_val, g_digtal_adj, config, rtcAdc, maxCap) == 0) {
 3489              		.loc 1 882 2 is_stmt 1 view .LVU1020
 3490              		.loc 1 882 6 is_stmt 0 view .LVU1021
 3491 0032 2246     		mov	r2, r4
 3492              	.LVL277:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 87


 3493              		.loc 1 882 6 view .LVU1022
 3494 0034 9149     		ldr	r1, .L162+4
 3495 0036 9048     		ldr	r0, .L162
 3496 0038 FFF7FEFF 		bl	calculate_ACEQ100_temp_cap
 3497              	.LVL278:
 3498              		.loc 1 882 5 view .LVU1023
 3499 003c 0546     		mov	r5, r0
 3500 003e 0028     		cmp	r0, #0
 3501 0040 00F09180 		beq	.L159
 883:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 884:Device/Src/drv_wave1006.c **** 		return 0;
 885:Device/Src/drv_wave1006.c **** 	}
 886:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 3502              		.loc 1 886 2 is_stmt 1 view .LVU1024
 3503 0044 07A8     		add	r0, sp, #28
 3504 0046 FFF7FEFF 		bl	system_get_real_time
 3505              	.LVL279:
 887:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 99 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 3506              		.loc 1 887 2 view .LVU1025
 3507              		.loc 1 887 10 is_stmt 0 view .LVU1026
 3508 004a 9DF81C10 		ldrb	r1, [sp, #28]	@ zero_extendqisi2
 3509              		.loc 1 887 21 view .LVU1027
 3510 004e A1F11803 		sub	r3, r1, #24
 3511 0052 DBB2     		uxtb	r3, r3
 3512              		.loc 1 887 5 view .LVU1028
 3513 0054 4B2B     		cmp	r3, #75
 3514 0056 00F28A80 		bhi	.L149
 3515              		.loc 1 887 46 discriminator 1 view .LVU1029
 3516 005a 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 3517              		.loc 1 887 39 discriminator 1 view .LVU1030
 3518 005e 002A     		cmp	r2, #0
 3519 0060 00F08580 		beq	.L149
 3520              		.loc 1 887 55 discriminator 2 view .LVU1031
 3521 0064 0C2A     		cmp	r2, #12
 3522 0066 00F28280 		bhi	.L149
 3523              		.loc 1 887 79 discriminator 3 view .LVU1032
 3524 006a 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 3525              		.loc 1 887 72 discriminator 3 view .LVU1033
 3526 006e 0028     		cmp	r0, #0
 3527 0070 7DD0     		beq	.L149
 3528              		.loc 1 887 88 discriminator 4 view .LVU1034
 3529 0072 1F28     		cmp	r0, #31
 3530 0074 7BD8     		bhi	.L149
 888:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 889:Device/Src/drv_wave1006.c **** 		return 0;
 890:Device/Src/drv_wave1006.c **** 	}
 891:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3078   烧写保护位		
 892:Device/Src/drv_wave1006.c **** 	g_sd3068_config.temp_offset_config = config;			 //温度偏移值，不同芯片不一样
 3531              		.loc 1 892 2 is_stmt 1 view .LVU1035
 3532              		.loc 1 892 37 is_stmt 0 view .LVU1036
 3533 0076 824B     		ldr	r3, .L162+8
 3534 0078 1C72     		strb	r4, [r3, #8]
 893:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);
 3535              		.loc 1 893 2 is_stmt 1 view .LVU1037
 3536              		.loc 1 893 45 is_stmt 0 view .LVU1038
 3537 007a 824B     		ldr	r3, .L162+12
 3538 007c A3FB0154 		umull	r5, r4, r3, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 88


 3539 0080 4FEAD40C 		lsr	ip, r4, #3
 3540 0084 A3FB0CE5 		umull	lr, r5, r3, ip
 3541 0088 ED08     		lsrs	r5, r5, #3
 3542 008a 05EB8505 		add	r5, r5, r5, lsl #2
 3543 008e ACEB4504 		sub	r4, ip, r5, lsl #1
 3544 0092 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3545 0096 A1EB4C01 		sub	r1, r1, ip, lsl #1
 3546 009a 01EB0411 		add	r1, r1, r4, lsl #4
 3547              		.loc 1 893 14 view .LVU1039
 3548 009e 7A4C     		ldr	r4, .L162+16
 3549 00a0 2170     		strb	r1, [r4]
 894:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);
 3550              		.loc 1 894 2 is_stmt 1 view .LVU1040
 3551              		.loc 1 894 44 is_stmt 0 view .LVU1041
 3552 00a2 A3FB0251 		umull	r5, r1, r3, r2
 3553 00a6 4FEAD10C 		lsr	ip, r1, #3
 3554 00aa A3FB0CE5 		umull	lr, r5, r3, ip
 3555 00ae ED08     		lsrs	r5, r5, #3
 3556 00b0 05EB8505 		add	r5, r5, r5, lsl #2
 3557 00b4 ACEB4501 		sub	r1, ip, r5, lsl #1
 3558 00b8 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3559 00bc A2EB4C02 		sub	r2, r2, ip, lsl #1
 3560 00c0 02EB0112 		add	r2, r2, r1, lsl #4
 3561              		.loc 1 894 14 view .LVU1042
 3562 00c4 6270     		strb	r2, [r4, #1]
 895:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);
 3563              		.loc 1 895 2 is_stmt 1 view .LVU1043
 3564              		.loc 1 895 44 is_stmt 0 view .LVU1044
 3565 00c6 A3FB0021 		umull	r2, r1, r3, r0
 3566 00ca CA08     		lsrs	r2, r1, #3
 3567 00cc A3FB02C5 		umull	ip, r5, r3, r2
 3568 00d0 ED08     		lsrs	r5, r5, #3
 3569 00d2 05EB8505 		add	r5, r5, r5, lsl #2
 3570 00d6 A2EB4501 		sub	r1, r2, r5, lsl #1
 3571 00da 02EB8202 		add	r2, r2, r2, lsl #2
 3572 00de A0EB4202 		sub	r2, r0, r2, lsl #1
 3573 00e2 02EB0112 		add	r2, r2, r1, lsl #4
 3574              		.loc 1 895 14 view .LVU1045
 3575 00e6 A270     		strb	r2, [r4, #2]
 896:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((date.hour / 10) % 10) * 16 + (date.hour % 10);
 3576              		.loc 1 896 2 is_stmt 1 view .LVU1046
 3577              		.loc 1 896 22 is_stmt 0 view .LVU1047
 3578 00e8 9DF81F10 		ldrb	r1, [sp, #31]	@ zero_extendqisi2
 3579              		.loc 1 896 45 view .LVU1048
 3580 00ec A3FB0102 		umull	r0, r2, r3, r1
 3581 00f0 D508     		lsrs	r5, r2, #3
 3582 00f2 A3FB05C0 		umull	ip, r0, r3, r5
 3583 00f6 C008     		lsrs	r0, r0, #3
 3584 00f8 00EB8000 		add	r0, r0, r0, lsl #2
 3585 00fc A5EB4002 		sub	r2, r5, r0, lsl #1
 3586 0100 05EB8505 		add	r5, r5, r5, lsl #2
 3587 0104 A1EB4501 		sub	r1, r1, r5, lsl #1
 3588 0108 01EB0212 		add	r2, r1, r2, lsl #4
 3589              		.loc 1 896 14 view .LVU1049
 3590 010c E270     		strb	r2, [r4, #3]
 897:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = 0x24;
 3591              		.loc 1 897 2 is_stmt 1 view .LVU1050
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 89


 3592              		.loc 1 897 14 is_stmt 0 view .LVU1051
 3593 010e 2422     		movs	r2, #36
 3594 0110 2271     		strb	r2, [r4, #4]
 898:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = 0x27;
 3595              		.loc 1 898 2 is_stmt 1 view .LVU1052
 3596              		.loc 1 898 14 is_stmt 0 view .LVU1053
 3597 0112 2722     		movs	r2, #39
 3598 0114 6271     		strb	r2, [r4, #5]
 899:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((date.min / 10) % 10) * 16 + (date.min % 10);
 3599              		.loc 1 899 2 is_stmt 1 view .LVU1054
 3600              		.loc 1 899 22 is_stmt 0 view .LVU1055
 3601 0116 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 3602              		.loc 1 899 44 view .LVU1056
 3603 011a A3FB0102 		umull	r0, r2, r3, r1
 3604 011e D508     		lsrs	r5, r2, #3
 3605 0120 A3FB05C0 		umull	ip, r0, r3, r5
 3606 0124 C008     		lsrs	r0, r0, #3
 3607 0126 00EB8000 		add	r0, r0, r0, lsl #2
 3608 012a A5EB4002 		sub	r2, r5, r0, lsl #1
 3609 012e 05EB8505 		add	r5, r5, r5, lsl #2
 3610 0132 A1EB4501 		sub	r1, r1, r5, lsl #1
 3611 0136 01EB0212 		add	r2, r1, r2, lsl #4
 3612              		.loc 1 899 14 view .LVU1057
 3613 013a A271     		strb	r2, [r4, #6]
 900:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((date.sec / 10) % 10) * 16 + (date.sec % 10);
 3614              		.loc 1 900 2 is_stmt 1 view .LVU1058
 3615              		.loc 1 900 22 is_stmt 0 view .LVU1059
 3616 013c 9DF82110 		ldrb	r1, [sp, #33]	@ zero_extendqisi2
 3617              		.loc 1 900 44 view .LVU1060
 3618 0140 A3FB0102 		umull	r0, r2, r3, r1
 3619 0144 D008     		lsrs	r0, r2, #3
 3620 0146 A3FB0053 		umull	r5, r3, r3, r0
 3621 014a DB08     		lsrs	r3, r3, #3
 3622 014c 03EB8303 		add	r3, r3, r3, lsl #2
 3623 0150 A0EB4303 		sub	r3, r0, r3, lsl #1
 3624 0154 00EB8000 		add	r0, r0, r0, lsl #2
 3625 0158 A1EB4001 		sub	r1, r1, r0, lsl #1
 3626 015c 01EB0313 		add	r3, r1, r3, lsl #4
 3627              		.loc 1 900 14 view .LVU1061
 3628 0160 E371     		strb	r3, [r4, #7]
 901:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 3629              		.loc 1 901 2 is_stmt 1 view .LVU1062
 3630              	.LVL280:
 3631              		.loc 1 901 9 is_stmt 0 view .LVU1063
 3632 0162 0823     		movs	r3, #8
 3633              		.loc 1 901 2 view .LVU1064
 3634 0164 0EE0     		b	.L151
 3635              	.LVL281:
 3636              	.L159:
 883:Device/Src/drv_wave1006.c **** 		return 0;
 3637              		.loc 1 883 3 is_stmt 1 view .LVU1065
 3638 0166 4948     		ldr	r0, .L162+20
 3639 0168 FFF7FEFF 		bl	UsbPrintf
 3640              	.LVL282:
 884:Device/Src/drv_wave1006.c **** 	}
 3641              		.loc 1 884 3 view .LVU1066
 884:Device/Src/drv_wave1006.c **** 	}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 90


 3642              		.loc 1 884 10 is_stmt 0 view .LVU1067
 3643 016c 03E0     		b	.L148
 3644              	.L149:
 888:Device/Src/drv_wave1006.c **** 		return 0;
 3645              		.loc 1 888 3 is_stmt 1 view .LVU1068
 3646 016e 4848     		ldr	r0, .L162+24
 3647 0170 FFF7FEFF 		bl	UsbPrintf
 3648              	.LVL283:
 889:Device/Src/drv_wave1006.c **** 	}
 3649              		.loc 1 889 3 view .LVU1069
 889:Device/Src/drv_wave1006.c **** 	}
 3650              		.loc 1 889 10 is_stmt 0 view .LVU1070
 3651 0174 0025     		movs	r5, #0
 3652              	.LVL284:
 3653              	.L148:
 902:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 903:Device/Src/drv_wave1006.c **** 	}
 904:Device/Src/drv_wave1006.c **** 	ControlPrintf("id:%02X%02X%02X%02X%02X%02X%02X%02X\n", 
 905:Device/Src/drv_wave1006.c **** 	 	g_dev_id[0], g_dev_id[1], g_dev_id[2], g_dev_id[3], g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev
 906:Device/Src/drv_wave1006.c **** 	
 907:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) {
 908:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 910:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 911:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 912:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 913:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 914:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 915:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 916:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 917:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 918:Device/Src/drv_wave1006.c **** 		} else {
 919:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
 920:Device/Src/drv_wave1006.c **** 		}
 921:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val = (i - 120);
 922:Device/Src/drv_wave1006.c **** 	}
 923:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD3078 ************\r\n");
 924:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd3068_config, g_dev_id, g_temp_arg, AECQ100_CHANNEL) != WAVE1006_EXIT_O
 925:Device/Src/drv_wave1006.c **** 		return 0;
 926:Device/Src/drv_wave1006.c **** 	}
 927:Device/Src/drv_wave1006.c **** 	return 1;
 928:Device/Src/drv_wave1006.c **** }
 3654              		.loc 1 928 1 view .LVU1071
 3655 0176 2846     		mov	r0, r5
 3656 0178 0BB0     		add	sp, sp, #44
 3657              	.LCFI60:
 3658              		.cfi_remember_state
 3659              		.cfi_def_cfa_offset 12
 3660              		@ sp needed
 3661 017a 30BD     		pop	{r4, r5, pc}
 3662              	.LVL285:
 3663              	.L152:
 3664              	.LCFI61:
 3665              		.cfi_restore_state
 902:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3666              		.loc 1 902 3 is_stmt 1 discriminator 3 view .LVU1072
 902:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 91


 3667              		.loc 1 902 15 is_stmt 0 discriminator 3 view .LVU1073
 3668 017c 424A     		ldr	r2, .L162+16
 3669 017e FF21     		movs	r1, #255
 3670 0180 D154     		strb	r1, [r2, r3]
 901:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3671              		.loc 1 901 22 is_stmt 1 discriminator 3 view .LVU1074
 901:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3672              		.loc 1 901 23 is_stmt 0 discriminator 3 view .LVU1075
 3673 0182 0133     		adds	r3, r3, #1
 3674              	.LVL286:
 3675              	.L151:
 901:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3676              		.loc 1 901 14 is_stmt 1 discriminator 1 view .LVU1076
 901:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3677              		.loc 1 901 2 is_stmt 0 discriminator 1 view .LVU1077
 3678 0184 272B     		cmp	r3, #39
 3679 0186 F9DD     		ble	.L152
 904:Device/Src/drv_wave1006.c **** 	 	g_dev_id[0], g_dev_id[1], g_dev_id[2], g_dev_id[3], g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev
 3680              		.loc 1 904 2 is_stmt 1 view .LVU1078
 905:Device/Src/drv_wave1006.c **** 	
 3681              		.loc 1 905 12 is_stmt 0 view .LVU1079
 3682 0188 3F49     		ldr	r1, .L162+16
 905:Device/Src/drv_wave1006.c **** 	
 3683              		.loc 1 905 51 view .LVU1080
 3684 018a CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 3685              	.LVL287:
 905:Device/Src/drv_wave1006.c **** 	
 3686              		.loc 1 905 64 view .LVU1081
 3687 018c 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 905:Device/Src/drv_wave1006.c **** 	
 3688              		.loc 1 905 77 view .LVU1082
 3689 018e 4879     		ldrb	r0, [r1, #5]	@ zero_extendqisi2
 905:Device/Src/drv_wave1006.c **** 	
 3690              		.loc 1 905 90 view .LVU1083
 3691 0190 8C79     		ldrb	r4, [r1, #6]	@ zero_extendqisi2
 905:Device/Src/drv_wave1006.c **** 	
 3692              		.loc 1 905 103 view .LVU1084
 3693 0192 CD79     		ldrb	r5, [r1, #7]	@ zero_extendqisi2
 904:Device/Src/drv_wave1006.c **** 	 	g_dev_id[0], g_dev_id[1], g_dev_id[2], g_dev_id[3], g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev
 3694              		.loc 1 904 2 view .LVU1085
 3695 0194 0495     		str	r5, [sp, #16]
 3696 0196 0394     		str	r4, [sp, #12]
 3697 0198 0290     		str	r0, [sp, #8]
 3698 019a 0192     		str	r2, [sp, #4]
 3699 019c 0093     		str	r3, [sp]
 3700 019e 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 3701 01a0 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 3702 01a2 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 3703 01a4 3B48     		ldr	r0, .L162+28
 3704 01a6 FFF7FEFF 		bl	ControlPrintf
 3705              	.LVL288:
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3706              		.loc 1 907 2 is_stmt 1 view .LVU1086
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3707              		.loc 1 907 9 is_stmt 0 view .LVU1087
 3708 01aa 0024     		movs	r4, #0
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 92


 3709              		.loc 1 907 2 view .LVU1088
 3710 01ac 16E0     		b	.L153
 3711              	.LVL289:
 3712              	.L161:
 913:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3713              		.loc 1 913 4 is_stmt 1 view .LVU1089
 913:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3714              		.loc 1 913 31 is_stmt 0 view .LVU1090
 3715 01ae 3A4B     		ldr	r3, .L162+32
 3716 01b0 83FB0213 		smull	r1, r3, r3, r2
 3717              	.LVL290:
 914:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 3718              		.loc 1 914 4 is_stmt 1 view .LVU1091
 915:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3719              		.loc 1 915 4 view .LVU1092
 915:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3720              		.loc 1 915 12 is_stmt 0 view .LVU1093
 3721 01b4 A3EBE273 		sub	r3, r3, r2, asr #31
 3722              	.LVL291:
 915:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3723              		.loc 1 915 12 view .LVU1094
 3724 01b8 03F07F03 		and	r3, r3, #127
 3725              	.LVL292:
 916:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3726              		.loc 1 916 4 is_stmt 1 view .LVU1095
 916:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3727              		.loc 1 916 12 is_stmt 0 view .LVU1096
 3728 01bc 43F0C003 		orr	r3, r3, #192
 3729              	.LVL293:
 917:Device/Src/drv_wave1006.c **** 		} else {
 3730              		.loc 1 917 4 is_stmt 1 view .LVU1097
 917:Device/Src/drv_wave1006.c **** 		} else {
 3731              		.loc 1 917 27 is_stmt 0 view .LVU1098
 3732 01c0 8EF80230 		strb	r3, [lr, #2]
 3733              	.LVL294:
 3734              	.L155:
 921:Device/Src/drv_wave1006.c **** 	}
 3735              		.loc 1 921 3 is_stmt 1 discriminator 2 view .LVU1099
 921:Device/Src/drv_wave1006.c **** 	}
 3736              		.loc 1 921 31 is_stmt 0 discriminator 2 view .LVU1100
 3737 01c4 A4F17801 		sub	r1, r4, #120
 921:Device/Src/drv_wave1006.c **** 	}
 3738              		.loc 1 921 26 discriminator 2 view .LVU1101
 3739 01c8 04EB4402 		add	r2, r4, r4, lsl #1
 3740 01cc 334B     		ldr	r3, .L162+36
 3741 01ce 03EB4203 		add	r3, r3, r2, lsl #1
 3742 01d2 9A88     		ldrh	r2, [r3, #4]
 3743 01d4 61F30802 		bfi	r2, r1, #0, #9
 3744 01d8 9A80     		strh	r2, [r3, #4]	@ movhi
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3745              		.loc 1 907 23 is_stmt 1 discriminator 2 view .LVU1102
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3746              		.loc 1 907 24 is_stmt 0 discriminator 2 view .LVU1103
 3747 01da 0134     		adds	r4, r4, #1
 3748              	.LVL295:
 3749              	.L153:
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 93


 3750              		.loc 1 907 14 is_stmt 1 discriminator 1 view .LVU1104
 907:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3751              		.loc 1 907 2 is_stmt 0 discriminator 1 view .LVU1105
 3752 01dc B4F5D27F 		cmp	r4, #420
 3753 01e0 3BDA     		bge	.L160
 908:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3754              		.loc 1 908 3 is_stmt 1 view .LVU1106
 908:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3755              		.loc 1 908 39 is_stmt 0 view .LVU1107
 3756 01e2 254B     		ldr	r3, .L162
 3757 01e4 03EB8403 		add	r3, r3, r4, lsl #2
 3758 01e8 D3ED007A 		vldr.32	s15, [r3]
 908:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3759              		.loc 1 908 3 view .LVU1108
 3760 01ec FCEEE77A 		vcvt.u32.f32	s15, s15
 3761 01f0 09A9     		add	r1, sp, #36
 3762 01f2 17EE903A 		vmov	r3, s15	@ int
 3763 01f6 98B2     		uxth	r0, r3
 3764 01f8 FFF7FEFF 		bl	cap_list_to_uint
 3765              	.LVL296:
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3766              		.loc 1 909 3 is_stmt 1 view .LVU1109
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3767              		.loc 1 909 36 is_stmt 0 view .LVU1110
 3768 01fc 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3769              		.loc 1 909 48 view .LVU1111
 3770 0200 9B00     		lsls	r3, r3, #2
 3771 0202 03F01C03 		and	r3, r3, #28
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3772              		.loc 1 909 64 view .LVU1112
 3773 0206 9DF82410 		ldrb	r1, [sp, #36]	@ zero_extendqisi2
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3774              		.loc 1 909 54 view .LVU1113
 3775 020a 43EA9113 		orr	r3, r3, r1, lsr #6
 909:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3776              		.loc 1 909 26 view .LVU1114
 3777 020e 234A     		ldr	r2, .L162+36
 3778 0210 04EB440C 		add	ip, r4, r4, lsl #1
 3779 0214 4FEA4C00 		lsl	r0, ip, #1
 3780 0218 02EB4C0E 		add	lr, r2, ip, lsl #1
 3781 021c 12F81CC0 		ldrb	ip, [r2, ip, lsl #1]	@ zero_extendqisi2
 3782 0220 63F3040C 		bfi	ip, r3, #0, #5
 3783 0224 02F800C0 		strb	ip, [r2, r0]
 910:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3784              		.loc 1 910 3 is_stmt 1 view .LVU1115
 910:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3785              		.loc 1 910 44 is_stmt 0 view .LVU1116
 3786 0228 C1F3C20C 		ubfx	ip, r1, #3, #3
 910:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3787              		.loc 1 910 25 view .LVU1117
 3788 022c 135C     		ldrb	r3, [r2, r0]	@ zero_extendqisi2
 3789 022e 6CF34713 		bfi	r3, ip, #5, #3
 3790 0232 1354     		strb	r3, [r2, r0]
 911:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3791              		.loc 1 911 3 is_stmt 1 view .LVU1118
 911:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 94


 3792              		.loc 1 911 26 is_stmt 0 view .LVU1119
 3793 0234 9EF80130 		ldrb	r3, [lr, #1]	@ zero_extendqisi2
 3794 0238 61F30203 		bfi	r3, r1, #0, #3
 3795 023c 8EF80130 		strb	r3, [lr, #1]
 912:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3796              		.loc 1 912 3 is_stmt 1 view .LVU1120
 912:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3797              		.loc 1 912 19 is_stmt 0 view .LVU1121
 3798 0240 0E4B     		ldr	r3, .L162+4
 3799 0242 53F82420 		ldr	r2, [r3, r4, lsl #2]
 912:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3800              		.loc 1 912 6 view .LVU1122
 3801 0246 002A     		cmp	r2, #0
 3802 0248 B1DB     		blt	.L161
 919:Device/Src/drv_wave1006.c **** 		}
 3803              		.loc 1 919 4 is_stmt 1 view .LVU1123
 919:Device/Src/drv_wave1006.c **** 		}
 3804              		.loc 1 919 27 is_stmt 0 view .LVU1124
 3805 024a 04EB4403 		add	r3, r4, r4, lsl #1
 3806 024e 134A     		ldr	r2, .L162+36
 3807 0250 02EB4303 		add	r3, r2, r3, lsl #1
 3808 0254 0022     		movs	r2, #0
 3809 0256 9A70     		strb	r2, [r3, #2]
 3810 0258 B4E7     		b	.L155
 3811              	.L160:
 923:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd3068_config, g_dev_id, g_temp_arg, AECQ100_CHANNEL) != WAVE1006_EXIT_O
 3812              		.loc 1 923 2 is_stmt 1 view .LVU1125
 3813 025a 1148     		ldr	r0, .L162+40
 3814 025c FFF7FEFF 		bl	UsbPrintf
 3815              	.LVL297:
 924:Device/Src/drv_wave1006.c **** 		return 0;
 3816              		.loc 1 924 2 view .LVU1126
 924:Device/Src/drv_wave1006.c **** 		return 0;
 3817              		.loc 1 924 6 is_stmt 0 view .LVU1127
 3818 0260 0423     		movs	r3, #4
 3819 0262 0E4A     		ldr	r2, .L162+36
 3820 0264 0849     		ldr	r1, .L162+16
 3821 0266 0648     		ldr	r0, .L162+8
 3822 0268 FFF7FEFF 		bl	wave1006_write_otp
 3823              	.LVL298:
 924:Device/Src/drv_wave1006.c **** 		return 0;
 3824              		.loc 1 924 5 view .LVU1128
 3825 026c 08B9     		cbnz	r0, .L157
 927:Device/Src/drv_wave1006.c **** }
 3826              		.loc 1 927 9 view .LVU1129
 3827 026e 0125     		movs	r5, #1
 3828 0270 81E7     		b	.L148
 3829              	.L157:
 925:Device/Src/drv_wave1006.c **** 	}
 3830              		.loc 1 925 10 view .LVU1130
 3831 0272 0025     		movs	r5, #0
 3832 0274 7FE7     		b	.L148
 3833              	.L163:
 3834 0276 00BF     		.align	2
 3835              	.L162:
 3836 0278 00000000 		.word	.LANCHOR1
 3837 027c 00000000 		.word	.LANCHOR2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 95


 3838 0280 00000000 		.word	.LANCHOR4
 3839 0284 CDCCCCCC 		.word	-858993459
 3840 0288 00000000 		.word	.LANCHOR5
 3841 028c 00000000 		.word	.LC37
 3842 0290 00000000 		.word	.LC38
 3843 0294 00000000 		.word	.LC41
 3844 0298 56555555 		.word	1431655766
 3845 029c 00000000 		.word	.LANCHOR6
 3846 02a0 48000000 		.word	.LC40
 3847              		.cfi_endproc
 3848              	.LFE252:
 3850              		.global	g_wave1006_state
 3851              		.global	g_offset
 3852              		.global	g_cap_val
 3853              		.global	g_digtal_adj
 3854              		.global	g_temp_arg
 3855              		.global	g_dev_id
 3856              		.global	g_sd3068_config
 3857              		.global	g_sd8902_config
 3858              		.global	g_sd8840_config
 3859              		.global	g_sd8200_config
 3860              		.global	g_sd8939_config
 3861              		.global	g_sd8931_config
 3862              		.global	g_sd8804_config
 3863              		.global	g_sd8810_config
 3864              		.global	g_sd8800_config
 3865              		.global	g_sd8825_config
 3866              		.section	.rodata
 3867              		.align	2
 3868              		.set	.LANCHOR0,. + 0
 3869              	.LC2:
 3870 0000 00000000 		.ascii	"\000\000\000\000\000"
 3870      00
 3871              		.section	.bss.g_cap_val,"aw",%nobits
 3872              		.align	2
 3873              		.set	.LANCHOR1,. + 0
 3876              	g_cap_val:
 3877 0000 00000000 		.space	1680
 3877      00000000 
 3877      00000000 
 3877      00000000 
 3877      00000000 
 3878              		.section	.bss.g_dev_id,"aw",%nobits
 3879              		.align	2
 3880              		.set	.LANCHOR5,. + 0
 3883              	g_dev_id:
 3884 0000 00000000 		.space	40
 3884      00000000 
 3884      00000000 
 3884      00000000 
 3884      00000000 
 3885              		.section	.bss.g_digtal_adj,"aw",%nobits
 3886              		.align	2
 3887              		.set	.LANCHOR2,. + 0
 3890              	g_digtal_adj:
 3891 0000 00000000 		.space	1680
 3891      00000000 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 96


 3891      00000000 
 3891      00000000 
 3891      00000000 
 3892              		.section	.bss.g_offset,"aw",%nobits
 3893              		.align	1
 3894              		.set	.LANCHOR3,. + 0
 3897              	g_offset:
 3898 0000 0000     		.space	2
 3899              		.section	.bss.g_sd8200_config,"aw",%nobits
 3900              		.align	2
 3903              	g_sd8200_config:
 3904 0000 00000000 		.space	24
 3904      00000000 
 3904      00000000 
 3904      00000000 
 3904      00000000 
 3905              		.section	.bss.g_sd8800_config,"aw",%nobits
 3906              		.align	2
 3909              	g_sd8800_config:
 3910 0000 00000000 		.space	24
 3910      00000000 
 3910      00000000 
 3910      00000000 
 3910      00000000 
 3911              		.section	.bss.g_sd8804_config,"aw",%nobits
 3912              		.align	2
 3915              	g_sd8804_config:
 3916 0000 00000000 		.space	24
 3916      00000000 
 3916      00000000 
 3916      00000000 
 3916      00000000 
 3917              		.section	.bss.g_sd8810_config,"aw",%nobits
 3918              		.align	2
 3921              	g_sd8810_config:
 3922 0000 00000000 		.space	24
 3922      00000000 
 3922      00000000 
 3922      00000000 
 3922      00000000 
 3923              		.section	.bss.g_sd8825_config,"aw",%nobits
 3924              		.align	2
 3927              	g_sd8825_config:
 3928 0000 00000000 		.space	24
 3928      00000000 
 3928      00000000 
 3928      00000000 
 3928      00000000 
 3929              		.section	.bss.g_sd8840_config,"aw",%nobits
 3930              		.align	2
 3933              	g_sd8840_config:
 3934 0000 00000000 		.space	24
 3934      00000000 
 3934      00000000 
 3934      00000000 
 3934      00000000 
 3935              		.section	.bss.g_sd8902_config,"aw",%nobits
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 97


 3936              		.align	2
 3939              	g_sd8902_config:
 3940 0000 00000000 		.space	24
 3940      00000000 
 3940      00000000 
 3940      00000000 
 3940      00000000 
 3941              		.section	.bss.g_sd8931_config,"aw",%nobits
 3942              		.align	2
 3945              	g_sd8931_config:
 3946 0000 00000000 		.space	24
 3946      00000000 
 3946      00000000 
 3946      00000000 
 3946      00000000 
 3947              		.section	.bss.g_sd8939_config,"aw",%nobits
 3948              		.align	2
 3951              	g_sd8939_config:
 3952 0000 00000000 		.space	24
 3952      00000000 
 3952      00000000 
 3952      00000000 
 3952      00000000 
 3953              		.section	.bss.g_temp_arg,"aw",%nobits
 3954              		.align	2
 3955              		.set	.LANCHOR6,. + 0
 3958              	g_temp_arg:
 3959 0000 00000000 		.space	2520
 3959      00000000 
 3959      00000000 
 3959      00000000 
 3959      00000000 
 3960              		.section	.bss.g_wave1006_state,"aw",%nobits
 3961              		.align	2
 3964              	g_wave1006_state:
 3965 0000 0000     		.space	2
 3966              		.section	.data.g_sd3068_config,"aw"
 3967              		.align	2
 3968              		.set	.LANCHOR4,. + 0
 3971              	g_sd3068_config:
 3972 0000 42       		.byte	66
 3973 0001 04       		.byte	4
 3974 0002 AB       		.byte	171
 3975 0003 7F       		.byte	127
 3976 0004 10       		.byte	16
 3977 0005 00       		.byte	0
 3978 0006 00       		.byte	0
 3979 0007 01       		.byte	1
 3980 0008 70       		.byte	112
 3981 0009 64       		.byte	100
 3982 000a 90       		.byte	144
 3983 000b BA       		.byte	186
 3984 000c 34       		.byte	52
 3985 000d 00       		.space	1
 3986 000e F7       		.byte	247
 3987 000f 19       		.byte	25
 3988 0010 80       		.byte	128
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 98


 3989 0011 00       		.byte	0
 3990 0012 00       		.byte	0
 3991 0013 02       		.byte	2
 3992 0014 7F       		.byte	127
 3993 0015 77       		.byte	119
 3994 0016 00       		.byte	0
 3995 0017 00       		.space	1
 3996              		.text
 3997              	.Letext0:
 3998              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 3999              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 4000              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 4001              		.file 5 "Core/Inc/main.h"
 4002              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 4003              		.file 7 "Device/Inc/drv_wave1006.h"
 4004              		.file 8 "Drivers/User_Driver/Inc/soft_i2c.h"
 4005              		.file 9 "Drivers/User_Driver/Inc/rtc_i2c.h"
 4006              		.file 10 "Device/Inc/power.h"
 4007              		.file 11 "App/Inc/calculate.h"
 4008              		.file 12 "Device/Inc/rtc.h"
 4009              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 99


DEFINED SYMBOLS
                            *ABS*:00000000 drv_wave1006.c
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:20     .text.otp_prg_power_ctrl:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:25     .text.otp_prg_power_ctrl:00000000 otp_prg_power_ctrl
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:62     .text.get_device_addr:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:68     .text.get_device_addr:00000000 get_device_addr
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:81     .text.get_device_addr:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:125    .text.drv_wave1006_read_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:131    .text.drv_wave1006_read_reg:00000000 drv_wave1006_read_reg
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:198    .text.drv_wave1006_write_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:204    .text.drv_wave1006_write_reg:00000000 drv_wave1006_write_reg
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:271    .text.wave1006_write_enable_seq:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:276    .text.wave1006_write_enable_seq:00000000 wave1006_write_enable_seq
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:367    .text.wave1006_write_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:372    .text.wave1006_write_otp_single:00000000 wave1006_write_otp_single
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:470    .text.wave1006_read_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:475    .text.wave1006_read_otp_single:00000000 wave1006_read_otp_single
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:592    .rodata.wave1006_enter_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:596    .text.wave1006_enter_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:602    .text.wave1006_enter_test_mode:00000000 wave1006_enter_test_mode
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:719    .text.wave1006_enter_test_mode:00000084 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:724    .rodata.sd3031_enter_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:728    .text.sd3031_enter_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:734    .text.sd3031_enter_test_mode:00000000 sd3031_enter_test_mode
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:894    .text.sd3031_enter_test_mode:000000ac $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:900    .text.wave1006_get_test_flag:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:906    .text.wave1006_get_test_flag:00000000 wave1006_get_test_flag
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:958    .text.sd3031_get_test_flag:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:964    .text.sd3031_get_test_flag:00000000 sd3031_get_test_flag
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1016   .text.wave1006_osc_config_set:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1022   .text.wave1006_osc_config_set:00000000 wave1006_osc_config_set
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1127   .rodata.wave1006_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1217   .text.wave1006_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1223   .text.wave1006_write_otp:00000000 wave1006_write_otp
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1812   .text.wave1006_write_otp:000003ac $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:1827   .text.wave1006_write_otp:000003e0 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2375   .text.wave1006_write_otp:000006cc $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2399   .rodata.wave1006_write_otp_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2409   .text.wave1006_write_otp_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2415   .text.wave1006_write_otp_one:00000000 wave1006_write_otp_one
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2694   .text.wave1006_write_otp_one:00000190 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2702   .rodata.wave1006_read_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2710   .text.wave1006_read_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2716   .text.wave1006_read_otp:00000000 wave1006_read_otp
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2947   .text.wave1006_read_otp:0000013c $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2955   .rodata.sd3078b_calcul_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2959   .text.sd3078b_calcul_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:2965   .text.sd3078b_calcul_cap:00000000 sd3078b_calcul_cap
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3036   .text.sd3078b_calcul_cap:0000003c $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3044   .rodata.sd3078b_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3054   .text.sd3078b_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3060   .text.sd3078b_write_otp:00000000 sd3078b_write_otp
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3408   .text.sd3078b_write_otp:00000208 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3424   .rodata.sd3078b_ACEQ100.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3428   .text.sd3078b_ACEQ100:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3434   .text.sd3078b_ACEQ100:00000000 sd3078b_ACEQ100
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3836   .text.sd3078b_ACEQ100:00000278 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s 			page 100


C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3964   .bss.g_wave1006_state:00000000 g_wave1006_state
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3897   .bss.g_offset:00000000 g_offset
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3876   .bss.g_cap_val:00000000 g_cap_val
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3890   .bss.g_digtal_adj:00000000 g_digtal_adj
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3958   .bss.g_temp_arg:00000000 g_temp_arg
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3883   .bss.g_dev_id:00000000 g_dev_id
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3971   .data.g_sd3068_config:00000000 g_sd3068_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3939   .bss.g_sd8902_config:00000000 g_sd8902_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3933   .bss.g_sd8840_config:00000000 g_sd8840_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3903   .bss.g_sd8200_config:00000000 g_sd8200_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3951   .bss.g_sd8939_config:00000000 g_sd8939_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3945   .bss.g_sd8931_config:00000000 g_sd8931_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3915   .bss.g_sd8804_config:00000000 g_sd8804_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3921   .bss.g_sd8810_config:00000000 g_sd8810_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3909   .bss.g_sd8800_config:00000000 g_sd8800_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3927   .bss.g_sd8825_config:00000000 g_sd8825_config
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3867   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3872   .bss.g_cap_val:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3879   .bss.g_dev_id:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3886   .bss.g_digtal_adj:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3893   .bss.g_offset:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3900   .bss.g_sd8200_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3906   .bss.g_sd8800_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3912   .bss.g_sd8804_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3918   .bss.g_sd8810_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3924   .bss.g_sd8825_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3930   .bss.g_sd8840_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3936   .bss.g_sd8902_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3942   .bss.g_sd8931_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3948   .bss.g_sd8939_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3954   .bss.g_temp_arg:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3961   .bss.g_wave1006_state:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:3967   .data.g_sd3068_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:90     .text.get_device_addr:00000011 $d
C:\Users\86158\AppData\Local\Temp\ccpuBhRM.s:90     .text.get_device_addr:00000012 $t

UNDEFINED SYMBOLS
rtc_otp_power
rtc_read_multi_bytes
rtc_write_multi_bytes
HAL_Delay
UsbPrintf
rtc_group_power
rtc_set_channel
HAL_GPIO_WritePin
CharToInt
strSearch
calculate_wave1006_temp_cap
system_get_real_time
log_printf
cap_list_to_uint
calculate_ACEQ100_temp_cap
ControlPrintf
