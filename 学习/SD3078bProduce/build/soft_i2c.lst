ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"soft_i2c.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.i2c_read_sda,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	i2c_read_sda:
  26              	.LFB239:
  27              		.file 1 "Drivers/User_Driver/Src/soft_i2c.c"
   1:Drivers/User_Driver/Src/soft_i2c.c **** 
   2:Drivers/User_Driver/Src/soft_i2c.c **** /*
   3:Drivers/User_Driver/Src/soft_i2c.c ****  *  drivers  i2c
   4:Drivers/User_Driver/Src/soft_i2c.c ****  * Copyright (C) 2022 shenzhen wave
   5:Drivers/User_Driver/Src/soft_i2c.c ****  * version:v1.0.0--2023-2-12
   6:Drivers/User_Driver/Src/soft_i2c.c ****  * This program is free software; you can redistribute it and/or modify
   7:Drivers/User_Driver/Src/soft_i2c.c ****  */
   8:Drivers/User_Driver/Src/soft_i2c.c **** #include "main.h"
   9:Drivers/User_Driver/Src/soft_i2c.c **** #include "soft_i2c.h"
  10:Drivers/User_Driver/Src/soft_i2c.c **** 
  11:Drivers/User_Driver/Src/soft_i2c.c **** 
  12:Drivers/User_Driver/Src/soft_i2c.c **** uint16_t 	soft_i2c_delay = 200;
  13:Drivers/User_Driver/Src/soft_i2c.c **** /**
  14:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief set sda is high
  15:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  16:Drivers/User_Driver/Src/soft_i2c.c ****  */
  17:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_sda_h(void)
  18:Drivers/User_Driver/Src/soft_i2c.c **** {
  19:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code*/
  20:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_WritePin(GPIOA, GPIO_PIN_11, GPIO_PIN_SET);
  21:Drivers/User_Driver/Src/soft_i2c.c **** }
  22:Drivers/User_Driver/Src/soft_i2c.c **** 
  23:Drivers/User_Driver/Src/soft_i2c.c **** /**
  24:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief set sda is low
  25:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  26:Drivers/User_Driver/Src/soft_i2c.c ****  */
  27:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_sda_l(void)
  28:Drivers/User_Driver/Src/soft_i2c.c **** {
  29:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code*/
  30:Drivers/User_Driver/Src/soft_i2c.c ****     HAL_GPIO_WritePin(GPIOA, GPIO_PIN_11, GPIO_PIN_RESET);
  31:Drivers/User_Driver/Src/soft_i2c.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 2


  32:Drivers/User_Driver/Src/soft_i2c.c **** 
  33:Drivers/User_Driver/Src/soft_i2c.c **** /**
  34:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief set scl is high
  35:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  36:Drivers/User_Driver/Src/soft_i2c.c ****  */
  37:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_scl_h(void)
  38:Drivers/User_Driver/Src/soft_i2c.c **** {
  39:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code*/
  40:Drivers/User_Driver/Src/soft_i2c.c ****     HAL_GPIO_WritePin(GPIOA, GPIO_PIN_12, GPIO_PIN_SET);
  41:Drivers/User_Driver/Src/soft_i2c.c **** }
  42:Drivers/User_Driver/Src/soft_i2c.c **** 
  43:Drivers/User_Driver/Src/soft_i2c.c **** /**
  44:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief set scl is low
  45:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  46:Drivers/User_Driver/Src/soft_i2c.c ****  */
  47:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_scl_l(void)
  48:Drivers/User_Driver/Src/soft_i2c.c **** {
  49:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code*/
  50:Drivers/User_Driver/Src/soft_i2c.c ****     HAL_GPIO_WritePin(GPIOA, GPIO_PIN_12, GPIO_PIN_RESET);
  51:Drivers/User_Driver/Src/soft_i2c.c **** }
  52:Drivers/User_Driver/Src/soft_i2c.c **** 
  53:Drivers/User_Driver/Src/soft_i2c.c **** /**
  54:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Read sda pin state
  55:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  56:Drivers/User_Driver/Src/soft_i2c.c ****  */
  57:Drivers/User_Driver/Src/soft_i2c.c **** static unsigned char i2c_read_sda(void)
  58:Drivers/User_Driver/Src/soft_i2c.c **** {
  28              		.loc 1 58 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  59:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code*/
  60:Drivers/User_Driver/Src/soft_i2c.c ****     if (HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_11) == GPIO_PIN_SET) {
  37              		.loc 1 60 5 view .LVU1
  38              		.loc 1 60 9 is_stmt 0 view .LVU2
  39 0002 4FF40061 		mov	r1, #2048
  40 0006 0348     		ldr	r0, .L5
  41 0008 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  42              	.LVL0:
  43              		.loc 1 60 8 view .LVU3
  44 000c 0128     		cmp	r0, #1
  45 000e 00D0     		beq	.L2
  61:Drivers/User_Driver/Src/soft_i2c.c ****         return 1;
  62:Drivers/User_Driver/Src/soft_i2c.c ****     } else {
  63:Drivers/User_Driver/Src/soft_i2c.c ****         return 0;
  46              		.loc 1 63 16 view .LVU4
  47 0010 0020     		movs	r0, #0
  48              	.L2:
  64:Drivers/User_Driver/Src/soft_i2c.c ****     }
  65:Drivers/User_Driver/Src/soft_i2c.c **** }
  49              		.loc 1 65 1 view .LVU5
  50 0012 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 3


  51              	.L6:
  52              		.align	2
  53              	.L5:
  54 0014 00000240 		.word	1073872896
  55              		.cfi_endproc
  56              	.LFE239:
  58              		.section	.text.i2c_start,"ax",%progbits
  59              		.align	1
  60              		.global	i2c_start
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	i2c_start:
  66              	.LFB243:
  66:Drivers/User_Driver/Src/soft_i2c.c **** 
  67:Drivers/User_Driver/Src/soft_i2c.c **** /**
  68:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief When read data, need to set sda as in
  69:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  70:Drivers/User_Driver/Src/soft_i2c.c ****  */
  71:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_sda_in(void)
  72:Drivers/User_Driver/Src/soft_i2c.c **** {
  73:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code */
  74:Drivers/User_Driver/Src/soft_i2c.c ****   	GPIO_InitTypeDef GPIO_InitStruct = {0};
  75:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
  76:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  77:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_NOPULL;
  78:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  79:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
  80:Drivers/User_Driver/Src/soft_i2c.c **** }
  81:Drivers/User_Driver/Src/soft_i2c.c **** 
  82:Drivers/User_Driver/Src/soft_i2c.c **** /**
  83:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief When send data, need to set sda as out
  84:Drivers/User_Driver/Src/soft_i2c.c ****  * 
  85:Drivers/User_Driver/Src/soft_i2c.c ****  */
  86:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_sda_out(void)
  87:Drivers/User_Driver/Src/soft_i2c.c **** {
  88:Drivers/User_Driver/Src/soft_i2c.c **** 	/*user code */
  89:Drivers/User_Driver/Src/soft_i2c.c ****   	GPIO_InitTypeDef GPIO_InitStruct = {0};
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
  93:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  94:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
  95:Drivers/User_Driver/Src/soft_i2c.c ****   
  96:Drivers/User_Driver/Src/soft_i2c.c **** }
  97:Drivers/User_Driver/Src/soft_i2c.c **** 
  98:Drivers/User_Driver/Src/soft_i2c.c **** /**
  99:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief i2c wiat
 100:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 101:Drivers/User_Driver/Src/soft_i2c.c ****  */
 102:Drivers/User_Driver/Src/soft_i2c.c **** static inline void i2c_Wait(void)
 103:Drivers/User_Driver/Src/soft_i2c.c **** {	
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	int i = soft_i2c_delay;
 105:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 106:Drivers/User_Driver/Src/soft_i2c.c **** }
 107:Drivers/User_Driver/Src/soft_i2c.c **** 
 108:Drivers/User_Driver/Src/soft_i2c.c **** /**
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 4


 109:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Generate an i2c strat signal
 110:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 111:Drivers/User_Driver/Src/soft_i2c.c ****  */
 112:Drivers/User_Driver/Src/soft_i2c.c **** i2c_exit_code_e i2c_start(void)
 113:Drivers/User_Driver/Src/soft_i2c.c **** {
  67              		.loc 1 113 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 24
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71 0000 70B5     		push	{r4, r5, r6, lr}
  72              	.LCFI1:
  73              		.cfi_def_cfa_offset 16
  74              		.cfi_offset 4, -16
  75              		.cfi_offset 5, -12
  76              		.cfi_offset 6, -8
  77              		.cfi_offset 14, -4
  78 0002 86B0     		sub	sp, sp, #24
  79              	.LCFI2:
  80              		.cfi_def_cfa_offset 40
 114:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_out();
  81              		.loc 1 114 2 view .LVU7
  82              	.LBB108:
  83              	.LBI108:
  86:Drivers/User_Driver/Src/soft_i2c.c **** {
  84              		.loc 1 86 20 view .LVU8
  85              	.LBB109:
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
  86              		.loc 1 89 4 view .LVU9
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
  87              		.loc 1 89 21 is_stmt 0 view .LVU10
  88 0004 0023     		movs	r3, #0
  89 0006 0193     		str	r3, [sp, #4]
  90 0008 0293     		str	r3, [sp, #8]
  91 000a 0393     		str	r3, [sp, #12]
  92 000c 0493     		str	r3, [sp, #16]
  93 000e 0593     		str	r3, [sp, #20]
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
  94              		.loc 1 90 2 is_stmt 1 view .LVU11
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
  95              		.loc 1 90 22 is_stmt 0 view .LVU12
  96 0010 4FF40066 		mov	r6, #2048
  97 0014 0196     		str	r6, [sp, #4]
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
  98              		.loc 1 91 2 is_stmt 1 view .LVU13
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
  99              		.loc 1 91 23 is_stmt 0 view .LVU14
 100 0016 1123     		movs	r3, #17
 101 0018 0293     		str	r3, [sp, #8]
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 102              		.loc 1 92 2 is_stmt 1 view .LVU15
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 103              		.loc 1 92 23 is_stmt 0 view .LVU16
 104 001a 0125     		movs	r5, #1
 105 001c 0395     		str	r5, [sp, #12]
  93:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 106              		.loc 1 93 2 is_stmt 1 view .LVU17
  94:Drivers/User_Driver/Src/soft_i2c.c ****   
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 5


 107              		.loc 1 94 2 view .LVU18
 108 001e 1A4C     		ldr	r4, .L15
 109 0020 01A9     		add	r1, sp, #4
 110 0022 2046     		mov	r0, r4
 111 0024 FFF7FEFF 		bl	HAL_GPIO_Init
 112              	.LVL1:
 113              	.LBE109:
 114              	.LBE108:
 115:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_h();
 115              		.loc 1 115 2 view .LVU19
 116              	.LBB110:
 117              	.LBI110:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 118              		.loc 1 17 20 view .LVU20
 119              	.LBB111:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 120              		.loc 1 20 2 view .LVU21
 121 0028 2A46     		mov	r2, r5
 122 002a 3146     		mov	r1, r6
 123 002c 2046     		mov	r0, r4
 124 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 125              	.LVL2:
 126              	.LBE111:
 127              	.LBE110:
 116:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_h();
 128              		.loc 1 116 2 view .LVU22
 129              	.LBB112:
 130              	.LBI112:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 131              		.loc 1 37 20 view .LVU23
 132              	.LBB113:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 133              		.loc 1 40 5 view .LVU24
 134 0032 2A46     		mov	r2, r5
 135 0034 4FF48051 		mov	r1, #4096
 136 0038 2046     		mov	r0, r4
 137 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 138              	.LVL3:
 139              	.LBE113:
 140              	.LBE112:
 117:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 141              		.loc 1 117 2 view .LVU25
 142              	.LBB114:
 143              	.LBI114:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 144              		.loc 1 102 20 view .LVU26
 145              	.LBB115:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 146              		.loc 1 104 2 view .LVU27
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 147              		.loc 1 104 6 is_stmt 0 view .LVU28
 148 003e 134B     		ldr	r3, .L15+4
 149 0040 1B88     		ldrh	r3, [r3]
 150              	.LVL4:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 151              		.loc 1 105 2 is_stmt 1 view .LVU29
 152              	.L8:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 6


 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 153              		.loc 1 105 13 view .LVU30
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 154              		.loc 1 105 8 view .LVU31
 155 0042 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 156              		.loc 1 105 10 is_stmt 0 view .LVU32
 157 0044 013B     		subs	r3, r3, #1
 158              	.LVL5:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 159              		.loc 1 105 8 view .LVU33
 160 0046 002A     		cmp	r2, #0
 161 0048 FBD1     		bne	.L8
 162              	.LVL6:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 163              		.loc 1 105 8 view .LVU34
 164              	.LBE115:
 165              	.LBE114:
 118:Drivers/User_Driver/Src/soft_i2c.c **** 
 119:Drivers/User_Driver/Src/soft_i2c.c **** 	if(!i2c_read_sda())
 166              		.loc 1 119 2 is_stmt 1 view .LVU35
 167              		.loc 1 119 6 is_stmt 0 view .LVU36
 168 004a FFF7FEFF 		bl	i2c_read_sda
 169              	.LVL7:
 170              		.loc 1 119 4 view .LVU37
 171 004e 10B9     		cbnz	r0, .L14
 120:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 121:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_START_FAIL;
 172              		.loc 1 121 10 view .LVU38
 173 0050 0120     		movs	r0, #1
 174              	.L9:
 122:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 123:Drivers/User_Driver/Src/soft_i2c.c **** 
 124:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_l();
 125:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 126:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 127:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 128:Drivers/User_Driver/Src/soft_i2c.c **** 	return I2C_OK;
 129:Drivers/User_Driver/Src/soft_i2c.c **** }
 175              		.loc 1 129 1 view .LVU39
 176 0052 06B0     		add	sp, sp, #24
 177              	.LCFI3:
 178              		.cfi_remember_state
 179              		.cfi_def_cfa_offset 16
 180              		@ sp needed
 181 0054 70BD     		pop	{r4, r5, r6, pc}
 182              	.L14:
 183              	.LCFI4:
 184              		.cfi_restore_state
 124:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 185              		.loc 1 124 2 is_stmt 1 view .LVU40
 186              	.LBB116:
 187              	.LBI116:
  27:Drivers/User_Driver/Src/soft_i2c.c **** {
 188              		.loc 1 27 20 view .LVU41
 189              	.LBB117:
  30:Drivers/User_Driver/Src/soft_i2c.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 7


 190              		.loc 1 30 5 view .LVU42
 191 0056 0022     		movs	r2, #0
 192 0058 4FF40061 		mov	r1, #2048
 193 005c 0A48     		ldr	r0, .L15
 194 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 195              	.LVL8:
 196              	.LBE117:
 197              	.LBE116:
 125:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 198              		.loc 1 125 2 view .LVU43
 199              	.LBB118:
 200              	.LBI118:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 201              		.loc 1 102 20 view .LVU44
 202              	.LBB119:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 203              		.loc 1 104 2 view .LVU45
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 204              		.loc 1 104 6 is_stmt 0 view .LVU46
 205 0062 0A4B     		ldr	r3, .L15+4
 206 0064 1B88     		ldrh	r3, [r3]
 207              	.LVL9:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 208              		.loc 1 105 2 is_stmt 1 view .LVU47
 209              	.L10:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 210              		.loc 1 105 13 view .LVU48
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 211              		.loc 1 105 8 view .LVU49
 212 0066 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 213              		.loc 1 105 10 is_stmt 0 view .LVU50
 214 0068 013B     		subs	r3, r3, #1
 215              	.LVL10:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 216              		.loc 1 105 8 view .LVU51
 217 006a 002A     		cmp	r2, #0
 218 006c FBD1     		bne	.L10
 219              	.LVL11:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 220              		.loc 1 105 8 view .LVU52
 221              	.LBE119:
 222              	.LBE118:
 126:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 223              		.loc 1 126 2 is_stmt 1 view .LVU53
 224              	.LBB120:
 225              	.LBI120:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 226              		.loc 1 47 20 view .LVU54
 227              	.LBB121:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 228              		.loc 1 50 5 view .LVU55
 229 006e 4FF48051 		mov	r1, #4096
 230 0072 0548     		ldr	r0, .L15
 231 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 232              	.LVL12:
 233              	.LBE121:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 8


 234              	.LBE120:
 127:Drivers/User_Driver/Src/soft_i2c.c **** 	return I2C_OK;
 235              		.loc 1 127 2 view .LVU56
 236              	.LBB122:
 237              	.LBI122:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 238              		.loc 1 102 20 view .LVU57
 239              	.LBB123:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 240              		.loc 1 104 2 view .LVU58
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 241              		.loc 1 104 6 is_stmt 0 view .LVU59
 242 0078 044B     		ldr	r3, .L15+4
 243 007a 1B88     		ldrh	r3, [r3]
 244              	.LVL13:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 245              		.loc 1 105 2 is_stmt 1 view .LVU60
 246              	.L11:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 247              		.loc 1 105 13 view .LVU61
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 248              		.loc 1 105 8 view .LVU62
 249 007c 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 250              		.loc 1 105 10 is_stmt 0 view .LVU63
 251 007e 013B     		subs	r3, r3, #1
 252              	.LVL14:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 253              		.loc 1 105 8 view .LVU64
 254 0080 002A     		cmp	r2, #0
 255 0082 FBD1     		bne	.L11
 256              	.LBE123:
 257              	.LBE122:
 128:Drivers/User_Driver/Src/soft_i2c.c **** }
 258              		.loc 1 128 9 view .LVU65
 259 0084 0020     		movs	r0, #0
 260              	.LBB125:
 261              	.LBB124:
 262 0086 E4E7     		b	.L9
 263              	.L16:
 264              		.align	2
 265              	.L15:
 266 0088 00000240 		.word	1073872896
 267 008c 00000000 		.word	.LANCHOR0
 268              	.LBE124:
 269              	.LBE125:
 270              		.cfi_endproc
 271              	.LFE243:
 273              		.section	.text.i2c_stop,"ax",%progbits
 274              		.align	1
 275              		.global	i2c_stop
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 280              	i2c_stop:
 281              	.LFB244:
 130:Drivers/User_Driver/Src/soft_i2c.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 9


 131:Drivers/User_Driver/Src/soft_i2c.c **** /**
 132:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Generate an i2c stop signal
 133:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 134:Drivers/User_Driver/Src/soft_i2c.c ****  */
 135:Drivers/User_Driver/Src/soft_i2c.c **** void i2c_stop(void)
 136:Drivers/User_Driver/Src/soft_i2c.c **** {
 282              		.loc 1 136 1 is_stmt 1 view -0
 283              		.cfi_startproc
 284              		@ args = 0, pretend = 0, frame = 24
 285              		@ frame_needed = 0, uses_anonymous_args = 0
 286 0000 70B5     		push	{r4, r5, r6, lr}
 287              	.LCFI5:
 288              		.cfi_def_cfa_offset 16
 289              		.cfi_offset 4, -16
 290              		.cfi_offset 5, -12
 291              		.cfi_offset 6, -8
 292              		.cfi_offset 14, -4
 293 0002 86B0     		sub	sp, sp, #24
 294              	.LCFI6:
 295              		.cfi_def_cfa_offset 40
 137:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_out();
 296              		.loc 1 137 2 view .LVU67
 297              	.LBB140:
 298              	.LBI140:
  86:Drivers/User_Driver/Src/soft_i2c.c **** {
 299              		.loc 1 86 20 view .LVU68
 300              	.LBB141:
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 301              		.loc 1 89 4 view .LVU69
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 302              		.loc 1 89 21 is_stmt 0 view .LVU70
 303 0004 0024     		movs	r4, #0
 304 0006 0194     		str	r4, [sp, #4]
 305 0008 0294     		str	r4, [sp, #8]
 306 000a 0394     		str	r4, [sp, #12]
 307 000c 0494     		str	r4, [sp, #16]
 308 000e 0594     		str	r4, [sp, #20]
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 309              		.loc 1 90 2 is_stmt 1 view .LVU71
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 310              		.loc 1 90 22 is_stmt 0 view .LVU72
 311 0010 4FF40066 		mov	r6, #2048
 312 0014 0196     		str	r6, [sp, #4]
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 313              		.loc 1 91 2 is_stmt 1 view .LVU73
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 314              		.loc 1 91 23 is_stmt 0 view .LVU74
 315 0016 1123     		movs	r3, #17
 316 0018 0293     		str	r3, [sp, #8]
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 317              		.loc 1 92 2 is_stmt 1 view .LVU75
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 318              		.loc 1 92 23 is_stmt 0 view .LVU76
 319 001a 0123     		movs	r3, #1
 320 001c 0393     		str	r3, [sp, #12]
  93:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 321              		.loc 1 93 2 is_stmt 1 view .LVU77
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 10


  94:Drivers/User_Driver/Src/soft_i2c.c ****   
 322              		.loc 1 94 2 view .LVU78
 323 001e 154D     		ldr	r5, .L21
 324 0020 01A9     		add	r1, sp, #4
 325 0022 2846     		mov	r0, r5
 326 0024 FFF7FEFF 		bl	HAL_GPIO_Init
 327              	.LVL15:
 328              	.LBE141:
 329              	.LBE140:
 138:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_l();
 330              		.loc 1 138 2 view .LVU79
 331              	.LBB142:
 332              	.LBI142:
  27:Drivers/User_Driver/Src/soft_i2c.c **** {
 333              		.loc 1 27 20 view .LVU80
 334              	.LBB143:
  30:Drivers/User_Driver/Src/soft_i2c.c **** }
 335              		.loc 1 30 5 view .LVU81
 336 0028 2246     		mov	r2, r4
 337 002a 3146     		mov	r1, r6
 338 002c 2846     		mov	r0, r5
 339 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 340              	.LVL16:
 341              	.LBE143:
 342              	.LBE142:
 139:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 343              		.loc 1 139 2 view .LVU82
 344              	.LBB144:
 345              	.LBI144:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 346              		.loc 1 47 20 view .LVU83
 347              	.LBB145:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 348              		.loc 1 50 5 view .LVU84
 349 0032 2246     		mov	r2, r4
 350 0034 4FF48051 		mov	r1, #4096
 351 0038 2846     		mov	r0, r5
 352 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 353              	.LVL17:
 354              	.LBE145:
 355              	.LBE144:
 140:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 356              		.loc 1 140 2 view .LVU85
 357              	.LBB146:
 358              	.LBI146:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 359              		.loc 1 102 20 view .LVU86
 360              	.LBB147:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 361              		.loc 1 104 2 view .LVU87
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 362              		.loc 1 104 6 is_stmt 0 view .LVU88
 363 003e 0E4B     		ldr	r3, .L21+4
 364 0040 1B88     		ldrh	r3, [r3]
 365              	.LVL18:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 366              		.loc 1 105 2 is_stmt 1 view .LVU89
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 11


 367              	.L18:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 368              		.loc 1 105 13 view .LVU90
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 369              		.loc 1 105 8 view .LVU91
 370 0042 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 371              		.loc 1 105 10 is_stmt 0 view .LVU92
 372 0044 013B     		subs	r3, r3, #1
 373              	.LVL19:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 374              		.loc 1 105 8 view .LVU93
 375 0046 002A     		cmp	r2, #0
 376 0048 FBD1     		bne	.L18
 377              	.LVL20:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 378              		.loc 1 105 8 view .LVU94
 379              	.LBE147:
 380              	.LBE146:
 141:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_h();
 381              		.loc 1 141 2 is_stmt 1 view .LVU95
 382              	.LBB148:
 383              	.LBI148:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 384              		.loc 1 37 20 view .LVU96
 385              	.LBB149:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 386              		.loc 1 40 5 view .LVU97
 387 004a 0122     		movs	r2, #1
 388 004c 4FF48051 		mov	r1, #4096
 389 0050 0848     		ldr	r0, .L21
 390 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 391              	.LVL21:
 392              	.LBE149:
 393              	.LBE148:
 142:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 394              		.loc 1 142 2 view .LVU98
 395              	.LBB150:
 396              	.LBI150:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 397              		.loc 1 102 20 view .LVU99
 398              	.LBB151:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 399              		.loc 1 104 2 view .LVU100
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 400              		.loc 1 104 6 is_stmt 0 view .LVU101
 401 0056 084B     		ldr	r3, .L21+4
 402 0058 1B88     		ldrh	r3, [r3]
 403              	.LVL22:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 404              		.loc 1 105 2 is_stmt 1 view .LVU102
 405              	.L19:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 406              		.loc 1 105 13 view .LVU103
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 407              		.loc 1 105 8 view .LVU104
 408 005a 1A46     		mov	r2, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 12


 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 409              		.loc 1 105 10 is_stmt 0 view .LVU105
 410 005c 013B     		subs	r3, r3, #1
 411              	.LVL23:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 412              		.loc 1 105 8 view .LVU106
 413 005e 002A     		cmp	r2, #0
 414 0060 FBD1     		bne	.L19
 415              	.LVL24:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 416              		.loc 1 105 8 view .LVU107
 417              	.LBE151:
 418              	.LBE150:
 143:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_h();
 419              		.loc 1 143 2 is_stmt 1 view .LVU108
 420              	.LBB152:
 421              	.LBI152:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 422              		.loc 1 17 20 view .LVU109
 423              	.LBB153:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 424              		.loc 1 20 2 view .LVU110
 425 0062 0122     		movs	r2, #1
 426 0064 4FF40061 		mov	r1, #2048
 427 0068 0248     		ldr	r0, .L21
 428 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
 429              	.LVL25:
 430              	.LBE153:
 431              	.LBE152:
 144:Drivers/User_Driver/Src/soft_i2c.c **** }
 432              		.loc 1 144 1 is_stmt 0 view .LVU111
 433 006e 06B0     		add	sp, sp, #24
 434              	.LCFI7:
 435              		.cfi_def_cfa_offset 16
 436              		@ sp needed
 437 0070 70BD     		pop	{r4, r5, r6, pc}
 438              	.L22:
 439 0072 00BF     		.align	2
 440              	.L21:
 441 0074 00000240 		.word	1073872896
 442 0078 00000000 		.word	.LANCHOR0
 443              		.cfi_endproc
 444              	.LFE244:
 446              		.section	.text.i2c_ack,"ax",%progbits
 447              		.align	1
 448              		.global	i2c_ack
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 453              	i2c_ack:
 454              	.LFB245:
 145:Drivers/User_Driver/Src/soft_i2c.c **** 
 146:Drivers/User_Driver/Src/soft_i2c.c **** /**
 147:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief When data is read, the host responds a ack signal
 148:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 149:Drivers/User_Driver/Src/soft_i2c.c ****  */
 150:Drivers/User_Driver/Src/soft_i2c.c **** void i2c_ack(void)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 13


 151:Drivers/User_Driver/Src/soft_i2c.c **** {	
 455              		.loc 1 151 1 is_stmt 1 view -0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459 0000 10B5     		push	{r4, lr}
 460              	.LCFI8:
 461              		.cfi_def_cfa_offset 8
 462              		.cfi_offset 4, -8
 463              		.cfi_offset 14, -4
 152:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_l();
 464              		.loc 1 152 2 view .LVU113
 465              	.LBB154:
 466              	.LBI154:
  27:Drivers/User_Driver/Src/soft_i2c.c **** {
 467              		.loc 1 27 20 view .LVU114
 468              	.LBB155:
  30:Drivers/User_Driver/Src/soft_i2c.c **** }
 469              		.loc 1 30 5 view .LVU115
 470 0002 124C     		ldr	r4, .L27
 471 0004 0022     		movs	r2, #0
 472 0006 4FF40061 		mov	r1, #2048
 473 000a 2046     		mov	r0, r4
 474 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 475              	.LVL26:
 476              	.LBE155:
 477              	.LBE154:
 153:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 478              		.loc 1 153 2 view .LVU116
 479              	.LBB156:
 480              	.LBI156:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 481              		.loc 1 47 20 view .LVU117
 482              	.LBB157:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 483              		.loc 1 50 5 view .LVU118
 484 0010 0022     		movs	r2, #0
 485 0012 4FF48051 		mov	r1, #4096
 486 0016 2046     		mov	r0, r4
 487 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 488              	.LVL27:
 489              	.LBE157:
 490              	.LBE156:
 154:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 491              		.loc 1 154 2 view .LVU119
 492              	.LBB158:
 493              	.LBI158:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 494              		.loc 1 102 20 view .LVU120
 495              	.LBB159:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 496              		.loc 1 104 2 view .LVU121
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 497              		.loc 1 104 6 is_stmt 0 view .LVU122
 498 001c 0C4B     		ldr	r3, .L27+4
 499 001e 1B88     		ldrh	r3, [r3]
 500              	.LVL28:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 14


 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 501              		.loc 1 105 2 is_stmt 1 view .LVU123
 502              	.L24:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 503              		.loc 1 105 13 view .LVU124
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 504              		.loc 1 105 8 view .LVU125
 505 0020 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 506              		.loc 1 105 10 is_stmt 0 view .LVU126
 507 0022 013B     		subs	r3, r3, #1
 508              	.LVL29:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 509              		.loc 1 105 8 view .LVU127
 510 0024 002A     		cmp	r2, #0
 511 0026 FBD1     		bne	.L24
 512              	.LVL30:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 513              		.loc 1 105 8 view .LVU128
 514              	.LBE159:
 515              	.LBE158:
 155:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_h();
 516              		.loc 1 155 2 is_stmt 1 view .LVU129
 517              	.LBB160:
 518              	.LBI160:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 519              		.loc 1 37 20 view .LVU130
 520              	.LBB161:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 521              		.loc 1 40 5 view .LVU131
 522 0028 0122     		movs	r2, #1
 523 002a 4FF48051 		mov	r1, #4096
 524 002e 0748     		ldr	r0, .L27
 525 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 526              	.LVL31:
 527              	.LBE161:
 528              	.LBE160:
 156:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 529              		.loc 1 156 2 view .LVU132
 530              	.LBB162:
 531              	.LBI162:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 532              		.loc 1 102 20 view .LVU133
 533              	.LBB163:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 534              		.loc 1 104 2 view .LVU134
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 535              		.loc 1 104 6 is_stmt 0 view .LVU135
 536 0034 064B     		ldr	r3, .L27+4
 537 0036 1B88     		ldrh	r3, [r3]
 538              	.LVL32:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 539              		.loc 1 105 2 is_stmt 1 view .LVU136
 540              	.L25:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 541              		.loc 1 105 13 view .LVU137
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 15


 542              		.loc 1 105 8 view .LVU138
 543 0038 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 544              		.loc 1 105 10 is_stmt 0 view .LVU139
 545 003a 013B     		subs	r3, r3, #1
 546              	.LVL33:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 547              		.loc 1 105 8 view .LVU140
 548 003c 002A     		cmp	r2, #0
 549 003e FBD1     		bne	.L25
 550              	.LVL34:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 551              		.loc 1 105 8 view .LVU141
 552              	.LBE163:
 553              	.LBE162:
 157:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 554              		.loc 1 157 2 is_stmt 1 view .LVU142
 555              	.LBB164:
 556              	.LBI164:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 557              		.loc 1 47 20 view .LVU143
 558              	.LBB165:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 559              		.loc 1 50 5 view .LVU144
 560 0040 4FF48051 		mov	r1, #4096
 561 0044 0148     		ldr	r0, .L27
 562 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 563              	.LVL35:
 564              	.LBE165:
 565              	.LBE164:
 158:Drivers/User_Driver/Src/soft_i2c.c **** }
 566              		.loc 1 158 1 is_stmt 0 view .LVU145
 567 004a 10BD     		pop	{r4, pc}
 568              	.L28:
 569              		.align	2
 570              	.L27:
 571 004c 00000240 		.word	1073872896
 572 0050 00000000 		.word	.LANCHOR0
 573              		.cfi_endproc
 574              	.LFE245:
 576              		.section	.text.i2c_nack,"ax",%progbits
 577              		.align	1
 578              		.global	i2c_nack
 579              		.syntax unified
 580              		.thumb
 581              		.thumb_func
 583              	i2c_nack:
 584              	.LFB246:
 159:Drivers/User_Driver/Src/soft_i2c.c **** 
 160:Drivers/User_Driver/Src/soft_i2c.c **** /**
 161:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief when data is read, the host responds a nack signal
 162:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 163:Drivers/User_Driver/Src/soft_i2c.c ****  */
 164:Drivers/User_Driver/Src/soft_i2c.c **** void i2c_nack(void)
 165:Drivers/User_Driver/Src/soft_i2c.c **** {	
 585              		.loc 1 165 1 is_stmt 1 view -0
 586              		.cfi_startproc
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 16


 587              		@ args = 0, pretend = 0, frame = 0
 588              		@ frame_needed = 0, uses_anonymous_args = 0
 589 0000 10B5     		push	{r4, lr}
 590              	.LCFI9:
 591              		.cfi_def_cfa_offset 8
 592              		.cfi_offset 4, -8
 593              		.cfi_offset 14, -4
 166:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_h();
 594              		.loc 1 166 2 view .LVU147
 595              	.LBB166:
 596              	.LBI166:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 597              		.loc 1 17 20 view .LVU148
 598              	.LBB167:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 599              		.loc 1 20 2 view .LVU149
 600 0002 124C     		ldr	r4, .L33
 601 0004 0122     		movs	r2, #1
 602 0006 4FF40061 		mov	r1, #2048
 603 000a 2046     		mov	r0, r4
 604 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 605              	.LVL36:
 606              	.LBE167:
 607              	.LBE166:
 167:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 608              		.loc 1 167 2 view .LVU150
 609              	.LBB168:
 610              	.LBI168:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 611              		.loc 1 47 20 view .LVU151
 612              	.LBB169:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 613              		.loc 1 50 5 view .LVU152
 614 0010 0022     		movs	r2, #0
 615 0012 4FF48051 		mov	r1, #4096
 616 0016 2046     		mov	r0, r4
 617 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 618              	.LVL37:
 619              	.LBE169:
 620              	.LBE168:
 168:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 621              		.loc 1 168 2 view .LVU153
 622              	.LBB170:
 623              	.LBI170:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 624              		.loc 1 102 20 view .LVU154
 625              	.LBB171:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 626              		.loc 1 104 2 view .LVU155
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 627              		.loc 1 104 6 is_stmt 0 view .LVU156
 628 001c 0C4B     		ldr	r3, .L33+4
 629 001e 1B88     		ldrh	r3, [r3]
 630              	.LVL38:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 631              		.loc 1 105 2 is_stmt 1 view .LVU157
 632              	.L30:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 17


 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 633              		.loc 1 105 13 view .LVU158
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 634              		.loc 1 105 8 view .LVU159
 635 0020 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 636              		.loc 1 105 10 is_stmt 0 view .LVU160
 637 0022 013B     		subs	r3, r3, #1
 638              	.LVL39:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 639              		.loc 1 105 8 view .LVU161
 640 0024 002A     		cmp	r2, #0
 641 0026 FBD1     		bne	.L30
 642              	.LVL40:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 643              		.loc 1 105 8 view .LVU162
 644              	.LBE171:
 645              	.LBE170:
 169:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_h();
 646              		.loc 1 169 2 is_stmt 1 view .LVU163
 647              	.LBB172:
 648              	.LBI172:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 649              		.loc 1 37 20 view .LVU164
 650              	.LBB173:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 651              		.loc 1 40 5 view .LVU165
 652 0028 0122     		movs	r2, #1
 653 002a 4FF48051 		mov	r1, #4096
 654 002e 0748     		ldr	r0, .L33
 655 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 656              	.LVL41:
 657              	.LBE173:
 658              	.LBE172:
 170:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 659              		.loc 1 170 2 view .LVU166
 660              	.LBB174:
 661              	.LBI174:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 662              		.loc 1 102 20 view .LVU167
 663              	.LBB175:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 664              		.loc 1 104 2 view .LVU168
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 665              		.loc 1 104 6 is_stmt 0 view .LVU169
 666 0034 064B     		ldr	r3, .L33+4
 667 0036 1B88     		ldrh	r3, [r3]
 668              	.LVL42:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 669              		.loc 1 105 2 is_stmt 1 view .LVU170
 670              	.L31:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 671              		.loc 1 105 13 view .LVU171
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 672              		.loc 1 105 8 view .LVU172
 673 0038 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 18


 674              		.loc 1 105 10 is_stmt 0 view .LVU173
 675 003a 013B     		subs	r3, r3, #1
 676              	.LVL43:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 677              		.loc 1 105 8 view .LVU174
 678 003c 002A     		cmp	r2, #0
 679 003e FBD1     		bne	.L31
 680              	.LVL44:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 681              		.loc 1 105 8 view .LVU175
 682              	.LBE175:
 683              	.LBE174:
 171:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 684              		.loc 1 171 2 is_stmt 1 view .LVU176
 685              	.LBB176:
 686              	.LBI176:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 687              		.loc 1 47 20 view .LVU177
 688              	.LBB177:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 689              		.loc 1 50 5 view .LVU178
 690 0040 4FF48051 		mov	r1, #4096
 691 0044 0148     		ldr	r0, .L33
 692 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 693              	.LVL45:
 694              	.LBE177:
 695              	.LBE176:
 172:Drivers/User_Driver/Src/soft_i2c.c **** }
 696              		.loc 1 172 1 is_stmt 0 view .LVU179
 697 004a 10BD     		pop	{r4, pc}
 698              	.L34:
 699              		.align	2
 700              	.L33:
 701 004c 00000240 		.word	1073872896
 702 0050 00000000 		.word	.LANCHOR0
 703              		.cfi_endproc
 704              	.LFE246:
 706              		.section	.text.i2c_wait_ack,"ax",%progbits
 707              		.align	1
 708              		.global	i2c_wait_ack
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 713              	i2c_wait_ack:
 714              	.LFB247:
 173:Drivers/User_Driver/Src/soft_i2c.c **** 
 174:Drivers/User_Driver/Src/soft_i2c.c **** /**
 175:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief When data is written, the slave responds  a ack signal
 176:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 177:Drivers/User_Driver/Src/soft_i2c.c ****  */
 178:Drivers/User_Driver/Src/soft_i2c.c **** i2c_exit_code_e i2c_wait_ack(void)
 179:Drivers/User_Driver/Src/soft_i2c.c **** {
 715              		.loc 1 179 1 is_stmt 1 view -0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 24
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719 0000 30B5     		push	{r4, r5, lr}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 19


 720              	.LCFI10:
 721              		.cfi_def_cfa_offset 12
 722              		.cfi_offset 4, -12
 723              		.cfi_offset 5, -8
 724              		.cfi_offset 14, -4
 725 0002 87B0     		sub	sp, sp, #28
 726              	.LCFI11:
 727              		.cfi_def_cfa_offset 40
 180:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_in();
 728              		.loc 1 180 2 view .LVU181
 729              	.LBB194:
 730              	.LBI194:
  71:Drivers/User_Driver/Src/soft_i2c.c **** {
 731              		.loc 1 71 20 view .LVU182
 732              	.LBB195:
  74:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 733              		.loc 1 74 4 view .LVU183
  74:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 734              		.loc 1 74 21 is_stmt 0 view .LVU184
 735 0004 0023     		movs	r3, #0
 736 0006 0193     		str	r3, [sp, #4]
 737 0008 0293     		str	r3, [sp, #8]
 738 000a 0393     		str	r3, [sp, #12]
 739 000c 0493     		str	r3, [sp, #16]
 740 000e 0593     		str	r3, [sp, #20]
  75:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 741              		.loc 1 75 2 is_stmt 1 view .LVU185
  75:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 742              		.loc 1 75 22 is_stmt 0 view .LVU186
 743 0010 4FF40063 		mov	r3, #2048
 744 0014 0193     		str	r3, [sp, #4]
  76:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_NOPULL;
 745              		.loc 1 76 2 is_stmt 1 view .LVU187
  77:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 746              		.loc 1 77 2 view .LVU188
  78:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 747              		.loc 1 78 2 view .LVU189
  79:Drivers/User_Driver/Src/soft_i2c.c **** }
 748              		.loc 1 79 2 view .LVU190
 749 0016 224C     		ldr	r4, .L42
 750 0018 01A9     		add	r1, sp, #4
 751 001a 2046     		mov	r0, r4
 752 001c FFF7FEFF 		bl	HAL_GPIO_Init
 753              	.LVL46:
 754              	.LBE195:
 755              	.LBE194:
 181:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_h();
 756              		.loc 1 181 2 view .LVU191
 757              	.LBB196:
 758              	.LBI196:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 759              		.loc 1 37 20 view .LVU192
 760              	.LBB197:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 761              		.loc 1 40 5 view .LVU193
 762 0020 0122     		movs	r2, #1
 763 0022 4FF48051 		mov	r1, #4096
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 20


 764 0026 2046     		mov	r0, r4
 765 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 766              	.LVL47:
 767              	.LBE197:
 768              	.LBE196:
 182:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 769              		.loc 1 182 2 view .LVU194
 770              	.LBB198:
 771              	.LBI198:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 772              		.loc 1 102 20 view .LVU195
 773              	.LBB199:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 774              		.loc 1 104 2 view .LVU196
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 775              		.loc 1 104 6 is_stmt 0 view .LVU197
 776 002c 1D4B     		ldr	r3, .L42+4
 777 002e 1B88     		ldrh	r3, [r3]
 778              	.LVL48:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 779              		.loc 1 105 2 is_stmt 1 view .LVU198
 780              	.L36:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 781              		.loc 1 105 13 view .LVU199
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 782              		.loc 1 105 8 view .LVU200
 783 0030 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 784              		.loc 1 105 10 is_stmt 0 view .LVU201
 785 0032 013B     		subs	r3, r3, #1
 786              	.LVL49:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 787              		.loc 1 105 8 view .LVU202
 788 0034 002A     		cmp	r2, #0
 789 0036 FBD1     		bne	.L36
 790              	.LVL50:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 791              		.loc 1 105 8 view .LVU203
 792              	.LBE199:
 793              	.LBE198:
 183:Drivers/User_Driver/Src/soft_i2c.c **** 
 184:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_read_sda())
 794              		.loc 1 184 2 is_stmt 1 view .LVU204
 795              		.loc 1 184 6 is_stmt 0 view .LVU205
 796 0038 FFF7FEFF 		bl	i2c_read_sda
 797              	.LVL51:
 798              		.loc 1 184 5 view .LVU206
 799 003c 0546     		mov	r5, r0
 800 003e 30BB     		cbnz	r0, .L41
 185:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 186:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_scl_l();
 187:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 188:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 189:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 801              		.loc 1 189 2 is_stmt 1 view .LVU207
 802              	.LBB200:
 803              	.LBI200:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 21


  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 804              		.loc 1 47 20 view .LVU208
 805              	.LBB201:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 806              		.loc 1 50 5 view .LVU209
 807 0040 0022     		movs	r2, #0
 808 0042 4FF48051 		mov	r1, #4096
 809 0046 1648     		ldr	r0, .L42
 810 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 811              	.LVL52:
 812              	.LBE201:
 813              	.LBE200:
 190:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 814              		.loc 1 190 2 view .LVU210
 815              	.LBB202:
 816              	.LBI202:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 817              		.loc 1 102 20 view .LVU211
 818              	.LBB203:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 819              		.loc 1 104 2 view .LVU212
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 820              		.loc 1 104 6 is_stmt 0 view .LVU213
 821 004c 154B     		ldr	r3, .L42+4
 822 004e 1B88     		ldrh	r3, [r3]
 823              	.LVL53:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 824              		.loc 1 105 2 is_stmt 1 view .LVU214
 825              	.L39:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 826              		.loc 1 105 13 view .LVU215
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 827              		.loc 1 105 8 view .LVU216
 828 0050 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 829              		.loc 1 105 10 is_stmt 0 view .LVU217
 830 0052 013B     		subs	r3, r3, #1
 831              	.LVL54:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 832              		.loc 1 105 8 view .LVU218
 833 0054 002A     		cmp	r2, #0
 834 0056 FBD1     		bne	.L39
 835              	.LVL55:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 836              		.loc 1 105 8 view .LVU219
 837              	.LBE203:
 838              	.LBE202:
 191:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_h();
 839              		.loc 1 191 2 is_stmt 1 view .LVU220
 840              	.LBB204:
 841              	.LBI204:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 842              		.loc 1 17 20 view .LVU221
 843              	.LBB205:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 844              		.loc 1 20 2 view .LVU222
 845 0058 114C     		ldr	r4, .L42
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 22


 846 005a 0122     		movs	r2, #1
 847 005c 4FF40061 		mov	r1, #2048
 848 0060 2046     		mov	r0, r4
 849 0062 FFF7FEFF 		bl	HAL_GPIO_WritePin
 850              	.LVL56:
 851              	.LBE205:
 852              	.LBE204:
 192:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_out();
 853              		.loc 1 192 2 view .LVU223
 854              	.LBB206:
 855              	.LBI206:
  86:Drivers/User_Driver/Src/soft_i2c.c **** {
 856              		.loc 1 86 20 view .LVU224
 857              	.LBB207:
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 858              		.loc 1 89 4 view .LVU225
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 859              		.loc 1 89 21 is_stmt 0 view .LVU226
 860 0066 0023     		movs	r3, #0
 861 0068 0193     		str	r3, [sp, #4]
 862 006a 0293     		str	r3, [sp, #8]
 863 006c 0393     		str	r3, [sp, #12]
 864 006e 0493     		str	r3, [sp, #16]
 865 0070 0593     		str	r3, [sp, #20]
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 866              		.loc 1 90 2 is_stmt 1 view .LVU227
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 867              		.loc 1 90 22 is_stmt 0 view .LVU228
 868 0072 4FF40063 		mov	r3, #2048
 869 0076 0193     		str	r3, [sp, #4]
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 870              		.loc 1 91 2 is_stmt 1 view .LVU229
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 871              		.loc 1 91 23 is_stmt 0 view .LVU230
 872 0078 1123     		movs	r3, #17
 873 007a 0293     		str	r3, [sp, #8]
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 874              		.loc 1 92 2 is_stmt 1 view .LVU231
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 875              		.loc 1 92 23 is_stmt 0 view .LVU232
 876 007c 0123     		movs	r3, #1
 877 007e 0393     		str	r3, [sp, #12]
  93:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 878              		.loc 1 93 2 is_stmt 1 view .LVU233
  94:Drivers/User_Driver/Src/soft_i2c.c ****   
 879              		.loc 1 94 2 view .LVU234
 880 0080 01A9     		add	r1, sp, #4
 881 0082 2046     		mov	r0, r4
 882 0084 FFF7FEFF 		bl	HAL_GPIO_Init
 883              	.LVL57:
 884              	.L38:
 885              	.LBE207:
 886              	.LBE206:
 193:Drivers/User_Driver/Src/soft_i2c.c **** 	return I2C_OK;
 194:Drivers/User_Driver/Src/soft_i2c.c **** }
 887              		.loc 1 194 1 is_stmt 0 view .LVU235
 888 0088 2846     		mov	r0, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 23


 889 008a 07B0     		add	sp, sp, #28
 890              	.LCFI12:
 891              		.cfi_remember_state
 892              		.cfi_def_cfa_offset 12
 893              		@ sp needed
 894 008c 30BD     		pop	{r4, r5, pc}
 895              	.L41:
 896              	.LCFI13:
 897              		.cfi_restore_state
 186:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 898              		.loc 1 186 3 is_stmt 1 view .LVU236
 899              	.LBB208:
 900              	.LBI208:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 901              		.loc 1 47 20 view .LVU237
 902              	.LBB209:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 903              		.loc 1 50 5 view .LVU238
 904 008e 0022     		movs	r2, #0
 905 0090 4FF48051 		mov	r1, #4096
 906 0094 0248     		ldr	r0, .L42
 907 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 908              	.LVL58:
 909              	.LBE209:
 910              	.LBE208:
 187:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 911              		.loc 1 187 3 view .LVU239
 187:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 912              		.loc 1 187 10 is_stmt 0 view .LVU240
 913 009a 0225     		movs	r5, #2
 914 009c F4E7     		b	.L38
 915              	.L43:
 916 009e 00BF     		.align	2
 917              	.L42:
 918 00a0 00000240 		.word	1073872896
 919 00a4 00000000 		.word	.LANCHOR0
 920              		.cfi_endproc
 921              	.LFE247:
 923              		.section	.text.i2c_send_byte,"ax",%progbits
 924              		.align	1
 925              		.global	i2c_send_byte
 926              		.syntax unified
 927              		.thumb
 928              		.thumb_func
 930              	i2c_send_byte:
 931              	.LVL59:
 932              	.LFB248:
 195:Drivers/User_Driver/Src/soft_i2c.c **** 
 196:Drivers/User_Driver/Src/soft_i2c.c **** /**
 197:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Send a byte to slave
 198:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 199:Drivers/User_Driver/Src/soft_i2c.c ****  */
 200:Drivers/User_Driver/Src/soft_i2c.c **** void i2c_send_byte(unsigned char value)
 201:Drivers/User_Driver/Src/soft_i2c.c **** {
 933              		.loc 1 201 1 is_stmt 1 view -0
 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 24


 936              		@ frame_needed = 0, uses_anonymous_args = 0
 937              		.loc 1 201 1 is_stmt 0 view .LVU242
 938 0000 38B5     		push	{r3, r4, r5, lr}
 939              	.LCFI14:
 940              		.cfi_def_cfa_offset 16
 941              		.cfi_offset 3, -16
 942              		.cfi_offset 4, -12
 943              		.cfi_offset 5, -8
 944              		.cfi_offset 14, -4
 945 0002 0446     		mov	r4, r0
 202:Drivers/User_Driver/Src/soft_i2c.c **** 	unsigned char i;
 946              		.loc 1 202 2 is_stmt 1 view .LVU243
 203:Drivers/User_Driver/Src/soft_i2c.c **** 
 204:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 947              		.loc 1 204 2 view .LVU244
 948              	.LBB210:
 949              	.LBI210:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 950              		.loc 1 47 20 view .LVU245
 951              	.LBB211:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 952              		.loc 1 50 5 view .LVU246
 953 0004 0022     		movs	r2, #0
 954 0006 4FF48051 		mov	r1, #4096
 955 000a 1948     		ldr	r0, .L54
 956              	.LVL60:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 957              		.loc 1 50 5 is_stmt 0 view .LVU247
 958 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 959              	.LVL61:
 960              	.LBE211:
 961              	.LBE210:
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	for (i = 0; i < 8; i ++)
 962              		.loc 1 205 2 is_stmt 1 view .LVU248
 963              		.loc 1 205 9 is_stmt 0 view .LVU249
 964 0010 0025     		movs	r5, #0
 965              		.loc 1 205 2 view .LVU250
 966 0012 20E0     		b	.L45
 967              	.LVL62:
 968              	.L53:
 206:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 207:Drivers/User_Driver/Src/soft_i2c.c **** 		if(value & 0x80)
 208:Drivers/User_Driver/Src/soft_i2c.c **** 			i2c_sda_h();
 969              		.loc 1 208 4 is_stmt 1 view .LVU251
 970              	.LBB212:
 971              	.LBI212:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 972              		.loc 1 17 20 view .LVU252
 973              	.LBB213:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 974              		.loc 1 20 2 view .LVU253
 975 0014 0122     		movs	r2, #1
 976 0016 4FF40061 		mov	r1, #2048
 977 001a 1548     		ldr	r0, .L54
 978 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 979              	.LVL63:
 980              	.L47:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 25


 981              	.LBE213:
 982              	.LBE212:
 209:Drivers/User_Driver/Src/soft_i2c.c **** 		else 
 210:Drivers/User_Driver/Src/soft_i2c.c **** 			i2c_sda_l();
 211:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_Wait();
 983              		.loc 1 211 3 discriminator 2 view .LVU254
 984              	.LBB214:
 985              	.LBI214:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 986              		.loc 1 102 20 discriminator 2 view .LVU255
 987              	.LBB215:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 988              		.loc 1 104 2 discriminator 2 view .LVU256
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 989              		.loc 1 104 6 is_stmt 0 discriminator 2 view .LVU257
 990 0020 144B     		ldr	r3, .L54+4
 991 0022 1B88     		ldrh	r3, [r3]
 992              	.LVL64:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 993              		.loc 1 105 2 is_stmt 1 discriminator 2 view .LVU258
 994              	.L48:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 995              		.loc 1 105 13 view .LVU259
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 996              		.loc 1 105 8 view .LVU260
 997 0024 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 998              		.loc 1 105 10 is_stmt 0 view .LVU261
 999 0026 013B     		subs	r3, r3, #1
 1000              	.LVL65:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1001              		.loc 1 105 8 view .LVU262
 1002 0028 002A     		cmp	r2, #0
 1003 002a FBD1     		bne	.L48
 1004              	.LVL66:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1005              		.loc 1 105 8 view .LVU263
 1006              	.LBE215:
 1007              	.LBE214:
 212:Drivers/User_Driver/Src/soft_i2c.c **** 		value <<= 1;
 1008              		.loc 1 212 3 is_stmt 1 discriminator 2 view .LVU264
 1009              		.loc 1 212 9 is_stmt 0 discriminator 2 view .LVU265
 1010 002c 6400     		lsls	r4, r4, #1
 1011              	.LVL67:
 1012              		.loc 1 212 9 discriminator 2 view .LVU266
 1013 002e E4B2     		uxtb	r4, r4
 1014              	.LVL68:
 213:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_scl_h();
 1015              		.loc 1 213 3 is_stmt 1 discriminator 2 view .LVU267
 1016              	.LBB216:
 1017              	.LBI216:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 1018              		.loc 1 37 20 discriminator 2 view .LVU268
 1019              	.LBB217:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 1020              		.loc 1 40 5 discriminator 2 view .LVU269
 1021 0030 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 26


 1022 0032 4FF48051 		mov	r1, #4096
 1023 0036 0E48     		ldr	r0, .L54
 1024 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1025              	.LVL69:
 1026              	.LBE217:
 1027              	.LBE216:
 214:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_Wait();
 1028              		.loc 1 214 3 discriminator 2 view .LVU270
 1029              	.LBB218:
 1030              	.LBI218:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 1031              		.loc 1 102 20 discriminator 2 view .LVU271
 1032              	.LBB219:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1033              		.loc 1 104 2 discriminator 2 view .LVU272
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1034              		.loc 1 104 6 is_stmt 0 discriminator 2 view .LVU273
 1035 003c 0D4B     		ldr	r3, .L54+4
 1036 003e 1B88     		ldrh	r3, [r3]
 1037              	.LVL70:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1038              		.loc 1 105 2 is_stmt 1 discriminator 2 view .LVU274
 1039              	.L49:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1040              		.loc 1 105 13 view .LVU275
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1041              		.loc 1 105 8 view .LVU276
 1042 0040 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1043              		.loc 1 105 10 is_stmt 0 view .LVU277
 1044 0042 013B     		subs	r3, r3, #1
 1045              	.LVL71:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1046              		.loc 1 105 8 view .LVU278
 1047 0044 002A     		cmp	r2, #0
 1048 0046 FBD1     		bne	.L49
 1049              	.LVL72:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1050              		.loc 1 105 8 view .LVU279
 1051              	.LBE219:
 1052              	.LBE218:
 215:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_scl_l();
 1053              		.loc 1 215 3 is_stmt 1 view .LVU280
 1054              	.LBB220:
 1055              	.LBI220:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 1056              		.loc 1 47 20 view .LVU281
 1057              	.LBB221:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 1058              		.loc 1 50 5 view .LVU282
 1059 0048 4FF48051 		mov	r1, #4096
 1060 004c 0848     		ldr	r0, .L54
 1061 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1062              	.LVL73:
 1063              	.LBE221:
 1064              	.LBE220:
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	{
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 27


 1065              		.loc 1 205 21 view .LVU283
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1066              		.loc 1 205 23 is_stmt 0 view .LVU284
 1067 0052 0135     		adds	r5, r5, #1
 1068              	.LVL74:
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1069              		.loc 1 205 23 view .LVU285
 1070 0054 EDB2     		uxtb	r5, r5
 1071              	.LVL75:
 1072              	.L45:
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1073              		.loc 1 205 14 is_stmt 1 discriminator 1 view .LVU286
 205:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1074              		.loc 1 205 2 is_stmt 0 discriminator 1 view .LVU287
 1075 0056 072D     		cmp	r5, #7
 1076 0058 09D8     		bhi	.L52
 207:Drivers/User_Driver/Src/soft_i2c.c **** 			i2c_sda_h();
 1077              		.loc 1 207 3 is_stmt 1 view .LVU288
 207:Drivers/User_Driver/Src/soft_i2c.c **** 			i2c_sda_h();
 1078              		.loc 1 207 5 is_stmt 0 view .LVU289
 1079 005a 14F0800F 		tst	r4, #128
 1080 005e D9D1     		bne	.L53
 210:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_Wait();
 1081              		.loc 1 210 4 is_stmt 1 view .LVU290
 1082              	.LBB222:
 1083              	.LBI222:
  27:Drivers/User_Driver/Src/soft_i2c.c **** {
 1084              		.loc 1 27 20 view .LVU291
 1085              	.LBB223:
  30:Drivers/User_Driver/Src/soft_i2c.c **** }
 1086              		.loc 1 30 5 view .LVU292
 1087 0060 0022     		movs	r2, #0
 1088 0062 4FF40061 		mov	r1, #2048
 1089 0066 0248     		ldr	r0, .L54
 1090 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1091              	.LVL76:
  31:Drivers/User_Driver/Src/soft_i2c.c **** 
 1092              		.loc 1 31 1 is_stmt 0 view .LVU293
 1093 006c D8E7     		b	.L47
 1094              	.L52:
 1095              	.LBE223:
 1096              	.LBE222:
 216:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 217:Drivers/User_Driver/Src/soft_i2c.c **** }
 1097              		.loc 1 217 1 view .LVU294
 1098 006e 38BD     		pop	{r3, r4, r5, pc}
 1099              	.LVL77:
 1100              	.L55:
 1101              		.loc 1 217 1 view .LVU295
 1102              		.align	2
 1103              	.L54:
 1104 0070 00000240 		.word	1073872896
 1105 0074 00000000 		.word	.LANCHOR0
 1106              		.cfi_endproc
 1107              	.LFE248:
 1109              		.section	.text.i2c_receive_byte,"ax",%progbits
 1110              		.align	1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 28


 1111              		.global	i2c_receive_byte
 1112              		.syntax unified
 1113              		.thumb
 1114              		.thumb_func
 1116              	i2c_receive_byte:
 1117              	.LFB249:
 218:Drivers/User_Driver/Src/soft_i2c.c **** 
 219:Drivers/User_Driver/Src/soft_i2c.c **** /**
 220:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Receive a byte timing
 221:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 222:Drivers/User_Driver/Src/soft_i2c.c ****  */
 223:Drivers/User_Driver/Src/soft_i2c.c **** unsigned char i2c_receive_byte(void)
 224:Drivers/User_Driver/Src/soft_i2c.c **** {
 1118              		.loc 1 224 1 is_stmt 1 view -0
 1119              		.cfi_startproc
 1120              		@ args = 0, pretend = 0, frame = 24
 1121              		@ frame_needed = 0, uses_anonymous_args = 0
 1122 0000 70B5     		push	{r4, r5, r6, lr}
 1123              	.LCFI15:
 1124              		.cfi_def_cfa_offset 16
 1125              		.cfi_offset 4, -16
 1126              		.cfi_offset 5, -12
 1127              		.cfi_offset 6, -8
 1128              		.cfi_offset 14, -4
 1129 0002 86B0     		sub	sp, sp, #24
 1130              	.LCFI16:
 1131              		.cfi_def_cfa_offset 40
 225:Drivers/User_Driver/Src/soft_i2c.c **** 	unsigned char i;
 1132              		.loc 1 225 2 view .LVU297
 226:Drivers/User_Driver/Src/soft_i2c.c **** 	unsigned char data = 0;
 1133              		.loc 1 226 2 view .LVU298
 1134              	.LVL78:
 227:Drivers/User_Driver/Src/soft_i2c.c **** 
 228:Drivers/User_Driver/Src/soft_i2c.c ****     i2c_sda_in();
 1135              		.loc 1 228 5 view .LVU299
 1136              	.LBB242:
 1137              	.LBI242:
  71:Drivers/User_Driver/Src/soft_i2c.c **** {
 1138              		.loc 1 71 20 view .LVU300
 1139              	.LBB243:
  74:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 1140              		.loc 1 74 4 view .LVU301
  74:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 1141              		.loc 1 74 21 is_stmt 0 view .LVU302
 1142 0004 0024     		movs	r4, #0
 1143 0006 0194     		str	r4, [sp, #4]
 1144 0008 0294     		str	r4, [sp, #8]
 1145 000a 0394     		str	r4, [sp, #12]
 1146 000c 0494     		str	r4, [sp, #16]
 1147 000e 0594     		str	r4, [sp, #20]
  75:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 1148              		.loc 1 75 2 is_stmt 1 view .LVU303
  75:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 1149              		.loc 1 75 22 is_stmt 0 view .LVU304
 1150 0010 4FF40066 		mov	r6, #2048
 1151 0014 0196     		str	r6, [sp, #4]
  76:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_NOPULL;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 29


 1152              		.loc 1 76 2 is_stmt 1 view .LVU305
  77:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 1153              		.loc 1 77 2 view .LVU306
  78:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 1154              		.loc 1 78 2 view .LVU307
  79:Drivers/User_Driver/Src/soft_i2c.c **** }
 1155              		.loc 1 79 2 view .LVU308
 1156 0016 284D     		ldr	r5, .L65
 1157 0018 01A9     		add	r1, sp, #4
 1158 001a 2846     		mov	r0, r5
 1159 001c FFF7FEFF 		bl	HAL_GPIO_Init
 1160              	.LVL79:
 1161              	.LBE243:
 1162              	.LBE242:
 229:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_sda_h();
 1163              		.loc 1 229 2 view .LVU309
 1164              	.LBB244:
 1165              	.LBI244:
  17:Drivers/User_Driver/Src/soft_i2c.c **** {
 1166              		.loc 1 17 20 view .LVU310
 1167              	.LBB245:
  20:Drivers/User_Driver/Src/soft_i2c.c **** }
 1168              		.loc 1 20 2 view .LVU311
 1169 0020 0122     		movs	r2, #1
 1170 0022 3146     		mov	r1, r6
 1171 0024 2846     		mov	r0, r5
 1172 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1173              	.LVL80:
 1174              	.LBE245:
 1175              	.LBE244:
 230:Drivers/User_Driver/Src/soft_i2c.c **** 	for (i = 0; i < 8; i++)
 1176              		.loc 1 230 2 view .LVU312
 226:Drivers/User_Driver/Src/soft_i2c.c **** 
 1177              		.loc 1 226 16 is_stmt 0 view .LVU313
 1178 002a 2546     		mov	r5, r4
 1179              		.loc 1 230 2 view .LVU314
 1180 002c 01E0     		b	.L57
 1181              	.LVL81:
 1182              	.L60:
 1183              		.loc 1 230 21 is_stmt 1 discriminator 2 view .LVU315
 1184              		.loc 1 230 22 is_stmt 0 discriminator 2 view .LVU316
 1185 002e 0134     		adds	r4, r4, #1
 1186              	.LVL82:
 1187              		.loc 1 230 22 discriminator 2 view .LVU317
 1188 0030 E4B2     		uxtb	r4, r4
 1189              	.LVL83:
 1190              	.L57:
 1191              		.loc 1 230 14 is_stmt 1 discriminator 1 view .LVU318
 1192              		.loc 1 230 2 is_stmt 0 discriminator 1 view .LVU319
 1193 0032 072C     		cmp	r4, #7
 1194 0034 20D8     		bhi	.L64
 231:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 232:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_scl_l();
 1195              		.loc 1 232 3 is_stmt 1 view .LVU320
 1196              	.LBB246:
 1197              	.LBI246:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 30


 1198              		.loc 1 47 20 view .LVU321
 1199              	.LBB247:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 1200              		.loc 1 50 5 view .LVU322
 1201 0036 0022     		movs	r2, #0
 1202 0038 4FF48051 		mov	r1, #4096
 1203 003c 1E48     		ldr	r0, .L65
 1204 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1205              	.LVL84:
 1206              	.LBE247:
 1207              	.LBE246:
 233:Drivers/User_Driver/Src/soft_i2c.c **** 		data <<= 1;
 1208              		.loc 1 233 3 view .LVU323
 1209              		.loc 1 233 8 is_stmt 0 view .LVU324
 1210 0042 6D00     		lsls	r5, r5, #1
 1211              	.LVL85:
 1212              		.loc 1 233 8 view .LVU325
 1213 0044 EDB2     		uxtb	r5, r5
 1214              	.LVL86:
 234:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_Wait();
 1215              		.loc 1 234 3 is_stmt 1 view .LVU326
 1216              	.LBB248:
 1217              	.LBI248:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 1218              		.loc 1 102 20 view .LVU327
 1219              	.LBB249:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1220              		.loc 1 104 2 view .LVU328
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1221              		.loc 1 104 6 is_stmt 0 view .LVU329
 1222 0046 1D4B     		ldr	r3, .L65+4
 1223 0048 1B88     		ldrh	r3, [r3]
 1224              	.LVL87:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1225              		.loc 1 105 2 is_stmt 1 view .LVU330
 1226              	.L58:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1227              		.loc 1 105 13 view .LVU331
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1228              		.loc 1 105 8 view .LVU332
 1229 004a 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1230              		.loc 1 105 10 is_stmt 0 view .LVU333
 1231 004c 013B     		subs	r3, r3, #1
 1232              	.LVL88:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1233              		.loc 1 105 8 view .LVU334
 1234 004e 002A     		cmp	r2, #0
 1235 0050 FBD1     		bne	.L58
 1236              	.LVL89:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1237              		.loc 1 105 8 view .LVU335
 1238              	.LBE249:
 1239              	.LBE248:
 235:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_scl_h();
 1240              		.loc 1 235 3 is_stmt 1 view .LVU336
 1241              	.LBB250:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 31


 1242              	.LBI250:
  37:Drivers/User_Driver/Src/soft_i2c.c **** {
 1243              		.loc 1 37 20 view .LVU337
 1244              	.LBB251:
  40:Drivers/User_Driver/Src/soft_i2c.c **** }
 1245              		.loc 1 40 5 view .LVU338
 1246 0052 0122     		movs	r2, #1
 1247 0054 4FF48051 		mov	r1, #4096
 1248 0058 1748     		ldr	r0, .L65
 1249 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1250              	.LVL90:
 1251              	.LBE251:
 1252              	.LBE250:
 236:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_Wait();
 1253              		.loc 1 236 3 view .LVU339
 1254              	.LBB252:
 1255              	.LBI252:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 1256              		.loc 1 102 20 view .LVU340
 1257              	.LBB253:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1258              		.loc 1 104 2 view .LVU341
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1259              		.loc 1 104 6 is_stmt 0 view .LVU342
 1260 005e 174B     		ldr	r3, .L65+4
 1261 0060 1B88     		ldrh	r3, [r3]
 1262              	.LVL91:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1263              		.loc 1 105 2 is_stmt 1 view .LVU343
 1264              	.L59:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1265              		.loc 1 105 13 view .LVU344
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1266              		.loc 1 105 8 view .LVU345
 1267 0062 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1268              		.loc 1 105 10 is_stmt 0 view .LVU346
 1269 0064 013B     		subs	r3, r3, #1
 1270              	.LVL92:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1271              		.loc 1 105 8 view .LVU347
 1272 0066 002A     		cmp	r2, #0
 1273 0068 FBD1     		bne	.L59
 1274              	.LVL93:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1275              		.loc 1 105 8 view .LVU348
 1276              	.LBE253:
 1277              	.LBE252:
 237:Drivers/User_Driver/Src/soft_i2c.c **** 		if(i2c_read_sda())
 1278              		.loc 1 237 3 is_stmt 1 view .LVU349
 1279              		.loc 1 237 6 is_stmt 0 view .LVU350
 1280 006a FFF7FEFF 		bl	i2c_read_sda
 1281              	.LVL94:
 1282              		.loc 1 237 5 view .LVU351
 1283 006e 0028     		cmp	r0, #0
 1284 0070 DDD0     		beq	.L60
 238:Drivers/User_Driver/Src/soft_i2c.c **** 		{
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 32


 239:Drivers/User_Driver/Src/soft_i2c.c **** 			data |= 0x01;
 1285              		.loc 1 239 4 is_stmt 1 view .LVU352
 1286              		.loc 1 239 9 is_stmt 0 view .LVU353
 1287 0072 45F00105 		orr	r5, r5, #1
 1288              	.LVL95:
 1289              		.loc 1 239 9 view .LVU354
 1290 0076 DAE7     		b	.L60
 1291              	.L64:
 240:Drivers/User_Driver/Src/soft_i2c.c **** 		}
 241:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 242:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_scl_l();
 1292              		.loc 1 242 2 is_stmt 1 view .LVU355
 1293              	.LBB254:
 1294              	.LBI254:
  47:Drivers/User_Driver/Src/soft_i2c.c **** {
 1295              		.loc 1 47 20 view .LVU356
 1296              	.LBB255:
  50:Drivers/User_Driver/Src/soft_i2c.c **** }
 1297              		.loc 1 50 5 view .LVU357
 1298 0078 0022     		movs	r2, #0
 1299 007a 4FF48051 		mov	r1, #4096
 1300 007e 0E48     		ldr	r0, .L65
 1301 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1302              	.LVL96:
 1303              	.LBE255:
 1304              	.LBE254:
 243:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_Wait();
 1305              		.loc 1 243 2 view .LVU358
 1306              	.LBB256:
 1307              	.LBI256:
 102:Drivers/User_Driver/Src/soft_i2c.c **** {	
 1308              		.loc 1 102 20 view .LVU359
 1309              	.LBB257:
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1310              		.loc 1 104 2 view .LVU360
 104:Drivers/User_Driver/Src/soft_i2c.c **** 	while (i--);
 1311              		.loc 1 104 6 is_stmt 0 view .LVU361
 1312 0084 0D4B     		ldr	r3, .L65+4
 1313 0086 1B88     		ldrh	r3, [r3]
 1314              	.LVL97:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1315              		.loc 1 105 2 is_stmt 1 view .LVU362
 1316              	.L62:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1317              		.loc 1 105 13 view .LVU363
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1318              		.loc 1 105 8 view .LVU364
 1319 0088 1A46     		mov	r2, r3
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1320              		.loc 1 105 10 is_stmt 0 view .LVU365
 1321 008a 013B     		subs	r3, r3, #1
 1322              	.LVL98:
 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1323              		.loc 1 105 8 view .LVU366
 1324 008c 002A     		cmp	r2, #0
 1325 008e FBD1     		bne	.L62
 1326              	.LVL99:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 33


 105:Drivers/User_Driver/Src/soft_i2c.c **** }
 1327              		.loc 1 105 8 view .LVU367
 1328              	.LBE257:
 1329              	.LBE256:
 244:Drivers/User_Driver/Src/soft_i2c.c ****     i2c_sda_out();
 1330              		.loc 1 244 5 is_stmt 1 view .LVU368
 1331              	.LBB258:
 1332              	.LBI258:
  86:Drivers/User_Driver/Src/soft_i2c.c **** {
 1333              		.loc 1 86 20 view .LVU369
 1334              	.LBB259:
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 1335              		.loc 1 89 4 view .LVU370
  89:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pin = GPIO_PIN_11;
 1336              		.loc 1 89 21 is_stmt 0 view .LVU371
 1337 0090 0023     		movs	r3, #0
 1338 0092 0193     		str	r3, [sp, #4]
 1339 0094 0293     		str	r3, [sp, #8]
 1340 0096 0393     		str	r3, [sp, #12]
 1341 0098 0493     		str	r3, [sp, #16]
 1342 009a 0593     		str	r3, [sp, #20]
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 1343              		.loc 1 90 2 is_stmt 1 view .LVU372
  90:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 1344              		.loc 1 90 22 is_stmt 0 view .LVU373
 1345 009c 4FF40063 		mov	r3, #2048
 1346 00a0 0193     		str	r3, [sp, #4]
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 1347              		.loc 1 91 2 is_stmt 1 view .LVU374
  91:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Pull = GPIO_PULLUP;
 1348              		.loc 1 91 23 is_stmt 0 view .LVU375
 1349 00a2 1123     		movs	r3, #17
 1350 00a4 0293     		str	r3, [sp, #8]
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 1351              		.loc 1 92 2 is_stmt 1 view .LVU376
  92:Drivers/User_Driver/Src/soft_i2c.c **** 	GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 1352              		.loc 1 92 23 is_stmt 0 view .LVU377
 1353 00a6 0123     		movs	r3, #1
 1354 00a8 0393     		str	r3, [sp, #12]
  93:Drivers/User_Driver/Src/soft_i2c.c **** 	HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 1355              		.loc 1 93 2 is_stmt 1 view .LVU378
  94:Drivers/User_Driver/Src/soft_i2c.c ****   
 1356              		.loc 1 94 2 view .LVU379
 1357 00aa 01A9     		add	r1, sp, #4
 1358 00ac 0248     		ldr	r0, .L65
 1359 00ae FFF7FEFF 		bl	HAL_GPIO_Init
 1360              	.LVL100:
 1361              	.LBE259:
 1362              	.LBE258:
 245:Drivers/User_Driver/Src/soft_i2c.c **** 	return data;
 1363              		.loc 1 245 2 view .LVU380
 246:Drivers/User_Driver/Src/soft_i2c.c **** }
 1364              		.loc 1 246 1 is_stmt 0 view .LVU381
 1365 00b2 2846     		mov	r0, r5
 1366 00b4 06B0     		add	sp, sp, #24
 1367              	.LCFI17:
 1368              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 34


 1369              		@ sp needed
 1370 00b6 70BD     		pop	{r4, r5, r6, pc}
 1371              	.LVL101:
 1372              	.L66:
 1373              		.loc 1 246 1 view .LVU382
 1374              		.align	2
 1375              	.L65:
 1376 00b8 00000240 		.word	1073872896
 1377 00bc 00000000 		.word	.LANCHOR0
 1378              		.cfi_endproc
 1379              	.LFE249:
 1381              		.section	.text.i2c_write_multi_bytes,"ax",%progbits
 1382              		.align	1
 1383              		.global	i2c_write_multi_bytes
 1384              		.syntax unified
 1385              		.thumb
 1386              		.thumb_func
 1388              	i2c_write_multi_bytes:
 1389              	.LVL102:
 1390              	.LFB250:
 247:Drivers/User_Driver/Src/soft_i2c.c **** 
 248:Drivers/User_Driver/Src/soft_i2c.c **** /**
 249:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Write multiple bytes to slave 
 250:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 251:Drivers/User_Driver/Src/soft_i2c.c ****  */
 252:Drivers/User_Driver/Src/soft_i2c.c **** i2c_exit_code_e i2c_write_multi_bytes(unsigned char dev_addr, unsigned char reg_addr, const unsigne
 253:Drivers/User_Driver/Src/soft_i2c.c **** {
 1391              		.loc 1 253 1 is_stmt 1 view -0
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 0
 1394              		@ frame_needed = 0, uses_anonymous_args = 0
 1395              		.loc 1 253 1 is_stmt 0 view .LVU384
 1396 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1397              	.LCFI18:
 1398              		.cfi_def_cfa_offset 24
 1399              		.cfi_offset 3, -24
 1400              		.cfi_offset 4, -20
 1401              		.cfi_offset 5, -16
 1402              		.cfi_offset 6, -12
 1403              		.cfi_offset 7, -8
 1404              		.cfi_offset 14, -4
 1405 0002 0446     		mov	r4, r0
 1406 0004 0F46     		mov	r7, r1
 1407 0006 1646     		mov	r6, r2
 1408 0008 1D46     		mov	r5, r3
 254:Drivers/User_Driver/Src/soft_i2c.c ****     unsigned short i;
 1409              		.loc 1 254 5 is_stmt 1 view .LVU385
 255:Drivers/User_Driver/Src/soft_i2c.c **** 
 256:Drivers/User_Driver/Src/soft_i2c.c ****     if (i2c_start() != I2C_OK)
 1410              		.loc 1 256 5 view .LVU386
 1411              		.loc 1 256 9 is_stmt 0 view .LVU387
 1412 000a FFF7FEFF 		bl	i2c_start
 1413              	.LVL103:
 1414              		.loc 1 256 8 view .LVU388
 1415 000e 10B1     		cbz	r0, .L75
 257:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_START_FAIL;
 1416              		.loc 1 257 10 view .LVU389
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 35


 1417 0010 0127     		movs	r7, #1
 1418              	.L68:
 258:Drivers/User_Driver/Src/soft_i2c.c **** 
 259:Drivers/User_Driver/Src/soft_i2c.c ****     i2c_send_byte(dev_addr);
 260:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 261:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 262:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_stop(); 
 263:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 264:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 265:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(reg_addr);
 266:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 267:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 268:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_stop(); 
 269:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 270:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 271:Drivers/User_Driver/Src/soft_i2c.c ****     for (i = 0; i < size; i++)
 272:Drivers/User_Driver/Src/soft_i2c.c ****     {
 273:Drivers/User_Driver/Src/soft_i2c.c ****     	i2c_send_byte(*(buf + i));
 274:Drivers/User_Driver/Src/soft_i2c.c ****     	i2c_wait_ack();
 275:Drivers/User_Driver/Src/soft_i2c.c ****     }
 276:Drivers/User_Driver/Src/soft_i2c.c ****     i2c_stop();
 277:Drivers/User_Driver/Src/soft_i2c.c **** 
 278:Drivers/User_Driver/Src/soft_i2c.c **** 	return	I2C_OK;
 279:Drivers/User_Driver/Src/soft_i2c.c **** }
 1419              		.loc 1 279 1 view .LVU390
 1420 0012 3846     		mov	r0, r7
 1421 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1422              	.LVL104:
 1423              	.L75:
 259:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 1424              		.loc 1 259 5 is_stmt 1 view .LVU391
 1425 0016 2046     		mov	r0, r4
 1426 0018 FFF7FEFF 		bl	i2c_send_byte
 1427              	.LVL105:
 260:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1428              		.loc 1 260 2 view .LVU392
 260:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1429              		.loc 1 260 6 is_stmt 0 view .LVU393
 1430 001c FFF7FEFF 		bl	i2c_wait_ack
 1431              	.LVL106:
 260:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1432              		.loc 1 260 5 view .LVU394
 1433 0020 40B9     		cbnz	r0, .L76
 265:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 1434              		.loc 1 265 2 is_stmt 1 view .LVU395
 1435 0022 3846     		mov	r0, r7
 1436 0024 FFF7FEFF 		bl	i2c_send_byte
 1437              	.LVL107:
 266:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1438              		.loc 1 266 2 view .LVU396
 266:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1439              		.loc 1 266 6 is_stmt 0 view .LVU397
 1440 0028 FFF7FEFF 		bl	i2c_wait_ack
 1441              	.LVL108:
 266:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1442              		.loc 1 266 5 view .LVU398
 1443 002c 0746     		mov	r7, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 36


 1444 002e 28B9     		cbnz	r0, .L77
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1445              		.loc 1 271 12 view .LVU399
 1446 0030 0024     		movs	r4, #0
 1447 0032 0EE0     		b	.L70
 1448              	.L76:
 262:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 1449              		.loc 1 262 3 is_stmt 1 view .LVU400
 1450 0034 FFF7FEFF 		bl	i2c_stop
 1451              	.LVL109:
 263:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1452              		.loc 1 263 3 view .LVU401
 263:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1453              		.loc 1 263 10 is_stmt 0 view .LVU402
 1454 0038 0227     		movs	r7, #2
 1455 003a EAE7     		b	.L68
 1456              	.L77:
 268:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 1457              		.loc 1 268 3 is_stmt 1 view .LVU403
 1458 003c FFF7FEFF 		bl	i2c_stop
 1459              	.LVL110:
 269:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1460              		.loc 1 269 3 view .LVU404
 269:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1461              		.loc 1 269 10 is_stmt 0 view .LVU405
 1462 0040 0227     		movs	r7, #2
 1463 0042 E6E7     		b	.L68
 1464              	.LVL111:
 1465              	.L71:
 273:Drivers/User_Driver/Src/soft_i2c.c ****     	i2c_wait_ack();
 1466              		.loc 1 273 6 is_stmt 1 discriminator 3 view .LVU406
 1467 0044 305D     		ldrb	r0, [r6, r4]	@ zero_extendqisi2
 1468 0046 FFF7FEFF 		bl	i2c_send_byte
 1469              	.LVL112:
 274:Drivers/User_Driver/Src/soft_i2c.c ****     }
 1470              		.loc 1 274 6 discriminator 3 view .LVU407
 1471 004a FFF7FEFF 		bl	i2c_wait_ack
 1472              	.LVL113:
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1473              		.loc 1 271 27 discriminator 3 view .LVU408
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1474              		.loc 1 271 28 is_stmt 0 discriminator 3 view .LVU409
 1475 004e 0134     		adds	r4, r4, #1
 1476              	.LVL114:
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1477              		.loc 1 271 28 discriminator 3 view .LVU410
 1478 0050 A4B2     		uxth	r4, r4
 1479              	.LVL115:
 1480              	.L70:
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1481              		.loc 1 271 17 is_stmt 1 discriminator 1 view .LVU411
 271:Drivers/User_Driver/Src/soft_i2c.c ****     {
 1482              		.loc 1 271 5 is_stmt 0 discriminator 1 view .LVU412
 1483 0052 AC42     		cmp	r4, r5
 1484 0054 F6D3     		bcc	.L71
 276:Drivers/User_Driver/Src/soft_i2c.c **** 
 1485              		.loc 1 276 5 is_stmt 1 view .LVU413
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 37


 1486 0056 FFF7FEFF 		bl	i2c_stop
 1487              	.LVL116:
 278:Drivers/User_Driver/Src/soft_i2c.c **** }
 1488              		.loc 1 278 2 view .LVU414
 278:Drivers/User_Driver/Src/soft_i2c.c **** }
 1489              		.loc 1 278 9 is_stmt 0 view .LVU415
 1490 005a DAE7     		b	.L68
 1491              		.cfi_endproc
 1492              	.LFE250:
 1494              		.section	.text.i2c_read_multi_bytes,"ax",%progbits
 1495              		.align	1
 1496              		.global	i2c_read_multi_bytes
 1497              		.syntax unified
 1498              		.thumb
 1499              		.thumb_func
 1501              	i2c_read_multi_bytes:
 1502              	.LVL117:
 1503              	.LFB251:
 280:Drivers/User_Driver/Src/soft_i2c.c **** 
 281:Drivers/User_Driver/Src/soft_i2c.c **** /**
 282:Drivers/User_Driver/Src/soft_i2c.c ****  * @brief Read multiple bytes from slave 
 283:Drivers/User_Driver/Src/soft_i2c.c ****  * 
 284:Drivers/User_Driver/Src/soft_i2c.c ****  */
 285:Drivers/User_Driver/Src/soft_i2c.c **** i2c_exit_code_e i2c_read_multi_bytes(unsigned char dev_addr,unsigned char reg_addr, unsigned char *
 286:Drivers/User_Driver/Src/soft_i2c.c **** {
 1504              		.loc 1 286 1 is_stmt 1 view -0
 1505              		.cfi_startproc
 1506              		@ args = 0, pretend = 0, frame = 0
 1507              		@ frame_needed = 0, uses_anonymous_args = 0
 1508              		.loc 1 286 1 is_stmt 0 view .LVU417
 1509 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1510              	.LCFI19:
 1511              		.cfi_def_cfa_offset 24
 1512              		.cfi_offset 3, -24
 1513              		.cfi_offset 4, -20
 1514              		.cfi_offset 5, -16
 1515              		.cfi_offset 6, -12
 1516              		.cfi_offset 7, -8
 1517              		.cfi_offset 14, -4
 1518 0002 0446     		mov	r4, r0
 1519 0004 0F46     		mov	r7, r1
 1520 0006 1646     		mov	r6, r2
 1521 0008 1D46     		mov	r5, r3
 287:Drivers/User_Driver/Src/soft_i2c.c **** 	unsigned short i;
 1522              		.loc 1 287 2 is_stmt 1 view .LVU418
 288:Drivers/User_Driver/Src/soft_i2c.c **** 
 289:Drivers/User_Driver/Src/soft_i2c.c **** 	if(i2c_start() != I2C_OK)
 1523              		.loc 1 289 2 view .LVU419
 1524              		.loc 1 289 5 is_stmt 0 view .LVU420
 1525 000a FFF7FEFF 		bl	i2c_start
 1526              	.LVL118:
 1527              		.loc 1 289 4 view .LVU421
 1528 000e 10B1     		cbz	r0, .L87
 290:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_START_FAIL;
 1529              		.loc 1 290 10 view .LVU422
 1530 0010 0127     		movs	r7, #1
 1531              	.L79:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 38


 291:Drivers/User_Driver/Src/soft_i2c.c **** 	/*send device address*/
 292:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(dev_addr);
 293:Drivers/User_Driver/Src/soft_i2c.c **** 	if(i2c_wait_ack() != I2C_OK)
 294:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 295:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_stop(); 
 296:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 297:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 298:Drivers/User_Driver/Src/soft_i2c.c **** 	/*send register address*/
 299:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(reg_addr);
 300:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 301:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 302:Drivers/User_Driver/Src/soft_i2c.c **** 		i2c_stop(); 
 303:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 304:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 305:Drivers/User_Driver/Src/soft_i2c.c **** 	/*restart and send read device address*/
 306:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_start();
 307:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(dev_addr | 0x01);
 308:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_wait_ack();
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	for (i = 0; i < size; i++)
 310:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 311:Drivers/User_Driver/Src/soft_i2c.c **** 		*(buf+i) = i2c_receive_byte();
 312:Drivers/User_Driver/Src/soft_i2c.c **** 
 313:Drivers/User_Driver/Src/soft_i2c.c **** 		if (i != size-1) { i2c_ack(); }			
 314:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 315:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_nack();
 316:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_stop();
 317:Drivers/User_Driver/Src/soft_i2c.c **** 
 318:Drivers/User_Driver/Src/soft_i2c.c **** 	return  I2C_OK;
 319:Drivers/User_Driver/Src/soft_i2c.c **** }
 1532              		.loc 1 319 1 view .LVU423
 1533 0012 3846     		mov	r0, r7
 1534 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1535              	.LVL119:
 1536              	.L87:
 292:Drivers/User_Driver/Src/soft_i2c.c **** 	if(i2c_wait_ack() != I2C_OK)
 1537              		.loc 1 292 2 is_stmt 1 view .LVU424
 1538 0016 2046     		mov	r0, r4
 1539 0018 FFF7FEFF 		bl	i2c_send_byte
 1540              	.LVL120:
 293:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1541              		.loc 1 293 2 view .LVU425
 293:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1542              		.loc 1 293 5 is_stmt 0 view .LVU426
 1543 001c FFF7FEFF 		bl	i2c_wait_ack
 1544              	.LVL121:
 293:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1545              		.loc 1 293 4 view .LVU427
 1546 0020 80B9     		cbnz	r0, .L88
 299:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK)
 1547              		.loc 1 299 2 is_stmt 1 view .LVU428
 1548 0022 3846     		mov	r0, r7
 1549 0024 FFF7FEFF 		bl	i2c_send_byte
 1550              	.LVL122:
 300:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1551              		.loc 1 300 2 view .LVU429
 300:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1552              		.loc 1 300 6 is_stmt 0 view .LVU430
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 39


 1553 0028 FFF7FEFF 		bl	i2c_wait_ack
 1554              	.LVL123:
 300:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1555              		.loc 1 300 5 view .LVU431
 1556 002c 0746     		mov	r7, r0
 1557 002e 68B9     		cbnz	r0, .L89
 306:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(dev_addr | 0x01);
 1558              		.loc 1 306 2 is_stmt 1 view .LVU432
 1559 0030 FFF7FEFF 		bl	i2c_start
 1560              	.LVL124:
 307:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_wait_ack();
 1561              		.loc 1 307 2 view .LVU433
 1562 0034 44F00100 		orr	r0, r4, #1
 1563 0038 FFF7FEFF 		bl	i2c_send_byte
 1564              	.LVL125:
 308:Drivers/User_Driver/Src/soft_i2c.c **** 	for (i = 0; i < size; i++)
 1565              		.loc 1 308 2 view .LVU434
 1566 003c FFF7FEFF 		bl	i2c_wait_ack
 1567              	.LVL126:
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1568              		.loc 1 309 2 view .LVU435
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1569              		.loc 1 309 9 is_stmt 0 view .LVU436
 1570 0040 0024     		movs	r4, #0
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1571              		.loc 1 309 2 view .LVU437
 1572 0042 09E0     		b	.L82
 1573              	.LVL127:
 1574              	.L88:
 295:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 1575              		.loc 1 295 3 is_stmt 1 view .LVU438
 1576 0044 FFF7FEFF 		bl	i2c_stop
 1577              	.LVL128:
 296:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1578              		.loc 1 296 3 view .LVU439
 296:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1579              		.loc 1 296 10 is_stmt 0 view .LVU440
 1580 0048 0227     		movs	r7, #2
 1581 004a E2E7     		b	.L79
 1582              	.L89:
 302:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_NO_ACK;
 1583              		.loc 1 302 3 is_stmt 1 view .LVU441
 1584 004c FFF7FEFF 		bl	i2c_stop
 1585              	.LVL129:
 303:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1586              		.loc 1 303 3 view .LVU442
 303:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1587              		.loc 1 303 10 is_stmt 0 view .LVU443
 1588 0050 0227     		movs	r7, #2
 1589 0052 DEE7     		b	.L79
 1590              	.LVL130:
 1591              	.L83:
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1592              		.loc 1 309 24 is_stmt 1 discriminator 2 view .LVU444
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1593              		.loc 1 309 25 is_stmt 0 discriminator 2 view .LVU445
 1594 0054 0134     		adds	r4, r4, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 40


 1595              	.LVL131:
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1596              		.loc 1 309 25 discriminator 2 view .LVU446
 1597 0056 A4B2     		uxth	r4, r4
 1598              	.LVL132:
 1599              	.L82:
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1600              		.loc 1 309 14 is_stmt 1 discriminator 1 view .LVU447
 309:Drivers/User_Driver/Src/soft_i2c.c **** 	{
 1601              		.loc 1 309 2 is_stmt 0 discriminator 1 view .LVU448
 1602 0058 AC42     		cmp	r4, r5
 1603 005a 08D2     		bcs	.L90
 311:Drivers/User_Driver/Src/soft_i2c.c **** 
 1604              		.loc 1 311 3 is_stmt 1 view .LVU449
 311:Drivers/User_Driver/Src/soft_i2c.c **** 
 1605              		.loc 1 311 14 is_stmt 0 view .LVU450
 1606 005c FFF7FEFF 		bl	i2c_receive_byte
 1607              	.LVL133:
 311:Drivers/User_Driver/Src/soft_i2c.c **** 
 1608              		.loc 1 311 12 view .LVU451
 1609 0060 3055     		strb	r0, [r6, r4]
 313:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1610              		.loc 1 313 3 is_stmt 1 view .LVU452
 313:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1611              		.loc 1 313 16 is_stmt 0 view .LVU453
 1612 0062 6B1E     		subs	r3, r5, #1
 313:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1613              		.loc 1 313 6 view .LVU454
 1614 0064 9C42     		cmp	r4, r3
 1615 0066 F5D0     		beq	.L83
 313:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 1616              		.loc 1 313 22 is_stmt 1 discriminator 1 view .LVU455
 1617 0068 FFF7FEFF 		bl	i2c_ack
 1618              	.LVL134:
 1619 006c F2E7     		b	.L83
 1620              	.L90:
 315:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_stop();
 1621              		.loc 1 315 2 view .LVU456
 1622 006e FFF7FEFF 		bl	i2c_nack
 1623              	.LVL135:
 316:Drivers/User_Driver/Src/soft_i2c.c **** 
 1624              		.loc 1 316 2 view .LVU457
 1625 0072 FFF7FEFF 		bl	i2c_stop
 1626              	.LVL136:
 318:Drivers/User_Driver/Src/soft_i2c.c **** }
 1627              		.loc 1 318 2 view .LVU458
 318:Drivers/User_Driver/Src/soft_i2c.c **** }
 1628              		.loc 1 318 10 is_stmt 0 view .LVU459
 1629 0076 CCE7     		b	.L79
 1630              		.cfi_endproc
 1631              	.LFE251:
 1633              		.section	.text.i2c_dev_detect,"ax",%progbits
 1634              		.align	1
 1635              		.global	i2c_dev_detect
 1636              		.syntax unified
 1637              		.thumb
 1638              		.thumb_func
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 41


 1640              	i2c_dev_detect:
 1641              	.LVL137:
 1642              	.LFB252:
 320:Drivers/User_Driver/Src/soft_i2c.c **** 
 321:Drivers/User_Driver/Src/soft_i2c.c **** i2c_exit_code_e i2c_dev_detect(unsigned char dev_addr)
 322:Drivers/User_Driver/Src/soft_i2c.c **** {
 1643              		.loc 1 322 1 is_stmt 1 view -0
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 0
 1646              		@ frame_needed = 0, uses_anonymous_args = 0
 1647              		.loc 1 322 1 is_stmt 0 view .LVU461
 1648 0000 10B5     		push	{r4, lr}
 1649              	.LCFI20:
 1650              		.cfi_def_cfa_offset 8
 1651              		.cfi_offset 4, -8
 1652              		.cfi_offset 14, -4
 1653 0002 0446     		mov	r4, r0
 323:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_exit_code_e ret = I2C_OK;
 1654              		.loc 1 323 2 is_stmt 1 view .LVU462
 1655              	.LVL138:
 324:Drivers/User_Driver/Src/soft_i2c.c **** 
 325:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_start() != I2C_OK) {
 1656              		.loc 1 325 2 view .LVU463
 1657              		.loc 1 325 6 is_stmt 0 view .LVU464
 1658 0004 FFF7FEFF 		bl	i2c_start
 1659              	.LVL139:
 1660              		.loc 1 325 5 view .LVU465
 1661 0008 10B1     		cbz	r0, .L97
 326:Drivers/User_Driver/Src/soft_i2c.c **** 		return I2C_START_FAIL;
 1662              		.loc 1 326 10 view .LVU466
 1663 000a 0124     		movs	r4, #1
 1664              	.LVL140:
 1665              	.L92:
 327:Drivers/User_Driver/Src/soft_i2c.c **** 	}
 328:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_send_byte(dev_addr);
 329:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK) {
 330:Drivers/User_Driver/Src/soft_i2c.c **** 		ret = I2C_NO_ACK;
 331:Drivers/User_Driver/Src/soft_i2c.c **** 	}	
 332:Drivers/User_Driver/Src/soft_i2c.c **** 	i2c_stop(); 
 333:Drivers/User_Driver/Src/soft_i2c.c **** 
 334:Drivers/User_Driver/Src/soft_i2c.c **** 	return ret;
 335:Drivers/User_Driver/Src/soft_i2c.c **** }
 1666              		.loc 1 335 1 view .LVU467
 1667 000c 2046     		mov	r0, r4
 1668 000e 10BD     		pop	{r4, pc}
 1669              	.LVL141:
 1670              	.L97:
 328:Drivers/User_Driver/Src/soft_i2c.c **** 	if (i2c_wait_ack() != I2C_OK) {
 1671              		.loc 1 328 2 is_stmt 1 view .LVU468
 1672 0010 2046     		mov	r0, r4
 1673 0012 FFF7FEFF 		bl	i2c_send_byte
 1674              	.LVL142:
 329:Drivers/User_Driver/Src/soft_i2c.c **** 		ret = I2C_NO_ACK;
 1675              		.loc 1 329 2 view .LVU469
 329:Drivers/User_Driver/Src/soft_i2c.c **** 		ret = I2C_NO_ACK;
 1676              		.loc 1 329 6 is_stmt 0 view .LVU470
 1677 0016 FFF7FEFF 		bl	i2c_wait_ack
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 42


 1678              	.LVL143:
 329:Drivers/User_Driver/Src/soft_i2c.c **** 		ret = I2C_NO_ACK;
 1679              		.loc 1 329 5 view .LVU471
 1680 001a 0446     		mov	r4, r0
 1681 001c 00B1     		cbz	r0, .L93
 330:Drivers/User_Driver/Src/soft_i2c.c **** 	}	
 1682              		.loc 1 330 7 view .LVU472
 1683 001e 0224     		movs	r4, #2
 1684              	.L93:
 1685              	.LVL144:
 332:Drivers/User_Driver/Src/soft_i2c.c **** 
 1686              		.loc 1 332 2 is_stmt 1 view .LVU473
 1687 0020 FFF7FEFF 		bl	i2c_stop
 1688              	.LVL145:
 334:Drivers/User_Driver/Src/soft_i2c.c **** }
 1689              		.loc 1 334 2 view .LVU474
 334:Drivers/User_Driver/Src/soft_i2c.c **** }
 1690              		.loc 1 334 9 is_stmt 0 view .LVU475
 1691 0024 F2E7     		b	.L92
 1692              		.cfi_endproc
 1693              	.LFE252:
 1695              		.global	soft_i2c_delay
 1696              		.section	.data.soft_i2c_delay,"aw"
 1697              		.align	1
 1698              		.set	.LANCHOR0,. + 0
 1701              	soft_i2c_delay:
 1702 0000 C800     		.short	200
 1703              		.text
 1704              	.Letext0:
 1705              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 1706              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1707              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1708              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1709              		.file 6 "Drivers/User_Driver/Inc/soft_i2c.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s 			page 43


DEFINED SYMBOLS
                            *ABS*:00000000 soft_i2c.c
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:20     .text.i2c_read_sda:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:25     .text.i2c_read_sda:00000000 i2c_read_sda
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:54     .text.i2c_read_sda:00000014 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:59     .text.i2c_start:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:65     .text.i2c_start:00000000 i2c_start
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:266    .text.i2c_start:00000088 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:274    .text.i2c_stop:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:280    .text.i2c_stop:00000000 i2c_stop
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:441    .text.i2c_stop:00000074 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:447    .text.i2c_ack:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:453    .text.i2c_ack:00000000 i2c_ack
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:571    .text.i2c_ack:0000004c $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:577    .text.i2c_nack:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:583    .text.i2c_nack:00000000 i2c_nack
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:701    .text.i2c_nack:0000004c $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:707    .text.i2c_wait_ack:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:713    .text.i2c_wait_ack:00000000 i2c_wait_ack
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:918    .text.i2c_wait_ack:000000a0 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:924    .text.i2c_send_byte:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:930    .text.i2c_send_byte:00000000 i2c_send_byte
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1104   .text.i2c_send_byte:00000070 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1110   .text.i2c_receive_byte:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1116   .text.i2c_receive_byte:00000000 i2c_receive_byte
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1376   .text.i2c_receive_byte:000000b8 $d
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1382   .text.i2c_write_multi_bytes:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1388   .text.i2c_write_multi_bytes:00000000 i2c_write_multi_bytes
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1495   .text.i2c_read_multi_bytes:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1501   .text.i2c_read_multi_bytes:00000000 i2c_read_multi_bytes
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1634   .text.i2c_dev_detect:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1640   .text.i2c_dev_detect:00000000 i2c_dev_detect
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1701   .data.soft_i2c_delay:00000000 soft_i2c_delay
C:\Users\86158\AppData\Local\Temp\ccqxBmjj.s:1697   .data.soft_i2c_delay:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_ReadPin
HAL_GPIO_Init
HAL_GPIO_WritePin
