ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"manager.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.manager_set_mode,"ax",%progbits
  20              		.align	1
  21              		.global	manager_set_mode
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	manager_set_mode:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "App/Src/manager.c"
   1:App/Src/manager.c **** #include "main.h"
   2:App/Src/manager.c **** #include "manager.h"
   3:App/Src/manager.c **** #include "current.h"
   4:App/Src/manager.c **** #include "voltage.h"
   5:App/Src/manager.c **** #include "temp.h"
   6:App/Src/manager.c **** #include "flash.h"
   7:App/Src/manager.c **** #include "log.h"
   8:App/Src/manager.c **** #include "task.h"
   9:App/Src/manager.c **** #include "rtc.h"
  10:App/Src/manager.c **** #include "calculate.h"
  11:App/Src/manager.c **** #include <string.h>
  12:App/Src/manager.c **** #include "power.h"
  13:App/Src/manager.c **** #include "drv_wave1006.h"
  14:App/Src/manager.c **** 
  15:App/Src/manager.c **** #define SD8800_CENTER_TEMP_UP                   30//30℃
  16:App/Src/manager.c **** #define SD8800_CENTER_TEMP_DOWN                 15//15℃
  17:App/Src/manager.c **** 
  18:App/Src/manager.c **** typedef struct {
  19:App/Src/manager.c ****     uint8_t number;
  20:App/Src/manager.c ****     float temp[MAX_CHIP_NUMBER];
  21:App/Src/manager.c ****     float cap[MAX_CHIP_NUMBER];
  22:App/Src/manager.c ****     uint8_t flag[MAX_CHIP_NUMBER];
  23:App/Src/manager.c **** }TestOneData;
  24:App/Src/manager.c **** 
  25:App/Src/manager.c **** static uint8_t g_testMode = FREE_MODE;
  26:App/Src/manager.c **** CapAdjust g_capAdjust = {0};
  27:App/Src/manager.c **** static TestOneData g_oneData = {0};
  28:App/Src/manager.c **** uint8_t g_testFlag[MAX_CHIP_NUMBER] = {0};
  29:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 2


  30:App/Src/manager.c **** void manager_set_mode(uint8_t mode)
  31:App/Src/manager.c **** {
  30              		.loc 1 31 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  32:App/Src/manager.c ****     g_testMode = mode;
  35              		.loc 1 32 5 view .LVU1
  36              		.loc 1 32 16 is_stmt 0 view .LVU2
  37 0000 014B     		ldr	r3, .L2
  38 0002 1870     		strb	r0, [r3]
  33:App/Src/manager.c **** }
  39              		.loc 1 33 1 view .LVU3
  40 0004 7047     		bx	lr
  41              	.L3:
  42 0006 00BF     		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE235:
  48              		.section	.text.manager_get_mode,"ax",%progbits
  49              		.align	1
  50              		.global	manager_get_mode
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	manager_get_mode:
  56              	.LFB236:
  34:App/Src/manager.c **** 
  35:App/Src/manager.c **** uint8_t manager_get_mode(void)
  36:App/Src/manager.c **** {
  57              		.loc 1 36 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  37:App/Src/manager.c ****     return g_testMode;
  62              		.loc 1 37 5 view .LVU5
  38:App/Src/manager.c **** }
  63              		.loc 1 38 1 is_stmt 0 view .LVU6
  64 0000 014B     		ldr	r3, .L5
  65 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  66 0004 7047     		bx	lr
  67              	.L6:
  68 0006 00BF     		.align	2
  69              	.L5:
  70 0008 00000000 		.word	.LANCHOR0
  71              		.cfi_endproc
  72              	.LFE236:
  74              		.section	.text.system_voltage_test,"ax",%progbits
  75              		.align	1
  76              		.global	system_voltage_test
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	system_voltage_test:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 3


  82              	.LFB237:
  39:App/Src/manager.c **** 
  40:App/Src/manager.c **** 
  41:App/Src/manager.c **** uint8_t system_voltage_test(void)
  42:App/Src/manager.c **** {
  83              		.loc 1 42 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  43:App/Src/manager.c ****     // uint8_t mode;
  44:App/Src/manager.c **** 	// uint32_t voltage;
  45:App/Src/manager.c ****     uint8_t result = 0;
  88              		.loc 1 45 5 view .LVU8
  89              	.LVL1:
  46:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_SW) * 3300 * 4.6 / 4096;
  47:App/Src/manager.c **** 	// log_printf("vdd_sw:%dmV,", voltage);
  48:App/Src/manager.c ****     // if (voltage > 2000) {
  49:App/Src/manager.c ****     //     mode = 1;
  50:App/Src/manager.c ****     // } else {
  51:App/Src/manager.c ****     //     mode = 0;
  52:App/Src/manager.c ****     // }
  53:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_3V3) * 3300 * 4.6 / 4096;
  54:App/Src/manager.c **** 	// log_printf("3.3V:%dmV,", voltage);
  55:App/Src/manager.c ****     // if (mode == 0 && voltage < 3100 && voltage > 3500) {result++;}
  56:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_5V) * 3300 * 4.6 / 4096;
  57:App/Src/manager.c **** 	// log_printf("5V:%dmV,", voltage);
  58:App/Src/manager.c ****     // if (mode == 1 && voltage < 4600 && voltage > 5400) {result++;}
  59:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_9V) * 3300 * 4.6 / 4096;
  60:App/Src/manager.c **** 	// log_printf("9V:%dmV,", voltage);
  61:App/Src/manager.c ****     // if (voltage < 9000) {
  62:App/Src/manager.c ****     //     result += 10;
  63:App/Src/manager.c ****     // }
  64:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_6V5) * 3300 * 4.6 / 4096;
  65:App/Src/manager.c **** 	// log_printf("6.5V:%dmV\n", voltage);
  66:App/Src/manager.c ****     // if (voltage < 6250 || voltage > 6750) {
  67:App/Src/manager.c ****     //     result += 100;
  68:App/Src/manager.c ****     // }
  69:App/Src/manager.c ****     return result;
  90              		.loc 1 69 5 view .LVU9
  70:App/Src/manager.c **** } 
  91              		.loc 1 70 1 is_stmt 0 view .LVU10
  92 0000 0020     		movs	r0, #0
  93 0002 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE237:
  97              		.global	__aeabi_f2d
  98              		.section	.rodata.system_manage_temp.str1.4,"aMS",%progbits,1
  99              		.align	2
 100              	.LC0:
 101 0000 74656D70 		.ascii	"temp1 value %.1fC\012\000"
 101      31207661 
 101      6C756520 
 101      252E3166 
 101      430A00
 102 0013 00       		.align	2
 103              	.LC1:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 4


 104 0014 63686563 		.ascii	"check system temp is error, test stop.\012\000"
 104      6B207379 
 104      7374656D 
 104      2074656D 
 104      70206973 
 105              		.align	2
 106              	.LC2:
 107 003c 6D657373 		.ascii	"message:\317\265\315\263\316\302\266\310\263\254\267"
 107      6167653A 
 107      CFB5CDB3 
 107      CEC2B6C8 
 107      B3ACB7
 108 004f B6CEA70A 		.ascii	"\266\316\247\012\000"
 108      00
 109              		.align	2
 110              	.LC3:
 111 0054 74656D70 		.ascii	"temp offset:chip%d\012\000"
 111      206F6666 
 111      7365743A 
 111      63686970 
 111      25640A00 
 112              		.align	2
 113              	.LC4:
 114 0068 68697374 		.ascii	"history success!\012\000"
 114      6F727920 
 114      73756363 
 114      65737321 
 114      0A00
 115 007a 0000     		.align	2
 116              	.LC5:
 117 007c 656E7465 		.ascii	"enter testmode fail\012\000"
 117      72207465 
 117      73746D6F 
 117      64652066 
 117      61696C0A 
 118 0091 000000   		.align	2
 119              	.LC6:
 120 0094 74656D70 		.ascii	"temp adc: %.1f, offset:%d\012\000"
 120      20616463 
 120      3A20252E 
 120      31662C20 
 120      6F666673 
 121 00af 00       		.align	2
 122              	.LC7:
 123 00b0 73797374 		.ascii	"system set rtc group temp config end.\012\000"
 123      656D2073 
 123      65742072 
 123      74632067 
 123      726F7570 
 124              		.section	.text.system_manage_temp,"ax",%progbits
 125              		.align	1
 126              		.global	system_manage_temp
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	system_manage_temp:
 132              	.LFB238:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 5


  71:App/Src/manager.c **** 
  72:App/Src/manager.c **** int system_manage_temp(void)
  73:App/Src/manager.c **** {
 133              		.loc 1 73 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 336
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 138              	.LCFI0:
 139              		.cfi_def_cfa_offset 36
 140              		.cfi_offset 4, -36
 141              		.cfi_offset 5, -32
 142              		.cfi_offset 6, -28
 143              		.cfi_offset 7, -24
 144              		.cfi_offset 8, -20
 145              		.cfi_offset 9, -16
 146              		.cfi_offset 10, -12
 147              		.cfi_offset 11, -8
 148              		.cfi_offset 14, -4
 149 0004 2DED028B 		vpush.64	{d8}
 150              	.LCFI1:
 151              		.cfi_def_cfa_offset 44
 152              		.cfi_offset 80, -44
 153              		.cfi_offset 81, -40
 154 0008 D7B0     		sub	sp, sp, #348
 155              	.LCFI2:
 156              		.cfi_def_cfa_offset 392
  74:App/Src/manager.c **** 	float temp;
 157              		.loc 1 74 2 view .LVU12
  75:App/Src/manager.c ****     int i;
 158              		.loc 1 75 5 view .LVU13
  76:App/Src/manager.c ****     float rtc_temp;
 159              		.loc 1 76 5 view .LVU14
  77:App/Src/manager.c ****     uint8_t config[MAX_CHIP_NUMBER] = {0};
 160              		.loc 1 77 5 view .LVU15
 161              		.loc 1 77 13 is_stmt 0 view .LVU16
 162 000a 0024     		movs	r4, #0
 163 000c 3D94     		str	r4, [sp, #244]
 164 000e 6022     		movs	r2, #96
 165 0010 2146     		mov	r1, r4
 166 0012 3EA8     		add	r0, sp, #248
 167 0014 FFF7FEFF 		bl	memset
 168              	.LVL2:
  78:App/Src/manager.c ****     // uint8_t flag[MAX_CHIP_NUMBER] = {0};
  79:App/Src/manager.c ****     uint8_t stepCount;
 169              		.loc 1 79 5 is_stmt 1 view .LVU17
  80:App/Src/manager.c ****     TestResult tempTest = {0};
 170              		.loc 1 80 5 view .LVU18
 171              		.loc 1 80 16 is_stmt 0 view .LVU19
 172 0018 EC22     		movs	r2, #236
 173 001a 2146     		mov	r1, r4
 174 001c 02A8     		add	r0, sp, #8
 175 001e FFF7FEFF 		bl	memset
 176              	.LVL3:
  81:App/Src/manager.c **** 
  82:App/Src/manager.c **** //step 1: read system temp ship, and check system voltage ok
  83:App/Src/manager.c **** 	temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 6


 177              		.loc 1 83 2 is_stmt 1 view .LVU20
 178              		.loc 1 83 9 is_stmt 0 view .LVU21
 179 0022 0120     		movs	r0, #1
 180 0024 FFF7FEFF 		bl	temp_read_value
 181              	.LVL4:
 182 0028 B0EE408A 		vmov.f32	s16, s0
 183              	.LVL5:
  84:App/Src/manager.c ****     log_printf("temp1 value %.1fC\n", temp);
 184              		.loc 1 84 5 is_stmt 1 view .LVU22
 185 002c 10EE100A 		vmov	r0, s0
 186 0030 FFF7FEFF 		bl	__aeabi_f2d
 187              	.LVL6:
 188              		.loc 1 84 5 is_stmt 0 view .LVU23
 189 0034 0446     		mov	r4, r0
 190 0036 0D46     		mov	r5, r1
 191 0038 584E     		ldr	r6, .L24
 192 003a 0246     		mov	r2, r0
 193 003c 0B46     		mov	r3, r1
 194 003e 3046     		mov	r0, r6
 195 0040 FFF7FEFF 		bl	log_printf
 196              	.LVL7:
  85:App/Src/manager.c ****     UsbPrintf("temp1 value %.1fC\n", temp);
 197              		.loc 1 85 5 is_stmt 1 view .LVU24
 198 0044 2246     		mov	r2, r4
 199 0046 2B46     		mov	r3, r5
 200 0048 3046     		mov	r0, r6
 201 004a FFF7FEFF 		bl	UsbPrintf
 202              	.LVL8:
  86:App/Src/manager.c ****     if (temp > SD8800_CENTER_TEMP_UP || temp < SD8800_CENTER_TEMP_DOWN) {
 203              		.loc 1 86 5 view .LVU25
 204              		.loc 1 86 8 is_stmt 0 view .LVU26
 205 004e F3EE0E7A 		vmov.f32	s15, #3.0e+1
 206 0052 B4EEE78A 		vcmpe.f32	s16, s15
 207 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 208 005a 0FDC     		bgt	.L9
 209              		.loc 1 86 38 discriminator 1 view .LVU27
 210 005c F2EE0E7A 		vmov.f32	s15, #1.5e+1
 211 0060 B4EEE78A 		vcmpe.f32	s16, s15
 212 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 213 0068 08D4     		bmi	.L9
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
  88:App/Src/manager.c ****         UsbPrintf("check system temp is error, test stop.\n");
  89:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
  90:App/Src/manager.c ****         return -1;
  91:App/Src/manager.c ****     } 
  92:App/Src/manager.c **** 
  93:App/Src/manager.c **** //step 2: read rtc group config and check, read rtc group temp, calculate group temp config
  94:App/Src/manager.c ****     // ControlPrintf("message:正在计算config\n");
  95:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_READ);
 214              		.loc 1 95 5 is_stmt 1 view .LVU28
 215 006a 0022     		movs	r2, #0
 216 006c 1146     		mov	r1, r2
 217 006e 4C48     		ldr	r0, .L24+4
 218 0070 FFF7FEFF 		bl	flash_test_flag_manage
 219              	.LVL9:
  96:App/Src/manager.c ****     stepCount = 0;
 220              		.loc 1 96 5 view .LVU29
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 7


  97:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 221              		.loc 1 97 5 view .LVU30
  96:App/Src/manager.c ****     stepCount = 0;
 222              		.loc 1 96 15 is_stmt 0 view .LVU31
 223 0074 4FF0000A 		mov	r10, #0
 224              		.loc 1 97 12 view .LVU32
 225 0078 5446     		mov	r4, r10
 226              		.loc 1 97 5 view .LVU33
 227 007a 1FE0     		b	.L13
 228              	.LVL10:
 229              	.L9:
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
 230              		.loc 1 87 9 is_stmt 1 view .LVU34
 231 007c 494C     		ldr	r4, .L24+8
 232 007e 2046     		mov	r0, r4
 233 0080 FFF7FEFF 		bl	log_printf
 234              	.LVL11:
  88:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
 235              		.loc 1 88 9 view .LVU35
 236 0084 2046     		mov	r0, r4
 237 0086 FFF7FEFF 		bl	UsbPrintf
 238              	.LVL12:
  89:App/Src/manager.c ****         return -1;
 239              		.loc 1 89 9 view .LVU36
 240 008a 4748     		ldr	r0, .L24+12
 241 008c FFF7FEFF 		bl	ControlPrintf
 242              	.LVL13:
  90:App/Src/manager.c ****     } 
 243              		.loc 1 90 9 view .LVU37
  90:App/Src/manager.c ****     } 
 244              		.loc 1 90 16 is_stmt 0 view .LVU38
 245 0090 4FF0FF30 		mov	r0, #-1
 246 0094 7DE0     		b	.L8
 247              	.LVL14:
 248              	.L22:
  98:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
  99:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 100:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 101:App/Src/manager.c ****             UsbPrintf("history success!\n");
 249              		.loc 1 101 13 is_stmt 1 view .LVU39
 250 0096 4548     		ldr	r0, .L24+16
 251 0098 FFF7FEFF 		bl	UsbPrintf
 252              	.LVL15:
 102:App/Src/manager.c ****             stepCount++;
 253              		.loc 1 102 13 view .LVU40
 254              		.loc 1 102 22 is_stmt 0 view .LVU41
 255 009c 0AF1010A 		add	r10, r10, #1
 256              	.LVL16:
 257              		.loc 1 102 22 view .LVU42
 258 00a0 5FFA8AFA 		uxtb	r10, r10
 259              	.LVL17:
 103:App/Src/manager.c ****             continue;
 260              		.loc 1 103 13 is_stmt 1 view .LVU43
 261 00a4 09E0     		b	.L15
 262              	.L23:
 104:App/Src/manager.c ****         }
 105:App/Src/manager.c **** 	    temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 8


 106:App/Src/manager.c ****         tempTest.setTemp = temp;
 107:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 108:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 109:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 263              		.loc 1 109 13 view .LVU44
 264 00a6 2846     		mov	r0, r5
 265 00a8 FFF7FEFF 		bl	rtc_1006_exit_testmode
 266              	.LVL18:
 110:App/Src/manager.c **** 	        UsbPrintf("enter testmode fail\n");
 267              		.loc 1 110 10 view .LVU45
 268 00ac 4048     		ldr	r0, .L24+20
 269 00ae FFF7FEFF 		bl	UsbPrintf
 270              	.LVL19:
 111:App/Src/manager.c ****             continue;
 271              		.loc 1 111 13 view .LVU46
 272 00b2 02E0     		b	.L15
 273              	.LVL20:
 274              	.L17:
 112:App/Src/manager.c ****         }
 113:App/Src/manager.c ****         HAL_Delay(1);
 114:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 115:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 116:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 117:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 118:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 119:App/Src/manager.c ****             g_testFlag[i] = 1;
 120:App/Src/manager.c ****             stepCount++;
 121:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 122:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 123:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 124:App/Src/manager.c ****         }
 125:App/Src/manager.c ****         rtc_1006_exit_testmode(i + 1);
 275              		.loc 1 125 9 view .LVU47
 276 00b4 2846     		mov	r0, r5
 277 00b6 FFF7FEFF 		bl	rtc_1006_exit_testmode
 278              	.LVL21:
 279              	.L15:
  73:App/Src/manager.c **** 	float temp;
 280              		.loc 1 73 1 is_stmt 0 discriminator 1 view .LVU48
 281 00ba 3446     		mov	r4, r6
 282              	.LVL22:
 283              	.L13:
  97:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 284              		.loc 1 97 17 is_stmt 1 discriminator 1 view .LVU49
  97:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 285              		.loc 1 97 5 is_stmt 0 discriminator 1 view .LVU50
 286 00bc 632C     		cmp	r4, #99
 287 00be 5FDC     		bgt	.L21
  98:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 288              		.loc 1 98 6 is_stmt 1 view .LVU51
 289 00c0 661C     		adds	r6, r4, #1
 290 00c2 3C4D     		ldr	r5, .L24+24
 291 00c4 3146     		mov	r1, r6
 292 00c6 2846     		mov	r0, r5
 293 00c8 FFF7FEFF 		bl	UsbPrintf
 294              	.LVL23:
  99:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 9


 295              		.loc 1 99 6 view .LVU52
 296 00cc 3146     		mov	r1, r6
 297 00ce 2846     		mov	r0, r5
 298 00d0 FFF7FEFF 		bl	log_printf
 299              	.LVL24:
 100:App/Src/manager.c ****             UsbPrintf("history success!\n");
 300              		.loc 1 100 9 view .LVU53
 100:App/Src/manager.c ****             UsbPrintf("history success!\n");
 301              		.loc 1 100 23 is_stmt 0 view .LVU54
 302 00d4 324B     		ldr	r3, .L24+4
 303 00d6 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 100:App/Src/manager.c ****             UsbPrintf("history success!\n");
 304              		.loc 1 100 12 view .LVU55
 305 00d8 012B     		cmp	r3, #1
 306 00da DCD0     		beq	.L22
 105:App/Src/manager.c ****         tempTest.setTemp = temp;
 307              		.loc 1 105 6 is_stmt 1 view .LVU56
 105:App/Src/manager.c ****         tempTest.setTemp = temp;
 308              		.loc 1 105 13 is_stmt 0 view .LVU57
 309 00dc 0120     		movs	r0, #1
 310 00de FFF7FEFF 		bl	temp_read_value
 311              	.LVL25:
 312 00e2 B0EE408A 		vmov.f32	s16, s0
 313              	.LVL26:
 106:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 314              		.loc 1 106 9 is_stmt 1 view .LVU58
 106:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 315              		.loc 1 106 26 is_stmt 0 view .LVU59
 316 00e6 FCEEC07A 		vcvt.u32.f32	s15, s0
 317 00ea 17EE903A 		vmov	r3, s15	@ int
 318 00ee 8DF83830 		strb	r3, [sp, #56]
 107:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 319              		.loc 1 107 6 is_stmt 1 view .LVU60
 320 00f2 651C     		adds	r5, r4, #1
 321 00f4 EDB2     		uxtb	r5, r5
 322 00f6 0121     		movs	r1, #1
 323 00f8 2846     		mov	r0, r5
 324 00fa FFF7FEFF 		bl	rtc_group_power
 325              	.LVL27:
 108:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 326              		.loc 1 108 9 view .LVU61
 108:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 327              		.loc 1 108 13 is_stmt 0 view .LVU62
 328 00fe 2846     		mov	r0, r5
 329 0100 FFF7FEFF 		bl	rtc_1006_set_testmode
 330              	.LVL28:
 108:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 331              		.loc 1 108 12 view .LVU63
 332 0104 0028     		cmp	r0, #0
 333 0106 CED1     		bne	.L23
 113:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 334              		.loc 1 113 9 is_stmt 1 view .LVU64
 335 0108 0120     		movs	r0, #1
 336 010a FFF7FEFF 		bl	HAL_Delay
 337              	.LVL29:
 114:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 338              		.loc 1 114 9 view .LVU65
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 10


 114:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 339              		.loc 1 114 20 is_stmt 0 view .LVU66
 340 010e FFF7FEFF 		bl	system_get_rtc_temp
 341              	.LVL30:
 342 0112 10EE108A 		vmov	r8, s0
 343              	.LVL31:
 115:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 344              		.loc 1 115 9 is_stmt 1 view .LVU67
 115:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 345              		.loc 1 115 21 is_stmt 0 view .LVU68
 346 0116 F0EE480A 		vmov.f32	s1, s16
 347 011a FFF7FEFF 		bl	rtc_convert_temp_offset
 348              	.LVL32:
 115:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 349              		.loc 1 115 19 view .LVU69
 350 011e C7B2     		uxtb	r7, r0
 351 0120 04F5AC73 		add	r3, r4, #344
 352 0124 6B44     		add	r3, sp, r3
 353 0126 03F8647C 		strb	r7, [r3, #-100]
 116:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 354              		.loc 1 116 9 is_stmt 1 view .LVU70
 355 012a 4046     		mov	r0, r8	@ float
 356 012c FFF7FEFF 		bl	__aeabi_f2d
 357              	.LVL33:
 358 0130 8046     		mov	r8, r0
 359              	.LVL34:
 116:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 360              		.loc 1 116 9 is_stmt 0 view .LVU71
 361 0132 8946     		mov	r9, r1
 362 0134 DFF884B0 		ldr	fp, .L24+32
 363 0138 0097     		str	r7, [sp]
 364 013a 0246     		mov	r2, r0
 365 013c 0B46     		mov	r3, r1
 366 013e 5846     		mov	r0, fp
 367 0140 FFF7FEFF 		bl	UsbPrintf
 368              	.LVL35:
 117:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 369              		.loc 1 117 9 is_stmt 1 view .LVU72
 370 0144 0097     		str	r7, [sp]
 371 0146 4246     		mov	r2, r8
 372 0148 4B46     		mov	r3, r9
 373 014a 5846     		mov	r0, fp
 374 014c FFF7FEFF 		bl	log_printf
 375              	.LVL36:
 118:App/Src/manager.c ****             g_testFlag[i] = 1;
 376              		.loc 1 118 9 view .LVU73
 118:App/Src/manager.c ****             g_testFlag[i] = 1;
 377              		.loc 1 118 29 is_stmt 0 view .LVU74
 378 0150 A7F13C03 		sub	r3, r7, #60
 379 0154 DBB2     		uxtb	r3, r3
 118:App/Src/manager.c ****             g_testFlag[i] = 1;
 380              		.loc 1 118 12 view .LVU75
 381 0156 502B     		cmp	r3, #80
 382 0158 ACD8     		bhi	.L17
 119:App/Src/manager.c ****             stepCount++;
 383              		.loc 1 119 13 is_stmt 1 view .LVU76
 119:App/Src/manager.c ****             stepCount++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 11


 384              		.loc 1 119 27 is_stmt 0 view .LVU77
 385 015a 114B     		ldr	r3, .L24+4
 386 015c 0122     		movs	r2, #1
 387 015e 1A55     		strb	r2, [r3, r4]
 120:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 388              		.loc 1 120 13 is_stmt 1 view .LVU78
 120:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 389              		.loc 1 120 22 is_stmt 0 view .LVU79
 390 0160 9244     		add	r10, r10, r2
 391              	.LVL37:
 120:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 392              		.loc 1 120 22 view .LVU80
 393 0162 5FFA8AFA 		uxtb	r10, r10
 394              	.LVL38:
 121:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 395              		.loc 1 121 13 is_stmt 1 view .LVU81
 121:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 396              		.loc 1 121 33 is_stmt 0 view .LVU82
 397 0166 8DF83970 		strb	r7, [sp, #57]
 122:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 398              		.loc 1 122 13 is_stmt 1 view .LVU83
 399 016a 3022     		movs	r2, #48
 400 016c 2946     		mov	r1, r5
 401 016e 02A8     		add	r0, sp, #8
 402 0170 FFF7FEFF 		bl	flash_test_data_write_add
 403              	.LVL39:
 123:App/Src/manager.c ****         }
 404              		.loc 1 123 13 view .LVU84
 405 0174 3122     		movs	r2, #49
 406 0176 2946     		mov	r1, r5
 407 0178 02A8     		add	r0, sp, #8
 408 017a FFF7FEFF 		bl	flash_test_data_write_add
 409              	.LVL40:
 410 017e 99E7     		b	.L17
 411              	.L21:
 126:App/Src/manager.c ****     }
 127:App/Src/manager.c ****     
 128:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_WRITE_ADD);
 412              		.loc 1 128 5 view .LVU85
 413 0180 0122     		movs	r2, #1
 414 0182 0021     		movs	r1, #0
 415 0184 0648     		ldr	r0, .L24+4
 416 0186 FFF7FEFF 		bl	flash_test_flag_manage
 417              	.LVL41:
 129:App/Src/manager.c ****     UsbPrintf("system set rtc group temp config end.\n");
 418              		.loc 1 129 5 view .LVU86
 419 018a 0B48     		ldr	r0, .L24+28
 420 018c FFF7FEFF 		bl	UsbPrintf
 421              	.LVL42:
 130:App/Src/manager.c ****     return stepCount;
 422              		.loc 1 130 5 view .LVU87
 423              		.loc 1 130 12 is_stmt 0 view .LVU88
 424 0190 5046     		mov	r0, r10
 425              	.LVL43:
 426              	.L8:
 131:App/Src/manager.c **** }
 427              		.loc 1 131 1 view .LVU89
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 12


 428 0192 57B0     		add	sp, sp, #348
 429              	.LCFI3:
 430              		.cfi_def_cfa_offset 44
 431              		@ sp needed
 432 0194 BDEC028B 		vldm	sp!, {d8}
 433              	.LCFI4:
 434              		.cfi_restore 80
 435              		.cfi_restore 81
 436              		.cfi_def_cfa_offset 36
 437              	.LVL44:
 438              		.loc 1 131 1 view .LVU90
 439 0198 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 440              	.L25:
 441              		.align	2
 442              	.L24:
 443 019c 00000000 		.word	.LC0
 444 01a0 00000000 		.word	.LANCHOR1
 445 01a4 14000000 		.word	.LC1
 446 01a8 3C000000 		.word	.LC2
 447 01ac 68000000 		.word	.LC4
 448 01b0 7C000000 		.word	.LC5
 449 01b4 54000000 		.word	.LC3
 450 01b8 B0000000 		.word	.LC7
 451 01bc 94000000 		.word	.LC6
 452              		.cfi_endproc
 453              	.LFE238:
 455              		.section	.rodata.system_manage_download_cap.str1.4,"aMS",%progbits,1
 456              		.align	2
 457              	.LC8:
 458 0000 63686970 		.ascii	"chip %d history success\012\000"
 458      20256420 
 458      68697374 
 458      6F727920 
 458      73756363 
 459 0019 000000   		.align	2
 460              	.LC9:
 461 001c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:success\012\000"
 461      6D626572 
 461      3A256420 
 461      63686970 
 461      4E616D65 
 462 0045 000000   		.align	2
 463              	.LC10:
 464 0048 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:fail\012\000"
 464      6D626572 
 464      3A256420 
 464      63686970 
 464      4E616D65 
 465              		.section	.text.system_manage_download_cap,"ax",%progbits
 466              		.align	1
 467              		.global	system_manage_download_cap
 468              		.syntax unified
 469              		.thumb
 470              		.thumb_func
 472              	system_manage_download_cap:
 473              	.LFB239:
 132:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 13


 133:App/Src/manager.c **** 
 134:App/Src/manager.c **** //下载函数
 135:App/Src/manager.c **** //先做下载前的检查工作
 136:App/Src/manager.c **** //最后调用download_temp_cap函数去烧录
 137:App/Src/manager.c **** int system_manage_download_cap(void)
 138:App/Src/manager.c **** {
 474              		.loc 1 138 1 is_stmt 1 view -0
 475              		.cfi_startproc
 476              		@ args = 0, pretend = 0, frame = 0
 477              		@ frame_needed = 0, uses_anonymous_args = 0
 478 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 479              	.LCFI5:
 480              		.cfi_def_cfa_offset 24
 481              		.cfi_offset 3, -24
 482              		.cfi_offset 4, -20
 483              		.cfi_offset 5, -16
 484              		.cfi_offset 6, -12
 485              		.cfi_offset 7, -8
 486              		.cfi_offset 14, -4
 139:App/Src/manager.c ****     int i;
 487              		.loc 1 139 5 view .LVU92
 140:App/Src/manager.c ****     int count = 0;
 488              		.loc 1 140 5 view .LVU93
 489              	.LVL45:
 141:App/Src/manager.c ****     
 142:App/Src/manager.c ****     memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 490              		.loc 1 142 5 view .LVU94
 491 0002 234C     		ldr	r4, .L36
 492 0004 6422     		movs	r2, #100
 493 0006 FF21     		movs	r1, #255
 494 0008 2046     		mov	r0, r4
 495 000a FFF7FEFF 		bl	memset
 496              	.LVL46:
 143:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_READ);
 497              		.loc 1 143 5 view .LVU95
 498 000e 0022     		movs	r2, #0
 499 0010 0321     		movs	r1, #3
 500 0012 2046     		mov	r0, r4
 501 0014 FFF7FEFF 		bl	flash_test_flag_manage
 502              	.LVL47:
 144:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 503              		.loc 1 144 5 view .LVU96
 140:App/Src/manager.c ****     
 504              		.loc 1 140 9 is_stmt 0 view .LVU97
 505 0018 0025     		movs	r5, #0
 506              		.loc 1 144 12 view .LVU98
 507 001a 2C46     		mov	r4, r5
 508              		.loc 1 144 5 view .LVU99
 509 001c 1AE0     		b	.L27
 510              	.LVL48:
 511              	.L35:
 145:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 146:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 512              		.loc 1 146 13 is_stmt 1 view .LVU100
 513 001e 661C     		adds	r6, r4, #1
 514 0020 1C4F     		ldr	r7, .L36+4
 515 0022 3146     		mov	r1, r6
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 14


 516 0024 3846     		mov	r0, r7
 517 0026 FFF7FEFF 		bl	log_printf
 518              	.LVL49:
 147:App/Src/manager.c ****             UsbPrintf("chip %d history success\n", i + 1);
 519              		.loc 1 147 13 view .LVU101
 520 002a 3146     		mov	r1, r6
 521 002c 3846     		mov	r0, r7
 522 002e FFF7FEFF 		bl	UsbPrintf
 523              	.LVL50:
 148:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 524              		.loc 1 148 4 view .LVU102
 525 0032 3246     		mov	r2, r6
 526 0034 2946     		mov	r1, r5
 527 0036 1848     		ldr	r0, .L36+8
 528 0038 FFF7FEFF 		bl	ControlPrintf
 529              	.LVL51:
 149:App/Src/manager.c ****             count++;
 530              		.loc 1 149 13 view .LVU103
 531              		.loc 1 149 18 is_stmt 0 view .LVU104
 532 003c 0135     		adds	r5, r5, #1
 533              	.LVL52:
 150:App/Src/manager.c ****             continue;
 534              		.loc 1 150 13 is_stmt 1 view .LVU105
 535 003e 08E0     		b	.L29
 536              	.L30:
 151:App/Src/manager.c ****         }
 152:App/Src/manager.c **** 
 153:App/Src/manager.c ****         if (sd8840_write_otp(i + 1) != 0) {
 154:App/Src/manager.c ****             count++;
 155:App/Src/manager.c ****             g_testFlag[i] = '1';
 156:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 157:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 158:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:fail\n", count, i + 1);
 537              		.loc 1 158 4 view .LVU106
 538 0040 621C     		adds	r2, r4, #1
 539 0042 2946     		mov	r1, r5
 540 0044 1548     		ldr	r0, .L36+12
 541 0046 FFF7FEFF 		bl	ControlPrintf
 542              	.LVL53:
 543              	.L31:
 159:App/Src/manager.c ****         }
 160:App/Src/manager.c **** 
 161:App/Src/manager.c ****         HAL_Delay(500);
 544              		.loc 1 161 9 view .LVU107
 545 004a 4FF4FA70 		mov	r0, #500
 546 004e FFF7FEFF 		bl	HAL_Delay
 547              	.LVL54:
 548              	.L29:
 144:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 549              		.loc 1 144 38 discriminator 2 view .LVU108
 144:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 550              		.loc 1 144 39 is_stmt 0 discriminator 2 view .LVU109
 551 0052 0134     		adds	r4, r4, #1
 552              	.LVL55:
 553              	.L27:
 144:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 554              		.loc 1 144 17 is_stmt 1 discriminator 1 view .LVU110
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 15


 144:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 555              		.loc 1 144 5 is_stmt 0 discriminator 1 view .LVU111
 556 0054 632C     		cmp	r4, #99
 557 0056 13DC     		bgt	.L34
 145:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 558              		.loc 1 145 9 is_stmt 1 view .LVU112
 145:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 559              		.loc 1 145 23 is_stmt 0 view .LVU113
 560 0058 0D4B     		ldr	r3, .L36
 561 005a 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 145:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 562              		.loc 1 145 12 view .LVU114
 563 005c 312B     		cmp	r3, #49
 564 005e DED0     		beq	.L35
 153:App/Src/manager.c ****             count++;
 565              		.loc 1 153 9 is_stmt 1 view .LVU115
 153:App/Src/manager.c ****             count++;
 566              		.loc 1 153 13 is_stmt 0 view .LVU116
 567 0060 601C     		adds	r0, r4, #1
 568 0062 C0B2     		uxtb	r0, r0
 569 0064 FFF7FEFF 		bl	sd8840_write_otp
 570              	.LVL56:
 153:App/Src/manager.c ****             count++;
 571              		.loc 1 153 12 view .LVU117
 572 0068 0028     		cmp	r0, #0
 573 006a E9D0     		beq	.L30
 154:App/Src/manager.c ****             g_testFlag[i] = '1';
 574              		.loc 1 154 13 is_stmt 1 view .LVU118
 154:App/Src/manager.c ****             g_testFlag[i] = '1';
 575              		.loc 1 154 18 is_stmt 0 view .LVU119
 576 006c 0135     		adds	r5, r5, #1
 577              	.LVL57:
 155:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 578              		.loc 1 155 13 is_stmt 1 view .LVU120
 155:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 579              		.loc 1 155 27 is_stmt 0 view .LVU121
 580 006e 084B     		ldr	r3, .L36
 581 0070 3122     		movs	r2, #49
 582 0072 1A55     		strb	r2, [r3, r4]
 156:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 583              		.loc 1 156 4 is_stmt 1 view .LVU122
 584 0074 621C     		adds	r2, r4, #1
 585 0076 2946     		mov	r1, r5
 586 0078 0748     		ldr	r0, .L36+8
 587 007a FFF7FEFF 		bl	ControlPrintf
 588              	.LVL58:
 589 007e E4E7     		b	.L31
 590              	.L34:
 162:App/Src/manager.c ****     }
 163:App/Src/manager.c ****     
 164:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_WRITE_ADD);
 591              		.loc 1 164 5 view .LVU123
 592 0080 0122     		movs	r2, #1
 593 0082 0321     		movs	r1, #3
 594 0084 0248     		ldr	r0, .L36
 595 0086 FFF7FEFF 		bl	flash_test_flag_manage
 596              	.LVL59:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 16


 165:App/Src/manager.c ****     return count;    
 597              		.loc 1 165 5 view .LVU124
 166:App/Src/manager.c **** }
 598              		.loc 1 166 1 is_stmt 0 view .LVU125
 599 008a 2846     		mov	r0, r5
 600 008c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 601              	.LVL60:
 602              	.L37:
 603              		.loc 1 166 1 view .LVU126
 604 008e 00BF     		.align	2
 605              	.L36:
 606 0090 00000000 		.word	.LANCHOR1
 607 0094 00000000 		.word	.LC8
 608 0098 1C000000 		.word	.LC9
 609 009c 48000000 		.word	.LC10
 610              		.cfi_endproc
 611              	.LFE239:
 613              		.section	.rodata.system_set_int.str1.4,"aMS",%progbits,1
 614              		.align	2
 615              	.LC11:
 616 0000 74657374 		.ascii	"test chip %d\012\000"
 616      20636869 
 616      70202564 
 616      0A00
 617              		.section	.text.system_set_int,"ax",%progbits
 618              		.align	1
 619              		.global	system_set_int
 620              		.syntax unified
 621              		.thumb
 622              		.thumb_func
 624              	system_set_int:
 625              	.LVL61:
 626              	.LFB240:
 167:App/Src/manager.c **** 
 168:App/Src/manager.c **** void system_set_int(uint8_t channel)
 169:App/Src/manager.c **** {
 627              		.loc 1 169 1 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
 631              		.loc 1 169 1 is_stmt 0 view .LVU128
 632 0000 38B5     		push	{r3, r4, r5, lr}
 633              	.LCFI6:
 634              		.cfi_def_cfa_offset 16
 635              		.cfi_offset 3, -16
 636              		.cfi_offset 4, -12
 637              		.cfi_offset 5, -8
 638              		.cfi_offset 14, -4
 639 0002 0446     		mov	r4, r0
 170:App/Src/manager.c ****     static int lastChannel = -1;
 640              		.loc 1 170 5 is_stmt 1 view .LVU129
 171:App/Src/manager.c ****     // int i;
 172:App/Src/manager.c ****     UsbPrintf("test chip %d\n", channel);
 641              		.loc 1 172 5 view .LVU130
 642 0004 124D     		ldr	r5, .L44
 643 0006 0146     		mov	r1, r0
 644 0008 2846     		mov	r0, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 17


 645              	.LVL62:
 646              		.loc 1 172 5 is_stmt 0 view .LVU131
 647 000a FFF7FEFF 		bl	UsbPrintf
 648              	.LVL63:
 173:App/Src/manager.c ****     log_printf("test chip %d\n", channel);
 649              		.loc 1 173 5 is_stmt 1 view .LVU132
 650 000e 2146     		mov	r1, r4
 651 0010 2846     		mov	r0, r5
 652 0012 FFF7FEFF 		bl	log_printf
 653              	.LVL64:
 174:App/Src/manager.c **** 
 175:App/Src/manager.c ****     if (lastChannel > 0) {
 654              		.loc 1 175 5 view .LVU133
 655              		.loc 1 175 21 is_stmt 0 view .LVU134
 656 0016 0F4B     		ldr	r3, .L44+4
 657 0018 1868     		ldr	r0, [r3]
 658              		.loc 1 175 8 view .LVU135
 659 001a 0028     		cmp	r0, #0
 660 001c 03DC     		bgt	.L42
 661              	.L39:
 176:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 177:App/Src/manager.c ****         rtc_disable_int();
 178:App/Src/manager.c ****         rtc_1006_exit_testmode(lastChannel);
 179:App/Src/manager.c ****     }
 180:App/Src/manager.c ****     
 181:App/Src/manager.c ****     if (channel != 0) {
 662              		.loc 1 181 5 is_stmt 1 view .LVU136
 663              		.loc 1 181 8 is_stmt 0 view .LVU137
 664 001e 6CB9     		cbnz	r4, .L43
 665              	.L40:
 182:App/Src/manager.c ****         rtc_group_power(channel, POWER_I2C);
 183:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 184:App/Src/manager.c ****         rtc_out_4096();
 185:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 186:App/Src/manager.c ****     } 
 187:App/Src/manager.c ****     lastChannel = channel;
 666              		.loc 1 187 5 is_stmt 1 view .LVU138
 667              		.loc 1 187 17 is_stmt 0 view .LVU139
 668 0020 0C4B     		ldr	r3, .L44+4
 669 0022 1C60     		str	r4, [r3]
 188:App/Src/manager.c **** }
 670              		.loc 1 188 1 view .LVU140
 671 0024 38BD     		pop	{r3, r4, r5, pc}
 672              	.L42:
 176:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 673              		.loc 1 176 9 is_stmt 1 view .LVU141
 674 0026 0121     		movs	r1, #1
 675 0028 C0B2     		uxtb	r0, r0
 676 002a FFF7FEFF 		bl	rtc_group_power
 677              	.LVL65:
 177:App/Src/manager.c ****         rtc_1006_exit_testmode(lastChannel);
 678              		.loc 1 177 9 view .LVU142
 679 002e FFF7FEFF 		bl	rtc_disable_int
 680              	.LVL66:
 178:App/Src/manager.c ****     }
 681              		.loc 1 178 9 view .LVU143
 682 0032 084B     		ldr	r3, .L44+4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 18


 683 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 684 0036 FFF7FEFF 		bl	rtc_1006_exit_testmode
 685              	.LVL67:
 686 003a F0E7     		b	.L39
 687              	.L43:
 182:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 688              		.loc 1 182 9 view .LVU144
 689 003c 0121     		movs	r1, #1
 690 003e 2046     		mov	r0, r4
 691 0040 FFF7FEFF 		bl	rtc_group_power
 692              	.LVL68:
 183:App/Src/manager.c ****         rtc_out_4096();
 693              		.loc 1 183 9 view .LVU145
 694 0044 2046     		mov	r0, r4
 695 0046 FFF7FEFF 		bl	rtc_1006_set_testmode
 696              	.LVL69:
 184:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 697              		.loc 1 184 9 view .LVU146
 698 004a FFF7FEFF 		bl	rtc_out_4096
 699              	.LVL70:
 700 004e E7E7     		b	.L40
 701              	.L45:
 702              		.align	2
 703              	.L44:
 704 0050 00000000 		.word	.LC11
 705 0054 00000000 		.word	.LANCHOR2
 706              		.cfi_endproc
 707              	.LFE240:
 709              		.section	.text.check_system_temp,"ax",%progbits
 710              		.align	1
 711              		.global	check_system_temp
 712              		.syntax unified
 713              		.thumb
 714              		.thumb_func
 716              	check_system_temp:
 717              	.LFB241:
 189:App/Src/manager.c **** 
 190:App/Src/manager.c **** int check_system_temp(void)
 191:App/Src/manager.c **** {
 718              		.loc 1 191 1 view -0
 719              		.cfi_startproc
 720              		@ args = 0, pretend = 0, frame = 0
 721              		@ frame_needed = 0, uses_anonymous_args = 0
 722 0000 08B5     		push	{r3, lr}
 723              	.LCFI7:
 724              		.cfi_def_cfa_offset 8
 725              		.cfi_offset 3, -8
 726              		.cfi_offset 14, -4
 192:App/Src/manager.c ****     float temp;
 727              		.loc 1 192 5 view .LVU148
 193:App/Src/manager.c ****     temp = temp_read_value(1);
 728              		.loc 1 193 5 view .LVU149
 729              		.loc 1 193 12 is_stmt 0 view .LVU150
 730 0002 0120     		movs	r0, #1
 731 0004 FFF7FEFF 		bl	temp_read_value
 732              	.LVL71:
 194:App/Src/manager.c ****     int num = 100;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 19


 733              		.loc 1 194 5 is_stmt 1 view .LVU151
 195:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 734              		.loc 1 195 5 view .LVU152
 735              		.loc 1 195 8 is_stmt 0 view .LVU153
 736 0008 DFED297A 		vldr.32	s15, .L70
 737 000c B4EEE70A 		vcmpe.f32	s0, s15
 738 0010 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 739 0014 06DB     		blt	.L47
 740              		.loc 1 195 21 discriminator 1 view .LVU154
 741 0016 DFED277A 		vldr.32	s15, .L70+4
 742 001a B4EEE70A 		vcmpe.f32	s0, s15
 743 001e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 744 0022 39D9     		bls	.L57
 745              	.L47:
 196:App/Src/manager.c ****         num = TEST_RTC_TEMP_F40;
 197:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 746              		.loc 1 197 12 is_stmt 1 view .LVU155
 747              		.loc 1 197 15 is_stmt 0 view .LVU156
 748 0024 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 749 0028 B4EEE70A 		vcmpe.f32	s0, s15
 750 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 751 0030 06DB     		blt	.L50
 752              		.loc 1 197 28 discriminator 1 view .LVU157
 753 0032 F9EE047A 		vmov.f32	s15, #-5.0e+0
 754 0036 B4EEE70A 		vcmpe.f32	s0, s15
 755 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 756 003e 2DD9     		bls	.L58
 757              	.L50:
 198:App/Src/manager.c ****         num = TEST_RTC_TEMP_F10;
 199:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 758              		.loc 1 199 13 is_stmt 1 view .LVU158
 759              		.loc 1 199 16 is_stmt 0 view .LVU159
 760 0040 F3EE047A 		vmov.f32	s15, #2.0e+1
 761 0044 B4EEE70A 		vcmpe.f32	s0, s15
 762 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 763 004c 06DB     		blt	.L52
 764              		.loc 1 199 28 discriminator 1 view .LVU160
 765 004e DFED1A7A 		vldr.32	s15, .L70+8
 766 0052 B4EEE70A 		vcmpe.f32	s0, s15
 767 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 768 005a 21D9     		bls	.L59
 769              	.L52:
 200:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z29;
 201:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 770              		.loc 1 201 12 is_stmt 1 view .LVU161
 771              		.loc 1 201 15 is_stmt 0 view .LVU162
 772 005c DFED177A 		vldr.32	s15, .L70+12
 773 0060 B4EEE70A 		vcmpe.f32	s0, s15
 774 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 775 0068 06DB     		blt	.L54
 776              		.loc 1 201 27 discriminator 1 view .LVU163
 777 006a DFED157A 		vldr.32	s15, .L70+16
 778 006e B4EEE70A 		vcmpe.f32	s0, s15
 779 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 780 0076 15D9     		bls	.L60
 781              	.L54:
 202:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z60;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 20


 203:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 782              		.loc 1 203 12 is_stmt 1 view .LVU164
 783              		.loc 1 203 15 is_stmt 0 view .LVU165
 784 0078 DFED127A 		vldr.32	s15, .L70+20
 785 007c B4EEE70A 		vcmpe.f32	s0, s15
 786 0080 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 787 0084 10DB     		blt	.L68
 788              		.loc 1 203 27 discriminator 1 view .LVU166
 789 0086 DFED107A 		vldr.32	s15, .L70+24
 790 008a B4EEE70A 		vcmpe.f32	s0, s15
 791 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 792 0092 0BD9     		bls	.L62
 194:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 793              		.loc 1 194 9 view .LVU167
 794 0094 6420     		movs	r0, #100
 795 0096 00E0     		b	.L46
 796              	.L57:
 196:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 797              		.loc 1 196 13 view .LVU168
 798 0098 0020     		movs	r0, #0
 799              	.LVL72:
 800              	.L46:
 204:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z85;
 205:App/Src/manager.c ****     }
 206:App/Src/manager.c ****     return num;
 207:App/Src/manager.c **** }
 801              		.loc 1 207 1 view .LVU169
 802 009a 08BD     		pop	{r3, pc}
 803              	.LVL73:
 804              	.L58:
 198:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 805              		.loc 1 198 13 view .LVU170
 806 009c 0120     		movs	r0, #1
 807 009e FCE7     		b	.L46
 808              	.L59:
 200:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 809              		.loc 1 200 13 view .LVU171
 810 00a0 0220     		movs	r0, #2
 811 00a2 FAE7     		b	.L46
 812              	.L60:
 202:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 813              		.loc 1 202 13 view .LVU172
 814 00a4 0320     		movs	r0, #3
 815 00a6 F8E7     		b	.L46
 816              	.L68:
 194:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 817              		.loc 1 194 9 view .LVU173
 818 00a8 6420     		movs	r0, #100
 819 00aa F6E7     		b	.L46
 820              	.L62:
 204:App/Src/manager.c ****     }
 821              		.loc 1 204 13 view .LVU174
 822 00ac 0420     		movs	r0, #4
 823              	.LVL74:
 206:App/Src/manager.c **** }
 824              		.loc 1 206 5 is_stmt 1 view .LVU175
 206:App/Src/manager.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 21


 825              		.loc 1 206 12 is_stmt 0 view .LVU176
 826 00ae F4E7     		b	.L46
 827              	.L71:
 828              		.align	2
 829              	.L70:
 830 00b0 000034C2 		.word	-1036779520
 831 00b4 00000CC2 		.word	-1039400960
 832 00b8 00002042 		.word	1109393408
 833 00bc 00005C42 		.word	1113325568
 834 00c0 00008242 		.word	1115815936
 835 00c4 0000A042 		.word	1117782016
 836 00c8 0000B442 		.word	1119092736
 837              		.cfi_endproc
 838              	.LFE241:
 840              		.section	.text.systm_cap_save_buffer,"ax",%progbits
 841              		.align	1
 842              		.global	systm_cap_save_buffer
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 847              	systm_cap_save_buffer:
 848              	.LVL75:
 849              	.LFB242:
 208:App/Src/manager.c **** 
 209:App/Src/manager.c **** 
 210:App/Src/manager.c **** void systm_cap_save_buffer(uint8_t rtcNumber, float testTemp, float testCap)
 211:App/Src/manager.c **** {
 850              		.loc 1 211 1 is_stmt 1 view -0
 851              		.cfi_startproc
 852              		@ args = 0, pretend = 0, frame = 0
 853              		@ frame_needed = 0, uses_anonymous_args = 0
 854              		@ link register save eliminated.
 212:App/Src/manager.c ****     int i;
 855              		.loc 1 212 5 view .LVU178
 213:App/Src/manager.c **** 
 214:App/Src/manager.c ****     if (rtcNumber == 0) {
 856              		.loc 1 214 5 view .LVU179
 857              		.loc 1 214 8 is_stmt 0 view .LVU180
 858 0000 0246     		mov	r2, r0
 859 0002 C8B1     		cbz	r0, .L77
 215:App/Src/manager.c ****         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 216:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 217:App/Src/manager.c ****         }
 218:App/Src/manager.c ****     } else {
 219:App/Src/manager.c ****         g_oneData.flag[rtcNumber - 1] = CAP_ADJUST_SUCCESS;
 860              		.loc 1 219 9 is_stmt 1 view .LVU181
 861              		.loc 1 219 34 is_stmt 0 view .LVU182
 862 0004 411E     		subs	r1, r0, #1
 863              		.loc 1 219 39 view .LVU183
 864 0006 0D4B     		ldr	r3, .L79
 865 0008 5818     		adds	r0, r3, r1
 866              	.LVL76:
 867              		.loc 1 219 39 view .LVU184
 868 000a 4FF0020C 		mov	ip, #2
 869 000e 80F824C3 		strb	ip, [r0, #804]
 220:App/Src/manager.c ****         g_oneData.temp[rtcNumber - 1] = testTemp;
 870              		.loc 1 220 9 is_stmt 1 view .LVU185
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 22


 871              		.loc 1 220 39 is_stmt 0 view .LVU186
 872 0012 03EB8101 		add	r1, r3, r1, lsl #2
 873 0016 81ED010A 		vstr.32	s0, [r1, #4]
 221:App/Src/manager.c ****         g_oneData.cap[rtcNumber - 1] = testCap;
 874              		.loc 1 221 9 is_stmt 1 view .LVU187
 875              		.loc 1 221 38 is_stmt 0 view .LVU188
 876 001a 6332     		adds	r2, r2, #99
 877 001c 03EB8203 		add	r3, r3, r2, lsl #2
 878 0020 C3ED010A 		vstr.32	s1, [r3, #4]
 222:App/Src/manager.c ****     }
 223:App/Src/manager.c **** }
 879              		.loc 1 223 1 view .LVU189
 880 0024 7047     		bx	lr
 881              	.LVL77:
 882              	.L75:
 216:App/Src/manager.c ****         }
 883              		.loc 1 216 12 is_stmt 1 discriminator 3 view .LVU190
 216:App/Src/manager.c ****         }
 884              		.loc 1 216 30 is_stmt 0 discriminator 3 view .LVU191
 885 0026 054A     		ldr	r2, .L79
 886 0028 1A44     		add	r2, r2, r3
 887 002a 0021     		movs	r1, #0
 888 002c 82F82413 		strb	r1, [r2, #804]
 215:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 889              		.loc 1 215 42 is_stmt 1 discriminator 3 view .LVU192
 215:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 890              		.loc 1 215 43 is_stmt 0 discriminator 3 view .LVU193
 891 0030 0133     		adds	r3, r3, #1
 892              	.LVL78:
 893              	.L73:
 215:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 894              		.loc 1 215 21 is_stmt 1 discriminator 1 view .LVU194
 215:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 895              		.loc 1 215 9 is_stmt 0 discriminator 1 view .LVU195
 896 0032 632B     		cmp	r3, #99
 897 0034 F7DD     		ble	.L75
 898 0036 7047     		bx	lr
 899              	.LVL79:
 900              	.L77:
 215:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 901              		.loc 1 215 16 view .LVU196
 902 0038 0023     		movs	r3, #0
 903 003a FAE7     		b	.L73
 904              	.L80:
 905              		.align	2
 906              	.L79:
 907 003c 00000000 		.word	.LANCHOR3
 908              		.cfi_endproc
 909              	.LFE242:
 911              		.section	.text.system_check_test_dot,"ax",%progbits
 912              		.align	1
 913              		.global	system_check_test_dot
 914              		.syntax unified
 915              		.thumb
 916              		.thumb_func
 918              	system_check_test_dot:
 919              	.LVL80:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 23


 920              	.LFB243:
 224:App/Src/manager.c **** 
 225:App/Src/manager.c **** uint8_t system_check_test_dot(uint8_t rtcNumber, uint8_t testNumber)
 226:App/Src/manager.c **** {
 921              		.loc 1 226 1 is_stmt 1 view -0
 922              		.cfi_startproc
 923              		@ args = 0, pretend = 0, frame = 8
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 925              		.loc 1 226 1 is_stmt 0 view .LVU198
 926 0000 00B5     		push	{lr}
 927              	.LCFI8:
 928              		.cfi_def_cfa_offset 4
 929              		.cfi_offset 14, -4
 930 0002 83B0     		sub	sp, sp, #12
 931              	.LCFI9:
 932              		.cfi_def_cfa_offset 16
 933 0004 0B46     		mov	r3, r1
 227:App/Src/manager.c ****     uint32_t address;
 934              		.loc 1 227 5 is_stmt 1 view .LVU199
 228:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 935              		.loc 1 228 5 view .LVU200
 936              		.loc 1 228 13 is_stmt 0 view .LVU201
 937 0006 0022     		movs	r2, #0
 938 0008 0192     		str	r2, [sp, #4]
 229:App/Src/manager.c ****     
 230:App/Src/manager.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + tes
 939              		.loc 1 230 5 is_stmt 1 view .LVU202
 940              		.loc 1 230 38 is_stmt 0 view .LVU203
 941 000a 0730     		adds	r0, r0, #7
 942              	.LVL81:
 943              		.loc 1 230 38 view .LVU204
 944 000c 4002     		lsls	r0, r0, #9
 945              		.loc 1 230 79 view .LVU205
 946 000e 0830     		adds	r0, r0, #8
 947              	.LVL82:
 231:App/Src/manager.c ****     flash_read_data(address, buffer, 4);
 948              		.loc 1 231 5 is_stmt 1 view .LVU206
 949 0010 0422     		movs	r2, #4
 950 0012 0DEB0201 		add	r1, sp, r2
 951              	.LVL83:
 952              		.loc 1 231 5 is_stmt 0 view .LVU207
 953 0016 00EB8300 		add	r0, r0, r3, lsl #2
 954              	.LVL84:
 955              		.loc 1 231 5 view .LVU208
 956 001a FFF7FEFF 		bl	flash_read_data
 957              	.LVL85:
 232:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 958              		.loc 1 232 5 is_stmt 1 view .LVU209
 959              		.loc 1 232 15 is_stmt 0 view .LVU210
 960 001e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 961              		.loc 1 232 8 view .LVU211
 962 0022 FF2B     		cmp	r3, #255
 963 0024 0DD1     		bne	.L83
 964              		.loc 1 232 36 discriminator 2 view .LVU212
 965 0026 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 966              		.loc 1 232 27 discriminator 2 view .LVU213
 967 002a FF2B     		cmp	r3, #255
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 24


 968 002c 0DD1     		bne	.L84
 969              		.loc 1 232 57 discriminator 4 view .LVU214
 970 002e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 971              		.loc 1 232 48 discriminator 4 view .LVU215
 972 0032 FF2B     		cmp	r3, #255
 973 0034 0BD1     		bne	.L85
 974              		.loc 1 232 78 discriminator 6 view .LVU216
 975 0036 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 976              		.loc 1 232 69 discriminator 6 view .LVU217
 977 003a FF2B     		cmp	r3, #255
 978 003c 09D1     		bne	.L86
 233:App/Src/manager.c ****     return 0;
 979              		.loc 1 233 12 view .LVU218
 980 003e 0020     		movs	r0, #0
 981 0040 00E0     		b	.L82
 982              	.L83:
 232:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 983              		.loc 1 232 100 view .LVU219
 984 0042 0120     		movs	r0, #1
 985              	.L82:
 234:App/Src/manager.c **** }
 986              		.loc 1 234 1 view .LVU220
 987 0044 03B0     		add	sp, sp, #12
 988              	.LCFI10:
 989              		.cfi_remember_state
 990              		.cfi_def_cfa_offset 4
 991              		@ sp needed
 992 0046 5DF804FB 		ldr	pc, [sp], #4
 993              	.L84:
 994              	.LCFI11:
 995              		.cfi_restore_state
 232:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 996              		.loc 1 232 100 view .LVU221
 997 004a 0120     		movs	r0, #1
 998 004c FAE7     		b	.L82
 999              	.L85:
 1000 004e 0120     		movs	r0, #1
 1001 0050 F8E7     		b	.L82
 1002              	.L86:
 1003 0052 0120     		movs	r0, #1
 1004 0054 F6E7     		b	.L82
 1005              		.cfi_endproc
 1006              	.LFE243:
 1008              		.section	.text.system_cap_write_flash,"ax",%progbits
 1009              		.align	1
 1010              		.global	system_cap_write_flash
 1011              		.syntax unified
 1012              		.thumb
 1013              		.thumb_func
 1015              	system_cap_write_flash:
 1016              	.LFB244:
 235:App/Src/manager.c **** 
 236:App/Src/manager.c **** void system_cap_write_flash(void)
 237:App/Src/manager.c **** {
 1017              		.loc 1 237 1 is_stmt 1 view -0
 1018              		.cfi_startproc
 1019              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 25


 1020              		@ frame_needed = 0, uses_anonymous_args = 0
 1021 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1022              	.LCFI12:
 1023              		.cfi_def_cfa_offset 20
 1024              		.cfi_offset 4, -20
 1025              		.cfi_offset 5, -16
 1026              		.cfi_offset 6, -12
 1027              		.cfi_offset 7, -8
 1028              		.cfi_offset 14, -4
 1029 0002 83B0     		sub	sp, sp, #12
 1030              	.LCFI13:
 1031              		.cfi_def_cfa_offset 32
 238:App/Src/manager.c ****     uint32_t address;
 1032              		.loc 1 238 5 view .LVU223
 239:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 1033              		.loc 1 239 5 view .LVU224
 1034              		.loc 1 239 13 is_stmt 0 view .LVU225
 1035 0004 0024     		movs	r4, #0
 1036 0006 0194     		str	r4, [sp, #4]
 240:App/Src/manager.c ****     int i;
 1037              		.loc 1 240 5 is_stmt 1 view .LVU226
 241:App/Src/manager.c **** 
 242:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1038              		.loc 1 242 5 view .LVU227
 1039              	.LVL86:
 1040              		.loc 1 242 5 is_stmt 0 view .LVU228
 1041 0008 00E0     		b	.L89
 1042              	.LVL87:
 1043              	.L90:
 1044              		.loc 1 242 38 is_stmt 1 discriminator 2 view .LVU229
 1045              		.loc 1 242 39 is_stmt 0 discriminator 2 view .LVU230
 1046 000a 0134     		adds	r4, r4, #1
 1047              	.LVL88:
 1048              	.L89:
 1049              		.loc 1 242 17 is_stmt 1 discriminator 1 view .LVU231
 1050              		.loc 1 242 5 is_stmt 0 discriminator 1 view .LVU232
 1051 000c 632C     		cmp	r4, #99
 1052 000e 3BDC     		bgt	.L93
 243:App/Src/manager.c ****         if (g_oneData.flag[i] != CAP_ADJUST_SUCCESS) { continue; }//测试不成功，不会写入flash
 1053              		.loc 1 243 9 is_stmt 1 view .LVU233
 1054              		.loc 1 243 27 is_stmt 0 view .LVU234
 1055 0010 1E4B     		ldr	r3, .L94
 1056 0012 2344     		add	r3, r3, r4
 1057 0014 93F82433 		ldrb	r3, [r3, #804]	@ zero_extendqisi2
 1058              		.loc 1 243 12 view .LVU235
 1059 0018 022B     		cmp	r3, #2
 1060 001a F6D1     		bne	.L90
 244:App/Src/manager.c ****         if (system_check_test_dot(i + 1, g_oneData.number) > 0) { continue; }//防止重复测试不会更新
 1061              		.loc 1 244 9 is_stmt 1 view .LVU236
 1062              		.loc 1 244 13 is_stmt 0 view .LVU237
 1063 001c 601C     		adds	r0, r4, #1
 1064 001e 1B4B     		ldr	r3, .L94
 1065 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1066 0022 C0B2     		uxtb	r0, r0
 1067 0024 FFF7FEFF 		bl	system_check_test_dot
 1068              	.LVL89:
 1069              		.loc 1 244 12 view .LVU238
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 26


 1070 0028 0028     		cmp	r0, #0
 1071 002a EED1     		bne	.L90
 245:App/Src/manager.c ****         // HAL_Delay(1);
 246:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + g_oneData.num
 1072              		.loc 1 246 9 is_stmt 1 view .LVU239
 1073              		.loc 1 246 42 is_stmt 0 view .LVU240
 1074 002c 04F10805 		add	r5, r4, #8
 1075 0030 6D02     		lsls	r5, r5, #9
 1076              		.loc 1 246 69 view .LVU241
 1077 0032 05F10807 		add	r7, r5, #8
 1078              		.loc 1 246 96 view .LVU242
 1079 0036 154E     		ldr	r6, .L94
 1080 0038 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1081              		.loc 1 246 85 view .LVU243
 1082 003a 07EB8307 		add	r7, r7, r3, lsl #2
 1083              	.LVL90:
 247:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.temp[i]);
 1084              		.loc 1 247 9 is_stmt 1 view .LVU244
 1085 003e 06EB8401 		add	r1, r6, r4, lsl #2
 1086 0042 0431     		adds	r1, r1, #4
 1087 0044 01A8     		add	r0, sp, #4
 1088 0046 FFF7FEFF 		bl	float_to_uint8
 1089              	.LVL91:
 248:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1090              		.loc 1 248 9 view .LVU245
 1091 004a 0422     		movs	r2, #4
 1092 004c 0DEB0201 		add	r1, sp, r2
 1093 0050 3846     		mov	r0, r7
 1094 0052 FFF7FEFF 		bl	flash_write_data
 1095              	.LVL92:
 249:App/Src/manager.c ****         HAL_Delay(5);
 1096              		.loc 1 249 9 view .LVU246
 1097 0056 0520     		movs	r0, #5
 1098 0058 FFF7FEFF 		bl	HAL_Delay
 1099              	.LVL93:
 250:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_CAP + g_oneData.numb
 1100              		.loc 1 250 9 view .LVU247
 1101              		.loc 1 250 69 is_stmt 0 view .LVU248
 1102 005c 1C35     		adds	r5, r5, #28
 1103              		.loc 1 250 95 view .LVU249
 1104 005e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1105              		.loc 1 250 84 view .LVU250
 1106 0060 05EB8305 		add	r5, r5, r3, lsl #2
 1107              	.LVL94:
 251:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.cap[i]);
 1108              		.loc 1 251 9 is_stmt 1 view .LVU251
 1109 0064 04F16401 		add	r1, r4, #100
 1110 0068 06EB8101 		add	r1, r6, r1, lsl #2
 1111 006c 0431     		adds	r1, r1, #4
 1112 006e 01A8     		add	r0, sp, #4
 1113 0070 FFF7FEFF 		bl	float_to_uint8
 1114              	.LVL95:
 252:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1115              		.loc 1 252 9 view .LVU252
 1116 0074 0422     		movs	r2, #4
 1117 0076 0DEB0201 		add	r1, sp, r2
 1118 007a 2846     		mov	r0, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 27


 1119 007c FFF7FEFF 		bl	flash_write_data
 1120              	.LVL96:
 253:App/Src/manager.c ****         HAL_Delay(5);
 1121              		.loc 1 253 9 view .LVU253
 1122 0080 0520     		movs	r0, #5
 1123 0082 FFF7FEFF 		bl	HAL_Delay
 1124              	.LVL97:
 1125 0086 C0E7     		b	.L90
 1126              	.LVL98:
 1127              	.L93:
 254:App/Src/manager.c ****     }
 255:App/Src/manager.c **** }
 1128              		.loc 1 255 1 is_stmt 0 view .LVU254
 1129 0088 03B0     		add	sp, sp, #12
 1130              	.LCFI14:
 1131              		.cfi_def_cfa_offset 20
 1132              		@ sp needed
 1133 008a F0BD     		pop	{r4, r5, r6, r7, pc}
 1134              	.LVL99:
 1135              	.L95:
 1136              		.loc 1 255 1 view .LVU255
 1137              		.align	2
 1138              	.L94:
 1139 008c 00000000 		.word	.LANCHOR3
 1140              		.cfi_endproc
 1141              	.LFE244:
 1143              		.section	.rodata.system_tool_calculate_sec.str1.4,"aMS",%progbits,1
 1144              		.align	2
 1145              	.LC12:
 1146 0000 1F1C1F1E 		.ascii	"\037\034\037\036\037\036\037\037\036\037\036\037\000"
 1146      1F1E1F1F 
 1146      1E1F1E1F 
 1146      00
 1147              		.section	.text.system_tool_calculate_sec,"ax",%progbits
 1148              		.align	1
 1149              		.global	system_tool_calculate_sec
 1150              		.syntax unified
 1151              		.thumb
 1152              		.thumb_func
 1154              	system_tool_calculate_sec:
 1155              	.LFB245:
 256:App/Src/manager.c **** //计算基于2000年以后的时间秒
 257:App/Src/manager.c **** int system_tool_calculate_sec(RealTime time)
 258:App/Src/manager.c **** {
 1156              		.loc 1 258 1 is_stmt 1 view -0
 1157              		.cfi_startproc
 1158              		@ args = 0, pretend = 0, frame = 24
 1159              		@ frame_needed = 0, uses_anonymous_args = 0
 1160              		@ link register save eliminated.
 1161 0000 86B0     		sub	sp, sp, #24
 1162              	.LCFI15:
 1163              		.cfi_def_cfa_offset 24
 1164 0002 6B46     		mov	r3, sp
 1165 0004 83E80300 		stm	r3, {r0, r1}
 259:App/Src/manager.c ****     int number;
 1166              		.loc 1 259 5 view .LVU257
 260:App/Src/manager.c ****     uint8_t dayInMon[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 28


 1167              		.loc 1 260 5 view .LVU258
 1168              		.loc 1 260 13 is_stmt 0 view .LVU259
 1169 0008 244B     		ldr	r3, .L106
 1170 000a 93E80700 		ldm	r3, {r0, r1, r2}
 1171 000e 06AB     		add	r3, sp, #24
 1172 0010 03E90700 		stmdb	r3, {r0, r1, r2}
 261:App/Src/manager.c ****     uint8_t i;
 1173              		.loc 1 261 5 is_stmt 1 view .LVU260
 262:App/Src/manager.c ****     int day = 0; 
 1174              		.loc 1 262 5 view .LVU261
 1175              	.LVL100:
 263:App/Src/manager.c ****     if (time.year >= 100 || time.year == 0) {
 1176              		.loc 1 263 5 view .LVU262
 1177              		.loc 1 263 13 is_stmt 0 view .LVU263
 1178 0014 9DF800C0 		ldrb	ip, [sp]	@ zero_extendqisi2
 1179              		.loc 1 263 26 view .LVU264
 1180 0018 0CF1FF33 		add	r3, ip, #-1
 1181 001c DBB2     		uxtb	r3, r3
 1182              		.loc 1 263 8 view .LVU265
 1183 001e 622B     		cmp	r3, #98
 1184 0020 1BD8     		bhi	.L103
 264:App/Src/manager.c ****         day = 0;
 265:App/Src/manager.c ****     } else {
 266:App/Src/manager.c ****         day = 365 * time.year + ((time.year - 1) / 4);//补足闰年的天数
 1185              		.loc 1 266 9 is_stmt 1 view .LVU266
 1186              		.loc 1 266 19 is_stmt 0 view .LVU267
 1187 0022 40F26D10 		movw	r0, #365
 1188 0026 00FB0CF0 		mul	r0, r0, ip
 1189              		.loc 1 266 50 view .LVU268
 1190 002a BCF10103 		subs	r3, ip, #1
 1191 002e 12D4     		bmi	.L105
 1192              	.L98:
 1193              		.loc 1 266 13 view .LVU269
 1194 0030 00EBA300 		add	r0, r0, r3, asr #2
 1195              	.LVL101:
 1196              	.L97:
 264:App/Src/manager.c ****         day = 0;
 1197              		.loc 1 264 13 discriminator 1 view .LVU270
 1198 0034 0023     		movs	r3, #0
 1199              	.L99:
 1200              	.LVL102:
 267:App/Src/manager.c ****     }
 268:App/Src/manager.c ****     for (i = 0; i < 12; i++) {
 1201              		.loc 1 268 17 is_stmt 1 discriminator 1 view .LVU271
 1202              		.loc 1 268 5 is_stmt 0 discriminator 1 view .LVU272
 1203 0036 0B2B     		cmp	r3, #11
 1204 0038 11D8     		bhi	.L100
 269:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1205              		.loc 1 269 9 is_stmt 1 view .LVU273
 1206              		.loc 1 269 16 is_stmt 0 view .LVU274
 1207 003a 5A1C     		adds	r2, r3, #1
 1208              		.loc 1 269 28 view .LVU275
 1209 003c 9DF80110 		ldrb	r1, [sp, #1]	@ zero_extendqisi2
 1210              		.loc 1 269 12 view .LVU276
 1211 0040 8A42     		cmp	r2, r1
 1212 0042 0CD0     		beq	.L100
 270:App/Src/manager.c ****         day += dayInMon[i];
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 29


 1213              		.loc 1 270 9 is_stmt 1 discriminator 2 view .LVU277
 1214              		.loc 1 270 24 is_stmt 0 discriminator 2 view .LVU278
 1215 0044 03F11802 		add	r2, r3, #24
 1216 0048 6A44     		add	r2, sp, r2
 1217 004a 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
 1218              		.loc 1 270 13 discriminator 2 view .LVU279
 1219 004e 1044     		add	r0, r0, r2
 1220              	.LVL103:
 268:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1221              		.loc 1 268 25 is_stmt 1 discriminator 2 view .LVU280
 268:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1222              		.loc 1 268 26 is_stmt 0 discriminator 2 view .LVU281
 1223 0050 0133     		adds	r3, r3, #1
 1224              	.LVL104:
 268:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1225              		.loc 1 268 26 discriminator 2 view .LVU282
 1226 0052 DBB2     		uxtb	r3, r3
 1227              	.LVL105:
 268:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1228              		.loc 1 268 26 discriminator 2 view .LVU283
 1229 0054 EFE7     		b	.L99
 1230              	.LVL106:
 1231              	.L105:
 266:App/Src/manager.c ****     }
 1232              		.loc 1 266 50 view .LVU284
 1233 0056 0333     		adds	r3, r3, #3
 1234 0058 EAE7     		b	.L98
 1235              	.L103:
 264:App/Src/manager.c ****     } else {
 1236              		.loc 1 264 13 view .LVU285
 1237 005a 0020     		movs	r0, #0
 1238 005c EAE7     		b	.L97
 1239              	.LVL107:
 1240              	.L100:
 271:App/Src/manager.c ****     }
 272:App/Src/manager.c ****     day += time.day; 
 1241              		.loc 1 272 5 is_stmt 1 view .LVU286
 1242              		.loc 1 272 16 is_stmt 0 view .LVU287
 1243 005e 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 1244              	.LVL108:
 1245              		.loc 1 272 9 view .LVU288
 1246 0062 1844     		add	r0, r0, r3
 1247              	.LVL109:
 273:App/Src/manager.c ****     if ((time.year % 4) == 0 && time.mon >= 3) {
 1248              		.loc 1 273 5 is_stmt 1 view .LVU289
 1249              		.loc 1 273 8 is_stmt 0 view .LVU290
 1250 0064 1CF0030F 		tst	ip, #3
 1251 0068 04D1     		bne	.L102
 1252              		.loc 1 273 37 discriminator 1 view .LVU291
 1253 006a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1254              		.loc 1 273 30 discriminator 1 view .LVU292
 1255 006e 022B     		cmp	r3, #2
 1256 0070 00D9     		bls	.L102
 274:App/Src/manager.c ****         day += 1;       //闰月＋1
 1257              		.loc 1 274 9 is_stmt 1 view .LVU293
 1258              		.loc 1 274 13 is_stmt 0 view .LVU294
 1259 0072 0130     		adds	r0, r0, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 30


 1260              	.LVL110:
 1261              	.L102:
 275:App/Src/manager.c ****     }
 276:App/Src/manager.c ****     number = time.sec + (uint32_t)time.min * 60 + (uint32_t)time.hour * 3600 + day * 24 * 3600;
 1262              		.loc 1 276 5 is_stmt 1 view .LVU295
 1263              		.loc 1 276 18 is_stmt 0 view .LVU296
 1264 0074 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 1265              		.loc 1 276 65 view .LVU297
 1266 0078 9DF803C0 		ldrb	ip, [sp, #3]	@ zero_extendqisi2
 1267              		.loc 1 276 39 view .LVU298
 1268 007c 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 1269              		.loc 1 276 44 view .LVU299
 1270 0080 C2EB0212 		rsb	r2, r2, r2, lsl #4
 1271 0084 9300     		lsls	r3, r2, #2
 1272              		.loc 1 276 49 view .LVU300
 1273 0086 4FF46162 		mov	r2, #3600
 1274 008a 02FB0C33 		mla	r3, r2, ip, r3
 1275 008e 0B44     		add	r3, r3, r1
 1276              	.LVL111:
 277:App/Src/manager.c ****     return number;
 1277              		.loc 1 277 5 is_stmt 1 view .LVU301
 278:App/Src/manager.c **** }
 1278              		.loc 1 278 1 is_stmt 0 view .LVU302
 1279 0090 034A     		ldr	r2, .L106+4
 1280 0092 02FB0030 		mla	r0, r2, r0, r3
 1281              	.LVL112:
 1282              		.loc 1 278 1 view .LVU303
 1283 0096 06B0     		add	sp, sp, #24
 1284              	.LCFI16:
 1285              		.cfi_def_cfa_offset 0
 1286              		@ sp needed
 1287 0098 7047     		bx	lr
 1288              	.L107:
 1289 009a 00BF     		.align	2
 1290              	.L106:
 1291 009c 00000000 		.word	.LC12
 1292 00a0 80510100 		.word	86400
 1293              		.cfi_endproc
 1294              	.LFE245:
 1296              		.section	.rodata.system_manage_test_mode.str1.4,"aMS",%progbits,1
 1297              		.align	2
 1298              	.LC13:
 1299 0000 67726F75 		.ascii	"group i2c test:\000"
 1299      70206932 
 1299      63207465 
 1299      73743A00 
 1300              		.align	2
 1301              	.LC14:
 1302 0010 0A00     		.ascii	"\012\000"
 1303 0012 0000     		.align	2
 1304              	.LC15:
 1305 0014 310900   		.ascii	"1\011\000"
 1306 0017 00       		.align	2
 1307              	.LC16:
 1308 0018 300900   		.ascii	"0\011\000"
 1309 001b 00       		.align	2
 1310              	.LC17:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 31


 1311 001c 0A6F6B20 		.ascii	"\012ok sum:%d\012\000"
 1311      73756D3A 
 1311      25640A00 
 1312              		.align	2
 1313              	.LC18:
 1314 0028 73756363 		.ascii	"success count:%d\012\000"
 1314      65737320 
 1314      636F756E 
 1314      743A2564 
 1314      0A00
 1315 003a 0000     		.align	2
 1316              	.LC19:
 1317 003c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\262\342\312\324\315"
 1317      6D626572 
 1317      3A256420 
 1317      63686970 
 1317      4E616D65 
 1318 0061 EAB3C90A 		.ascii	"\352\263\311\012\000"
 1318      00
 1319 0066 0000     		.align	2
 1320              	.LC20:
 1321 0068 73797374 		.ascii	"system temp:%.2f, test dot:%d\012\000"
 1321      656D2074 
 1321      656D703A 
 1321      252E3266 
 1321      2C207465 
 1322 0087 00       		.align	2
 1323              	.LC21:
 1324 0088 73797374 		.ascii	"system temp can't test!\012\000"
 1324      656D2074 
 1324      656D7020 
 1324      63616E27 
 1324      74207465 
 1325 00a1 000000   		.align	2
 1326              	.LC22:
 1327 00a4 73797374 		.ascii	"system temp %.2f can't test!\012\000"
 1327      656D2074 
 1327      656D7020 
 1327      252E3266 
 1327      2063616E 
 1328 00c2 0000     		.align	2
 1329              	.LC23:
 1330 00c4 74657374 		.ascii	"test chip:%d\012\000"
 1330      20636869 
 1330      703A2564 
 1330      0A00
 1331 00d2 0000     		.align	2
 1332              	.LC24:
 1333 00d4 6F6B4E75 		.ascii	"okNumber:%d message:\265\245\265\343\262\342\312\324"
 1333      6D626572 
 1333      3A256420 
 1333      6D657373 
 1333      6167653A 
 1334 00f0 CDEAB3C9 		.ascii	"\315\352\263\311\012\000"
 1334      0A00
 1335 00f6 0000     		.align	2
 1336              	.LC25:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 32


 1337 00f8 63617020 		.ascii	"cap adjust test end.\012\000"
 1337      61646A75 
 1337      73742074 
 1337      65737420 
 1337      656E642E 
 1338 010e 0000     		.align	2
 1339              	.LC26:
 1340 0110 63686970 		.ascii	"chipTemp:%d chipName:%d message:OK\012\000"
 1340      54656D70 
 1340      3A256420 
 1340      63686970 
 1340      4E616D65 
 1341              		.align	2
 1342              	.LC27:
 1343 0134 636F756E 		.ascii	"count:%d, temp:%.1f, cap:%.2f\012\000"
 1343      743A2564 
 1343      2C207465 
 1343      6D703A25 
 1343      2E31662C 
 1344 0153 00       		.align	2
 1345              	.LC28:
 1346 0154 63686970 		.ascii	"chipName:%d message:fail!\012\000"
 1346      4E616D65 
 1346      3A256420 
 1346      6D657373 
 1346      6167653A 
 1347 016f 00       		.align	2
 1348              	.LC29:
 1349 0170 73797374 		.ascii	"system temp test cover!\012\000"
 1349      656D2074 
 1349      656D7020 
 1349      74657374 
 1349      20636F76 
 1350 0189 000000   		.align	2
 1351              	.LC30:
 1352 018c 63616C63 		.ascii	"calculate success number %d\012\000"
 1352      756C6174 
 1352      65207375 
 1352      63636573 
 1352      73206E75 
 1353 01a9 000000   		.align	2
 1354              	.LC31:
 1355 01ac 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\274\306\313\343\315"
 1355      6D626572 
 1355      3A256420 
 1355      63686970 
 1355      4E616D65 
 1356 01d1 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1356      A10A00
 1357              		.align	2
 1358              	.LC32:
 1359 01d8 646F776E 		.ascii	"download success number %d\012\000"
 1359      6C6F6164 
 1359      20737563 
 1359      63657373 
 1359      206E756D 
 1360              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 33


 1361              	.LC33:
 1362 01f4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\311\325\302\274\315"
 1362      6D626572 
 1362      3A256420 
 1362      63686970 
 1362      4E616D65 
 1363 0219 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1363      A10A00
 1364              		.align	2
 1365              	.LC34:
 1366 0220 25642073 		.ascii	"%d sync success\012\000"
 1366      796E6320 
 1366      73756363 
 1366      6573730A 
 1366      00
 1367 0231 000000   		.align	2
 1368              	.LC35:
 1369 0234 25642073 		.ascii	"%d sync i2c error\012\000"
 1369      796E6320 
 1369      69326320 
 1369      6572726F 
 1369      720A00
 1370 0247 00       		.align	2
 1371              	.LC36:
 1372 0248 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\315\254\262\275\312"
 1372      6D626572 
 1372      3A256420 
 1372      63686970 
 1372      4E616D65 
 1373 026d B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1373      EAB3C90A 
 1373      00
 1374 0276 0000     		.align	2
 1375              	.LC37:
 1376 0278 73796E63 		.ascii	"sync end\012\000"
 1376      20656E64 
 1376      0A00
 1377 0282 0000     		.align	2
 1378              	.LC38:
 1379 0284 63686970 		.ascii	"chip%d time:%d, all number:%d\012\000"
 1379      25642074 
 1379      696D653A 
 1379      25642C20 
 1379      616C6C20 
 1380 02a3 00       		.align	2
 1381              	.LC39:
 1382 02a4 25642069 		.ascii	"%d i2c error\012\000"
 1382      32632065 
 1382      72726F72 
 1382      0A00
 1383 02b2 0000     		.align	2
 1384              	.LC40:
 1385 02b4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\320\243\321\351\312"
 1385      6D626572 
 1385      3A256420 
 1385      63686970 
 1385      4E616D65 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 34


 1386 02d9 B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1386      EAB3C90A 
 1386      00
 1387 02e2 0000     		.align	2
 1388              	.LC41:
 1389 02e4 63686563 		.ascii	"check end\012\000"
 1389      6B20656E 
 1389      640A00
 1390 02ef 00       		.align	2
 1391              	.LC42:
 1392 02f0 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:OK\012\000"
 1392      6D626572 
 1392      3A256420 
 1392      63686970 
 1392      4E616D65 
 1393              		.align	2
 1394              	.LC43:
 1395 0314 63686970 		.ascii	"chipName:%d message:fail\012\000"
 1395      4E616D65 
 1395      3A256420 
 1395      6D657373 
 1395      6167653A 
 1396 032e 0000     		.align	2
 1397              	.LC44:
 1398 0330 6D657373 		.ascii	"message:\262\342\312\324\315\352\263\311\012\000"
 1398      6167653A 
 1398      B2E2CAD4 
 1398      CDEAB3C9 
 1398      0A00
 1399              		.section	.text.system_manage_test_mode,"ax",%progbits
 1400              		.align	1
 1401              		.global	system_manage_test_mode
 1402              		.syntax unified
 1403              		.thumb
 1404              		.thumb_func
 1406              	system_manage_test_mode:
 1407              	.LFB246:
 279:App/Src/manager.c **** 
 280:App/Src/manager.c **** void system_manage_test_mode(void)
 281:App/Src/manager.c **** {
 1408              		.loc 1 281 1 is_stmt 1 view -0
 1409              		.cfi_startproc
 1410              		@ args = 0, pretend = 0, frame = 16
 1411              		@ frame_needed = 0, uses_anonymous_args = 0
 1412 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1413              	.LCFI17:
 1414              		.cfi_def_cfa_offset 24
 1415              		.cfi_offset 4, -24
 1416              		.cfi_offset 5, -20
 1417              		.cfi_offset 6, -16
 1418              		.cfi_offset 7, -12
 1419              		.cfi_offset 8, -8
 1420              		.cfi_offset 14, -4
 1421 0004 86B0     		sub	sp, sp, #24
 1422              	.LCFI18:
 1423              		.cfi_def_cfa_offset 48
 282:App/Src/manager.c ****     int result;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 35


 1424              		.loc 1 282 5 view .LVU305
 283:App/Src/manager.c ****     static uint8_t state = 0;
 1425              		.loc 1 283 5 view .LVU306
 284:App/Src/manager.c ****     static uint8_t count = 0;
 1426              		.loc 1 284 5 view .LVU307
 285:App/Src/manager.c ****     int i;
 1427              		.loc 1 285 5 view .LVU308
 286:App/Src/manager.c ****     RealTime sysTime = {0};
 1428              		.loc 1 286 5 view .LVU309
 1429              		.loc 1 286 14 is_stmt 0 view .LVU310
 1430 0006 0023     		movs	r3, #0
 1431 0008 0493     		str	r3, [sp, #16]
 1432 000a 0593     		str	r3, [sp, #20]
 287:App/Src/manager.c ****     RealTime rtcTime = {0};
 1433              		.loc 1 287 5 is_stmt 1 view .LVU311
 1434              		.loc 1 287 14 is_stmt 0 view .LVU312
 1435 000c 0293     		str	r3, [sp, #8]
 1436 000e 0393     		str	r3, [sp, #12]
 288:App/Src/manager.c ****     switch (g_testMode) {
 1437              		.loc 1 288 5 is_stmt 1 view .LVU313
 1438 0010 B34B     		ldr	r3, .L183
 1439 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1440 0014 0B2B     		cmp	r3, #11
 1441 0016 12D8     		bhi	.L108
 1442 0018 DFE813F0 		tbh	[pc, r3, lsl #1]
 1443              	.L111:
 1444 001c 0C00     		.2byte	(.L122-.L111)/2
 1445 001e 1400     		.2byte	(.L121-.L111)/2
 1446 0020 5600     		.2byte	(.L120-.L111)/2
 1447 0022 6800     		.2byte	(.L119-.L111)/2
 1448 0024 4501     		.2byte	(.L118-.L111)/2
 1449 0026 B701     		.2byte	(.L117-.L111)/2
 1450 0028 E201     		.2byte	(.L116-.L111)/2
 1451 002a F201     		.2byte	(.L115-.L111)/2
 1452 002c 3002     		.2byte	(.L114-.L111)/2
 1453 002e 8502     		.2byte	(.L113-.L111)/2
 1454 0030 E202     		.2byte	(.L170-.L111)/2
 1455 0032 E402     		.2byte	(.L110-.L111)/2
 1456              		.p2align 1
 1457              	.L122:
 289:App/Src/manager.c ****         case FREE_MODE:// free mode
 290:App/Src/manager.c ****             state = 0;
 1458              		.loc 1 290 13 view .LVU314
 1459              		.loc 1 290 19 is_stmt 0 view .LVU315
 1460 0034 0023     		movs	r3, #0
 1461 0036 AB4A     		ldr	r2, .L183+4
 1462 0038 1370     		strb	r3, [r2]
 291:App/Src/manager.c ****             count = 0;
 1463              		.loc 1 291 13 is_stmt 1 view .LVU316
 1464              		.loc 1 291 19 is_stmt 0 view .LVU317
 1465 003a AB4A     		ldr	r2, .L183+8
 1466 003c 1370     		strb	r3, [r2]
 292:App/Src/manager.c ****         break;
 1467              		.loc 1 292 9 is_stmt 1 view .LVU318
 1468              	.L108:
 293:App/Src/manager.c ****         case  FREQ_CONNECT:
 294:App/Src/manager.c ****             // if (command_freq_test(count) != 0) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 36


 295:App/Src/manager.c ****             //     count++;
 296:App/Src/manager.c ****             //     if (count > MAX_CHIP_NUMBER) {
 297:App/Src/manager.c ****             //         ControlPrintf("message:测试完成！\n");
 298:App/Src/manager.c ****             //         g_testMode = FREE_MODE;
 299:App/Src/manager.c ****             //     }
 300:App/Src/manager.c ****             // }
 301:App/Src/manager.c ****             count = 0;
 302:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 303:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 304:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 305:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 306:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 307:App/Src/manager.c ****                 HAL_Delay(10);
 308:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 309:App/Src/manager.c ****                     UsbPrintf("1\t");
 310:App/Src/manager.c ****                     count++;
 311:App/Src/manager.c ****                 } else {
 312:App/Src/manager.c ****                     UsbPrintf("0\t");
 313:App/Src/manager.c ****                 }
 314:App/Src/manager.c ****             }
 315:App/Src/manager.c ****             UsbPrintf("\nok sum:%d\n", count);
 316:App/Src/manager.c ****             g_testMode = FREE_MODE;
 317:App/Src/manager.c ****         break;
 318:App/Src/manager.c ****         case TEMP_TEST:
 319:App/Src/manager.c ****             result = system_manage_temp();
 320:App/Src/manager.c ****             g_testMode = FREE_MODE;
 321:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 322:App/Src/manager.c ****             if (result > 0) {
 323:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 324:App/Src/manager.c ****             }
 325:App/Src/manager.c ****         break;
 326:App/Src/manager.c ****         case CAP_ADJUST://调整电容以使得该温度点的误差最小
 327:App/Src/manager.c ****             switch (state) {
 328:App/Src/manager.c ****                 case 0:
 329:App/Src/manager.c ****                     count = 0;
 330:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 331:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 332:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 333:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 334:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 335:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 336:App/Src/manager.c ****                     } else {
 337:App/Src/manager.c ****                         state = 1;
 338:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 339:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 340:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 341:App/Src/manager.c ****                     }
 342:App/Src/manager.c ****                 break;
 343:App/Src/manager.c ****                 case 1:
 344:App/Src/manager.c ****                     count++;
 345:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 346:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 347:App/Src/manager.c ****                         UsbPrintf("test chip:%d\n", count);
 348:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 349:App/Src/manager.c ****                         g_capAdjust.count = count;
 350:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 351:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 37


 352:App/Src/manager.c ****                         rtc_out_4096();
 353:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 354:App/Src/manager.c ****                         state = 2;
 355:App/Src/manager.c ****                     } else {
 356:App/Src/manager.c ****                         system_cap_write_flash();//write flash
 357:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 358:App/Src/manager.c ****                         result = 0;
 359:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 360:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 361:App/Src/manager.c ****                         }
 362:App/Src/manager.c ****                         ControlPrintf("okNumber:%d message:单点测试完成\n", result, count);
 363:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 364:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 365:App/Src/manager.c ****                     }
 366:App/Src/manager.c ****                 break;
 367:App/Src/manager.c ****                 case 2:
 368:App/Src/manager.c ****                     if (g_capAdjust.flag != CAP_ADJUST_DEFAULT) {//只要状态改变，就进行下一个芯片测
 369:App/Src/manager.c ****                         state = 1;
 370:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 371:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 372:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 373:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 374:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 375:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 376:App/Src/manager.c ****                             // } else {
 377:App/Src/manager.c ****                             //     UsbPrintf("check rtc%d temp fail\n", count);
 378:App/Src/manager.c ****                             //     ControlPrintf("chipName:%d message:fail!\n", count);
 379:App/Src/manager.c ****                             // }
 380:App/Src/manager.c ****                         } else {
 381:App/Src/manager.c ****                             ControlPrintf("chipName:%d message:fail!\n", count);
 382:App/Src/manager.c ****                         }
 383:App/Src/manager.c ****                         rtc_disable_int();
 384:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 385:App/Src/manager.c ****                     }
 386:App/Src/manager.c ****                 break;
 387:App/Src/manager.c ****                 default:break;
 388:App/Src/manager.c ****             }
 389:App/Src/manager.c ****         break;
 390:App/Src/manager.c ****         case CAP_ADJUST_COVER:
 391:App/Src/manager.c ****             g_oneData.number = check_system_temp();
 392:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 393:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 394:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 395:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 396:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 397:App/Src/manager.c ****             } else {
 398:App/Src/manager.c ****                 UsbPrintf("system temp test cover!\n");
 399:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 400:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 401:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 402:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 403:App/Src/manager.c ****                 }
 404:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_COVER);
 405:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 406:App/Src/manager.c ****             }
 407:App/Src/manager.c ****         break;
 408:App/Src/manager.c ****         case CALCULATE:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 38


 409:App/Src/manager.c ****             count = 0;
 410:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 411:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 412:App/Src/manager.c ****                     count++;
 413:App/Src/manager.c ****                     g_testFlag[i] = '1';
 414:App/Src/manager.c ****                 } else {
 415:App/Src/manager.c ****                     g_testFlag[i] = 0xff;
 416:App/Src/manager.c ****                 }
 417:App/Src/manager.c ****             }
 418:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_CALCULATE, FLASH_FLAG_WRITE_ADD);
 419:App/Src/manager.c ****             g_testMode = FREE_MODE;
 420:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 421:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 422:App/Src/manager.c ****         break;
 423:App/Src/manager.c ****         case CAP_DOWNLOAD:
 424:App/Src/manager.c ****             result = system_manage_download_cap();
 425:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 426:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 427:App/Src/manager.c ****             g_testMode = FREE_MODE;
 428:App/Src/manager.c ****         break;
 429:App/Src/manager.c ****         case SYNC_RTC_TIME:
 430:App/Src/manager.c ****             system_get_real_time(&sysTime);
 431:App/Src/manager.c ****             count = 0;
 432:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 433:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 434:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 435:App/Src/manager.c ****                     count++;
 436:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 437:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 438:App/Src/manager.c ****                 } else {
 439:App/Src/manager.c ****                     log_printf("%d sync i2c error\n", i + 1);
 440:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 441:App/Src/manager.c ****                 }
 442:App/Src/manager.c ****             }
 443:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:同步时间完成\n", count, MAX_CHIP_NUMBER);
 444:App/Src/manager.c ****             log_printf("sync end\n");
 445:App/Src/manager.c ****             UsbPrintf("sync end\n");
 446:App/Src/manager.c ****             g_testMode = FREE_MODE;
 447:App/Src/manager.c ****         break;
 448:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 449:App/Src/manager.c ****             system_get_real_time(&sysTime);
 450:App/Src/manager.c ****             count = 0;
 451:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 452:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 453:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 454:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 455:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 456:App/Src/manager.c ****                         count++;
 457:App/Src/manager.c ****                     } 
 458:App/Src/manager.c ****                     log_printf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 459:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 460:App/Src/manager.c ****                 } else {
 461:App/Src/manager.c ****                     log_printf("%d i2c error\n", i + 1);
 462:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 463:App/Src/manager.c ****                 }
 464:App/Src/manager.c ****             }
 465:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:校验时间完成\n", count, MAX_CHIP_NUMBER);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 39


 466:App/Src/manager.c ****             log_printf("check end\n");
 467:App/Src/manager.c ****             UsbPrintf("check end\n");
 468:App/Src/manager.c ****             g_testMode = FREE_MODE;
 469:App/Src/manager.c ****         break;
 470:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 471:App/Src/manager.c ****             if (count == 0) {
 472:App/Src/manager.c ****                 count = 1;
 473:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 474:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 475:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 476:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 477:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 478:App/Src/manager.c ****                     if (result > 0) {
 479:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 480:App/Src/manager.c ****                         result = 0;
 481:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 482:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 483:App/Src/manager.c ****                         }
 484:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 485:App/Src/manager.c ****                     } else {
 486:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;
 487:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 488:App/Src/manager.c ****                     }
 489:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 490:App/Src/manager.c ****                         count++;
 491:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 492:App/Src/manager.c ****                     } else {
 493:App/Src/manager.c ****                         count = 0;
 494:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 495:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 496:App/Src/manager.c ****                         break;
 497:App/Src/manager.c ****                     }
 498:App/Src/manager.c ****                 }
 499:App/Src/manager.c ****             }
 500:App/Src/manager.c ****         break;
 501:App/Src/manager.c ****         case MACHINE_COVER://先清空，测试后写入
 502:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 503:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 504:App/Src/manager.c ****             }
 505:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_COVER);
 506:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 507:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 508:App/Src/manager.c ****             count = 0;
 509:App/Src/manager.c ****         break;
 510:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 511:App/Src/manager.c ****             if (count == 0 || count > MAX_CHIP_NUMBER) {
 512:App/Src/manager.c ****                 count = 1;
 513:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 514:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 515:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 516:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 517:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 518:App/Src/manager.c ****                     if (result > 0) {
 519:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 520:App/Src/manager.c ****                         result = 0;
 521:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 522:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 40


 523:App/Src/manager.c ****                         }
 524:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 525:App/Src/manager.c ****                     } else {
 526:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;//相当于不写入数据
 527:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 528:App/Src/manager.c ****                     }
 529:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 530:App/Src/manager.c ****                         count++;
 531:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 532:App/Src/manager.c ****                     } else {
 533:App/Src/manager.c ****                         count = 0;
 534:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 535:App/Src/manager.c ****                         result = 0;
 536:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 537:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 538:App/Src/manager.c ****                         }
 539:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 540:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 541:App/Src/manager.c ****                     }
 542:App/Src/manager.c ****                 }
 543:App/Src/manager.c ****             }
 544:App/Src/manager.c ****         break;
 545:App/Src/manager.c ****         default: break;
 546:App/Src/manager.c ****     }
 547:App/Src/manager.c **** }
 1469              		.loc 1 547 1 is_stmt 0 view .LVU319
 1470 003e 06B0     		add	sp, sp, #24
 1471              	.LCFI19:
 1472              		.cfi_remember_state
 1473              		.cfi_def_cfa_offset 24
 1474              		@ sp needed
 1475 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1476              	.L121:
 1477              	.LCFI20:
 1478              		.cfi_restore_state
 301:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1479              		.loc 1 301 13 is_stmt 1 view .LVU320
 301:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1480              		.loc 1 301 19 is_stmt 0 view .LVU321
 1481 0044 0024     		movs	r4, #0
 1482 0046 A84B     		ldr	r3, .L183+8
 1483 0048 1C70     		strb	r4, [r3]
 302:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1484              		.loc 1 302 13 is_stmt 1 view .LVU322
 1485 004a A848     		ldr	r0, .L183+12
 1486 004c FFF7FEFF 		bl	UsbPrintf
 1487              	.LVL113:
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1488              		.loc 1 303 13 view .LVU323
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1489              		.loc 1 303 13 is_stmt 0 view .LVU324
 1490 0050 07E0     		b	.L123
 1491              	.LVL114:
 1492              	.L173:
 304:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1493              		.loc 1 304 36 is_stmt 1 discriminator 1 view .LVU325
 1494 0052 A748     		ldr	r0, .L183+16
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 41


 1495 0054 FFF7FEFF 		bl	UsbPrintf
 1496              	.LVL115:
 1497 0058 10E0     		b	.L124
 1498              	.L125:
 312:App/Src/manager.c ****                 }
 1499              		.loc 1 312 21 view .LVU326
 1500 005a A648     		ldr	r0, .L183+20
 1501 005c FFF7FEFF 		bl	UsbPrintf
 1502              	.LVL116:
 1503              	.L126:
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1504              		.loc 1 303 46 discriminator 2 view .LVU327
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1505              		.loc 1 303 47 is_stmt 0 discriminator 2 view .LVU328
 1506 0060 0134     		adds	r4, r4, #1
 1507              	.LVL117:
 1508              	.L123:
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1509              		.loc 1 303 25 is_stmt 1 discriminator 1 view .LVU329
 303:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1510              		.loc 1 303 13 is_stmt 0 discriminator 1 view .LVU330
 1511 0062 632C     		cmp	r4, #99
 1512 0064 27DC     		bgt	.L172
 304:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1513              		.loc 1 304 17 is_stmt 1 view .LVU331
 304:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1514              		.loc 1 304 23 is_stmt 0 view .LVU332
 1515 0066 A44A     		ldr	r2, .L183+24
 1516 0068 82FB0432 		smull	r3, r2, r2, r4
 1517 006c E317     		asrs	r3, r4, #31
 1518 006e C3EBA203 		rsb	r3, r3, r2, asr #2
 1519 0072 03EB8303 		add	r3, r3, r3, lsl #2
 304:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1520              		.loc 1 304 20 view .LVU333
 1521 0076 B4EB430F 		cmp	r4, r3, lsl #1
 1522 007a EAD0     		beq	.L173
 1523              	.L124:
 305:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 1524              		.loc 1 305 17 is_stmt 1 view .LVU334
 1525 007c 651C     		adds	r5, r4, #1
 1526 007e EDB2     		uxtb	r5, r5
 1527 0080 0121     		movs	r1, #1
 1528 0082 2846     		mov	r0, r5
 1529 0084 FFF7FEFF 		bl	rtc_group_power
 1530              	.LVL118:
 306:App/Src/manager.c ****                 HAL_Delay(10);
 1531              		.loc 1 306 17 view .LVU335
 1532 0088 0121     		movs	r1, #1
 1533 008a 2846     		mov	r0, r5
 1534 008c FFF7FEFF 		bl	rtc_set_channel
 1535              	.LVL119:
 307:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 1536              		.loc 1 307 17 view .LVU336
 1537 0090 0A20     		movs	r0, #10
 1538 0092 FFF7FEFF 		bl	HAL_Delay
 1539              	.LVL120:
 308:App/Src/manager.c ****                     UsbPrintf("1\t");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 42


 1540              		.loc 1 308 17 view .LVU337
 308:App/Src/manager.c ****                     UsbPrintf("1\t");
 1541              		.loc 1 308 21 is_stmt 0 view .LVU338
 1542 0096 0123     		movs	r3, #1
 1543 0098 924A     		ldr	r2, .L183+4
 1544 009a 0021     		movs	r1, #0
 1545 009c 6420     		movs	r0, #100
 1546 009e FFF7FEFF 		bl	rtc_read_multi_bytes
 1547              	.LVL121:
 308:App/Src/manager.c ****                     UsbPrintf("1\t");
 1548              		.loc 1 308 20 view .LVU339
 1549 00a2 0028     		cmp	r0, #0
 1550 00a4 D9D1     		bne	.L125
 309:App/Src/manager.c ****                     count++;
 1551              		.loc 1 309 21 is_stmt 1 view .LVU340
 1552 00a6 9548     		ldr	r0, .L183+28
 1553 00a8 FFF7FEFF 		bl	UsbPrintf
 1554              	.LVL122:
 310:App/Src/manager.c ****                 } else {
 1555              		.loc 1 310 21 view .LVU341
 310:App/Src/manager.c ****                 } else {
 1556              		.loc 1 310 26 is_stmt 0 view .LVU342
 1557 00ac 8E4A     		ldr	r2, .L183+8
 1558 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1559 00b0 0133     		adds	r3, r3, #1
 1560 00b2 1370     		strb	r3, [r2]
 1561 00b4 D4E7     		b	.L126
 1562              	.L172:
 315:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1563              		.loc 1 315 13 is_stmt 1 view .LVU343
 1564 00b6 8C4B     		ldr	r3, .L183+8
 1565 00b8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1566 00ba 9148     		ldr	r0, .L183+32
 1567 00bc FFF7FEFF 		bl	UsbPrintf
 1568              	.LVL123:
 316:App/Src/manager.c ****         break;
 1569              		.loc 1 316 13 view .LVU344
 316:App/Src/manager.c ****         break;
 1570              		.loc 1 316 24 is_stmt 0 view .LVU345
 1571 00c0 874B     		ldr	r3, .L183
 1572 00c2 0022     		movs	r2, #0
 1573 00c4 1A70     		strb	r2, [r3]
 317:App/Src/manager.c ****         case TEMP_TEST:
 1574              		.loc 1 317 9 is_stmt 1 view .LVU346
 1575 00c6 BAE7     		b	.L108
 1576              	.LVL124:
 1577              	.L120:
 319:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1578              		.loc 1 319 13 view .LVU347
 319:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1579              		.loc 1 319 22 is_stmt 0 view .LVU348
 1580 00c8 FFF7FEFF 		bl	system_manage_temp
 1581              	.LVL125:
 1582 00cc 0446     		mov	r4, r0
 1583              	.LVL126:
 320:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1584              		.loc 1 320 13 is_stmt 1 view .LVU349
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 43


 320:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1585              		.loc 1 320 24 is_stmt 0 view .LVU350
 1586 00ce 844B     		ldr	r3, .L183
 1587 00d0 0022     		movs	r2, #0
 1588 00d2 1A70     		strb	r2, [r3]
 321:App/Src/manager.c ****             if (result > 0) {
 1589              		.loc 1 321 13 is_stmt 1 view .LVU351
 1590 00d4 0146     		mov	r1, r0
 1591 00d6 8B48     		ldr	r0, .L183+36
 1592              	.LVL127:
 321:App/Src/manager.c ****             if (result > 0) {
 1593              		.loc 1 321 13 is_stmt 0 view .LVU352
 1594 00d8 FFF7FEFF 		bl	UsbPrintf
 1595              	.LVL128:
 322:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1596              		.loc 1 322 13 is_stmt 1 view .LVU353
 322:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1597              		.loc 1 322 16 is_stmt 0 view .LVU354
 1598 00dc 002C     		cmp	r4, #0
 1599 00de AEDD     		ble	.L108
 323:App/Src/manager.c ****             }
 1600              		.loc 1 323 17 is_stmt 1 view .LVU355
 1601 00e0 6422     		movs	r2, #100
 1602 00e2 2146     		mov	r1, r4
 1603 00e4 8848     		ldr	r0, .L183+40
 1604 00e6 FFF7FEFF 		bl	ControlPrintf
 1605              	.LVL129:
 1606 00ea A8E7     		b	.L108
 1607              	.LVL130:
 1608              	.L119:
 327:App/Src/manager.c ****                 case 0:
 1609              		.loc 1 327 13 view .LVU356
 1610 00ec 7D4B     		ldr	r3, .L183+4
 1611 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1612 00f0 012B     		cmp	r3, #1
 1613 00f2 45D0     		beq	.L128
 1614 00f4 022B     		cmp	r3, #2
 1615 00f6 00F08D80 		beq	.L129
 1616 00fa 002B     		cmp	r3, #0
 1617 00fc 9FD1     		bne	.L108
 329:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1618              		.loc 1 329 21 view .LVU357
 329:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1619              		.loc 1 329 27 is_stmt 0 view .LVU358
 1620 00fe 7A4B     		ldr	r3, .L183+8
 1621 0100 0022     		movs	r2, #0
 1622 0102 1A70     		strb	r2, [r3]
 330:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1623              		.loc 1 330 21 is_stmt 1 view .LVU359
 330:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1624              		.loc 1 330 40 is_stmt 0 view .LVU360
 1625 0104 FFF7FEFF 		bl	check_system_temp
 1626              	.LVL131:
 330:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1627              		.loc 1 330 38 view .LVU361
 1628 0108 804C     		ldr	r4, .L183+44
 1629 010a 2070     		strb	r0, [r4]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 44


 331:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1630              		.loc 1 331 21 is_stmt 1 view .LVU362
 331:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1631              		.loc 1 331 66 is_stmt 0 view .LVU363
 1632 010c 0120     		movs	r0, #1
 1633 010e FFF7FEFF 		bl	temp_read_value
 1634              	.LVL132:
 1635 0112 10EE100A 		vmov	r0, s0
 331:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1636              		.loc 1 331 95 view .LVU364
 1637 0116 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
 331:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1638              		.loc 1 331 21 view .LVU365
 1639 0118 FFF7FEFF 		bl	__aeabi_f2d
 1640              	.LVL133:
 1641 011c 0246     		mov	r2, r0
 1642 011e 0B46     		mov	r3, r1
 1643 0120 0095     		str	r5, [sp]
 1644 0122 7B48     		ldr	r0, .L183+48
 1645 0124 FFF7FEFF 		bl	UsbPrintf
 1646              	.LVL134:
 332:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1647              		.loc 1 332 21 is_stmt 1 view .LVU366
 332:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1648              		.loc 1 332 34 is_stmt 0 view .LVU367
 1649 0128 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 332:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1650              		.loc 1 332 24 view .LVU368
 1651 012a 042B     		cmp	r3, #4
 1652 012c 12D9     		bls	.L130
 333:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1653              		.loc 1 333 25 is_stmt 1 view .LVU369
 333:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1654              		.loc 1 333 36 is_stmt 0 view .LVU370
 1655 012e 6C4B     		ldr	r3, .L183
 1656 0130 0022     		movs	r2, #0
 1657 0132 1A70     		strb	r2, [r3]
 334:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1658              		.loc 1 334 25 is_stmt 1 view .LVU371
 1659 0134 7748     		ldr	r0, .L183+52
 1660 0136 FFF7FEFF 		bl	UsbPrintf
 1661              	.LVL135:
 335:App/Src/manager.c ****                     } else {
 1662              		.loc 1 335 25 view .LVU372
 335:App/Src/manager.c ****                     } else {
 1663              		.loc 1 335 70 is_stmt 0 view .LVU373
 1664 013a 0120     		movs	r0, #1
 1665 013c FFF7FEFF 		bl	temp_read_value
 1666              	.LVL136:
 1667 0140 10EE100A 		vmov	r0, s0
 335:App/Src/manager.c ****                     } else {
 1668              		.loc 1 335 25 view .LVU374
 1669 0144 FFF7FEFF 		bl	__aeabi_f2d
 1670              	.LVL137:
 1671 0148 0246     		mov	r2, r0
 1672 014a 0B46     		mov	r3, r1
 1673 014c 7248     		ldr	r0, .L183+56
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 45


 1674 014e FFF7FEFF 		bl	log_printf
 1675              	.LVL138:
 1676 0152 74E7     		b	.L108
 1677              	.L130:
 337:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1678              		.loc 1 337 25 is_stmt 1 view .LVU375
 337:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1679              		.loc 1 337 31 is_stmt 0 view .LVU376
 1680 0154 0125     		movs	r5, #1
 1681 0156 634B     		ldr	r3, .L183+4
 1682 0158 1D70     		strb	r5, [r3]
 338:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 1683              		.loc 1 338 25 is_stmt 1 view .LVU377
 1684 015a 9FED700A 		vldr.32	s0, .L183+60
 1685 015e F0EE400A 		vmov.f32	s1, s0
 1686 0162 0020     		movs	r0, #0
 1687 0164 FFF7FEFF 		bl	systm_cap_save_buffer
 1688              	.LVL139:
 339:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1689              		.loc 1 339 25 view .LVU378
 1690 0168 6D4C     		ldr	r4, .L183+64
 1691 016a 6422     		movs	r2, #100
 1692 016c FF21     		movs	r1, #255
 1693 016e 2046     		mov	r0, r4
 1694 0170 FFF7FEFF 		bl	memset
 1695              	.LVL140:
 340:App/Src/manager.c ****                     }
 1696              		.loc 1 340 25 view .LVU379
 1697 0174 0022     		movs	r2, #0
 1698 0176 2946     		mov	r1, r5
 1699 0178 2046     		mov	r0, r4
 1700 017a FFF7FEFF 		bl	flash_test_flag_manage
 1701              	.LVL141:
 1702 017e 5EE7     		b	.L108
 1703              	.L128:
 344:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1704              		.loc 1 344 21 view .LVU380
 344:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1705              		.loc 1 344 26 is_stmt 0 view .LVU381
 1706 0180 594B     		ldr	r3, .L183+8
 1707 0182 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1708 0184 0130     		adds	r0, r0, #1
 1709 0186 C0B2     		uxtb	r0, r0
 1710 0188 1870     		strb	r0, [r3]
 345:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1711              		.loc 1 345 21 is_stmt 1 view .LVU382
 345:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1712              		.loc 1 345 24 is_stmt 0 view .LVU383
 1713 018a 6428     		cmp	r0, #100
 1714 018c 1FD8     		bhi	.L131
 346:App/Src/manager.c ****                         UsbPrintf("test chip:%d\n", count);
 1715              		.loc 1 346 25 is_stmt 1 view .LVU384
 346:App/Src/manager.c ****                         UsbPrintf("test chip:%d\n", count);
 1716              		.loc 1 346 29 is_stmt 0 view .LVU385
 1717 018e 5F4B     		ldr	r3, .L183+44
 1718 0190 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1719 0192 FFF7FEFF 		bl	system_check_test_dot
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 46


 1720              	.LVL142:
 346:App/Src/manager.c ****                         UsbPrintf("test chip:%d\n", count);
 1721              		.loc 1 346 28 view .LVU386
 1722 0196 0028     		cmp	r0, #0
 1723 0198 7FF451AF 		bne	.L108
 347:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 1724              		.loc 1 347 25 is_stmt 1 view .LVU387
 1725 019c 524C     		ldr	r4, .L183+8
 1726 019e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 1727 01a0 6048     		ldr	r0, .L183+68
 1728 01a2 FFF7FEFF 		bl	UsbPrintf
 1729              	.LVL143:
 348:App/Src/manager.c ****                         g_capAdjust.count = count;
 1730              		.loc 1 348 25 view .LVU388
 348:App/Src/manager.c ****                         g_capAdjust.count = count;
 1731              		.loc 1 348 42 is_stmt 0 view .LVU389
 1732 01a6 604B     		ldr	r3, .L183+72
 1733 01a8 0022     		movs	r2, #0
 1734 01aa 1A70     		strb	r2, [r3]
 349:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 1735              		.loc 1 349 25 is_stmt 1 view .LVU390
 349:App/Src/manager.c ****                         rtc_group_power(count, POWER_I2C);
 1736              		.loc 1 349 43 is_stmt 0 view .LVU391
 1737 01ac 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1738 01ae 1874     		strb	r0, [r3, #16]
 350:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
 1739              		.loc 1 350 25 is_stmt 1 view .LVU392
 1740 01b0 0121     		movs	r1, #1
 1741 01b2 FFF7FEFF 		bl	rtc_group_power
 1742              	.LVL144:
 351:App/Src/manager.c ****                         rtc_out_4096();
 1743              		.loc 1 351 25 view .LVU393
 1744 01b6 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1745 01b8 FFF7FEFF 		bl	rtc_1006_set_testmode
 1746              	.LVL145:
 352:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 1747              		.loc 1 352 25 view .LVU394
 1748 01bc FFF7FEFF 		bl	rtc_out_4096
 1749              	.LVL146:
 353:App/Src/manager.c ****                         state = 2;
 1750              		.loc 1 353 25 view .LVU395
 1751 01c0 0120     		movs	r0, #1
 1752 01c2 FFF7FEFF 		bl	rtc_freq_test
 1753              	.LVL147:
 354:App/Src/manager.c ****                     } else {
 1754              		.loc 1 354 25 view .LVU396
 354:App/Src/manager.c ****                     } else {
 1755              		.loc 1 354 31 is_stmt 0 view .LVU397
 1756 01c6 474B     		ldr	r3, .L183+4
 1757 01c8 0222     		movs	r2, #2
 1758 01ca 1A70     		strb	r2, [r3]
 1759 01cc 37E7     		b	.L108
 1760              	.L131:
 356:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 1761              		.loc 1 356 25 is_stmt 1 view .LVU398
 1762 01ce FFF7FEFF 		bl	system_cap_write_flash
 1763              	.LVL148:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 47


 357:App/Src/manager.c ****                         result = 0;
 1764              		.loc 1 357 25 view .LVU399
 1765 01d2 0122     		movs	r2, #1
 1766 01d4 1146     		mov	r1, r2
 1767 01d6 5248     		ldr	r0, .L183+64
 1768 01d8 FFF7FEFF 		bl	flash_test_flag_manage
 1769              	.LVL149:
 358:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1770              		.loc 1 358 25 view .LVU400
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1771              		.loc 1 359 25 view .LVU401
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1772              		.loc 1 359 32 is_stmt 0 view .LVU402
 1773 01dc 0023     		movs	r3, #0
 358:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1774              		.loc 1 358 32 view .LVU403
 1775 01de 1946     		mov	r1, r3
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1776              		.loc 1 359 25 view .LVU404
 1777 01e0 00E0     		b	.L132
 1778              	.LVL150:
 1779              	.L133:
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1780              		.loc 1 359 58 is_stmt 1 discriminator 2 view .LVU405
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1781              		.loc 1 359 59 is_stmt 0 discriminator 2 view .LVU406
 1782 01e2 0133     		adds	r3, r3, #1
 1783              	.LVL151:
 1784              	.L132:
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1785              		.loc 1 359 37 is_stmt 1 discriminator 1 view .LVU407
 359:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1786              		.loc 1 359 25 is_stmt 0 discriminator 1 view .LVU408
 1787 01e4 632B     		cmp	r3, #99
 1788 01e6 09DC     		bgt	.L174
 360:App/Src/manager.c ****                         }
 1789              		.loc 1 360 29 is_stmt 1 view .LVU409
 360:App/Src/manager.c ****                         }
 1790              		.loc 1 360 44 is_stmt 0 view .LVU410
 1791 01e8 4D4A     		ldr	r2, .L183+64
 1792 01ea D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 360:App/Src/manager.c ****                         }
 1793              		.loc 1 360 68 view .LVU411
 1794 01ec 4748     		ldr	r0, .L183+44
 1795 01ee 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 360:App/Src/manager.c ****                         }
 1796              		.loc 1 360 78 view .LVU412
 1797 01f0 0241     		asrs	r2, r2, r0
 360:App/Src/manager.c ****                         }
 1798              		.loc 1 360 32 view .LVU413
 1799 01f2 12F0010F 		tst	r2, #1
 1800 01f6 F4D1     		bne	.L133
 360:App/Src/manager.c ****                         }
 1801              		.loc 1 360 86 is_stmt 1 discriminator 1 view .LVU414
 360:App/Src/manager.c ****                         }
 1802              		.loc 1 360 92 is_stmt 0 discriminator 1 view .LVU415
 1803 01f8 0131     		adds	r1, r1, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 48


 1804              	.LVL152:
 360:App/Src/manager.c ****                         }
 1805              		.loc 1 360 92 discriminator 1 view .LVU416
 1806 01fa F2E7     		b	.L133
 1807              	.L174:
 362:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1808              		.loc 1 362 25 is_stmt 1 view .LVU417
 1809 01fc 3A4B     		ldr	r3, .L183+8
 1810              	.LVL153:
 362:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1811              		.loc 1 362 25 is_stmt 0 view .LVU418
 1812 01fe 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1813 0200 4A48     		ldr	r0, .L183+76
 1814 0202 FFF7FEFF 		bl	ControlPrintf
 1815              	.LVL154:
 363:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1816              		.loc 1 363 25 is_stmt 1 view .LVU419
 363:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1817              		.loc 1 363 36 is_stmt 0 view .LVU420
 1818 0206 364B     		ldr	r3, .L183
 1819 0208 0022     		movs	r2, #0
 1820 020a 1A70     		strb	r2, [r3]
 364:App/Src/manager.c ****                     }
 1821              		.loc 1 364 25 is_stmt 1 view .LVU421
 1822 020c 4848     		ldr	r0, .L183+80
 1823 020e FFF7FEFF 		bl	UsbPrintf
 1824              	.LVL155:
 1825 0212 14E7     		b	.L108
 1826              	.L129:
 368:App/Src/manager.c ****                         state = 1;
 1827              		.loc 1 368 21 view .LVU422
 368:App/Src/manager.c ****                         state = 1;
 1828              		.loc 1 368 36 is_stmt 0 view .LVU423
 1829 0214 444B     		ldr	r3, .L183+72
 1830 0216 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 368:App/Src/manager.c ****                         state = 1;
 1831              		.loc 1 368 24 view .LVU424
 1832 0218 002B     		cmp	r3, #0
 1833 021a 3FF410AF 		beq	.L108
 369:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1834              		.loc 1 369 25 is_stmt 1 view .LVU425
 369:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1835              		.loc 1 369 31 is_stmt 0 view .LVU426
 1836 021e 314A     		ldr	r2, .L183+4
 1837 0220 0121     		movs	r1, #1
 1838 0222 1170     		strb	r1, [r2]
 370:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 1839              		.loc 1 370 25 is_stmt 1 view .LVU427
 370:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 1840              		.loc 1 370 28 is_stmt 0 view .LVU428
 1841 0224 022B     		cmp	r3, #2
 1842 0226 0BD0     		beq	.L175
 381:App/Src/manager.c ****                         }
 1843              		.loc 1 381 29 is_stmt 1 view .LVU429
 1844 0228 2F4B     		ldr	r3, .L183+8
 1845 022a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1846 022c 4148     		ldr	r0, .L183+84
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 49


 1847 022e FFF7FEFF 		bl	ControlPrintf
 1848              	.LVL156:
 1849              	.L136:
 383:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 1850              		.loc 1 383 25 view .LVU430
 1851 0232 FFF7FEFF 		bl	rtc_disable_int
 1852              	.LVL157:
 384:App/Src/manager.c ****                     }
 1853              		.loc 1 384 25 view .LVU431
 1854 0236 2C4B     		ldr	r3, .L183+8
 1855 0238 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1856 023a FFF7FEFF 		bl	rtc_1006_exit_testmode
 1857              	.LVL158:
 1858 023e FEE6     		b	.L108
 1859              	.L175:
 372:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 1860              		.loc 1 372 29 view .LVU432
 1861 0240 394C     		ldr	r4, .L183+72
 1862 0242 294D     		ldr	r5, .L183+8
 1863 0244 D4ED010A 		vldr.32	s1, [r4, #4]
 1864 0248 94ED020A 		vldr.32	s0, [r4, #8]
 1865 024c 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1866 024e FFF7FEFF 		bl	systm_cap_save_buffer
 1867              	.LVL159:
 373:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1868              		.loc 1 373 29 view .LVU433
 373:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1869              		.loc 1 373 99 is_stmt 0 view .LVU434
 1870 0252 D4ED027A 		vldr.32	s15, [r4, #8]
 373:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1871              		.loc 1 373 29 view .LVU435
 1872 0256 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 1873 0258 FDEEE77A 		vcvt.s32.f32	s15, s15
 1874 025c 17EE901A 		vmov	r1, s15	@ int
 1875 0260 3548     		ldr	r0, .L183+88
 1876 0262 FFF7FEFF 		bl	ControlPrintf
 1877              	.LVL160:
 374:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1878              		.loc 1 374 29 is_stmt 1 view .LVU436
 374:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1879              		.loc 1 374 110 is_stmt 0 view .LVU437
 1880 0266 D4F80480 		ldr	r8, [r4, #4]	@ float
 374:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1881              		.loc 1 374 29 view .LVU438
 1882 026a A068     		ldr	r0, [r4, #8]	@ float
 1883 026c FFF7FEFF 		bl	__aeabi_f2d
 1884              	.LVL161:
 1885 0270 0646     		mov	r6, r0
 1886 0272 0F46     		mov	r7, r1
 1887 0274 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 1888 0276 4046     		mov	r0, r8	@ float
 1889 0278 FFF7FEFF 		bl	__aeabi_f2d
 1890              	.LVL162:
 1891 027c CDE90001 		strd	r0, [sp]
 1892 0280 3246     		mov	r2, r6
 1893 0282 3B46     		mov	r3, r7
 1894 0284 2146     		mov	r1, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 50


 1895 0286 2D48     		ldr	r0, .L183+92
 1896 0288 FFF7FEFF 		bl	UsbPrintf
 1897              	.LVL163:
 375:App/Src/manager.c ****                             // } else {
 1898              		.loc 1 375 29 is_stmt 1 view .LVU439
 375:App/Src/manager.c ****                             // } else {
 1899              		.loc 1 375 51 is_stmt 0 view .LVU440
 1900 028c 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1901 028e 013B     		subs	r3, r3, #1
 375:App/Src/manager.c ****                             // } else {
 1902              		.loc 1 375 74 view .LVU441
 1903 0290 1E4A     		ldr	r2, .L183+44
 1904 0292 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 375:App/Src/manager.c ****                             // } else {
 1905              		.loc 1 375 62 view .LVU442
 1906 0294 0122     		movs	r2, #1
 1907 0296 02FA01F1 		lsl	r1, r2, r1
 375:App/Src/manager.c ****                             // } else {
 1908              		.loc 1 375 51 view .LVU443
 1909 029a 2148     		ldr	r0, .L183+64
 1910 029c C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 1911 029e 22EA0102 		bic	r2, r2, r1
 1912 02a2 C254     		strb	r2, [r0, r3]
 1913 02a4 C5E7     		b	.L136
 1914              	.L118:
 391:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1915              		.loc 1 391 13 is_stmt 1 view .LVU444
 391:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1916              		.loc 1 391 32 is_stmt 0 view .LVU445
 1917 02a6 FFF7FEFF 		bl	check_system_temp
 1918              	.LVL164:
 391:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1919              		.loc 1 391 30 view .LVU446
 1920 02aa C3B2     		uxtb	r3, r0
 1921 02ac 174A     		ldr	r2, .L183+44
 1922 02ae 1370     		strb	r3, [r2]
 392:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1923              		.loc 1 392 13 is_stmt 1 view .LVU447
 392:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1924              		.loc 1 392 16 is_stmt 0 view .LVU448
 1925 02b0 042B     		cmp	r3, #4
 1926 02b2 47D9     		bls	.L137
 393:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1927              		.loc 1 393 17 is_stmt 1 view .LVU449
 393:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1928              		.loc 1 393 28 is_stmt 0 view .LVU450
 1929 02b4 0A4B     		ldr	r3, .L183
 1930 02b6 0022     		movs	r2, #0
 1931 02b8 1A70     		strb	r2, [r3]
 394:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 1932              		.loc 1 394 17 is_stmt 1 view .LVU451
 1933 02ba 1648     		ldr	r0, .L183+52
 1934 02bc FFF7FEFF 		bl	UsbPrintf
 1935              	.LVL165:
 395:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1936              		.loc 1 395 17 view .LVU452
 1937 02c0 1F48     		ldr	r0, .L183+96
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 51


 1938 02c2 FFF7FEFF 		bl	ControlPrintf
 1939              	.LVL166:
 396:App/Src/manager.c ****             } else {
 1940              		.loc 1 396 17 view .LVU453
 396:App/Src/manager.c ****             } else {
 1941              		.loc 1 396 62 is_stmt 0 view .LVU454
 1942 02c6 0120     		movs	r0, #1
 1943 02c8 FFF7FEFF 		bl	temp_read_value
 1944              	.LVL167:
 1945 02cc 10EE100A 		vmov	r0, s0
 396:App/Src/manager.c ****             } else {
 1946              		.loc 1 396 17 view .LVU455
 1947 02d0 FFF7FEFF 		bl	__aeabi_f2d
 1948              	.LVL168:
 1949 02d4 0246     		mov	r2, r0
 1950 02d6 0B46     		mov	r3, r1
 1951 02d8 0F48     		ldr	r0, .L183+56
 1952 02da FFF7FEFF 		bl	log_printf
 1953              	.LVL169:
 1954 02de AEE6     		b	.L108
 1955              	.L184:
 1956              		.align	2
 1957              	.L183:
 1958 02e0 00000000 		.word	.LANCHOR0
 1959 02e4 00000000 		.word	.LANCHOR4
 1960 02e8 00000000 		.word	.LANCHOR5
 1961 02ec 00000000 		.word	.LC13
 1962 02f0 10000000 		.word	.LC14
 1963 02f4 18000000 		.word	.LC16
 1964 02f8 67666666 		.word	1717986919
 1965 02fc 14000000 		.word	.LC15
 1966 0300 1C000000 		.word	.LC17
 1967 0304 28000000 		.word	.LC18
 1968 0308 3C000000 		.word	.LC19
 1969 030c 00000000 		.word	.LANCHOR3
 1970 0310 68000000 		.word	.LC20
 1971 0314 88000000 		.word	.LC21
 1972 0318 A4000000 		.word	.LC22
 1973 031c 00000000 		.word	0
 1974 0320 00000000 		.word	.LANCHOR1
 1975 0324 C4000000 		.word	.LC23
 1976 0328 00000000 		.word	.LANCHOR6
 1977 032c D4000000 		.word	.LC24
 1978 0330 F8000000 		.word	.LC25
 1979 0334 54010000 		.word	.LC28
 1980 0338 10010000 		.word	.LC26
 1981 033c 34010000 		.word	.LC27
 1982 0340 3C000000 		.word	.LC2
 1983              	.L137:
 398:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 1984              		.loc 1 398 17 is_stmt 1 view .LVU456
 1985 0344 B448     		ldr	r0, .L185
 1986 0346 FFF7FEFF 		bl	UsbPrintf
 1987              	.LVL170:
 399:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1988              		.loc 1 399 17 view .LVU457
 1989 034a B44B     		ldr	r3, .L185+4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 52


 1990 034c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1991 034e FFF7FEFF 		bl	flash_test_data_clear
 1992              	.LVL171:
 400:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1993              		.loc 1 400 17 view .LVU458
 1994 0352 0022     		movs	r2, #0
 1995 0354 0121     		movs	r1, #1
 1996 0356 B248     		ldr	r0, .L185+8
 1997 0358 FFF7FEFF 		bl	flash_test_flag_manage
 1998              	.LVL172:
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1999              		.loc 1 401 17 view .LVU459
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2000              		.loc 1 401 24 is_stmt 0 view .LVU460
 2001 035c 0023     		movs	r3, #0
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2002              		.loc 1 401 17 view .LVU461
 2003 035e 09E0     		b	.L138
 2004              	.LVL173:
 2005              	.L139:
 402:App/Src/manager.c ****                 }
 2006              		.loc 1 402 21 is_stmt 1 discriminator 3 view .LVU462
 402:App/Src/manager.c ****                 }
 2007              		.loc 1 402 56 is_stmt 0 discriminator 3 view .LVU463
 2008 0360 AE4A     		ldr	r2, .L185+4
 2009 0362 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 402:App/Src/manager.c ****                 }
 2010              		.loc 1 402 44 discriminator 3 view .LVU464
 2011 0364 0122     		movs	r2, #1
 2012 0366 02FA01F1 		lsl	r1, r2, r1
 402:App/Src/manager.c ****                 }
 2013              		.loc 1 402 35 discriminator 3 view .LVU465
 2014 036a AD48     		ldr	r0, .L185+8
 2015 036c C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 2016 036e 0A43     		orrs	r2, r2, r1
 2017 0370 C254     		strb	r2, [r0, r3]
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2018              		.loc 1 401 50 is_stmt 1 discriminator 3 view .LVU466
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2019              		.loc 1 401 51 is_stmt 0 discriminator 3 view .LVU467
 2020 0372 0133     		adds	r3, r3, #1
 2021              	.LVL174:
 2022              	.L138:
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2023              		.loc 1 401 29 is_stmt 1 discriminator 1 view .LVU468
 401:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2024              		.loc 1 401 17 is_stmt 0 discriminator 1 view .LVU469
 2025 0374 632B     		cmp	r3, #99
 2026 0376 F3DD     		ble	.L139
 404:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 2027              		.loc 1 404 17 is_stmt 1 view .LVU470
 2028 0378 0222     		movs	r2, #2
 2029 037a 0121     		movs	r1, #1
 2030 037c A848     		ldr	r0, .L185+8
 2031 037e FFF7FEFF 		bl	flash_test_flag_manage
 2032              	.LVL175:
 405:App/Src/manager.c ****             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 53


 2033              		.loc 1 405 17 view .LVU471
 405:App/Src/manager.c ****             }
 2034              		.loc 1 405 28 is_stmt 0 view .LVU472
 2035 0382 A84B     		ldr	r3, .L185+12
 2036 0384 0322     		movs	r2, #3
 2037 0386 1A70     		strb	r2, [r3]
 2038 0388 59E6     		b	.L108
 2039              	.L117:
 409:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2040              		.loc 1 409 13 is_stmt 1 view .LVU473
 409:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2041              		.loc 1 409 19 is_stmt 0 view .LVU474
 2042 038a 0024     		movs	r4, #0
 2043 038c A64B     		ldr	r3, .L185+16
 2044 038e 1C70     		strb	r4, [r3]
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2045              		.loc 1 410 13 is_stmt 1 view .LVU475
 2046              	.LVL176:
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2047              		.loc 1 410 13 is_stmt 0 view .LVU476
 2048 0390 03E0     		b	.L140
 2049              	.LVL177:
 2050              	.L141:
 415:App/Src/manager.c ****                 }
 2051              		.loc 1 415 21 is_stmt 1 view .LVU477
 415:App/Src/manager.c ****                 }
 2052              		.loc 1 415 35 is_stmt 0 view .LVU478
 2053 0392 A34B     		ldr	r3, .L185+8
 2054 0394 FF22     		movs	r2, #255
 2055 0396 1A55     		strb	r2, [r3, r4]
 2056              	.L142:
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2057              		.loc 1 410 46 is_stmt 1 discriminator 2 view .LVU479
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2058              		.loc 1 410 47 is_stmt 0 discriminator 2 view .LVU480
 2059 0398 0134     		adds	r4, r4, #1
 2060              	.LVL178:
 2061              	.L140:
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2062              		.loc 1 410 25 is_stmt 1 discriminator 1 view .LVU481
 410:App/Src/manager.c ****                 if (sd8840_calcul_cap(i + 1) != 0) {
 2063              		.loc 1 410 13 is_stmt 0 discriminator 1 view .LVU482
 2064 039a 632C     		cmp	r4, #99
 2065 039c 0DDC     		bgt	.L176
 411:App/Src/manager.c ****                     count++;
 2066              		.loc 1 411 17 is_stmt 1 view .LVU483
 411:App/Src/manager.c ****                     count++;
 2067              		.loc 1 411 21 is_stmt 0 view .LVU484
 2068 039e 601C     		adds	r0, r4, #1
 2069 03a0 C0B2     		uxtb	r0, r0
 2070 03a2 FFF7FEFF 		bl	sd8840_calcul_cap
 2071              	.LVL179:
 411:App/Src/manager.c ****                     count++;
 2072              		.loc 1 411 20 view .LVU485
 2073 03a6 0028     		cmp	r0, #0
 2074 03a8 F3D0     		beq	.L141
 412:App/Src/manager.c ****                     g_testFlag[i] = '1';
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 54


 2075              		.loc 1 412 21 is_stmt 1 view .LVU486
 412:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2076              		.loc 1 412 26 is_stmt 0 view .LVU487
 2077 03aa 9F4A     		ldr	r2, .L185+16
 2078 03ac 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2079 03ae 0133     		adds	r3, r3, #1
 2080 03b0 1370     		strb	r3, [r2]
 413:App/Src/manager.c ****                 } else {
 2081              		.loc 1 413 21 is_stmt 1 view .LVU488
 413:App/Src/manager.c ****                 } else {
 2082              		.loc 1 413 35 is_stmt 0 view .LVU489
 2083 03b2 9B4B     		ldr	r3, .L185+8
 2084 03b4 3122     		movs	r2, #49
 2085 03b6 1A55     		strb	r2, [r3, r4]
 2086 03b8 EEE7     		b	.L142
 2087              	.L176:
 418:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2088              		.loc 1 418 13 is_stmt 1 view .LVU490
 2089 03ba 0122     		movs	r2, #1
 2090 03bc 0221     		movs	r1, #2
 2091 03be 9848     		ldr	r0, .L185+8
 2092 03c0 FFF7FEFF 		bl	flash_test_flag_manage
 2093              	.LVL180:
 419:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2094              		.loc 1 419 13 view .LVU491
 419:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2095              		.loc 1 419 24 is_stmt 0 view .LVU492
 2096 03c4 974B     		ldr	r3, .L185+12
 2097 03c6 0022     		movs	r2, #0
 2098 03c8 1A70     		strb	r2, [r3]
 420:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2099              		.loc 1 420 13 is_stmt 1 view .LVU493
 2100 03ca 974C     		ldr	r4, .L185+16
 2101              	.LVL181:
 420:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2102              		.loc 1 420 13 is_stmt 0 view .LVU494
 2103 03cc 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2104 03ce 9748     		ldr	r0, .L185+20
 2105 03d0 FFF7FEFF 		bl	UsbPrintf
 2106              	.LVL182:
 421:App/Src/manager.c ****         break;
 2107              		.loc 1 421 4 is_stmt 1 view .LVU495
 2108 03d4 6422     		movs	r2, #100
 2109 03d6 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2110 03d8 9548     		ldr	r0, .L185+24
 2111 03da FFF7FEFF 		bl	ControlPrintf
 2112              	.LVL183:
 422:App/Src/manager.c ****         case CAP_DOWNLOAD:
 2113              		.loc 1 422 9 view .LVU496
 2114 03de 2EE6     		b	.L108
 2115              	.L116:
 424:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2116              		.loc 1 424 13 view .LVU497
 424:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2117              		.loc 1 424 22 is_stmt 0 view .LVU498
 2118 03e0 FFF7FEFF 		bl	system_manage_download_cap
 2119              	.LVL184:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 55


 2120 03e4 0446     		mov	r4, r0
 2121              	.LVL185:
 425:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 2122              		.loc 1 425 13 is_stmt 1 view .LVU499
 2123 03e6 0146     		mov	r1, r0
 2124 03e8 9248     		ldr	r0, .L185+28
 2125              	.LVL186:
 425:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 2126              		.loc 1 425 13 is_stmt 0 view .LVU500
 2127 03ea FFF7FEFF 		bl	UsbPrintf
 2128              	.LVL187:
 426:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2129              		.loc 1 426 4 is_stmt 1 view .LVU501
 2130 03ee 6422     		movs	r2, #100
 2131 03f0 2146     		mov	r1, r4
 2132 03f2 9148     		ldr	r0, .L185+32
 2133 03f4 FFF7FEFF 		bl	ControlPrintf
 2134              	.LVL188:
 427:App/Src/manager.c ****         break;
 2135              		.loc 1 427 13 view .LVU502
 427:App/Src/manager.c ****         break;
 2136              		.loc 1 427 24 is_stmt 0 view .LVU503
 2137 03f8 8A4B     		ldr	r3, .L185+12
 2138 03fa 0022     		movs	r2, #0
 2139 03fc 1A70     		strb	r2, [r3]
 428:App/Src/manager.c ****         case SYNC_RTC_TIME:
 2140              		.loc 1 428 9 is_stmt 1 view .LVU504
 2141 03fe 1EE6     		b	.L108
 2142              	.LVL189:
 2143              	.L115:
 430:App/Src/manager.c ****             count = 0;
 2144              		.loc 1 430 13 view .LVU505
 2145 0400 04A8     		add	r0, sp, #16
 2146 0402 FFF7FEFF 		bl	system_get_real_time
 2147              	.LVL190:
 431:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2148              		.loc 1 431 13 view .LVU506
 431:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2149              		.loc 1 431 19 is_stmt 0 view .LVU507
 2150 0406 0024     		movs	r4, #0
 2151 0408 874B     		ldr	r3, .L185+16
 2152 040a 1C70     		strb	r4, [r3]
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2153              		.loc 1 432 13 is_stmt 1 view .LVU508
 2154              	.LVL191:
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2155              		.loc 1 432 13 is_stmt 0 view .LVU509
 2156 040c 0AE0     		b	.L144
 2157              	.LVL192:
 2158              	.L145:
 439:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 2159              		.loc 1 439 21 is_stmt 1 view .LVU510
 2160 040e 651C     		adds	r5, r4, #1
 2161 0410 8A4E     		ldr	r6, .L185+36
 2162 0412 2946     		mov	r1, r5
 2163 0414 3046     		mov	r0, r6
 2164 0416 FFF7FEFF 		bl	log_printf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 56


 2165              	.LVL193:
 440:App/Src/manager.c ****                 }
 2166              		.loc 1 440 21 view .LVU511
 2167 041a 2946     		mov	r1, r5
 2168 041c 3046     		mov	r0, r6
 2169 041e FFF7FEFF 		bl	UsbPrintf
 2170              	.LVL194:
 2171              	.L146:
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2172              		.loc 1 432 46 discriminator 2 view .LVU512
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2173              		.loc 1 432 47 is_stmt 0 discriminator 2 view .LVU513
 2174 0422 0134     		adds	r4, r4, #1
 2175              	.LVL195:
 2176              	.L144:
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2177              		.loc 1 432 25 is_stmt 1 discriminator 1 view .LVU514
 432:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2178              		.loc 1 432 13 is_stmt 0 discriminator 1 view .LVU515
 2179 0424 632C     		cmp	r4, #99
 2180 0426 18DC     		bgt	.L177
 433:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 2181              		.loc 1 433 17 is_stmt 1 view .LVU516
 2182 0428 601C     		adds	r0, r4, #1
 2183 042a 0121     		movs	r1, #1
 2184 042c C0B2     		uxtb	r0, r0
 2185 042e FFF7FEFF 		bl	rtc_group_power
 2186              	.LVL196:
 434:App/Src/manager.c ****                     count++;
 2187              		.loc 1 434 17 view .LVU517
 434:App/Src/manager.c ****                     count++;
 2188              		.loc 1 434 21 is_stmt 0 view .LVU518
 2189 0432 04A8     		add	r0, sp, #16
 2190 0434 FFF7FEFF 		bl	rtc_write_date
 2191              	.LVL197:
 434:App/Src/manager.c ****                     count++;
 2192              		.loc 1 434 20 view .LVU519
 2193 0438 0028     		cmp	r0, #0
 2194 043a E8D1     		bne	.L145
 435:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2195              		.loc 1 435 21 is_stmt 1 view .LVU520
 435:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2196              		.loc 1 435 26 is_stmt 0 view .LVU521
 2197 043c 7A4A     		ldr	r2, .L185+16
 2198 043e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2199 0440 0133     		adds	r3, r3, #1
 2200 0442 1370     		strb	r3, [r2]
 436:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 2201              		.loc 1 436 21 is_stmt 1 view .LVU522
 2202 0444 651C     		adds	r5, r4, #1
 2203 0446 7E4E     		ldr	r6, .L185+40
 2204 0448 2946     		mov	r1, r5
 2205 044a 3046     		mov	r0, r6
 2206 044c FFF7FEFF 		bl	log_printf
 2207              	.LVL198:
 437:App/Src/manager.c ****                 } else {
 2208              		.loc 1 437 21 view .LVU523
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 57


 2209 0450 2946     		mov	r1, r5
 2210 0452 3046     		mov	r0, r6
 2211 0454 FFF7FEFF 		bl	UsbPrintf
 2212              	.LVL199:
 2213 0458 E3E7     		b	.L146
 2214              	.L177:
 443:App/Src/manager.c ****             log_printf("sync end\n");
 2215              		.loc 1 443 4 view .LVU524
 2216 045a 6422     		movs	r2, #100
 2217 045c 724B     		ldr	r3, .L185+16
 2218 045e 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2219 0460 7848     		ldr	r0, .L185+44
 2220 0462 FFF7FEFF 		bl	ControlPrintf
 2221              	.LVL200:
 444:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2222              		.loc 1 444 13 view .LVU525
 2223 0466 784C     		ldr	r4, .L185+48
 2224              	.LVL201:
 444:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2225              		.loc 1 444 13 is_stmt 0 view .LVU526
 2226 0468 2046     		mov	r0, r4
 2227 046a FFF7FEFF 		bl	log_printf
 2228              	.LVL202:
 445:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2229              		.loc 1 445 13 is_stmt 1 view .LVU527
 2230 046e 2046     		mov	r0, r4
 2231 0470 FFF7FEFF 		bl	UsbPrintf
 2232              	.LVL203:
 446:App/Src/manager.c ****         break;
 2233              		.loc 1 446 13 view .LVU528
 446:App/Src/manager.c ****         break;
 2234              		.loc 1 446 24 is_stmt 0 view .LVU529
 2235 0474 6B4B     		ldr	r3, .L185+12
 2236 0476 0022     		movs	r2, #0
 2237 0478 1A70     		strb	r2, [r3]
 447:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 2238              		.loc 1 447 9 is_stmt 1 view .LVU530
 2239 047a E0E5     		b	.L108
 2240              	.L114:
 449:App/Src/manager.c ****             count = 0;
 2241              		.loc 1 449 13 view .LVU531
 2242 047c 04A8     		add	r0, sp, #16
 2243 047e FFF7FEFF 		bl	system_get_real_time
 2244              	.LVL204:
 450:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2245              		.loc 1 450 13 view .LVU532
 450:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2246              		.loc 1 450 19 is_stmt 0 view .LVU533
 2247 0482 0026     		movs	r6, #0
 2248 0484 684B     		ldr	r3, .L185+16
 2249 0486 1E70     		strb	r6, [r3]
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2250              		.loc 1 451 13 is_stmt 1 view .LVU534
 2251              	.LVL205:
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2252              		.loc 1 451 13 is_stmt 0 view .LVU535
 2253 0488 12E0     		b	.L148
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 58


 2254              	.LVL206:
 2255              	.L150:
 458:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 2256              		.loc 1 458 21 is_stmt 1 view .LVU536
 2257 048a 751C     		adds	r5, r6, #1
 2258 048c DFF89881 		ldr	r8, .L185+16
 2259 0490 6E4F     		ldr	r7, .L185+52
 2260 0492 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2261 0496 2246     		mov	r2, r4
 2262 0498 2946     		mov	r1, r5
 2263 049a 3846     		mov	r0, r7
 2264 049c FFF7FEFF 		bl	log_printf
 2265              	.LVL207:
 459:App/Src/manager.c ****                 } else {
 2266              		.loc 1 459 21 view .LVU537
 2267 04a0 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2268 04a4 2246     		mov	r2, r4
 2269 04a6 2946     		mov	r1, r5
 2270 04a8 3846     		mov	r0, r7
 2271 04aa FFF7FEFF 		bl	UsbPrintf
 2272              	.LVL208:
 2273              	.L151:
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2274              		.loc 1 451 46 discriminator 2 view .LVU538
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2275              		.loc 1 451 47 is_stmt 0 discriminator 2 view .LVU539
 2276 04ae 0136     		adds	r6, r6, #1
 2277              	.LVL209:
 2278              	.L148:
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2279              		.loc 1 451 25 is_stmt 1 discriminator 1 view .LVU540
 451:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2280              		.loc 1 451 13 is_stmt 0 discriminator 1 view .LVU541
 2281 04b0 632E     		cmp	r6, #99
 2282 04b2 27DC     		bgt	.L178
 452:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 2283              		.loc 1 452 17 is_stmt 1 view .LVU542
 2284 04b4 701C     		adds	r0, r6, #1
 2285 04b6 0121     		movs	r1, #1
 2286 04b8 C0B2     		uxtb	r0, r0
 2287 04ba FFF7FEFF 		bl	rtc_group_power
 2288              	.LVL210:
 453:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2289              		.loc 1 453 17 view .LVU543
 453:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2290              		.loc 1 453 21 is_stmt 0 view .LVU544
 2291 04be 02A8     		add	r0, sp, #8
 2292 04c0 FFF7FEFF 		bl	rtc_read_date
 2293              	.LVL211:
 453:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2294              		.loc 1 453 20 view .LVU545
 2295 04c4 98B9     		cbnz	r0, .L149
 454:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2296              		.loc 1 454 21 is_stmt 1 view .LVU546
 454:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2297              		.loc 1 454 30 is_stmt 0 view .LVU547
 2298 04c6 06AB     		add	r3, sp, #24
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 59


 2299 04c8 13E90300 		ldmdb	r3, {r0, r1}
 2300 04cc FFF7FEFF 		bl	system_tool_calculate_sec
 2301              	.LVL212:
 2302 04d0 0446     		mov	r4, r0
 454:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2303              		.loc 1 454 67 view .LVU548
 2304 04d2 02AB     		add	r3, sp, #8
 2305 04d4 93E80300 		ldm	r3, {r0, r1}
 2306 04d8 FFF7FEFF 		bl	system_tool_calculate_sec
 2307              	.LVL213:
 454:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2308              		.loc 1 454 28 view .LVU549
 2309 04dc 241A     		subs	r4, r4, r0
 2310              	.LVL214:
 455:App/Src/manager.c ****                         count++;
 2311              		.loc 1 455 21 is_stmt 1 view .LVU550
 455:App/Src/manager.c ****                         count++;
 2312              		.loc 1 455 38 is_stmt 0 view .LVU551
 2313 04de 631D     		adds	r3, r4, #5
 455:App/Src/manager.c ****                         count++;
 2314              		.loc 1 455 24 view .LVU552
 2315 04e0 0A2B     		cmp	r3, #10
 2316 04e2 D2D8     		bhi	.L150
 456:App/Src/manager.c ****                     } 
 2317              		.loc 1 456 25 is_stmt 1 view .LVU553
 456:App/Src/manager.c ****                     } 
 2318              		.loc 1 456 30 is_stmt 0 view .LVU554
 2319 04e4 504A     		ldr	r2, .L185+16
 2320 04e6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2321 04e8 0133     		adds	r3, r3, #1
 2322 04ea 1370     		strb	r3, [r2]
 2323 04ec CDE7     		b	.L150
 2324              	.LVL215:
 2325              	.L149:
 461:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 2326              		.loc 1 461 21 is_stmt 1 view .LVU555
 2327 04ee 741C     		adds	r4, r6, #1
 2328 04f0 574D     		ldr	r5, .L185+56
 2329 04f2 2146     		mov	r1, r4
 2330 04f4 2846     		mov	r0, r5
 2331 04f6 FFF7FEFF 		bl	log_printf
 2332              	.LVL216:
 462:App/Src/manager.c ****                 }
 2333              		.loc 1 462 21 view .LVU556
 2334 04fa 2146     		mov	r1, r4
 2335 04fc 2846     		mov	r0, r5
 2336 04fe FFF7FEFF 		bl	UsbPrintf
 2337              	.LVL217:
 2338 0502 D4E7     		b	.L151
 2339              	.L178:
 465:App/Src/manager.c ****             log_printf("check end\n");
 2340              		.loc 1 465 4 view .LVU557
 2341 0504 6422     		movs	r2, #100
 2342 0506 484B     		ldr	r3, .L185+16
 2343 0508 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2344 050a 5248     		ldr	r0, .L185+60
 2345 050c FFF7FEFF 		bl	ControlPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 60


 2346              	.LVL218:
 466:App/Src/manager.c ****             UsbPrintf("check end\n");
 2347              		.loc 1 466 13 view .LVU558
 2348 0510 514C     		ldr	r4, .L185+64
 2349 0512 2046     		mov	r0, r4
 2350 0514 FFF7FEFF 		bl	log_printf
 2351              	.LVL219:
 467:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2352              		.loc 1 467 13 view .LVU559
 2353 0518 2046     		mov	r0, r4
 2354 051a FFF7FEFF 		bl	UsbPrintf
 2355              	.LVL220:
 468:App/Src/manager.c ****         break;
 2356              		.loc 1 468 13 view .LVU560
 468:App/Src/manager.c ****         break;
 2357              		.loc 1 468 24 is_stmt 0 view .LVU561
 2358 051e 414B     		ldr	r3, .L185+12
 2359 0520 0022     		movs	r2, #0
 2360 0522 1A70     		strb	r2, [r3]
 469:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 2361              		.loc 1 469 9 is_stmt 1 view .LVU562
 2362 0524 8BE5     		b	.L108
 2363              	.LVL221:
 2364              	.L113:
 471:App/Src/manager.c ****                 count = 1;
 2365              		.loc 1 471 13 view .LVU563
 471:App/Src/manager.c ****                 count = 1;
 2366              		.loc 1 471 23 is_stmt 0 view .LVU564
 2367 0526 404B     		ldr	r3, .L185+16
 2368 0528 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 471:App/Src/manager.c ****                 count = 1;
 2369              		.loc 1 471 16 view .LVU565
 2370 052a 98B1     		cbz	r0, .L179
 474:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2371              		.loc 1 474 20 is_stmt 1 view .LVU566
 474:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2372              		.loc 1 474 23 is_stmt 0 view .LVU567
 2373 052c 6428     		cmp	r0, #100
 2374 052e 3FF686AD 		bhi	.L108
 475:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2375              		.loc 1 475 17 is_stmt 1 view .LVU568
 475:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2376              		.loc 1 475 26 is_stmt 0 view .LVU569
 2377 0532 0021     		movs	r1, #0
 2378 0534 FFF7FEFF 		bl	system_machine_test_one
 2379              	.LVL222:
 476:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2380              		.loc 1 476 17 is_stmt 1 view .LVU570
 476:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2381              		.loc 1 476 20 is_stmt 0 view .LVU571
 2382 0538 0028     		cmp	r0, #0
 2383 053a 3FF480AD 		beq	.L108
 478:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2384              		.loc 1 478 21 is_stmt 1 view .LVU572
 478:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2385              		.loc 1 478 24 is_stmt 0 view .LVU573
 2386 053e 0028     		cmp	r0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 61


 2387 0540 26DD     		ble	.L154
 479:App/Src/manager.c ****                         result = 0;
 2388              		.loc 1 479 25 is_stmt 1 view .LVU574
 479:App/Src/manager.c ****                         result = 0;
 2389              		.loc 1 479 42 is_stmt 0 view .LVU575
 2390 0542 394B     		ldr	r3, .L185+16
 2391 0544 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2392 0546 531E     		subs	r3, r2, #1
 479:App/Src/manager.c ****                         result = 0;
 2393              		.loc 1 479 47 view .LVU576
 2394 0548 3549     		ldr	r1, .L185+8
 2395 054a 3120     		movs	r0, #49
 2396              	.LVL223:
 479:App/Src/manager.c ****                         result = 0;
 2397              		.loc 1 479 47 view .LVU577
 2398 054c C854     		strb	r0, [r1, r3]
 480:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2399              		.loc 1 480 25 is_stmt 1 view .LVU578
 2400              	.LVL224:
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2401              		.loc 1 481 25 view .LVU579
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2402              		.loc 1 481 32 is_stmt 0 view .LVU580
 2403 054e 0023     		movs	r3, #0
 480:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2404              		.loc 1 480 32 view .LVU581
 2405 0550 1946     		mov	r1, r3
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2406              		.loc 1 481 25 view .LVU582
 2407 0552 06E0     		b	.L155
 2408              	.LVL225:
 2409              	.L179:
 472:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2410              		.loc 1 472 17 is_stmt 1 view .LVU583
 472:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2411              		.loc 1 472 23 is_stmt 0 view .LVU584
 2412 0554 0120     		movs	r0, #1
 2413 0556 1870     		strb	r0, [r3]
 473:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2414              		.loc 1 473 17 is_stmt 1 view .LVU585
 2415 0558 0146     		mov	r1, r0
 2416 055a FFF7FEFF 		bl	system_machine_test_one
 2417              	.LVL226:
 2418 055e 6EE5     		b	.L108
 2419              	.LVL227:
 2420              	.L156:
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2421              		.loc 1 481 58 discriminator 2 view .LVU586
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2422              		.loc 1 481 59 is_stmt 0 discriminator 2 view .LVU587
 2423 0560 0133     		adds	r3, r3, #1
 2424              	.LVL228:
 2425              	.L155:
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2426              		.loc 1 481 37 is_stmt 1 discriminator 1 view .LVU588
 481:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2427              		.loc 1 481 25 is_stmt 0 discriminator 1 view .LVU589
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 62


 2428 0562 632B     		cmp	r3, #99
 2429 0564 05DC     		bgt	.L180
 482:App/Src/manager.c ****                         }
 2430              		.loc 1 482 29 is_stmt 1 view .LVU590
 482:App/Src/manager.c ****                         }
 2431              		.loc 1 482 43 is_stmt 0 view .LVU591
 2432 0566 2E48     		ldr	r0, .L185+8
 2433 0568 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 482:App/Src/manager.c ****                         }
 2434              		.loc 1 482 32 view .LVU592
 2435 056a 3128     		cmp	r0, #49
 2436 056c F8D1     		bne	.L156
 482:App/Src/manager.c ****                         }
 2437              		.loc 1 482 57 is_stmt 1 discriminator 1 view .LVU593
 482:App/Src/manager.c ****                         }
 2438              		.loc 1 482 63 is_stmt 0 discriminator 1 view .LVU594
 2439 056e 0131     		adds	r1, r1, #1
 2440              	.LVL229:
 482:App/Src/manager.c ****                         }
 2441              		.loc 1 482 63 discriminator 1 view .LVU595
 2442 0570 F6E7     		b	.L156
 2443              	.L180:
 484:App/Src/manager.c ****                     } else {
 2444              		.loc 1 484 25 is_stmt 1 view .LVU596
 2445 0572 3A48     		ldr	r0, .L185+68
 2446 0574 FFF7FEFF 		bl	ControlPrintf
 2447              	.LVL230:
 2448              	.L158:
 489:App/Src/manager.c ****                         count++;
 2449              		.loc 1 489 21 view .LVU597
 489:App/Src/manager.c ****                         count++;
 2450              		.loc 1 489 31 is_stmt 0 view .LVU598
 2451 0578 2B4B     		ldr	r3, .L185+16
 2452 057a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 489:App/Src/manager.c ****                         count++;
 2453              		.loc 1 489 24 view .LVU599
 2454 057c 632B     		cmp	r3, #99
 2455 057e 11D8     		bhi	.L159
 490:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2456              		.loc 1 490 25 is_stmt 1 view .LVU600
 490:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2457              		.loc 1 490 30 is_stmt 0 view .LVU601
 2458 0580 0133     		adds	r3, r3, #1
 2459 0582 D8B2     		uxtb	r0, r3
 2460 0584 284B     		ldr	r3, .L185+16
 2461 0586 1870     		strb	r0, [r3]
 491:App/Src/manager.c ****                     } else {
 2462              		.loc 1 491 25 is_stmt 1 view .LVU602
 2463 0588 0121     		movs	r1, #1
 2464 058a FFF7FEFF 		bl	system_machine_test_one
 2465              	.LVL231:
 2466 058e 56E5     		b	.L108
 2467              	.LVL232:
 2468              	.L154:
 486:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2469              		.loc 1 486 25 view .LVU603
 486:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 63


 2470              		.loc 1 486 42 is_stmt 0 view .LVU604
 2471 0590 254B     		ldr	r3, .L185+16
 2472 0592 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2473 0594 4B1E     		subs	r3, r1, #1
 486:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2474              		.loc 1 486 47 view .LVU605
 2475 0596 224A     		ldr	r2, .L185+8
 2476 0598 FF20     		movs	r0, #255
 2477              	.LVL233:
 486:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2478              		.loc 1 486 47 view .LVU606
 2479 059a D054     		strb	r0, [r2, r3]
 487:App/Src/manager.c ****                     }
 2480              		.loc 1 487 25 is_stmt 1 view .LVU607
 2481 059c 3048     		ldr	r0, .L185+72
 2482 059e FFF7FEFF 		bl	ControlPrintf
 2483              	.LVL234:
 2484 05a2 E9E7     		b	.L158
 2485              	.L159:
 493:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2486              		.loc 1 493 25 view .LVU608
 493:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2487              		.loc 1 493 31 is_stmt 0 view .LVU609
 2488 05a4 0024     		movs	r4, #0
 2489 05a6 204B     		ldr	r3, .L185+16
 2490 05a8 1C70     		strb	r4, [r3]
 494:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2491              		.loc 1 494 25 is_stmt 1 view .LVU610
 2492 05aa 2E48     		ldr	r0, .L185+76
 2493 05ac FFF7FEFF 		bl	ControlPrintf
 2494              	.LVL235:
 495:App/Src/manager.c ****                         break;
 2495              		.loc 1 495 25 view .LVU611
 495:App/Src/manager.c ****                         break;
 2496              		.loc 1 495 36 is_stmt 0 view .LVU612
 2497 05b0 1C4B     		ldr	r3, .L185+12
 2498 05b2 1C70     		strb	r4, [r3]
 496:App/Src/manager.c ****                     }
 2499              		.loc 1 496 25 is_stmt 1 view .LVU613
 2500 05b4 43E5     		b	.L108
 2501              	.LVL236:
 2502              	.L160:
 503:App/Src/manager.c ****             }
 2503              		.loc 1 503 17 discriminator 3 view .LVU614
 503:App/Src/manager.c ****             }
 2504              		.loc 1 503 31 is_stmt 0 discriminator 3 view .LVU615
 2505 05b6 1A4A     		ldr	r2, .L185+8
 2506 05b8 FF21     		movs	r1, #255
 2507 05ba D154     		strb	r1, [r2, r3]
 502:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2508              		.loc 1 502 46 is_stmt 1 discriminator 3 view .LVU616
 502:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2509              		.loc 1 502 47 is_stmt 0 discriminator 3 view .LVU617
 2510 05bc 0133     		adds	r3, r3, #1
 2511              	.LVL237:
 2512              	.L112:
 502:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 64


 2513              		.loc 1 502 25 is_stmt 1 discriminator 1 view .LVU618
 502:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2514              		.loc 1 502 13 is_stmt 0 discriminator 1 view .LVU619
 2515 05be 632B     		cmp	r3, #99
 2516 05c0 F9DD     		ble	.L160
 505:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 2517              		.loc 1 505 13 is_stmt 1 view .LVU620
 2518 05c2 0222     		movs	r2, #2
 2519 05c4 0421     		movs	r1, #4
 2520 05c6 1648     		ldr	r0, .L185+8
 2521 05c8 FFF7FEFF 		bl	flash_test_flag_manage
 2522              	.LVL238:
 506:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 2523              		.loc 1 506 13 view .LVU621
 2524 05cc 0620     		movs	r0, #6
 2525 05ce FFF7FEFF 		bl	flash_test_data_clear
 2526              	.LVL239:
 507:App/Src/manager.c ****             count = 0;
 2527              		.loc 1 507 13 view .LVU622
 507:App/Src/manager.c ****             count = 0;
 2528              		.loc 1 507 24 is_stmt 0 view .LVU623
 2529 05d2 144B     		ldr	r3, .L185+12
 2530 05d4 0B22     		movs	r2, #11
 2531 05d6 1A70     		strb	r2, [r3]
 508:App/Src/manager.c ****         break;
 2532              		.loc 1 508 13 is_stmt 1 view .LVU624
 508:App/Src/manager.c ****         break;
 2533              		.loc 1 508 19 is_stmt 0 view .LVU625
 2534 05d8 134B     		ldr	r3, .L185+16
 2535 05da 0022     		movs	r2, #0
 2536 05dc 1A70     		strb	r2, [r3]
 509:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 2537              		.loc 1 509 9 is_stmt 1 view .LVU626
 2538 05de 2EE5     		b	.L108
 2539              	.L170:
 288:App/Src/manager.c ****         case FREE_MODE:// free mode
 2540              		.loc 1 288 5 is_stmt 0 view .LVU627
 2541 05e0 0023     		movs	r3, #0
 2542 05e2 ECE7     		b	.L112
 2543              	.L110:
 511:App/Src/manager.c ****                 count = 1;
 2544              		.loc 1 511 13 is_stmt 1 view .LVU628
 511:App/Src/manager.c ****                 count = 1;
 2545              		.loc 1 511 28 is_stmt 0 view .LVU629
 2546 05e4 104B     		ldr	r3, .L185+16
 2547 05e6 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2548 05e8 431E     		subs	r3, r0, #1
 2549 05ea DBB2     		uxtb	r3, r3
 511:App/Src/manager.c ****                 count = 1;
 2550              		.loc 1 511 16 view .LVU630
 2551 05ec 632B     		cmp	r3, #99
 2552 05ee 3BD8     		bhi	.L181
 514:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2553              		.loc 1 514 20 is_stmt 1 view .LVU631
 514:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2554              		.loc 1 514 23 is_stmt 0 view .LVU632
 2555 05f0 6428     		cmp	r0, #100
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 65


 2556 05f2 3FF624AD 		bhi	.L108
 515:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2557              		.loc 1 515 17 is_stmt 1 view .LVU633
 515:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2558              		.loc 1 515 26 is_stmt 0 view .LVU634
 2559 05f6 0021     		movs	r1, #0
 2560 05f8 FFF7FEFF 		bl	system_machine_write_one
 2561              	.LVL240:
 516:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2562              		.loc 1 516 17 is_stmt 1 view .LVU635
 516:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2563              		.loc 1 516 20 is_stmt 0 view .LVU636
 2564 05fc 0028     		cmp	r0, #0
 2565 05fe 3FF41EAD 		beq	.L108
 518:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2566              		.loc 1 518 21 is_stmt 1 view .LVU637
 518:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2567              		.loc 1 518 24 is_stmt 0 view .LVU638
 2568 0602 0028     		cmp	r0, #0
 2569 0604 4FDD     		ble	.L162
 519:App/Src/manager.c ****                         result = 0;
 2570              		.loc 1 519 25 is_stmt 1 view .LVU639
 519:App/Src/manager.c ****                         result = 0;
 2571              		.loc 1 519 42 is_stmt 0 view .LVU640
 2572 0606 084B     		ldr	r3, .L185+16
 2573 0608 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2574 060a 531E     		subs	r3, r2, #1
 519:App/Src/manager.c ****                         result = 0;
 2575              		.loc 1 519 47 view .LVU641
 2576 060c 0449     		ldr	r1, .L185+8
 2577 060e 3120     		movs	r0, #49
 2578              	.LVL241:
 519:App/Src/manager.c ****                         result = 0;
 2579              		.loc 1 519 47 view .LVU642
 2580 0610 C854     		strb	r0, [r1, r3]
 520:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2581              		.loc 1 520 25 is_stmt 1 view .LVU643
 2582              	.LVL242:
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2583              		.loc 1 521 25 view .LVU644
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2584              		.loc 1 521 32 is_stmt 0 view .LVU645
 2585 0612 0023     		movs	r3, #0
 520:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2586              		.loc 1 520 32 view .LVU646
 2587 0614 1946     		mov	r1, r3
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2588              		.loc 1 521 25 view .LVU647
 2589 0616 2FE0     		b	.L163
 2590              	.L186:
 2591              		.align	2
 2592              	.L185:
 2593 0618 70010000 		.word	.LC29
 2594 061c 00000000 		.word	.LANCHOR3
 2595 0620 00000000 		.word	.LANCHOR1
 2596 0624 00000000 		.word	.LANCHOR0
 2597 0628 00000000 		.word	.LANCHOR5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 66


 2598 062c 8C010000 		.word	.LC30
 2599 0630 AC010000 		.word	.LC31
 2600 0634 D8010000 		.word	.LC32
 2601 0638 F4010000 		.word	.LC33
 2602 063c 34020000 		.word	.LC35
 2603 0640 20020000 		.word	.LC34
 2604 0644 48020000 		.word	.LC36
 2605 0648 78020000 		.word	.LC37
 2606 064c 84020000 		.word	.LC38
 2607 0650 A4020000 		.word	.LC39
 2608 0654 B4020000 		.word	.LC40
 2609 0658 E4020000 		.word	.LC41
 2610 065c F0020000 		.word	.LC42
 2611 0660 14030000 		.word	.LC43
 2612 0664 30030000 		.word	.LC44
 2613              	.LVL243:
 2614              	.L181:
 512:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2615              		.loc 1 512 17 is_stmt 1 view .LVU648
 512:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2616              		.loc 1 512 23 is_stmt 0 view .LVU649
 2617 0668 0120     		movs	r0, #1
 2618 066a 1E4B     		ldr	r3, .L187
 2619 066c 1870     		strb	r0, [r3]
 513:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2620              		.loc 1 513 17 is_stmt 1 view .LVU650
 2621 066e 0146     		mov	r1, r0
 2622 0670 FFF7FEFF 		bl	system_machine_write_one
 2623              	.LVL244:
 2624 0674 E3E4     		b	.L108
 2625              	.LVL245:
 2626              	.L164:
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2627              		.loc 1 521 58 discriminator 2 view .LVU651
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2628              		.loc 1 521 59 is_stmt 0 discriminator 2 view .LVU652
 2629 0676 0133     		adds	r3, r3, #1
 2630              	.LVL246:
 2631              	.L163:
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2632              		.loc 1 521 37 is_stmt 1 discriminator 1 view .LVU653
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2633              		.loc 1 521 25 is_stmt 0 discriminator 1 view .LVU654
 2634 0678 632B     		cmp	r3, #99
 2635 067a 05DC     		bgt	.L182
 522:App/Src/manager.c ****                         }
 2636              		.loc 1 522 29 is_stmt 1 view .LVU655
 522:App/Src/manager.c ****                         }
 2637              		.loc 1 522 43 is_stmt 0 view .LVU656
 2638 067c 1A48     		ldr	r0, .L187+4
 2639 067e C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 522:App/Src/manager.c ****                         }
 2640              		.loc 1 522 32 view .LVU657
 2641 0680 3128     		cmp	r0, #49
 2642 0682 F8D1     		bne	.L164
 522:App/Src/manager.c ****                         }
 2643              		.loc 1 522 57 is_stmt 1 discriminator 1 view .LVU658
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 67


 522:App/Src/manager.c ****                         }
 2644              		.loc 1 522 63 is_stmt 0 discriminator 1 view .LVU659
 2645 0684 0131     		adds	r1, r1, #1
 2646              	.LVL247:
 522:App/Src/manager.c ****                         }
 2647              		.loc 1 522 63 discriminator 1 view .LVU660
 2648 0686 F6E7     		b	.L164
 2649              	.L182:
 524:App/Src/manager.c ****                     } else {
 2650              		.loc 1 524 25 is_stmt 1 view .LVU661
 2651 0688 1848     		ldr	r0, .L187+8
 2652 068a FFF7FEFF 		bl	ControlPrintf
 2653              	.LVL248:
 2654              	.L166:
 529:App/Src/manager.c ****                         count++;
 2655              		.loc 1 529 21 view .LVU662
 529:App/Src/manager.c ****                         count++;
 2656              		.loc 1 529 31 is_stmt 0 view .LVU663
 2657 068e 154B     		ldr	r3, .L187
 2658 0690 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 529:App/Src/manager.c ****                         count++;
 2659              		.loc 1 529 24 view .LVU664
 2660 0692 632B     		cmp	r3, #99
 2661 0694 11D8     		bhi	.L167
 530:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2662              		.loc 1 530 25 is_stmt 1 view .LVU665
 530:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2663              		.loc 1 530 30 is_stmt 0 view .LVU666
 2664 0696 0133     		adds	r3, r3, #1
 2665 0698 D8B2     		uxtb	r0, r3
 2666 069a 124B     		ldr	r3, .L187
 2667 069c 1870     		strb	r0, [r3]
 531:App/Src/manager.c ****                     } else {
 2668              		.loc 1 531 25 is_stmt 1 view .LVU667
 2669 069e 0121     		movs	r1, #1
 2670 06a0 FFF7FEFF 		bl	system_machine_write_one
 2671              	.LVL249:
 2672 06a4 CBE4     		b	.L108
 2673              	.LVL250:
 2674              	.L162:
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2675              		.loc 1 526 25 view .LVU668
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2676              		.loc 1 526 42 is_stmt 0 view .LVU669
 2677 06a6 0F4B     		ldr	r3, .L187
 2678 06a8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2679 06aa 4B1E     		subs	r3, r1, #1
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2680              		.loc 1 526 47 view .LVU670
 2681 06ac 0E4A     		ldr	r2, .L187+4
 2682 06ae FF20     		movs	r0, #255
 2683              	.LVL251:
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2684              		.loc 1 526 47 view .LVU671
 2685 06b0 D054     		strb	r0, [r2, r3]
 527:App/Src/manager.c ****                     }
 2686              		.loc 1 527 25 is_stmt 1 view .LVU672
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 68


 2687 06b2 0F48     		ldr	r0, .L187+12
 2688 06b4 FFF7FEFF 		bl	ControlPrintf
 2689              	.LVL252:
 2690 06b8 E9E7     		b	.L166
 2691              	.L167:
 533:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2692              		.loc 1 533 25 view .LVU673
 533:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2693              		.loc 1 533 31 is_stmt 0 view .LVU674
 2694 06ba 0024     		movs	r4, #0
 2695 06bc 094B     		ldr	r3, .L187
 2696 06be 1C70     		strb	r4, [r3]
 534:App/Src/manager.c ****                         result = 0;
 2697              		.loc 1 534 25 is_stmt 1 view .LVU675
 2698 06c0 0122     		movs	r2, #1
 2699 06c2 0421     		movs	r1, #4
 2700 06c4 0848     		ldr	r0, .L187+4
 2701 06c6 FFF7FEFF 		bl	flash_test_flag_manage
 2702              	.LVL253:
 535:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2703              		.loc 1 535 25 view .LVU676
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2704              		.loc 1 536 25 view .LVU677
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2705              		.loc 1 536 32 is_stmt 0 view .LVU678
 2706 06ca 2346     		mov	r3, r4
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2707              		.loc 1 536 25 view .LVU679
 2708 06cc 00E0     		b	.L168
 2709              	.LVL254:
 2710              	.L169:
 537:App/Src/manager.c ****                         }
 2711              		.loc 1 537 29 is_stmt 1 view .LVU680
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2712              		.loc 1 536 58 view .LVU681
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2713              		.loc 1 536 59 is_stmt 0 view .LVU682
 2714 06ce 0133     		adds	r3, r3, #1
 2715              	.LVL255:
 2716              	.L168:
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2717              		.loc 1 536 37 is_stmt 1 discriminator 1 view .LVU683
 536:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2718              		.loc 1 536 25 is_stmt 0 discriminator 1 view .LVU684
 2719 06d0 632B     		cmp	r3, #99
 2720 06d2 FCDD     		ble	.L169
 539:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2721              		.loc 1 539 25 is_stmt 1 view .LVU685
 2722 06d4 0748     		ldr	r0, .L187+16
 2723 06d6 FFF7FEFF 		bl	ControlPrintf
 2724              	.LVL256:
 540:App/Src/manager.c ****                     }
 2725              		.loc 1 540 25 view .LVU686
 540:App/Src/manager.c ****                     }
 2726              		.loc 1 540 36 is_stmt 0 view .LVU687
 2727 06da 074B     		ldr	r3, .L187+20
 2728 06dc 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 69


 2729 06de 1A70     		strb	r2, [r3]
 2730              		.loc 1 547 1 view .LVU688
 2731 06e0 ADE4     		b	.L108
 2732              	.L188:
 2733 06e2 00BF     		.align	2
 2734              	.L187:
 2735 06e4 00000000 		.word	.LANCHOR5
 2736 06e8 00000000 		.word	.LANCHOR1
 2737 06ec F0020000 		.word	.LC42
 2738 06f0 14030000 		.word	.LC43
 2739 06f4 30030000 		.word	.LC44
 2740 06f8 00000000 		.word	.LANCHOR0
 2741              		.cfi_endproc
 2742              	.LFE246:
 2744              		.global	g_testFlag
 2745              		.global	g_capAdjust
 2746              		.section	.bss.count.0,"aw",%nobits
 2747              		.set	.LANCHOR5,. + 0
 2750              	count.0:
 2751 0000 00       		.space	1
 2752              		.section	.bss.g_capAdjust,"aw",%nobits
 2753              		.align	2
 2754              		.set	.LANCHOR6,. + 0
 2757              	g_capAdjust:
 2758 0000 00000000 		.space	20
 2758      00000000 
 2758      00000000 
 2758      00000000 
 2758      00000000 
 2759              		.section	.bss.g_oneData,"aw",%nobits
 2760              		.align	2
 2761              		.set	.LANCHOR3,. + 0
 2764              	g_oneData:
 2765 0000 00000000 		.space	904
 2765      00000000 
 2765      00000000 
 2765      00000000 
 2765      00000000 
 2766              		.section	.bss.g_testFlag,"aw",%nobits
 2767              		.align	2
 2768              		.set	.LANCHOR1,. + 0
 2771              	g_testFlag:
 2772 0000 00000000 		.space	100
 2772      00000000 
 2772      00000000 
 2772      00000000 
 2772      00000000 
 2773              		.section	.bss.g_testMode,"aw",%nobits
 2774              		.set	.LANCHOR0,. + 0
 2777              	g_testMode:
 2778 0000 00       		.space	1
 2779              		.section	.bss.state.1,"aw",%nobits
 2780              		.set	.LANCHOR4,. + 0
 2783              	state.1:
 2784 0000 00       		.space	1
 2785              		.section	.data.lastChannel.2,"aw"
 2786              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 70


 2787              		.set	.LANCHOR2,. + 0
 2790              	lastChannel.2:
 2791 0000 FFFFFFFF 		.word	-1
 2792              		.text
 2793              	.Letext0:
 2794              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 2795              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2796              		.file 4 "Core/Inc/main.h"
 2797              		.file 5 "App/Inc/manager.h"
 2798              		.file 6 "Device/Inc/flash.h"
 2799              		.file 7 "Drivers/User_Driver/Inc/soft_i2c.h"
 2800              		.file 8 "Drivers/User_Driver/Inc/rtc_i2c.h"
 2801              		.file 9 "App/Inc/calculate.h"
 2802              		.file 10 "Device/Inc/power.h"
 2803              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2804              		.file 12 "Device/Inc/temp.h"
 2805              		.file 13 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 2806              		.file 14 "Device/Inc/rtc.h"
 2807              		.file 15 "App/Inc/task.h"
 2808              		.file 16 "Device/Inc/drv_wave1006.h"
 2809              		.file 17 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 71


DEFINED SYMBOLS
                            *ABS*:00000000 manager.c
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:20     .text.manager_set_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:26     .text.manager_set_mode:00000000 manager_set_mode
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:44     .text.manager_set_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:49     .text.manager_get_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:55     .text.manager_get_mode:00000000 manager_get_mode
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:70     .text.manager_get_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:75     .text.system_voltage_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:81     .text.system_voltage_test:00000000 system_voltage_test
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:99     .rodata.system_manage_temp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:125    .text.system_manage_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:131    .text.system_manage_temp:00000000 system_manage_temp
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:443    .text.system_manage_temp:0000019c $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:456    .rodata.system_manage_download_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:466    .text.system_manage_download_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:472    .text.system_manage_download_cap:00000000 system_manage_download_cap
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:606    .text.system_manage_download_cap:00000090 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:614    .rodata.system_set_int.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:618    .text.system_set_int:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:624    .text.system_set_int:00000000 system_set_int
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:704    .text.system_set_int:00000050 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:710    .text.check_system_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:716    .text.check_system_temp:00000000 check_system_temp
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:830    .text.check_system_temp:000000b0 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:841    .text.systm_cap_save_buffer:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:847    .text.systm_cap_save_buffer:00000000 systm_cap_save_buffer
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:907    .text.systm_cap_save_buffer:0000003c $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:912    .text.system_check_test_dot:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:918    .text.system_check_test_dot:00000000 system_check_test_dot
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1009   .text.system_cap_write_flash:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1015   .text.system_cap_write_flash:00000000 system_cap_write_flash
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1139   .text.system_cap_write_flash:0000008c $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1144   .rodata.system_tool_calculate_sec.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1148   .text.system_tool_calculate_sec:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1154   .text.system_tool_calculate_sec:00000000 system_tool_calculate_sec
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1291   .text.system_tool_calculate_sec:0000009c $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1297   .rodata.system_manage_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1400   .text.system_manage_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1406   .text.system_manage_test_mode:00000000 system_manage_test_mode
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1444   .text.system_manage_test_mode:0000001c $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1456   .text.system_manage_test_mode:00000034 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1958   .text.system_manage_test_mode:000002e0 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:1985   .text.system_manage_test_mode:00000344 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2593   .text.system_manage_test_mode:00000618 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2617   .text.system_manage_test_mode:00000668 $t
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2735   .text.system_manage_test_mode:000006e4 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2771   .bss.g_testFlag:00000000 g_testFlag
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2757   .bss.g_capAdjust:00000000 g_capAdjust
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2750   .bss.count.0:00000000 count.0
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2751   .bss.count.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2753   .bss.g_capAdjust:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2760   .bss.g_oneData:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2764   .bss.g_oneData:00000000 g_oneData
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2767   .bss.g_testFlag:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2777   .bss.g_testMode:00000000 g_testMode
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2778   .bss.g_testMode:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cczWFoZM.s 			page 72


C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2783   .bss.state.1:00000000 state.1
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2784   .bss.state.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2786   .data.lastChannel.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\cczWFoZM.s:2790   .data.lastChannel.2:00000000 lastChannel.2

UNDEFINED SYMBOLS
__aeabi_f2d
memset
temp_read_value
log_printf
UsbPrintf
flash_test_flag_manage
ControlPrintf
rtc_1006_exit_testmode
rtc_group_power
rtc_1006_set_testmode
HAL_Delay
system_get_rtc_temp
rtc_convert_temp_offset
flash_test_data_write_add
sd8840_write_otp
rtc_disable_int
rtc_out_4096
flash_read_data
float_to_uint8
flash_write_data
rtc_set_channel
rtc_read_multi_bytes
rtc_freq_test
flash_test_data_clear
sd8840_calcul_cap
system_get_real_time
rtc_write_date
rtc_read_date
system_machine_test_one
system_machine_write_one
