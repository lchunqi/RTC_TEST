ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.LedHeart,"ax",%progbits
  20              		.align	1
  21              		.global	LedHeart
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	LedHeart:
  27              	.LFB235:
  28              		.file 1 "App/Src/task.c"
   1:App/Src/task.c **** #include "main.h"
   2:App/Src/task.c **** #include "task.h"
   3:App/Src/task.c **** #include "manager.h"
   4:App/Src/task.c **** #include "rtc.h"
   5:App/Src/task.c **** #include "temp.h"
   6:App/Src/task.c **** #include "math.h"
   7:App/Src/task.c **** #include "power.h"
   8:App/Src/task.c **** #include "current.h"
   9:App/Src/task.c **** #include "flash.h"
  10:App/Src/task.c **** #include "calculate.h"
  11:App/Src/task.c **** #include "drv_wave1006.h"
  12:App/Src/task.c **** 
  13:App/Src/task.c **** RealTime g_realTime = {0};
  14:App/Src/task.c **** FrequencyData g_lastFreq = {0};
  15:App/Src/task.c **** extern CapAdjust g_capAdjust;
  16:App/Src/task.c **** TestResult g_machineTest = {0};
  17:App/Src/task.c **** uint8_t g_intState = 0;
  18:App/Src/task.c **** uint8_t g_intStart = 0;
  19:App/Src/task.c **** uint8_t g_intEnd = 0;
  20:App/Src/task.c **** uint8_t g_aecq100Start = 1;
  21:App/Src/task.c **** void command_int_test(uint8_t init);
  22:App/Src/task.c **** void Aecq100Sample(void);
  23:App/Src/task.c **** 
  24:App/Src/task.c **** void LedHeart(void)
  25:App/Src/task.c **** {
  29              		.loc 1 25 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 2


  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  26:App/Src/task.c ****     static uint32_t ledTick = 0;
  38              		.loc 1 26 5 view .LVU1
  27:App/Src/task.c ****     if (HAL_GetTick() > ledTick + 1000) {
  39              		.loc 1 27 5 view .LVU2
  40              		.loc 1 27 9 is_stmt 0 view .LVU3
  41 0002 FFF7FEFF 		bl	HAL_GetTick
  42              	.LVL0:
  43              		.loc 1 27 33 view .LVU4
  44 0006 084B     		ldr	r3, .L5
  45 0008 1B68     		ldr	r3, [r3]
  46 000a 03F57A73 		add	r3, r3, #1000
  47              		.loc 1 27 8 view .LVU5
  48 000e 9842     		cmp	r0, r3
  49 0010 00D8     		bhi	.L4
  50              	.L1:
  28:App/Src/task.c ****         ledTick = HAL_GetTick();
  29:App/Src/task.c ****         HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_8);
  30:App/Src/task.c ****     }
  31:App/Src/task.c **** }
  51              		.loc 1 31 1 view .LVU6
  52 0012 08BD     		pop	{r3, pc}
  53              	.L4:
  28:App/Src/task.c ****         ledTick = HAL_GetTick();
  54              		.loc 1 28 9 is_stmt 1 view .LVU7
  28:App/Src/task.c ****         ledTick = HAL_GetTick();
  55              		.loc 1 28 19 is_stmt 0 view .LVU8
  56 0014 FFF7FEFF 		bl	HAL_GetTick
  57              	.LVL1:
  28:App/Src/task.c ****         ledTick = HAL_GetTick();
  58              		.loc 1 28 17 view .LVU9
  59 0018 034B     		ldr	r3, .L5
  60 001a 1860     		str	r0, [r3]
  29:App/Src/task.c ****     }
  61              		.loc 1 29 9 is_stmt 1 view .LVU10
  62 001c 4FF48071 		mov	r1, #256
  63 0020 0248     		ldr	r0, .L5+4
  64 0022 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  65              	.LVL2:
  66              		.loc 1 31 1 is_stmt 0 view .LVU11
  67 0026 F4E7     		b	.L1
  68              	.L6:
  69              		.align	2
  70              	.L5:
  71 0028 00000000 		.word	.LANCHOR0
  72 002c 00000240 		.word	1073872896
  73              		.cfi_endproc
  74              	.LFE235:
  76              		.section	.text.system_time_update,"ax",%progbits
  77              		.align	1
  78              		.global	system_time_update
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 3


  83              	system_time_update:
  84              	.LFB236:
  32:App/Src/task.c **** 
  33:App/Src/task.c **** 
  34:App/Src/task.c **** void system_time_update(void)
  35:App/Src/task.c **** {
  85              		.loc 1 35 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89 0000 38B5     		push	{r3, r4, r5, lr}
  90              	.LCFI1:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 3, -16
  93              		.cfi_offset 4, -12
  94              		.cfi_offset 5, -8
  95              		.cfi_offset 14, -4
  36:App/Src/task.c ****     static uint32_t lastTick = 0;
  96              		.loc 1 36 5 view .LVU13
  37:App/Src/task.c **** 
  38:App/Src/task.c ****     g_realTime.tick += HAL_GetTick() - lastTick;
  97              		.loc 1 38 5 view .LVU14
  98              		.loc 1 38 24 is_stmt 0 view .LVU15
  99 0002 FFF7FEFF 		bl	HAL_GetTick
 100              	.LVL3:
 101              		.loc 1 38 38 view .LVU16
 102 0006 264D     		ldr	r5, .L15
 103 0008 2B68     		ldr	r3, [r5]
 104 000a C01A     		subs	r0, r0, r3
 105              		.loc 1 38 21 view .LVU17
 106 000c 254C     		ldr	r4, .L15+4
 107 000e E388     		ldrh	r3, [r4, #6]
 108 0010 1844     		add	r0, r0, r3
 109 0012 E080     		strh	r0, [r4, #6]	@ movhi
  39:App/Src/task.c ****     lastTick = HAL_GetTick();
 110              		.loc 1 39 5 is_stmt 1 view .LVU18
 111              		.loc 1 39 16 is_stmt 0 view .LVU19
 112 0014 FFF7FEFF 		bl	HAL_GetTick
 113              	.LVL4:
 114              		.loc 1 39 14 view .LVU20
 115 0018 2860     		str	r0, [r5]
  40:App/Src/task.c ****     if (g_realTime.tick < 1000) {
 116              		.loc 1 40 5 is_stmt 1 view .LVU21
 117              		.loc 1 40 19 is_stmt 0 view .LVU22
 118 001a E388     		ldrh	r3, [r4, #6]
 119              		.loc 1 40 8 view .LVU23
 120 001c B3F57A7F 		cmp	r3, #1000
 121 0020 3AD3     		bcc	.L7
  41:App/Src/task.c ****         return;
  42:App/Src/task.c ****     }
  43:App/Src/task.c ****     g_realTime.tick -= 1000;
 122              		.loc 1 43 5 is_stmt 1 view .LVU24
 123              		.loc 1 43 21 is_stmt 0 view .LVU25
 124 0022 A3F57A73 		sub	r3, r3, #1000
 125 0026 E380     		strh	r3, [r4, #6]	@ movhi
  44:App/Src/task.c ****     g_realTime.sec++;
 126              		.loc 1 44 5 is_stmt 1 view .LVU26
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 4


 127              		.loc 1 44 15 is_stmt 0 view .LVU27
 128 0028 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 129              		.loc 1 44 19 view .LVU28
 130 002a 0133     		adds	r3, r3, #1
 131 002c DBB2     		uxtb	r3, r3
 132 002e 6371     		strb	r3, [r4, #5]
  45:App/Src/task.c ****     if (g_realTime.sec >= 60) {
 133              		.loc 1 45 5 is_stmt 1 view .LVU29
 134              		.loc 1 45 8 is_stmt 0 view .LVU30
 135 0030 3B2B     		cmp	r3, #59
 136 0032 31D9     		bls	.L7
  46:App/Src/task.c ****         g_realTime.sec = 0;
 137              		.loc 1 46 9 is_stmt 1 view .LVU31
 138              		.loc 1 46 24 is_stmt 0 view .LVU32
 139 0034 0023     		movs	r3, #0
 140 0036 6371     		strb	r3, [r4, #5]
  47:App/Src/task.c ****         g_realTime.min++;
 141              		.loc 1 47 9 is_stmt 1 view .LVU33
 142              		.loc 1 47 19 is_stmt 0 view .LVU34
 143 0038 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 144              		.loc 1 47 23 view .LVU35
 145 003a 0133     		adds	r3, r3, #1
 146 003c DBB2     		uxtb	r3, r3
 147 003e 2371     		strb	r3, [r4, #4]
  48:App/Src/task.c ****         if (g_realTime.min >= 60) {
 148              		.loc 1 48 9 is_stmt 1 view .LVU36
 149              		.loc 1 48 12 is_stmt 0 view .LVU37
 150 0040 3B2B     		cmp	r3, #59
 151 0042 29D9     		bls	.L7
  49:App/Src/task.c ****             g_realTime.min = 0;
 152              		.loc 1 49 13 is_stmt 1 view .LVU38
 153              		.loc 1 49 28 is_stmt 0 view .LVU39
 154 0044 0023     		movs	r3, #0
 155 0046 2371     		strb	r3, [r4, #4]
  50:App/Src/task.c ****             g_realTime.hour++;
 156              		.loc 1 50 13 is_stmt 1 view .LVU40
 157              		.loc 1 50 23 is_stmt 0 view .LVU41
 158 0048 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 159              		.loc 1 50 28 view .LVU42
 160 004a 0133     		adds	r3, r3, #1
 161 004c DBB2     		uxtb	r3, r3
 162 004e E370     		strb	r3, [r4, #3]
  51:App/Src/task.c ****             if (g_realTime.hour >= 24) {
 163              		.loc 1 51 13 is_stmt 1 view .LVU43
 164              		.loc 1 51 16 is_stmt 0 view .LVU44
 165 0050 172B     		cmp	r3, #23
 166 0052 21D9     		bls	.L7
  52:App/Src/task.c ****                 g_realTime.hour = 0;
 167              		.loc 1 52 17 is_stmt 1 view .LVU45
 168              		.loc 1 52 33 is_stmt 0 view .LVU46
 169 0054 0022     		movs	r2, #0
 170 0056 E270     		strb	r2, [r4, #3]
  53:App/Src/task.c ****                 g_realTime.day++;
 171              		.loc 1 53 17 is_stmt 1 view .LVU47
 172              		.loc 1 53 27 is_stmt 0 view .LVU48
 173 0058 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 174              		.loc 1 53 31 view .LVU49
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 5


 175 005a 0132     		adds	r2, r2, #1
 176 005c D2B2     		uxtb	r2, r2
 177 005e A270     		strb	r2, [r4, #2]
  54:App/Src/task.c ****                 if ((g_realTime.mon == 2 && g_realTime.day >= 29) || 
 178              		.loc 1 54 17 is_stmt 1 view .LVU50
 179              		.loc 1 54 32 is_stmt 0 view .LVU51
 180 0060 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 181              		.loc 1 54 20 view .LVU52
 182 0062 022B     		cmp	r3, #2
 183 0064 19D0     		beq	.L14
 184              	.L9:
 185              		.loc 1 54 67 discriminator 3 view .LVU53
 186 0066 042B     		cmp	r3, #4
 187 0068 05D0     		beq	.L11
  55:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 188              		.loc 1 55 43 view .LVU54
 189 006a 062B     		cmp	r3, #6
 190 006c 03D0     		beq	.L11
 191              		.loc 1 55 66 discriminator 2 view .LVU55
 192 006e 092B     		cmp	r3, #9
 193 0070 01D0     		beq	.L11
 194              		.loc 1 55 89 discriminator 4 view .LVU56
 195 0072 0B2B     		cmp	r3, #11
 196 0074 01D1     		bne	.L12
 197              	.L11:
 198              		.loc 1 55 114 discriminator 5 view .LVU57
 199 0076 1E2A     		cmp	r2, #30
 200 0078 01D8     		bhi	.L10
 201              	.L12:
  56:App/Src/task.c ****                     || g_realTime.day >= 32) {//不考虑闰年了，每小时会有信息校正过来
 202              		.loc 1 56 21 view .LVU58
 203 007a 1F2A     		cmp	r2, #31
 204 007c 0CD9     		bls	.L7
 205              	.L10:
  57:App/Src/task.c ****                     g_realTime.mon++;
 206              		.loc 1 57 21 is_stmt 1 view .LVU59
 207              		.loc 1 57 35 is_stmt 0 view .LVU60
 208 007e 0133     		adds	r3, r3, #1
 209 0080 DBB2     		uxtb	r3, r3
 210 0082 084A     		ldr	r2, .L15+4
 211 0084 5370     		strb	r3, [r2, #1]
  58:App/Src/task.c ****                     g_realTime.day = 1;
 212              		.loc 1 58 21 is_stmt 1 view .LVU61
 213              		.loc 1 58 36 is_stmt 0 view .LVU62
 214 0086 0121     		movs	r1, #1
 215 0088 9170     		strb	r1, [r2, #2]
  59:App/Src/task.c ****                     if (g_realTime.mon >= 13) {
 216              		.loc 1 59 21 is_stmt 1 view .LVU63
 217              		.loc 1 59 24 is_stmt 0 view .LVU64
 218 008a 0C2B     		cmp	r3, #12
 219 008c 04D9     		bls	.L7
  60:App/Src/task.c ****                         g_realTime.mon = 1;
 220              		.loc 1 60 25 is_stmt 1 view .LVU65
 221              		.loc 1 60 40 is_stmt 0 view .LVU66
 222 008e 1346     		mov	r3, r2
 223 0090 5170     		strb	r1, [r2, #1]
  61:App/Src/task.c ****                         g_realTime.year++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 6


 224              		.loc 1 61 25 is_stmt 1 view .LVU67
 225              		.loc 1 61 35 is_stmt 0 view .LVU68
 226 0092 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 227              		.loc 1 61 40 view .LVU69
 228 0094 0A44     		add	r2, r2, r1
 229 0096 1A70     		strb	r2, [r3]
 230              	.L7:
  62:App/Src/task.c ****                     }
  63:App/Src/task.c ****                 }
  64:App/Src/task.c ****             }
  65:App/Src/task.c ****         }
  66:App/Src/task.c ****     }
  67:App/Src/task.c **** }
 231              		.loc 1 67 1 view .LVU70
 232 0098 38BD     		pop	{r3, r4, r5, pc}
 233              	.L14:
  54:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 234              		.loc 1 54 42 discriminator 1 view .LVU71
 235 009a 1C2A     		cmp	r2, #28
 236 009c EFD8     		bhi	.L10
 237 009e E2E7     		b	.L9
 238              	.L16:
 239              		.align	2
 240              	.L15:
 241 00a0 00000000 		.word	.LANCHOR1
 242 00a4 00000000 		.word	.LANCHOR2
 243              		.cfi_endproc
 244              	.LFE236:
 246              		.section	.rodata.system_set_real_time.str1.4,"aMS",%progbits,1
 247              		.align	2
 248              	.LC1:
 249 0000 0A636F6D 		.ascii	"\012command set time, 20%d/%d/%d %d:%d:%d\012\000"
 249      6D616E64 
 249      20736574 
 249      2074696D 
 249      652C2032 
 250              		.section	.text.system_set_real_time,"ax",%progbits
 251              		.align	1
 252              		.global	system_set_real_time
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	system_set_real_time:
 258              	.LFB237:
  68:App/Src/task.c **** 
  69:App/Src/task.c **** void system_set_real_time(RealTime time)
  70:App/Src/task.c **** {
 259              		.loc 1 70 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 8
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263 0000 70B5     		push	{r4, r5, r6, lr}
 264              	.LCFI2:
 265              		.cfi_def_cfa_offset 16
 266              		.cfi_offset 4, -16
 267              		.cfi_offset 5, -12
 268              		.cfi_offset 6, -8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 7


 269              		.cfi_offset 14, -4
 270 0002 86B0     		sub	sp, sp, #24
 271              	.LCFI3:
 272              		.cfi_def_cfa_offset 40
 273 0004 06AB     		add	r3, sp, #24
 274 0006 03E90300 		stmdb	r3, {r0, r1}
  71:App/Src/task.c ****     g_realTime.tick = 0;
 275              		.loc 1 71 5 view .LVU73
 276              		.loc 1 71 21 is_stmt 0 view .LVU74
 277 000a 0E48     		ldr	r0, .L19
 278 000c 0023     		movs	r3, #0
 279 000e C380     		strh	r3, [r0, #6]	@ movhi
  72:App/Src/task.c ****     g_realTime.sec = time.sec;
 280              		.loc 1 72 5 is_stmt 1 view .LVU75
 281              		.loc 1 72 26 is_stmt 0 view .LVU76
 282 0010 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
 283              		.loc 1 72 20 view .LVU77
 284 0014 4671     		strb	r6, [r0, #5]
  73:App/Src/task.c ****     g_realTime.min = time.min;
 285              		.loc 1 73 5 is_stmt 1 view .LVU78
 286              		.loc 1 73 26 is_stmt 0 view .LVU79
 287 0016 9DF81450 		ldrb	r5, [sp, #20]	@ zero_extendqisi2
 288              		.loc 1 73 20 view .LVU80
 289 001a 0571     		strb	r5, [r0, #4]
  74:App/Src/task.c ****     g_realTime.hour = time.hour;
 290              		.loc 1 74 5 is_stmt 1 view .LVU81
 291              		.loc 1 74 27 is_stmt 0 view .LVU82
 292 001c 9DF81340 		ldrb	r4, [sp, #19]	@ zero_extendqisi2
 293              		.loc 1 74 21 view .LVU83
 294 0020 C470     		strb	r4, [r0, #3]
  75:App/Src/task.c ****     g_realTime.day = time.day;
 295              		.loc 1 75 5 is_stmt 1 view .LVU84
 296              		.loc 1 75 26 is_stmt 0 view .LVU85
 297 0022 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 298              		.loc 1 75 20 view .LVU86
 299 0026 8370     		strb	r3, [r0, #2]
  76:App/Src/task.c ****     g_realTime.mon = time.mon;
 300              		.loc 1 76 5 is_stmt 1 view .LVU87
 301              		.loc 1 76 26 is_stmt 0 view .LVU88
 302 0028 9DF81120 		ldrb	r2, [sp, #17]	@ zero_extendqisi2
 303              		.loc 1 76 20 view .LVU89
 304 002c 4270     		strb	r2, [r0, #1]
  77:App/Src/task.c ****     g_realTime.year = time.year;
 305              		.loc 1 77 5 is_stmt 1 view .LVU90
 306              		.loc 1 77 27 is_stmt 0 view .LVU91
 307 002e 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 308              		.loc 1 77 21 view .LVU92
 309 0032 0170     		strb	r1, [r0]
  78:App/Src/task.c **** 	log_printf("\ncommand set time, 20%d/%d/%d %d:%d:%d\n", 
 310              		.loc 1 78 2 is_stmt 1 view .LVU93
 311 0034 0296     		str	r6, [sp, #8]
 312 0036 0195     		str	r5, [sp, #4]
 313 0038 0094     		str	r4, [sp]
 314 003a 0348     		ldr	r0, .L19+4
 315 003c FFF7FEFF 		bl	log_printf
 316              	.LVL5:
  79:App/Src/task.c ****     g_realTime.year, g_realTime.mon, g_realTime.day, g_realTime.hour, g_realTime.min, g_realTime.se
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 8


  80:App/Src/task.c **** }
 317              		.loc 1 80 1 is_stmt 0 view .LVU94
 318 0040 06B0     		add	sp, sp, #24
 319              	.LCFI4:
 320              		.cfi_def_cfa_offset 16
 321              		@ sp needed
 322 0042 70BD     		pop	{r4, r5, r6, pc}
 323              	.L20:
 324              		.align	2
 325              	.L19:
 326 0044 00000000 		.word	.LANCHOR2
 327 0048 00000000 		.word	.LC1
 328              		.cfi_endproc
 329              	.LFE237:
 331              		.section	.text.system_get_real_time,"ax",%progbits
 332              		.align	1
 333              		.global	system_get_real_time
 334              		.syntax unified
 335              		.thumb
 336              		.thumb_func
 338              	system_get_real_time:
 339              	.LVL6:
 340              	.LFB238:
  81:App/Src/task.c **** 
  82:App/Src/task.c **** void system_get_real_time(RealTime* time)
  83:App/Src/task.c **** {
 341              		.loc 1 83 1 is_stmt 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		@ link register save eliminated.
  84:App/Src/task.c ****     time->sec = g_realTime.sec;
 346              		.loc 1 84 5 view .LVU96
 347              		.loc 1 84 27 is_stmt 0 view .LVU97
 348 0000 064B     		ldr	r3, .L22
 349 0002 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 350              		.loc 1 84 15 view .LVU98
 351 0004 4271     		strb	r2, [r0, #5]
  85:App/Src/task.c ****     time->min = g_realTime.min;
 352              		.loc 1 85 5 is_stmt 1 view .LVU99
 353              		.loc 1 85 27 is_stmt 0 view .LVU100
 354 0006 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 355              		.loc 1 85 15 view .LVU101
 356 0008 0271     		strb	r2, [r0, #4]
  86:App/Src/task.c ****     time->hour = g_realTime.hour;
 357              		.loc 1 86 5 is_stmt 1 view .LVU102
 358              		.loc 1 86 28 is_stmt 0 view .LVU103
 359 000a DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 360              		.loc 1 86 16 view .LVU104
 361 000c C270     		strb	r2, [r0, #3]
  87:App/Src/task.c ****     time->day = g_realTime.day;
 362              		.loc 1 87 5 is_stmt 1 view .LVU105
 363              		.loc 1 87 27 is_stmt 0 view .LVU106
 364 000e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 365              		.loc 1 87 15 view .LVU107
 366 0010 8270     		strb	r2, [r0, #2]
  88:App/Src/task.c ****     time->mon = g_realTime.mon;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 9


 367              		.loc 1 88 5 is_stmt 1 view .LVU108
 368              		.loc 1 88 27 is_stmt 0 view .LVU109
 369 0012 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 370              		.loc 1 88 15 view .LVU110
 371 0014 4270     		strb	r2, [r0, #1]
  89:App/Src/task.c ****     time->year = g_realTime.year;
 372              		.loc 1 89 5 is_stmt 1 view .LVU111
 373              		.loc 1 89 28 is_stmt 0 view .LVU112
 374 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 375              		.loc 1 89 16 view .LVU113
 376 0018 0370     		strb	r3, [r0]
  90:App/Src/task.c **** }
 377              		.loc 1 90 1 view .LVU114
 378 001a 7047     		bx	lr
 379              	.L23:
 380              		.align	2
 381              	.L22:
 382 001c 00000000 		.word	.LANCHOR2
 383              		.cfi_endproc
 384              	.LFE238:
 386              		.section	.rodata.command_int_test.str1.4,"aMS",%progbits,1
 387              		.align	2
 388              	.LC3:
 389 0000 63686970 		.ascii	"chip%d test 64Hz\012\000"
 389      25642074 
 389      65737420 
 389      3634487A 
 389      0A00
 390              		.global	__aeabi_f2d
 391 0012 0000     		.align	2
 392              	.LC4:
 393 0014 63686970 		.ascii	"chip%d temp:%.0f, system temp = %.1fC\012\000"
 393      25642074 
 393      656D703A 
 393      252E3066 
 393      2C207379 
 394 003b 00       		.align	2
 395              	.LC5:
 396 003c 3A4D4541 		.ascii	":MEAS?\012\000"
 396      533F0A00 
 397              		.global	__aeabi_dmul
 398              		.global	__aeabi_dsub
 399              		.global	__aeabi_d2f
 400              		.align	2
 401              	.LC6:
 402 0044 66726571 		.ascii	"freq:%fHz,ppm:%.2f\012\000"
 402      3A256648 
 402      7A2C7070 
 402      6D3A252E 
 402      32660A00 
 403              		.align	2
 404              	.LC7:
 405 0058 64657669 		.ascii	"device no respose!\012\000"
 405      6365206E 
 405      6F207265 
 405      73706F73 
 405      65210A00 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 10


 406              		.section	.text.command_int_test,"ax",%progbits
 407              		.align	1
 408              		.global	command_int_test
 409              		.syntax unified
 410              		.thumb
 411              		.thumb_func
 413              	command_int_test:
 414              	.LVL7:
 415              	.LFB241:
  91:App/Src/task.c **** 
  92:App/Src/task.c **** void system_manage(void)
  93:App/Src/task.c **** {
  94:App/Src/task.c ****     static uint32_t systemTick = 0;
  95:App/Src/task.c **** 
  96:App/Src/task.c ****     systemTick++;
  97:App/Src/task.c ****     if (systemTick % 100 == 0) {
  98:App/Src/task.c ****         LedHeart();
  99:App/Src/task.c ****     }
 100:App/Src/task.c ****     if (systemTick % 100 == 0) {
 101:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 102:App/Src/task.c ****     }
 103:App/Src/task.c ****     if (systemTick % 20 == 0) {
 104:App/Src/task.c ****         system_manage_test_mode();
 105:App/Src/task.c ****     }
 106:App/Src/task.c ****     if (systemTick % 200 == 0) {//系统本地走时
 107:App/Src/task.c ****         system_time_update();
 108:App/Src/task.c ****     }
 109:App/Src/task.c ****     if (systemTick % 50 == 0 && g_intState) {//临时命令
 110:App/Src/task.c ****             command_int_test(1);
 111:App/Src/task.c ****     }
 112:App/Src/task.c ****     if (systemTick % 50 == 0 && g_aecq100Start) {//临时命令
 113:App/Src/task.c ****             Aecq100Sample();
 114:App/Src/task.c ****     }
 115:App/Src/task.c ****     if (systemTick % 4000 == 0) {
 116:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 117:App/Src/task.c ****     }
 118:App/Src/task.c **** }
 119:App/Src/task.c **** 
 120:App/Src/task.c **** void set_int_test(uint8_t state, uint8_t start, uint8_t end)
 121:App/Src/task.c **** {
 122:App/Src/task.c ****     if (state == 0) {
 123:App/Src/task.c ****         g_intState = 0;
 124:App/Src/task.c ****         g_intStart = 0;
 125:App/Src/task.c ****         g_intEnd = 0;
 126:App/Src/task.c ****         command_int_test(0);
 127:App/Src/task.c ****     } else {
 128:App/Src/task.c ****         if (start <= end) {
 129:App/Src/task.c ****             g_intState = 1;
 130:App/Src/task.c ****             g_intStart = start;
 131:App/Src/task.c ****             g_intEnd = end;
 132:App/Src/task.c ****             command_int_test(0);
 133:App/Src/task.c ****         }
 134:App/Src/task.c ****     }
 135:App/Src/task.c **** }
 136:App/Src/task.c **** 
 137:App/Src/task.c **** void command_int_test(uint8_t init)
 138:App/Src/task.c **** {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 11


 416              		.loc 1 138 1 is_stmt 1 view -0
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 8
 419              		@ frame_needed = 0, uses_anonymous_args = 0
 420              		.loc 1 138 1 is_stmt 0 view .LVU116
 421 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 422              	.LCFI5:
 423              		.cfi_def_cfa_offset 20
 424              		.cfi_offset 4, -20
 425              		.cfi_offset 5, -16
 426              		.cfi_offset 6, -12
 427              		.cfi_offset 7, -8
 428              		.cfi_offset 14, -4
 429 0002 2DED028B 		vpush.64	{d8}
 430              	.LCFI6:
 431              		.cfi_def_cfa_offset 28
 432              		.cfi_offset 80, -28
 433              		.cfi_offset 81, -24
 434 0006 85B0     		sub	sp, sp, #20
 435              	.LCFI7:
 436              		.cfi_def_cfa_offset 48
 437 0008 0246     		mov	r2, r0
 139:App/Src/task.c ****     static uint8_t testStep = 0;
 438              		.loc 1 139 5 is_stmt 1 view .LVU117
 140:App/Src/task.c ****     static uint8_t testNumber = 0;
 439              		.loc 1 140 5 view .LVU118
 141:App/Src/task.c ****     uint8_t buf;
 440              		.loc 1 141 5 view .LVU119
 142:App/Src/task.c ****     static uint32_t lastTick = 0;
 441              		.loc 1 142 5 view .LVU120
 143:App/Src/task.c ****     float ppm;
 442              		.loc 1 143 5 view .LVU121
 144:App/Src/task.c ****     float temp;
 443              		.loc 1 144 5 view .LVU122
 145:App/Src/task.c **** 	uint8_t config[5] = {0x01, 0x00, 0x11, 0x00, 0x10};
 444              		.loc 1 145 2 view .LVU123
 445              		.loc 1 145 10 is_stmt 0 view .LVU124
 446 000a 774B     		ldr	r3, .L42+8
 447 000c 93E80300 		ldm	r3, {r0, r1}
 448              	.LVL8:
 449              		.loc 1 145 10 view .LVU125
 450 0010 0290     		str	r0, [sp, #8]
 451 0012 8DF80C10 		strb	r1, [sp, #12]
 146:App/Src/task.c **** 
 147:App/Src/task.c ****     if (init == 0) {
 452              		.loc 1 147 5 is_stmt 1 view .LVU126
 453              		.loc 1 147 8 is_stmt 0 view .LVU127
 454 0016 42B1     		cbz	r2, .L40
 148:App/Src/task.c ****         testStep = 0;
 149:App/Src/task.c ****         buf = 0x00;
 150:App/Src/task.c ****         spi_write_multi_bytes(0x0f, &buf, 1);//关闭之前开启频率输出
 151:App/Src/task.c ****         return;
 152:App/Src/task.c ****     }
 153:App/Src/task.c **** 
 154:App/Src/task.c ****     switch (testStep) {
 455              		.loc 1 154 5 is_stmt 1 view .LVU128
 456 0018 744B     		ldr	r3, .L42+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 12


 457 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 458 001c 052B     		cmp	r3, #5
 459 001e 0FD8     		bhi	.L24
 460 0020 DFE803F0 		tbb	[pc, r3]
 461              	.L29:
 462 0024 12       		.byte	(.L34-.L29)/2
 463 0025 19       		.byte	(.L33-.L29)/2
 464 0026 3B       		.byte	(.L32-.L29)/2
 465 0027 49       		.byte	(.L31-.L29)/2
 466 0028 7E       		.byte	(.L30-.L29)/2
 467 0029 92       		.byte	(.L28-.L29)/2
 468              		.p2align 1
 469              	.L40:
 148:App/Src/task.c ****         testStep = 0;
 470              		.loc 1 148 9 view .LVU129
 148:App/Src/task.c ****         testStep = 0;
 471              		.loc 1 148 18 is_stmt 0 view .LVU130
 472 002a 0023     		movs	r3, #0
 473 002c 6F4A     		ldr	r2, .L42+12
 474 002e 1370     		strb	r3, [r2]
 149:App/Src/task.c ****         spi_write_multi_bytes(0x0f, &buf, 1);//关闭之前开启频率输出
 475              		.loc 1 149 9 is_stmt 1 view .LVU131
 149:App/Src/task.c ****         spi_write_multi_bytes(0x0f, &buf, 1);//关闭之前开启频率输出
 476              		.loc 1 149 13 is_stmt 0 view .LVU132
 477 0030 8DF80F30 		strb	r3, [sp, #15]
 150:App/Src/task.c ****         return;
 478              		.loc 1 150 9 is_stmt 1 view .LVU133
 479 0034 0122     		movs	r2, #1
 480 0036 0DF10F01 		add	r1, sp, #15
 481 003a 0F20     		movs	r0, #15
 482 003c FFF7FEFF 		bl	spi_write_multi_bytes
 483              	.LVL9:
 151:App/Src/task.c ****     }
 484              		.loc 1 151 9 view .LVU134
 485              	.L24:
 155:App/Src/task.c ****         case 0:
 156:App/Src/task.c ****             testNumber = 0;
 157:App/Src/task.c ****             testStep++;
 158:App/Src/task.c ****         break;
 159:App/Src/task.c ****         case 1:
 160:App/Src/task.c ****             if (testNumber < g_intStart || testNumber >= g_intEnd) {//配置测试的芯片编号
 161:App/Src/task.c ****                 testNumber = g_intStart;
 162:App/Src/task.c ****             } else {
 163:App/Src/task.c ****                 testNumber++;
 164:App/Src/task.c ****             }
 165:App/Src/task.c **** 			UsbPrintf("chip%d test 64Hz\n", testNumber);
 166:App/Src/task.c **** 			rtc_group_power(testNumber, POWER_I2C);
 167:App/Src/task.c **** 			rtc_set_channel(testNumber, RTC_SD8840);
 168:App/Src/task.c ****             testStep++;
 169:App/Src/task.c ****         break;
 170:App/Src/task.c ****         case 2:
 171:App/Src/task.c **** 			buf = 0x10;
 172:App/Src/task.c **** 			spi_write_multi_bytes(0x57, &buf, 1);
 173:App/Src/task.c ****             testStep++;
 174:App/Src/task.c ****         break;
 175:App/Src/task.c ****         case 3:
 176:App/Src/task.c **** 			buf = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 13


 177:App/Src/task.c **** 			spi_read_multi_bytes(0x56, &buf, 1);
 178:App/Src/task.c **** 			temp = buf;
 179:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 180:App/Src/task.c **** 			spi_write_multi_bytes(0x0B, config, 5);//开启输出
 181:App/Src/task.c ****             lastTick = HAL_GetTick();
 182:App/Src/task.c ****             testStep++;
 183:App/Src/task.c ****         break;
 184:App/Src/task.c ****         case 4:
 185:App/Src/task.c ****             if (HAL_GetTick() > lastTick + 500) {
 186:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 187:App/Src/task.c ****                 lastTick = HAL_GetTick();
 188:App/Src/task.c ****                 testStep++;
 189:App/Src/task.c ****             }
 190:App/Src/task.c ****         break;
 191:App/Src/task.c ****         case 5:
 192:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTick) {
 193:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 194:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 195:App/Src/task.c ****                 buf = 0x00;
 196:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 197:App/Src/task.c ****                 testStep = 1;
 198:App/Src/task.c ****             }
 199:App/Src/task.c **** 			if (HAL_GetTick() >= lastTick + 3000) {
 200:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 201:App/Src/task.c ****                 buf = 0x00;
 202:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 203:App/Src/task.c ****                 testStep = 1;
 204:App/Src/task.c **** 			}
 205:App/Src/task.c ****         break;
 206:App/Src/task.c ****         default:break;
 207:App/Src/task.c ****     }
 208:App/Src/task.c **** }
 486              		.loc 1 208 1 is_stmt 0 view .LVU135
 487 0040 05B0     		add	sp, sp, #20
 488              	.LCFI8:
 489              		.cfi_remember_state
 490              		.cfi_def_cfa_offset 28
 491              		@ sp needed
 492 0042 BDEC028B 		vldm	sp!, {d8}
 493              	.LCFI9:
 494              		.cfi_restore 80
 495              		.cfi_restore 81
 496              		.cfi_def_cfa_offset 20
 497 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 498              	.L34:
 499              	.LCFI10:
 500              		.cfi_restore_state
 156:App/Src/task.c ****             testStep++;
 501              		.loc 1 156 13 is_stmt 1 view .LVU136
 156:App/Src/task.c ****             testStep++;
 502              		.loc 1 156 24 is_stmt 0 view .LVU137
 503 0048 694A     		ldr	r2, .L42+16
 504 004a 0021     		movs	r1, #0
 505 004c 1170     		strb	r1, [r2]
 157:App/Src/task.c ****         break;
 506              		.loc 1 157 13 is_stmt 1 view .LVU138
 157:App/Src/task.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 14


 507              		.loc 1 157 21 is_stmt 0 view .LVU139
 508 004e 0133     		adds	r3, r3, #1
 509 0050 664A     		ldr	r2, .L42+12
 510 0052 1370     		strb	r3, [r2]
 158:App/Src/task.c ****         case 1:
 511              		.loc 1 158 9 is_stmt 1 view .LVU140
 512 0054 F4E7     		b	.L24
 513              	.L33:
 160:App/Src/task.c ****                 testNumber = g_intStart;
 514              		.loc 1 160 13 view .LVU141
 160:App/Src/task.c ****                 testNumber = g_intStart;
 515              		.loc 1 160 28 is_stmt 0 view .LVU142
 516 0056 664B     		ldr	r3, .L42+16
 517 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 518 005a 664A     		ldr	r2, .L42+20
 519 005c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 160:App/Src/task.c ****                 testNumber = g_intStart;
 520              		.loc 1 160 16 view .LVU143
 521 005e 9342     		cmp	r3, r2
 522 0060 03D3     		bcc	.L35
 160:App/Src/task.c ****                 testNumber = g_intStart;
 523              		.loc 1 160 55 discriminator 1 view .LVU144
 524 0062 6549     		ldr	r1, .L42+24
 525 0064 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 160:App/Src/task.c ****                 testNumber = g_intStart;
 526              		.loc 1 160 41 discriminator 1 view .LVU145
 527 0066 8B42     		cmp	r3, r1
 528 0068 13D3     		bcc	.L36
 529              	.L35:
 161:App/Src/task.c ****             } else {
 530              		.loc 1 161 17 is_stmt 1 view .LVU146
 161:App/Src/task.c ****             } else {
 531              		.loc 1 161 28 is_stmt 0 view .LVU147
 532 006a 614B     		ldr	r3, .L42+16
 533 006c 1A70     		strb	r2, [r3]
 534              	.L37:
 165:App/Src/task.c **** 			rtc_group_power(testNumber, POWER_I2C);
 535              		.loc 1 165 4 is_stmt 1 view .LVU148
 536 006e 604C     		ldr	r4, .L42+16
 537 0070 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 538 0072 6248     		ldr	r0, .L42+28
 539 0074 FFF7FEFF 		bl	UsbPrintf
 540              	.LVL10:
 166:App/Src/task.c **** 			rtc_set_channel(testNumber, RTC_SD8840);
 541              		.loc 1 166 4 view .LVU149
 542 0078 0121     		movs	r1, #1
 543 007a 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 544 007c FFF7FEFF 		bl	rtc_group_power
 545              	.LVL11:
 167:App/Src/task.c ****             testStep++;
 546              		.loc 1 167 4 view .LVU150
 547 0080 0321     		movs	r1, #3
 548 0082 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 549 0084 FFF7FEFF 		bl	rtc_set_channel
 550              	.LVL12:
 168:App/Src/task.c ****         break;
 551              		.loc 1 168 13 view .LVU151
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 15


 168:App/Src/task.c ****         break;
 552              		.loc 1 168 21 is_stmt 0 view .LVU152
 553 0088 584A     		ldr	r2, .L42+12
 554 008a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 555 008c 0133     		adds	r3, r3, #1
 556 008e 1370     		strb	r3, [r2]
 169:App/Src/task.c ****         case 2:
 557              		.loc 1 169 9 is_stmt 1 view .LVU153
 558 0090 D6E7     		b	.L24
 559              	.L36:
 163:App/Src/task.c ****             }
 560              		.loc 1 163 17 view .LVU154
 163:App/Src/task.c ****             }
 561              		.loc 1 163 27 is_stmt 0 view .LVU155
 562 0092 0133     		adds	r3, r3, #1
 563 0094 564A     		ldr	r2, .L42+16
 564 0096 1370     		strb	r3, [r2]
 565 0098 E9E7     		b	.L37
 566              	.L32:
 171:App/Src/task.c **** 			spi_write_multi_bytes(0x57, &buf, 1);
 567              		.loc 1 171 4 is_stmt 1 view .LVU156
 171:App/Src/task.c **** 			spi_write_multi_bytes(0x57, &buf, 1);
 568              		.loc 1 171 8 is_stmt 0 view .LVU157
 569 009a 1023     		movs	r3, #16
 570 009c 8DF80F30 		strb	r3, [sp, #15]
 172:App/Src/task.c ****             testStep++;
 571              		.loc 1 172 4 is_stmt 1 view .LVU158
 572 00a0 0122     		movs	r2, #1
 573 00a2 0DF10F01 		add	r1, sp, #15
 574 00a6 5720     		movs	r0, #87
 575 00a8 FFF7FEFF 		bl	spi_write_multi_bytes
 576              	.LVL13:
 173:App/Src/task.c ****         break;
 577              		.loc 1 173 13 view .LVU159
 173:App/Src/task.c ****         break;
 578              		.loc 1 173 21 is_stmt 0 view .LVU160
 579 00ac 4F4A     		ldr	r2, .L42+12
 580 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 581 00b0 0133     		adds	r3, r3, #1
 582 00b2 1370     		strb	r3, [r2]
 174:App/Src/task.c ****         case 3:
 583              		.loc 1 174 9 is_stmt 1 view .LVU161
 584 00b4 C4E7     		b	.L24
 585              	.L31:
 176:App/Src/task.c **** 			spi_read_multi_bytes(0x56, &buf, 1);
 586              		.loc 1 176 4 view .LVU162
 176:App/Src/task.c **** 			spi_read_multi_bytes(0x56, &buf, 1);
 587              		.loc 1 176 8 is_stmt 0 view .LVU163
 588 00b6 0023     		movs	r3, #0
 589 00b8 8DF80F30 		strb	r3, [sp, #15]
 177:App/Src/task.c **** 			temp = buf;
 590              		.loc 1 177 4 is_stmt 1 view .LVU164
 591 00bc 0122     		movs	r2, #1
 592 00be 0DF10F01 		add	r1, sp, #15
 593 00c2 5620     		movs	r0, #86
 594 00c4 FFF7FEFF 		bl	spi_read_multi_bytes
 595              	.LVL14:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 16


 178:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 596              		.loc 1 178 4 view .LVU165
 178:App/Src/task.c **** 			UsbPrintf("chip%d temp:%.0f, system temp = %.1fC\n", testNumber, temp, temp_read_value(1));
 597              		.loc 1 178 9 is_stmt 0 view .LVU166
 598 00c8 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 599 00cc 08EE103A 		vmov	s16, r3	@ int
 600 00d0 B8EE488A 		vcvt.f32.u32	s16, s16
 601              	.LVL15:
 179:App/Src/task.c **** 			spi_write_multi_bytes(0x0B, config, 5);//开启输出
 602              		.loc 1 179 4 is_stmt 1 view .LVU167
 603 00d4 464B     		ldr	r3, .L42+16
 604 00d6 1F78     		ldrb	r7, [r3]	@ zero_extendqisi2
 179:App/Src/task.c **** 			spi_write_multi_bytes(0x0B, config, 5);//开启输出
 605              		.loc 1 179 75 is_stmt 0 view .LVU168
 606 00d8 0120     		movs	r0, #1
 607 00da FFF7FEFF 		bl	temp_read_value
 608              	.LVL16:
 609 00de 10EE106A 		vmov	r6, s0
 179:App/Src/task.c **** 			spi_write_multi_bytes(0x0B, config, 5);//开启输出
 610              		.loc 1 179 4 view .LVU169
 611 00e2 18EE100A 		vmov	r0, s16
 612 00e6 FFF7FEFF 		bl	__aeabi_f2d
 613              	.LVL17:
 614 00ea 0446     		mov	r4, r0
 615 00ec 0D46     		mov	r5, r1
 616 00ee 3046     		mov	r0, r6	@ float
 617 00f0 FFF7FEFF 		bl	__aeabi_f2d
 618              	.LVL18:
 619 00f4 CDE90001 		strd	r0, [sp]
 620 00f8 2246     		mov	r2, r4
 621 00fa 2B46     		mov	r3, r5
 622 00fc 3946     		mov	r1, r7
 623 00fe 4048     		ldr	r0, .L42+32
 624 0100 FFF7FEFF 		bl	UsbPrintf
 625              	.LVL19:
 180:App/Src/task.c ****             lastTick = HAL_GetTick();
 626              		.loc 1 180 4 is_stmt 1 view .LVU170
 627 0104 0522     		movs	r2, #5
 628 0106 02A9     		add	r1, sp, #8
 629 0108 0B20     		movs	r0, #11
 630 010a FFF7FEFF 		bl	spi_write_multi_bytes
 631              	.LVL20:
 181:App/Src/task.c ****             testStep++;
 632              		.loc 1 181 13 view .LVU171
 181:App/Src/task.c ****             testStep++;
 633              		.loc 1 181 24 is_stmt 0 view .LVU172
 634 010e FFF7FEFF 		bl	HAL_GetTick
 635              	.LVL21:
 181:App/Src/task.c ****             testStep++;
 636              		.loc 1 181 22 view .LVU173
 637 0112 3C4B     		ldr	r3, .L42+36
 638 0114 1860     		str	r0, [r3]
 182:App/Src/task.c ****         break;
 639              		.loc 1 182 13 is_stmt 1 view .LVU174
 182:App/Src/task.c ****         break;
 640              		.loc 1 182 21 is_stmt 0 view .LVU175
 641 0116 354A     		ldr	r2, .L42+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 17


 642 0118 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 643 011a 0133     		adds	r3, r3, #1
 644 011c 1370     		strb	r3, [r2]
 183:App/Src/task.c ****         case 4:
 645              		.loc 1 183 9 is_stmt 1 view .LVU176
 646 011e 8FE7     		b	.L24
 647              	.LVL22:
 648              	.L30:
 185:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 649              		.loc 1 185 13 view .LVU177
 185:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 650              		.loc 1 185 17 is_stmt 0 view .LVU178
 651 0120 FFF7FEFF 		bl	HAL_GetTick
 652              	.LVL23:
 185:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 653              		.loc 1 185 42 view .LVU179
 654 0124 374B     		ldr	r3, .L42+36
 655 0126 1B68     		ldr	r3, [r3]
 656 0128 03F5FA73 		add	r3, r3, #500
 185:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 657              		.loc 1 185 16 view .LVU180
 658 012c 9842     		cmp	r0, r3
 659 012e 87D9     		bls	.L24
 186:App/Src/task.c ****                 lastTick = HAL_GetTick();
 660              		.loc 1 186 8 is_stmt 1 view .LVU181
 661 0130 3548     		ldr	r0, .L42+40
 662 0132 FFF7FEFF 		bl	DevicePrintf
 663              	.LVL24:
 187:App/Src/task.c ****                 testStep++;
 664              		.loc 1 187 17 view .LVU182
 187:App/Src/task.c ****                 testStep++;
 665              		.loc 1 187 28 is_stmt 0 view .LVU183
 666 0136 FFF7FEFF 		bl	HAL_GetTick
 667              	.LVL25:
 187:App/Src/task.c ****                 testStep++;
 668              		.loc 1 187 26 view .LVU184
 669 013a 324B     		ldr	r3, .L42+36
 670 013c 1860     		str	r0, [r3]
 188:App/Src/task.c ****             }
 671              		.loc 1 188 17 is_stmt 1 view .LVU185
 188:App/Src/task.c ****             }
 672              		.loc 1 188 25 is_stmt 0 view .LVU186
 673 013e 2B4A     		ldr	r2, .L42+12
 674 0140 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 675 0142 0133     		adds	r3, r3, #1
 676 0144 1370     		strb	r3, [r2]
 677 0146 7BE7     		b	.L24
 678              	.L28:
 192:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 679              		.loc 1 192 13 is_stmt 1 view .LVU187
 192:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 680              		.loc 1 192 27 is_stmt 0 view .LVU188
 681 0148 304B     		ldr	r3, .L42+44
 682 014a 1A68     		ldr	r2, [r3]
 192:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 683              		.loc 1 192 39 view .LVU189
 684 014c 2D4B     		ldr	r3, .L42+36
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 18


 685 014e 1B68     		ldr	r3, [r3]
 192:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 686              		.loc 1 192 16 view .LVU190
 687 0150 9A42     		cmp	r2, r3
 688 0152 18D8     		bhi	.L41
 689              	.L38:
 199:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 690              		.loc 1 199 4 is_stmt 1 view .LVU191
 199:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 691              		.loc 1 199 8 is_stmt 0 view .LVU192
 692 0154 FFF7FEFF 		bl	HAL_GetTick
 693              	.LVL26:
 199:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 694              		.loc 1 199 34 view .LVU193
 695 0158 2A4B     		ldr	r3, .L42+36
 696 015a 1B68     		ldr	r3, [r3]
 697 015c 03F6B833 		addw	r3, r3, #3000
 199:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 698              		.loc 1 199 7 view .LVU194
 699 0160 9842     		cmp	r0, r3
 700 0162 FFF46DAF 		bcc	.L24
 200:App/Src/task.c ****                 buf = 0x00;
 701              		.loc 1 200 5 is_stmt 1 view .LVU195
 702 0166 2A48     		ldr	r0, .L42+48
 703 0168 FFF7FEFF 		bl	UsbPrintf
 704              	.LVL27:
 201:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 705              		.loc 1 201 17 view .LVU196
 201:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 706              		.loc 1 201 21 is_stmt 0 view .LVU197
 707 016c 0023     		movs	r3, #0
 708 016e 8DF80F30 		strb	r3, [sp, #15]
 202:App/Src/task.c ****                 testStep = 1;
 709              		.loc 1 202 17 is_stmt 1 view .LVU198
 710 0172 0122     		movs	r2, #1
 711 0174 0DF10F01 		add	r1, sp, #15
 712 0178 0F20     		movs	r0, #15
 713 017a FFF7FEFF 		bl	spi_write_multi_bytes
 714              	.LVL28:
 203:App/Src/task.c **** 			}
 715              		.loc 1 203 17 view .LVU199
 203:App/Src/task.c **** 			}
 716              		.loc 1 203 26 is_stmt 0 view .LVU200
 717 017e 1B4B     		ldr	r3, .L42+12
 718 0180 0122     		movs	r2, #1
 719 0182 1A70     		strb	r2, [r3]
 720 0184 5CE7     		b	.L24
 721              	.L41:
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 722              		.loc 1 193 17 is_stmt 1 view .LVU201
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 723              		.loc 1 193 34 is_stmt 0 view .LVU202
 724 0186 214B     		ldr	r3, .L42+44
 725 0188 5868     		ldr	r0, [r3, #4]	@ float
 726 018a FFF7FEFF 		bl	__aeabi_f2d
 727              	.LVL29:
 728 018e 0446     		mov	r4, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 19


 729 0190 0D46     		mov	r5, r1
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 730              		.loc 1 193 40 view .LVU203
 731 0192 0022     		movs	r2, #0
 732 0194 1F4B     		ldr	r3, .L42+52
 733 0196 FFF7FEFF 		bl	__aeabi_dmul
 734              	.LVL30:
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 735              		.loc 1 193 47 view .LVU204
 736 019a 0022     		movs	r2, #0
 737 019c 1E4B     		ldr	r3, .L42+56
 738 019e FFF7FEFF 		bl	__aeabi_dsub
 739              	.LVL31:
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 740              		.loc 1 193 54 view .LVU205
 741 01a2 0FA3     		adr	r3, .L42
 742 01a4 D3E90023 		ldrd	r2, [r3]
 743 01a8 FFF7FEFF 		bl	__aeabi_dmul
 744              	.LVL32:
 193:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 745              		.loc 1 193 21 view .LVU206
 746 01ac FFF7FEFF 		bl	__aeabi_d2f
 747              	.LVL33:
 194:App/Src/task.c ****                 buf = 0x00;
 748              		.loc 1 194 17 is_stmt 1 view .LVU207
 749 01b0 FFF7FEFF 		bl	__aeabi_f2d
 750              	.LVL34:
 194:App/Src/task.c ****                 buf = 0x00;
 751              		.loc 1 194 17 is_stmt 0 view .LVU208
 752 01b4 CDE90001 		strd	r0, [sp]
 753 01b8 2246     		mov	r2, r4
 754 01ba 2B46     		mov	r3, r5
 755 01bc 1748     		ldr	r0, .L42+60
 756 01be FFF7FEFF 		bl	UsbPrintf
 757              	.LVL35:
 195:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 758              		.loc 1 195 17 is_stmt 1 view .LVU209
 195:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, &buf, 1);
 759              		.loc 1 195 21 is_stmt 0 view .LVU210
 760 01c2 0023     		movs	r3, #0
 761 01c4 8DF80F30 		strb	r3, [sp, #15]
 196:App/Src/task.c ****                 testStep = 1;
 762              		.loc 1 196 17 is_stmt 1 view .LVU211
 763 01c8 0122     		movs	r2, #1
 764 01ca 0DF10F01 		add	r1, sp, #15
 765 01ce 0F20     		movs	r0, #15
 766 01d0 FFF7FEFF 		bl	spi_write_multi_bytes
 767              	.LVL36:
 197:App/Src/task.c ****             }
 768              		.loc 1 197 17 view .LVU212
 197:App/Src/task.c ****             }
 769              		.loc 1 197 26 is_stmt 0 view .LVU213
 770 01d4 054B     		ldr	r3, .L42+12
 771 01d6 0122     		movs	r2, #1
 772 01d8 1A70     		strb	r2, [r3]
 773 01da BBE7     		b	.L38
 774              	.L43:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 20


 775 01dc AFF30080 		.align	3
 776              	.L42:
 777 01e0 00000000 		.word	0
 778 01e4 80842E41 		.word	1093567616
 779 01e8 00000000 		.word	.LANCHOR3
 780 01ec 00000000 		.word	.LANCHOR4
 781 01f0 00000000 		.word	.LANCHOR5
 782 01f4 00000000 		.word	.LANCHOR6
 783 01f8 00000000 		.word	.LANCHOR7
 784 01fc 00000000 		.word	.LC3
 785 0200 14000000 		.word	.LC4
 786 0204 00000000 		.word	.LANCHOR8
 787 0208 3C000000 		.word	.LC5
 788 020c 00000000 		.word	.LANCHOR9
 789 0210 58000000 		.word	.LC7
 790 0214 0000903F 		.word	1066401792
 791 0218 0000F03F 		.word	1072693248
 792 021c 44000000 		.word	.LC6
 793              		.cfi_endproc
 794              	.LFE241:
 796              		.section	.text.set_int_test,"ax",%progbits
 797              		.align	1
 798              		.global	set_int_test
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
 803              	set_int_test:
 804              	.LVL37:
 805              	.LFB240:
 121:App/Src/task.c ****     if (state == 0) {
 806              		.loc 1 121 1 is_stmt 1 view -0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 121:App/Src/task.c ****     if (state == 0) {
 810              		.loc 1 121 1 is_stmt 0 view .LVU215
 811 0000 08B5     		push	{r3, lr}
 812              	.LCFI11:
 813              		.cfi_def_cfa_offset 8
 814              		.cfi_offset 3, -8
 815              		.cfi_offset 14, -4
 122:App/Src/task.c ****         g_intState = 0;
 816              		.loc 1 122 5 is_stmt 1 view .LVU216
 122:App/Src/task.c ****         g_intState = 0;
 817              		.loc 1 122 8 is_stmt 0 view .LVU217
 818 0002 10B1     		cbz	r0, .L48
 128:App/Src/task.c ****             g_intState = 1;
 819              		.loc 1 128 9 is_stmt 1 view .LVU218
 128:App/Src/task.c ****             g_intState = 1;
 820              		.loc 1 128 12 is_stmt 0 view .LVU219
 821 0004 9142     		cmp	r1, r2
 822 0006 09D9     		bls	.L49
 823              	.LVL38:
 824              	.L44:
 135:App/Src/task.c **** 
 825              		.loc 1 135 1 view .LVU220
 826 0008 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 21


 827              	.LVL39:
 828              	.L48:
 123:App/Src/task.c ****         g_intStart = 0;
 829              		.loc 1 123 9 is_stmt 1 view .LVU221
 123:App/Src/task.c ****         g_intStart = 0;
 830              		.loc 1 123 20 is_stmt 0 view .LVU222
 831 000a 0A4B     		ldr	r3, .L50
 832 000c 1870     		strb	r0, [r3]
 124:App/Src/task.c ****         g_intEnd = 0;
 833              		.loc 1 124 9 is_stmt 1 view .LVU223
 124:App/Src/task.c ****         g_intEnd = 0;
 834              		.loc 1 124 20 is_stmt 0 view .LVU224
 835 000e 0A4B     		ldr	r3, .L50+4
 836 0010 1870     		strb	r0, [r3]
 125:App/Src/task.c ****         command_int_test(0);
 837              		.loc 1 125 9 is_stmt 1 view .LVU225
 125:App/Src/task.c ****         command_int_test(0);
 838              		.loc 1 125 18 is_stmt 0 view .LVU226
 839 0012 0A4B     		ldr	r3, .L50+8
 840 0014 1870     		strb	r0, [r3]
 126:App/Src/task.c ****     } else {
 841              		.loc 1 126 9 is_stmt 1 view .LVU227
 842 0016 FFF7FEFF 		bl	command_int_test
 843              	.LVL40:
 126:App/Src/task.c ****     } else {
 844              		.loc 1 126 9 is_stmt 0 view .LVU228
 845 001a F5E7     		b	.L44
 846              	.LVL41:
 847              	.L49:
 129:App/Src/task.c ****             g_intStart = start;
 848              		.loc 1 129 13 is_stmt 1 view .LVU229
 129:App/Src/task.c ****             g_intStart = start;
 849              		.loc 1 129 24 is_stmt 0 view .LVU230
 850 001c 054B     		ldr	r3, .L50
 851 001e 0120     		movs	r0, #1
 852              	.LVL42:
 129:App/Src/task.c ****             g_intStart = start;
 853              		.loc 1 129 24 view .LVU231
 854 0020 1870     		strb	r0, [r3]
 130:App/Src/task.c ****             g_intEnd = end;
 855              		.loc 1 130 13 is_stmt 1 view .LVU232
 130:App/Src/task.c ****             g_intEnd = end;
 856              		.loc 1 130 24 is_stmt 0 view .LVU233
 857 0022 054B     		ldr	r3, .L50+4
 858 0024 1970     		strb	r1, [r3]
 131:App/Src/task.c ****             command_int_test(0);
 859              		.loc 1 131 13 is_stmt 1 view .LVU234
 131:App/Src/task.c ****             command_int_test(0);
 860              		.loc 1 131 22 is_stmt 0 view .LVU235
 861 0026 054B     		ldr	r3, .L50+8
 862 0028 1A70     		strb	r2, [r3]
 132:App/Src/task.c ****         }
 863              		.loc 1 132 13 is_stmt 1 view .LVU236
 864 002a 0020     		movs	r0, #0
 865 002c FFF7FEFF 		bl	command_int_test
 866              	.LVL43:
 135:App/Src/task.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 22


 867              		.loc 1 135 1 is_stmt 0 view .LVU237
 868 0030 EAE7     		b	.L44
 869              	.L51:
 870 0032 00BF     		.align	2
 871              	.L50:
 872 0034 00000000 		.word	.LANCHOR10
 873 0038 00000000 		.word	.LANCHOR6
 874 003c 00000000 		.word	.LANCHOR7
 875              		.cfi_endproc
 876              	.LFE240:
 878              		.section	.rodata.command_cap_list_test.str1.4,"aMS",%progbits,1
 879              		.align	2
 880              	.LC8:
 881 0000 61646A75 		.ascii	"adjust error\012\000"
 881      73742065 
 881      72726F72 
 881      0A00
 882 000e 0000     		.align	2
 883              	.LC9:
 884 0010 6361705B 		.ascii	"cap[0x%02x,0x%02x] adjust ok\012\000"
 884      30782530 
 884      32782C30 
 884      78253032 
 884      785D2061 
 885              		.section	.text.command_cap_list_test,"ax",%progbits
 886              		.align	1
 887              		.global	command_cap_list_test
 888              		.syntax unified
 889              		.thumb
 890              		.thumb_func
 892              	command_cap_list_test:
 893              	.LVL44:
 894              	.LFB242:
 209:App/Src/task.c **** 
 210:App/Src/task.c **** void command_cap_list_test(uint8_t init, int startNumber)
 211:App/Src/task.c **** {
 895              		.loc 1 211 1 is_stmt 1 view -0
 896              		.cfi_startproc
 897              		@ args = 0, pretend = 0, frame = 8
 898              		@ frame_needed = 0, uses_anonymous_args = 0
 212:App/Src/task.c **** 	uint8_t osc_buf[2];
 899              		.loc 1 212 2 view .LVU239
 213:App/Src/task.c **** 	uint8_t mode  = 3;
 900              		.loc 1 213 2 view .LVU240
 214:App/Src/task.c ****     static uint8_t testStep = 0;
 901              		.loc 1 214 5 view .LVU241
 215:App/Src/task.c **** 	static uint8_t num = 0;
 902              		.loc 1 215 2 view .LVU242
 216:App/Src/task.c ****     float ppm;
 903              		.loc 1 216 5 view .LVU243
 217:App/Src/task.c ****     static float lastPPM = 0;
 904              		.loc 1 217 5 view .LVU244
 218:App/Src/task.c ****     static uint32_t lastTick ;
 905              		.loc 1 218 5 view .LVU245
 219:App/Src/task.c ****     static int capNumber = 0;
 906              		.loc 1 219 5 view .LVU246
 220:App/Src/task.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 23


 221:App/Src/task.c ****     if (init == 1) {
 907              		.loc 1 221 5 view .LVU247
 908              		.loc 1 221 8 is_stmt 0 view .LVU248
 909 0000 0128     		cmp	r0, #1
 910 0002 0CD0     		beq	.L77
 222:App/Src/task.c ****         g_intState = 1;
 223:App/Src/task.c ****         testStep = 0;
 224:App/Src/task.c ****         capNumber = startNumber - 1;
 225:App/Src/task.c ****         return;
 226:App/Src/task.c ****     } else if (init == 0) {
 911              		.loc 1 226 12 is_stmt 1 view .LVU249
 912              		.loc 1 226 15 is_stmt 0 view .LVU250
 913 0004 A8B1     		cbz	r0, .L78
 211:App/Src/task.c **** 	uint8_t osc_buf[2];
 914              		.loc 1 211 1 view .LVU251
 915 0006 30B5     		push	{r4, r5, lr}
 916              	.LCFI12:
 917              		.cfi_def_cfa_offset 12
 918              		.cfi_offset 4, -12
 919              		.cfi_offset 5, -8
 920              		.cfi_offset 14, -4
 921 0008 2DED028B 		vpush.64	{d8}
 922              	.LCFI13:
 923              		.cfi_def_cfa_offset 20
 924              		.cfi_offset 80, -20
 925              		.cfi_offset 81, -16
 926 000c 85B0     		sub	sp, sp, #20
 927              	.LCFI14:
 928              		.cfi_def_cfa_offset 40
 227:App/Src/task.c ****         g_intState = 0;
 228:App/Src/task.c ****         return;
 229:App/Src/task.c ****     }
 230:App/Src/task.c **** 
 231:App/Src/task.c ****     switch (testStep) {
 929              		.loc 1 231 5 is_stmt 1 view .LVU252
 930 000e 724B     		ldr	r3, .L82+8
 931 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 932 0012 032B     		cmp	r3, #3
 933 0014 17D8     		bhi	.L52
 934 0016 DFE803F0 		tbb	[pc, r3]
 935              	.L58:
 936 001a 10       		.byte	(.L61-.L58)/2
 937 001b 1A       		.byte	(.L60-.L58)/2
 938 001c 56       		.byte	(.L59-.L58)/2
 939 001d 6A       		.byte	(.L57-.L58)/2
 940              		.p2align 1
 941              	.L77:
 942              	.LCFI15:
 943              		.cfi_def_cfa_offset 0
 944              		.cfi_restore 4
 945              		.cfi_restore 5
 946              		.cfi_restore 14
 947              		.cfi_restore 80
 948              		.cfi_restore 81
 222:App/Src/task.c ****         testStep = 0;
 949              		.loc 1 222 9 view .LVU253
 222:App/Src/task.c ****         testStep = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 24


 950              		.loc 1 222 20 is_stmt 0 view .LVU254
 951 001e 6F4B     		ldr	r3, .L82+12
 952 0020 0122     		movs	r2, #1
 953 0022 1A70     		strb	r2, [r3]
 223:App/Src/task.c ****         capNumber = startNumber - 1;
 954              		.loc 1 223 9 is_stmt 1 view .LVU255
 223:App/Src/task.c ****         capNumber = startNumber - 1;
 955              		.loc 1 223 18 is_stmt 0 view .LVU256
 956 0024 6C4B     		ldr	r3, .L82+8
 957 0026 0022     		movs	r2, #0
 958 0028 1A70     		strb	r2, [r3]
 224:App/Src/task.c ****         return;
 959              		.loc 1 224 9 is_stmt 1 view .LVU257
 224:App/Src/task.c ****         return;
 960              		.loc 1 224 33 is_stmt 0 view .LVU258
 961 002a 0139     		subs	r1, r1, #1
 962              	.LVL45:
 224:App/Src/task.c ****         return;
 963              		.loc 1 224 19 view .LVU259
 964 002c 6C4B     		ldr	r3, .L82+16
 965 002e 1960     		str	r1, [r3]
 225:App/Src/task.c ****     } else if (init == 0) {
 966              		.loc 1 225 9 is_stmt 1 view .LVU260
 967 0030 7047     		bx	lr
 968              	.LVL46:
 969              	.L78:
 227:App/Src/task.c ****         return;
 970              		.loc 1 227 9 view .LVU261
 227:App/Src/task.c ****         return;
 971              		.loc 1 227 20 is_stmt 0 view .LVU262
 972 0032 6A4B     		ldr	r3, .L82+12
 973 0034 0022     		movs	r2, #0
 974 0036 1A70     		strb	r2, [r3]
 228:App/Src/task.c ****     }
 975              		.loc 1 228 9 is_stmt 1 view .LVU263
 976 0038 7047     		bx	lr
 977              	.L61:
 978              	.LCFI16:
 979              		.cfi_def_cfa_offset 40
 980              		.cfi_offset 4, -12
 981              		.cfi_offset 5, -8
 982              		.cfi_offset 14, -4
 983              		.cfi_offset 80, -20
 984              		.cfi_offset 81, -16
 232:App/Src/task.c ****         case 0:
 233:App/Src/task.c ****             num = 0;
 985              		.loc 1 233 13 view .LVU264
 986              		.loc 1 233 17 is_stmt 0 view .LVU265
 987 003a 6A4A     		ldr	r2, .L82+20
 988 003c 0021     		movs	r1, #0
 989              	.LVL47:
 990              		.loc 1 233 17 view .LVU266
 991 003e 1170     		strb	r1, [r2]
 234:App/Src/task.c ****             testStep++;
 992              		.loc 1 234 13 is_stmt 1 view .LVU267
 993              		.loc 1 234 21 is_stmt 0 view .LVU268
 994 0040 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 25


 995 0042 654A     		ldr	r2, .L82+8
 996 0044 1370     		strb	r3, [r2]
 235:App/Src/task.c ****         break;
 997              		.loc 1 235 9 is_stmt 1 view .LVU269
 998              	.LVL48:
 999              	.L52:
 236:App/Src/task.c ****         case 1:
 237:App/Src/task.c ****             capNumber++;
 238:App/Src/task.c ****             if (capNumber >= 2048) {
 239:App/Src/task.c ****                 g_intState = 0;
 240:App/Src/task.c ****                 testStep = 0;
 241:App/Src/task.c ****                 break;
 242:App/Src/task.c ****             }
 243:App/Src/task.c ****             osc_buf[1] = (mode << 3) | (capNumber / 256);
 244:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 245:App/Src/task.c ****             if (rtc_set_testcap(osc_buf) != I2C_OK) { //写ram22、ram23 
 246:App/Src/task.c ****                 UsbPrintf("adjust error\n");
 247:App/Src/task.c ****                 g_intState = 0;
 248:App/Src/task.c ****                 testStep = 0;
 249:App/Src/task.c ****                 return;
 250:App/Src/task.c ****             }	
 251:App/Src/task.c ****             UsbPrintf("cap[0x%02x,0x%02x] adjust ok\n", osc_buf[1], osc_buf[0]);
 252:App/Src/task.c ****             lastTick = HAL_GetTick();
 253:App/Src/task.c ****             testStep++;
 254:App/Src/task.c ****         break;
 255:App/Src/task.c ****         case 2:
 256:App/Src/task.c ****             if (HAL_GetTick() > lastTick + 500) {
 257:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 258:App/Src/task.c ****                 lastTick = HAL_GetTick();
 259:App/Src/task.c ****                 testStep++;
 260:App/Src/task.c ****             }
 261:App/Src/task.c ****         break;
 262:App/Src/task.c ****         case 3:
 263:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTick) {
 264:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 265:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 266:App/Src/task.c ****                 if (capNumber == 0) {
 267:App/Src/task.c ****                     lastPPM = ppm;
 268:App/Src/task.c ****                 } else {
 269:App/Src/task.c ****                     if ((lastPPM + 30) < ppm || (lastPPM - 30) > ppm) {
 270:App/Src/task.c ****                         lastPPM = ppm;
 271:App/Src/task.c ****                         capNumber--;
 272:App/Src/task.c ****                         testStep = 1;
 273:App/Src/task.c ****                         break;
 274:App/Src/task.c ****                     }
 275:App/Src/task.c ****                     lastPPM = ppm;
 276:App/Src/task.c ****                 }
 277:App/Src/task.c ****                 testStep = 1;
 278:App/Src/task.c ****             }
 279:App/Src/task.c **** 			if (HAL_GetTick() >= lastTick + 3000) {
 280:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 281:App/Src/task.c ****                 num++;
 282:App/Src/task.c ****                 if (num >= 3) {
 283:App/Src/task.c ****                     g_intState = 0;
 284:App/Src/task.c ****                     testStep = 0;
 285:App/Src/task.c ****                     return;
 286:App/Src/task.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 26


 287:App/Src/task.c ****                 testStep = 2;
 288:App/Src/task.c **** 			}
 289:App/Src/task.c ****         break;
 290:App/Src/task.c ****         default:break;
 291:App/Src/task.c ****     }
 292:App/Src/task.c **** }
 1000              		.loc 1 292 1 is_stmt 0 view .LVU270
 1001 0046 05B0     		add	sp, sp, #20
 1002              	.LCFI17:
 1003              		.cfi_remember_state
 1004              		.cfi_def_cfa_offset 20
 1005              		@ sp needed
 1006 0048 BDEC028B 		vldm	sp!, {d8}
 1007              	.LCFI18:
 1008              		.cfi_restore 80
 1009              		.cfi_restore 81
 1010              		.cfi_def_cfa_offset 12
 1011 004c 30BD     		pop	{r4, r5, pc}
 1012              	.LVL49:
 1013              	.L60:
 1014              	.LCFI19:
 1015              		.cfi_restore_state
 237:App/Src/task.c ****             if (capNumber >= 2048) {
 1016              		.loc 1 237 13 is_stmt 1 view .LVU271
 237:App/Src/task.c ****             if (capNumber >= 2048) {
 1017              		.loc 1 237 22 is_stmt 0 view .LVU272
 1018 004e 644A     		ldr	r2, .L82+16
 1019 0050 1368     		ldr	r3, [r2]
 1020 0052 0133     		adds	r3, r3, #1
 1021 0054 1360     		str	r3, [r2]
 238:App/Src/task.c ****                 g_intState = 0;
 1022              		.loc 1 238 13 is_stmt 1 view .LVU273
 238:App/Src/task.c ****                 g_intState = 0;
 1023              		.loc 1 238 16 is_stmt 0 view .LVU274
 1024 0056 B3F5006F 		cmp	r3, #2048
 1025 005a 05DB     		blt	.L62
 239:App/Src/task.c ****                 testStep = 0;
 1026              		.loc 1 239 17 is_stmt 1 view .LVU275
 239:App/Src/task.c ****                 testStep = 0;
 1027              		.loc 1 239 28 is_stmt 0 view .LVU276
 1028 005c 0023     		movs	r3, #0
 1029 005e 5F4A     		ldr	r2, .L82+12
 1030 0060 1370     		strb	r3, [r2]
 240:App/Src/task.c ****                 break;
 1031              		.loc 1 240 17 is_stmt 1 view .LVU277
 240:App/Src/task.c ****                 break;
 1032              		.loc 1 240 26 is_stmt 0 view .LVU278
 1033 0062 5D4A     		ldr	r2, .L82+8
 1034 0064 1370     		strb	r3, [r2]
 241:App/Src/task.c ****             }
 1035              		.loc 1 241 17 is_stmt 1 view .LVU279
 1036 0066 EEE7     		b	.L52
 1037              	.L62:
 243:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 1038              		.loc 1 243 13 view .LVU280
 243:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 1039              		.loc 1 243 51 is_stmt 0 view .LVU281
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 27


 1040 0068 1A46     		mov	r2, r3
 1041 006a 002B     		cmp	r3, #0
 1042 006c 1FDB     		blt	.L79
 1043              	.L63:
 1044 006e 1212     		asrs	r2, r2, #8
 243:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 1045              		.loc 1 243 38 view .LVU282
 1046 0070 42F01802 		orr	r2, r2, #24
 243:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 1047              		.loc 1 243 24 view .LVU283
 1048 0074 8DF80D20 		strb	r2, [sp, #13]
 244:App/Src/task.c ****             if (rtc_set_testcap(osc_buf) != I2C_OK) { //写ram22、ram23 
 1049              		.loc 1 244 13 is_stmt 1 view .LVU284
 244:App/Src/task.c ****             if (rtc_set_testcap(osc_buf) != I2C_OK) { //写ram22、ram23 
 1050              		.loc 1 244 36 is_stmt 0 view .LVU285
 1051 0078 5A42     		rsbs	r2, r3, #0
 1052 007a DBB2     		uxtb	r3, r3
 1053 007c D2B2     		uxtb	r2, r2
 1054 007e 58BF     		it	pl
 1055 0080 5342     		rsbpl	r3, r2, #0
 244:App/Src/task.c ****             if (rtc_set_testcap(osc_buf) != I2C_OK) { //写ram22、ram23 
 1056              		.loc 1 244 24 view .LVU286
 1057 0082 8DF80C30 		strb	r3, [sp, #12]
 245:App/Src/task.c ****                 UsbPrintf("adjust error\n");
 1058              		.loc 1 245 13 is_stmt 1 view .LVU287
 245:App/Src/task.c ****                 UsbPrintf("adjust error\n");
 1059              		.loc 1 245 17 is_stmt 0 view .LVU288
 1060 0086 03A8     		add	r0, sp, #12
 1061              	.LVL50:
 245:App/Src/task.c ****                 UsbPrintf("adjust error\n");
 1062              		.loc 1 245 17 view .LVU289
 1063 0088 FFF7FEFF 		bl	rtc_set_testcap
 1064              	.LVL51:
 245:App/Src/task.c ****                 UsbPrintf("adjust error\n");
 1065              		.loc 1 245 16 view .LVU290
 1066 008c 90B9     		cbnz	r0, .L80
 251:App/Src/task.c ****             lastTick = HAL_GetTick();
 1067              		.loc 1 251 13 is_stmt 1 view .LVU291
 1068 008e 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 1069 0092 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 1070 0096 5448     		ldr	r0, .L82+24
 1071 0098 FFF7FEFF 		bl	UsbPrintf
 1072              	.LVL52:
 252:App/Src/task.c ****             testStep++;
 1073              		.loc 1 252 13 view .LVU292
 252:App/Src/task.c ****             testStep++;
 1074              		.loc 1 252 24 is_stmt 0 view .LVU293
 1075 009c FFF7FEFF 		bl	HAL_GetTick
 1076              	.LVL53:
 252:App/Src/task.c ****             testStep++;
 1077              		.loc 1 252 22 view .LVU294
 1078 00a0 524B     		ldr	r3, .L82+28
 1079 00a2 1860     		str	r0, [r3]
 253:App/Src/task.c ****         break;
 1080              		.loc 1 253 13 is_stmt 1 view .LVU295
 253:App/Src/task.c ****         break;
 1081              		.loc 1 253 21 is_stmt 0 view .LVU296
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 28


 1082 00a4 4C4A     		ldr	r2, .L82+8
 1083 00a6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1084 00a8 0133     		adds	r3, r3, #1
 1085 00aa 1370     		strb	r3, [r2]
 254:App/Src/task.c ****         case 2:
 1086              		.loc 1 254 9 is_stmt 1 view .LVU297
 1087 00ac CBE7     		b	.L52
 1088              	.LVL54:
 1089              	.L79:
 243:App/Src/task.c ****             osc_buf[0] = capNumber % 256;
 1090              		.loc 1 243 51 is_stmt 0 view .LVU298
 1091 00ae 03F1FF02 		add	r2, r3, #255
 1092 00b2 DCE7     		b	.L63
 1093              	.LVL55:
 1094              	.L80:
 246:App/Src/task.c ****                 g_intState = 0;
 1095              		.loc 1 246 17 is_stmt 1 view .LVU299
 1096 00b4 4E48     		ldr	r0, .L82+32
 1097 00b6 FFF7FEFF 		bl	UsbPrintf
 1098              	.LVL56:
 247:App/Src/task.c ****                 testStep = 0;
 1099              		.loc 1 247 17 view .LVU300
 247:App/Src/task.c ****                 testStep = 0;
 1100              		.loc 1 247 28 is_stmt 0 view .LVU301
 1101 00ba 0023     		movs	r3, #0
 1102 00bc 474A     		ldr	r2, .L82+12
 1103 00be 1370     		strb	r3, [r2]
 248:App/Src/task.c ****                 return;
 1104              		.loc 1 248 17 is_stmt 1 view .LVU302
 248:App/Src/task.c ****                 return;
 1105              		.loc 1 248 26 is_stmt 0 view .LVU303
 1106 00c0 454A     		ldr	r2, .L82+8
 1107 00c2 1370     		strb	r3, [r2]
 249:App/Src/task.c ****             }	
 1108              		.loc 1 249 17 is_stmt 1 view .LVU304
 1109 00c4 BFE7     		b	.L52
 1110              	.LVL57:
 1111              	.L59:
 256:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 1112              		.loc 1 256 13 view .LVU305
 256:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 1113              		.loc 1 256 17 is_stmt 0 view .LVU306
 1114 00c6 FFF7FEFF 		bl	HAL_GetTick
 1115              	.LVL58:
 256:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 1116              		.loc 1 256 42 view .LVU307
 1117 00ca 484B     		ldr	r3, .L82+28
 1118 00cc 1B68     		ldr	r3, [r3]
 1119 00ce 03F5FA73 		add	r3, r3, #500
 256:App/Src/task.c **** 			    DevicePrintf(":MEAS?\n");
 1120              		.loc 1 256 16 view .LVU308
 1121 00d2 9842     		cmp	r0, r3
 1122 00d4 B7D9     		bls	.L52
 257:App/Src/task.c ****                 lastTick = HAL_GetTick();
 1123              		.loc 1 257 8 is_stmt 1 view .LVU309
 1124 00d6 4748     		ldr	r0, .L82+36
 1125 00d8 FFF7FEFF 		bl	DevicePrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 29


 1126              	.LVL59:
 258:App/Src/task.c ****                 testStep++;
 1127              		.loc 1 258 17 view .LVU310
 258:App/Src/task.c ****                 testStep++;
 1128              		.loc 1 258 28 is_stmt 0 view .LVU311
 1129 00dc FFF7FEFF 		bl	HAL_GetTick
 1130              	.LVL60:
 258:App/Src/task.c ****                 testStep++;
 1131              		.loc 1 258 26 view .LVU312
 1132 00e0 424B     		ldr	r3, .L82+28
 1133 00e2 1860     		str	r0, [r3]
 259:App/Src/task.c ****             }
 1134              		.loc 1 259 17 is_stmt 1 view .LVU313
 259:App/Src/task.c ****             }
 1135              		.loc 1 259 25 is_stmt 0 view .LVU314
 1136 00e4 3C4A     		ldr	r2, .L82+8
 1137 00e6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1138 00e8 0133     		adds	r3, r3, #1
 1139 00ea 1370     		strb	r3, [r2]
 1140 00ec ABE7     		b	.L52
 1141              	.LVL61:
 1142              	.L57:
 263:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 1143              		.loc 1 263 13 is_stmt 1 view .LVU315
 263:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 1144              		.loc 1 263 27 is_stmt 0 view .LVU316
 1145 00ee 424B     		ldr	r3, .L82+40
 1146 00f0 1A68     		ldr	r2, [r3]
 263:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 1147              		.loc 1 263 39 view .LVU317
 1148 00f2 3E4B     		ldr	r3, .L82+28
 1149 00f4 1B68     		ldr	r3, [r3]
 263:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 64.0 - 1.0) * 1000000;
 1150              		.loc 1 263 16 view .LVU318
 1151 00f6 9A42     		cmp	r2, r3
 1152 00f8 28D9     		bls	.L65
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1153              		.loc 1 264 17 is_stmt 1 view .LVU319
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1154              		.loc 1 264 34 is_stmt 0 view .LVU320
 1155 00fa 3F4B     		ldr	r3, .L82+40
 1156 00fc 5868     		ldr	r0, [r3, #4]	@ float
 1157              	.LVL62:
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1158              		.loc 1 264 34 view .LVU321
 1159 00fe FFF7FEFF 		bl	__aeabi_f2d
 1160              	.LVL63:
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1161              		.loc 1 264 34 view .LVU322
 1162 0102 0446     		mov	r4, r0
 1163 0104 0D46     		mov	r5, r1
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1164              		.loc 1 264 40 view .LVU323
 1165 0106 0022     		movs	r2, #0
 1166 0108 3C4B     		ldr	r3, .L82+44
 1167 010a FFF7FEFF 		bl	__aeabi_dmul
 1168              	.LVL64:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 30


 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1169              		.loc 1 264 47 view .LVU324
 1170 010e 0022     		movs	r2, #0
 1171 0110 3B4B     		ldr	r3, .L82+48
 1172 0112 FFF7FEFF 		bl	__aeabi_dsub
 1173              	.LVL65:
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1174              		.loc 1 264 54 view .LVU325
 1175 0116 2EA3     		adr	r3, .L82
 1176 0118 D3E90023 		ldrd	r2, [r3]
 1177 011c FFF7FEFF 		bl	__aeabi_dmul
 1178              	.LVL66:
 264:App/Src/task.c ****                 UsbPrintf("freq:%fHz,ppm:%.2f\n", g_lastFreq.freq , ppm);
 1179              		.loc 1 264 21 view .LVU326
 1180 0120 FFF7FEFF 		bl	__aeabi_d2f
 1181              	.LVL67:
 1182 0124 08EE100A 		vmov	s16, r0
 1183              	.LVL68:
 265:App/Src/task.c ****                 if (capNumber == 0) {
 1184              		.loc 1 265 17 is_stmt 1 view .LVU327
 1185 0128 FFF7FEFF 		bl	__aeabi_f2d
 1186              	.LVL69:
 265:App/Src/task.c ****                 if (capNumber == 0) {
 1187              		.loc 1 265 17 is_stmt 0 view .LVU328
 1188 012c CDE90001 		strd	r0, [sp]
 1189 0130 2246     		mov	r2, r4
 1190 0132 2B46     		mov	r3, r5
 1191 0134 3348     		ldr	r0, .L82+52
 1192 0136 FFF7FEFF 		bl	UsbPrintf
 1193              	.LVL70:
 266:App/Src/task.c ****                     lastPPM = ppm;
 1194              		.loc 1 266 17 is_stmt 1 view .LVU329
 266:App/Src/task.c ****                     lastPPM = ppm;
 1195              		.loc 1 266 31 is_stmt 0 view .LVU330
 1196 013a 294B     		ldr	r3, .L82+16
 1197 013c 1B68     		ldr	r3, [r3]
 266:App/Src/task.c ****                     lastPPM = ppm;
 1198              		.loc 1 266 20 view .LVU331
 1199 013e E3B9     		cbnz	r3, .L66
 267:App/Src/task.c ****                 } else {
 1200              		.loc 1 267 21 is_stmt 1 view .LVU332
 267:App/Src/task.c ****                 } else {
 1201              		.loc 1 267 29 is_stmt 0 view .LVU333
 1202 0140 314B     		ldr	r3, .L82+56
 1203 0142 83ED008A 		vstr.32	s16, [r3]
 1204              	.L67:
 277:App/Src/task.c ****             }
 1205              		.loc 1 277 17 is_stmt 1 view .LVU334
 277:App/Src/task.c ****             }
 1206              		.loc 1 277 26 is_stmt 0 view .LVU335
 1207 0146 244B     		ldr	r3, .L82+8
 1208 0148 0122     		movs	r2, #1
 1209 014a 1A70     		strb	r2, [r3]
 1210              	.LVL71:
 1211              	.L65:
 279:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 1212              		.loc 1 279 4 is_stmt 1 view .LVU336
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 31


 279:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 1213              		.loc 1 279 8 is_stmt 0 view .LVU337
 1214 014c FFF7FEFF 		bl	HAL_GetTick
 1215              	.LVL72:
 279:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 1216              		.loc 1 279 34 view .LVU338
 1217 0150 264B     		ldr	r3, .L82+28
 1218 0152 1B68     		ldr	r3, [r3]
 1219 0154 03F6B833 		addw	r3, r3, #3000
 279:App/Src/task.c **** 				UsbPrintf("device no respose!\n");
 1220              		.loc 1 279 7 view .LVU339
 1221 0158 9842     		cmp	r0, r3
 1222 015a FFF474AF 		bcc	.L52
 280:App/Src/task.c ****                 num++;
 1223              		.loc 1 280 5 is_stmt 1 view .LVU340
 1224 015e 2B48     		ldr	r0, .L82+60
 1225 0160 FFF7FEFF 		bl	UsbPrintf
 1226              	.LVL73:
 281:App/Src/task.c ****                 if (num >= 3) {
 1227              		.loc 1 281 17 view .LVU341
 281:App/Src/task.c ****                 if (num >= 3) {
 1228              		.loc 1 281 20 is_stmt 0 view .LVU342
 1229 0164 1F4A     		ldr	r2, .L82+20
 1230 0166 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1231 0168 0133     		adds	r3, r3, #1
 1232 016a DBB2     		uxtb	r3, r3
 1233 016c 1370     		strb	r3, [r2]
 282:App/Src/task.c ****                     g_intState = 0;
 1234              		.loc 1 282 17 is_stmt 1 view .LVU343
 282:App/Src/task.c ****                     g_intState = 0;
 1235              		.loc 1 282 20 is_stmt 0 view .LVU344
 1236 016e 022B     		cmp	r3, #2
 1237 0170 26D8     		bhi	.L81
 287:App/Src/task.c **** 			}
 1238              		.loc 1 287 17 is_stmt 1 view .LVU345
 287:App/Src/task.c **** 			}
 1239              		.loc 1 287 26 is_stmt 0 view .LVU346
 1240 0172 194B     		ldr	r3, .L82+8
 1241 0174 0222     		movs	r2, #2
 1242 0176 1A70     		strb	r2, [r3]
 1243 0178 65E7     		b	.L52
 1244              	.LVL74:
 1245              	.L66:
 269:App/Src/task.c ****                         lastPPM = ppm;
 1246              		.loc 1 269 21 is_stmt 1 view .LVU347
 269:App/Src/task.c ****                         lastPPM = ppm;
 1247              		.loc 1 269 34 is_stmt 0 view .LVU348
 1248 017a 234A     		ldr	r2, .L82+56
 1249 017c 92ED007A 		vldr.32	s14, [r2]
 1250 0180 F3EE0E7A 		vmov.f32	s15, #3.0e+1
 1251 0184 77EE277A 		vadd.f32	s15, s14, s15
 269:App/Src/task.c ****                         lastPPM = ppm;
 1252              		.loc 1 269 24 view .LVU349
 1253 0188 F4EEC87A 		vcmpe.f32	s15, s16
 1254 018c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1255 0190 08D4     		bmi	.L68
 269:App/Src/task.c ****                         lastPPM = ppm;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 32


 1256              		.loc 1 269 58 discriminator 1 view .LVU350
 1257 0192 F3EE0E7A 		vmov.f32	s15, #3.0e+1
 1258 0196 37EE677A 		vsub.f32	s14, s14, s15
 269:App/Src/task.c ****                         lastPPM = ppm;
 1259              		.loc 1 269 46 discriminator 1 view .LVU351
 1260 019a B4EEC87A 		vcmpe.f32	s14, s16
 1261 019e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1262 01a2 09DD     		ble	.L73
 1263              	.L68:
 270:App/Src/task.c ****                         capNumber--;
 1264              		.loc 1 270 25 is_stmt 1 view .LVU352
 270:App/Src/task.c ****                         capNumber--;
 1265              		.loc 1 270 33 is_stmt 0 view .LVU353
 1266 01a4 184A     		ldr	r2, .L82+56
 1267 01a6 82ED008A 		vstr.32	s16, [r2]
 271:App/Src/task.c ****                         testStep = 1;
 1268              		.loc 1 271 25 is_stmt 1 view .LVU354
 271:App/Src/task.c ****                         testStep = 1;
 1269              		.loc 1 271 34 is_stmt 0 view .LVU355
 1270 01aa 013B     		subs	r3, r3, #1
 1271 01ac 0C4A     		ldr	r2, .L82+16
 1272 01ae 1360     		str	r3, [r2]
 272:App/Src/task.c ****                         break;
 1273              		.loc 1 272 25 is_stmt 1 view .LVU356
 272:App/Src/task.c ****                         break;
 1274              		.loc 1 272 34 is_stmt 0 view .LVU357
 1275 01b0 094B     		ldr	r3, .L82+8
 1276 01b2 0122     		movs	r2, #1
 1277 01b4 1A70     		strb	r2, [r3]
 273:App/Src/task.c ****                     }
 1278              		.loc 1 273 25 is_stmt 1 view .LVU358
 1279 01b6 46E7     		b	.L52
 1280              	.L73:
 275:App/Src/task.c ****                 }
 1281              		.loc 1 275 21 view .LVU359
 275:App/Src/task.c ****                 }
 1282              		.loc 1 275 29 is_stmt 0 view .LVU360
 1283 01b8 134B     		ldr	r3, .L82+56
 1284 01ba 83ED008A 		vstr.32	s16, [r3]
 1285 01be C2E7     		b	.L67
 1286              	.LVL75:
 1287              	.L81:
 283:App/Src/task.c ****                     testStep = 0;
 1288              		.loc 1 283 21 is_stmt 1 view .LVU361
 283:App/Src/task.c ****                     testStep = 0;
 1289              		.loc 1 283 32 is_stmt 0 view .LVU362
 1290 01c0 0023     		movs	r3, #0
 1291 01c2 064A     		ldr	r2, .L82+12
 1292 01c4 1370     		strb	r3, [r2]
 284:App/Src/task.c ****                     return;
 1293              		.loc 1 284 21 is_stmt 1 view .LVU363
 284:App/Src/task.c ****                     return;
 1294              		.loc 1 284 30 is_stmt 0 view .LVU364
 1295 01c6 044A     		ldr	r2, .L82+8
 1296 01c8 1370     		strb	r3, [r2]
 285:App/Src/task.c ****                 }
 1297              		.loc 1 285 21 is_stmt 1 view .LVU365
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 33


 1298 01ca 3CE7     		b	.L52
 1299              	.L83:
 1300 01cc AFF30080 		.align	3
 1301              	.L82:
 1302 01d0 00000000 		.word	0
 1303 01d4 80842E41 		.word	1093567616
 1304 01d8 00000000 		.word	.LANCHOR11
 1305 01dc 00000000 		.word	.LANCHOR10
 1306 01e0 00000000 		.word	.LANCHOR12
 1307 01e4 00000000 		.word	.LANCHOR13
 1308 01e8 10000000 		.word	.LC9
 1309 01ec 00000000 		.word	.LANCHOR14
 1310 01f0 00000000 		.word	.LC8
 1311 01f4 3C000000 		.word	.LC5
 1312 01f8 00000000 		.word	.LANCHOR9
 1313 01fc 0000903F 		.word	1066401792
 1314 0200 0000F03F 		.word	1072693248
 1315 0204 44000000 		.word	.LC6
 1316 0208 00000000 		.word	.LANCHOR15
 1317 020c 58000000 		.word	.LC7
 1318              		.cfi_endproc
 1319              	.LFE242:
 1321              		.global	__aeabi_dcmpgt
 1322              		.global	__aeabi_dcmplt
 1323              		.global	__aeabi_dadd
 1324              		.section	.rodata.rtc_freq_save.str1.4,"aMS",%progbits,1
 1325              		.align	2
 1326              	.LC10:
 1327 0000 73756363 		.ascii	"success, temp:%.2f, best cap:%.2f, min ppm %.2f\012"
 1327      6573732C 
 1327      2074656D 
 1327      703A252E 
 1327      32662C20 
 1328 0030 00       		.ascii	"\000"
 1329 0031 000000   		.align	2
 1330              	.LC11:
 1331 0034 63686563 		.ascii	"check rtc temp error, temp:%.2f\012\000"
 1331      6B207274 
 1331      63207465 
 1331      6D702065 
 1331      72726F72 
 1332 0055 000000   		.align	2
 1333              	.LC12:
 1334 0058 6572726F 		.ascii	"error and stop, temp:%.2f, best cap:%.2f, min ppm %"
 1334      7220616E 
 1334      64207374 
 1334      6F702C20 
 1334      74656D70 
 1335 008b 2E32660A 		.ascii	".2f\012\000"
 1335      00
 1336              		.section	.text.rtc_freq_save,"ax",%progbits
 1337              		.align	1
 1338              		.global	rtc_freq_save
 1339              		.syntax unified
 1340              		.thumb
 1341              		.thumb_func
 1343              	rtc_freq_save:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 34


 1344              	.LVL76:
 1345              	.LFB243:
 293:App/Src/task.c **** 
 294:App/Src/task.c **** void rtc_freq_save(uint8_t mode,  float cap, float ppm)
 295:App/Src/task.c **** {
 1346              		.loc 1 295 1 view -0
 1347              		.cfi_startproc
 1348              		@ args = 0, pretend = 0, frame = 16
 1349              		@ frame_needed = 0, uses_anonymous_args = 0
 1350              		.loc 1 295 1 is_stmt 0 view .LVU367
 1351 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1352              	.LCFI20:
 1353              		.cfi_def_cfa_offset 36
 1354              		.cfi_offset 4, -36
 1355              		.cfi_offset 5, -32
 1356              		.cfi_offset 6, -28
 1357              		.cfi_offset 7, -24
 1358              		.cfi_offset 8, -20
 1359              		.cfi_offset 9, -16
 1360              		.cfi_offset 10, -12
 1361              		.cfi_offset 11, -8
 1362              		.cfi_offset 14, -4
 1363 0004 2DED028B 		vpush.64	{d8}
 1364              	.LCFI21:
 1365              		.cfi_def_cfa_offset 44
 1366              		.cfi_offset 80, -44
 1367              		.cfi_offset 81, -40
 1368 0008 89B0     		sub	sp, sp, #36
 1369              	.LCFI22:
 1370              		.cfi_def_cfa_offset 80
 1371 000a 0446     		mov	r4, r0
 1372 000c 10EE105A 		vmov	r5, s0
 1373 0010 10EE90AA 		vmov	r10, s1
 296:App/Src/task.c ****     float temp, rtcTemp = 0, centerTemp;
 1374              		.loc 1 296 5 is_stmt 1 view .LVU368
 1375              	.LVL77:
 297:App/Src/task.c ****     uint32_t address;
 1376              		.loc 1 297 5 view .LVU369
 298:App/Src/task.c ****     uint8_t buffer[4] = {0};
 1377              		.loc 1 298 5 view .LVU370
 1378              		.loc 1 298 13 is_stmt 0 view .LVU371
 1379 0014 0023     		movs	r3, #0
 1380 0016 0693     		str	r3, [sp, #24]
 299:App/Src/task.c ****     uint8_t check = 0;
 1381              		.loc 1 299 5 is_stmt 1 view .LVU372
 1382              	.LVL78:
 300:App/Src/task.c ****     uint16_t adcValue;
 1383              		.loc 1 300 5 view .LVU373
 301:App/Src/task.c ****     int i;
 1384              		.loc 1 301 5 view .LVU374
 302:App/Src/task.c **** 
 303:App/Src/task.c ****     address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TE
 1385              		.loc 1 303 5 view .LVU375
 1386              		.loc 1 303 52 is_stmt 0 view .LVU376
 1387 0018 924B     		ldr	r3, .L108
 1388 001a 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 1389              		.loc 1 303 38 view .LVU377
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 35


 1390 001c 0733     		adds	r3, r3, #7
 1391 001e 5B02     		lsls	r3, r3, #9
 1392              	.LVL79:
 304:App/Src/task.c ****     flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1393              		.loc 1 304 5 is_stmt 1 view .LVU378
 1394 0020 0422     		movs	r2, #4
 1395 0022 06A9     		add	r1, sp, #24
 1396 0024 03F11000 		add	r0, r3, #16
 1397              	.LVL80:
 1398              		.loc 1 304 5 is_stmt 0 view .LVU379
 1399 0028 FFF7FEFF 		bl	flash_read_data
 1400              	.LVL81:
 305:App/Src/task.c ****     uint8_to_float(&centerTemp, buffer);//类型转换为float
 1401              		.loc 1 305 5 is_stmt 1 view .LVU380
 1402 002c 06A9     		add	r1, sp, #24
 1403 002e 07A8     		add	r0, sp, #28
 1404 0030 FFF7FEFF 		bl	uint8_to_float
 1405              	.LVL82:
 306:App/Src/task.c ****     if (mode == CAP_ADJUST_SUCCESS) {
 1406              		.loc 1 306 5 view .LVU381
 1407              		.loc 1 306 8 is_stmt 0 view .LVU382
 1408 0034 022C     		cmp	r4, #2
 1409 0036 07D0     		beq	.L104
 1410              	.LVL83:
 1411              	.L85:
 307:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 308:App/Src/task.c ****         // rtcTemp = system_get_rtc_temp();
 309:App/Src/task.c ****         for (i = 0; i < 5; i++) {
 310:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 311:App/Src/task.c ****                 rtcTemp = adcValue;
 312:App/Src/task.c ****                 break;
 313:App/Src/task.c ****             }
 314:App/Src/task.c ****         }
 315:App/Src/task.c ****     
 316:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 317:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 318:App/Src/task.c ****                 check = 1;
 319:App/Src/task.c ****             } 
 320:App/Src/task.c ****         } else {
 321:App/Src/task.c ****             if ((centerTemp - rtcTemp) * 0.5 > (25.0 - temp - 8) && (centerTemp - rtcTemp) * 0.5 < 
 322:App/Src/task.c ****                 check = 1;
 323:App/Src/task.c ****             } 
 324:App/Src/task.c ****         }
 325:App/Src/task.c ****         if (check == 1) {
 326:App/Src/task.c ****         // g_capAdjust.flag = CAP_ADJUST_SUCCESS;  等待中心温度点计算
 327:App/Src/task.c ****             g_capAdjust.cap = cap;
 328:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 329:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
 330:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 331:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 332:App/Src/task.c ****         } else {
 333:App/Src/task.c ****             g_capAdjust.flag = CAP_ADJUST_ERROR;
 334:App/Src/task.c ****             g_capAdjust.cap = 0;
 335:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 336:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
 337:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 338:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 36


 339:App/Src/task.c ****         }
 340:App/Src/task.c ****     } 
 341:App/Src/task.c **** 
 342:App/Src/task.c ****     if (mode == CAP_ADJUST_ERROR) {
 1412              		.loc 1 342 5 is_stmt 1 view .LVU383
 1413              		.loc 1 342 8 is_stmt 0 view .LVU384
 1414 0038 012C     		cmp	r4, #1
 1415 003a 00F0D780 		beq	.L105
 1416              	.L84:
 343:App/Src/task.c ****         g_capAdjust.flag = CAP_ADJUST_ERROR;
 344:App/Src/task.c ****         g_capAdjust.cap = 0;
 345:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 346:App/Src/task.c ****         g_capAdjust.temp = system_get_rtc_temp();
 347:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 348:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 349:App/Src/task.c ****     }
 350:App/Src/task.c **** }
 1417              		.loc 1 350 1 view .LVU385
 1418 003e 09B0     		add	sp, sp, #36
 1419              	.LCFI23:
 1420              		.cfi_remember_state
 1421              		.cfi_def_cfa_offset 44
 1422              		@ sp needed
 1423 0040 BDEC028B 		vldm	sp!, {d8}
 1424              	.LCFI24:
 1425              		.cfi_restore 80
 1426              		.cfi_restore 81
 1427              		.cfi_def_cfa_offset 36
 1428 0044 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1429              	.LVL84:
 1430              	.L104:
 1431              	.LCFI25:
 1432              		.cfi_restore_state
 307:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 1433              		.loc 1 307 9 is_stmt 1 view .LVU386
 307:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 1434              		.loc 1 307 16 is_stmt 0 view .LVU387
 1435 0048 0120     		movs	r0, #1
 1436 004a FFF7FEFF 		bl	temp_read_value
 1437              	.LVL85:
 1438 004e B0EE408A 		vmov.f32	s16, s0
 1439              	.LVL86:
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1440              		.loc 1 309 9 is_stmt 1 view .LVU388
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1441              		.loc 1 309 16 is_stmt 0 view .LVU389
 1442 0052 0026     		movs	r6, #0
 1443              	.LVL87:
 1444              	.L86:
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1445              		.loc 1 309 21 is_stmt 1 discriminator 1 view .LVU390
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1446              		.loc 1 309 9 is_stmt 0 discriminator 1 view .LVU391
 1447 0054 042E     		cmp	r6, #4
 1448 0056 0FDC     		bgt	.L106
 310:App/Src/task.c ****                 rtcTemp = adcValue;
 1449              		.loc 1 310 13 is_stmt 1 view .LVU392
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 37


 310:App/Src/task.c ****                 rtcTemp = adcValue;
 1450              		.loc 1 310 17 is_stmt 0 view .LVU393
 1451 0058 0DF11600 		add	r0, sp, #22
 1452 005c FFF7FEFF 		bl	wave1006_read_temp_adc
 1453              	.LVL88:
 310:App/Src/task.c ****                 rtcTemp = adcValue;
 1454              		.loc 1 310 16 view .LVU394
 1455 0060 08B9     		cbnz	r0, .L107
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1456              		.loc 1 309 28 is_stmt 1 discriminator 2 view .LVU395
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1457              		.loc 1 309 29 is_stmt 0 discriminator 2 view .LVU396
 1458 0062 0136     		adds	r6, r6, #1
 1459              	.LVL89:
 309:App/Src/task.c ****             if (wave1006_read_temp_adc(&adcValue)) {
 1460              		.loc 1 309 29 discriminator 2 view .LVU397
 1461 0064 F6E7     		b	.L86
 1462              	.L107:
 311:App/Src/task.c ****                 break;
 1463              		.loc 1 311 17 is_stmt 1 view .LVU398
 311:App/Src/task.c ****                 break;
 1464              		.loc 1 311 25 is_stmt 0 view .LVU399
 1465 0066 BDF816B0 		ldrh	fp, [sp, #22]
 1466 006a 07EE90BA 		vmov	s15, fp	@ int
 1467 006e F8EE677A 		vcvt.f32.u32	s15, s15
 1468 0072 17EE90BA 		vmov	fp, s15
 1469              	.LVL90:
 312:App/Src/task.c ****             }
 1470              		.loc 1 312 17 is_stmt 1 view .LVU400
 1471 0076 01E0     		b	.L88
 1472              	.LVL91:
 1473              	.L106:
 296:App/Src/task.c ****     uint32_t address;
 1474              		.loc 1 296 17 is_stmt 0 view .LVU401
 1475 0078 4FF0000B 		mov	fp, #0
 1476              	.LVL92:
 1477              	.L88:
 316:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 1478              		.loc 1 316 9 is_stmt 1 view .LVU402
 316:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 1479              		.loc 1 316 12 is_stmt 0 view .LVU403
 1480 007c DFED7A7A 		vldr.32	s15, .L108+4
 1481 0080 B4EEE78A 		vcmpe.f32	s16, s15
 1482 0084 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1483 0088 42D5     		bpl	.L90
 316:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 1484              		.loc 1 316 23 discriminator 1 view .LVU404
 1485 008a F2EE0E7A 		vmov.f32	s15, #1.5e+1
 1486 008e B4EEE78A 		vcmpe.f32	s16, s15
 1487 0092 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1488 0096 3BDD     		ble	.L90
 317:App/Src/task.c ****                 check = 1;
 1489              		.loc 1 317 13 is_stmt 1 view .LVU405
 317:App/Src/task.c ****                 check = 1;
 1490              		.loc 1 317 26 is_stmt 0 view .LVU406
 1491 0098 5846     		mov	r0, fp	@ float
 1492 009a FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 38


 1493              	.LVL93:
 1494 009e 0022     		movs	r2, #0
 1495 00a0 724B     		ldr	r3, .L108+8
 1496 00a2 FFF7FEFF 		bl	__aeabi_dmul
 1497              	.LVL94:
 1498 00a6 0646     		mov	r6, r0
 1499              	.LVL95:
 317:App/Src/task.c ****                 check = 1;
 1500              		.loc 1 317 26 view .LVU407
 1501 00a8 0F46     		mov	r7, r1
 317:App/Src/task.c ****                 check = 1;
 1502              		.loc 1 317 32 view .LVU408
 1503 00aa 18EE100A 		vmov	r0, s16
 1504 00ae FFF7FEFF 		bl	__aeabi_f2d
 1505              	.LVL96:
 1506 00b2 0246     		mov	r2, r0
 1507 00b4 0B46     		mov	r3, r1
 1508 00b6 3046     		mov	r0, r6
 1509 00b8 3946     		mov	r1, r7
 1510 00ba FFF7FEFF 		bl	__aeabi_dsub
 1511              	.LVL97:
 1512 00be 0646     		mov	r6, r0
 1513 00c0 0F46     		mov	r7, r1
 317:App/Src/task.c ****                 check = 1;
 1514              		.loc 1 317 16 view .LVU409
 1515 00c2 0022     		movs	r2, #0
 1516 00c4 6A4B     		ldr	r3, .L108+12
 1517 00c6 FFF7FEFF 		bl	__aeabi_dcmpgt
 1518              	.LVL98:
 1519 00ca 38B1     		cbz	r0, .L93
 317:App/Src/task.c ****                 check = 1;
 1520              		.loc 1 317 45 discriminator 1 view .LVU410
 1521 00cc 0022     		movs	r2, #0
 1522 00ce 694B     		ldr	r3, .L108+16
 1523 00d0 3046     		mov	r0, r6
 1524 00d2 3946     		mov	r1, r7
 1525 00d4 FFF7FEFF 		bl	__aeabi_dcmplt
 1526              	.LVL99:
 1527 00d8 0028     		cmp	r0, #0
 1528 00da 4FD1     		bne	.L95
 1529              	.L93:
 1530              	.LVL100:
 333:App/Src/task.c ****             g_capAdjust.cap = 0;
 1531              		.loc 1 333 13 is_stmt 1 view .LVU411
 333:App/Src/task.c ****             g_capAdjust.cap = 0;
 1532              		.loc 1 333 30 is_stmt 0 view .LVU412
 1533 00dc 614B     		ldr	r3, .L108
 1534 00de 0122     		movs	r2, #1
 1535 00e0 1A70     		strb	r2, [r3]
 334:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 1536              		.loc 1 334 13 is_stmt 1 view .LVU413
 334:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 1537              		.loc 1 334 29 is_stmt 0 view .LVU414
 1538 00e2 0022     		movs	r2, #0
 1539 00e4 5A60     		str	r2, [r3, #4]	@ float
 335:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
 1540              		.loc 1 335 13 is_stmt 1 view .LVU415
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 39


 335:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
 1541              		.loc 1 335 29 is_stmt 0 view .LVU416
 1542 00e6 644A     		ldr	r2, .L108+20
 1543 00e8 DA60     		str	r2, [r3, #12]	@ float
 336:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1544              		.loc 1 336 13 is_stmt 1 view .LVU417
 336:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1545              		.loc 1 336 30 is_stmt 0 view .LVU418
 1546 00ea C3F808B0 		str	fp, [r3, #8]	@ float
 337:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1547              		.loc 1 337 13 is_stmt 1 view .LVU419
 1548 00ee 5846     		mov	r0, fp	@ float
 1549 00f0 FFF7FEFF 		bl	__aeabi_f2d
 1550              	.LVL101:
 1551 00f4 0646     		mov	r6, r0
 1552 00f6 0F46     		mov	r7, r1
 1553 00f8 604D     		ldr	r5, .L108+24
 1554              	.LVL102:
 337:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 1555              		.loc 1 337 13 is_stmt 0 view .LVU420
 1556 00fa 0246     		mov	r2, r0
 1557 00fc 0B46     		mov	r3, r1
 1558 00fe 2846     		mov	r0, r5
 1559 0100 FFF7FEFF 		bl	UsbPrintf
 1560              	.LVL103:
 338:App/Src/task.c ****         }
 1561              		.loc 1 338 13 is_stmt 1 view .LVU421
 1562 0104 3246     		mov	r2, r6
 1563 0106 3B46     		mov	r3, r7
 1564 0108 2846     		mov	r0, r5
 1565 010a FFF7FEFF 		bl	log_printf
 1566              	.LVL104:
 1567 010e 93E7     		b	.L85
 1568              	.LVL105:
 1569              	.L90:
 321:App/Src/task.c ****                 check = 1;
 1570              		.loc 1 321 13 view .LVU422
 321:App/Src/task.c ****                 check = 1;
 1571              		.loc 1 321 29 is_stmt 0 view .LVU423
 1572 0110 DDED077A 		vldr.32	s15, [sp, #28]
 1573 0114 07EE10BA 		vmov	s14, fp
 1574 0118 77EEC77A 		vsub.f32	s15, s15, s14
 1575 011c 17EE900A 		vmov	r0, s15
 1576 0120 FFF7FEFF 		bl	__aeabi_f2d
 1577              	.LVL106:
 321:App/Src/task.c ****                 check = 1;
 1578              		.loc 1 321 40 view .LVU424
 1579 0124 0022     		movs	r2, #0
 1580 0126 514B     		ldr	r3, .L108+8
 1581 0128 FFF7FEFF 		bl	__aeabi_dmul
 1582              	.LVL107:
 1583 012c 0646     		mov	r6, r0
 1584              	.LVL108:
 321:App/Src/task.c ****                 check = 1;
 1585              		.loc 1 321 40 view .LVU425
 1586 012e 0F46     		mov	r7, r1
 321:App/Src/task.c ****                 check = 1;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 40


 1587              		.loc 1 321 54 view .LVU426
 1588 0130 18EE100A 		vmov	r0, s16
 1589 0134 FFF7FEFF 		bl	__aeabi_f2d
 1590              	.LVL109:
 1591 0138 0246     		mov	r2, r0
 1592 013a 0B46     		mov	r3, r1
 1593 013c 0020     		movs	r0, #0
 1594 013e 5049     		ldr	r1, .L108+28
 1595 0140 FFF7FEFF 		bl	__aeabi_dsub
 1596              	.LVL110:
 1597 0144 8046     		mov	r8, r0
 1598 0146 8946     		mov	r9, r1
 321:App/Src/task.c ****                 check = 1;
 1599              		.loc 1 321 61 view .LVU427
 1600 0148 0022     		movs	r2, #0
 1601 014a 4E4B     		ldr	r3, .L108+32
 1602 014c FFF7FEFF 		bl	__aeabi_dsub
 1603              	.LVL111:
 1604 0150 0246     		mov	r2, r0
 1605 0152 0B46     		mov	r3, r1
 321:App/Src/task.c ****                 check = 1;
 1606              		.loc 1 321 16 view .LVU428
 1607 0154 3046     		mov	r0, r6
 1608 0156 3946     		mov	r1, r7
 1609 0158 FFF7FEFF 		bl	__aeabi_dcmpgt
 1610              	.LVL112:
 1611 015c 0028     		cmp	r0, #0
 1612 015e BDD0     		beq	.L93
 321:App/Src/task.c ****                 check = 1;
 1613              		.loc 1 321 113 discriminator 1 view .LVU429
 1614 0160 0022     		movs	r2, #0
 1615 0162 484B     		ldr	r3, .L108+32
 1616 0164 4046     		mov	r0, r8
 1617 0166 4946     		mov	r1, r9
 1618 0168 FFF7FEFF 		bl	__aeabi_dadd
 1619              	.LVL113:
 1620 016c 0246     		mov	r2, r0
 1621 016e 0B46     		mov	r3, r1
 321:App/Src/task.c ****                 check = 1;
 1622              		.loc 1 321 66 discriminator 1 view .LVU430
 1623 0170 3046     		mov	r0, r6
 1624 0172 3946     		mov	r1, r7
 1625 0174 FFF7FEFF 		bl	__aeabi_dcmplt
 1626              	.LVL114:
 1627 0178 0028     		cmp	r0, #0
 1628 017a AFD0     		beq	.L93
 1629              	.L95:
 1630              	.LVL115:
 327:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 1631              		.loc 1 327 13 is_stmt 1 view .LVU431
 327:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 1632              		.loc 1 327 29 is_stmt 0 view .LVU432
 1633 017c DFF8E480 		ldr	r8, .L108
 1634 0180 C8F80450 		str	r5, [r8, #4]	@ float
 328:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
 1635              		.loc 1 328 13 is_stmt 1 view .LVU433
 328:App/Src/task.c ****             g_capAdjust.temp = rtcTemp;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 41


 1636              		.loc 1 328 29 is_stmt 0 view .LVU434
 1637 0184 C8F80CA0 		str	r10, [r8, #12]	@ float
 329:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 1638              		.loc 1 329 13 is_stmt 1 view .LVU435
 329:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 1639              		.loc 1 329 30 is_stmt 0 view .LVU436
 1640 0188 C8F808B0 		str	fp, [r8, #8]	@ float
 330:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 1641              		.loc 1 330 13 is_stmt 1 view .LVU437
 1642 018c 5846     		mov	r0, fp	@ float
 1643 018e FFF7FEFF 		bl	__aeabi_f2d
 1644              	.LVL116:
 1645 0192 0646     		mov	r6, r0
 1646 0194 0F46     		mov	r7, r1
 1647 0196 DFF8F090 		ldr	r9, .L108+36
 1648 019a 5046     		mov	r0, r10	@ float
 1649 019c FFF7FEFF 		bl	__aeabi_f2d
 1650              	.LVL117:
 1651 01a0 CDE90201 		strd	r0, [sp, #8]
 1652 01a4 2846     		mov	r0, r5	@ float
 1653 01a6 FFF7FEFF 		bl	__aeabi_f2d
 1654              	.LVL118:
 1655 01aa CDE90001 		strd	r0, [sp]
 1656 01ae 3246     		mov	r2, r6
 1657 01b0 3B46     		mov	r3, r7
 1658 01b2 4846     		mov	r0, r9
 1659 01b4 FFF7FEFF 		bl	UsbPrintf
 1660              	.LVL119:
 331:App/Src/task.c ****         } else {
 1661              		.loc 1 331 13 view .LVU438
 331:App/Src/task.c ****         } else {
 1662              		.loc 1 331 106 is_stmt 0 view .LVU439
 1663 01b8 D8F80450 		ldr	r5, [r8, #4]	@ float
 1664              	.LVL120:
 331:App/Src/task.c ****         } else {
 1665              		.loc 1 331 124 view .LVU440
 1666 01bc D8F80CA0 		ldr	r10, [r8, #12]	@ float
 1667              	.LVL121:
 331:App/Src/task.c ****         } else {
 1668              		.loc 1 331 13 view .LVU441
 1669 01c0 D8F80800 		ldr	r0, [r8, #8]	@ float
 1670 01c4 FFF7FEFF 		bl	__aeabi_f2d
 1671              	.LVL122:
 1672 01c8 0646     		mov	r6, r0
 1673 01ca 0F46     		mov	r7, r1
 1674 01cc 5046     		mov	r0, r10	@ float
 1675 01ce FFF7FEFF 		bl	__aeabi_f2d
 1676              	.LVL123:
 1677 01d2 CDE90201 		strd	r0, [sp, #8]
 1678 01d6 2846     		mov	r0, r5	@ float
 1679 01d8 FFF7FEFF 		bl	__aeabi_f2d
 1680              	.LVL124:
 1681 01dc CDE90001 		strd	r0, [sp]
 1682 01e0 3246     		mov	r2, r6
 1683 01e2 3B46     		mov	r3, r7
 1684 01e4 4846     		mov	r0, r9
 1685 01e6 FFF7FEFF 		bl	log_printf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 42


 1686              	.LVL125:
 1687 01ea 25E7     		b	.L85
 1688              	.LVL126:
 1689              	.L105:
 343:App/Src/task.c ****         g_capAdjust.cap = 0;
 1690              		.loc 1 343 9 is_stmt 1 view .LVU442
 343:App/Src/task.c ****         g_capAdjust.cap = 0;
 1691              		.loc 1 343 26 is_stmt 0 view .LVU443
 1692 01ec 1D4C     		ldr	r4, .L108
 1693 01ee 0123     		movs	r3, #1
 1694 01f0 2370     		strb	r3, [r4]
 344:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 1695              		.loc 1 344 9 is_stmt 1 view .LVU444
 344:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 1696              		.loc 1 344 25 is_stmt 0 view .LVU445
 1697 01f2 0023     		movs	r3, #0
 1698 01f4 6360     		str	r3, [r4, #4]	@ float
 345:App/Src/task.c ****         g_capAdjust.temp = system_get_rtc_temp();
 1699              		.loc 1 345 9 is_stmt 1 view .LVU446
 345:App/Src/task.c ****         g_capAdjust.temp = system_get_rtc_temp();
 1700              		.loc 1 345 25 is_stmt 0 view .LVU447
 1701 01f6 204B     		ldr	r3, .L108+20
 1702 01f8 E360     		str	r3, [r4, #12]	@ float
 346:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 1703              		.loc 1 346 9 is_stmt 1 view .LVU448
 346:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 1704              		.loc 1 346 28 is_stmt 0 view .LVU449
 1705 01fa FFF7FEFF 		bl	system_get_rtc_temp
 1706              	.LVL127:
 1707 01fe 10EE100A 		vmov	r0, s0
 346:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 1708              		.loc 1 346 26 view .LVU450
 1709 0202 84ED020A 		vstr.32	s0, [r4, #8]
 347:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 1710              		.loc 1 347 9 is_stmt 1 view .LVU451
 347:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 1711              		.loc 1 347 108 is_stmt 0 view .LVU452
 1712 0206 6568     		ldr	r5, [r4, #4]	@ float
 347:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 1713              		.loc 1 347 126 view .LVU453
 1714 0208 D4F80C90 		ldr	r9, [r4, #12]	@ float
 347:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 1715              		.loc 1 347 9 view .LVU454
 1716 020c FFF7FEFF 		bl	__aeabi_f2d
 1717              	.LVL128:
 1718 0210 0646     		mov	r6, r0
 1719 0212 0F46     		mov	r7, r1
 1720 0214 DFF87480 		ldr	r8, .L108+40
 1721 0218 4846     		mov	r0, r9	@ float
 1722 021a FFF7FEFF 		bl	__aeabi_f2d
 1723              	.LVL129:
 1724 021e CDE90201 		strd	r0, [sp, #8]
 1725 0222 2846     		mov	r0, r5	@ float
 1726 0224 FFF7FEFF 		bl	__aeabi_f2d
 1727              	.LVL130:
 1728 0228 CDE90001 		strd	r0, [sp]
 1729 022c 3246     		mov	r2, r6
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 43


 1730 022e 3B46     		mov	r3, r7
 1731 0230 4046     		mov	r0, r8
 1732 0232 FFF7FEFF 		bl	UsbPrintf
 1733              	.LVL131:
 348:App/Src/task.c ****     }
 1734              		.loc 1 348 9 is_stmt 1 view .LVU455
 348:App/Src/task.c ****     }
 1735              		.loc 1 348 109 is_stmt 0 view .LVU456
 1736 0236 6668     		ldr	r6, [r4, #4]	@ float
 348:App/Src/task.c ****     }
 1737              		.loc 1 348 127 view .LVU457
 1738 0238 E768     		ldr	r7, [r4, #12]	@ float
 348:App/Src/task.c ****     }
 1739              		.loc 1 348 9 view .LVU458
 1740 023a A068     		ldr	r0, [r4, #8]	@ float
 1741 023c FFF7FEFF 		bl	__aeabi_f2d
 1742              	.LVL132:
 1743 0240 0446     		mov	r4, r0
 1744 0242 0D46     		mov	r5, r1
 1745 0244 3846     		mov	r0, r7	@ float
 1746 0246 FFF7FEFF 		bl	__aeabi_f2d
 1747              	.LVL133:
 1748 024a CDE90201 		strd	r0, [sp, #8]
 1749 024e 3046     		mov	r0, r6	@ float
 1750 0250 FFF7FEFF 		bl	__aeabi_f2d
 1751              	.LVL134:
 1752 0254 CDE90001 		strd	r0, [sp]
 1753 0258 2246     		mov	r2, r4
 1754 025a 2B46     		mov	r3, r5
 1755 025c 4046     		mov	r0, r8
 1756 025e FFF7FEFF 		bl	log_printf
 1757              	.LVL135:
 1758              		.loc 1 350 1 view .LVU459
 1759 0262 ECE6     		b	.L84
 1760              	.L109:
 1761              		.align	2
 1762              	.L108:
 1763 0264 00000000 		.word	g_capAdjust
 1764 0268 00000C42 		.word	1108082688
 1765 026c 0000E03F 		.word	1071644672
 1766 0270 00805140 		.word	1079083008
 1767 0274 00406040 		.word	1080049664
 1768 0278 00007A44 		.word	1148846080
 1769 027c 34000000 		.word	.LC11
 1770 0280 00003940 		.word	1077477376
 1771 0284 00002040 		.word	1075838976
 1772 0288 00000000 		.word	.LC10
 1773 028c 58000000 		.word	.LC12
 1774              		.cfi_endproc
 1775              	.LFE243:
 1777              		.section	.rodata.rtc_freq_test.str1.4,"aMS",%progbits,1
 1778              		.align	2
 1779              	.LC13:
 1780 0000 73797374 		.ascii	"system temp:%.1f set init cap %.0f, adjust start..."
 1780      656D2074 
 1780      656D703A 
 1780      252E3166 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 44


 1780      20736574 
 1781 0033 0A00     		.ascii	"\012\000"
 1782 0035 000000   		.align	2
 1783              	.LC14:
 1784 0038 63617020 		.ascii	"cap adjust fail, i2c error\012\000"
 1784      61646A75 
 1784      73742066 
 1784      61696C2C 
 1784      20693263 
 1785              		.align	2
 1786              	.LC15:
 1787 0054 6361705B 		.ascii	"cap[%.1f], %fHz, %.2fppm\012\000"
 1787      252E3166 
 1787      5D2C2025 
 1787      66487A2C 
 1787      20252E32 
 1788 006e 0000     		.align	2
 1789              	.LC16:
 1790 0070 64657669 		.ascii	"device no response\012\000"
 1790      6365206E 
 1790      6F207265 
 1790      73706F6E 
 1790      73650A00 
 1791              		.align	2
 1792              	.LC17:
 1793 0084 63656E74 		.ascii	"center cap in %.1f : %.2fppm\012\000"
 1793      65722063 
 1793      61702069 
 1793      6E20252E 
 1793      3166203A 
 1794              		.section	.text.rtc_freq_test,"ax",%progbits
 1795              		.align	1
 1796              		.global	rtc_freq_test
 1797              		.syntax unified
 1798              		.thumb
 1799              		.thumb_func
 1801              	rtc_freq_test:
 1802              	.LVL136:
 1803              	.LFB244:
 351:App/Src/task.c **** 
 352:App/Src/task.c **** 
 353:App/Src/task.c **** void rtc_freq_test(int mode)//调节电容测试
 354:App/Src/task.c **** {
 1804              		.loc 1 354 1 is_stmt 1 view -0
 1805              		.cfi_startproc
 1806              		@ args = 0, pretend = 0, frame = 16
 1807              		@ frame_needed = 0, uses_anonymous_args = 0
 1808              		.loc 1 354 1 is_stmt 0 view .LVU461
 1809 0000 70B5     		push	{r4, r5, r6, lr}
 1810              	.LCFI26:
 1811              		.cfi_def_cfa_offset 16
 1812              		.cfi_offset 4, -16
 1813              		.cfi_offset 5, -12
 1814              		.cfi_offset 6, -8
 1815              		.cfi_offset 14, -4
 1816 0002 2DED028B 		vpush.64	{d8}
 1817              	.LCFI27:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 45


 1818              		.cfi_def_cfa_offset 24
 1819              		.cfi_offset 80, -24
 1820              		.cfi_offset 81, -20
 1821 0006 88B0     		sub	sp, sp, #32
 1822              	.LCFI28:
 1823              		.cfi_def_cfa_offset 56
 355:App/Src/task.c ****     static int testState = 0;
 1824              		.loc 1 355 5 is_stmt 1 view .LVU462
 356:App/Src/task.c ****     static uint8_t responseCount = 0;
 1825              		.loc 1 356 5 view .LVU463
 357:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 1826              		.loc 1 357 5 view .LVU464
 358:App/Src/task.c ****     float temp, ppm;
 1827              		.loc 1 358 5 view .LVU465
 359:App/Src/task.c **** 	uint8_t cap[2] = {0};
 1828              		.loc 1 359 2 view .LVU466
 1829              		.loc 1 359 10 is_stmt 0 view .LVU467
 1830 0008 0023     		movs	r3, #0
 1831 000a ADF81830 		strh	r3, [sp, #24]	@ movhi
 360:App/Src/task.c ****     static float lastCap = 11;
 1832              		.loc 1 360 5 is_stmt 1 view .LVU468
 361:App/Src/task.c ****     static float minPpm = 1000;
 1833              		.loc 1 361 5 view .LVU469
 362:App/Src/task.c ****     static float minCap = 0;
 1834              		.loc 1 362 5 view .LVU470
 363:App/Src/task.c ****     static uint8_t adjustCount = 0;
 1835              		.loc 1 363 5 view .LVU471
 364:App/Src/task.c ****     uint32_t address;
 1836              		.loc 1 364 5 view .LVU472
 365:App/Src/task.c ****     uint8_t buffer[4] = {0xff};
 1837              		.loc 1 365 5 view .LVU473
 1838              		.loc 1 365 13 is_stmt 0 view .LVU474
 1839 000e FF23     		movs	r3, #255
 1840 0010 0593     		str	r3, [sp, #20]
 366:App/Src/task.c **** 
 367:App/Src/task.c ****     if (mode == FREQ_TEST_STARTING) {
 1841              		.loc 1 367 5 is_stmt 1 view .LVU475
 1842              		.loc 1 367 8 is_stmt 0 view .LVU476
 1843 0012 0128     		cmp	r0, #1
 1844 0014 0CD0     		beq	.L180
 368:App/Src/task.c ****         testState = 1;
 369:App/Src/task.c ****         return;
 370:App/Src/task.c ****     }
 371:App/Src/task.c **** 
 372:App/Src/task.c ****     switch (testState) {
 1845              		.loc 1 372 5 is_stmt 1 view .LVU477
 1846 0016 BB4B     		ldr	r3, .L186
 1847 0018 1B68     		ldr	r3, [r3]
 1848 001a 013B     		subs	r3, r3, #1
 1849 001c 052B     		cmp	r3, #5
 1850 001e 0AD8     		bhi	.L110
 1851 0020 DFE813F0 		tbh	[pc, r3, lsl #1]
 1852              	.L115:
 1853 0024 0D00     		.2byte	(.L120-.L115)/2
 1854 0026 4A00     		.2byte	(.L119-.L115)/2
 1855 0028 5A00     		.2byte	(.L118-.L115)/2
 1856 002a CD01     		.2byte	(.L117-.L115)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 46


 1857 002c 2102     		.2byte	(.L116-.L115)/2
 1858 002e 3202     		.2byte	(.L114-.L115)/2
 1859              		.p2align 1
 1860              	.L180:
 368:App/Src/task.c ****         testState = 1;
 1861              		.loc 1 368 9 view .LVU478
 368:App/Src/task.c ****         testState = 1;
 1862              		.loc 1 368 19 is_stmt 0 view .LVU479
 1863 0030 B44B     		ldr	r3, .L186
 1864 0032 0122     		movs	r2, #1
 1865 0034 1A60     		str	r2, [r3]
 369:App/Src/task.c ****     }
 1866              		.loc 1 369 9 is_stmt 1 view .LVU480
 1867              	.LVL137:
 1868              	.L110:
 373:App/Src/task.c ****         case 0:  break;
 374:App/Src/task.c ****         case 1:
 375:App/Src/task.c ****             temp = temp_read_value(1);// read system temp
 376:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 377:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 378:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 379:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 380:App/Src/task.c ****                 minPpm = 1000;
 381:App/Src/task.c ****                 testState = 2;
 382:App/Src/task.c ****                 adjustCount = 1;
 383:App/Src/task.c ****             } else {
 384:App/Src/task.c ****                 UsbPrintf("cap adjust fail, i2c error\n");
 385:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 386:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 387:App/Src/task.c ****                 testState = 0;
 388:App/Src/task.c ****             }
 389:App/Src/task.c ****         break;
 390:App/Src/task.c ****         case 2:
 391:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 392:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 393:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 394:App/Src/task.c ****             responseCount = 0;
 395:App/Src/task.c ****             testState = 3;
 396:App/Src/task.c ****         break;
 397:App/Src/task.c ****         case 3:
 398:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 399:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 400:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 401:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 402:App/Src/task.c ****                     testState = 4;
 403:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 404:App/Src/task.c ****                     break;
 405:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 406:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 407:App/Src/task.c ****                         minPpm = ppm;
 408:App/Src/task.c ****                         minCap = lastCap;
 409:App/Src/task.c ****                     }
 410:App/Src/task.c ****                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
 411:App/Src/task.c ****                         testState = 4;
 412:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 413:App/Src/task.c ****                         break;
 414:App/Src/task.c ****                     }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 47


 415:App/Src/task.c ****                 } else {
 416:App/Src/task.c ****                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_LIST
 417:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 418:App/Src/task.c ****                         testState = 0;
 419:App/Src/task.c ****                         break;
 420:App/Src/task.c ****                     } 
 421:App/Src/task.c ****                 }
 422:App/Src/task.c ****                 if (fabs(ppm) < fabs(minPpm)) {
 423:App/Src/task.c ****                     minPpm = ppm;
 424:App/Src/task.c ****                     minCap = lastCap;
 425:App/Src/task.c ****                 }
 426:App/Src/task.c ****                 //---------------异常次数限制，避免卡死在该环节-----------------------
 427:App/Src/task.c ****                 adjustCount++;
 428:App/Src/task.c ****                 if (adjustCount > 10) { 
 429:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 430:App/Src/task.c ****                     testState = 0;
 431:App/Src/task.c ****                     break;
 432:App/Src/task.c ****                 }//---------------------------------------------------------
 433:App/Src/task.c ****                 // if (fabs(temp_read_value(1) - 22) < 50) {             
 434:App/Src/task.c ****                     if (0 < ppm && ppm < 1) {
 435:App/Src/task.c ****                         lastCap += 1;
 436:App/Src/task.c ****                     } else if (-1 < ppm && ppm < 0) {
 437:App/Src/task.c ****                         lastCap -= 1;
 438:App/Src/task.c ****                     } else {
 439:App/Src/task.c ****                         lastCap = lastCap + ppm * 2.5;
 440:App/Src/task.c ****                     }
 441:App/Src/task.c ****                 // } else {
 442:App/Src/task.c ****                 //     if (0 < ppm && ppm < 2) {
 443:App/Src/task.c ****                 //         lastCap += 1;
 444:App/Src/task.c ****                 //     } else if (-2 < ppm && ppm < 0) {
 445:App/Src/task.c ****                 //         lastCap -= 1;
 446:App/Src/task.c ****                 //     } else {
 447:App/Src/task.c ****                 //         lastCap = lastCap + ppm * 2.5;
 448:App/Src/task.c ****                 //     }
 449:App/Src/task.c ****                 // }
 450:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);
 451:App/Src/task.c ****                 rtc_set_testcap(cap);
 452:App/Src/task.c ****                 testState = 2;
 453:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 454:App/Src/task.c ****                 UsbPrintf("device no response\n");
 455:App/Src/task.c ****                 log_printf("device no response\n");             
 456:App/Src/task.c ****                 responseCount++;
 457:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 458:App/Src/task.c ****                     testState = 0;
 459:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 460:App/Src/task.c ****                 } else {
 461:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 462:App/Src/task.c ****                 }
 463:App/Src/task.c ****             }
 464:App/Src/task.c ****         break;
 465:App/Src/task.c ****         case 4:
 466:App/Src/task.c ****             temp = temp_read_value(1);
 467:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 468:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 469:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 470:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 471:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 48


 472:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 473:App/Src/task.c ****                     testState++;
 474:App/Src/task.c ****                 } else {
 475:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 476:App/Src/task.c ****                     testState = 0;
 477:App/Src/task.c ****                 }
 478:App/Src/task.c ****             } else {//不是-10和60度的点，调试正常退出
 479:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 480:App/Src/task.c ****                 testState = 0;
 481:App/Src/task.c ****             }
 482:App/Src/task.c ****         break;
 483:App/Src/task.c ****         case 5:
 484:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 485:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 486:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 487:App/Src/task.c ****             responseCount = 0;
 488:App/Src/task.c ****             testState++;
 489:App/Src/task.c ****         break;
 490:App/Src/task.c ****         case 6:
 491:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 492:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 493:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 494:App/Src/task.c ****                 temp = temp_read_value(1);
 495:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 496:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 497:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 498:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 499:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 500:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 501:App/Src/task.c ****                 testState = 0;
 502:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 503:App/Src/task.c ****                 UsbPrintf("device no response\n");
 504:App/Src/task.c ****                 log_printf("device no response\n");             
 505:App/Src/task.c ****                 responseCount++;
 506:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 507:App/Src/task.c ****                     testState = 0;
 508:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 509:App/Src/task.c ****                 } else {
 510:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 511:App/Src/task.c ****                 }
 512:App/Src/task.c ****             }
 513:App/Src/task.c ****         break;
 514:App/Src/task.c ****         default:  break;
 515:App/Src/task.c ****     }
 516:App/Src/task.c **** }
 1869              		.loc 1 516 1 is_stmt 0 view .LVU481
 1870 0036 08B0     		add	sp, sp, #32
 1871              	.LCFI29:
 1872              		.cfi_remember_state
 1873              		.cfi_def_cfa_offset 24
 1874              		@ sp needed
 1875 0038 BDEC028B 		vldm	sp!, {d8}
 1876              	.LCFI30:
 1877              		.cfi_restore 80
 1878              		.cfi_restore 81
 1879              		.cfi_def_cfa_offset 16
 1880 003c 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 49


 1881              	.LVL138:
 1882              	.L120:
 1883              	.LCFI31:
 1884              		.cfi_restore_state
 375:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1885              		.loc 1 375 13 is_stmt 1 view .LVU482
 375:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1886              		.loc 1 375 20 is_stmt 0 view .LVU483
 1887 003e 0120     		movs	r0, #1
 1888              	.LVL139:
 375:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 1889              		.loc 1 375 20 view .LVU484
 1890 0040 FFF7FEFF 		bl	temp_read_value
 1891              	.LVL140:
 1892 0044 10EE104A 		vmov	r4, s0
 1893              	.LVL141:
 376:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1894              		.loc 1 376 13 is_stmt 1 view .LVU485
 376:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1895              		.loc 1 376 23 is_stmt 0 view .LVU486
 1896 0048 FFF7FEFF 		bl	rtc_init_test_cap
 1897              	.LVL142:
 1898 004c 07EE900A 		vmov	s15, r0	@ int
 376:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 1899              		.loc 1 376 21 view .LVU487
 1900 0050 F8EE677A 		vcvt.f32.u32	s15, s15
 1901 0054 AC4B     		ldr	r3, .L186+4
 1902 0056 C3ED007A 		vstr.32	s15, [r3]
 377:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 1903              		.loc 1 377 13 is_stmt 1 view .LVU488
 1904 005a 06A9     		add	r1, sp, #24
 1905 005c FFF7FEFF 		bl	cap_list_to_uint
 1906              	.LVL143:
 378:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1907              		.loc 1 378 13 view .LVU489
 378:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1908              		.loc 1 378 17 is_stmt 0 view .LVU490
 1909 0060 06A8     		add	r0, sp, #24
 1910 0062 FFF7FEFF 		bl	rtc_set_testcap
 1911              	.LVL144:
 378:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 1912              		.loc 1 378 16 view .LVU491
 1913 0066 C8B9     		cbnz	r0, .L121
 379:App/Src/task.c ****                 minPpm = 1000;
 1914              		.loc 1 379 17 is_stmt 1 view .LVU492
 1915 0068 2046     		mov	r0, r4	@ float
 1916 006a FFF7FEFF 		bl	__aeabi_f2d
 1917              	.LVL145:
 1918 006e 0446     		mov	r4, r0
 1919              	.LVL146:
 379:App/Src/task.c ****                 minPpm = 1000;
 1920              		.loc 1 379 17 is_stmt 0 view .LVU493
 1921 0070 0D46     		mov	r5, r1
 1922 0072 A54B     		ldr	r3, .L186+4
 1923 0074 1868     		ldr	r0, [r3]	@ float
 1924 0076 FFF7FEFF 		bl	__aeabi_f2d
 1925              	.LVL147:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 50


 1926 007a CDE90001 		strd	r0, [sp]
 1927 007e 2246     		mov	r2, r4
 1928 0080 2B46     		mov	r3, r5
 1929 0082 A248     		ldr	r0, .L186+8
 1930 0084 FFF7FEFF 		bl	UsbPrintf
 1931              	.LVL148:
 380:App/Src/task.c ****                 testState = 2;
 1932              		.loc 1 380 17 is_stmt 1 view .LVU494
 380:App/Src/task.c ****                 testState = 2;
 1933              		.loc 1 380 24 is_stmt 0 view .LVU495
 1934 0088 A14B     		ldr	r3, .L186+12
 1935 008a A24A     		ldr	r2, .L186+16
 1936 008c 1A60     		str	r2, [r3]	@ float
 381:App/Src/task.c ****                 adjustCount = 1;
 1937              		.loc 1 381 17 is_stmt 1 view .LVU496
 381:App/Src/task.c ****                 adjustCount = 1;
 1938              		.loc 1 381 27 is_stmt 0 view .LVU497
 1939 008e 9D4B     		ldr	r3, .L186
 1940 0090 0222     		movs	r2, #2
 1941 0092 1A60     		str	r2, [r3]
 382:App/Src/task.c ****             } else {
 1942              		.loc 1 382 17 is_stmt 1 view .LVU498
 382:App/Src/task.c ****             } else {
 1943              		.loc 1 382 29 is_stmt 0 view .LVU499
 1944 0094 A04B     		ldr	r3, .L186+20
 1945 0096 0122     		movs	r2, #1
 1946 0098 1A70     		strb	r2, [r3]
 1947 009a CCE7     		b	.L110
 1948              	.LVL149:
 1949              	.L121:
 384:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 1950              		.loc 1 384 17 is_stmt 1 view .LVU500
 1951 009c 9F4C     		ldr	r4, .L186+24
 1952              	.LVL150:
 384:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 1953              		.loc 1 384 17 is_stmt 0 view .LVU501
 1954 009e 2046     		mov	r0, r4
 1955 00a0 FFF7FEFF 		bl	UsbPrintf
 1956              	.LVL151:
 385:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 1957              		.loc 1 385 17 is_stmt 1 view .LVU502
 1958 00a4 2046     		mov	r0, r4
 1959 00a6 FFF7FEFF 		bl	log_printf
 1960              	.LVL152:
 386:App/Src/task.c ****                 testState = 0;
 1961              		.loc 1 386 17 view .LVU503
 386:App/Src/task.c ****                 testState = 0;
 1962              		.loc 1 386 34 is_stmt 0 view .LVU504
 1963 00aa 9D4B     		ldr	r3, .L186+28
 1964 00ac 0122     		movs	r2, #1
 1965 00ae 1A70     		strb	r2, [r3]
 387:App/Src/task.c ****             }
 1966              		.loc 1 387 17 is_stmt 1 view .LVU505
 387:App/Src/task.c ****             }
 1967              		.loc 1 387 27 is_stmt 0 view .LVU506
 1968 00b0 944B     		ldr	r3, .L186
 1969 00b2 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 51


 1970 00b4 1A60     		str	r2, [r3]
 1971 00b6 BEE7     		b	.L110
 1972              	.LVL153:
 1973              	.L119:
 391:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1974              		.loc 1 391 13 is_stmt 1 view .LVU507
 391:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1975              		.loc 1 391 28 is_stmt 0 view .LVU508
 1976 00b8 FFF7FEFF 		bl	HAL_GetTick
 1977              	.LVL154:
 391:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1978              		.loc 1 391 26 view .LVU509
 1979 00bc 994B     		ldr	r3, .L186+32
 1980 00be 1860     		str	r0, [r3]
 392:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1981              		.loc 1 392 13 is_stmt 1 view .LVU510
 392:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1982              		.loc 1 392 35 is_stmt 0 view .LVU511
 1983 00c0 994B     		ldr	r3, .L186+36
 1984 00c2 1860     		str	r0, [r3]
 393:App/Src/task.c ****             responseCount = 0;
 1985              		.loc 1 393 13 is_stmt 1 view .LVU512
 1986 00c4 9948     		ldr	r0, .L186+40
 1987 00c6 FFF7FEFF 		bl	DevicePrintf
 1988              	.LVL155:
 394:App/Src/task.c ****             testState = 3;
 1989              		.loc 1 394 13 view .LVU513
 394:App/Src/task.c ****             testState = 3;
 1990              		.loc 1 394 27 is_stmt 0 view .LVU514
 1991 00ca 994B     		ldr	r3, .L186+44
 1992 00cc 0022     		movs	r2, #0
 1993 00ce 1A70     		strb	r2, [r3]
 395:App/Src/task.c ****         break;
 1994              		.loc 1 395 13 is_stmt 1 view .LVU515
 395:App/Src/task.c ****         break;
 1995              		.loc 1 395 23 is_stmt 0 view .LVU516
 1996 00d0 8C4B     		ldr	r3, .L186
 1997 00d2 0322     		movs	r2, #3
 1998 00d4 1A60     		str	r2, [r3]
 396:App/Src/task.c ****         case 3:
 1999              		.loc 1 396 9 is_stmt 1 view .LVU517
 2000 00d6 AEE7     		b	.L110
 2001              	.LVL156:
 2002              	.L118:
 398:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2003              		.loc 1 398 13 view .LVU518
 398:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2004              		.loc 1 398 27 is_stmt 0 view .LVU519
 2005 00d8 934B     		ldr	r3, .L186+36
 2006 00da 1A68     		ldr	r2, [r3]
 398:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2007              		.loc 1 398 39 view .LVU520
 2008 00dc 914B     		ldr	r3, .L186+32
 2009 00de 1C68     		ldr	r4, [r3]
 398:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2010              		.loc 1 398 16 view .LVU521
 2011 00e0 A242     		cmp	r2, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 52


 2012 00e2 40F24781 		bls	.L122
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2013              		.loc 1 399 17 is_stmt 1 view .LVU522
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2014              		.loc 1 399 34 is_stmt 0 view .LVU523
 2015 00e6 904B     		ldr	r3, .L186+36
 2016 00e8 D3ED018A 		vldr.32	s17, [r3, #4]
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2017              		.loc 1 399 40 view .LVU524
 2018 00ec 9FED918A 		vldr.32	s16, .L186+48
 2019 00f0 28EE888A 		vmul.f32	s16, s17, s16
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2020              		.loc 1 399 58 view .LVU525
 2021 00f4 F7EE007A 		vmov.f32	s15, #1.0e+0
 2022 00f8 38EE678A 		vsub.f32	s16, s16, s15
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2023              		.loc 1 399 63 view .LVU526
 2024 00fc DFED8E7A 		vldr.32	s15, .L186+52
 2025 0100 28EE278A 		vmul.f32	s16, s16, s15
 399:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 2026              		.loc 1 399 21 view .LVU527
 2027 0104 8DED078A 		vstr.32	s16, [sp, #28]
 400:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 2028              		.loc 1 400 17 is_stmt 1 view .LVU528
 2029 0108 7F4B     		ldr	r3, .L186+4
 2030 010a 1868     		ldr	r0, [r3]	@ float
 2031              	.LVL157:
 400:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 2032              		.loc 1 400 17 is_stmt 0 view .LVU529
 2033 010c FFF7FEFF 		bl	__aeabi_f2d
 2034              	.LVL158:
 2035 0110 0446     		mov	r4, r0
 2036 0112 0D46     		mov	r5, r1
 2037 0114 18EE100A 		vmov	r0, s16
 2038 0118 FFF7FEFF 		bl	__aeabi_f2d
 2039              	.LVL159:
 2040 011c CDE90201 		strd	r0, [sp, #8]
 2041 0120 18EE900A 		vmov	r0, s17
 2042 0124 FFF7FEFF 		bl	__aeabi_f2d
 2043              	.LVL160:
 2044 0128 CDE90001 		strd	r0, [sp]
 2045 012c 2246     		mov	r2, r4
 2046 012e 2B46     		mov	r3, r5
 2047 0130 8248     		ldr	r0, .L186+56
 2048 0132 FFF7FEFF 		bl	UsbPrintf
 2049              	.LVL161:
 401:App/Src/task.c ****                     testState = 4;
 2050              		.loc 1 401 17 is_stmt 1 view .LVU530
 401:App/Src/task.c ****                     testState = 4;
 2051              		.loc 1 401 21 is_stmt 0 view .LVU531
 2052 0136 DDED070A 		vldr.32	s1, [sp, #28]
 2053 013a F0EEE07A 		vabs.f32	s15, s1
 401:App/Src/task.c ****                     testState = 4;
 2054              		.loc 1 401 20 view .LVU532
 2055 013e B6EE007A 		vmov.f32	s14, #5.0e-1
 2056 0142 F4EEC77A 		vcmpe.f32	s15, s14
 2057 0146 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 53


 2058 014a 40F28380 		bls	.L181
 405:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 2059              		.loc 1 405 24 is_stmt 1 view .LVU533
 405:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 2060              		.loc 1 405 27 is_stmt 0 view .LVU534
 2061 014e B0EE087A 		vmov.f32	s14, #3.0e+0
 2062 0152 F4EEC77A 		vcmpe.f32	s15, s14
 2063 0156 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2064 015a 40F19A80 		bpl	.L178
 406:App/Src/task.c ****                         minPpm = ppm;
 2065              		.loc 1 406 21 is_stmt 1 view .LVU535
 406:App/Src/task.c ****                         minPpm = ppm;
 2066              		.loc 1 406 37 is_stmt 0 view .LVU536
 2067 015e 6C4B     		ldr	r3, .L186+12
 2068 0160 93ED007A 		vldr.32	s14, [r3]
 2069 0164 B0EEC77A 		vabs.f32	s14, s14
 406:App/Src/task.c ****                         minPpm = ppm;
 2070              		.loc 1 406 24 view .LVU537
 2071 0168 F4EEC77A 		vcmpe.f32	s15, s14
 2072 016c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2073 0170 05D5     		bpl	.L127
 407:App/Src/task.c ****                         minCap = lastCap;
 2074              		.loc 1 407 25 is_stmt 1 view .LVU538
 407:App/Src/task.c ****                         minCap = lastCap;
 2075              		.loc 1 407 32 is_stmt 0 view .LVU539
 2076 0172 C3ED000A 		vstr.32	s1, [r3]
 408:App/Src/task.c ****                     }
 2077              		.loc 1 408 25 is_stmt 1 view .LVU540
 408:App/Src/task.c ****                     }
 2078              		.loc 1 408 32 is_stmt 0 view .LVU541
 2079 0176 644B     		ldr	r3, .L186+4
 2080 0178 1A68     		ldr	r2, [r3]	@ float
 2081 017a 714B     		ldr	r3, .L186+60
 2082 017c 1A60     		str	r2, [r3]	@ float
 2083              	.L127:
 410:App/Src/task.c ****                         testState = 4;
 2084              		.loc 1 410 21 is_stmt 1 view .LVU542
 410:App/Src/task.c ****                         testState = 4;
 2085              		.loc 1 410 24 is_stmt 0 view .LVU543
 2086 017e F5EEC00A 		vcmpe.f32	s1, #0
 2087 0182 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2088 0186 07DD     		ble	.L129
 410:App/Src/task.c ****                         testState = 4;
 2089              		.loc 1 410 44 discriminator 1 view .LVU544
 2090 0188 614B     		ldr	r3, .L186+12
 2091 018a 93ED007A 		vldr.32	s14, [r3]
 410:App/Src/task.c ****                         testState = 4;
 2092              		.loc 1 410 34 discriminator 1 view .LVU545
 2093 018e B5EEC07A 		vcmpe.f32	s14, #0
 2094 0192 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2095 0196 6FD4     		bmi	.L131
 2096              	.L129:
 410:App/Src/task.c ****                         testState = 4;
 2097              		.loc 1 410 49 discriminator 3 view .LVU546
 2098 0198 F5EEC00A 		vcmpe.f32	s1, #0
 2099 019c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2100 01a0 62D4     		bmi	.L182
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 54


 2101              	.L132:
 422:App/Src/task.c ****                     minPpm = ppm;
 2102              		.loc 1 422 17 is_stmt 1 view .LVU547
 422:App/Src/task.c ****                     minPpm = ppm;
 2103              		.loc 1 422 33 is_stmt 0 view .LVU548
 2104 01a2 5B4B     		ldr	r3, .L186+12
 2105 01a4 93ED007A 		vldr.32	s14, [r3]
 2106 01a8 B0EEC77A 		vabs.f32	s14, s14
 422:App/Src/task.c ****                     minPpm = ppm;
 2107              		.loc 1 422 20 view .LVU549
 2108 01ac F4EEC77A 		vcmpe.f32	s15, s14
 2109 01b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2110 01b4 05D5     		bpl	.L140
 423:App/Src/task.c ****                     minCap = lastCap;
 2111              		.loc 1 423 21 is_stmt 1 view .LVU550
 423:App/Src/task.c ****                     minCap = lastCap;
 2112              		.loc 1 423 28 is_stmt 0 view .LVU551
 2113 01b6 C3ED000A 		vstr.32	s1, [r3]
 424:App/Src/task.c ****                 }
 2114              		.loc 1 424 21 is_stmt 1 view .LVU552
 424:App/Src/task.c ****                 }
 2115              		.loc 1 424 28 is_stmt 0 view .LVU553
 2116 01ba 534B     		ldr	r3, .L186+4
 2117 01bc 1A68     		ldr	r2, [r3]	@ float
 2118 01be 604B     		ldr	r3, .L186+60
 2119 01c0 1A60     		str	r2, [r3]	@ float
 2120              	.L140:
 427:App/Src/task.c ****                 if (adjustCount > 10) { 
 2121              		.loc 1 427 17 is_stmt 1 view .LVU554
 427:App/Src/task.c ****                 if (adjustCount > 10) { 
 2122              		.loc 1 427 28 is_stmt 0 view .LVU555
 2123 01c2 554A     		ldr	r2, .L186+20
 2124 01c4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2125 01c6 0133     		adds	r3, r3, #1
 2126 01c8 DBB2     		uxtb	r3, r3
 2127 01ca 1370     		strb	r3, [r2]
 428:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 2128              		.loc 1 428 17 is_stmt 1 view .LVU556
 428:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 2129              		.loc 1 428 20 is_stmt 0 view .LVU557
 2130 01cc 0A2B     		cmp	r3, #10
 2131 01ce 00F28B80 		bhi	.L183
 434:App/Src/task.c ****                         lastCap += 1;
 2132              		.loc 1 434 21 is_stmt 1 view .LVU558
 434:App/Src/task.c ****                         lastCap += 1;
 2133              		.loc 1 434 24 is_stmt 0 view .LVU559
 2134 01d2 F5EEC00A 		vcmpe.f32	s1, #0
 2135 01d6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2136 01da 07DD     		ble	.L143
 434:App/Src/task.c ****                         lastCap += 1;
 2137              		.loc 1 434 33 discriminator 1 view .LVU560
 2138 01dc F7EE007A 		vmov.f32	s15, #1.0e+0
 2139 01e0 F4EEE70A 		vcmpe.f32	s1, s15
 2140 01e4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2141 01e8 00F1B080 		bmi	.L184
 2142              	.L143:
 436:App/Src/task.c ****                         lastCap -= 1;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 55


 2143              		.loc 1 436 28 is_stmt 1 view .LVU561
 436:App/Src/task.c ****                         lastCap -= 1;
 2144              		.loc 1 436 31 is_stmt 0 view .LVU562
 2145 01ec FFEE007A 		vmov.f32	s15, #-1.0e+0
 2146 01f0 F4EEE70A 		vcmpe.f32	s1, s15
 2147 01f4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2148 01f8 05DD     		ble	.L147
 436:App/Src/task.c ****                         lastCap -= 1;
 2149              		.loc 1 436 41 discriminator 1 view .LVU563
 2150 01fa F5EEC00A 		vcmpe.f32	s1, #0
 2151 01fe F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2152 0202 00F1AD80 		bmi	.L185
 2153              	.L147:
 439:App/Src/task.c ****                     }
 2154              		.loc 1 439 25 is_stmt 1 view .LVU564
 439:App/Src/task.c ****                     }
 2155              		.loc 1 439 49 is_stmt 0 view .LVU565
 2156 0206 10EE900A 		vmov	r0, s1
 2157 020a FFF7FEFF 		bl	__aeabi_f2d
 2158              	.LVL162:
 2159 020e 0022     		movs	r2, #0
 2160 0210 4C4B     		ldr	r3, .L186+64
 2161 0212 FFF7FEFF 		bl	__aeabi_dmul
 2162              	.LVL163:
 2163 0216 0446     		mov	r4, r0
 2164 0218 0D46     		mov	r5, r1
 439:App/Src/task.c ****                     }
 2165              		.loc 1 439 43 view .LVU566
 2166 021a 3B4E     		ldr	r6, .L186+4
 2167 021c 3068     		ldr	r0, [r6]	@ float
 2168 021e FFF7FEFF 		bl	__aeabi_f2d
 2169              	.LVL164:
 2170 0222 2246     		mov	r2, r4
 2171 0224 2B46     		mov	r3, r5
 2172 0226 FFF7FEFF 		bl	__aeabi_dadd
 2173              	.LVL165:
 2174 022a FFF7FEFF 		bl	__aeabi_d2f
 2175              	.LVL166:
 439:App/Src/task.c ****                     }
 2176              		.loc 1 439 33 view .LVU567
 2177 022e 3060     		str	r0, [r6]	@ float
 2178              	.L146:
 450:App/Src/task.c ****                 rtc_set_testcap(cap);
 2179              		.loc 1 450 17 is_stmt 1 view .LVU568
 2180 0230 354B     		ldr	r3, .L186+4
 2181 0232 D3ED007A 		vldr.32	s15, [r3]
 2182 0236 FCEEE77A 		vcvt.u32.f32	s15, s15
 2183 023a 06A9     		add	r1, sp, #24
 2184 023c 17EE903A 		vmov	r3, s15	@ int
 2185 0240 98B2     		uxth	r0, r3
 2186 0242 FFF7FEFF 		bl	cap_list_to_uint
 2187              	.LVL167:
 451:App/Src/task.c ****                 testState = 2;
 2188              		.loc 1 451 17 view .LVU569
 2189 0246 06A8     		add	r0, sp, #24
 2190 0248 FFF7FEFF 		bl	rtc_set_testcap
 2191              	.LVL168:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 56


 452:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2192              		.loc 1 452 17 view .LVU570
 452:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2193              		.loc 1 452 27 is_stmt 0 view .LVU571
 2194 024c 2D4B     		ldr	r3, .L186
 2195 024e 0222     		movs	r2, #2
 2196 0250 1A60     		str	r2, [r3]
 2197 0252 F0E6     		b	.L110
 2198              	.L181:
 402:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 2199              		.loc 1 402 21 is_stmt 1 view .LVU572
 402:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 2200              		.loc 1 402 31 is_stmt 0 view .LVU573
 2201 0254 2B4B     		ldr	r3, .L186
 2202 0256 0422     		movs	r2, #4
 2203 0258 1A60     		str	r2, [r3]
 403:App/Src/task.c ****                     break;
 2204              		.loc 1 403 21 is_stmt 1 view .LVU574
 2205 025a 2B4B     		ldr	r3, .L186+4
 2206 025c 93ED000A 		vldr.32	s0, [r3]
 2207 0260 0220     		movs	r0, #2
 2208 0262 FFF7FEFF 		bl	rtc_freq_save
 2209              	.LVL169:
 404:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 2210              		.loc 1 404 21 view .LVU575
 2211 0266 E6E6     		b	.L110
 2212              	.L182:
 410:App/Src/task.c ****                         testState = 4;
 2213              		.loc 1 410 71 is_stmt 0 discriminator 4 view .LVU576
 2214 0268 294B     		ldr	r3, .L186+12
 2215 026a 93ED007A 		vldr.32	s14, [r3]
 410:App/Src/task.c ****                         testState = 4;
 2216              		.loc 1 410 61 discriminator 4 view .LVU577
 2217 026e B5EEC07A 		vcmpe.f32	s14, #0
 2218 0272 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2219 0276 94DD     		ble	.L132
 2220              	.L131:
 411:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 2221              		.loc 1 411 25 is_stmt 1 view .LVU578
 411:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 2222              		.loc 1 411 35 is_stmt 0 view .LVU579
 2223 0278 224B     		ldr	r3, .L186
 2224 027a 0422     		movs	r2, #4
 2225 027c 1A60     		str	r2, [r3]
 412:App/Src/task.c ****                         break;
 2226              		.loc 1 412 25 is_stmt 1 view .LVU580
 2227 027e 244B     		ldr	r3, .L186+12
 2228 0280 D3ED000A 		vldr.32	s1, [r3]
 2229 0284 2E4B     		ldr	r3, .L186+60
 2230 0286 93ED000A 		vldr.32	s0, [r3]
 2231 028a 0220     		movs	r0, #2
 2232 028c FFF7FEFF 		bl	rtc_freq_save
 2233              	.LVL170:
 413:App/Src/task.c ****                     }
 2234              		.loc 1 413 25 view .LVU581
 2235 0290 D1E6     		b	.L110
 2236              	.L178:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 57


 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2237              		.loc 1 416 21 view .LVU582
 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2238              		.loc 1 416 34 is_stmt 0 view .LVU583
 2239 0292 1D4B     		ldr	r3, .L186+4
 2240 0294 93ED000A 		vldr.32	s0, [r3]
 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2241              		.loc 1 416 24 view .LVU584
 2242 0298 9FED2B7A 		vldr.32	s14, .L186+68
 2243 029c B4EEC70A 		vcmpe.f32	s0, s14
 2244 02a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2245 02a4 06DB     		blt	.L135
 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2246              		.loc 1 416 57 discriminator 1 view .LVU585
 2247 02a6 B0EE007A 		vmov.f32	s14, #2.0e+0
 2248 02aa F4EEC70A 		vcmpe.f32	s1, s14
 2249 02ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2250 02b2 0FDA     		bge	.L137
 2251              	.L135:
 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2252              		.loc 1 416 70 discriminator 3 view .LVU586
 2253 02b4 B7EE007A 		vmov.f32	s14, #1.0e+0
 2254 02b8 B4EEC70A 		vcmpe.f32	s0, s14
 2255 02bc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2256 02c0 3FF66FAF 		bhi	.L132
 416:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 2257              		.loc 1 416 106 discriminator 4 view .LVU587
 2258 02c4 B8EE007A 		vmov.f32	s14, #-2.0e+0
 2259 02c8 F4EEC70A 		vcmpe.f32	s1, s14
 2260 02cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2261 02d0 3FF667AF 		bhi	.L132
 2262              	.L137:
 417:App/Src/task.c ****                         testState = 0;
 2263              		.loc 1 417 25 is_stmt 1 view .LVU588
 2264 02d4 0E4B     		ldr	r3, .L186+12
 2265 02d6 D3ED000A 		vldr.32	s1, [r3]
 2266 02da 0120     		movs	r0, #1
 2267 02dc FFF7FEFF 		bl	rtc_freq_save
 2268              	.LVL171:
 418:App/Src/task.c ****                         break;
 2269              		.loc 1 418 25 view .LVU589
 418:App/Src/task.c ****                         break;
 2270              		.loc 1 418 35 is_stmt 0 view .LVU590
 2271 02e0 084B     		ldr	r3, .L186
 2272 02e2 0022     		movs	r2, #0
 2273 02e4 1A60     		str	r2, [r3]
 419:App/Src/task.c ****                     } 
 2274              		.loc 1 419 25 is_stmt 1 view .LVU591
 2275 02e6 A6E6     		b	.L110
 2276              	.L183:
 429:App/Src/task.c ****                     testState = 0;
 2277              		.loc 1 429 21 view .LVU592
 2278 02e8 094B     		ldr	r3, .L186+12
 2279 02ea D3ED000A 		vldr.32	s1, [r3]
 2280 02ee 144B     		ldr	r3, .L186+60
 2281 02f0 93ED000A 		vldr.32	s0, [r3]
 2282 02f4 0120     		movs	r0, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 58


 2283 02f6 FFF7FEFF 		bl	rtc_freq_save
 2284              	.LVL172:
 430:App/Src/task.c ****                     break;
 2285              		.loc 1 430 21 view .LVU593
 430:App/Src/task.c ****                     break;
 2286              		.loc 1 430 31 is_stmt 0 view .LVU594
 2287 02fa 024B     		ldr	r3, .L186
 2288 02fc 0022     		movs	r2, #0
 2289 02fe 1A60     		str	r2, [r3]
 431:App/Src/task.c ****                 }//---------------------------------------------------------
 2290              		.loc 1 431 21 is_stmt 1 view .LVU595
 2291 0300 99E6     		b	.L110
 2292              	.L187:
 2293 0302 00BF     		.align	2
 2294              	.L186:
 2295 0304 00000000 		.word	.LANCHOR16
 2296 0308 00000000 		.word	.LANCHOR17
 2297 030c 00000000 		.word	.LC13
 2298 0310 00000000 		.word	.LANCHOR18
 2299 0314 00007A44 		.word	1148846080
 2300 0318 00000000 		.word	.LANCHOR19
 2301 031c 38000000 		.word	.LC14
 2302 0320 00000000 		.word	g_capAdjust
 2303 0324 00000000 		.word	.LANCHOR20
 2304 0328 00000000 		.word	.LANCHOR9
 2305 032c 3C000000 		.word	.LC5
 2306 0330 00000000 		.word	.LANCHOR21
 2307 0334 0000803C 		.word	1015021568
 2308 0338 00247449 		.word	1232348160
 2309 033c 54000000 		.word	.LC15
 2310 0340 00000000 		.word	.LANCHOR22
 2311 0344 00000440 		.word	1074003968
 2312 0348 00004B44 		.word	1145765888
 2313              	.L184:
 435:App/Src/task.c ****                     } else if (-1 < ppm && ppm < 0) {
 2314              		.loc 1 435 25 view .LVU596
 435:App/Src/task.c ****                     } else if (-1 < ppm && ppm < 0) {
 2315              		.loc 1 435 33 is_stmt 0 view .LVU597
 2316 034c 8C4B     		ldr	r3, .L188
 2317 034e D3ED007A 		vldr.32	s15, [r3]
 2318 0352 B7EE007A 		vmov.f32	s14, #1.0e+0
 2319 0356 77EE877A 		vadd.f32	s15, s15, s14
 2320 035a C3ED007A 		vstr.32	s15, [r3]
 2321 035e 67E7     		b	.L146
 2322              	.L185:
 437:App/Src/task.c ****                     } else {
 2323              		.loc 1 437 25 is_stmt 1 view .LVU598
 437:App/Src/task.c ****                     } else {
 2324              		.loc 1 437 33 is_stmt 0 view .LVU599
 2325 0360 874B     		ldr	r3, .L188
 2326 0362 D3ED007A 		vldr.32	s15, [r3]
 2327 0366 B7EE007A 		vmov.f32	s14, #1.0e+0
 2328 036a 77EEC77A 		vsub.f32	s15, s15, s14
 2329 036e C3ED007A 		vstr.32	s15, [r3]
 2330 0372 5DE7     		b	.L146
 2331              	.LVL173:
 2332              	.L122:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 59


 453:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2333              		.loc 1 453 20 is_stmt 1 view .LVU600
 453:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2334              		.loc 1 453 37 is_stmt 0 view .LVU601
 2335 0374 04F59664 		add	r4, r4, #1200
 453:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2336              		.loc 1 453 46 view .LVU602
 2337 0378 FFF7FEFF 		bl	HAL_GetTick
 2338              	.LVL174:
 453:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2339              		.loc 1 453 23 view .LVU603
 2340 037c 8442     		cmp	r4, r0
 2341 037e BFF45AAE 		bcs	.L110
 454:App/Src/task.c ****                 log_printf("device no response\n");             
 2342              		.loc 1 454 17 is_stmt 1 view .LVU604
 2343 0382 804C     		ldr	r4, .L188+4
 2344 0384 2046     		mov	r0, r4
 2345 0386 FFF7FEFF 		bl	UsbPrintf
 2346              	.LVL175:
 455:App/Src/task.c ****                 responseCount++;
 2347              		.loc 1 455 17 view .LVU605
 2348 038a 2046     		mov	r0, r4
 2349 038c FFF7FEFF 		bl	log_printf
 2350              	.LVL176:
 456:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2351              		.loc 1 456 17 view .LVU606
 456:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2352              		.loc 1 456 30 is_stmt 0 view .LVU607
 2353 0390 7D4A     		ldr	r2, .L188+8
 2354 0392 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2355 0394 0133     		adds	r3, r3, #1
 2356 0396 DBB2     		uxtb	r3, r3
 2357 0398 1370     		strb	r3, [r2]
 457:App/Src/task.c ****                     testState = 0;
 2358              		.loc 1 457 17 is_stmt 1 view .LVU608
 457:App/Src/task.c ****                     testState = 0;
 2359              		.loc 1 457 20 is_stmt 0 view .LVU609
 2360 039a 022B     		cmp	r3, #2
 2361 039c 0AD9     		bls	.L150
 458:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2362              		.loc 1 458 21 is_stmt 1 view .LVU610
 458:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2363              		.loc 1 458 31 is_stmt 0 view .LVU611
 2364 039e 7B4B     		ldr	r3, .L188+12
 2365 03a0 0022     		movs	r2, #0
 2366 03a2 1A60     		str	r2, [r3]
 459:App/Src/task.c ****                 } else {
 2367              		.loc 1 459 21 is_stmt 1 view .LVU612
 2368 03a4 DFED7A0A 		vldr.32	s1, .L188+16
 2369 03a8 9FED7A0A 		vldr.32	s0, .L188+20
 2370 03ac 0120     		movs	r0, #1
 2371 03ae FFF7FEFF 		bl	rtc_freq_save
 2372              	.LVL177:
 2373 03b2 40E6     		b	.L110
 2374              	.L150:
 461:App/Src/task.c ****                 }
 2375              		.loc 1 461 21 view .LVU613
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 60


 461:App/Src/task.c ****                 }
 2376              		.loc 1 461 36 is_stmt 0 view .LVU614
 2377 03b4 FFF7FEFF 		bl	HAL_GetTick
 2378              	.LVL178:
 461:App/Src/task.c ****                 }
 2379              		.loc 1 461 34 view .LVU615
 2380 03b8 774B     		ldr	r3, .L188+24
 2381 03ba 1860     		str	r0, [r3]
 2382 03bc 3BE6     		b	.L110
 2383              	.LVL179:
 2384              	.L117:
 466:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 2385              		.loc 1 466 13 is_stmt 1 view .LVU616
 466:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 2386              		.loc 1 466 20 is_stmt 0 view .LVU617
 2387 03be 0120     		movs	r0, #1
 2388              	.LVL180:
 466:App/Src/task.c ****             if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 2389              		.loc 1 466 20 view .LVU618
 2390 03c0 FFF7FEFF 		bl	temp_read_value
 2391              	.LVL181:
 467:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2392              		.loc 1 467 13 is_stmt 1 view .LVU619
 467:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2393              		.loc 1 467 16 is_stmt 0 view .LVU620
 2394 03c4 F9EE047A 		vmov.f32	s15, #-5.0e+0
 2395 03c8 B4EEE70A 		vcmpe.f32	s0, s15
 2396 03cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2397 03d0 06D5     		bpl	.L151
 467:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2398              		.loc 1 467 28 discriminator 1 view .LVU621
 2399 03d2 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 2400 03d6 B4EEE70A 		vcmpe.f32	s0, s15
 2401 03da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2402 03de 0DDC     		bgt	.L153
 2403              	.L151:
 467:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2404              		.loc 1 467 43 discriminator 3 view .LVU622
 2405 03e0 DFED6E7A 		vldr.32	s15, .L188+28
 2406 03e4 B4EEE70A 		vcmpe.f32	s0, s15
 2407 03e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2408 03ec 34D5     		bpl	.L154
 467:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2409              		.loc 1 467 57 discriminator 4 view .LVU623
 2410 03ee DFED6C7A 		vldr.32	s15, .L188+32
 2411 03f2 B4EEE70A 		vcmpe.f32	s0, s15
 2412 03f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2413 03fa 2DDD     		ble	.L154
 2414              	.L153:
 468:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 2415              		.loc 1 468 17 is_stmt 1 view .LVU624
 468:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 2416              		.loc 1 468 64 is_stmt 0 view .LVU625
 2417 03fc 694B     		ldr	r3, .L188+36
 2418 03fe 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 468:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 2419              		.loc 1 468 50 view .LVU626
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 61


 2420 0400 0730     		adds	r0, r0, #7
 2421 0402 4002     		lsls	r0, r0, #9
 2422              	.LVL182:
 469:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 2423              		.loc 1 469 17 is_stmt 1 view .LVU627
 2424 0404 0422     		movs	r2, #4
 2425 0406 05A9     		add	r1, sp, #20
 2426 0408 2430     		adds	r0, r0, #36
 2427              	.LVL183:
 469:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 2428              		.loc 1 469 17 is_stmt 0 view .LVU628
 2429 040a FFF7FEFF 		bl	flash_read_data
 2430              	.LVL184:
 470:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 2431              		.loc 1 470 17 is_stmt 1 view .LVU629
 2432 040e 5C4C     		ldr	r4, .L188
 2433 0410 05A9     		add	r1, sp, #20
 2434 0412 2046     		mov	r0, r4
 2435 0414 FFF7FEFF 		bl	uint8_to_float
 2436              	.LVL185:
 471:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 2437              		.loc 1 471 17 view .LVU630
 2438 0418 D4ED007A 		vldr.32	s15, [r4]
 2439 041c FCEEE77A 		vcvt.u32.f32	s15, s15
 2440 0420 06A9     		add	r1, sp, #24
 2441 0422 17EE903A 		vmov	r3, s15	@ int
 2442 0426 98B2     		uxth	r0, r3
 2443 0428 FFF7FEFF 		bl	cap_list_to_uint
 2444              	.LVL186:
 472:App/Src/task.c ****                     testState++;
 2445              		.loc 1 472 17 view .LVU631
 472:App/Src/task.c ****                     testState++;
 2446              		.loc 1 472 21 is_stmt 0 view .LVU632
 2447 042c 06A8     		add	r0, sp, #24
 2448 042e FFF7FEFF 		bl	rtc_set_testcap
 2449              	.LVL187:
 472:App/Src/task.c ****                     testState++;
 2450              		.loc 1 472 20 view .LVU633
 2451 0432 20B9     		cbnz	r0, .L157
 473:App/Src/task.c ****                 } else {
 2452              		.loc 1 473 21 is_stmt 1 view .LVU634
 473:App/Src/task.c ****                 } else {
 2453              		.loc 1 473 30 is_stmt 0 view .LVU635
 2454 0434 554A     		ldr	r2, .L188+12
 2455 0436 1368     		ldr	r3, [r2]
 2456 0438 0133     		adds	r3, r3, #1
 2457 043a 1360     		str	r3, [r2]
 2458 043c FBE5     		b	.L110
 2459              	.L157:
 475:App/Src/task.c ****                     testState = 0;
 2460              		.loc 1 475 21 is_stmt 1 view .LVU636
 2461 043e 5A4B     		ldr	r3, .L188+40
 2462 0440 D3ED000A 		vldr.32	s1, [r3]
 2463 0444 4E4B     		ldr	r3, .L188
 2464 0446 93ED000A 		vldr.32	s0, [r3]
 2465 044a 0120     		movs	r0, #1
 2466 044c FFF7FEFF 		bl	rtc_freq_save
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 62


 2467              	.LVL188:
 476:App/Src/task.c ****                 }
 2468              		.loc 1 476 21 view .LVU637
 476:App/Src/task.c ****                 }
 2469              		.loc 1 476 31 is_stmt 0 view .LVU638
 2470 0450 4E4B     		ldr	r3, .L188+12
 2471 0452 0022     		movs	r2, #0
 2472 0454 1A60     		str	r2, [r3]
 2473 0456 EEE5     		b	.L110
 2474              	.LVL189:
 2475              	.L154:
 479:App/Src/task.c ****                 testState = 0;
 2476              		.loc 1 479 17 is_stmt 1 view .LVU639
 479:App/Src/task.c ****                 testState = 0;
 2477              		.loc 1 479 34 is_stmt 0 view .LVU640
 2478 0458 524B     		ldr	r3, .L188+36
 2479 045a 0222     		movs	r2, #2
 2480 045c 1A70     		strb	r2, [r3]
 480:App/Src/task.c ****             }
 2481              		.loc 1 480 17 is_stmt 1 view .LVU641
 480:App/Src/task.c ****             }
 2482              		.loc 1 480 27 is_stmt 0 view .LVU642
 2483 045e 4B4B     		ldr	r3, .L188+12
 2484 0460 0022     		movs	r2, #0
 2485 0462 1A60     		str	r2, [r3]
 2486 0464 E7E5     		b	.L110
 2487              	.LVL190:
 2488              	.L116:
 484:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 2489              		.loc 1 484 13 is_stmt 1 view .LVU643
 484:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 2490              		.loc 1 484 28 is_stmt 0 view .LVU644
 2491 0466 FFF7FEFF 		bl	HAL_GetTick
 2492              	.LVL191:
 484:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 2493              		.loc 1 484 26 view .LVU645
 2494 046a 4B4B     		ldr	r3, .L188+24
 2495 046c 1860     		str	r0, [r3]
 485:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 2496              		.loc 1 485 13 is_stmt 1 view .LVU646
 485:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 2497              		.loc 1 485 35 is_stmt 0 view .LVU647
 2498 046e 4F4B     		ldr	r3, .L188+44
 2499 0470 1860     		str	r0, [r3]
 486:App/Src/task.c ****             responseCount = 0;
 2500              		.loc 1 486 13 is_stmt 1 view .LVU648
 2501 0472 4F48     		ldr	r0, .L188+48
 2502 0474 FFF7FEFF 		bl	DevicePrintf
 2503              	.LVL192:
 487:App/Src/task.c ****             testState++;
 2504              		.loc 1 487 13 view .LVU649
 487:App/Src/task.c ****             testState++;
 2505              		.loc 1 487 27 is_stmt 0 view .LVU650
 2506 0478 434B     		ldr	r3, .L188+8
 2507 047a 0022     		movs	r2, #0
 2508 047c 1A70     		strb	r2, [r3]
 488:App/Src/task.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 63


 2509              		.loc 1 488 13 is_stmt 1 view .LVU651
 488:App/Src/task.c ****         break;
 2510              		.loc 1 488 22 is_stmt 0 view .LVU652
 2511 047e 434A     		ldr	r2, .L188+12
 2512 0480 1368     		ldr	r3, [r2]
 2513 0482 0133     		adds	r3, r3, #1
 2514 0484 1360     		str	r3, [r2]
 489:App/Src/task.c ****         case 6:
 2515              		.loc 1 489 9 is_stmt 1 view .LVU653
 2516 0486 D6E5     		b	.L110
 2517              	.LVL193:
 2518              	.L114:
 491:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2519              		.loc 1 491 13 view .LVU654
 491:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2520              		.loc 1 491 27 is_stmt 0 view .LVU655
 2521 0488 484B     		ldr	r3, .L188+44
 2522 048a 1A68     		ldr	r2, [r3]
 491:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2523              		.loc 1 491 39 view .LVU656
 2524 048c 424B     		ldr	r3, .L188+24
 2525 048e 1C68     		ldr	r4, [r3]
 491:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2526              		.loc 1 491 16 view .LVU657
 2527 0490 A242     		cmp	r2, r4
 2528 0492 4FD9     		bls	.L158
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2529              		.loc 1 492 17 is_stmt 1 view .LVU658
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2530              		.loc 1 492 34 is_stmt 0 view .LVU659
 2531 0494 454B     		ldr	r3, .L188+44
 2532 0496 D3ED017A 		vldr.32	s15, [r3, #4]
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2533              		.loc 1 492 40 view .LVU660
 2534 049a 9FED467A 		vldr.32	s14, .L188+52
 2535 049e 67EE877A 		vmul.f32	s15, s15, s14
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2536              		.loc 1 492 58 view .LVU661
 2537 04a2 B7EE007A 		vmov.f32	s14, #1.0e+0
 2538 04a6 77EEC77A 		vsub.f32	s15, s15, s14
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2539              		.loc 1 492 63 view .LVU662
 2540 04aa 9FED437A 		vldr.32	s14, .L188+56
 2541 04ae 67EE877A 		vmul.f32	s15, s15, s14
 492:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 2542              		.loc 1 492 21 view .LVU663
 2543 04b2 CDED077A 		vstr.32	s15, [sp, #28]
 493:App/Src/task.c ****                 temp = temp_read_value(1);
 2544              		.loc 1 493 17 is_stmt 1 view .LVU664
 493:App/Src/task.c ****                 temp = temp_read_value(1);
 2545              		.loc 1 493 64 is_stmt 0 view .LVU665
 2546 04b6 3B4B     		ldr	r3, .L188+36
 2547 04b8 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
 493:App/Src/task.c ****                 temp = temp_read_value(1);
 2548              		.loc 1 493 50 view .LVU666
 2549 04ba 0734     		adds	r4, r4, #7
 2550 04bc 6402     		lsls	r4, r4, #9
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 64


 493:App/Src/task.c ****                 temp = temp_read_value(1);
 2551              		.loc 1 493 99 view .LVU667
 2552 04be 04F13A05 		add	r5, r4, #58
 2553              	.LVL194:
 494:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 2554              		.loc 1 494 17 is_stmt 1 view .LVU668
 494:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 2555              		.loc 1 494 24 is_stmt 0 view .LVU669
 2556 04c2 0120     		movs	r0, #1
 2557              	.LVL195:
 494:App/Src/task.c ****                 if (temp > 55) { address += 4;}
 2558              		.loc 1 494 24 view .LVU670
 2559 04c4 FFF7FEFF 		bl	temp_read_value
 2560              	.LVL196:
 2561 04c8 B0EE408A 		vmov.f32	s16, s0
 2562              	.LVL197:
 495:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2563              		.loc 1 495 17 is_stmt 1 view .LVU671
 495:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2564              		.loc 1 495 20 is_stmt 0 view .LVU672
 2565 04cc DFED347A 		vldr.32	s15, .L188+32
 2566 04d0 B4EEE70A 		vcmpe.f32	s0, s15
 2567 04d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2568 04d8 01DD     		ble	.L159
 495:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2569              		.loc 1 495 34 is_stmt 1 discriminator 1 view .LVU673
 495:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 2570              		.loc 1 495 42 is_stmt 0 discriminator 1 view .LVU674
 2571 04da 04F13E05 		add	r5, r4, #62
 2572              	.LVL198:
 2573              	.L159:
 496:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 2574              		.loc 1 496 17 is_stmt 1 view .LVU675
 2575 04de 07A9     		add	r1, sp, #28
 2576 04e0 05A8     		add	r0, sp, #20
 2577 04e2 FFF7FEFF 		bl	float_to_uint8
 2578              	.LVL199:
 497:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2579              		.loc 1 497 17 view .LVU676
 2580 04e6 0422     		movs	r2, #4
 2581 04e8 05A9     		add	r1, sp, #20
 2582 04ea 2846     		mov	r0, r5
 2583 04ec FFF7FEFF 		bl	flash_write_data
 2584              	.LVL200:
 498:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2585              		.loc 1 498 17 view .LVU677
 2586 04f0 18EE100A 		vmov	r0, s16
 2587 04f4 FFF7FEFF 		bl	__aeabi_f2d
 2588              	.LVL201:
 2589 04f8 0446     		mov	r4, r0
 2590 04fa 0D46     		mov	r5, r1
 2591              	.LVL202:
 498:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 2592              		.loc 1 498 17 is_stmt 0 view .LVU678
 2593 04fc 2F4E     		ldr	r6, .L188+60
 2594 04fe 0798     		ldr	r0, [sp, #28]	@ float
 2595 0500 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 65


 2596              	.LVL203:
 2597 0504 CDE90001 		strd	r0, [sp]
 2598 0508 2246     		mov	r2, r4
 2599 050a 2B46     		mov	r3, r5
 2600 050c 3046     		mov	r0, r6
 2601 050e FFF7FEFF 		bl	UsbPrintf
 2602              	.LVL204:
 499:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 2603              		.loc 1 499 17 is_stmt 1 view .LVU679
 2604 0512 0798     		ldr	r0, [sp, #28]	@ float
 2605 0514 FFF7FEFF 		bl	__aeabi_f2d
 2606              	.LVL205:
 2607 0518 CDE90001 		strd	r0, [sp]
 2608 051c 2246     		mov	r2, r4
 2609 051e 2B46     		mov	r3, r5
 2610 0520 3046     		mov	r0, r6
 2611 0522 FFF7FEFF 		bl	log_printf
 2612              	.LVL206:
 500:App/Src/task.c ****                 testState = 0;
 2613              		.loc 1 500 17 view .LVU680
 500:App/Src/task.c ****                 testState = 0;
 2614              		.loc 1 500 34 is_stmt 0 view .LVU681
 2615 0526 1F4B     		ldr	r3, .L188+36
 2616 0528 0222     		movs	r2, #2
 2617 052a 1A70     		strb	r2, [r3]
 501:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2618              		.loc 1 501 17 is_stmt 1 view .LVU682
 501:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 2619              		.loc 1 501 27 is_stmt 0 view .LVU683
 2620 052c 174B     		ldr	r3, .L188+12
 2621 052e 0022     		movs	r2, #0
 2622 0530 1A60     		str	r2, [r3]
 2623 0532 80E5     		b	.L110
 2624              	.LVL207:
 2625              	.L158:
 502:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2626              		.loc 1 502 20 is_stmt 1 view .LVU684
 502:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2627              		.loc 1 502 37 is_stmt 0 view .LVU685
 2628 0534 04F59664 		add	r4, r4, #1200
 502:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2629              		.loc 1 502 46 view .LVU686
 2630 0538 FFF7FEFF 		bl	HAL_GetTick
 2631              	.LVL208:
 502:App/Src/task.c ****                 UsbPrintf("device no response\n");
 2632              		.loc 1 502 23 view .LVU687
 2633 053c 8442     		cmp	r4, r0
 2634 053e BFF47AAD 		bcs	.L110
 503:App/Src/task.c ****                 log_printf("device no response\n");             
 2635              		.loc 1 503 17 is_stmt 1 view .LVU688
 2636 0542 104C     		ldr	r4, .L188+4
 2637 0544 2046     		mov	r0, r4
 2638 0546 FFF7FEFF 		bl	UsbPrintf
 2639              	.LVL209:
 504:App/Src/task.c ****                 responseCount++;
 2640              		.loc 1 504 17 view .LVU689
 2641 054a 2046     		mov	r0, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 66


 2642 054c FFF7FEFF 		bl	log_printf
 2643              	.LVL210:
 505:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2644              		.loc 1 505 17 view .LVU690
 505:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 2645              		.loc 1 505 30 is_stmt 0 view .LVU691
 2646 0550 0D4A     		ldr	r2, .L188+8
 2647 0552 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2648 0554 0133     		adds	r3, r3, #1
 2649 0556 DBB2     		uxtb	r3, r3
 2650 0558 1370     		strb	r3, [r2]
 506:App/Src/task.c ****                     testState = 0;
 2651              		.loc 1 506 17 is_stmt 1 view .LVU692
 506:App/Src/task.c ****                     testState = 0;
 2652              		.loc 1 506 20 is_stmt 0 view .LVU693
 2653 055a 022B     		cmp	r3, #2
 2654 055c 0AD9     		bls	.L161
 507:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2655              		.loc 1 507 21 is_stmt 1 view .LVU694
 507:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 2656              		.loc 1 507 31 is_stmt 0 view .LVU695
 2657 055e 0B4B     		ldr	r3, .L188+12
 2658 0560 0022     		movs	r2, #0
 2659 0562 1A60     		str	r2, [r3]
 508:App/Src/task.c ****                 } else {
 2660              		.loc 1 508 21 is_stmt 1 view .LVU696
 2661 0564 DFED0A0A 		vldr.32	s1, .L188+16
 2662 0568 9FED0A0A 		vldr.32	s0, .L188+20
 2663 056c 0120     		movs	r0, #1
 2664 056e FFF7FEFF 		bl	rtc_freq_save
 2665              	.LVL211:
 2666 0572 60E5     		b	.L110
 2667              	.L161:
 510:App/Src/task.c ****                 }
 2668              		.loc 1 510 21 view .LVU697
 510:App/Src/task.c ****                 }
 2669              		.loc 1 510 36 is_stmt 0 view .LVU698
 2670 0574 FFF7FEFF 		bl	HAL_GetTick
 2671              	.LVL212:
 510:App/Src/task.c ****                 }
 2672              		.loc 1 510 34 view .LVU699
 2673 0578 074B     		ldr	r3, .L188+24
 2674 057a 1860     		str	r0, [r3]
 2675 057c 5BE5     		b	.L110
 2676              	.L189:
 2677 057e 00BF     		.align	2
 2678              	.L188:
 2679 0580 00000000 		.word	.LANCHOR17
 2680 0584 70000000 		.word	.LC16
 2681 0588 00000000 		.word	.LANCHOR21
 2682 058c 00000000 		.word	.LANCHOR16
 2683 0590 00007A44 		.word	1148846080
 2684 0594 00000000 		.word	0
 2685 0598 00000000 		.word	.LANCHOR20
 2686 059c 00008242 		.word	1115815936
 2687 05a0 00005C42 		.word	1113325568
 2688 05a4 00000000 		.word	g_capAdjust
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 67


 2689 05a8 00000000 		.word	.LANCHOR18
 2690 05ac 00000000 		.word	.LANCHOR9
 2691 05b0 3C000000 		.word	.LC5
 2692 05b4 0000803C 		.word	1015021568
 2693 05b8 00247449 		.word	1232348160
 2694 05bc 84000000 		.word	.LC17
 2695              		.cfi_endproc
 2696              	.LFE244:
 2698              		.section	.rodata.system_machine_test_one.str1.4,"aMS",%progbits,1
 2699              		.align	2
 2700              	.LC18:
 2701 0000 6D616368 		.ascii	"machine test chip:%d\012\000"
 2701      696E6520 
 2701      74657374 
 2701      20636869 
 2701      703A2564 
 2702 0016 0000     		.align	2
 2703              	.LC19:
 2704 0018 25662C20 		.ascii	"%f, ppm:%.2f\012\000"
 2704      70706D3A 
 2704      252E3266 
 2704      0A00
 2705 0026 0000     		.align	2
 2706              	.LC20:
 2707 0028 76626174 		.ascii	"vbat = %dmV\012\000"
 2707      203D2025 
 2707      646D560A 
 2707      00
 2708 0035 000000   		.align	2
 2709              	.LC21:
 2710 0038 63686172 		.ascii	"charge = %dmV\012\000"
 2710      6765203D 
 2710      2025646D 
 2710      560A00
 2711 0047 00       		.align	2
 2712              	.LC22:
 2713 0048 7664643A 		.ascii	"vdd:%dnA\012\000"
 2713      25646E41 
 2713      0A00
 2714 0052 0000     		.align	2
 2715              	.LC23:
 2716 0054 6261743A 		.ascii	"bat:%dnA\012\000"
 2716      25646E41 
 2716      0A00
 2717 005e 0000     		.align	2
 2718              	.LC24:
 2719 0060 74657374 		.ascii	"test all end, chip %d NG\012\000"
 2719      20616C6C 
 2719      20656E64 
 2719      2C206368 
 2719      69702025 
 2720 007a 0000     		.align	2
 2721              	.LC25:
 2722 007c 74657374 		.ascii	"test all end, chip %d OK\012\000"
 2722      20616C6C 
 2722      20656E64 
 2722      2C206368 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 68


 2722      69702025 
 2723              		.section	.text.system_machine_test_one,"ax",%progbits
 2724              		.align	1
 2725              		.global	system_machine_test_one
 2726              		.syntax unified
 2727              		.thumb
 2728              		.thumb_func
 2730              	system_machine_test_one:
 2731              	.LVL213:
 2732              	.LFB245:
 517:App/Src/task.c **** 
 518:App/Src/task.c **** //---------------------------------------------
 519:App/Src/task.c **** //system_machine_test_one函数，机台测试一个芯片
 520:App/Src/task.c **** //number选定芯片序号，mode分为启动模式和运转模式
 521:App/Src/task.c **** //配置温度config9才会测试温度误差
 522:App/Src/task.c **** //配置电池configC才会测试电池
 523:App/Src/task.c **** //除非是I2C不通，否则不管什么状态的芯片都会测试电流
 524:App/Src/task.c **** //---------------------------------------------
 525:App/Src/task.c **** int system_machine_test_one(uint8_t number, uint8_t mode)
 526:App/Src/task.c **** {
 2733              		.loc 1 526 1 is_stmt 1 view -0
 2734              		.cfi_startproc
 2735              		@ args = 0, pretend = 0, frame = 8
 2736              		@ frame_needed = 0, uses_anonymous_args = 0
 2737              		.loc 1 526 1 is_stmt 0 view .LVU701
 2738 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2739              	.LCFI32:
 2740              		.cfi_def_cfa_offset 20
 2741              		.cfi_offset 4, -20
 2742              		.cfi_offset 5, -16
 2743              		.cfi_offset 6, -12
 2744              		.cfi_offset 7, -8
 2745              		.cfi_offset 14, -4
 2746 0002 2DED028B 		vpush.64	{d8}
 2747              	.LCFI33:
 2748              		.cfi_def_cfa_offset 28
 2749              		.cfi_offset 80, -28
 2750              		.cfi_offset 81, -24
 2751 0006 85B0     		sub	sp, sp, #20
 2752              	.LCFI34:
 2753              		.cfi_def_cfa_offset 48
 527:App/Src/task.c **** 	float ppm4096, cur;
 2754              		.loc 1 527 2 is_stmt 1 view .LVU702
 528:App/Src/task.c **** 	// uint8_t buffer[16] = {0};
 529:App/Src/task.c **** 	int vbat = 0;
 2755              		.loc 1 529 2 view .LVU703
 2756              		.loc 1 529 6 is_stmt 0 view .LVU704
 2757 0008 0023     		movs	r3, #0
 2758 000a 0393     		str	r3, [sp, #12]
 530:App/Src/task.c **** 	// uint8_t i2c_result;
 531:App/Src/task.c **** 	static uint8_t result = 1;
 2759              		.loc 1 531 2 is_stmt 1 view .LVU705
 532:App/Src/task.c ****     static uint8_t state = 0;
 2760              		.loc 1 532 5 view .LVU706
 533:App/Src/task.c ****     static uint32_t timeout;
 2761              		.loc 1 533 5 view .LVU707
 534:App/Src/task.c ****     static uint8_t testNumber = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 69


 2762              		.loc 1 534 5 view .LVU708
 535:App/Src/task.c ****     static uint32_t startTime;
 2763              		.loc 1 535 5 view .LVU709
 536:App/Src/task.c **** 
 537:App/Src/task.c ****     if (mode == 1) {//在设置开始时就设定测试序号，后续不能变更
 2764              		.loc 1 537 5 view .LVU710
 2765              		.loc 1 537 8 is_stmt 0 view .LVU711
 2766 000c 0129     		cmp	r1, #1
 2767 000e 11D0     		beq	.L223
 2768              	.LVL214:
 2769              	.L191:
 538:App/Src/task.c ****         state = 1;
 539:App/Src/task.c ****         testNumber = number;
 540:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 541:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 542:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 543:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 544:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 545:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 546:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 547:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 548:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 549:App/Src/task.c ****         startTime = HAL_GetTick();
 550:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 551:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 552:App/Src/task.c ****     }
 553:App/Src/task.c **** 
 554:App/Src/task.c ****     switch (state) {
 2770              		.loc 1 554 5 is_stmt 1 view .LVU712
 2771 0010 B44B     		ldr	r3, .L227
 2772 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2773 0014 013B     		subs	r3, r3, #1
 2774 0016 0A2B     		cmp	r3, #10
 2775 0018 45D8     		bhi	.L192
 2776 001a DFE813F0 		tbh	[pc, r3, lsl #1]
 2777              	.L194:
 2778 001e 3400     		.2byte	(.L203-.L194)/2
 2779 0020 4400     		.2byte	(.L192-.L194)/2
 2780 0022 5A00     		.2byte	(.L202-.L194)/2
 2781 0024 6900     		.2byte	(.L201-.L194)/2
 2782 0026 7E00     		.2byte	(.L200-.L194)/2
 2783 0028 E300     		.2byte	(.L199-.L194)/2
 2784 002a 2C01     		.2byte	(.L198-.L194)/2
 2785 002c 5301     		.2byte	(.L197-.L194)/2
 2786 002e 8501     		.2byte	(.L196-.L194)/2
 2787 0030 C001     		.2byte	(.L195-.L194)/2
 2788 0032 F701     		.2byte	(.L193-.L194)/2
 2789              	.LVL215:
 2790              		.p2align 1
 2791              	.L223:
 2792              		.loc 1 554 5 is_stmt 0 view .LVU713
 2793 0034 0446     		mov	r4, r0
 538:App/Src/task.c ****         state = 1;
 2794              		.loc 1 538 9 is_stmt 1 view .LVU714
 538:App/Src/task.c ****         state = 1;
 2795              		.loc 1 538 15 is_stmt 0 view .LVU715
 2796 0036 AB4B     		ldr	r3, .L227
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 70


 2797 0038 0122     		movs	r2, #1
 2798 003a 1A70     		strb	r2, [r3]
 539:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 2799              		.loc 1 539 9 is_stmt 1 view .LVU716
 539:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 2800              		.loc 1 539 20 is_stmt 0 view .LVU717
 2801 003c AA4B     		ldr	r3, .L227+4
 2802 003e 1870     		strb	r0, [r3]
 540:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 2803              		.loc 1 540 9 is_stmt 1 view .LVU718
 540:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 2804              		.loc 1 540 36 is_stmt 0 view .LVU719
 2805 0040 AA4B     		ldr	r3, .L227+8
 2806 0042 0022     		movs	r2, #0
 2807 0044 A3F84420 		strh	r2, [r3, #68]	@ movhi
 541:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 2808              		.loc 1 541 9 is_stmt 1 view .LVU720
 541:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 2809              		.loc 1 541 37 is_stmt 0 view .LVU721
 2810 0048 A3F84620 		strh	r2, [r3, #70]	@ movhi
 542:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2811              		.loc 1 542 9 is_stmt 1 view .LVU722
 542:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2812              		.loc 1 542 39 is_stmt 0 view .LVU723
 2813 004c FF21     		movs	r1, #255
 2814              	.LVL216:
 542:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 2815              		.loc 1 542 39 view .LVU724
 2816 004e 83F84810 		strb	r1, [r3, #72]
 543:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 2817              		.loc 1 543 9 is_stmt 1 view .LVU725
 543:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 2818              		.loc 1 543 39 is_stmt 0 view .LVU726
 2819 0052 83F84910 		strb	r1, [r3, #73]
 544:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 2820              		.loc 1 544 9 is_stmt 1 view .LVU727
 544:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 2821              		.loc 1 544 39 is_stmt 0 view .LVU728
 2822 0056 83F84A20 		strb	r2, [r3, #74]
 545:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 2823              		.loc 1 545 9 is_stmt 1 view .LVU729
 545:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 2824              		.loc 1 545 39 is_stmt 0 view .LVU730
 2825 005a 83F84B20 		strb	r2, [r3, #75]
 546:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 2826              		.loc 1 546 9 is_stmt 1 view .LVU731
 546:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 2827              		.loc 1 546 40 is_stmt 0 view .LVU732
 2828 005e 0021     		movs	r1, #0
 2829 0060 D964     		str	r1, [r3, #76]	@ float
 547:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 2830              		.loc 1 547 9 is_stmt 1 view .LVU733
 547:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 2831              		.loc 1 547 40 is_stmt 0 view .LVU734
 2832 0062 A3F85020 		strh	r2, [r3, #80]	@ movhi
 548:App/Src/task.c ****         startTime = HAL_GetTick();
 2833              		.loc 1 548 9 is_stmt 1 view .LVU735
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 71


 548:App/Src/task.c ****         startTime = HAL_GetTick();
 2834              		.loc 1 548 38 is_stmt 0 view .LVU736
 2835 0066 A3F85220 		strh	r2, [r3, #82]	@ movhi
 549:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2836              		.loc 1 549 9 is_stmt 1 view .LVU737
 549:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2837              		.loc 1 549 21 is_stmt 0 view .LVU738
 2838 006a FFF7FEFF 		bl	HAL_GetTick
 2839              	.LVL217:
 549:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 2840              		.loc 1 549 19 view .LVU739
 2841 006e A04B     		ldr	r3, .L227+12
 2842 0070 1860     		str	r0, [r3]
 550:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 2843              		.loc 1 550 9 is_stmt 1 view .LVU740
 2844 0072 A04D     		ldr	r5, .L227+16
 2845 0074 2146     		mov	r1, r4
 2846 0076 2846     		mov	r0, r5
 2847 0078 FFF7FEFF 		bl	UsbPrintf
 2848              	.LVL218:
 551:App/Src/task.c ****     }
 2849              		.loc 1 551 9 view .LVU741
 2850 007c 2146     		mov	r1, r4
 2851 007e 2846     		mov	r0, r5
 2852 0080 FFF7FEFF 		bl	log_printf
 2853              	.LVL219:
 2854 0084 C4E7     		b	.L191
 2855              	.L203:
 555:App/Src/task.c ****         case 1:
 556:App/Src/task.c **** 	        rtc_group_power(testNumber, POWER_I2C);
 2856              		.loc 1 556 10 view .LVU742
 2857 0086 0121     		movs	r1, #1
 2858 0088 974B     		ldr	r3, .L227+4
 2859 008a 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2860 008c FFF7FEFF 		bl	rtc_group_power
 2861              	.LVL220:
 557:App/Src/task.c ****             result = 1; 
 2862              		.loc 1 557 13 view .LVU743
 2863              		.loc 1 557 20 is_stmt 0 view .LVU744
 2864 0090 994B     		ldr	r3, .L227+20
 2865 0092 0122     		movs	r2, #1
 2866 0094 1A70     		strb	r2, [r3]
 558:App/Src/task.c ****             timeout = HAL_GetTick();
 2867              		.loc 1 558 13 is_stmt 1 view .LVU745
 2868              		.loc 1 558 23 is_stmt 0 view .LVU746
 2869 0096 FFF7FEFF 		bl	HAL_GetTick
 2870              	.LVL221:
 2871              		.loc 1 558 21 view .LVU747
 2872 009a 984B     		ldr	r3, .L227+24
 2873 009c 1860     		str	r0, [r3]
 559:App/Src/task.c ****             state++;
 2874              		.loc 1 559 13 is_stmt 1 view .LVU748
 2875              		.loc 1 559 18 is_stmt 0 view .LVU749
 2876 009e 914A     		ldr	r2, .L227
 2877 00a0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2878 00a2 0133     		adds	r3, r3, #1
 2879 00a4 1370     		strb	r3, [r2]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 72


 560:App/Src/task.c ****         break;
 2880              		.loc 1 560 9 is_stmt 1 view .LVU750
 2881              	.L192:
 561:App/Src/task.c ****         case 2:
 562:App/Src/task.c ****             // if (HAL_GetTick() < (timeout + 800)) {
 563:App/Src/task.c ****             //     break;
 564:App/Src/task.c ****             // }
 565:App/Src/task.c ****             // i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 566:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 567:App/Src/task.c ****             //     UsbPrintf("chip%d i2c error, test end!\n", testNumber);
 568:App/Src/task.c ****             //     log_printf("chip%d i2c error!\n", testNumber);
 569:App/Src/task.c ****             //     return -1;
 570:App/Src/task.c ****             // }
 571:App/Src/task.c ****             // g_machineTest.machine.config9 = buffer[9];
 572:App/Src/task.c ****             // g_machineTest.machine.configC = buffer[0xC];
 573:App/Src/task.c ****             // UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machi
 574:App/Src/task.c ****             // log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_mach
 575:App/Src/task.c ****             // rtc_set_testmode();
 576:App/Src/task.c ****             // if (g_machineTest.machine.config9 != 0xff) {//温度计配置了，测试温度
 577:App/Src/task.c ****             //     g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 578:App/Src/task.c ****             //     UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 579:App/Src/task.c ****             //     rtc_read_temp(&g_machineTest.machine.rtcTemp);
 580:App/Src/task.c ****             //     UsbPrintf("temp:%d\n", g_machineTest.machine.rtcTemp);
 581:App/Src/task.c ****             //     log_printf("temp:%d\n", g_machineTest.machine.rtcTemp);
 582:App/Src/task.c ****             //     if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 583:App/Src/task.c ****             //         || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 584:App/Src/task.c ****             //         result = 0;
 585:App/Src/task.c ****             //     }
 586:App/Src/task.c ****             //     state++;
 587:App/Src/task.c ****             // } else {//如果温度计没有配置，就不必测试频率误差了
 588:App/Src/task.c ****             //     if (g_machineTest.machine.configC != 0xff) {//没有配置configC就不测试电池
 589:App/Src/task.c ****             //         state = 6;
 590:App/Src/task.c ****             //     } else {
 591:App/Src/task.c ****             //         state = 8;
 592:App/Src/task.c ****             //         result = 0;
 593:App/Src/task.c ****             //     }
 594:App/Src/task.c ****             // }
 595:App/Src/task.c ****         break;
 596:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 597:App/Src/task.c ****         case 3:	
 598:App/Src/task.c ****             rtc_set_int_channel(testNumber);
 599:App/Src/task.c **** 	        rtc_out_4096();            
 600:App/Src/task.c ****             timeout = HAL_GetTick();
 601:App/Src/task.c ****             state++;
 602:App/Src/task.c ****         break;
 603:App/Src/task.c ****         case 4:
 604:App/Src/task.c ****             if (HAL_GetTick() > timeout + 100) {
 605:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 606:App/Src/task.c ****                 timeout = HAL_GetTick();
 607:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 608:App/Src/task.c ****                 state++;
 609:App/Src/task.c ****             }
 610:App/Src/task.c ****         break;
 611:App/Src/task.c ****         case 5:
 612:App/Src/task.c ****             if (g_lastFreq.recordTime > timeout) {//有新的数据更新，计算误差
 613:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 614:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 73


 615:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 616:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 617:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 618:App/Src/task.c ****                     result = 0;
 619:App/Src/task.c ****                 }
 620:App/Src/task.c **** 	            rtc_disable_int();
 621:App/Src/task.c ****                 state++;
 622:App/Src/task.c ****             }
 623:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1500) {//1.5s超时
 624:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 625:App/Src/task.c ****                 log_printf("device no respose!\n");
 626:App/Src/task.c ****                 result = 0;
 627:App/Src/task.c **** 	            rtc_disable_int();
 628:App/Src/task.c ****                 state++;
 629:App/Src/task.c ****             }
 630:App/Src/task.c ****         break;
 631:App/Src/task.c **** //---------------------------测试电池--------------------------------------------------
 632:App/Src/task.c ****         case 6://测试电池功能，电池电压
 633:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 634:App/Src/task.c ****             HAL_Delay(5);
 635:App/Src/task.c ****             rtc_read_vbat(&vbat);
 636:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 637:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 638:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 639:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {
 640:App/Src/task.c ****                 result = 0;
 641:App/Src/task.c ****             }
 642:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 643:App/Src/task.c ****             state++;
 644:App/Src/task.c ****         break;
 645:App/Src/task.c ****         case 7://充电电压
 646:App/Src/task.c ****             rtc_set_bat_charge(1);
 647:App/Src/task.c ****             HAL_Delay(5);
 648:App/Src/task.c ****             rtc_read_vbat(&vbat);
 649:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 650:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 651:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 652:App/Src/task.c ****                 result = 0;
 653:App/Src/task.c ****             }
 654:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
 655:App/Src/task.c ****             state++;
 656:App/Src/task.c ****         break;
 657:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 658:App/Src/task.c ****         case 8:	
 659:App/Src/task.c ****             rtc_set_testmode();
 660:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 661:App/Src/task.c ****             timeout = HAL_GetTick();
 662:App/Src/task.c ****             state++;
 663:App/Src/task.c ****         break;
 664:App/Src/task.c ****         case 9:	
 665:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 666:App/Src/task.c ****                 cur = CS1237Current();
 667:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 668:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 669:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 670:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 671:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 74


 672:App/Src/task.c ****                     result = 0;
 673:App/Src/task.c ****                 }
 674:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_BAT_I);
 675:App/Src/task.c ****                 timeout = HAL_GetTick();
 676:App/Src/task.c ****                 state++;
 677:App/Src/task.c ****             }
 678:App/Src/task.c ****         break;
 679:App/Src/task.c ****         case 10:
 680:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 681:App/Src/task.c ****                 cur = CS1237Current();
 682:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 683:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 684:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 685:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 686:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 687:App/Src/task.c ****                     result = 0;
 688:App/Src/task.c ****                 }
 689:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 690:App/Src/task.c ****                 // rtc_exit_testmode();
 691:App/Src/task.c ****                 state++;
 692:App/Src/task.c ****             }
 693:App/Src/task.c ****         break;
 694:App/Src/task.c ****         case 11:
 695:App/Src/task.c ****             //-----------------------------测试结束------------------------------------------------
 696:App/Src/task.c ****             if (result == 0) {
 697:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 698:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 699:App/Src/task.c ****             } else {
 700:App/Src/task.c ****                 UsbPrintf("test all end, chip %d OK\n", testNumber);
 701:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 702:App/Src/task.c ****             }
 703:App/Src/task.c ****             state = 0;
 704:App/Src/task.c ****         break;
 705:App/Src/task.c ****         default:  break;
 706:App/Src/task.c ****     }
 707:App/Src/task.c ****     if (HAL_GetTick() > startTime + 20000) { return -1; }//单个芯片测试时间超过20s时，强制判定ng；
 2882              		.loc 1 707 5 view .LVU751
 2883              		.loc 1 707 9 is_stmt 0 view .LVU752
 2884 00a6 FFF7FEFF 		bl	HAL_GetTick
 2885              	.LVL222:
 2886              		.loc 1 707 35 view .LVU753
 2887 00aa 914B     		ldr	r3, .L227+12
 2888 00ac 1B68     		ldr	r3, [r3]
 2889 00ae 03F59C43 		add	r3, r3, #19968
 2890 00b2 2033     		adds	r3, r3, #32
 2891              		.loc 1 707 8 view .LVU754
 2892 00b4 9842     		cmp	r0, r3
 2893 00b6 00F2C581 		bhi	.L219
 708:App/Src/task.c ****     if (state == 0) {
 2894              		.loc 1 708 5 is_stmt 1 view .LVU755
 2895              		.loc 1 708 15 is_stmt 0 view .LVU756
 2896 00ba 8A4B     		ldr	r3, .L227
 2897 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2898              		.loc 1 708 8 view .LVU757
 2899 00be 002B     		cmp	r3, #0
 2900 00c0 40F0C681 		bne	.L220
 709:App/Src/task.c ****         if (result != 0) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 75


 2901              		.loc 1 709 9 is_stmt 1 view .LVU758
 2902              		.loc 1 709 20 is_stmt 0 view .LVU759
 2903 00c4 8C4B     		ldr	r3, .L227+20
 2904 00c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2905              		.loc 1 709 12 view .LVU760
 2906 00c8 002B     		cmp	r3, #0
 2907 00ca 00F0C381 		beq	.L221
 710:App/Src/task.c ****             return 1;
 2908              		.loc 1 710 20 view .LVU761
 2909 00ce 0120     		movs	r0, #1
 2910 00d0 BAE1     		b	.L190
 2911              	.L202:
 598:App/Src/task.c **** 	        rtc_out_4096();            
 2912              		.loc 1 598 13 is_stmt 1 view .LVU762
 2913 00d2 854B     		ldr	r3, .L227+4
 2914 00d4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2915 00d6 FFF7FEFF 		bl	rtc_set_int_channel
 2916              	.LVL223:
 599:App/Src/task.c ****             timeout = HAL_GetTick();
 2917              		.loc 1 599 10 view .LVU763
 2918 00da FFF7FEFF 		bl	rtc_out_4096
 2919              	.LVL224:
 600:App/Src/task.c ****             state++;
 2920              		.loc 1 600 13 view .LVU764
 600:App/Src/task.c ****             state++;
 2921              		.loc 1 600 23 is_stmt 0 view .LVU765
 2922 00de FFF7FEFF 		bl	HAL_GetTick
 2923              	.LVL225:
 600:App/Src/task.c ****             state++;
 2924              		.loc 1 600 21 view .LVU766
 2925 00e2 864B     		ldr	r3, .L227+24
 2926 00e4 1860     		str	r0, [r3]
 601:App/Src/task.c ****         break;
 2927              		.loc 1 601 13 is_stmt 1 view .LVU767
 601:App/Src/task.c ****         break;
 2928              		.loc 1 601 18 is_stmt 0 view .LVU768
 2929 00e6 7F4A     		ldr	r2, .L227
 2930 00e8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2931 00ea 0133     		adds	r3, r3, #1
 2932 00ec 1370     		strb	r3, [r2]
 602:App/Src/task.c ****         case 4:
 2933              		.loc 1 602 9 is_stmt 1 view .LVU769
 2934 00ee DAE7     		b	.L192
 2935              	.L201:
 604:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2936              		.loc 1 604 13 view .LVU770
 604:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2937              		.loc 1 604 17 is_stmt 0 view .LVU771
 2938 00f0 FFF7FEFF 		bl	HAL_GetTick
 2939              	.LVL226:
 604:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2940              		.loc 1 604 41 view .LVU772
 2941 00f4 814B     		ldr	r3, .L227+24
 2942 00f6 1B68     		ldr	r3, [r3]
 2943 00f8 6433     		adds	r3, r3, #100
 604:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2944              		.loc 1 604 16 view .LVU773
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 76


 2945 00fa 9842     		cmp	r0, r3
 2946 00fc D3D9     		bls	.L192
 605:App/Src/task.c ****                 timeout = HAL_GetTick();
 2947              		.loc 1 605 14 is_stmt 1 view .LVU774
 2948 00fe 8048     		ldr	r0, .L227+28
 2949 0100 FFF7FEFF 		bl	DevicePrintf
 2950              	.LVL227:
 606:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2951              		.loc 1 606 17 view .LVU775
 606:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2952              		.loc 1 606 27 is_stmt 0 view .LVU776
 2953 0104 FFF7FEFF 		bl	HAL_GetTick
 2954              	.LVL228:
 606:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2955              		.loc 1 606 25 view .LVU777
 2956 0108 7C4B     		ldr	r3, .L227+24
 2957 010a 1860     		str	r0, [r3]
 607:App/Src/task.c ****                 state++;
 2958              		.loc 1 607 17 is_stmt 1 view .LVU778
 607:App/Src/task.c ****                 state++;
 2959              		.loc 1 607 39 is_stmt 0 view .LVU779
 2960 010c 7D4B     		ldr	r3, .L227+32
 2961 010e 1860     		str	r0, [r3]
 608:App/Src/task.c ****             }
 2962              		.loc 1 608 17 is_stmt 1 view .LVU780
 608:App/Src/task.c ****             }
 2963              		.loc 1 608 22 is_stmt 0 view .LVU781
 2964 0110 744A     		ldr	r2, .L227
 2965 0112 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2966 0114 0133     		adds	r3, r3, #1
 2967 0116 1370     		strb	r3, [r2]
 2968 0118 C5E7     		b	.L192
 2969              	.L200:
 612:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2970              		.loc 1 612 13 is_stmt 1 view .LVU782
 612:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2971              		.loc 1 612 27 is_stmt 0 view .LVU783
 2972 011a 7A4B     		ldr	r3, .L227+32
 2973 011c 1A68     		ldr	r2, [r3]
 612:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2974              		.loc 1 612 39 view .LVU784
 2975 011e 774B     		ldr	r3, .L227+24
 2976 0120 1B68     		ldr	r3, [r3]
 612:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2977              		.loc 1 612 16 view .LVU785
 2978 0122 9A42     		cmp	r2, r3
 2979 0124 18D8     		bhi	.L224
 2980              	.L204:
 623:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2981              		.loc 1 623 13 is_stmt 1 view .LVU786
 623:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2982              		.loc 1 623 17 is_stmt 0 view .LVU787
 2983 0126 FFF7FEFF 		bl	HAL_GetTick
 2984              	.LVL229:
 623:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2985              		.loc 1 623 41 view .LVU788
 2986 012a 744B     		ldr	r3, .L227+24
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 77


 2987 012c 1B68     		ldr	r3, [r3]
 2988 012e 03F2DC53 		addw	r3, r3, #1500
 623:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2989              		.loc 1 623 16 view .LVU789
 2990 0132 9842     		cmp	r0, r3
 2991 0134 B7D9     		bls	.L192
 624:App/Src/task.c ****                 log_printf("device no respose!\n");
 2992              		.loc 1 624 17 is_stmt 1 view .LVU790
 2993 0136 744C     		ldr	r4, .L227+36
 2994 0138 2046     		mov	r0, r4
 2995 013a FFF7FEFF 		bl	UsbPrintf
 2996              	.LVL230:
 625:App/Src/task.c ****                 result = 0;
 2997              		.loc 1 625 17 view .LVU791
 2998 013e 2046     		mov	r0, r4
 2999 0140 FFF7FEFF 		bl	log_printf
 3000              	.LVL231:
 626:App/Src/task.c **** 	            rtc_disable_int();
 3001              		.loc 1 626 17 view .LVU792
 626:App/Src/task.c **** 	            rtc_disable_int();
 3002              		.loc 1 626 24 is_stmt 0 view .LVU793
 3003 0144 6C4B     		ldr	r3, .L227+20
 3004 0146 0022     		movs	r2, #0
 3005 0148 1A70     		strb	r2, [r3]
 627:App/Src/task.c ****                 state++;
 3006              		.loc 1 627 14 is_stmt 1 view .LVU794
 3007 014a FFF7FEFF 		bl	rtc_disable_int
 3008              	.LVL232:
 628:App/Src/task.c ****             }
 3009              		.loc 1 628 17 view .LVU795
 628:App/Src/task.c ****             }
 3010              		.loc 1 628 22 is_stmt 0 view .LVU796
 3011 014e 654A     		ldr	r2, .L227
 3012 0150 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3013 0152 0133     		adds	r3, r3, #1
 3014 0154 1370     		strb	r3, [r2]
 3015 0156 A6E7     		b	.L192
 3016              	.L224:
 613:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 3017              		.loc 1 613 17 is_stmt 1 view .LVU797
 613:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 3018              		.loc 1 613 60 is_stmt 0 view .LVU798
 3019 0158 6A4B     		ldr	r3, .L227+32
 3020 015a D3ED018A 		vldr.32	s17, [r3, #4]
 613:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 3021              		.loc 1 613 48 view .LVU799
 3022 015e 634F     		ldr	r7, .L227+8
 3023 0160 C7ED138A 		vstr.32	s17, [r7, #76]
 614:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3024              		.loc 1 614 17 is_stmt 1 view .LVU800
 614:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3025              		.loc 1 614 59 is_stmt 0 view .LVU801
 3026 0164 9FED698A 		vldr.32	s16, .L227+40
 3027 0168 28EE888A 		vmul.f32	s16, s17, s16
 614:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3028              		.loc 1 614 77 view .LVU802
 3029 016c F7EE007A 		vmov.f32	s15, #1.0e+0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 78


 3030 0170 38EE678A 		vsub.f32	s16, s16, s15
 614:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3031              		.loc 1 614 25 view .LVU803
 3032 0174 DFED667A 		vldr.32	s15, .L227+44
 3033 0178 28EE278A 		vmul.f32	s16, s16, s15
 3034              	.LVL233:
 615:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 3035              		.loc 1 615 17 is_stmt 1 view .LVU804
 3036 017c 18EE100A 		vmov	r0, s16
 3037 0180 FFF7FEFF 		bl	__aeabi_f2d
 3038              	.LVL234:
 3039 0184 0446     		mov	r4, r0
 3040 0186 0D46     		mov	r5, r1
 3041 0188 18EE900A 		vmov	r0, s17
 3042 018c FFF7FEFF 		bl	__aeabi_f2d
 3043              	.LVL235:
 3044 0190 0246     		mov	r2, r0
 3045 0192 0B46     		mov	r3, r1
 3046 0194 5F4E     		ldr	r6, .L227+48
 3047 0196 CDE90045 		strd	r4, [sp]
 3048 019a 3046     		mov	r0, r6
 3049 019c FFF7FEFF 		bl	UsbPrintf
 3050              	.LVL236:
 616:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 3051              		.loc 1 616 17 view .LVU805
 3052 01a0 F86C     		ldr	r0, [r7, #76]	@ float
 3053 01a2 FFF7FEFF 		bl	__aeabi_f2d
 3054              	.LVL237:
 3055 01a6 0246     		mov	r2, r0
 3056 01a8 0B46     		mov	r3, r1
 3057 01aa CDE90045 		strd	r4, [sp]
 3058 01ae 3046     		mov	r0, r6
 3059 01b0 FFF7FEFF 		bl	log_printf
 3060              	.LVL238:
 617:App/Src/task.c ****                     result = 0;
 3061              		.loc 1 617 17 view .LVU806
 617:App/Src/task.c ****                     result = 0;
 3062              		.loc 1 617 20 is_stmt 0 view .LVU807
 3063 01b4 F8EE087A 		vmov.f32	s15, #-3.0e+0
 3064 01b8 B4EEE78A 		vcmpe.f32	s16, s15
 3065 01bc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3066 01c0 06D4     		bmi	.L205
 617:App/Src/task.c ****                     result = 0;
 3067              		.loc 1 617 34 discriminator 1 view .LVU808
 3068 01c2 F0EE087A 		vmov.f32	s15, #3.0e+0
 3069 01c6 B4EEE78A 		vcmpe.f32	s16, s15
 3070 01ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3071 01ce 02DD     		ble	.L206
 3072              	.L205:
 618:App/Src/task.c ****                 }
 3073              		.loc 1 618 21 is_stmt 1 view .LVU809
 618:App/Src/task.c ****                 }
 3074              		.loc 1 618 28 is_stmt 0 view .LVU810
 3075 01d0 494B     		ldr	r3, .L227+20
 3076 01d2 0022     		movs	r2, #0
 3077 01d4 1A70     		strb	r2, [r3]
 3078              	.L206:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 79


 620:App/Src/task.c ****                 state++;
 3079              		.loc 1 620 14 is_stmt 1 view .LVU811
 3080 01d6 FFF7FEFF 		bl	rtc_disable_int
 3081              	.LVL239:
 621:App/Src/task.c ****             }
 3082              		.loc 1 621 17 view .LVU812
 621:App/Src/task.c ****             }
 3083              		.loc 1 621 22 is_stmt 0 view .LVU813
 3084 01da 424A     		ldr	r2, .L227
 3085 01dc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3086 01de 0133     		adds	r3, r3, #1
 3087 01e0 1370     		strb	r3, [r2]
 3088 01e2 A0E7     		b	.L204
 3089              	.LVL240:
 3090              	.L199:
 633:App/Src/task.c ****             HAL_Delay(5);
 3091              		.loc 1 633 13 is_stmt 1 view .LVU814
 633:App/Src/task.c ****             HAL_Delay(5);
 3092              		.loc 1 633 65 is_stmt 0 view .LVU815
 3093 01e4 404B     		ldr	r3, .L227+4
 3094 01e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3095 01e8 013B     		subs	r3, r3, #1
 633:App/Src/task.c ****             HAL_Delay(5);
 3096              		.loc 1 633 70 view .LVU816
 3097 01ea 4B49     		ldr	r1, .L227+52
 3098 01ec 81FB0321 		smull	r2, r1, r1, r3
 3099 01f0 1944     		add	r1, r1, r3
 3100 01f2 DB17     		asrs	r3, r3, #31
 3101 01f4 C3EBE103 		rsb	r3, r3, r1, asr #3
 633:App/Src/task.c ****             HAL_Delay(5);
 3102              		.loc 1 633 49 view .LVU817
 3103 01f8 0421     		movs	r1, #4
 3104 01fa 9940     		lsls	r1, r1, r3
 633:App/Src/task.c ****             HAL_Delay(5);
 3105              		.loc 1 633 13 view .LVU818
 3106 01fc 0022     		movs	r2, #0
 3107 01fe 89B2     		uxth	r1, r1
 3108 0200 4648     		ldr	r0, .L227+56
 3109 0202 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3110              	.LVL241:
 634:App/Src/task.c ****             rtc_read_vbat(&vbat);
 3111              		.loc 1 634 13 is_stmt 1 view .LVU819
 3112 0206 0520     		movs	r0, #5
 3113 0208 FFF7FEFF 		bl	HAL_Delay
 3114              	.LVL242:
 635:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 3115              		.loc 1 635 13 view .LVU820
 3116 020c 03A8     		add	r0, sp, #12
 3117 020e FFF7FEFF 		bl	rtc_read_vbat
 3118              	.LVL243:
 636:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 3119              		.loc 1 636 13 view .LVU821
 636:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 3120              		.loc 1 636 44 is_stmt 0 view .LVU822
 3121 0212 0399     		ldr	r1, [sp, #12]
 3122 0214 01EB8101 		add	r1, r1, r1, lsl #2
 3123 0218 4900     		lsls	r1, r1, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 80


 3124 021a 89B2     		uxth	r1, r1
 3125 021c 334C     		ldr	r4, .L227+8
 3126 021e A4F85010 		strh	r1, [r4, #80]	@ movhi
 637:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 3127              		.loc 1 637 13 is_stmt 1 view .LVU823
 3128 0222 3F4D     		ldr	r5, .L227+60
 3129 0224 2846     		mov	r0, r5
 3130 0226 FFF7FEFF 		bl	UsbPrintf
 3131              	.LVL244:
 638:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {
 3132              		.loc 1 638 13 view .LVU824
 3133 022a B4F85010 		ldrh	r1, [r4, #80]
 3134 022e 2846     		mov	r0, r5
 3135 0230 FFF7FEFF 		bl	log_printf
 3136              	.LVL245:
 639:App/Src/task.c ****                 result = 0;
 3137              		.loc 1 639 13 view .LVU825
 639:App/Src/task.c ****                 result = 0;
 3138              		.loc 1 639 38 is_stmt 0 view .LVU826
 3139 0234 B4F85030 		ldrh	r3, [r4, #80]
 639:App/Src/task.c ****                 result = 0;
 3140              		.loc 1 639 55 view .LVU827
 3141 0238 A3F6FC03 		subw	r3, r3, #2300
 3142 023c 9BB2     		uxth	r3, r3
 639:App/Src/task.c ****                 result = 0;
 3143              		.loc 1 639 16 view .LVU828
 3144 023e B3F5C87F 		cmp	r3, #400
 3145 0242 02D9     		bls	.L208
 640:App/Src/task.c ****             }
 3146              		.loc 1 640 17 is_stmt 1 view .LVU829
 640:App/Src/task.c ****             }
 3147              		.loc 1 640 24 is_stmt 0 view .LVU830
 3148 0244 2C4B     		ldr	r3, .L227+20
 3149 0246 0022     		movs	r2, #0
 3150 0248 1A70     		strb	r2, [r3]
 3151              	.L208:
 642:App/Src/task.c ****             state++;
 3152              		.loc 1 642 13 is_stmt 1 view .LVU831
 642:App/Src/task.c ****             state++;
 3153              		.loc 1 642 65 is_stmt 0 view .LVU832
 3154 024a 274B     		ldr	r3, .L227+4
 3155 024c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3156 024e 013B     		subs	r3, r3, #1
 642:App/Src/task.c ****             state++;
 3157              		.loc 1 642 70 view .LVU833
 3158 0250 3149     		ldr	r1, .L227+52
 3159 0252 81FB0321 		smull	r2, r1, r1, r3
 3160 0256 1944     		add	r1, r1, r3
 3161 0258 DB17     		asrs	r3, r3, #31
 3162 025a C3EBE103 		rsb	r3, r3, r1, asr #3
 642:App/Src/task.c ****             state++;
 3163              		.loc 1 642 49 view .LVU834
 3164 025e 0421     		movs	r1, #4
 3165 0260 9940     		lsls	r1, r1, r3
 642:App/Src/task.c ****             state++;
 3166              		.loc 1 642 13 view .LVU835
 3167 0262 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 81


 3168 0264 89B2     		uxth	r1, r1
 3169 0266 2D48     		ldr	r0, .L227+56
 3170 0268 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3171              	.LVL246:
 643:App/Src/task.c ****         break;
 3172              		.loc 1 643 13 is_stmt 1 view .LVU836
 643:App/Src/task.c ****         break;
 3173              		.loc 1 643 18 is_stmt 0 view .LVU837
 3174 026c 1D4A     		ldr	r2, .L227
 3175 026e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3176 0270 0133     		adds	r3, r3, #1
 3177 0272 1370     		strb	r3, [r2]
 644:App/Src/task.c ****         case 7://充电电压
 3178              		.loc 1 644 9 is_stmt 1 view .LVU838
 3179 0274 17E7     		b	.L192
 3180              	.L198:
 646:App/Src/task.c ****             HAL_Delay(5);
 3181              		.loc 1 646 13 view .LVU839
 3182 0276 0120     		movs	r0, #1
 3183 0278 FFF7FEFF 		bl	rtc_set_bat_charge
 3184              	.LVL247:
 647:App/Src/task.c ****             rtc_read_vbat(&vbat);
 3185              		.loc 1 647 13 view .LVU840
 3186 027c 0520     		movs	r0, #5
 3187 027e FFF7FEFF 		bl	HAL_Delay
 3188              	.LVL248:
 648:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 3189              		.loc 1 648 13 view .LVU841
 3190 0282 03A8     		add	r0, sp, #12
 3191 0284 FFF7FEFF 		bl	rtc_read_vbat
 3192              	.LVL249:
 649:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 3193              		.loc 1 649 13 view .LVU842
 649:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 3194              		.loc 1 649 42 is_stmt 0 view .LVU843
 3195 0288 0399     		ldr	r1, [sp, #12]
 3196 028a 01EB8101 		add	r1, r1, r1, lsl #2
 3197 028e 4900     		lsls	r1, r1, #1
 3198 0290 89B2     		uxth	r1, r1
 3199 0292 164C     		ldr	r4, .L227+8
 3200 0294 A4F85210 		strh	r1, [r4, #82]	@ movhi
 650:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 3201              		.loc 1 650 13 is_stmt 1 view .LVU844
 3202 0298 2248     		ldr	r0, .L227+64
 3203 029a FFF7FEFF 		bl	UsbPrintf
 3204              	.LVL250:
 651:App/Src/task.c ****                 result = 0;
 3205              		.loc 1 651 13 view .LVU845
 651:App/Src/task.c ****                 result = 0;
 3206              		.loc 1 651 38 is_stmt 0 view .LVU846
 3207 029e B4F85230 		ldrh	r3, [r4, #82]
 651:App/Src/task.c ****                 result = 0;
 3208              		.loc 1 651 53 view .LVU847
 3209 02a2 A3F52F63 		sub	r3, r3, #2800
 3210 02a6 9BB2     		uxth	r3, r3
 651:App/Src/task.c ****                 result = 0;
 3211              		.loc 1 651 16 view .LVU848
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 82


 3212 02a8 B3F52F7F 		cmp	r3, #700
 3213 02ac 02D9     		bls	.L209
 652:App/Src/task.c ****             }
 3214              		.loc 1 652 17 is_stmt 1 view .LVU849
 652:App/Src/task.c ****             }
 3215              		.loc 1 652 24 is_stmt 0 view .LVU850
 3216 02ae 124B     		ldr	r3, .L227+20
 3217 02b0 0022     		movs	r2, #0
 3218 02b2 1A70     		strb	r2, [r3]
 3219              	.L209:
 654:App/Src/task.c ****             state++;
 3220              		.loc 1 654 13 is_stmt 1 view .LVU851
 3221 02b4 0020     		movs	r0, #0
 3222 02b6 FFF7FEFF 		bl	rtc_set_bat_charge
 3223              	.LVL251:
 655:App/Src/task.c ****         break;
 3224              		.loc 1 655 13 view .LVU852
 655:App/Src/task.c ****         break;
 3225              		.loc 1 655 18 is_stmt 0 view .LVU853
 3226 02ba 0A4A     		ldr	r2, .L227
 3227 02bc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3228 02be 0133     		adds	r3, r3, #1
 3229 02c0 1370     		strb	r3, [r2]
 656:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 3230              		.loc 1 656 9 is_stmt 1 view .LVU854
 3231 02c2 F0E6     		b	.L192
 3232              	.L197:
 659:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 3233              		.loc 1 659 13 view .LVU855
 3234 02c4 FFF7FEFF 		bl	rtc_set_testmode
 3235              	.LVL252:
 660:App/Src/task.c ****             timeout = HAL_GetTick();
 3236              		.loc 1 660 13 view .LVU856
 3237 02c8 0321     		movs	r1, #3
 3238 02ca 074B     		ldr	r3, .L227+4
 3239 02cc 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3240 02ce FFF7FEFF 		bl	rtc_group_power
 3241              	.LVL253:
 661:App/Src/task.c ****             state++;
 3242              		.loc 1 661 13 view .LVU857
 661:App/Src/task.c ****             state++;
 3243              		.loc 1 661 23 is_stmt 0 view .LVU858
 3244 02d2 FFF7FEFF 		bl	HAL_GetTick
 3245              	.LVL254:
 661:App/Src/task.c ****             state++;
 3246              		.loc 1 661 21 view .LVU859
 3247 02d6 094B     		ldr	r3, .L227+24
 3248 02d8 1860     		str	r0, [r3]
 662:App/Src/task.c ****         break;
 3249              		.loc 1 662 13 is_stmt 1 view .LVU860
 662:App/Src/task.c ****         break;
 3250              		.loc 1 662 18 is_stmt 0 view .LVU861
 3251 02da 024A     		ldr	r2, .L227
 3252 02dc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3253 02de 0133     		adds	r3, r3, #1
 3254 02e0 1370     		strb	r3, [r2]
 663:App/Src/task.c ****         case 9:	
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 83


 3255              		.loc 1 663 9 is_stmt 1 view .LVU862
 3256 02e2 E0E6     		b	.L192
 3257              	.L228:
 3258              		.align	2
 3259              	.L227:
 3260 02e4 00000000 		.word	.LANCHOR23
 3261 02e8 00000000 		.word	.LANCHOR24
 3262 02ec 00000000 		.word	.LANCHOR25
 3263 02f0 00000000 		.word	.LANCHOR26
 3264 02f4 00000000 		.word	.LC18
 3265 02f8 00000000 		.word	.LANCHOR27
 3266 02fc 00000000 		.word	.LANCHOR28
 3267 0300 3C000000 		.word	.LC5
 3268 0304 00000000 		.word	.LANCHOR9
 3269 0308 58000000 		.word	.LC7
 3270 030c 0000803C 		.word	1015021568
 3271 0310 00247449 		.word	1232348160
 3272 0314 18000000 		.word	.LC19
 3273 0318 93244992 		.word	-1840700269
 3274 031c 00040240 		.word	1073873920
 3275 0320 28000000 		.word	.LC20
 3276 0324 38000000 		.word	.LC21
 3277              	.L196:
 665:App/Src/task.c ****                 cur = CS1237Current();
 3278              		.loc 1 665 13 view .LVU863
 665:App/Src/task.c ****                 cur = CS1237Current();
 3279              		.loc 1 665 17 is_stmt 0 view .LVU864
 3280 0328 FFF7FEFF 		bl	HAL_GetTick
 3281              	.LVL255:
 665:App/Src/task.c ****                 cur = CS1237Current();
 3282              		.loc 1 665 42 view .LVU865
 3283 032c 4B4B     		ldr	r3, .L229
 3284 032e 1B68     		ldr	r3, [r3]
 3285 0330 03F57A73 		add	r3, r3, #1000
 665:App/Src/task.c ****                 cur = CS1237Current();
 3286              		.loc 1 665 16 view .LVU866
 3287 0334 9842     		cmp	r0, r3
 3288 0336 7FF6B6AE 		bls	.L192
 666:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 3289              		.loc 1 666 17 is_stmt 1 view .LVU867
 666:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 3290              		.loc 1 666 23 is_stmt 0 view .LVU868
 3291 033a FFF7FEFF 		bl	CS1237Current
 3292              	.LVL256:
 667:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 3293              		.loc 1 667 17 is_stmt 1 view .LVU869
 667:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 3294              		.loc 1 667 20 is_stmt 0 view .LVU870
 3295 033e B5EEC00A 		vcmpe.f32	s0, #0
 3296 0342 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3297 0346 27D4     		bmi	.L225
 3298              	.LVL257:
 3299              	.L210:
 668:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 3300              		.loc 1 668 17 is_stmt 1 view .LVU871
 668:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 3301              		.loc 1 668 46 is_stmt 0 view .LVU872
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 84


 3302 0348 BDEEC00A 		vcvt.s32.f32	s0, s0
 3303              	.LVL258:
 668:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 3304              		.loc 1 668 44 view .LVU873
 3305 034c 10EE103A 		vmov	r3, s0	@ int
 3306 0350 99B2     		uxth	r1, r3
 3307 0352 434C     		ldr	r4, .L229+4
 3308 0354 A4F84410 		strh	r1, [r4, #68]	@ movhi
 669:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 3309              		.loc 1 669 17 is_stmt 1 view .LVU874
 3310 0358 424D     		ldr	r5, .L229+8
 3311 035a 2846     		mov	r0, r5
 3312 035c FFF7FEFF 		bl	UsbPrintf
 3313              	.LVL259:
 670:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 3314              		.loc 1 670 17 view .LVU875
 3315 0360 B4F84410 		ldrh	r1, [r4, #68]
 3316 0364 2846     		mov	r0, r5
 3317 0366 FFF7FEFF 		bl	log_printf
 3318              	.LVL260:
 671:App/Src/task.c ****                     result = 0;
 3319              		.loc 1 671 17 view .LVU876
 671:App/Src/task.c ****                     result = 0;
 3320              		.loc 1 671 42 is_stmt 0 view .LVU877
 3321 036a B4F84420 		ldrh	r2, [r4, #68]
 671:App/Src/task.c ****                     result = 0;
 3322              		.loc 1 671 20 view .LVU878
 3323 036e 40F2DC53 		movw	r3, #1500
 3324 0372 9A42     		cmp	r2, r3
 3325 0374 02D9     		bls	.L211
 672:App/Src/task.c ****                 }
 3326              		.loc 1 672 21 is_stmt 1 view .LVU879
 672:App/Src/task.c ****                 }
 3327              		.loc 1 672 28 is_stmt 0 view .LVU880
 3328 0376 3C4B     		ldr	r3, .L229+12
 3329 0378 0022     		movs	r2, #0
 3330 037a 1A70     		strb	r2, [r3]
 3331              	.L211:
 674:App/Src/task.c ****                 timeout = HAL_GetTick();
 3332              		.loc 1 674 17 is_stmt 1 view .LVU881
 3333 037c 0221     		movs	r1, #2
 3334 037e 3B4B     		ldr	r3, .L229+16
 3335 0380 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3336 0382 FFF7FEFF 		bl	rtc_group_power
 3337              	.LVL261:
 675:App/Src/task.c ****                 state++;
 3338              		.loc 1 675 17 view .LVU882
 675:App/Src/task.c ****                 state++;
 3339              		.loc 1 675 27 is_stmt 0 view .LVU883
 3340 0386 FFF7FEFF 		bl	HAL_GetTick
 3341              	.LVL262:
 675:App/Src/task.c ****                 state++;
 3342              		.loc 1 675 25 view .LVU884
 3343 038a 344B     		ldr	r3, .L229
 3344 038c 1860     		str	r0, [r3]
 676:App/Src/task.c ****             }
 3345              		.loc 1 676 17 is_stmt 1 view .LVU885
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 85


 676:App/Src/task.c ****             }
 3346              		.loc 1 676 22 is_stmt 0 view .LVU886
 3347 038e 384A     		ldr	r2, .L229+20
 3348 0390 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3349 0392 0133     		adds	r3, r3, #1
 3350 0394 1370     		strb	r3, [r2]
 3351 0396 86E6     		b	.L192
 3352              	.LVL263:
 3353              	.L225:
 667:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 3354              		.loc 1 667 35 view .LVU887
 3355 0398 9FED360A 		vldr.32	s0, .L229+24
 3356              	.LVL264:
 667:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 3357              		.loc 1 667 35 view .LVU888
 3358 039c D4E7     		b	.L210
 3359              	.L195:
 680:App/Src/task.c ****                 cur = CS1237Current();
 3360              		.loc 1 680 13 is_stmt 1 view .LVU889
 680:App/Src/task.c ****                 cur = CS1237Current();
 3361              		.loc 1 680 17 is_stmt 0 view .LVU890
 3362 039e FFF7FEFF 		bl	HAL_GetTick
 3363              	.LVL265:
 680:App/Src/task.c ****                 cur = CS1237Current();
 3364              		.loc 1 680 42 view .LVU891
 3365 03a2 2E4B     		ldr	r3, .L229
 3366 03a4 1B68     		ldr	r3, [r3]
 3367 03a6 03F57A73 		add	r3, r3, #1000
 680:App/Src/task.c ****                 cur = CS1237Current();
 3368              		.loc 1 680 16 view .LVU892
 3369 03aa 9842     		cmp	r0, r3
 3370 03ac 7FF67BAE 		bls	.L192
 681:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 3371              		.loc 1 681 17 is_stmt 1 view .LVU893
 681:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 3372              		.loc 1 681 23 is_stmt 0 view .LVU894
 3373 03b0 FFF7FEFF 		bl	CS1237Current
 3374              	.LVL266:
 682:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 3375              		.loc 1 682 17 is_stmt 1 view .LVU895
 682:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 3376              		.loc 1 682 20 is_stmt 0 view .LVU896
 3377 03b4 B5EEC00A 		vcmpe.f32	s0, #0
 3378 03b8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 3379 03bc 23D4     		bmi	.L226
 3380              	.LVL267:
 3381              	.L212:
 683:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 3382              		.loc 1 683 17 is_stmt 1 view .LVU897
 683:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 3383              		.loc 1 683 46 is_stmt 0 view .LVU898
 3384 03be BDEEC00A 		vcvt.s32.f32	s0, s0
 3385              	.LVL268:
 683:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 3386              		.loc 1 683 45 view .LVU899
 3387 03c2 10EE103A 		vmov	r3, s0	@ int
 3388 03c6 99B2     		uxth	r1, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 86


 3389 03c8 254C     		ldr	r4, .L229+4
 3390 03ca A4F84610 		strh	r1, [r4, #70]	@ movhi
 684:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 3391              		.loc 1 684 17 is_stmt 1 view .LVU900
 3392 03ce 2A4D     		ldr	r5, .L229+28
 3393 03d0 2846     		mov	r0, r5
 3394 03d2 FFF7FEFF 		bl	UsbPrintf
 3395              	.LVL269:
 685:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 3396              		.loc 1 685 17 view .LVU901
 3397 03d6 B4F84610 		ldrh	r1, [r4, #70]
 3398 03da 2846     		mov	r0, r5
 3399 03dc FFF7FEFF 		bl	log_printf
 3400              	.LVL270:
 686:App/Src/task.c ****                     result = 0;
 3401              		.loc 1 686 17 view .LVU902
 686:App/Src/task.c ****                     result = 0;
 3402              		.loc 1 686 42 is_stmt 0 view .LVU903
 3403 03e0 B4F84620 		ldrh	r2, [r4, #70]
 686:App/Src/task.c ****                     result = 0;
 3404              		.loc 1 686 20 view .LVU904
 3405 03e4 40F2DC53 		movw	r3, #1500
 3406 03e8 9A42     		cmp	r2, r3
 3407 03ea 02D9     		bls	.L213
 687:App/Src/task.c ****                 }
 3408              		.loc 1 687 21 is_stmt 1 view .LVU905
 687:App/Src/task.c ****                 }
 3409              		.loc 1 687 28 is_stmt 0 view .LVU906
 3410 03ec 1E4B     		ldr	r3, .L229+12
 3411 03ee 0022     		movs	r2, #0
 3412 03f0 1A70     		strb	r2, [r3]
 3413              	.L213:
 689:App/Src/task.c ****                 // rtc_exit_testmode();
 3414              		.loc 1 689 17 is_stmt 1 view .LVU907
 3415 03f2 0121     		movs	r1, #1
 3416 03f4 1D4B     		ldr	r3, .L229+16
 3417 03f6 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3418 03f8 FFF7FEFF 		bl	rtc_group_power
 3419              	.LVL271:
 691:App/Src/task.c ****             }
 3420              		.loc 1 691 17 view .LVU908
 691:App/Src/task.c ****             }
 3421              		.loc 1 691 22 is_stmt 0 view .LVU909
 3422 03fc 1C4A     		ldr	r2, .L229+20
 3423 03fe 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3424 0400 0133     		adds	r3, r3, #1
 3425 0402 1370     		strb	r3, [r2]
 3426 0404 4FE6     		b	.L192
 3427              	.LVL272:
 3428              	.L226:
 682:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 3429              		.loc 1 682 35 view .LVU910
 3430 0406 9FED1B0A 		vldr.32	s0, .L229+24
 3431              	.LVL273:
 682:App/Src/task.c ****                 g_machineTest.machine.Ivbat =(int)cur;
 3432              		.loc 1 682 35 view .LVU911
 3433 040a D8E7     		b	.L212
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 87


 3434              	.L193:
 696:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 3435              		.loc 1 696 13 is_stmt 1 view .LVU912
 696:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 3436              		.loc 1 696 24 is_stmt 0 view .LVU913
 3437 040c 164B     		ldr	r3, .L229+12
 3438 040e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 696:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 3439              		.loc 1 696 16 view .LVU914
 3440 0410 6BB9     		cbnz	r3, .L214
 697:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 3441              		.loc 1 697 17 is_stmt 1 view .LVU915
 3442 0412 164D     		ldr	r5, .L229+16
 3443 0414 194C     		ldr	r4, .L229+32
 3444 0416 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 3445 0418 2046     		mov	r0, r4
 3446 041a FFF7FEFF 		bl	UsbPrintf
 3447              	.LVL274:
 698:App/Src/task.c ****             } else {
 3448              		.loc 1 698 17 view .LVU916
 3449 041e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 3450 0420 2046     		mov	r0, r4
 3451 0422 FFF7FEFF 		bl	log_printf
 3452              	.LVL275:
 3453              	.L215:
 703:App/Src/task.c ****         break;
 3454              		.loc 1 703 13 view .LVU917
 703:App/Src/task.c ****         break;
 3455              		.loc 1 703 19 is_stmt 0 view .LVU918
 3456 0426 124B     		ldr	r3, .L229+20
 3457 0428 0022     		movs	r2, #0
 3458 042a 1A70     		strb	r2, [r3]
 704:App/Src/task.c ****         default:  break;
 3459              		.loc 1 704 9 is_stmt 1 view .LVU919
 3460 042c 3BE6     		b	.L192
 3461              	.L214:
 700:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 3462              		.loc 1 700 17 view .LVU920
 3463 042e 0F4D     		ldr	r5, .L229+16
 3464 0430 134C     		ldr	r4, .L229+36
 3465 0432 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 3466 0434 2046     		mov	r0, r4
 3467 0436 FFF7FEFF 		bl	UsbPrintf
 3468              	.LVL276:
 701:App/Src/task.c ****             }
 3469              		.loc 1 701 17 view .LVU921
 3470 043a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 3471 043c 2046     		mov	r0, r4
 3472 043e FFF7FEFF 		bl	log_printf
 3473              	.LVL277:
 3474 0442 F0E7     		b	.L215
 3475              	.L219:
 707:App/Src/task.c ****     if (state == 0) {
 3476              		.loc 1 707 53 is_stmt 0 view .LVU922
 3477 0444 4FF0FF30 		mov	r0, #-1
 3478              	.L190:
 711:App/Src/task.c ****         } else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 88


 712:App/Src/task.c ****             return -1;
 713:App/Src/task.c ****         }
 714:App/Src/task.c ****     } else {
 715:App/Src/task.c ****         return 0;
 716:App/Src/task.c ****     }
 717:App/Src/task.c **** }
 3479              		.loc 1 717 1 view .LVU923
 3480 0448 05B0     		add	sp, sp, #20
 3481              	.LCFI35:
 3482              		.cfi_remember_state
 3483              		.cfi_def_cfa_offset 28
 3484              		@ sp needed
 3485 044a BDEC028B 		vldm	sp!, {d8}
 3486              	.LCFI36:
 3487              		.cfi_restore 80
 3488              		.cfi_restore 81
 3489              		.cfi_def_cfa_offset 20
 3490 044e F0BD     		pop	{r4, r5, r6, r7, pc}
 3491              	.L220:
 3492              	.LCFI37:
 3493              		.cfi_restore_state
 715:App/Src/task.c ****     }
 3494              		.loc 1 715 16 view .LVU924
 3495 0450 0020     		movs	r0, #0
 3496 0452 F9E7     		b	.L190
 3497              	.L221:
 712:App/Src/task.c ****         }
 3498              		.loc 1 712 20 view .LVU925
 3499 0454 4FF0FF30 		mov	r0, #-1
 3500 0458 F6E7     		b	.L190
 3501              	.L230:
 3502 045a 00BF     		.align	2
 3503              	.L229:
 3504 045c 00000000 		.word	.LANCHOR28
 3505 0460 00000000 		.word	.LANCHOR25
 3506 0464 48000000 		.word	.LC22
 3507 0468 00000000 		.word	.LANCHOR27
 3508 046c 00000000 		.word	.LANCHOR24
 3509 0470 00000000 		.word	.LANCHOR23
 3510 0474 00000000 		.word	0
 3511 0478 54000000 		.word	.LC23
 3512 047c 60000000 		.word	.LC24
 3513 0480 7C000000 		.word	.LC25
 3514              		.cfi_endproc
 3515              	.LFE245:
 3517              		.section	.text.make_chip_ID,"ax",%progbits
 3518              		.align	1
 3519              		.global	make_chip_ID
 3520              		.syntax unified
 3521              		.thumb
 3522              		.thumb_func
 3524              	make_chip_ID:
 3525              	.LVL278:
 3526              	.LFB246:
 718:App/Src/task.c **** 
 719:App/Src/task.c **** void make_chip_ID(uint8_t* buffer, uint8_t number)
 720:App/Src/task.c **** {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 89


 3527              		.loc 1 720 1 is_stmt 1 view -0
 3528              		.cfi_startproc
 3529              		@ args = 0, pretend = 0, frame = 0
 3530              		@ frame_needed = 0, uses_anonymous_args = 0
 3531              		@ link register save eliminated.
 721:App/Src/task.c ****     buffer[0] = 0x23;
 3532              		.loc 1 721 5 view .LVU927
 3533              		.loc 1 721 15 is_stmt 0 view .LVU928
 3534 0000 2322     		movs	r2, #35
 3535 0002 0270     		strb	r2, [r0]
 722:App/Src/task.c ****     buffer[1] = 0x10;
 3536              		.loc 1 722 5 is_stmt 1 view .LVU929
 3537              		.loc 1 722 15 is_stmt 0 view .LVU930
 3538 0004 1023     		movs	r3, #16
 3539 0006 4370     		strb	r3, [r0, #1]
 723:App/Src/task.c ****     buffer[2] = 0x09;
 3540              		.loc 1 723 5 is_stmt 1 view .LVU931
 3541              		.loc 1 723 15 is_stmt 0 view .LVU932
 3542 0008 0923     		movs	r3, #9
 3543 000a 8370     		strb	r3, [r0, #2]
 724:App/Src/task.c ****     buffer[3] = 0x00;
 3544              		.loc 1 724 5 is_stmt 1 view .LVU933
 3545              		.loc 1 724 15 is_stmt 0 view .LVU934
 3546 000c 0023     		movs	r3, #0
 3547 000e C370     		strb	r3, [r0, #3]
 725:App/Src/task.c ****     buffer[4] = 0x23;
 3548              		.loc 1 725 5 is_stmt 1 view .LVU935
 3549              		.loc 1 725 15 is_stmt 0 view .LVU936
 3550 0010 0271     		strb	r2, [r0, #4]
 726:App/Src/task.c ****     buffer[5] = 0x41;
 3551              		.loc 1 726 5 is_stmt 1 view .LVU937
 3552              		.loc 1 726 15 is_stmt 0 view .LVU938
 3553 0012 4122     		movs	r2, #65
 3554 0014 4271     		strb	r2, [r0, #5]
 727:App/Src/task.c ****     buffer[6] = 0x00;
 3555              		.loc 1 727 5 is_stmt 1 view .LVU939
 3556              		.loc 1 727 15 is_stmt 0 view .LVU940
 3557 0016 8371     		strb	r3, [r0, #6]
 728:App/Src/task.c ****     buffer[7] = ((number / 10) * 16) + (number % 10);
 3558              		.loc 1 728 5 is_stmt 1 view .LVU941
 3559              		.loc 1 728 38 is_stmt 0 view .LVU942
 3560 0018 A3F13333 		sub	r3, r3, #858993459
 3561 001c A3FB0123 		umull	r2, r3, r3, r1
 3562 0020 DB08     		lsrs	r3, r3, #3
 3563 0022 03EB8302 		add	r2, r3, r3, lsl #2
 3564 0026 A1EB4201 		sub	r1, r1, r2, lsl #1
 3565              	.LVL279:
 3566              		.loc 1 728 38 view .LVU943
 3567 002a 01EB0311 		add	r1, r1, r3, lsl #4
 3568              		.loc 1 728 15 view .LVU944
 3569 002e C171     		strb	r1, [r0, #7]
 729:App/Src/task.c **** }
 3570              		.loc 1 729 1 view .LVU945
 3571 0030 7047     		bx	lr
 3572              		.cfi_endproc
 3573              	.LFE246:
 3575              		.section	.rodata.system_machine_write_one.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 90


 3576              		.align	2
 3577              	.LC26:
 3578 0000 6D616368 		.ascii	"machine test chip:%d start\012\000"
 3578      696E6520 
 3578      74657374 
 3578      20636869 
 3578      703A2564 
 3579              		.align	2
 3580              	.LC27:
 3581 001c 636F6E66 		.ascii	"config9:0x%02X, configC:0x%02X\012\000"
 3581      6967393A 
 3581      30782530 
 3581      32582C20 
 3581      636F6E66 
 3582              		.align	2
 3583              	.LC28:
 3584 003c 63686970 		.ascii	"chip%d config9 not set, test end!\012\000"
 3584      25642063 
 3584      6F6E6669 
 3584      6739206E 
 3584      6F742073 
 3585 005f 00       		.align	2
 3586              	.LC29:
 3587 0060 73797374 		.ascii	"system temp:%d, \000"
 3587      656D2074 
 3587      656D703A 
 3587      25642C20 
 3587      00
 3588 0071 000000   		.align	2
 3589              	.LC30:
 3590 0074 72746320 		.ascii	"rtc temp:%d\012\000"
 3590      74656D70 
 3590      3A25640A 
 3590      00
 3591 0081 000000   		.align	2
 3592              	.LC31:
 3593 0084 63616C63 		.ascii	"calculate configC:0x%02x\012\000"
 3593      756C6174 
 3593      6520636F 
 3593      6E666967 
 3593      433A3078 
 3594 009e 0000     		.align	2
 3595              	.LC32:
 3596 00a0 6F747020 		.ascii	"otp lock!\012\000"
 3596      6C6F636B 
 3596      210A00
 3597 00ab 00       		.align	2
 3598              	.LC33:
 3599 00ac 63686970 		.ascii	"chip %d otp download error, i2c[%d], config[0x%02x]"
 3599      20256420 
 3599      6F747020 
 3599      646F776E 
 3599      6C6F6164 
 3600 00df 0A00     		.ascii	"\012\000"
 3601 00e1 000000   		.align	2
 3602              	.LC34:
 3603 00e4 63686970 		.ascii	"chip %d otp download error\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 91


 3603      20256420 
 3603      6F747020 
 3603      646F776E 
 3603      6C6F6164 
 3604              		.align	2
 3605              	.LC35:
 3606 0100 63686970 		.ascii	"chip %d otp download success\012\000"
 3606      20256420 
 3606      6F747020 
 3606      646F776E 
 3606      6C6F6164 
 3607 011e 0000     		.align	2
 3608              	.LC36:
 3609 0120 77616974 		.ascii	"waiting 1s for power off, then renew otp\012\000"
 3609      696E6720 
 3609      31732066 
 3609      6F722070 
 3609      6F776572 
 3610              		.section	.text.system_machine_write_one,"ax",%progbits
 3611              		.align	1
 3612              		.global	system_machine_write_one
 3613              		.syntax unified
 3614              		.thumb
 3615              		.thumb_func
 3617              	system_machine_write_one:
 3618              	.LVL280:
 3619              	.LFB247:
 730:App/Src/task.c **** 
 731:App/Src/task.c **** 
 732:App/Src/task.c **** 
 733:App/Src/task.c **** //-------------------检烧模式-----------------------------------------------
 734:App/Src/task.c **** //即若configc为空，需要烧录otp
 735:App/Src/task.c **** #define TASK_MCHAINE_TEST_END   20
 736:App/Src/task.c **** int system_machine_write_one(uint8_t number, uint8_t mode)
 737:App/Src/task.c **** {
 3620              		.loc 1 737 1 is_stmt 1 view -0
 3621              		.cfi_startproc
 3622              		@ args = 0, pretend = 0, frame = 32
 3623              		@ frame_needed = 0, uses_anonymous_args = 0
 3624              		.loc 1 737 1 is_stmt 0 view .LVU947
 3625 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3626              	.LCFI38:
 3627              		.cfi_def_cfa_offset 28
 3628              		.cfi_offset 4, -28
 3629              		.cfi_offset 5, -24
 3630              		.cfi_offset 6, -20
 3631              		.cfi_offset 7, -16
 3632              		.cfi_offset 8, -12
 3633              		.cfi_offset 9, -8
 3634              		.cfi_offset 14, -4
 3635 0004 2DED028B 		vpush.64	{d8}
 3636              	.LCFI39:
 3637              		.cfi_def_cfa_offset 36
 3638              		.cfi_offset 80, -36
 3639              		.cfi_offset 81, -32
 3640 0008 8BB0     		sub	sp, sp, #44
 3641              	.LCFI40:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 92


 3642              		.cfi_def_cfa_offset 80
 3643 000a 0446     		mov	r4, r0
 738:App/Src/task.c **** 	float ppm4096, cur;
 3644              		.loc 1 738 2 is_stmt 1 view .LVU948
 739:App/Src/task.c **** 	uint8_t buffer[16] = {0};
 3645              		.loc 1 739 2 view .LVU949
 3646              		.loc 1 739 10 is_stmt 0 view .LVU950
 3647 000c 0023     		movs	r3, #0
 3648 000e 0693     		str	r3, [sp, #24]
 3649 0010 0793     		str	r3, [sp, #28]
 3650 0012 0893     		str	r3, [sp, #32]
 3651 0014 0993     		str	r3, [sp, #36]
 740:App/Src/task.c **** 	int vbat = 0;
 3652              		.loc 1 740 2 is_stmt 1 view .LVU951
 3653              		.loc 1 740 6 is_stmt 0 view .LVU952
 3654 0016 0593     		str	r3, [sp, #20]
 741:App/Src/task.c **** 	uint8_t i2c_result;
 3655              		.loc 1 741 2 is_stmt 1 view .LVU953
 742:App/Src/task.c ****     static uint8_t testConfigC = 0;
 3656              		.loc 1 742 5 view .LVU954
 743:App/Src/task.c **** 	static uint8_t result = 1;
 3657              		.loc 1 743 2 view .LVU955
 744:App/Src/task.c ****     static uint8_t state = 0;
 3658              		.loc 1 744 5 view .LVU956
 745:App/Src/task.c ****     static uint32_t timeout;
 3659              		.loc 1 745 5 view .LVU957
 746:App/Src/task.c ****     uint32_t address;	
 3660              		.loc 1 746 5 view .LVU958
 747:App/Src/task.c ****     static uint8_t testNumber = 0;
 3661              		.loc 1 747 5 view .LVU959
 748:App/Src/task.c ****     uint8_t readConfig = 0;
 3662              		.loc 1 748 5 view .LVU960
 3663              	.LVL281:
 749:App/Src/task.c ****     static uint32_t startTime;
 3664              		.loc 1 749 5 view .LVU961
 750:App/Src/task.c **** 
 751:App/Src/task.c ****     if (mode == 1) {//在设置开始时就设定测试序号，后续不能变更
 3665              		.loc 1 751 5 view .LVU962
 3666              		.loc 1 751 8 is_stmt 0 view .LVU963
 3667 0018 0129     		cmp	r1, #1
 3668 001a 1AD0     		beq	.L281
 3669              	.LVL282:
 3670              	.L233:
 752:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 753:App/Src/task.c ****         flash_read_data(address, buffer, 4);
 754:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 755:App/Src/task.c ****             state = 0;
 756:App/Src/task.c ****             return 1;
 757:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 758:App/Src/task.c ****         state = 1;
 759:App/Src/task.c ****         testNumber = number;
 760:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 761:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 762:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 763:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 764:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 765:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 93


 766:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 767:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 768:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 769:App/Src/task.c ****         testConfigC = 0;
 770:App/Src/task.c ****         startTime = HAL_GetTick();
 771:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 772:App/Src/task.c ****         log_printf("machine test chip:%d start\n", number);
 773:App/Src/task.c ****     }
 774:App/Src/task.c **** 
 775:App/Src/task.c ****     switch (state) {
 3671              		.loc 1 775 5 is_stmt 1 view .LVU964
 3672 001c AE4B     		ldr	r3, .L286
 3673 001e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3674 0020 531E     		subs	r3, r2, #1
 3675 0022 132B     		cmp	r3, #19
 3676 0024 6BD8     		bhi	.L237
 3677 0026 DFE813F0 		tbh	[pc, r3, lsl #1]
 3678              	.L239:
 3679 002a 5A00     		.2byte	(.L252-.L239)/2
 3680 002c 8000     		.2byte	(.L251-.L239)/2
 3681 002e E600     		.2byte	(.L250-.L239)/2
 3682 0030 F500     		.2byte	(.L249-.L239)/2
 3683 0032 0B01     		.2byte	(.L248-.L239)/2
 3684 0034 9601     		.2byte	(.L247-.L239)/2
 3685 0036 FB01     		.2byte	(.L246-.L239)/2
 3686 0038 4002     		.2byte	(.L245-.L239)/2
 3687 003a 6702     		.2byte	(.L244-.L239)/2
 3688 003c BF02     		.2byte	(.L243-.L239)/2
 3689 003e 1303     		.2byte	(.L242-.L239)/2
 3690 0040 2303     		.2byte	(.L241-.L239)/2
 3691 0042 5E03     		.2byte	(.L240-.L239)/2
 3692 0044 6A00     		.2byte	(.L237-.L239)/2
 3693 0046 6A00     		.2byte	(.L237-.L239)/2
 3694 0048 6A00     		.2byte	(.L237-.L239)/2
 3695 004a 6A00     		.2byte	(.L237-.L239)/2
 3696 004c 6A00     		.2byte	(.L237-.L239)/2
 3697 004e 6A00     		.2byte	(.L237-.L239)/2
 3698 0050 9703     		.2byte	(.L238-.L239)/2
 3699              	.LVL283:
 3700              		.p2align 1
 3701              	.L281:
 752:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3702              		.loc 1 752 9 view .LVU965
 752:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3703              		.loc 1 752 42 is_stmt 0 view .LVU966
 3704 0052 0730     		adds	r0, r0, #7
 3705              	.LVL284:
 752:App/Src/task.c ****         address = TEST_RESULT_START_ADDR + (number - 1) * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL +
 3706              		.loc 1 752 42 view .LVU967
 3707 0054 4002     		lsls	r0, r0, #9
 3708              	.LVL285:
 753:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 3709              		.loc 1 753 9 is_stmt 1 view .LVU968
 3710 0056 0422     		movs	r2, #4
 3711 0058 06A9     		add	r1, sp, #24
 3712              	.LVL286:
 753:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 94


 3713              		.loc 1 753 9 is_stmt 0 view .LVU969
 3714 005a 4230     		adds	r0, r0, #66
 3715              	.LVL287:
 753:App/Src/task.c ****         if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { 
 3716              		.loc 1 753 9 view .LVU970
 3717 005c FFF7FEFF 		bl	flash_read_data
 3718              	.LVL288:
 754:App/Src/task.c ****             state = 0;
 3719              		.loc 1 754 9 is_stmt 1 view .LVU971
 754:App/Src/task.c ****             state = 0;
 3720              		.loc 1 754 19 is_stmt 0 view .LVU972
 3721 0060 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 754:App/Src/task.c ****             state = 0;
 3722              		.loc 1 754 12 view .LVU973
 3723 0064 FF2B     		cmp	r3, #255
 3724 0066 0BD1     		bne	.L234
 754:App/Src/task.c ****             state = 0;
 3725              		.loc 1 754 40 discriminator 1 view .LVU974
 3726 0068 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 754:App/Src/task.c ****             state = 0;
 3727              		.loc 1 754 31 discriminator 1 view .LVU975
 3728 006c FF2B     		cmp	r3, #255
 3729 006e 07D1     		bne	.L234
 754:App/Src/task.c ****             state = 0;
 3730              		.loc 1 754 61 discriminator 2 view .LVU976
 3731 0070 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 754:App/Src/task.c ****             state = 0;
 3732              		.loc 1 754 52 discriminator 2 view .LVU977
 3733 0074 FF2B     		cmp	r3, #255
 3734 0076 03D1     		bne	.L234
 754:App/Src/task.c ****             state = 0;
 3735              		.loc 1 754 82 discriminator 3 view .LVU978
 3736 0078 9DF81B30 		ldrb	r3, [sp, #27]	@ zero_extendqisi2
 754:App/Src/task.c ****             state = 0;
 3737              		.loc 1 754 73 discriminator 3 view .LVU979
 3738 007c FF2B     		cmp	r3, #255
 3739 007e 04D0     		beq	.L235
 3740              	.L234:
 755:App/Src/task.c ****             return 1;
 3741              		.loc 1 755 13 is_stmt 1 view .LVU980
 755:App/Src/task.c ****             return 1;
 3742              		.loc 1 755 19 is_stmt 0 view .LVU981
 3743 0080 954B     		ldr	r3, .L286
 3744 0082 0022     		movs	r2, #0
 3745 0084 1A70     		strb	r2, [r3]
 756:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 3746              		.loc 1 756 13 is_stmt 1 view .LVU982
 756:App/Src/task.c ****         }//先读取flash数据，若有数据，表示已测试成功，不会覆盖；
 3747              		.loc 1 756 20 is_stmt 0 view .LVU983
 3748 0086 0120     		movs	r0, #1
 3749 0088 89E3     		b	.L232
 3750              	.L235:
 758:App/Src/task.c ****         testNumber = number;
 3751              		.loc 1 758 9 is_stmt 1 view .LVU984
 758:App/Src/task.c ****         testNumber = number;
 3752              		.loc 1 758 15 is_stmt 0 view .LVU985
 3753 008a 934B     		ldr	r3, .L286
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 95


 3754 008c 0122     		movs	r2, #1
 3755 008e 1A70     		strb	r2, [r3]
 759:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 3756              		.loc 1 759 9 is_stmt 1 view .LVU986
 759:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 3757              		.loc 1 759 20 is_stmt 0 view .LVU987
 3758 0090 924B     		ldr	r3, .L286+4
 3759 0092 1C70     		strb	r4, [r3]
 760:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 3760              		.loc 1 760 9 is_stmt 1 view .LVU988
 760:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0;
 3761              		.loc 1 760 36 is_stmt 0 view .LVU989
 3762 0094 924B     		ldr	r3, .L286+8
 3763 0096 0022     		movs	r2, #0
 3764 0098 A3F84420 		strh	r2, [r3, #68]	@ movhi
 761:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 3765              		.loc 1 761 9 is_stmt 1 view .LVU990
 761:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 3766              		.loc 1 761 37 is_stmt 0 view .LVU991
 3767 009c A3F84620 		strh	r2, [r3, #70]	@ movhi
 762:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 3768              		.loc 1 762 9 is_stmt 1 view .LVU992
 762:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 3769              		.loc 1 762 39 is_stmt 0 view .LVU993
 3770 00a0 FF21     		movs	r1, #255
 3771 00a2 83F84810 		strb	r1, [r3, #72]
 763:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 3772              		.loc 1 763 9 is_stmt 1 view .LVU994
 763:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 3773              		.loc 1 763 39 is_stmt 0 view .LVU995
 3774 00a6 83F84910 		strb	r1, [r3, #73]
 764:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 3775              		.loc 1 764 9 is_stmt 1 view .LVU996
 764:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 3776              		.loc 1 764 39 is_stmt 0 view .LVU997
 3777 00aa 83F84A20 		strb	r2, [r3, #74]
 765:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 3778              		.loc 1 765 9 is_stmt 1 view .LVU998
 765:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 3779              		.loc 1 765 39 is_stmt 0 view .LVU999
 3780 00ae 83F84B20 		strb	r2, [r3, #75]
 766:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 3781              		.loc 1 766 9 is_stmt 1 view .LVU1000
 766:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 3782              		.loc 1 766 40 is_stmt 0 view .LVU1001
 3783 00b2 0021     		movs	r1, #0
 3784 00b4 D964     		str	r1, [r3, #76]	@ float
 767:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 3785              		.loc 1 767 9 is_stmt 1 view .LVU1002
 767:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 3786              		.loc 1 767 40 is_stmt 0 view .LVU1003
 3787 00b6 A3F85020 		strh	r2, [r3, #80]	@ movhi
 768:App/Src/task.c ****         testConfigC = 0;
 3788              		.loc 1 768 9 is_stmt 1 view .LVU1004
 768:App/Src/task.c ****         testConfigC = 0;
 3789              		.loc 1 768 38 is_stmt 0 view .LVU1005
 3790 00ba A3F85220 		strh	r2, [r3, #82]	@ movhi
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 96


 769:App/Src/task.c ****         startTime = HAL_GetTick();
 3791              		.loc 1 769 9 is_stmt 1 view .LVU1006
 769:App/Src/task.c ****         startTime = HAL_GetTick();
 3792              		.loc 1 769 21 is_stmt 0 view .LVU1007
 3793 00be 894B     		ldr	r3, .L286+12
 3794 00c0 1A70     		strb	r2, [r3]
 770:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3795              		.loc 1 770 9 is_stmt 1 view .LVU1008
 770:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3796              		.loc 1 770 21 is_stmt 0 view .LVU1009
 3797 00c2 FFF7FEFF 		bl	HAL_GetTick
 3798              	.LVL289:
 770:App/Src/task.c ****         UsbPrintf("machine test chip:%d start\n", number);
 3799              		.loc 1 770 19 view .LVU1010
 3800 00c6 884B     		ldr	r3, .L286+16
 3801 00c8 1860     		str	r0, [r3]
 771:App/Src/task.c ****         log_printf("machine test chip:%d start\n", number);
 3802              		.loc 1 771 9 is_stmt 1 view .LVU1011
 3803 00ca 884D     		ldr	r5, .L286+20
 3804 00cc 2146     		mov	r1, r4
 3805 00ce 2846     		mov	r0, r5
 3806 00d0 FFF7FEFF 		bl	UsbPrintf
 3807              	.LVL290:
 772:App/Src/task.c ****     }
 3808              		.loc 1 772 9 view .LVU1012
 3809 00d4 2146     		mov	r1, r4
 3810 00d6 2846     		mov	r0, r5
 3811 00d8 FFF7FEFF 		bl	log_printf
 3812              	.LVL291:
 3813 00dc 9EE7     		b	.L233
 3814              	.LVL292:
 3815              	.L252:
 776:App/Src/task.c ****         case 1:
 777:App/Src/task.c **** 	        rtc_group_power(testNumber, POWER_I2C);
 3816              		.loc 1 777 10 view .LVU1013
 3817 00de 0121     		movs	r1, #1
 3818 00e0 7E4B     		ldr	r3, .L286+4
 3819 00e2 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3820 00e4 FFF7FEFF 		bl	rtc_group_power
 3821              	.LVL293:
 778:App/Src/task.c ****             result = 1;
 3822              		.loc 1 778 13 view .LVU1014
 3823              		.loc 1 778 20 is_stmt 0 view .LVU1015
 3824 00e8 814B     		ldr	r3, .L286+24
 3825 00ea 0122     		movs	r2, #1
 3826 00ec 1A70     		strb	r2, [r3]
 779:App/Src/task.c ****             timeout = HAL_GetTick();
 3827              		.loc 1 779 13 is_stmt 1 view .LVU1016
 3828              		.loc 1 779 23 is_stmt 0 view .LVU1017
 3829 00ee FFF7FEFF 		bl	HAL_GetTick
 3830              	.LVL294:
 3831              		.loc 1 779 21 view .LVU1018
 3832 00f2 804B     		ldr	r3, .L286+28
 3833 00f4 1860     		str	r0, [r3]
 780:App/Src/task.c ****             state++;
 3834              		.loc 1 780 13 is_stmt 1 view .LVU1019
 3835              		.loc 1 780 18 is_stmt 0 view .LVU1020
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 97


 3836 00f6 784A     		ldr	r2, .L286
 3837 00f8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3838 00fa 0133     		adds	r3, r3, #1
 3839 00fc 1370     		strb	r3, [r2]
 781:App/Src/task.c ****         break;
 3840              		.loc 1 781 9 is_stmt 1 view .LVU1021
 3841              	.LVL295:
 3842              	.L237:
 782:App/Src/task.c ****         case 2:
 783:App/Src/task.c ****             if (HAL_GetTick() < (timeout + 800)) {
 784:App/Src/task.c ****                 break;
 785:App/Src/task.c ****             }
 786:App/Src/task.c ****             // i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 787:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 788:App/Src/task.c ****             //     HAL_Delay(5);
 789:App/Src/task.c ****             //     i2c_result = rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 790:App/Src/task.c ****             // }
 791:App/Src/task.c ****             // if (i2c_result != I2C_OK) {
 792:App/Src/task.c ****             //     state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 793:App/Src/task.c ****             //     UsbPrintf("chip%d i2c error, test end!\n", number);
 794:App/Src/task.c ****             //     log_printf("chip%d i2c error!\n", number);
 795:App/Src/task.c ****             //     result = 0;
 796:App/Src/task.c ****             //     break;
 797:App/Src/task.c ****             // }
 798:App/Src/task.c ****             g_machineTest.machine.config9 = buffer[9];
 799:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 800:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 801:App/Src/task.c ****             log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machine
 802:App/Src/task.c ****             if (g_machineTest.machine.config9 == 0xff) {
 803:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 804:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
 805:App/Src/task.c ****                 log_printf("chip%d config9 not set, test end!\n", number);
 806:App/Src/task.c ****                 result = 0;
 807:App/Src/task.c ****                 break;
 808:App/Src/task.c ****             }
 809:App/Src/task.c ****             rtc_set_testmode();
 810:App/Src/task.c ****             g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 811:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 812:App/Src/task.c ****             rtc_read_temp(&g_machineTest.machine.rtcTemp);
 813:App/Src/task.c ****             UsbPrintf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 814:App/Src/task.c ****             log_printf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 815:App/Src/task.c ****             if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 816:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 817:App/Src/task.c ****                 result = 0;
 818:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 819:App/Src/task.c ****                 break;
 820:App/Src/task.c ****             }
 821:App/Src/task.c ****             state++;
 822:App/Src/task.c ****         break;
 823:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 824:App/Src/task.c ****         case 3:	
 825:App/Src/task.c ****             rtc_set_int_channel(testNumber);
 826:App/Src/task.c **** 	        rtc_out_4096();            
 827:App/Src/task.c ****             timeout = HAL_GetTick();
 828:App/Src/task.c ****             state++;
 829:App/Src/task.c ****         break;
 830:App/Src/task.c ****         case 4:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 98


 831:App/Src/task.c ****             if (HAL_GetTick() > timeout + 100) {
 832:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 833:App/Src/task.c ****                 timeout = HAL_GetTick();
 834:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 835:App/Src/task.c ****                 state++;
 836:App/Src/task.c ****             }
 837:App/Src/task.c ****         break;
 838:App/Src/task.c ****         case 5:
 839:App/Src/task.c ****             if (g_lastFreq.recordTime > timeout) {//有新的数据更新，计算误差
 840:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 841:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 842:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 843:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 844:App/Src/task.c **** 	            rtc_disable_int();
 845:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 846:App/Src/task.c ****                     result = 0;
 847:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 848:App/Src/task.c ****                     break;
 849:App/Src/task.c ****                 }
 850:App/Src/task.c ****                 state++;
 851:App/Src/task.c ****             }
 852:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1500) {//1.5s超时
 853:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 854:App/Src/task.c ****                 log_printf("device no respose!\n");
 855:App/Src/task.c ****                 result = 0;
 856:App/Src/task.c **** 	            rtc_disable_int();
 857:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 858:App/Src/task.c ****                 break;
 859:App/Src/task.c ****             }
 860:App/Src/task.c ****         break;
 861:App/Src/task.c **** //---------------------------测试电池--------------------------------------------------
 862:App/Src/task.c ****         case 6://------------------检查电池电压数值并写入configc------------------
 863:App/Src/task.c ****             // rtc_read_otp_data(buffer, SD3900_CONFIG0_ADDR, 16);
 864:App/Src/task.c ****             if (buffer[0x0C] != 0xff) {//configC存在数据，跳过烧录阶段
 865:App/Src/task.c ****                 state += 3;
 866:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 867:App/Src/task.c ****                 if (buffer[0] & 0x80) {//未被锁死，可以正常烧录
 868:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 869:App/Src/task.c ****                     HAL_Delay(10);
 870:App/Src/task.c ****                     rtc_read_vbat(&vbat);
 871:App/Src/task.c ****                     testConfigC = vbat - 250;
 872:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 873:App/Src/task.c ****                     log_printf("calculate configC:0x%02x\n", testConfigC);
 874:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 875:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 876:App/Src/task.c ****                         result = 0;
 877:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
 878:App/Src/task.c ****                         break;
 879:App/Src/task.c ****                     }
 880:App/Src/task.c ****                     // rtc_group_power(testNumber, POWER_DOWNLOAD);
 881:App/Src/task.c ****                     state++;
 882:App/Src/task.c ****                 } else {
 883:App/Src/task.c ****                     result = 0;
 884:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 885:App/Src/task.c ****                     log_printf("otp lock!\n");
 886:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;
 887:App/Src/task.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 99


 888:App/Src/task.c ****             }
 889:App/Src/task.c ****         break;
 890:App/Src/task.c ****         case 7://写otp的configC数据
 891:App/Src/task.c ****             i2c_result = rtc_download_otp_data(&testConfigC, SD3900_CONFIGC_ADDR, 1);//write config
 892:App/Src/task.c ****             readConfig = 0xff;
 893:App/Src/task.c ****             // rtc_read_otp_data(&readConfig, SD3900_CONFIGC_ADDR, 1);
 894:App/Src/task.c ****             if (i2c_result != I2C_OK || readConfig != testConfigC) {
 895:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 896:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 897:App/Src/task.c ****                 result = 0; 
 898:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 899:App/Src/task.c ****             } else {
 900:App/Src/task.c ****                 UsbPrintf("chip %d otp download success\n", testNumber);
 901:App/Src/task.c ****             }
 902:App/Src/task.c ****             make_chip_ID(buffer, testNumber);
 903:App/Src/task.c ****             rtc_download_otp_data(buffer, SD3900_ID_ADDR, 8);//write id
 904:App/Src/task.c ****             buffer[0] = 0x7f;
 905:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 906:App/Src/task.c ****             rtc_group_power(0, POWER_OFF);
 907:App/Src/task.c ****             UsbPrintf("waiting 1s for power off, then renew otp\n");
 908:App/Src/task.c ****             timeout = HAL_GetTick();
 909:App/Src/task.c ****             state++;
 910:App/Src/task.c ****         break;
 911:App/Src/task.c ****         case 8:
 912:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1000) {
 913:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 914:App/Src/task.c ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 915:App/Src/task.c ****                 timeout = HAL_GetTick();
 916:App/Src/task.c ****                 state++;
 917:App/Src/task.c ****             }
 918:App/Src/task.c ****         break;
 919:App/Src/task.c ****         case 9://测试电池功能，电池电压
 920:App/Src/task.c ****             if (HAL_GetTick() < timeout + 800) {
 921:App/Src/task.c ****                 break;
 922:App/Src/task.c ****             }
 923:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 924:App/Src/task.c ****             HAL_Delay(10);
 925:App/Src/task.c ****             rtc_read_vbat(&vbat);
 926:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 927:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 928:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 929:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 930:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 931:App/Src/task.c ****                 result = 0;
 932:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 933:App/Src/task.c ****                 break;
 934:App/Src/task.c ****             }
 935:App/Src/task.c ****             state++;
 936:App/Src/task.c ****         break;
 937:App/Src/task.c ****         case 10://充电电压
 938:App/Src/task.c ****             rtc_set_bat_charge(1);
 939:App/Src/task.c ****             HAL_Delay(5);
 940:App/Src/task.c ****             rtc_read_vbat(&vbat);
 941:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 942:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 943:App/Src/task.c ****             log_printf("charge = %dmV\n", g_machineTest.machine.charge);
 944:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 100


 945:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
 946:App/Src/task.c ****                 result = 0;
 947:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 948:App/Src/task.c ****                 break;
 949:App/Src/task.c ****             }
 950:App/Src/task.c ****             state++;
 951:App/Src/task.c ****         break;
 952:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 953:App/Src/task.c ****         case 11:	
 954:App/Src/task.c ****             rtc_set_testmode();
 955:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 956:App/Src/task.c ****             timeout = HAL_GetTick();
 957:App/Src/task.c ****             state++;
 958:App/Src/task.c ****         break;
 959:App/Src/task.c ****         case 12:	
 960:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 961:App/Src/task.c ****                 cur = CS1237Current();
 962:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 963:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 964:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 965:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 966:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 967:App/Src/task.c ****                     result = 0;
 968:App/Src/task.c ****                 }
 969:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_BAT_I);
 970:App/Src/task.c ****                 timeout = HAL_GetTick();
 971:App/Src/task.c ****                 state++;
 972:App/Src/task.c ****             }
 973:App/Src/task.c ****         break;
 974:App/Src/task.c ****         case 13:
 975:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 976:App/Src/task.c ****                 cur = CS1237Current();
 977:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 978:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 979:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 980:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 981:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 982:App/Src/task.c ****                     result = 0;
 983:App/Src/task.c ****                 }
 984:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 985:App/Src/task.c ****                 HAL_Delay(5);
 986:App/Src/task.c ****                 // rtc_exit_testmode();
 987:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 988:App/Src/task.c ****             }
 989:App/Src/task.c ****         break;
 990:App/Src/task.c ****         case TASK_MCHAINE_TEST_END:
 991:App/Src/task.c ****             //-----------------------------测试结束------------------------------------------------
 992:App/Src/task.c ****             if (result == 0) {
 993:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 994:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 995:App/Src/task.c ****             } else {
 996:App/Src/task.c ****                 UsbPrintf("test all end, chip %d OK\n", testNumber);
 997:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 998:App/Src/task.c ****                 flash_test_data_write_add(&g_machineTest, testNumber, MACHINE_TEST_ALL);
 999:App/Src/task.c ****             }
1000:App/Src/task.c ****             state = 0;
1001:App/Src/task.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 101


1002:App/Src/task.c ****         default:  break;
1003:App/Src/task.c ****     }
1004:App/Src/task.c ****     if (HAL_GetTick() > startTime + 20000) { return -1; }//单个芯片测试时间超过20s时，强制判定ng；
 3843              		.loc 1 1004 5 view .LVU1022
 3844              		.loc 1 1004 9 is_stmt 0 view .LVU1023
 3845 00fe FFF7FEFF 		bl	HAL_GetTick
 3846              	.LVL296:
 3847              		.loc 1 1004 35 view .LVU1024
 3848 0102 794B     		ldr	r3, .L286+16
 3849 0104 1B68     		ldr	r3, [r3]
 3850 0106 03F59C43 		add	r3, r3, #19968
 3851 010a 2033     		adds	r3, r3, #32
 3852              		.loc 1 1004 8 view .LVU1025
 3853 010c 9842     		cmp	r0, r3
 3854 010e 00F24483 		bhi	.L276
1005:App/Src/task.c ****     if (state == 0) {
 3855              		.loc 1 1005 5 is_stmt 1 view .LVU1026
 3856              		.loc 1 1005 15 is_stmt 0 view .LVU1027
 3857 0112 714B     		ldr	r3, .L286
 3858 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3859              		.loc 1 1005 8 view .LVU1028
 3860 0116 002B     		cmp	r3, #0
 3861 0118 40F04683 		bne	.L277
1006:App/Src/task.c ****         if (result != 0) {
 3862              		.loc 1 1006 9 is_stmt 1 view .LVU1029
 3863              		.loc 1 1006 20 is_stmt 0 view .LVU1030
 3864 011c 744B     		ldr	r3, .L286+24
 3865 011e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3866              		.loc 1 1006 12 view .LVU1031
 3867 0120 002B     		cmp	r3, #0
 3868 0122 00F04383 		beq	.L278
1007:App/Src/task.c ****             return 1;
 3869              		.loc 1 1007 20 view .LVU1032
 3870 0126 0120     		movs	r0, #1
 3871 0128 39E3     		b	.L232
 3872              	.LVL297:
 3873              	.L251:
 783:App/Src/task.c ****                 break;
 3874              		.loc 1 783 13 is_stmt 1 view .LVU1033
 783:App/Src/task.c ****                 break;
 3875              		.loc 1 783 17 is_stmt 0 view .LVU1034
 3876 012a FFF7FEFF 		bl	HAL_GetTick
 3877              	.LVL298:
 783:App/Src/task.c ****                 break;
 3878              		.loc 1 783 42 view .LVU1035
 3879 012e 714B     		ldr	r3, .L286+28
 3880 0130 1B68     		ldr	r3, [r3]
 3881 0132 03F54873 		add	r3, r3, #800
 783:App/Src/task.c ****                 break;
 3882              		.loc 1 783 16 view .LVU1036
 3883 0136 9842     		cmp	r0, r3
 3884 0138 E1D3     		bcc	.L237
 798:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3885              		.loc 1 798 13 is_stmt 1 view .LVU1037
 798:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3886              		.loc 1 798 51 is_stmt 0 view .LVU1038
 3887 013a 9DF82110 		ldrb	r1, [sp, #33]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 102


 798:App/Src/task.c ****             g_machineTest.machine.configC = buffer[0xC];
 3888              		.loc 1 798 43 view .LVU1039
 3889 013e 684D     		ldr	r5, .L286+8
 3890 0140 85F84810 		strb	r1, [r5, #72]
 799:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3891              		.loc 1 799 13 is_stmt 1 view .LVU1040
 799:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3892              		.loc 1 799 51 is_stmt 0 view .LVU1041
 3893 0144 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 799:App/Src/task.c ****             UsbPrintf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machineT
 3894              		.loc 1 799 43 view .LVU1042
 3895 0148 85F84920 		strb	r2, [r5, #73]
 800:App/Src/task.c ****             log_printf("config9:0x%02X, configC:0x%02X\n", g_machineTest.machine.config9, g_machine
 3896              		.loc 1 800 13 is_stmt 1 view .LVU1043
 3897 014c 6A4E     		ldr	r6, .L286+32
 3898 014e 3046     		mov	r0, r6
 3899 0150 FFF7FEFF 		bl	UsbPrintf
 3900              	.LVL299:
 801:App/Src/task.c ****             if (g_machineTest.machine.config9 == 0xff) {
 3901              		.loc 1 801 13 view .LVU1044
 3902 0154 95F84920 		ldrb	r2, [r5, #73]	@ zero_extendqisi2
 3903 0158 95F84810 		ldrb	r1, [r5, #72]	@ zero_extendqisi2
 3904 015c 3046     		mov	r0, r6
 3905 015e FFF7FEFF 		bl	log_printf
 3906              	.LVL300:
 802:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 3907              		.loc 1 802 13 view .LVU1045
 802:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 3908              		.loc 1 802 38 is_stmt 0 view .LVU1046
 3909 0162 95F84830 		ldrb	r3, [r5, #72]	@ zero_extendqisi2
 802:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了，通信不成功
 3910              		.loc 1 802 16 view .LVU1047
 3911 0166 FF2B     		cmp	r3, #255
 3912 0168 30D0     		beq	.L282
 809:App/Src/task.c ****             g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 3913              		.loc 1 809 13 is_stmt 1 view .LVU1048
 3914 016a FFF7FEFF 		bl	rtc_set_testmode
 3915              	.LVL301:
 810:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3916              		.loc 1 810 13 view .LVU1049
 810:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3917              		.loc 1 810 50 is_stmt 0 view .LVU1050
 3918 016e 0120     		movs	r0, #1
 3919 0170 FFF7FEFF 		bl	temp_read_value
 3920              	.LVL302:
 810:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3921              		.loc 1 810 45 view .LVU1051
 3922 0174 FDEEC07A 		vcvt.s32.f32	s15, s0
 3923 0178 CDED037A 		vstr.32	s15, [sp, #12]	@ int
 810:App/Src/task.c ****             UsbPrintf("system temp:%d, ", g_machineTest.machine.sysTemp);
 3924              		.loc 1 810 43 view .LVU1052
 3925 017c 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
 3926 0180 574C     		ldr	r4, .L286+8
 3927 0182 84F84A10 		strb	r1, [r4, #74]
 811:App/Src/task.c ****             rtc_read_temp(&g_machineTest.machine.rtcTemp);
 3928              		.loc 1 811 13 is_stmt 1 view .LVU1053
 3929 0186 5D48     		ldr	r0, .L286+36
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 103


 3930 0188 FFF7FEFF 		bl	UsbPrintf
 3931              	.LVL303:
 812:App/Src/task.c ****             UsbPrintf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 3932              		.loc 1 812 13 view .LVU1054
 3933 018c 04F14B00 		add	r0, r4, #75
 3934 0190 FFF7FEFF 		bl	rtc_read_temp
 3935              	.LVL304:
 813:App/Src/task.c ****             log_printf("rtc temp:%d\n", g_machineTest.machine.rtcTemp);
 3936              		.loc 1 813 13 view .LVU1055
 3937 0194 5A4D     		ldr	r5, .L286+40
 3938 0196 94F84B10 		ldrb	r1, [r4, #75]	@ zero_extendqisi2
 3939 019a 2846     		mov	r0, r5
 3940 019c FFF7FEFF 		bl	UsbPrintf
 3941              	.LVL305:
 814:App/Src/task.c ****             if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 3942              		.loc 1 814 13 view .LVU1056
 3943 01a0 94F84B10 		ldrb	r1, [r4, #75]	@ zero_extendqisi2
 3944 01a4 2846     		mov	r0, r5
 3945 01a6 FFF7FEFF 		bl	log_printf
 3946              	.LVL306:
 815:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3947              		.loc 1 815 13 view .LVU1057
 815:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3948              		.loc 1 815 38 is_stmt 0 view .LVU1058
 3949 01aa 94F84B20 		ldrb	r2, [r4, #75]	@ zero_extendqisi2
 815:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3950              		.loc 1 815 71 view .LVU1059
 3951 01ae 94F84A30 		ldrb	r3, [r4, #74]	@ zero_extendqisi2
 815:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3952              		.loc 1 815 80 view .LVU1060
 3953 01b2 591D     		adds	r1, r3, #5
 815:App/Src/task.c ****                 || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 3954              		.loc 1 815 16 view .LVU1061
 3955 01b4 8A42     		cmp	r2, r1
 3956 01b6 02DC     		bgt	.L254
 816:App/Src/task.c ****                 result = 0;
 3957              		.loc 1 816 83 view .LVU1062
 3958 01b8 053B     		subs	r3, r3, #5
 816:App/Src/task.c ****                 result = 0;
 3959              		.loc 1 816 17 view .LVU1063
 3960 01ba 9A42     		cmp	r2, r3
 3961 01bc 16DA     		bge	.L255
 3962              	.L254:
 817:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 3963              		.loc 1 817 17 is_stmt 1 view .LVU1064
 817:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 3964              		.loc 1 817 24 is_stmt 0 view .LVU1065
 3965 01be 4C4B     		ldr	r3, .L286+24
 3966 01c0 0022     		movs	r2, #0
 3967 01c2 1A70     		strb	r2, [r3]
 818:App/Src/task.c ****                 break;
 3968              		.loc 1 818 17 is_stmt 1 view .LVU1066
 818:App/Src/task.c ****                 break;
 3969              		.loc 1 818 23 is_stmt 0 view .LVU1067
 3970 01c4 444B     		ldr	r3, .L286
 3971 01c6 1422     		movs	r2, #20
 3972 01c8 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 104


 819:App/Src/task.c ****             }
 3973              		.loc 1 819 17 is_stmt 1 view .LVU1068
 3974 01ca 98E7     		b	.L237
 3975              	.L282:
 803:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
 3976              		.loc 1 803 17 view .LVU1069
 803:App/Src/task.c ****                 UsbPrintf("chip%d config9 not set, test end!\n", number);
 3977              		.loc 1 803 23 is_stmt 0 view .LVU1070
 3978 01cc 424B     		ldr	r3, .L286
 3979 01ce 1422     		movs	r2, #20
 3980 01d0 1A70     		strb	r2, [r3]
 804:App/Src/task.c ****                 log_printf("chip%d config9 not set, test end!\n", number);
 3981              		.loc 1 804 17 is_stmt 1 view .LVU1071
 3982 01d2 4C4D     		ldr	r5, .L286+44
 3983 01d4 2146     		mov	r1, r4
 3984 01d6 2846     		mov	r0, r5
 3985 01d8 FFF7FEFF 		bl	UsbPrintf
 3986              	.LVL307:
 805:App/Src/task.c ****                 result = 0;
 3987              		.loc 1 805 17 view .LVU1072
 3988 01dc 2146     		mov	r1, r4
 3989 01de 2846     		mov	r0, r5
 3990 01e0 FFF7FEFF 		bl	log_printf
 3991              	.LVL308:
 806:App/Src/task.c ****                 break;
 3992              		.loc 1 806 17 view .LVU1073
 806:App/Src/task.c ****                 break;
 3993              		.loc 1 806 24 is_stmt 0 view .LVU1074
 3994 01e4 424B     		ldr	r3, .L286+24
 3995 01e6 0022     		movs	r2, #0
 3996 01e8 1A70     		strb	r2, [r3]
 807:App/Src/task.c ****             }
 3997              		.loc 1 807 17 is_stmt 1 view .LVU1075
 3998 01ea 88E7     		b	.L237
 3999              	.L255:
 821:App/Src/task.c ****         break;
 4000              		.loc 1 821 13 view .LVU1076
 821:App/Src/task.c ****         break;
 4001              		.loc 1 821 18 is_stmt 0 view .LVU1077
 4002 01ec 3A4A     		ldr	r2, .L286
 4003 01ee 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4004 01f0 0133     		adds	r3, r3, #1
 4005 01f2 1370     		strb	r3, [r2]
 822:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 4006              		.loc 1 822 9 is_stmt 1 view .LVU1078
 4007 01f4 83E7     		b	.L237
 4008              	.L250:
 825:App/Src/task.c **** 	        rtc_out_4096();            
 4009              		.loc 1 825 13 view .LVU1079
 4010 01f6 394B     		ldr	r3, .L286+4
 4011 01f8 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4012 01fa FFF7FEFF 		bl	rtc_set_int_channel
 4013              	.LVL309:
 826:App/Src/task.c ****             timeout = HAL_GetTick();
 4014              		.loc 1 826 10 view .LVU1080
 4015 01fe FFF7FEFF 		bl	rtc_out_4096
 4016              	.LVL310:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 105


 827:App/Src/task.c ****             state++;
 4017              		.loc 1 827 13 view .LVU1081
 827:App/Src/task.c ****             state++;
 4018              		.loc 1 827 23 is_stmt 0 view .LVU1082
 4019 0202 FFF7FEFF 		bl	HAL_GetTick
 4020              	.LVL311:
 827:App/Src/task.c ****             state++;
 4021              		.loc 1 827 21 view .LVU1083
 4022 0206 3B4B     		ldr	r3, .L286+28
 4023 0208 1860     		str	r0, [r3]
 828:App/Src/task.c ****         break;
 4024              		.loc 1 828 13 is_stmt 1 view .LVU1084
 828:App/Src/task.c ****         break;
 4025              		.loc 1 828 18 is_stmt 0 view .LVU1085
 4026 020a 334A     		ldr	r2, .L286
 4027 020c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4028 020e 0133     		adds	r3, r3, #1
 4029 0210 1370     		strb	r3, [r2]
 829:App/Src/task.c ****         case 4:
 4030              		.loc 1 829 9 is_stmt 1 view .LVU1086
 4031 0212 74E7     		b	.L237
 4032              	.L249:
 831:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 4033              		.loc 1 831 13 view .LVU1087
 831:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 4034              		.loc 1 831 17 is_stmt 0 view .LVU1088
 4035 0214 FFF7FEFF 		bl	HAL_GetTick
 4036              	.LVL312:
 831:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 4037              		.loc 1 831 41 view .LVU1089
 4038 0218 364B     		ldr	r3, .L286+28
 4039 021a 1B68     		ldr	r3, [r3]
 4040 021c 6433     		adds	r3, r3, #100
 831:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 4041              		.loc 1 831 16 view .LVU1090
 4042 021e 9842     		cmp	r0, r3
 4043 0220 7FF66DAF 		bls	.L237
 832:App/Src/task.c ****                 timeout = HAL_GetTick();
 4044              		.loc 1 832 14 is_stmt 1 view .LVU1091
 4045 0224 3848     		ldr	r0, .L286+48
 4046 0226 FFF7FEFF 		bl	DevicePrintf
 4047              	.LVL313:
 833:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 4048              		.loc 1 833 17 view .LVU1092
 833:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 4049              		.loc 1 833 27 is_stmt 0 view .LVU1093
 4050 022a FFF7FEFF 		bl	HAL_GetTick
 4051              	.LVL314:
 833:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 4052              		.loc 1 833 25 view .LVU1094
 4053 022e 314B     		ldr	r3, .L286+28
 4054 0230 1860     		str	r0, [r3]
 834:App/Src/task.c ****                 state++;
 4055              		.loc 1 834 17 is_stmt 1 view .LVU1095
 834:App/Src/task.c ****                 state++;
 4056              		.loc 1 834 39 is_stmt 0 view .LVU1096
 4057 0232 364B     		ldr	r3, .L286+52
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 106


 4058 0234 1860     		str	r0, [r3]
 835:App/Src/task.c ****             }
 4059              		.loc 1 835 17 is_stmt 1 view .LVU1097
 835:App/Src/task.c ****             }
 4060              		.loc 1 835 22 is_stmt 0 view .LVU1098
 4061 0236 284A     		ldr	r2, .L286
 4062 0238 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4063 023a 0133     		adds	r3, r3, #1
 4064 023c 1370     		strb	r3, [r2]
 4065 023e 5EE7     		b	.L237
 4066              	.L248:
 839:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 4067              		.loc 1 839 13 is_stmt 1 view .LVU1099
 839:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 4068              		.loc 1 839 27 is_stmt 0 view .LVU1100
 4069 0240 324B     		ldr	r3, .L286+52
 4070 0242 1A68     		ldr	r2, [r3]
 839:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 4071              		.loc 1 839 39 view .LVU1101
 4072 0244 2B4B     		ldr	r3, .L286+28
 4073 0246 1B68     		ldr	r3, [r3]
 839:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 4074              		.loc 1 839 16 view .LVU1102
 4075 0248 9A42     		cmp	r2, r3
 4076 024a 6BD9     		bls	.L256
 840:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 4077              		.loc 1 840 17 is_stmt 1 view .LVU1103
 840:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 4078              		.loc 1 840 60 is_stmt 0 view .LVU1104
 4079 024c 2F4B     		ldr	r3, .L286+52
 4080 024e D3ED018A 		vldr.32	s17, [r3, #4]
 840:App/Src/task.c ****                 ppm4096 = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 4081              		.loc 1 840 48 view .LVU1105
 4082 0252 234F     		ldr	r7, .L286+8
 4083 0254 C7ED138A 		vstr.32	s17, [r7, #76]
 841:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 4084              		.loc 1 841 17 is_stmt 1 view .LVU1106
 841:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 4085              		.loc 1 841 59 is_stmt 0 view .LVU1107
 4086 0258 9FED2D8A 		vldr.32	s16, .L286+56
 4087 025c 28EE888A 		vmul.f32	s16, s17, s16
 841:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 4088              		.loc 1 841 77 view .LVU1108
 4089 0260 F7EE007A 		vmov.f32	s15, #1.0e+0
 4090 0264 38EE678A 		vsub.f32	s16, s16, s15
 841:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 4091              		.loc 1 841 25 view .LVU1109
 4092 0268 DFED2A7A 		vldr.32	s15, .L286+60
 4093 026c 28EE278A 		vmul.f32	s16, s16, s15
 4094              	.LVL315:
 842:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm4096);
 4095              		.loc 1 842 17 is_stmt 1 view .LVU1110
 4096 0270 18EE100A 		vmov	r0, s16
 4097 0274 FFF7FEFF 		bl	__aeabi_f2d
 4098              	.LVL316:
 4099 0278 0446     		mov	r4, r0
 4100 027a 0D46     		mov	r5, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 107


 4101 027c 18EE900A 		vmov	r0, s17
 4102 0280 FFF7FEFF 		bl	__aeabi_f2d
 4103              	.LVL317:
 4104 0284 0246     		mov	r2, r0
 4105 0286 0B46     		mov	r3, r1
 4106 0288 234E     		ldr	r6, .L286+64
 4107 028a CDE90045 		strd	r4, [sp]
 4108 028e 3046     		mov	r0, r6
 4109 0290 FFF7FEFF 		bl	UsbPrintf
 4110              	.LVL318:
 843:App/Src/task.c **** 	            rtc_disable_int();
 4111              		.loc 1 843 17 view .LVU1111
 4112 0294 F86C     		ldr	r0, [r7, #76]	@ float
 4113 0296 FFF7FEFF 		bl	__aeabi_f2d
 4114              	.LVL319:
 4115 029a 0246     		mov	r2, r0
 4116 029c 0B46     		mov	r3, r1
 4117 029e CDE90045 		strd	r4, [sp]
 4118 02a2 3046     		mov	r0, r6
 4119 02a4 FFF7FEFF 		bl	log_printf
 4120              	.LVL320:
 844:App/Src/task.c ****                 if (ppm4096 < -3 || ppm4096 > 3) {
 4121              		.loc 1 844 14 view .LVU1112
 4122 02a8 FFF7FEFF 		bl	rtc_disable_int
 4123              	.LVL321:
 845:App/Src/task.c ****                     result = 0;
 4124              		.loc 1 845 17 view .LVU1113
 845:App/Src/task.c ****                     result = 0;
 4125              		.loc 1 845 20 is_stmt 0 view .LVU1114
 4126 02ac F8EE087A 		vmov.f32	s15, #-3.0e+0
 4127 02b0 B4EEE78A 		vcmpe.f32	s16, s15
 4128 02b4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4129 02b8 06D4     		bmi	.L257
 845:App/Src/task.c ****                     result = 0;
 4130              		.loc 1 845 34 discriminator 1 view .LVU1115
 4131 02ba F0EE087A 		vmov.f32	s15, #3.0e+0
 4132 02be B4EEE78A 		vcmpe.f32	s16, s15
 4133 02c2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4134 02c6 29DD     		ble	.L279
 4135              	.L257:
 846:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 4136              		.loc 1 846 21 is_stmt 1 view .LVU1116
 846:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;//直接结束了
 4137              		.loc 1 846 28 is_stmt 0 view .LVU1117
 4138 02c8 094B     		ldr	r3, .L286+24
 4139 02ca 0022     		movs	r2, #0
 4140 02cc 1A70     		strb	r2, [r3]
 847:App/Src/task.c ****                     break;
 4141              		.loc 1 847 21 is_stmt 1 view .LVU1118
 847:App/Src/task.c ****                     break;
 4142              		.loc 1 847 27 is_stmt 0 view .LVU1119
 4143 02ce 024B     		ldr	r3, .L286
 4144 02d0 1422     		movs	r2, #20
 4145 02d2 1A70     		strb	r2, [r3]
 848:App/Src/task.c ****                 }
 4146              		.loc 1 848 21 is_stmt 1 view .LVU1120
 4147 02d4 13E7     		b	.L237
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 108


 4148              	.L287:
 4149 02d6 00BF     		.align	2
 4150              	.L286:
 4151 02d8 00000000 		.word	.LANCHOR29
 4152 02dc 00000000 		.word	.LANCHOR30
 4153 02e0 00000000 		.word	.LANCHOR25
 4154 02e4 00000000 		.word	.LANCHOR31
 4155 02e8 00000000 		.word	.LANCHOR32
 4156 02ec 00000000 		.word	.LC26
 4157 02f0 00000000 		.word	.LANCHOR33
 4158 02f4 00000000 		.word	.LANCHOR34
 4159 02f8 1C000000 		.word	.LC27
 4160 02fc 60000000 		.word	.LC29
 4161 0300 74000000 		.word	.LC30
 4162 0304 3C000000 		.word	.LC28
 4163 0308 3C000000 		.word	.LC5
 4164 030c 00000000 		.word	.LANCHOR9
 4165 0310 0000803C 		.word	1015021568
 4166 0314 00247449 		.word	1232348160
 4167 0318 18000000 		.word	.LC19
 4168              	.L279:
 850:App/Src/task.c ****             }
 4169              		.loc 1 850 17 view .LVU1121
 850:App/Src/task.c ****             }
 4170              		.loc 1 850 22 is_stmt 0 view .LVU1122
 4171 031c BB4A     		ldr	r2, .L288
 4172 031e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4173 0320 0133     		adds	r3, r3, #1
 4174 0322 1370     		strb	r3, [r2]
 4175              	.LVL322:
 4176              	.L256:
 852:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 4177              		.loc 1 852 13 is_stmt 1 view .LVU1123
 852:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 4178              		.loc 1 852 17 is_stmt 0 view .LVU1124
 4179 0324 FFF7FEFF 		bl	HAL_GetTick
 4180              	.LVL323:
 852:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 4181              		.loc 1 852 41 view .LVU1125
 4182 0328 B94B     		ldr	r3, .L288+4
 4183 032a 1B68     		ldr	r3, [r3]
 4184 032c 03F2DC53 		addw	r3, r3, #1500
 852:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 4185              		.loc 1 852 16 view .LVU1126
 4186 0330 9842     		cmp	r0, r3
 4187 0332 7FF6E4AE 		bls	.L237
 853:App/Src/task.c ****                 log_printf("device no respose!\n");
 4188              		.loc 1 853 17 is_stmt 1 view .LVU1127
 4189 0336 B74C     		ldr	r4, .L288+8
 4190 0338 2046     		mov	r0, r4
 4191 033a FFF7FEFF 		bl	UsbPrintf
 4192              	.LVL324:
 854:App/Src/task.c ****                 result = 0;
 4193              		.loc 1 854 17 view .LVU1128
 4194 033e 2046     		mov	r0, r4
 4195 0340 FFF7FEFF 		bl	log_printf
 4196              	.LVL325:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 109


 855:App/Src/task.c **** 	            rtc_disable_int();
 4197              		.loc 1 855 17 view .LVU1129
 855:App/Src/task.c **** 	            rtc_disable_int();
 4198              		.loc 1 855 24 is_stmt 0 view .LVU1130
 4199 0344 B44B     		ldr	r3, .L288+12
 4200 0346 0022     		movs	r2, #0
 4201 0348 1A70     		strb	r2, [r3]
 856:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 4202              		.loc 1 856 14 is_stmt 1 view .LVU1131
 4203 034a FFF7FEFF 		bl	rtc_disable_int
 4204              	.LVL326:
 857:App/Src/task.c ****                 break;
 4205              		.loc 1 857 17 view .LVU1132
 857:App/Src/task.c ****                 break;
 4206              		.loc 1 857 23 is_stmt 0 view .LVU1133
 4207 034e AF4B     		ldr	r3, .L288
 4208 0350 1422     		movs	r2, #20
 4209 0352 1A70     		strb	r2, [r3]
 858:App/Src/task.c ****             }
 4210              		.loc 1 858 17 is_stmt 1 view .LVU1134
 4211 0354 D3E6     		b	.L237
 4212              	.L247:
 864:App/Src/task.c ****                 state += 3;
 4213              		.loc 1 864 13 view .LVU1135
 864:App/Src/task.c ****                 state += 3;
 4214              		.loc 1 864 23 is_stmt 0 view .LVU1136
 4215 0356 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 864:App/Src/task.c ****                 state += 3;
 4216              		.loc 1 864 16 view .LVU1137
 4217 035a FF2B     		cmp	r3, #255
 4218 035c 03D0     		beq	.L260
 865:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 4219              		.loc 1 865 17 is_stmt 1 view .LVU1138
 865:App/Src/task.c ****             } else {//configc为空，需要设置，再烧录otp
 4220              		.loc 1 865 23 is_stmt 0 view .LVU1139
 4221 035e 0332     		adds	r2, r2, #3
 4222 0360 AA4B     		ldr	r3, .L288
 4223 0362 1A70     		strb	r2, [r3]
 4224 0364 CBE6     		b	.L237
 4225              	.L260:
 867:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 4226              		.loc 1 867 17 is_stmt 1 view .LVU1140
 867:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 4227              		.loc 1 867 21 is_stmt 0 view .LVU1141
 4228 0366 9DF91830 		ldrsb	r3, [sp, #24]
 867:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET)
 4229              		.loc 1 867 20 view .LVU1142
 4230 036a 002B     		cmp	r3, #0
 4231 036c 0DDB     		blt	.L283
 883:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 4232              		.loc 1 883 21 is_stmt 1 view .LVU1143
 883:App/Src/task.c ****                     UsbPrintf("otp lock!\n");
 4233              		.loc 1 883 28 is_stmt 0 view .LVU1144
 4234 036e AA4B     		ldr	r3, .L288+12
 4235 0370 0022     		movs	r2, #0
 4236 0372 1A70     		strb	r2, [r3]
 884:App/Src/task.c ****                     log_printf("otp lock!\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 110


 4237              		.loc 1 884 21 is_stmt 1 view .LVU1145
 4238 0374 A94C     		ldr	r4, .L288+16
 4239 0376 2046     		mov	r0, r4
 4240 0378 FFF7FEFF 		bl	UsbPrintf
 4241              	.LVL327:
 885:App/Src/task.c ****                     state = TASK_MCHAINE_TEST_END;
 4242              		.loc 1 885 21 view .LVU1146
 4243 037c 2046     		mov	r0, r4
 4244 037e FFF7FEFF 		bl	log_printf
 4245              	.LVL328:
 886:App/Src/task.c ****                 }
 4246              		.loc 1 886 21 view .LVU1147
 886:App/Src/task.c ****                 }
 4247              		.loc 1 886 27 is_stmt 0 view .LVU1148
 4248 0382 A24B     		ldr	r3, .L288
 4249 0384 1422     		movs	r2, #20
 4250 0386 1A70     		strb	r2, [r3]
 4251 0388 B9E6     		b	.L237
 4252              	.L283:
 868:App/Src/task.c ****                     HAL_Delay(10);
 4253              		.loc 1 868 21 is_stmt 1 view .LVU1149
 868:App/Src/task.c ****                     HAL_Delay(10);
 4254              		.loc 1 868 73 is_stmt 0 view .LVU1150
 4255 038a A54E     		ldr	r6, .L288+20
 4256 038c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4257 038e 013B     		subs	r3, r3, #1
 868:App/Src/task.c ****                     HAL_Delay(10);
 4258              		.loc 1 868 78 view .LVU1151
 4259 0390 A44C     		ldr	r4, .L288+24
 4260 0392 84FB0312 		smull	r1, r2, r4, r3
 4261 0396 1A44     		add	r2, r2, r3
 4262 0398 D917     		asrs	r1, r3, #31
 4263 039a C1EBE201 		rsb	r1, r1, r2, asr #3
 868:App/Src/task.c ****                     HAL_Delay(10);
 4264              		.loc 1 868 57 view .LVU1152
 4265 039e 0425     		movs	r5, #4
 4266 03a0 05FA01F1 		lsl	r1, r5, r1
 868:App/Src/task.c ****                     HAL_Delay(10);
 4267              		.loc 1 868 21 view .LVU1153
 4268 03a4 A04F     		ldr	r7, .L288+28
 4269 03a6 0022     		movs	r2, #0
 4270 03a8 89B2     		uxth	r1, r1
 4271 03aa 3846     		mov	r0, r7
 4272 03ac FFF7FEFF 		bl	HAL_GPIO_WritePin
 4273              	.LVL329:
 869:App/Src/task.c ****                     rtc_read_vbat(&vbat);
 4274              		.loc 1 869 21 is_stmt 1 view .LVU1154
 4275 03b0 0A20     		movs	r0, #10
 4276 03b2 FFF7FEFF 		bl	HAL_Delay
 4277              	.LVL330:
 870:App/Src/task.c ****                     testConfigC = vbat - 250;
 4278              		.loc 1 870 21 view .LVU1155
 4279 03b6 05A8     		add	r0, sp, #20
 4280 03b8 FFF7FEFF 		bl	rtc_read_vbat
 4281              	.LVL331:
 871:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 4282              		.loc 1 871 21 view .LVU1156
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 111


 871:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 4283              		.loc 1 871 40 is_stmt 0 view .LVU1157
 4284 03bc 059B     		ldr	r3, [sp, #20]
 4285 03be 0633     		adds	r3, r3, #6
 4286 03c0 D9B2     		uxtb	r1, r3
 871:App/Src/task.c ****                     UsbPrintf("calculate configC:0x%02x\n", testConfigC);
 4287              		.loc 1 871 33 view .LVU1158
 4288 03c2 DFF86882 		ldr	r8, .L288+32
 4289 03c6 88F80010 		strb	r1, [r8]
 872:App/Src/task.c ****                     log_printf("calculate configC:0x%02x\n", testConfigC);
 4290              		.loc 1 872 21 is_stmt 1 view .LVU1159
 4291 03ca DFF87C92 		ldr	r9, .L288+60
 4292 03ce 4846     		mov	r0, r9
 4293 03d0 FFF7FEFF 		bl	UsbPrintf
 4294              	.LVL332:
 873:App/Src/task.c ****                     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 4295              		.loc 1 873 21 view .LVU1160
 4296 03d4 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 4297 03d8 4846     		mov	r0, r9
 4298 03da FFF7FEFF 		bl	log_printf
 4299              	.LVL333:
 874:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 4300              		.loc 1 874 21 view .LVU1161
 874:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 4301              		.loc 1 874 73 is_stmt 0 view .LVU1162
 4302 03de 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4303 03e0 013B     		subs	r3, r3, #1
 874:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 4304              		.loc 1 874 78 view .LVU1163
 4305 03e2 84FB0312 		smull	r1, r2, r4, r3
 4306 03e6 1A44     		add	r2, r2, r3
 4307 03e8 DB17     		asrs	r3, r3, #31
 4308 03ea C3EBE203 		rsb	r3, r3, r2, asr #3
 874:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 4309              		.loc 1 874 57 view .LVU1164
 4310 03ee 05FA03F3 		lsl	r3, r5, r3
 874:App/Src/task.c ****                     if (testConfigC < 0x40 || testConfigC > 0x70) {
 4311              		.loc 1 874 21 view .LVU1165
 4312 03f2 0122     		movs	r2, #1
 4313 03f4 99B2     		uxth	r1, r3
 4314 03f6 3846     		mov	r0, r7
 4315 03f8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4316              	.LVL334:
 875:App/Src/task.c ****                         result = 0;
 4317              		.loc 1 875 21 is_stmt 1 view .LVU1166
 875:App/Src/task.c ****                         result = 0;
 4318              		.loc 1 875 44 is_stmt 0 view .LVU1167
 4319 03fc 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 4320 0400 403B     		subs	r3, r3, #64
 4321 0402 DBB2     		uxtb	r3, r3
 875:App/Src/task.c ****                         result = 0;
 4322              		.loc 1 875 24 view .LVU1168
 4323 0404 302B     		cmp	r3, #48
 4324 0406 06D9     		bls	.L262
 876:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
 4325              		.loc 1 876 25 is_stmt 1 view .LVU1169
 876:App/Src/task.c ****                         state = TASK_MCHAINE_TEST_END;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 112


 4326              		.loc 1 876 32 is_stmt 0 view .LVU1170
 4327 0408 834B     		ldr	r3, .L288+12
 4328 040a 0022     		movs	r2, #0
 4329 040c 1A70     		strb	r2, [r3]
 877:App/Src/task.c ****                         break;
 4330              		.loc 1 877 25 is_stmt 1 view .LVU1171
 877:App/Src/task.c ****                         break;
 4331              		.loc 1 877 31 is_stmt 0 view .LVU1172
 4332 040e 7F4B     		ldr	r3, .L288
 4333 0410 1422     		movs	r2, #20
 4334 0412 1A70     		strb	r2, [r3]
 878:App/Src/task.c ****                     }
 4335              		.loc 1 878 25 is_stmt 1 view .LVU1173
 4336 0414 73E6     		b	.L237
 4337              	.L262:
 881:App/Src/task.c ****                 } else {
 4338              		.loc 1 881 21 view .LVU1174
 881:App/Src/task.c ****                 } else {
 4339              		.loc 1 881 26 is_stmt 0 view .LVU1175
 4340 0416 7D4A     		ldr	r2, .L288
 4341 0418 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4342 041a 0133     		adds	r3, r3, #1
 4343 041c 1370     		strb	r3, [r2]
 4344 041e 6EE6     		b	.L237
 4345              	.L246:
 891:App/Src/task.c ****             readConfig = 0xff;
 4346              		.loc 1 891 13 is_stmt 1 view .LVU1176
 891:App/Src/task.c ****             readConfig = 0xff;
 4347              		.loc 1 891 26 is_stmt 0 view .LVU1177
 4348 0420 0122     		movs	r2, #1
 4349 0422 4FF4B771 		mov	r1, #366
 4350 0426 8148     		ldr	r0, .L288+32
 4351 0428 FFF7FEFF 		bl	rtc_download_otp_data
 4352              	.LVL335:
 892:App/Src/task.c ****             // rtc_read_otp_data(&readConfig, SD3900_CONFIGC_ADDR, 1);
 4353              		.loc 1 892 13 is_stmt 1 view .LVU1178
 894:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 4354              		.loc 1 894 13 view .LVU1179
 894:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 4355              		.loc 1 894 16 is_stmt 0 view .LVU1180
 4356 042c 0246     		mov	r2, r0
 4357 042e 18B9     		cbnz	r0, .L263
 894:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 4358              		.loc 1 894 52 discriminator 1 view .LVU1181
 4359 0430 7E4B     		ldr	r3, .L288+32
 4360 0432 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 894:App/Src/task.c ****                 UsbPrintf("chip %d otp download error, i2c[%d], config[0x%02x]\n", testNumber, i2c_
 4361              		.loc 1 894 38 discriminator 1 view .LVU1182
 4362 0434 FF2B     		cmp	r3, #255
 4363 0436 32D0     		beq	.L264
 4364              	.L263:
 895:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 4365              		.loc 1 895 17 is_stmt 1 view .LVU1183
 4366 0438 794C     		ldr	r4, .L288+20
 4367 043a FF23     		movs	r3, #255
 4368 043c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4369 043e 7C48     		ldr	r0, .L288+36
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 113


 4370              	.LVL336:
 895:App/Src/task.c ****                 log_printf("chip %d otp download error\n", testNumber);
 4371              		.loc 1 895 17 is_stmt 0 view .LVU1184
 4372 0440 FFF7FEFF 		bl	UsbPrintf
 4373              	.LVL337:
 896:App/Src/task.c ****                 result = 0; 
 4374              		.loc 1 896 17 is_stmt 1 view .LVU1185
 4375 0444 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4376 0446 7B48     		ldr	r0, .L288+40
 4377 0448 FFF7FEFF 		bl	log_printf
 4378              	.LVL338:
 897:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4379              		.loc 1 897 17 view .LVU1186
 897:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4380              		.loc 1 897 24 is_stmt 0 view .LVU1187
 4381 044c 724B     		ldr	r3, .L288+12
 4382 044e 0022     		movs	r2, #0
 4383 0450 1A70     		strb	r2, [r3]
 898:App/Src/task.c ****             } else {
 4384              		.loc 1 898 17 is_stmt 1 view .LVU1188
 898:App/Src/task.c ****             } else {
 4385              		.loc 1 898 23 is_stmt 0 view .LVU1189
 4386 0452 6E4B     		ldr	r3, .L288
 4387 0454 1422     		movs	r2, #20
 4388 0456 1A70     		strb	r2, [r3]
 4389              	.L265:
 902:App/Src/task.c ****             rtc_download_otp_data(buffer, SD3900_ID_ADDR, 8);//write id
 4390              		.loc 1 902 13 is_stmt 1 view .LVU1190
 4391 0458 714B     		ldr	r3, .L288+20
 4392 045a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4393 045c 06A8     		add	r0, sp, #24
 4394 045e FFF7FEFF 		bl	make_chip_ID
 4395              	.LVL339:
 903:App/Src/task.c ****             buffer[0] = 0x7f;
 4396              		.loc 1 903 13 view .LVU1191
 4397 0462 0822     		movs	r2, #8
 4398 0464 7221     		movs	r1, #114
 4399 0466 06A8     		add	r0, sp, #24
 4400 0468 FFF7FEFF 		bl	rtc_download_otp_data
 4401              	.LVL340:
 904:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 4402              		.loc 1 904 13 view .LVU1192
 904:App/Src/task.c ****             rtc_download_otp_data(&buffer[0], SD3900_CONFIG0_ADDR, 1);//lock otp
 4403              		.loc 1 904 23 is_stmt 0 view .LVU1193
 4404 046c 7F23     		movs	r3, #127
 4405 046e 8DF81830 		strb	r3, [sp, #24]
 905:App/Src/task.c ****             rtc_group_power(0, POWER_OFF);
 4406              		.loc 1 905 13 is_stmt 1 view .LVU1194
 4407 0472 0122     		movs	r2, #1
 4408 0474 4FF4B171 		mov	r1, #354
 4409 0478 06A8     		add	r0, sp, #24
 4410 047a FFF7FEFF 		bl	rtc_download_otp_data
 4411              	.LVL341:
 906:App/Src/task.c ****             UsbPrintf("waiting 1s for power off, then renew otp\n");
 4412              		.loc 1 906 13 view .LVU1195
 4413 047e 0021     		movs	r1, #0
 4414 0480 0846     		mov	r0, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 114


 4415 0482 FFF7FEFF 		bl	rtc_group_power
 4416              	.LVL342:
 907:App/Src/task.c ****             timeout = HAL_GetTick();
 4417              		.loc 1 907 13 view .LVU1196
 4418 0486 6C48     		ldr	r0, .L288+44
 4419 0488 FFF7FEFF 		bl	UsbPrintf
 4420              	.LVL343:
 908:App/Src/task.c ****             state++;
 4421              		.loc 1 908 13 view .LVU1197
 908:App/Src/task.c ****             state++;
 4422              		.loc 1 908 23 is_stmt 0 view .LVU1198
 4423 048c FFF7FEFF 		bl	HAL_GetTick
 4424              	.LVL344:
 908:App/Src/task.c ****             state++;
 4425              		.loc 1 908 21 view .LVU1199
 4426 0490 5F4B     		ldr	r3, .L288+4
 4427 0492 1860     		str	r0, [r3]
 909:App/Src/task.c ****         break;
 4428              		.loc 1 909 13 is_stmt 1 view .LVU1200
 909:App/Src/task.c ****         break;
 4429              		.loc 1 909 18 is_stmt 0 view .LVU1201
 4430 0494 5D4A     		ldr	r2, .L288
 4431 0496 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4432 0498 0133     		adds	r3, r3, #1
 4433 049a 1370     		strb	r3, [r2]
 910:App/Src/task.c ****         case 8:
 4434              		.loc 1 910 9 is_stmt 1 view .LVU1202
 4435 049c 2FE6     		b	.L237
 4436              	.LVL345:
 4437              	.L264:
 900:App/Src/task.c ****             }
 4438              		.loc 1 900 17 view .LVU1203
 4439 049e 604B     		ldr	r3, .L288+20
 4440 04a0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 4441 04a2 6648     		ldr	r0, .L288+48
 4442              	.LVL346:
 900:App/Src/task.c ****             }
 4443              		.loc 1 900 17 is_stmt 0 view .LVU1204
 4444 04a4 FFF7FEFF 		bl	UsbPrintf
 4445              	.LVL347:
 4446 04a8 D6E7     		b	.L265
 4447              	.LVL348:
 4448              	.L245:
 912:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 4449              		.loc 1 912 13 is_stmt 1 view .LVU1205
 912:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 4450              		.loc 1 912 17 is_stmt 0 view .LVU1206
 4451 04aa FFF7FEFF 		bl	HAL_GetTick
 4452              	.LVL349:
 912:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 4453              		.loc 1 912 41 view .LVU1207
 4454 04ae 584B     		ldr	r3, .L288+4
 4455 04b0 1B68     		ldr	r3, [r3]
 4456 04b2 03F57A73 		add	r3, r3, #1000
 912:App/Src/task.c ****                 rtc_group_power(testNumber, POWER_I2C);
 4457              		.loc 1 912 16 view .LVU1208
 4458 04b6 9842     		cmp	r0, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 115


 4459 04b8 7FF621AE 		bls	.L237
 913:App/Src/task.c ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_RESET);
 4460              		.loc 1 913 17 is_stmt 1 view .LVU1209
 4461 04bc 584C     		ldr	r4, .L288+20
 4462 04be 0121     		movs	r1, #1
 4463 04c0 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 4464 04c2 FFF7FEFF 		bl	rtc_group_power
 4465              	.LVL350:
 914:App/Src/task.c ****                 timeout = HAL_GetTick();
 4466              		.loc 1 914 17 view .LVU1210
 914:App/Src/task.c ****                 timeout = HAL_GetTick();
 4467              		.loc 1 914 69 is_stmt 0 view .LVU1211
 4468 04c6 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4469 04c8 013B     		subs	r3, r3, #1
 914:App/Src/task.c ****                 timeout = HAL_GetTick();
 4470              		.loc 1 914 74 view .LVU1212
 4471 04ca 5649     		ldr	r1, .L288+24
 4472 04cc 81FB0321 		smull	r2, r1, r1, r3
 4473 04d0 1944     		add	r1, r1, r3
 4474 04d2 DB17     		asrs	r3, r3, #31
 4475 04d4 C3EBE103 		rsb	r3, r3, r1, asr #3
 914:App/Src/task.c ****                 timeout = HAL_GetTick();
 4476              		.loc 1 914 53 view .LVU1213
 4477 04d8 0421     		movs	r1, #4
 4478 04da 9940     		lsls	r1, r1, r3
 914:App/Src/task.c ****                 timeout = HAL_GetTick();
 4479              		.loc 1 914 17 view .LVU1214
 4480 04dc 0022     		movs	r2, #0
 4481 04de 89B2     		uxth	r1, r1
 4482 04e0 5148     		ldr	r0, .L288+28
 4483 04e2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4484              	.LVL351:
 915:App/Src/task.c ****                 state++;
 4485              		.loc 1 915 17 is_stmt 1 view .LVU1215
 915:App/Src/task.c ****                 state++;
 4486              		.loc 1 915 27 is_stmt 0 view .LVU1216
 4487 04e6 FFF7FEFF 		bl	HAL_GetTick
 4488              	.LVL352:
 915:App/Src/task.c ****                 state++;
 4489              		.loc 1 915 25 view .LVU1217
 4490 04ea 494B     		ldr	r3, .L288+4
 4491 04ec 1860     		str	r0, [r3]
 916:App/Src/task.c ****             }
 4492              		.loc 1 916 17 is_stmt 1 view .LVU1218
 916:App/Src/task.c ****             }
 4493              		.loc 1 916 22 is_stmt 0 view .LVU1219
 4494 04ee 474A     		ldr	r2, .L288
 4495 04f0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4496 04f2 0133     		adds	r3, r3, #1
 4497 04f4 1370     		strb	r3, [r2]
 4498 04f6 02E6     		b	.L237
 4499              	.L244:
 920:App/Src/task.c ****                 break;
 4500              		.loc 1 920 13 is_stmt 1 view .LVU1220
 920:App/Src/task.c ****                 break;
 4501              		.loc 1 920 17 is_stmt 0 view .LVU1221
 4502 04f8 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 116


 4503              	.LVL353:
 920:App/Src/task.c ****                 break;
 4504              		.loc 1 920 41 view .LVU1222
 4505 04fc 444B     		ldr	r3, .L288+4
 4506 04fe 1B68     		ldr	r3, [r3]
 4507 0500 03F54873 		add	r3, r3, #800
 920:App/Src/task.c ****                 break;
 4508              		.loc 1 920 16 view .LVU1223
 4509 0504 9842     		cmp	r0, r3
 4510 0506 FFF4FAAD 		bcc	.L237
 923:App/Src/task.c ****             HAL_Delay(10);
 4511              		.loc 1 923 13 is_stmt 1 view .LVU1224
 923:App/Src/task.c ****             HAL_Delay(10);
 4512              		.loc 1 923 65 is_stmt 0 view .LVU1225
 4513 050a 454E     		ldr	r6, .L288+20
 4514 050c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4515 050e 013B     		subs	r3, r3, #1
 923:App/Src/task.c ****             HAL_Delay(10);
 4516              		.loc 1 923 70 view .LVU1226
 4517 0510 444C     		ldr	r4, .L288+24
 4518 0512 84FB0321 		smull	r2, r1, r4, r3
 4519 0516 CA18     		adds	r2, r1, r3
 4520 0518 D917     		asrs	r1, r3, #31
 4521 051a C1EBE201 		rsb	r1, r1, r2, asr #3
 923:App/Src/task.c ****             HAL_Delay(10);
 4522              		.loc 1 923 49 view .LVU1227
 4523 051e 0425     		movs	r5, #4
 4524 0520 05FA01F1 		lsl	r1, r5, r1
 923:App/Src/task.c ****             HAL_Delay(10);
 4525              		.loc 1 923 13 view .LVU1228
 4526 0524 404F     		ldr	r7, .L288+28
 4527 0526 0022     		movs	r2, #0
 4528 0528 89B2     		uxth	r1, r1
 4529 052a 3846     		mov	r0, r7
 4530 052c FFF7FEFF 		bl	HAL_GPIO_WritePin
 4531              	.LVL354:
 924:App/Src/task.c ****             rtc_read_vbat(&vbat);
 4532              		.loc 1 924 13 is_stmt 1 view .LVU1229
 4533 0530 0A20     		movs	r0, #10
 4534 0532 FFF7FEFF 		bl	HAL_Delay
 4535              	.LVL355:
 925:App/Src/task.c ****             g_machineTest.machine.vbat_2V5 = vbat * 10;
 4536              		.loc 1 925 13 view .LVU1230
 4537 0536 05A8     		add	r0, sp, #20
 4538 0538 FFF7FEFF 		bl	rtc_read_vbat
 4539              	.LVL356:
 926:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 4540              		.loc 1 926 13 view .LVU1231
 926:App/Src/task.c ****             UsbPrintf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
 4541              		.loc 1 926 44 is_stmt 0 view .LVU1232
 4542 053c 0599     		ldr	r1, [sp, #20]
 4543 053e 01EB8101 		add	r1, r1, r1, lsl #2
 4544 0542 4900     		lsls	r1, r1, #1
 4545 0544 89B2     		uxth	r1, r1
 4546 0546 DFF8F880 		ldr	r8, .L288+52
 4547 054a A8F85010 		strh	r1, [r8, #80]	@ movhi
 927:App/Src/task.c ****             log_printf("vbat = %dmV\n", g_machineTest.machine.vbat_2V5);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 117


 4548              		.loc 1 927 13 is_stmt 1 view .LVU1233
 4549 054e DFF8FC90 		ldr	r9, .L288+64
 4550 0552 4846     		mov	r0, r9
 4551 0554 FFF7FEFF 		bl	UsbPrintf
 4552              	.LVL357:
 928:App/Src/task.c ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2 << ((testNumber - 1) / 14), GPIO_PIN_SET);
 4553              		.loc 1 928 13 view .LVU1234
 4554 0558 B8F85010 		ldrh	r1, [r8, #80]
 4555 055c 4846     		mov	r0, r9
 4556 055e FFF7FEFF 		bl	log_printf
 4557              	.LVL358:
 929:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4558              		.loc 1 929 13 view .LVU1235
 929:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4559              		.loc 1 929 65 is_stmt 0 view .LVU1236
 4560 0562 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4561 0564 013B     		subs	r3, r3, #1
 929:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4562              		.loc 1 929 70 view .LVU1237
 4563 0566 84FB0324 		smull	r2, r4, r4, r3
 4564 056a E118     		adds	r1, r4, r3
 4565 056c DB17     		asrs	r3, r3, #31
 4566 056e C3EBE103 		rsb	r3, r3, r1, asr #3
 929:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4567              		.loc 1 929 49 view .LVU1238
 4568 0572 05FA03F1 		lsl	r1, r5, r3
 929:App/Src/task.c ****             if (g_machineTest.machine.vbat_2V5 < 2300 || g_machineTest.machine.vbat_2V5 > 2700) {//
 4569              		.loc 1 929 13 view .LVU1239
 4570 0576 0122     		movs	r2, #1
 4571 0578 89B2     		uxth	r1, r1
 4572 057a 3846     		mov	r0, r7
 4573 057c FFF7FEFF 		bl	HAL_GPIO_WritePin
 4574              	.LVL359:
 930:App/Src/task.c ****                 result = 0;
 4575              		.loc 1 930 13 is_stmt 1 view .LVU1240
 930:App/Src/task.c ****                 result = 0;
 4576              		.loc 1 930 38 is_stmt 0 view .LVU1241
 4577 0580 B8F85030 		ldrh	r3, [r8, #80]
 930:App/Src/task.c ****                 result = 0;
 4578              		.loc 1 930 55 view .LVU1242
 4579 0584 A3F6FC03 		subw	r3, r3, #2300
 4580 0588 9BB2     		uxth	r3, r3
 930:App/Src/task.c ****                 result = 0;
 4581              		.loc 1 930 16 view .LVU1243
 4582 058a B3F5C87F 		cmp	r3, #400
 4583 058e 06D9     		bls	.L266
 931:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4584              		.loc 1 931 17 is_stmt 1 view .LVU1244
 931:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;
 4585              		.loc 1 931 24 is_stmt 0 view .LVU1245
 4586 0590 214B     		ldr	r3, .L288+12
 4587 0592 0022     		movs	r2, #0
 4588 0594 1A70     		strb	r2, [r3]
 932:App/Src/task.c ****                 break;
 4589              		.loc 1 932 17 is_stmt 1 view .LVU1246
 932:App/Src/task.c ****                 break;
 4590              		.loc 1 932 23 is_stmt 0 view .LVU1247
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 118


 4591 0596 1D4B     		ldr	r3, .L288
 4592 0598 1422     		movs	r2, #20
 4593 059a 1A70     		strb	r2, [r3]
 933:App/Src/task.c ****             }
 4594              		.loc 1 933 17 is_stmt 1 view .LVU1248
 4595 059c AFE5     		b	.L237
 4596              	.L266:
 935:App/Src/task.c ****         break;
 4597              		.loc 1 935 13 view .LVU1249
 935:App/Src/task.c ****         break;
 4598              		.loc 1 935 18 is_stmt 0 view .LVU1250
 4599 059e 1B4A     		ldr	r2, .L288
 4600 05a0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4601 05a2 0133     		adds	r3, r3, #1
 4602 05a4 1370     		strb	r3, [r2]
 936:App/Src/task.c ****         case 10://充电电压
 4603              		.loc 1 936 9 is_stmt 1 view .LVU1251
 4604 05a6 AAE5     		b	.L237
 4605              	.L243:
 938:App/Src/task.c ****             HAL_Delay(5);
 4606              		.loc 1 938 13 view .LVU1252
 4607 05a8 0120     		movs	r0, #1
 4608 05aa FFF7FEFF 		bl	rtc_set_bat_charge
 4609              	.LVL360:
 939:App/Src/task.c ****             rtc_read_vbat(&vbat);
 4610              		.loc 1 939 13 view .LVU1253
 4611 05ae 0520     		movs	r0, #5
 4612 05b0 FFF7FEFF 		bl	HAL_Delay
 4613              	.LVL361:
 940:App/Src/task.c ****             g_machineTest.machine.charge = vbat * 10;
 4614              		.loc 1 940 13 view .LVU1254
 4615 05b4 05A8     		add	r0, sp, #20
 4616 05b6 FFF7FEFF 		bl	rtc_read_vbat
 4617              	.LVL362:
 941:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 4618              		.loc 1 941 13 view .LVU1255
 941:App/Src/task.c ****             UsbPrintf("charge = %dmV\n", g_machineTest.machine.charge);
 4619              		.loc 1 941 42 is_stmt 0 view .LVU1256
 4620 05ba 0599     		ldr	r1, [sp, #20]
 4621 05bc 01EB8101 		add	r1, r1, r1, lsl #2
 4622 05c0 4900     		lsls	r1, r1, #1
 4623 05c2 89B2     		uxth	r1, r1
 4624 05c4 1E4C     		ldr	r4, .L288+52
 4625 05c6 A4F85210 		strh	r1, [r4, #82]	@ movhi
 942:App/Src/task.c ****             log_printf("charge = %dmV\n", g_machineTest.machine.charge);
 4626              		.loc 1 942 13 is_stmt 1 view .LVU1257
 4627 05ca 1E4D     		ldr	r5, .L288+56
 4628 05cc 2846     		mov	r0, r5
 4629 05ce FFF7FEFF 		bl	UsbPrintf
 4630              	.LVL363:
 943:App/Src/task.c ****             rtc_set_bat_charge(0);//关闭充电功能
 4631              		.loc 1 943 13 view .LVU1258
 4632 05d2 B4F85210 		ldrh	r1, [r4, #82]
 4633 05d6 2846     		mov	r0, r5
 4634 05d8 FFF7FEFF 		bl	log_printf
 4635              	.LVL364:
 944:App/Src/task.c ****             if (g_machineTest.machine.charge < 2800 || g_machineTest.machine.charge > 3500) {//检查
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 119


 4636              		.loc 1 944 13 view .LVU1259
 4637 05dc 0020     		movs	r0, #0
 4638 05de FFF7FEFF 		bl	rtc_set_bat_charge
 4639              	.LVL365:
 945:App/Src/task.c ****                 result = 0;
 4640              		.loc 1 945 13 view .LVU1260
 945:App/Src/task.c ****                 result = 0;
 4641              		.loc 1 945 38 is_stmt 0 view .LVU1261
 4642 05e2 B4F85230 		ldrh	r3, [r4, #82]
 945:App/Src/task.c ****                 result = 0;
 4643              		.loc 1 945 53 view .LVU1262
 4644 05e6 A3F52F63 		sub	r3, r3, #2800
 4645 05ea 9BB2     		uxth	r3, r3
 945:App/Src/task.c ****                 result = 0;
 4646              		.loc 1 945 16 view .LVU1263
 4647 05ec B3F52F7F 		cmp	r3, #700
 4648 05f0 06D9     		bls	.L267
 946:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 4649              		.loc 1 946 17 is_stmt 1 view .LVU1264
 946:App/Src/task.c ****                 state = TASK_MCHAINE_TEST_END;//直接结束了
 4650              		.loc 1 946 24 is_stmt 0 view .LVU1265
 4651 05f2 094B     		ldr	r3, .L288+12
 4652 05f4 0022     		movs	r2, #0
 4653 05f6 1A70     		strb	r2, [r3]
 947:App/Src/task.c ****                 break;
 4654              		.loc 1 947 17 is_stmt 1 view .LVU1266
 947:App/Src/task.c ****                 break;
 4655              		.loc 1 947 23 is_stmt 0 view .LVU1267
 4656 05f8 044B     		ldr	r3, .L288
 4657 05fa 1422     		movs	r2, #20
 4658 05fc 1A70     		strb	r2, [r3]
 948:App/Src/task.c ****             }
 4659              		.loc 1 948 17 is_stmt 1 view .LVU1268
 4660 05fe 7EE5     		b	.L237
 4661              	.L267:
 950:App/Src/task.c ****         break;
 4662              		.loc 1 950 13 view .LVU1269
 950:App/Src/task.c ****         break;
 4663              		.loc 1 950 18 is_stmt 0 view .LVU1270
 4664 0600 024A     		ldr	r2, .L288
 4665 0602 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4666 0604 0133     		adds	r3, r3, #1
 4667 0606 1370     		strb	r3, [r2]
 951:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 4668              		.loc 1 951 9 is_stmt 1 view .LVU1271
 4669 0608 79E5     		b	.L237
 4670              	.L289:
 4671 060a 00BF     		.align	2
 4672              	.L288:
 4673 060c 00000000 		.word	.LANCHOR29
 4674 0610 00000000 		.word	.LANCHOR34
 4675 0614 58000000 		.word	.LC7
 4676 0618 00000000 		.word	.LANCHOR33
 4677 061c A0000000 		.word	.LC32
 4678 0620 00000000 		.word	.LANCHOR30
 4679 0624 93244992 		.word	-1840700269
 4680 0628 00040240 		.word	1073873920
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 120


 4681 062c 00000000 		.word	.LANCHOR31
 4682 0630 AC000000 		.word	.LC33
 4683 0634 E4000000 		.word	.LC34
 4684 0638 20010000 		.word	.LC36
 4685 063c 00010000 		.word	.LC35
 4686 0640 00000000 		.word	.LANCHOR25
 4687 0644 38000000 		.word	.LC21
 4688 0648 84000000 		.word	.LC31
 4689 064c 28000000 		.word	.LC20
 4690              	.L242:
 954:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 4691              		.loc 1 954 13 view .LVU1272
 4692 0650 FFF7FEFF 		bl	rtc_set_testmode
 4693              	.LVL366:
 955:App/Src/task.c ****             timeout = HAL_GetTick();
 4694              		.loc 1 955 13 view .LVU1273
 4695 0654 0321     		movs	r1, #3
 4696 0656 574B     		ldr	r3, .L290
 4697 0658 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4698 065a FFF7FEFF 		bl	rtc_group_power
 4699              	.LVL367:
 956:App/Src/task.c ****             state++;
 4700              		.loc 1 956 13 view .LVU1274
 956:App/Src/task.c ****             state++;
 4701              		.loc 1 956 23 is_stmt 0 view .LVU1275
 4702 065e FFF7FEFF 		bl	HAL_GetTick
 4703              	.LVL368:
 956:App/Src/task.c ****             state++;
 4704              		.loc 1 956 21 view .LVU1276
 4705 0662 554B     		ldr	r3, .L290+4
 4706 0664 1860     		str	r0, [r3]
 957:App/Src/task.c ****         break;
 4707              		.loc 1 957 13 is_stmt 1 view .LVU1277
 957:App/Src/task.c ****         break;
 4708              		.loc 1 957 18 is_stmt 0 view .LVU1278
 4709 0666 554A     		ldr	r2, .L290+8
 4710 0668 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4711 066a 0133     		adds	r3, r3, #1
 4712 066c 1370     		strb	r3, [r2]
 958:App/Src/task.c ****         case 12:	
 4713              		.loc 1 958 9 is_stmt 1 view .LVU1279
 4714 066e 46E5     		b	.L237
 4715              	.L241:
 960:App/Src/task.c ****                 cur = CS1237Current();
 4716              		.loc 1 960 13 view .LVU1280
 960:App/Src/task.c ****                 cur = CS1237Current();
 4717              		.loc 1 960 17 is_stmt 0 view .LVU1281
 4718 0670 FFF7FEFF 		bl	HAL_GetTick
 4719              	.LVL369:
 960:App/Src/task.c ****                 cur = CS1237Current();
 4720              		.loc 1 960 42 view .LVU1282
 4721 0674 504B     		ldr	r3, .L290+4
 4722 0676 1B68     		ldr	r3, [r3]
 4723 0678 03F57A73 		add	r3, r3, #1000
 960:App/Src/task.c ****                 cur = CS1237Current();
 4724              		.loc 1 960 16 view .LVU1283
 4725 067c 9842     		cmp	r0, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 121


 4726 067e 7FF63EAD 		bls	.L237
 961:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4727              		.loc 1 961 17 is_stmt 1 view .LVU1284
 961:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4728              		.loc 1 961 23 is_stmt 0 view .LVU1285
 4729 0682 FFF7FEFF 		bl	CS1237Current
 4730              	.LVL370:
 962:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4731              		.loc 1 962 17 is_stmt 1 view .LVU1286
 962:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4732              		.loc 1 962 20 is_stmt 0 view .LVU1287
 4733 0686 B5EEC00A 		vcmpe.f32	s0, #0
 4734 068a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4735 068e 27D4     		bmi	.L284
 4736              	.LVL371:
 4737              	.L268:
 963:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4738              		.loc 1 963 17 is_stmt 1 view .LVU1288
 963:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4739              		.loc 1 963 44 is_stmt 0 view .LVU1289
 4740 0690 BCEEC00A 		vcvt.u32.f32	s0, s0
 4741              	.LVL372:
 963:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4742              		.loc 1 963 44 view .LVU1290
 4743 0694 10EE103A 		vmov	r3, s0	@ int
 4744 0698 99B2     		uxth	r1, r3
 4745 069a 494C     		ldr	r4, .L290+12
 4746 069c A4F84410 		strh	r1, [r4, #68]	@ movhi
 964:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 4747              		.loc 1 964 17 is_stmt 1 view .LVU1291
 4748 06a0 484D     		ldr	r5, .L290+16
 4749 06a2 2846     		mov	r0, r5
 4750 06a4 FFF7FEFF 		bl	UsbPrintf
 4751              	.LVL373:
 965:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1500) {
 4752              		.loc 1 965 17 view .LVU1292
 4753 06a8 B4F84410 		ldrh	r1, [r4, #68]
 4754 06ac 2846     		mov	r0, r5
 4755 06ae FFF7FEFF 		bl	log_printf
 4756              	.LVL374:
 966:App/Src/task.c ****                     result = 0;
 4757              		.loc 1 966 17 view .LVU1293
 966:App/Src/task.c ****                     result = 0;
 4758              		.loc 1 966 42 is_stmt 0 view .LVU1294
 4759 06b2 B4F84420 		ldrh	r2, [r4, #68]
 966:App/Src/task.c ****                     result = 0;
 4760              		.loc 1 966 20 view .LVU1295
 4761 06b6 40F2DC53 		movw	r3, #1500
 4762 06ba 9A42     		cmp	r2, r3
 4763 06bc 02D9     		bls	.L269
 967:App/Src/task.c ****                 }
 4764              		.loc 1 967 21 is_stmt 1 view .LVU1296
 967:App/Src/task.c ****                 }
 4765              		.loc 1 967 28 is_stmt 0 view .LVU1297
 4766 06be 424B     		ldr	r3, .L290+20
 4767 06c0 0022     		movs	r2, #0
 4768 06c2 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 122


 4769              	.L269:
 969:App/Src/task.c ****                 timeout = HAL_GetTick();
 4770              		.loc 1 969 17 is_stmt 1 view .LVU1298
 4771 06c4 0221     		movs	r1, #2
 4772 06c6 3B4B     		ldr	r3, .L290
 4773 06c8 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4774 06ca FFF7FEFF 		bl	rtc_group_power
 4775              	.LVL375:
 970:App/Src/task.c ****                 state++;
 4776              		.loc 1 970 17 view .LVU1299
 970:App/Src/task.c ****                 state++;
 4777              		.loc 1 970 27 is_stmt 0 view .LVU1300
 4778 06ce FFF7FEFF 		bl	HAL_GetTick
 4779              	.LVL376:
 970:App/Src/task.c ****                 state++;
 4780              		.loc 1 970 25 view .LVU1301
 4781 06d2 394B     		ldr	r3, .L290+4
 4782 06d4 1860     		str	r0, [r3]
 971:App/Src/task.c ****             }
 4783              		.loc 1 971 17 is_stmt 1 view .LVU1302
 971:App/Src/task.c ****             }
 4784              		.loc 1 971 22 is_stmt 0 view .LVU1303
 4785 06d6 394A     		ldr	r2, .L290+8
 4786 06d8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4787 06da 0133     		adds	r3, r3, #1
 4788 06dc 1370     		strb	r3, [r2]
 4789 06de 0EE5     		b	.L237
 4790              	.LVL377:
 4791              	.L284:
 962:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4792              		.loc 1 962 35 view .LVU1304
 4793 06e0 9FED3A0A 		vldr.32	s0, .L290+24
 4794              	.LVL378:
 962:App/Src/task.c ****                 g_machineTest.machine.Ivdd = cur;
 4795              		.loc 1 962 35 view .LVU1305
 4796 06e4 D4E7     		b	.L268
 4797              	.L240:
 975:App/Src/task.c ****                 cur = CS1237Current();
 4798              		.loc 1 975 13 is_stmt 1 view .LVU1306
 975:App/Src/task.c ****                 cur = CS1237Current();
 4799              		.loc 1 975 17 is_stmt 0 view .LVU1307
 4800 06e6 FFF7FEFF 		bl	HAL_GetTick
 4801              	.LVL379:
 975:App/Src/task.c ****                 cur = CS1237Current();
 4802              		.loc 1 975 42 view .LVU1308
 4803 06ea 334B     		ldr	r3, .L290+4
 4804 06ec 1B68     		ldr	r3, [r3]
 4805 06ee 03F57A73 		add	r3, r3, #1000
 975:App/Src/task.c ****                 cur = CS1237Current();
 4806              		.loc 1 975 16 view .LVU1309
 4807 06f2 9842     		cmp	r0, r3
 4808 06f4 7FF603AD 		bls	.L237
 976:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4809              		.loc 1 976 17 is_stmt 1 view .LVU1310
 976:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 4810              		.loc 1 976 23 is_stmt 0 view .LVU1311
 4811 06f8 FFF7FEFF 		bl	CS1237Current
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 123


 4812              	.LVL380:
 977:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4813              		.loc 1 977 17 is_stmt 1 view .LVU1312
 977:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4814              		.loc 1 977 20 is_stmt 0 view .LVU1313
 4815 06fc B5EEC00A 		vcmpe.f32	s0, #0
 4816 0700 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 4817 0704 25D4     		bmi	.L285
 4818              	.LVL381:
 4819              	.L270:
 978:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4820              		.loc 1 978 17 is_stmt 1 view .LVU1314
 978:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4821              		.loc 1 978 45 is_stmt 0 view .LVU1315
 4822 0706 BCEEC00A 		vcvt.u32.f32	s0, s0
 4823              	.LVL382:
 978:App/Src/task.c ****                 UsbPrintf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4824              		.loc 1 978 45 view .LVU1316
 4825 070a 10EE103A 		vmov	r3, s0	@ int
 4826 070e 99B2     		uxth	r1, r3
 4827 0710 2B4C     		ldr	r4, .L290+12
 4828 0712 A4F84610 		strh	r1, [r4, #70]	@ movhi
 979:App/Src/task.c ****                 log_printf("bat:%dnA\n", g_machineTest.machine.Ivbat);
 4829              		.loc 1 979 17 is_stmt 1 view .LVU1317
 4830 0716 2E4D     		ldr	r5, .L290+28
 4831 0718 2846     		mov	r0, r5
 4832 071a FFF7FEFF 		bl	UsbPrintf
 4833              	.LVL383:
 980:App/Src/task.c ****                 if (g_machineTest.machine.Ivbat > 1500) {
 4834              		.loc 1 980 17 view .LVU1318
 4835 071e B4F84610 		ldrh	r1, [r4, #70]
 4836 0722 2846     		mov	r0, r5
 4837 0724 FFF7FEFF 		bl	log_printf
 4838              	.LVL384:
 981:App/Src/task.c ****                     result = 0;
 4839              		.loc 1 981 17 view .LVU1319
 981:App/Src/task.c ****                     result = 0;
 4840              		.loc 1 981 42 is_stmt 0 view .LVU1320
 4841 0728 B4F84620 		ldrh	r2, [r4, #70]
 981:App/Src/task.c ****                     result = 0;
 4842              		.loc 1 981 20 view .LVU1321
 4843 072c 40F2DC53 		movw	r3, #1500
 4844 0730 9A42     		cmp	r2, r3
 4845 0732 02D9     		bls	.L271
 982:App/Src/task.c ****                 }
 4846              		.loc 1 982 21 is_stmt 1 view .LVU1322
 982:App/Src/task.c ****                 }
 4847              		.loc 1 982 28 is_stmt 0 view .LVU1323
 4848 0734 244B     		ldr	r3, .L290+20
 4849 0736 0022     		movs	r2, #0
 4850 0738 1A70     		strb	r2, [r3]
 4851              	.L271:
 984:App/Src/task.c ****                 HAL_Delay(5);
 4852              		.loc 1 984 17 is_stmt 1 view .LVU1324
 4853 073a 0121     		movs	r1, #1
 4854 073c 1D4B     		ldr	r3, .L290
 4855 073e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 124


 4856 0740 FFF7FEFF 		bl	rtc_group_power
 4857              	.LVL385:
 985:App/Src/task.c ****                 // rtc_exit_testmode();
 4858              		.loc 1 985 17 view .LVU1325
 4859 0744 0520     		movs	r0, #5
 4860 0746 FFF7FEFF 		bl	HAL_Delay
 4861              	.LVL386:
 987:App/Src/task.c ****             }
 4862              		.loc 1 987 17 view .LVU1326
 987:App/Src/task.c ****             }
 4863              		.loc 1 987 23 is_stmt 0 view .LVU1327
 4864 074a 1C4B     		ldr	r3, .L290+8
 4865 074c 1422     		movs	r2, #20
 4866 074e 1A70     		strb	r2, [r3]
 4867 0750 D5E4     		b	.L237
 4868              	.LVL387:
 4869              	.L285:
 977:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4870              		.loc 1 977 35 view .LVU1328
 4871 0752 9FED1E0A 		vldr.32	s0, .L290+24
 4872              	.LVL388:
 977:App/Src/task.c ****                 g_machineTest.machine.Ivbat = cur;
 4873              		.loc 1 977 35 view .LVU1329
 4874 0756 D6E7     		b	.L270
 4875              	.L238:
 992:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4876              		.loc 1 992 13 is_stmt 1 view .LVU1330
 992:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4877              		.loc 1 992 24 is_stmt 0 view .LVU1331
 4878 0758 1B4B     		ldr	r3, .L290+20
 4879 075a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 992:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 4880              		.loc 1 992 16 view .LVU1332
 4881 075c 6BB9     		cbnz	r3, .L272
 993:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 4882              		.loc 1 993 17 is_stmt 1 view .LVU1333
 4883 075e 154D     		ldr	r5, .L290
 4884 0760 1C4C     		ldr	r4, .L290+32
 4885 0762 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 4886 0764 2046     		mov	r0, r4
 4887 0766 FFF7FEFF 		bl	UsbPrintf
 4888              	.LVL389:
 994:App/Src/task.c ****             } else {
 4889              		.loc 1 994 17 view .LVU1334
 4890 076a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 4891 076c 2046     		mov	r0, r4
 4892 076e FFF7FEFF 		bl	log_printf
 4893              	.LVL390:
 4894              	.L273:
1000:App/Src/task.c ****         break;
 4895              		.loc 1 1000 13 view .LVU1335
1000:App/Src/task.c ****         break;
 4896              		.loc 1 1000 19 is_stmt 0 view .LVU1336
 4897 0772 124B     		ldr	r3, .L290+8
 4898 0774 0022     		movs	r2, #0
 4899 0776 1A70     		strb	r2, [r3]
1001:App/Src/task.c ****         default:  break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 125


 4900              		.loc 1 1001 9 is_stmt 1 view .LVU1337
 4901 0778 C1E4     		b	.L237
 4902              	.L272:
 996:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 4903              		.loc 1 996 17 view .LVU1338
 4904 077a 0E4C     		ldr	r4, .L290
 4905 077c 164D     		ldr	r5, .L290+36
 4906 077e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4907 0780 2846     		mov	r0, r5
 4908 0782 FFF7FEFF 		bl	UsbPrintf
 4909              	.LVL391:
 997:App/Src/task.c ****                 flash_test_data_write_add(&g_machineTest, testNumber, MACHINE_TEST_ALL);
 4910              		.loc 1 997 17 view .LVU1339
 4911 0786 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4912 0788 2846     		mov	r0, r5
 4913 078a FFF7FEFF 		bl	log_printf
 4914              	.LVL392:
 998:App/Src/task.c ****             }
 4915              		.loc 1 998 17 view .LVU1340
 4916 078e 4222     		movs	r2, #66
 4917 0790 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 4918 0792 0B48     		ldr	r0, .L290+12
 4919 0794 FFF7FEFF 		bl	flash_test_data_write_add
 4920              	.LVL393:
 4921 0798 EBE7     		b	.L273
 4922              	.LVL394:
 4923              	.L276:
1004:App/Src/task.c ****     if (state == 0) {
 4924              		.loc 1 1004 53 is_stmt 0 view .LVU1341
 4925 079a 4FF0FF30 		mov	r0, #-1
 4926              	.L232:
1008:App/Src/task.c ****         } else {
1009:App/Src/task.c ****             return -1;
1010:App/Src/task.c ****         }
1011:App/Src/task.c ****     } else {
1012:App/Src/task.c ****         return 0;
1013:App/Src/task.c ****     }    
1014:App/Src/task.c **** }
 4927              		.loc 1 1014 1 view .LVU1342
 4928 079e 0BB0     		add	sp, sp, #44
 4929              	.LCFI41:
 4930              		.cfi_remember_state
 4931              		.cfi_def_cfa_offset 36
 4932              		@ sp needed
 4933 07a0 BDEC028B 		vldm	sp!, {d8}
 4934              	.LCFI42:
 4935              		.cfi_restore 80
 4936              		.cfi_restore 81
 4937              		.cfi_def_cfa_offset 28
 4938 07a4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4939              	.L277:
 4940              	.LCFI43:
 4941              		.cfi_restore_state
1012:App/Src/task.c ****     }    
 4942              		.loc 1 1012 16 view .LVU1343
 4943 07a8 0020     		movs	r0, #0
 4944 07aa F8E7     		b	.L232
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 126


 4945              	.L278:
1009:App/Src/task.c ****         }
 4946              		.loc 1 1009 20 view .LVU1344
 4947 07ac 4FF0FF30 		mov	r0, #-1
 4948 07b0 F5E7     		b	.L232
 4949              	.L291:
 4950 07b2 00BF     		.align	2
 4951              	.L290:
 4952 07b4 00000000 		.word	.LANCHOR30
 4953 07b8 00000000 		.word	.LANCHOR34
 4954 07bc 00000000 		.word	.LANCHOR29
 4955 07c0 00000000 		.word	.LANCHOR25
 4956 07c4 48000000 		.word	.LC22
 4957 07c8 00000000 		.word	.LANCHOR33
 4958 07cc 00000000 		.word	0
 4959 07d0 54000000 		.word	.LC23
 4960 07d4 60000000 		.word	.LC24
 4961 07d8 7C000000 		.word	.LC25
 4962              		.cfi_endproc
 4963              	.LFE247:
 4965              		.section	.rodata.command_freq_test.str1.4,"aMS",%progbits,1
 4966              		.align	2
 4967              	.LC37:
 4968 0000 73797374 		.ascii	"system temp:%.1f\012\000"
 4968      656D2074 
 4968      656D703A 
 4968      252E3166 
 4968      0A00
 4969 0012 0000     		.align	2
 4970              	.LC38:
 4971 0014 63686970 		.ascii	"chip:%d, temp:%.0f, \000"
 4971      3A25642C 
 4971      2074656D 
 4971      703A252E 
 4971      30662C20 
 4972 0029 000000   		.align	2
 4973              	.LC39:
 4974 002c 252E3266 		.ascii	"%.2fppm\012\000"
 4974      70706D0A 
 4974      00
 4975 0035 000000   		.align	2
 4976              	.LC40:
 4977 0038 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:%.2fppm\000"
 4977      6D626572 
 4977      3A256420 
 4977      63686970 
 4977      4E616D65 
 4978              		.align	2
 4979              	.LC41:
 4980 0060 6E6F2072 		.ascii	"no response\012\000"
 4980      6573706F 
 4980      6E73650A 
 4980      00
 4981 006d 000000   		.align	2
 4982              	.LC42:
 4983 0070 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\306\265\302\312\274"
 4983      6D626572 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 127


 4983      3A256420 
 4983      63686970 
 4983      4E616D65 
 4984 0095 C6CEDEBD 		.ascii	"\306\316\336\275\341\271\373\000"
 4984      E1B9FB00 
 4985              		.section	.text.command_freq_test,"ax",%progbits
 4986              		.align	1
 4987              		.global	command_freq_test
 4988              		.syntax unified
 4989              		.thumb
 4990              		.thumb_func
 4992              	command_freq_test:
 4993              	.LVL395:
 4994              	.LFB248:
1015:App/Src/task.c **** 
1016:App/Src/task.c **** 
1017:App/Src/task.c **** 
1018:App/Src/task.c **** int command_freq_test(uint8_t number)
1019:App/Src/task.c **** {
 4995              		.loc 1 1019 1 is_stmt 1 view -0
 4996              		.cfi_startproc
 4997              		@ args = 0, pretend = 0, frame = 8
 4998              		@ frame_needed = 0, uses_anonymous_args = 0
 4999              		.loc 1 1019 1 is_stmt 0 view .LVU1346
 5000 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5001              	.LCFI44:
 5002              		.cfi_def_cfa_offset 20
 5003              		.cfi_offset 4, -20
 5004              		.cfi_offset 5, -16
 5005              		.cfi_offset 6, -12
 5006              		.cfi_offset 7, -8
 5007              		.cfi_offset 14, -4
 5008 0002 85B0     		sub	sp, sp, #20
 5009              	.LCFI45:
 5010              		.cfi_def_cfa_offset 40
1020:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 5011              		.loc 1 1020 5 is_stmt 1 view .LVU1347
1021:App/Src/task.c ****     float temp, ppm;
 5012              		.loc 1 1021 5 view .LVU1348
1022:App/Src/task.c ****     uint8_t buffer;
 5013              		.loc 1 1022 5 view .LVU1349
1023:App/Src/task.c ****     static uint8_t testState = 0;
 5014              		.loc 1 1023 5 view .LVU1350
1024:App/Src/task.c ****     int result = 0;
 5015              		.loc 1 1024 5 view .LVU1351
 5016              	.LVL396:
1025:App/Src/task.c ****     static uint8_t okCount = 0;
 5017              		.loc 1 1025 5 view .LVU1352
1026:App/Src/task.c **** 
1027:App/Src/task.c ****     if (number == 0) {
 5018              		.loc 1 1027 5 view .LVU1353
 5019              		.loc 1 1027 8 is_stmt 0 view .LVU1354
 5020 0004 58B1     		cbz	r0, .L303
 5021 0006 0546     		mov	r5, r0
1028:App/Src/task.c ****         testState = 1;
1029:App/Src/task.c ****         temp = temp_read_value(1);
1030:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 128


1031:App/Src/task.c ****         okCount = 0;
1032:App/Src/task.c ****         return 1;
1033:App/Src/task.c ****     } 
1034:App/Src/task.c ****     switch (testState) {
 5022              		.loc 1 1034 5 is_stmt 1 view .LVU1355
 5023 0008 544B     		ldr	r3, .L306
 5024 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5025 000c 022B     		cmp	r3, #2
 5026 000e 47D0     		beq	.L295
 5027 0010 032B     		cmp	r3, #3
 5028 0012 54D0     		beq	.L296
 5029 0014 012B     		cmp	r3, #1
 5030 0016 16D0     		beq	.L304
 5031 0018 0020     		movs	r0, #0
 5032              	.LVL397:
 5033              	.L292:
1035:App/Src/task.c ****         case 0: break;
1036:App/Src/task.c ****         case 1:
1037:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
1038:App/Src/task.c ****             HAL_Delay(5);
1039:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
1040:App/Src/task.c ****                 temp = buffer;
1041:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
1042:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
1043:App/Src/task.c ****                 rtc_set_int_channel(number);
1044:App/Src/task.c ****                 rtc_out_4096();
1045:App/Src/task.c ****                 testState++;
1046:App/Src/task.c ****             } else {
1047:App/Src/task.c ****                 result = -1;
1048:App/Src/task.c ****             }
1049:App/Src/task.c ****         break;
1050:App/Src/task.c ****         case 2:
1051:App/Src/task.c ****             lastTestTime = HAL_GetTick();
1052:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
1053:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
1054:App/Src/task.c ****             testState++;
1055:App/Src/task.c ****         break;
1056:App/Src/task.c ****         case 3:
1057:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
1058:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
1059:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
1060:App/Src/task.c ****                 rtc_disable_int();
1061:App/Src/task.c ****                 testState = 1;
1062:App/Src/task.c ****                 okCount++;
1063:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
1064:App/Src/task.c ****                 result = 1;
1065:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
1066:App/Src/task.c ****                 UsbPrintf("no response\n"); 
1067:App/Src/task.c ****                 testState = 1;
1068:App/Src/task.c ****                 rtc_disable_int();
1069:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
1070:App/Src/task.c ****                 result = -1;
1071:App/Src/task.c ****             }
1072:App/Src/task.c ****         break;
1073:App/Src/task.c ****         default:  break;
1074:App/Src/task.c ****     }
1075:App/Src/task.c ****     return result;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 129


1076:App/Src/task.c **** }
 5034              		.loc 1 1076 1 is_stmt 0 view .LVU1356
 5035 001a 05B0     		add	sp, sp, #20
 5036              	.LCFI46:
 5037              		.cfi_remember_state
 5038              		.cfi_def_cfa_offset 20
 5039              		@ sp needed
 5040 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 5041              	.LVL398:
 5042              	.L303:
 5043              	.LCFI47:
 5044              		.cfi_restore_state
1028:App/Src/task.c ****         testState = 1;
 5045              		.loc 1 1028 9 is_stmt 1 view .LVU1357
1028:App/Src/task.c ****         testState = 1;
 5046              		.loc 1 1028 19 is_stmt 0 view .LVU1358
 5047 001e 0124     		movs	r4, #1
 5048 0020 4E4B     		ldr	r3, .L306
 5049 0022 1C70     		strb	r4, [r3]
1029:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 5050              		.loc 1 1029 9 is_stmt 1 view .LVU1359
1029:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 5051              		.loc 1 1029 16 is_stmt 0 view .LVU1360
 5052 0024 2046     		mov	r0, r4
 5053              	.LVL399:
1029:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 5054              		.loc 1 1029 16 view .LVU1361
 5055 0026 FFF7FEFF 		bl	temp_read_value
 5056              	.LVL400:
 5057 002a 10EE100A 		vmov	r0, s0
 5058              	.LVL401:
1030:App/Src/task.c ****         okCount = 0;
 5059              		.loc 1 1030 9 is_stmt 1 view .LVU1362
 5060 002e FFF7FEFF 		bl	__aeabi_f2d
 5061              	.LVL402:
1030:App/Src/task.c ****         okCount = 0;
 5062              		.loc 1 1030 9 is_stmt 0 view .LVU1363
 5063 0032 0246     		mov	r2, r0
 5064 0034 0B46     		mov	r3, r1
 5065 0036 4A48     		ldr	r0, .L306+4
 5066 0038 FFF7FEFF 		bl	UsbPrintf
 5067              	.LVL403:
1031:App/Src/task.c ****         return 1;
 5068              		.loc 1 1031 9 is_stmt 1 view .LVU1364
1031:App/Src/task.c ****         return 1;
 5069              		.loc 1 1031 17 is_stmt 0 view .LVU1365
 5070 003c 494B     		ldr	r3, .L306+8
 5071 003e 0022     		movs	r2, #0
 5072 0040 1A70     		strb	r2, [r3]
1032:App/Src/task.c ****     } 
 5073              		.loc 1 1032 9 is_stmt 1 view .LVU1366
1032:App/Src/task.c ****     } 
 5074              		.loc 1 1032 16 is_stmt 0 view .LVU1367
 5075 0042 2046     		mov	r0, r4
 5076 0044 E9E7     		b	.L292
 5077              	.LVL404:
 5078              	.L304:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 130


1037:App/Src/task.c ****             HAL_Delay(5);
 5079              		.loc 1 1037 13 is_stmt 1 view .LVU1368
 5080 0046 0121     		movs	r1, #1
 5081 0048 FFF7FEFF 		bl	rtc_group_power
 5082              	.LVL405:
1038:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 5083              		.loc 1 1038 13 view .LVU1369
 5084 004c 0520     		movs	r0, #5
 5085 004e FFF7FEFF 		bl	HAL_Delay
 5086              	.LVL406:
1039:App/Src/task.c ****                 temp = buffer;
 5087              		.loc 1 1039 13 view .LVU1370
1039:App/Src/task.c ****                 temp = buffer;
 5088              		.loc 1 1039 17 is_stmt 0 view .LVU1371
 5089 0052 0DF10F00 		add	r0, sp, #15
 5090 0056 FFF7FEFF 		bl	rtc_read_temp
 5091              	.LVL407:
1039:App/Src/task.c ****                 temp = buffer;
 5092              		.loc 1 1039 16 view .LVU1372
 5093 005a 0028     		cmp	r0, #0
 5094 005c 7AD1     		bne	.L300
1040:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 5095              		.loc 1 1040 17 is_stmt 1 view .LVU1373
1040:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 5096              		.loc 1 1040 22 is_stmt 0 view .LVU1374
 5097 005e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 5098 0062 07EE903A 		vmov	s15, r3	@ int
 5099 0066 F8EE677A 		vcvt.f32.u32	s15, s15
 5100              	.LVL408:
1041:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 5101              		.loc 1 1041 17 is_stmt 1 view .LVU1375
1041:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 5102              		.loc 1 1041 20 is_stmt 0 view .LVU1376
 5103 006a C82B     		cmp	r3, #200
 5104 006c 03D9     		bls	.L297
1041:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 5105              		.loc 1 1041 36 is_stmt 1 discriminator 1 view .LVU1377
1041:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 5106              		.loc 1 1041 41 is_stmt 0 discriminator 1 view .LVU1378
 5107 006e 9FED3E7A 		vldr.32	s14, .L306+12
 5108 0072 77EEC77A 		vsub.f32	s15, s15, s14
 5109              	.LVL409:
 5110              	.L297:
1042:App/Src/task.c ****                 rtc_set_int_channel(number);
 5111              		.loc 1 1042 17 is_stmt 1 view .LVU1379
 5112 0076 17EE900A 		vmov	r0, s15
 5113 007a FFF7FEFF 		bl	__aeabi_f2d
 5114              	.LVL410:
1042:App/Src/task.c ****                 rtc_set_int_channel(number);
 5115              		.loc 1 1042 17 is_stmt 0 view .LVU1380
 5116 007e 0246     		mov	r2, r0
 5117 0080 0B46     		mov	r3, r1
 5118 0082 2946     		mov	r1, r5
 5119 0084 3948     		ldr	r0, .L306+16
 5120 0086 FFF7FEFF 		bl	UsbPrintf
 5121              	.LVL411:
1043:App/Src/task.c ****                 rtc_out_4096();
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 131


 5122              		.loc 1 1043 17 is_stmt 1 view .LVU1381
 5123 008a 2846     		mov	r0, r5
 5124 008c FFF7FEFF 		bl	rtc_set_int_channel
 5125              	.LVL412:
1044:App/Src/task.c ****                 testState++;
 5126              		.loc 1 1044 17 view .LVU1382
 5127 0090 FFF7FEFF 		bl	rtc_out_4096
 5128              	.LVL413:
1045:App/Src/task.c ****             } else {
 5129              		.loc 1 1045 17 view .LVU1383
1045:App/Src/task.c ****             } else {
 5130              		.loc 1 1045 26 is_stmt 0 view .LVU1384
 5131 0094 314A     		ldr	r2, .L306
 5132 0096 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5133 0098 0133     		adds	r3, r3, #1
 5134 009a 1370     		strb	r3, [r2]
1024:App/Src/task.c ****     static uint8_t okCount = 0;
 5135              		.loc 1 1024 9 view .LVU1385
 5136 009c 0020     		movs	r0, #0
 5137 009e BCE7     		b	.L292
 5138              	.LVL414:
 5139              	.L295:
1051:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 5140              		.loc 1 1051 13 is_stmt 1 view .LVU1386
1051:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 5141              		.loc 1 1051 28 is_stmt 0 view .LVU1387
 5142 00a0 FFF7FEFF 		bl	HAL_GetTick
 5143              	.LVL415:
1051:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 5144              		.loc 1 1051 26 view .LVU1388
 5145 00a4 324B     		ldr	r3, .L306+20
 5146 00a6 1860     		str	r0, [r3]
1052:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 5147              		.loc 1 1052 13 is_stmt 1 view .LVU1389
1052:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 5148              		.loc 1 1052 35 is_stmt 0 view .LVU1390
 5149 00a8 324B     		ldr	r3, .L306+24
 5150 00aa 1860     		str	r0, [r3]
1053:App/Src/task.c ****             testState++;
 5151              		.loc 1 1053 13 is_stmt 1 view .LVU1391
 5152 00ac 3248     		ldr	r0, .L306+28
 5153 00ae FFF7FEFF 		bl	DevicePrintf
 5154              	.LVL416:
1054:App/Src/task.c ****         break;
 5155              		.loc 1 1054 13 view .LVU1392
1054:App/Src/task.c ****         break;
 5156              		.loc 1 1054 22 is_stmt 0 view .LVU1393
 5157 00b2 2A4A     		ldr	r2, .L306
 5158 00b4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5159 00b6 0133     		adds	r3, r3, #1
 5160 00b8 1370     		strb	r3, [r2]
1055:App/Src/task.c ****         case 3:
 5161              		.loc 1 1055 9 is_stmt 1 view .LVU1394
1024:App/Src/task.c ****     static uint8_t okCount = 0;
 5162              		.loc 1 1024 9 is_stmt 0 view .LVU1395
 5163 00ba 0020     		movs	r0, #0
1055:App/Src/task.c ****         case 3:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 132


 5164              		.loc 1 1055 9 view .LVU1396
 5165 00bc ADE7     		b	.L292
 5166              	.LVL417:
 5167              	.L296:
1057:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 5168              		.loc 1 1057 13 is_stmt 1 view .LVU1397
1057:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 5169              		.loc 1 1057 27 is_stmt 0 view .LVU1398
 5170 00be 2D4B     		ldr	r3, .L306+24
 5171 00c0 1A68     		ldr	r2, [r3]
1057:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 5172              		.loc 1 1057 39 view .LVU1399
 5173 00c2 2B4B     		ldr	r3, .L306+20
 5174 00c4 1C68     		ldr	r4, [r3]
1057:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 5175              		.loc 1 1057 16 view .LVU1400
 5176 00c6 A242     		cmp	r2, r4
 5177 00c8 2BD9     		bls	.L298
1058:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 5178              		.loc 1 1058 17 is_stmt 1 view .LVU1401
1058:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 5179              		.loc 1 1058 34 is_stmt 0 view .LVU1402
 5180 00ca 2A4B     		ldr	r3, .L306+24
 5181 00cc D3ED017A 		vldr.32	s15, [r3, #4]
1058:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 5182              		.loc 1 1058 40 view .LVU1403
 5183 00d0 9FED2A7A 		vldr.32	s14, .L306+32
 5184 00d4 67EE877A 		vmul.f32	s15, s15, s14
1058:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 5185              		.loc 1 1058 58 view .LVU1404
 5186 00d8 B7EE007A 		vmov.f32	s14, #1.0e+0
 5187 00dc 77EEC77A 		vsub.f32	s15, s15, s14
 5188              	.LVL418:
1059:App/Src/task.c ****                 rtc_disable_int();
 5189              		.loc 1 1059 17 is_stmt 1 view .LVU1405
 5190 00e0 9FED277A 		vldr.32	s14, .L306+36
 5191 00e4 67EE877A 		vmul.f32	s15, s15, s14
 5192              	.LVL419:
1059:App/Src/task.c ****                 rtc_disable_int();
 5193              		.loc 1 1059 17 is_stmt 0 view .LVU1406
 5194 00e8 17EE900A 		vmov	r0, s15
 5195              	.LVL420:
1059:App/Src/task.c ****                 rtc_disable_int();
 5196              		.loc 1 1059 17 view .LVU1407
 5197 00ec FFF7FEFF 		bl	__aeabi_f2d
 5198              	.LVL421:
1059:App/Src/task.c ****                 rtc_disable_int();
 5199              		.loc 1 1059 17 view .LVU1408
 5200 00f0 0646     		mov	r6, r0
 5201 00f2 0F46     		mov	r7, r1
 5202 00f4 0246     		mov	r2, r0
 5203 00f6 0B46     		mov	r3, r1
 5204 00f8 2248     		ldr	r0, .L306+40
 5205 00fa FFF7FEFF 		bl	UsbPrintf
 5206              	.LVL422:
1060:App/Src/task.c ****                 testState = 1;
 5207              		.loc 1 1060 17 is_stmt 1 view .LVU1409
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 133


 5208 00fe FFF7FEFF 		bl	rtc_disable_int
 5209              	.LVL423:
1061:App/Src/task.c ****                 okCount++;
 5210              		.loc 1 1061 17 view .LVU1410
1061:App/Src/task.c ****                 okCount++;
 5211              		.loc 1 1061 27 is_stmt 0 view .LVU1411
 5212 0102 0124     		movs	r4, #1
 5213 0104 154B     		ldr	r3, .L306
 5214 0106 1C70     		strb	r4, [r3]
1062:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 5215              		.loc 1 1062 17 is_stmt 1 view .LVU1412
1062:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 5216              		.loc 1 1062 24 is_stmt 0 view .LVU1413
 5217 0108 164B     		ldr	r3, .L306+8
 5218 010a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 5219 010c 2144     		add	r1, r1, r4
 5220 010e C9B2     		uxtb	r1, r1
 5221 0110 1970     		strb	r1, [r3]
1063:App/Src/task.c ****                 result = 1;
 5222              		.loc 1 1063 17 is_stmt 1 view .LVU1414
 5223 0112 CDE90067 		strd	r6, [sp]
 5224 0116 2A46     		mov	r2, r5
 5225 0118 1B48     		ldr	r0, .L306+44
 5226 011a FFF7FEFF 		bl	ControlPrintf
 5227              	.LVL424:
1064:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 5228              		.loc 1 1064 17 view .LVU1415
1064:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 5229              		.loc 1 1064 24 is_stmt 0 view .LVU1416
 5230 011e 2046     		mov	r0, r4
 5231 0120 7BE7     		b	.L292
 5232              	.LVL425:
 5233              	.L298:
1065:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 5234              		.loc 1 1065 20 is_stmt 1 view .LVU1417
1065:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 5235              		.loc 1 1065 37 is_stmt 0 view .LVU1418
 5236 0122 04F2DC54 		addw	r4, r4, #1500
1065:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 5237              		.loc 1 1065 46 view .LVU1419
 5238 0126 FFF7FEFF 		bl	HAL_GetTick
 5239              	.LVL426:
1065:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 5240              		.loc 1 1065 23 view .LVU1420
 5241 012a 8442     		cmp	r4, r0
 5242 012c 01D3     		bcc	.L305
1024:App/Src/task.c ****     static uint8_t okCount = 0;
 5243              		.loc 1 1024 9 view .LVU1421
 5244 012e 0020     		movs	r0, #0
 5245              	.LVL427:
1024:App/Src/task.c ****     static uint8_t okCount = 0;
 5246              		.loc 1 1024 9 view .LVU1422
 5247 0130 73E7     		b	.L292
 5248              	.LVL428:
 5249              	.L305:
1066:App/Src/task.c ****                 testState = 1;
 5250              		.loc 1 1066 17 is_stmt 1 view .LVU1423
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 134


 5251 0132 1648     		ldr	r0, .L306+48
 5252 0134 FFF7FEFF 		bl	UsbPrintf
 5253              	.LVL429:
1067:App/Src/task.c ****                 rtc_disable_int();
 5254              		.loc 1 1067 17 view .LVU1424
1067:App/Src/task.c ****                 rtc_disable_int();
 5255              		.loc 1 1067 27 is_stmt 0 view .LVU1425
 5256 0138 084B     		ldr	r3, .L306
 5257 013a 0122     		movs	r2, #1
 5258 013c 1A70     		strb	r2, [r3]
1068:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 5259              		.loc 1 1068 17 is_stmt 1 view .LVU1426
 5260 013e FFF7FEFF 		bl	rtc_disable_int
 5261              	.LVL430:
1069:App/Src/task.c ****                 result = -1;
 5262              		.loc 1 1069 17 view .LVU1427
 5263 0142 2A46     		mov	r2, r5
 5264 0144 074B     		ldr	r3, .L306+8
 5265 0146 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 5266 0148 1148     		ldr	r0, .L306+52
 5267 014a FFF7FEFF 		bl	ControlPrintf
 5268              	.LVL431:
1070:App/Src/task.c ****             }
 5269              		.loc 1 1070 17 view .LVU1428
1070:App/Src/task.c ****             }
 5270              		.loc 1 1070 24 is_stmt 0 view .LVU1429
 5271 014e 4FF0FF30 		mov	r0, #-1
 5272 0152 62E7     		b	.L292
 5273              	.LVL432:
 5274              	.L300:
1047:App/Src/task.c ****             }
 5275              		.loc 1 1047 24 view .LVU1430
 5276 0154 4FF0FF30 		mov	r0, #-1
 5277 0158 5FE7     		b	.L292
 5278              	.L307:
 5279 015a 00BF     		.align	2
 5280              	.L306:
 5281 015c 00000000 		.word	.LANCHOR35
 5282 0160 00000000 		.word	.LC37
 5283 0164 00000000 		.word	.LANCHOR36
 5284 0168 00008043 		.word	1132462080
 5285 016c 14000000 		.word	.LC38
 5286 0170 00000000 		.word	.LANCHOR37
 5287 0174 00000000 		.word	.LANCHOR9
 5288 0178 3C000000 		.word	.LC5
 5289 017c 0000803C 		.word	1015021568
 5290 0180 00247449 		.word	1232348160
 5291 0184 2C000000 		.word	.LC39
 5292 0188 38000000 		.word	.LC40
 5293 018c 60000000 		.word	.LC41
 5294 0190 70000000 		.word	.LC42
 5295              		.cfi_endproc
 5296              	.LFE248:
 5298              		.section	.rodata.ClearControlMessage.str1.4,"aMS",%progbits,1
 5299              		.align	2
 5300              	.LC43:
 5301 0000 25730A00 		.ascii	"%s\012\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 135


 5302              		.section	.text.ClearControlMessage,"ax",%progbits
 5303              		.align	1
 5304              		.global	ClearControlMessage
 5305              		.syntax unified
 5306              		.thumb
 5307              		.thumb_func
 5309              	ClearControlMessage:
 5310              	.LFB249:
1077:App/Src/task.c **** 
1078:App/Src/task.c **** void ClearControlMessage(void)
1079:App/Src/task.c **** {
 5311              		.loc 1 1079 1 is_stmt 1 view -0
 5312              		.cfi_startproc
 5313              		@ args = 0, pretend = 0, frame = 224
 5314              		@ frame_needed = 0, uses_anonymous_args = 0
 5315 0000 10B5     		push	{r4, lr}
 5316              	.LCFI48:
 5317              		.cfi_def_cfa_offset 8
 5318              		.cfi_offset 4, -8
 5319              		.cfi_offset 14, -4
 5320 0002 B8B0     		sub	sp, sp, #224
 5321              	.LCFI49:
 5322              		.cfi_def_cfa_offset 232
1080:App/Src/task.c ****     char message[11][20] = { "chip:", "download:", "systemTemp:", "chipTemp:", "freq:", "ppm:", "id
 5323              		.loc 1 1080 5 view .LVU1432
 5324              		.loc 1 1080 10 is_stmt 0 view .LVU1433
 5325 0004 DC22     		movs	r2, #220
 5326 0006 0C49     		ldr	r1, .L314
 5327 0008 01A8     		add	r0, sp, #4
 5328 000a FFF7FEFF 		bl	memcpy
 5329              	.LVL433:
1081:App/Src/task.c ****     int i;
 5330              		.loc 1 1081 5 is_stmt 1 view .LVU1434
1082:App/Src/task.c ****     for (i = 0; i < 11; i++) {
 5331              		.loc 1 1082 5 view .LVU1435
 5332              		.loc 1 1082 12 is_stmt 0 view .LVU1436
 5333 000e 0024     		movs	r4, #0
 5334              		.loc 1 1082 5 view .LVU1437
 5335 0010 00E0     		b	.L309
 5336              	.LVL434:
 5337              	.L310:
 5338              		.loc 1 1082 25 is_stmt 1 discriminator 2 view .LVU1438
 5339              		.loc 1 1082 26 is_stmt 0 discriminator 2 view .LVU1439
 5340 0012 0134     		adds	r4, r4, #1
 5341              	.LVL435:
 5342              	.L309:
 5343              		.loc 1 1082 17 is_stmt 1 discriminator 1 view .LVU1440
 5344              		.loc 1 1082 5 is_stmt 0 discriminator 1 view .LVU1441
 5345 0014 0A2C     		cmp	r4, #10
 5346 0016 0DDC     		bgt	.L313
1083:App/Src/task.c ****         if (i == 2) continue;
 5347              		.loc 1 1083 9 is_stmt 1 view .LVU1442
 5348              		.loc 1 1083 12 is_stmt 0 view .LVU1443
 5349 0018 022C     		cmp	r4, #2
 5350 001a FAD0     		beq	.L310
1084:App/Src/task.c ****         ControlPrintf("%s\n", message[i]);
 5351              		.loc 1 1084 9 is_stmt 1 view .LVU1444
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 136


 5352              		.loc 1 1084 38 is_stmt 0 view .LVU1445
 5353 001c 04EB8403 		add	r3, r4, r4, lsl #2
 5354 0020 9900     		lsls	r1, r3, #2
 5355              		.loc 1 1084 9 view .LVU1446
 5356 0022 01AB     		add	r3, sp, #4
 5357 0024 1944     		add	r1, r1, r3
 5358 0026 0548     		ldr	r0, .L314+4
 5359 0028 FFF7FEFF 		bl	ControlPrintf
 5360              	.LVL436:
1085:App/Src/task.c ****         HAL_Delay(5);
 5361              		.loc 1 1085 9 is_stmt 1 view .LVU1447
 5362 002c 0520     		movs	r0, #5
 5363 002e FFF7FEFF 		bl	HAL_Delay
 5364              	.LVL437:
 5365 0032 EEE7     		b	.L310
 5366              	.L313:
1086:App/Src/task.c ****     }
1087:App/Src/task.c **** 
1088:App/Src/task.c **** }
 5367              		.loc 1 1088 1 is_stmt 0 view .LVU1448
 5368 0034 38B0     		add	sp, sp, #224
 5369              	.LCFI50:
 5370              		.cfi_def_cfa_offset 8
 5371              		@ sp needed
 5372 0036 10BD     		pop	{r4, pc}
 5373              	.LVL438:
 5374              	.L315:
 5375              		.loc 1 1088 1 view .LVU1449
 5376              		.align	2
 5377              	.L314:
 5378 0038 08000000 		.word	.LANCHOR3+8
 5379 003c 00000000 		.word	.LC43
 5380              		.cfi_endproc
 5381              	.LFE249:
 5383              		.section	.rodata.Aecq100Sample.str1.4,"aMS",%progbits,1
 5384              		.align	2
 5385              	.LC44:
 5386 0000 63686970 		.ascii	"chip:SD8840\012\000"
 5386      3A534438 
 5386      3834300A 
 5386      00
 5387 000d 000000   		.align	2
 5388              	.LC45:
 5389 0010 646F776E 		.ascii	"download:\264\313\307\260\311\325\320\264\263\311\271"
 5389      6C6F6164 
 5389      3AB4CBC7 
 5389      B0C9D5D0 
 5389      B4B3C9B9 
 5390 0024 A60A00   		.ascii	"\246\012\000"
 5391 0027 00       		.align	2
 5392              	.LC46:
 5393 0028 69643A38 		.ascii	"id:8840\262\273\304\334\266\301ID\012\000"
 5393      383430B2 
 5393      BBC4DCB6 
 5393      C149440A 
 5393      00
 5394 0039 000000   		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 137


 5395              	.LC47:
 5396 003c 72656365 		.ascii	"receive I2C OK\012\000"
 5396      69766520 
 5396      49324320 
 5396      4F4B0A00 
 5397              		.align	2
 5398              	.LC48:
 5399 004c 646F776E 		.ascii	"download:\316\264\311\325\320\264\243\254\315\250\320"
 5399      6C6F6164 
 5399      3ACEB4C9 
 5399      D5D0B4A3 
 5399      ACCDA8D0 
 5400 0060 C54F4B0A 		.ascii	"\305OK\012\000"
 5400      00
 5401 0065 000000   		.align	2
 5402              	.LC49:
 5403 0068 72657375 		.ascii	"result:NULL\012\000"
 5403      6C743A4E 
 5403      554C4C0A 
 5403      00
 5404 0075 000000   		.align	2
 5405              	.LC50:
 5406 0078 73797374 		.ascii	"systemTemp:%.1f\012\000"
 5406      656D5465 
 5406      6D703A25 
 5406      2E31660A 
 5406      00
 5407 0089 000000   		.align	2
 5408              	.LC51:
 5409 008c B5C8B4FD 		.ascii	"\265\310\264\3751s\012\000"
 5409      31730A00 
 5410              		.align	2
 5411              	.LC52:
 5412 0094 20693263 		.ascii	" i2c error\012\000"
 5412      20657272 
 5412      6F720A00 
 5413              		.align	2
 5414              	.LC53:
 5415 00a0 646F776E 		.ascii	"download:\316\302\266\310\326\265\322\354\263\243\012"
 5415      6C6F6164 
 5415      3ACEC2B6 
 5415      C8D6B5D2 
 5415      ECB3A30A 
 5416 00b4 00       		.ascii	"\000"
 5417 00b5 000000   		.align	2
 5418              	.LC54:
 5419 00b8 72657375 		.ascii	"result:NG\012\000"
 5419      6C743A4E 
 5419      470A00
 5420 00c3 00       		.align	2
 5421              	.LC55:
 5422 00c4 74656D70 		.ascii	"temp:%.0f, system temp = %.1fC\012\000"
 5422      3A252E30 
 5422      662C2073 
 5422      79737465 
 5422      6D207465 
 5423              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 138


 5424              	.LC56:
 5425 00e4 63686970 		.ascii	"chipTemp:%.0f\012\000"
 5425      54656D70 
 5425      3A252E30 
 5425      660A00
 5426 00f3 00       		.align	2
 5427              	.LC57:
 5428 00f4 20256648 		.ascii	" %fHz, %.2fppm\012\000"
 5428      7A2C2025 
 5428      2E326670 
 5428      706D0A00 
 5429              		.align	2
 5430              	.LC58:
 5431 0104 66726571 		.ascii	"freq:%fHz\012\000"
 5431      3A256648 
 5431      7A0A00
 5432 010f 00       		.align	2
 5433              	.LC59:
 5434 0110 70706D3A 		.ascii	"ppm:%.2fppm\012\000"
 5434      252E3266 
 5434      70706D0A 
 5434      00
 5435 011d 000000   		.align	2
 5436              	.LC60:
 5437 0120 66726571 		.ascii	"freq:no response\012\000"
 5437      3A6E6F20 
 5437      72657370 
 5437      6F6E7365 
 5437      0A00
 5438 0132 0000     		.align	2
 5439              	.LC61:
 5440 0134 72746320 		.ascii	"rtc vdd current = %.1f nA\012\000"
 5440      76646420 
 5440      63757272 
 5440      656E7420 
 5440      3D20252E 
 5441 014f 00       		.align	2
 5442              	.LC62:
 5443 0150 63757272 		.ascii	"current OK\012\000"
 5443      656E7420 
 5443      4F4B0A00 
 5444              		.align	2
 5445              	.LC63:
 5446 015c 49766464 		.ascii	"Ivdd:%.2fuA\012\000"
 5446      3A252E32 
 5446      6675410A 
 5446      00
 5447 0169 000000   		.align	2
 5448              	.LC64:
 5449 016c 72657375 		.ascii	"result:PASS\012\000"
 5449      6C743A50 
 5449      4153530A 
 5449      00
 5450 0179 000000   		.align	2
 5451              	.LC65:
 5452 017c 76646420 		.ascii	"vdd current error\000"
 5452      63757272 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 139


 5452      656E7420 
 5452      6572726F 
 5452      7200
 5453              		.section	.text.Aecq100Sample,"ax",%progbits
 5454              		.align	1
 5455              		.global	Aecq100Sample
 5456              		.syntax unified
 5457              		.thumb
 5458              		.thumb_func
 5460              	Aecq100Sample:
 5461              	.LFB250:
1089:App/Src/task.c **** uint8_t Aecq100State = 0;
1090:App/Src/task.c **** //-------------------------------
1091:App/Src/task.c **** // void Aecq100Sample(void)//临时任务 ACEQ100测试需要5000个芯片
1092:App/Src/task.c **** // {
1093:App/Src/task.c **** //     uint8_t buffer[8];
1094:App/Src/task.c **** // 	float temp, ppm;
1095:App/Src/task.c **** //     static float rtc_temp;
1096:App/Src/task.c **** //     static uint16_t config = 0;
1097:App/Src/task.c **** //     static uint8_t responseCount = 0;
1098:App/Src/task.c **** //     static uint32_t lastTestTime = 0;
1099:App/Src/task.c **** // 	uint8_t cap[2] = {0};
1100:App/Src/task.c **** //     static float lastCap = 11;
1101:App/Src/task.c **** //     static float minPpm = 1000;
1102:App/Src/task.c **** //     static float minCap;
1103:App/Src/task.c **** //     static uint8_t adjustCount = 0;
1104:App/Src/task.c **** // 	uint8_t setting[5] = {0x01, 0x00, 0x11, 0x00, 0x10};
1105:App/Src/task.c **** //     float current;
1106:App/Src/task.c **** //     int i;
1107:App/Src/task.c **** //     // uint8_t result;
1108:App/Src/task.c **** //     //  { "chip:", "download:", "systemTemp:", "chipTemp:", "freq:", "ppm:", "id:", "Ivdd:", "Vb
1109:App/Src/task.c **** //     switch (Aecq100State) {
1110:App/Src/task.c **** //         case 0:
1111:App/Src/task.c **** //             rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1112:App/Src/task.c **** // 			rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1113:App/Src/task.c **** //             HAL_Delay(5);
1114:App/Src/task.c **** // 			spi_read_multi_bytes(0x00, buffer, 8);
1115:App/Src/task.c **** //             for (i = 0; i < 8; i++) {
1116:App/Src/task.c **** //                 if (buffer[i] != 0x00 && buffer[i] != 0xff) { 
1117:App/Src/task.c **** //                     break;
1118:App/Src/task.c **** //                 }
1119:App/Src/task.c **** //             }
1120:App/Src/task.c **** //             if (i < 8) {
1121:App/Src/task.c **** //                 ClearControlMessage();
1122:App/Src/task.c **** //                 ControlPrintf("chip:SD8840\n");
1123:App/Src/task.c **** //                 HAL_Delay(5);
1124:App/Src/task.c **** //                 ControlPrintf("download:此前烧写成功\n");
1125:App/Src/task.c **** //                 Aecq100State = 9;
1126:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1127:App/Src/task.c **** //                 HAL_Delay(5);
1128:App/Src/task.c **** //                 ControlPrintf("id:8840不能读ID\n");
1129:App/Src/task.c **** //             } else{
1130:App/Src/task.c **** // 		        rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
1131:App/Src/task.c **** //                 HAL_Delay(5);
1132:App/Src/task.c **** //                 if (rtc_read_multi_bytes(0x64, 0x00, buffer, 1) == I2C_OK) {
1133:App/Src/task.c **** //                     Aecq100State++;
1134:App/Src/task.c **** //                     UsbPrintf("receive I2C OK\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 140


1135:App/Src/task.c **** //                     ClearControlMessage();
1136:App/Src/task.c **** //                     ControlPrintf("chip:SD8840\n");
1137:App/Src/task.c **** //                 }
1138:App/Src/task.c **** //             }
1139:App/Src/task.c **** //             if (HAL_GetTick() > lastTestTime + 1000) {
1140:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1141:App/Src/task.c **** //                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
1142:App/Src/task.c **** //             }
1143:App/Src/task.c **** //         break;
1144:App/Src/task.c **** //         case 1:
1145:App/Src/task.c **** //             if (rtc_1006_set_testmode(AECQ100_CHANNEL) == I2C_OK) {
1146:App/Src/task.c **** //             //   if (rtc_8840_adc_testmode(AECQ100_CHANNEL) == I2C_OK) {  
1147:App/Src/task.c **** //                 ControlPrintf("download:进行测试模式\n");
1148:App/Src/task.c **** //                 UsbPrintf("enter testmode OK\n");
1149:App/Src/task.c **** //                 Aecq100State++;
1150:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1151:App/Src/task.c **** //             } else {
1152:App/Src/task.c **** //                 UsbPrintf("enter testmode fail\n");
1153:App/Src/task.c **** //                 ControlPrintf("download:测试模式失败\n");
1154:App/Src/task.c **** // 			    HAL_Delay(5);
1155:App/Src/task.c **** //                 ControlPrintf("result:NG\n");
1156:App/Src/task.c **** //                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1157:App/Src/task.c **** //                 rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
1158:App/Src/task.c **** //                 Aecq100State = 50;
1159:App/Src/task.c **** //             }
1160:App/Src/task.c **** //         break;
1161:App/Src/task.c **** //         case 2:
1162:App/Src/task.c **** //             if (HAL_GetTick() > lastTestTime + 500) {
1163:App/Src/task.c **** //                 temp = temp_read_value(1);
1164:App/Src/task.c **** //                 rtc_temp = system_get_rtc_temp(); 
1165:App/Src/task.c **** //                 config = rtc_convert_temp_offset(rtc_temp, temp);
1166:App/Src/task.c **** //                 UsbPrintf("temp %.1f, adc %.1f, offset %d\n", temp, rtc_temp, config);
1167:App/Src/task.c **** //                 if (config > 50 && config < 130) {//温度偏移值正常
1168:App/Src/task.c **** //                     // rtc_1006_exit_testmode(AECQ100_CHANNEL); //先退出ADC测试模式
1169:App/Src/task.c **** //                     // rtc_1006_set_testmode(AECQ100_CHANNEL);//再进调电容模式
1170:App/Src/task.c **** //                     rtc_out_4096();
1171:App/Src/task.c **** //                     Aecq100State++;
1172:App/Src/task.c **** //                 } else {
1173:App/Src/task.c **** //                     UsbPrintf("check config fail\n");
1174:App/Src/task.c **** //                     Aecq100State = 50;
1175:App/Src/task.c **** //                     ControlPrintf("download:温度计失败\n");
1176:App/Src/task.c **** //                     HAL_Delay(5);
1177:App/Src/task.c **** //                     ControlPrintf("result:NG\n");
1178:App/Src/task.c **** //                 }
1179:App/Src/task.c **** //             }
1180:App/Src/task.c **** //         break;
1181:App/Src/task.c **** //         case 3: 
1182:App/Src/task.c **** //             lastCap = rtc_init_test_cap(25);
1183:App/Src/task.c **** //             cap_list_to_uint(lastCap, cap);
1184:App/Src/task.c **** //             if (rtc_set_testcap(cap) == I2C_OK) {
1185:App/Src/task.c **** //                 ControlPrintf("download:开始调电容\n");
1186:App/Src/task.c **** //                 minPpm = 1000;
1187:App/Src/task.c **** //                 Aecq100State++;
1188:App/Src/task.c **** //                 adjustCount = 1;
1189:App/Src/task.c **** //                 responseCount = 0;
1190:App/Src/task.c **** //             } else {
1191:App/Src/task.c **** //                 Aecq100State = 50;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 141


1192:App/Src/task.c **** //                 ControlPrintf("download:调电容失败\n");
1193:App/Src/task.c **** // 			    HAL_Delay(5);
1194:App/Src/task.c **** //                 ControlPrintf("result:NG\n");
1195:App/Src/task.c **** //             }
1196:App/Src/task.c **** //         break;
1197:App/Src/task.c **** //         case 4:
1198:App/Src/task.c **** //             lastTestTime = HAL_GetTick();
1199:App/Src/task.c **** //             g_lastFreq.recordTime = lastTestTime;
1200:App/Src/task.c **** //             DevicePrintf(":MEAS?\n");
1201:App/Src/task.c **** //             Aecq100State++;
1202:App/Src/task.c **** //         break;
1203:App/Src/task.c **** //         case 5:
1204:App/Src/task.c **** //             if (g_lastFreq.recordTime > lastTestTime) {
1205:App/Src/task.c **** //                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
1206:App/Src/task.c **** //                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
1207:App/Src/task.c **** //                 if (fabs(ppm) <= 0.5) {
1208:App/Src/task.c **** //                     Aecq100State ++;
1209:App/Src/task.c **** //                     break;
1210:App/Src/task.c **** //                 } else if (fabs(ppm) < 2) {
1211:App/Src/task.c **** //                     if (fabs(ppm) < fabs(minPpm)) {
1212:App/Src/task.c **** //                         minPpm = ppm;
1213:App/Src/task.c **** //                         minCap = lastCap;
1214:App/Src/task.c **** //                     }
1215:App/Src/task.c **** //                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
1216:App/Src/task.c **** //                         Aecq100State ++;
1217:App/Src/task.c **** //                          lastCap = minCap;
1218:App/Src/task.c **** //                         break;
1219:App/Src/task.c **** //                     }
1220:App/Src/task.c **** //                 } else {
1221:App/Src/task.c **** //                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_L
1222:App/Src/task.c **** //                         Aecq100State = 50;
1223:App/Src/task.c **** //                         ControlPrintf("download:调电容失败\n");
1224:App/Src/task.c **** // 			            HAL_Delay(5);
1225:App/Src/task.c **** //                         ControlPrintf("result:NG\n");
1226:App/Src/task.c **** //                         break;
1227:App/Src/task.c **** //                     } 
1228:App/Src/task.c **** //                 }
1229:App/Src/task.c **** //                 if (fabs(ppm) < fabs(minPpm)) {
1230:App/Src/task.c **** //                     minPpm = ppm;
1231:App/Src/task.c **** //                     minCap = lastCap;
1232:App/Src/task.c **** //                 }
1233:App/Src/task.c **** //                 //---------------异常次数限制，避免卡死在该环节-----------------------
1234:App/Src/task.c **** //                 adjustCount++;
1235:App/Src/task.c **** //                 if (adjustCount > 10) { 
1236:App/Src/task.c **** //                     Aecq100State = 50;
1237:App/Src/task.c **** //                     ControlPrintf("download:调电容失败\n");
1238:App/Src/task.c **** // 			        HAL_Delay(5);
1239:App/Src/task.c **** //                     ControlPrintf("result:NG\n");
1240:App/Src/task.c **** //                     break;
1241:App/Src/task.c **** //                 }//---------------------------------------------------------            
1242:App/Src/task.c **** //                 if (0 < ppm && ppm < 1) {
1243:App/Src/task.c **** //                     lastCap += 1;
1244:App/Src/task.c **** //                 } else if (-1 < ppm && ppm < 0) {
1245:App/Src/task.c **** //                     lastCap -= 1;
1246:App/Src/task.c **** //                 } else {
1247:App/Src/task.c **** //                     lastCap = lastCap + ppm * 2.5;
1248:App/Src/task.c **** //                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 142


1249:App/Src/task.c **** //                 cap_list_to_uint(lastCap, cap);
1250:App/Src/task.c **** //                 rtc_set_testcap(cap);
1251:App/Src/task.c **** //                 Aecq100State = 4;
1252:App/Src/task.c **** //             } else if (lastTestTime + 1200 < HAL_GetTick()) {
1253:App/Src/task.c **** //                 UsbPrintf("device no response\n");
1254:App/Src/task.c **** //                 log_printf("device no response\n");             
1255:App/Src/task.c **** //                 responseCount++;
1256:App/Src/task.c **** //                 if (responseCount >= 3) {//stop test
1257:App/Src/task.c **** //                     Aecq100State = 50;
1258:App/Src/task.c **** //                     ControlPrintf("download:调电容失败\n");
1259:App/Src/task.c **** // 			    HAL_Delay(5);
1260:App/Src/task.c **** //                     ControlPrintf("result:NG\n");
1261:App/Src/task.c **** //                 } else {
1262:App/Src/task.c **** //                     lastTestTime = HAL_GetTick();
1263:App/Src/task.c **** //                     Aecq100State = 4;
1264:App/Src/task.c **** //                 }
1265:App/Src/task.c **** //             }
1266:App/Src/task.c **** //         break;
1267:App/Src/task.c **** //         case 6:
1268:App/Src/task.c **** //             rtc_disable_int();
1269:App/Src/task.c **** //             rtc_1006_exit_testmode(AECQ100_CHANNEL); 
1270:App/Src/task.c **** //             ControlPrintf("download:电容测试成功\n");
1271:App/Src/task.c **** //             Aecq100State++;
1272:App/Src/task.c **** //         break;
1273:App/Src/task.c **** //         case 7:
1274:App/Src/task.c **** //             if (sd8840_ACEQ100(config, (uint16_t)(rtc_temp - (temp_read_value(1) - 25) * 2), las
1275:App/Src/task.c **** //                 UsbPrintf("download sd8840 success\n");
1276:App/Src/task.c **** //                 ControlPrintf("download:烧写成功\n");
1277:App/Src/task.c **** //                 Aecq100State ++;
1278:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1279:App/Src/task.c **** //                 UsbPrintf("sd8840 power off\n");
1280:App/Src/task.c **** //                 rtc_group_power(AECQ100_CHANNEL, POWER_OFF);
1281:App/Src/task.c **** //             } else {
1282:App/Src/task.c **** //                 ControlPrintf("download:烧写失败\n");
1283:App/Src/task.c **** //                 UsbPrintf("download sd8840 fail\n");
1284:App/Src/task.c **** //                 Aecq100State = 50;
1285:App/Src/task.c **** // 			    HAL_Delay(5);
1286:App/Src/task.c **** //                 ControlPrintf("result:NG\n");
1287:App/Src/task.c **** //             } 
1288:App/Src/task.c **** //         break;
1289:App/Src/task.c **** //         case 8:
1290:App/Src/task.c **** //             if (lastTestTime + 500 < HAL_GetTick()) {
1291:App/Src/task.c **** //                 UsbPrintf("sd8840 重新上电\n");
1292:App/Src/task.c **** //                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1293:App/Src/task.c **** //                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1294:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1295:App/Src/task.c **** //                 Aecq100State++;
1296:App/Src/task.c **** //                 break;
1297:App/Src/task.c **** //             }
1298:App/Src/task.c **** //         break;
1299:App/Src/task.c **** //         case 9:
1300:App/Src/task.c **** //             if (lastTestTime + 1000 < HAL_GetTick()) {
1301:App/Src/task.c **** //                 UsbPrintf("等待1s\n");
1302:App/Src/task.c **** //                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1303:App/Src/task.c **** //                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1304:App/Src/task.c **** //                 buffer[0] = 0x10;
1305:App/Src/task.c **** //                 spi_write_multi_bytes(0x57, buffer, 1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 143


1306:App/Src/task.c **** //                 Aecq100State++;
1307:App/Src/task.c **** //                 break;
1308:App/Src/task.c **** //             }
1309:App/Src/task.c **** //         break;
1310:App/Src/task.c **** //         case 10:
1311:App/Src/task.c **** // 			buffer[0] = 0x10;
1312:App/Src/task.c **** // 			spi_write_multi_bytes(0x57, buffer, 1);
1313:App/Src/task.c **** // 			HAL_Delay(10);
1314:App/Src/task.c **** // 			spi_read_multi_bytes(0x56, buffer, 1);
1315:App/Src/task.c **** // 			if (buffer[0] == 0 || buffer[0] == 0xff) {
1316:App/Src/task.c **** // 				UsbPrintf(" i2c error\n");
1317:App/Src/task.c **** //                 Aecq100State = 50;
1318:App/Src/task.c **** //                 ControlPrintf("download:通信失败\n");
1319:App/Src/task.c **** // 			    HAL_Delay(5);
1320:App/Src/task.c **** //                 ControlPrintf("result:NG\n");
1321:App/Src/task.c **** //                 break;
1322:App/Src/task.c **** // 			}
1323:App/Src/task.c **** // 			temp = buffer[0];
1324:App/Src/task.c **** // 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", temp, temp_read_value(1));
1325:App/Src/task.c **** //             ControlPrintf("chipTemp:%.0f\n", temp);
1326:App/Src/task.c **** // 			spi_write_multi_bytes(0x0B, setting, 5);//开启输出
1327:App/Src/task.c **** //             lastTestTime = HAL_GetTick();
1328:App/Src/task.c **** //             Aecq100State++;
1329:App/Src/task.c **** //             break;
1330:App/Src/task.c **** //         case 11:
1331:App/Src/task.c **** //             if (lastTestTime + 300 < HAL_GetTick()) {
1332:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1333:App/Src/task.c **** //                 g_lastFreq.recordTime = lastTestTime;
1334:App/Src/task.c **** //                 DevicePrintf(":MEAS?\n");
1335:App/Src/task.c **** //                 Aecq100State++;
1336:App/Src/task.c **** //             }
1337:App/Src/task.c **** //             break;
1338:App/Src/task.c **** //         case 12:
1339:App/Src/task.c **** //             if (g_lastFreq.recordTime > lastTestTime) {
1340:App/Src/task.c **** //                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
1341:App/Src/task.c **** //                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
1342:App/Src/task.c **** //                 ControlPrintf("freq:%fHz\n", g_lastFreq.freq);
1343:App/Src/task.c **** // 			    HAL_Delay(5);
1344:App/Src/task.c **** //                 ControlPrintf("ppm:%.2fppm\n", ppm);
1345:App/Src/task.c **** //                 buffer[0] = 0x00;
1346:App/Src/task.c **** //                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
1347:App/Src/task.c **** //                 if (ppm > 3 || ppm < -3) {
1348:App/Src/task.c **** //                     ControlPrintf("result:NG\n");
1349:App/Src/task.c **** //                     Aecq100State = 50;
1350:App/Src/task.c **** //                 } else {
1351:App/Src/task.c **** // 			        rtc_group_power(AECQ100_CHANNEL, POWER_VDD_I);
1352:App/Src/task.c **** //                     lastTestTime = HAL_GetTick();
1353:App/Src/task.c **** //                     Aecq100State++;
1354:App/Src/task.c **** //                 } 
1355:App/Src/task.c **** //             }
1356:App/Src/task.c **** //             if (lastTestTime + 1200 < HAL_GetTick()) {
1357:App/Src/task.c **** //                 UsbPrintf("device no response\n");
1358:App/Src/task.c **** //                 Aecq100State = 50;
1359:App/Src/task.c **** //                 ControlPrintf("freq:no response\n");
1360:App/Src/task.c **** // 			    HAL_Delay(5);
1361:App/Src/task.c **** //                 ControlPrintf("result:NG\n");
1362:App/Src/task.c **** //             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 144


1363:App/Src/task.c **** //         break;
1364:App/Src/task.c **** //         case 13:
1365:App/Src/task.c **** //             if (lastTestTime + 500 < HAL_GetTick()) {
1366:App/Src/task.c **** //                 current = CS1237Current();
1367:App/Src/task.c **** //                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
1368:App/Src/task.c **** //                 if (current > 300 && current < 1000) {
1369:App/Src/task.c **** //                     UsbPrintf("current OK\n");
1370:App/Src/task.c **** //                     ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
1371:App/Src/task.c **** // 			        HAL_Delay(5);
1372:App/Src/task.c **** //                     ControlPrintf("result:PASS\n");
1373:App/Src/task.c **** //                     rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1374:App/Src/task.c **** //                     rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
1375:App/Src/task.c **** //                     Aecq100State = 50;
1376:App/Src/task.c **** //                 } else {
1377:App/Src/task.c **** //                     lastTestTime = HAL_GetTick();
1378:App/Src/task.c **** //                     Aecq100State ++;
1379:App/Src/task.c **** //                 }
1380:App/Src/task.c **** //             }
1381:App/Src/task.c **** //             break;
1382:App/Src/task.c **** //         case 14:
1383:App/Src/task.c **** //             if (lastTestTime + 300 < HAL_GetTick()) {
1384:App/Src/task.c **** //                 current = CS1237Current();
1385:App/Src/task.c **** //                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
1386:App/Src/task.c **** //                 if (current > 300 && current < 1000) {
1387:App/Src/task.c **** //                     UsbPrintf("current OK\n");
1388:App/Src/task.c **** //                     ControlPrintf("result:PASS\n");
1389:App/Src/task.c **** //                 } else {
1390:App/Src/task.c **** //                     UsbPrintf("vdd current error");
1391:App/Src/task.c **** //                     ControlPrintf("result:NG\n");
1392:App/Src/task.c **** //                 }
1393:App/Src/task.c **** // 			    HAL_Delay(5);
1394:App/Src/task.c **** //                 ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
1395:App/Src/task.c **** //                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1396:App/Src/task.c **** //                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1397:App/Src/task.c **** //                 Aecq100State = 50;
1398:App/Src/task.c **** //             }
1399:App/Src/task.c **** //             break;
1400:App/Src/task.c **** //         case  50:
1401:App/Src/task.c **** // 			spi_read_multi_bytes(0x56, buffer, 1);
1402:App/Src/task.c **** // 			if (buffer[0] == 0 || buffer[0] == 0xff) {
1403:App/Src/task.c **** //                 Aecq100State = 0;
1404:App/Src/task.c **** //             }
1405:App/Src/task.c **** //             if (HAL_GetTick() > lastTestTime + 1000) {
1406:App/Src/task.c **** //                 lastTestTime = HAL_GetTick();
1407:App/Src/task.c **** //                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
1408:App/Src/task.c **** //             }
1409:App/Src/task.c **** //             break;
1410:App/Src/task.c **** //         default: break;
1411:App/Src/task.c **** //     }
1412:App/Src/task.c **** // }
1413:App/Src/task.c **** #define CENTER_FREQ    4
1414:App/Src/task.c **** void Aecq100Sample(void)//临时任务 ACEQ100测试需要5000个芯片
1415:App/Src/task.c **** {
 5462              		.loc 1 1415 1 is_stmt 1 view -0
 5463              		.cfi_startproc
 5464              		@ args = 0, pretend = 0, frame = 16
 5465              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 145


 5466 0000 70B5     		push	{r4, r5, r6, lr}
 5467              	.LCFI51:
 5468              		.cfi_def_cfa_offset 16
 5469              		.cfi_offset 4, -16
 5470              		.cfi_offset 5, -12
 5471              		.cfi_offset 6, -8
 5472              		.cfi_offset 14, -4
 5473 0002 2DED028B 		vpush.64	{d8}
 5474              	.LCFI52:
 5475              		.cfi_def_cfa_offset 24
 5476              		.cfi_offset 80, -24
 5477              		.cfi_offset 81, -20
 5478 0006 86B0     		sub	sp, sp, #24
 5479              	.LCFI53:
 5480              		.cfi_def_cfa_offset 48
1416:App/Src/task.c ****     uint8_t buffer[8];
 5481              		.loc 1 1416 5 view .LVU1451
1417:App/Src/task.c **** 	float temp, ppm;
 5482              		.loc 1 1417 2 view .LVU1452
1418:App/Src/task.c ****     float rtc_temp;
 5483              		.loc 1 1418 5 view .LVU1453
1419:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 5484              		.loc 1 1419 5 view .LVU1454
1420:App/Src/task.c **** 	uint8_t setting[5] = {0x01, 0x00, 0x11, 0x00, 0x10};
 5485              		.loc 1 1420 2 view .LVU1455
 5486              		.loc 1 1420 10 is_stmt 0 view .LVU1456
 5487 0008 AE4B     		ldr	r3, .L368
 5488 000a 93E80300 		ldm	r3, {r0, r1}
 5489 000e 0290     		str	r0, [sp, #8]
 5490 0010 8DF80C10 		strb	r1, [sp, #12]
1421:App/Src/task.c ****     float current;
 5491              		.loc 1 1421 5 is_stmt 1 view .LVU1457
1422:App/Src/task.c ****     int i;
 5492              		.loc 1 1422 5 view .LVU1458
1423:App/Src/task.c ****     static int rtc_result = 0;
 5493              		.loc 1 1423 5 view .LVU1459
1424:App/Src/task.c ****     // uint8_t result;
1425:App/Src/task.c ****     //  { "chip:", "download:", "systemTemp:", "chipTemp:", "freq:", "ppm:", "id:", "Ivdd:", "Vbat:
1426:App/Src/task.c ****     switch (Aecq100State) {
 5494              		.loc 1 1426 5 view .LVU1460
 5495 0014 AC4B     		ldr	r3, .L368+4
 5496 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5497 0018 322B     		cmp	r3, #50
 5498 001a 7AD8     		bhi	.L316
 5499 001c DFE813F0 		tbh	[pc, r3, lsl #1]
 5500              	.L319:
 5501 0020 3300     		.2byte	(.L327-.L319)/2
 5502 0022 7900     		.2byte	(.L316-.L319)/2
 5503 0024 7900     		.2byte	(.L316-.L319)/2
 5504 0026 7900     		.2byte	(.L316-.L319)/2
 5505 0028 7900     		.2byte	(.L316-.L319)/2
 5506 002a 7900     		.2byte	(.L316-.L319)/2
 5507 002c 7900     		.2byte	(.L316-.L319)/2
 5508 002e 7900     		.2byte	(.L316-.L319)/2
 5509 0030 7900     		.2byte	(.L316-.L319)/2
 5510 0032 CC00     		.2byte	(.L326-.L319)/2
 5511 0034 ED00     		.2byte	(.L325-.L319)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 146


 5512 0036 8201     		.2byte	(.L324-.L319)/2
 5513 0038 9901     		.2byte	(.L323-.L319)/2
 5514 003a 2202     		.2byte	(.L322-.L319)/2
 5515 003c 9E02     		.2byte	(.L321-.L319)/2
 5516 003e 1603     		.2byte	(.L320-.L319)/2
 5517 0040 7900     		.2byte	(.L316-.L319)/2
 5518 0042 7900     		.2byte	(.L316-.L319)/2
 5519 0044 7900     		.2byte	(.L316-.L319)/2
 5520 0046 7900     		.2byte	(.L316-.L319)/2
 5521 0048 7900     		.2byte	(.L316-.L319)/2
 5522 004a 7900     		.2byte	(.L316-.L319)/2
 5523 004c 7900     		.2byte	(.L316-.L319)/2
 5524 004e 7900     		.2byte	(.L316-.L319)/2
 5525 0050 7900     		.2byte	(.L316-.L319)/2
 5526 0052 7900     		.2byte	(.L316-.L319)/2
 5527 0054 7900     		.2byte	(.L316-.L319)/2
 5528 0056 7900     		.2byte	(.L316-.L319)/2
 5529 0058 7900     		.2byte	(.L316-.L319)/2
 5530 005a 7900     		.2byte	(.L316-.L319)/2
 5531 005c 7900     		.2byte	(.L316-.L319)/2
 5532 005e 7900     		.2byte	(.L316-.L319)/2
 5533 0060 7900     		.2byte	(.L316-.L319)/2
 5534 0062 7900     		.2byte	(.L316-.L319)/2
 5535 0064 7900     		.2byte	(.L316-.L319)/2
 5536 0066 7900     		.2byte	(.L316-.L319)/2
 5537 0068 7900     		.2byte	(.L316-.L319)/2
 5538 006a 7900     		.2byte	(.L316-.L319)/2
 5539 006c 7900     		.2byte	(.L316-.L319)/2
 5540 006e 7900     		.2byte	(.L316-.L319)/2
 5541 0070 7900     		.2byte	(.L316-.L319)/2
 5542 0072 7900     		.2byte	(.L316-.L319)/2
 5543 0074 7900     		.2byte	(.L316-.L319)/2
 5544 0076 7900     		.2byte	(.L316-.L319)/2
 5545 0078 7900     		.2byte	(.L316-.L319)/2
 5546 007a 7900     		.2byte	(.L316-.L319)/2
 5547 007c 7900     		.2byte	(.L316-.L319)/2
 5548 007e 7900     		.2byte	(.L316-.L319)/2
 5549 0080 7900     		.2byte	(.L316-.L319)/2
 5550 0082 7900     		.2byte	(.L316-.L319)/2
 5551 0084 5F03     		.2byte	(.L318-.L319)/2
 5552              		.p2align 1
 5553              	.L327:
1427:App/Src/task.c ****         case 0:
1428:App/Src/task.c ****             rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 5554              		.loc 1 1428 13 view .LVU1461
 5555 0086 0121     		movs	r1, #1
 5556 0088 0420     		movs	r0, #4
 5557 008a FFF7FEFF 		bl	rtc_group_power
 5558              	.LVL439:
1429:App/Src/task.c **** 			rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
 5559              		.loc 1 1429 4 view .LVU1462
 5560 008e 0321     		movs	r1, #3
 5561 0090 0420     		movs	r0, #4
 5562 0092 FFF7FEFF 		bl	rtc_set_channel
 5563              	.LVL440:
1430:App/Src/task.c ****             rtc_result = 0;//测试前清零
 5564              		.loc 1 1430 13 view .LVU1463
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 147


 5565              		.loc 1 1430 24 is_stmt 0 view .LVU1464
 5566 0096 0024     		movs	r4, #0
 5567 0098 8C4B     		ldr	r3, .L368+8
 5568 009a 1C60     		str	r4, [r3]
1431:App/Src/task.c ****             HAL_Delay(5);
 5569              		.loc 1 1431 13 is_stmt 1 view .LVU1465
 5570 009c 0520     		movs	r0, #5
 5571 009e FFF7FEFF 		bl	HAL_Delay
 5572              	.LVL441:
1432:App/Src/task.c **** 			spi_read_multi_bytes(0x00, buffer, 8);
 5573              		.loc 1 1432 4 view .LVU1466
 5574 00a2 0822     		movs	r2, #8
 5575 00a4 04A9     		add	r1, sp, #16
 5576 00a6 2046     		mov	r0, r4
 5577 00a8 FFF7FEFF 		bl	spi_read_multi_bytes
 5578              	.LVL442:
1433:App/Src/task.c ****             for (i = 0; i < 8; i++) {
 5579              		.loc 1 1433 13 view .LVU1467
 5580              		.loc 1 1433 20 is_stmt 0 view .LVU1468
 5581 00ac 2046     		mov	r0, r4
 5582              	.LVL443:
 5583              	.L328:
 5584              		.loc 1 1433 25 is_stmt 1 discriminator 1 view .LVU1469
 5585              		.loc 1 1433 13 is_stmt 0 discriminator 1 view .LVU1470
 5586 00ae 0728     		cmp	r0, #7
 5587 00b0 0ADC     		bgt	.L329
1434:App/Src/task.c ****                 if (buffer[i] != 0x00 && buffer[i] != 0xff) { 
 5588              		.loc 1 1434 17 is_stmt 1 view .LVU1471
 5589              		.loc 1 1434 27 is_stmt 0 view .LVU1472
 5590 00b2 00F11803 		add	r3, r0, #24
 5591 00b6 6B44     		add	r3, sp, r3
 5592 00b8 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 5593              		.loc 1 1434 39 view .LVU1473
 5594 00bc 013B     		subs	r3, r3, #1
 5595 00be DBB2     		uxtb	r3, r3
 5596              		.loc 1 1434 20 view .LVU1474
 5597 00c0 FD2B     		cmp	r3, #253
 5598 00c2 01D9     		bls	.L329
1433:App/Src/task.c ****             for (i = 0; i < 8; i++) {
 5599              		.loc 1 1433 32 is_stmt 1 discriminator 2 view .LVU1475
1433:App/Src/task.c ****             for (i = 0; i < 8; i++) {
 5600              		.loc 1 1433 33 is_stmt 0 discriminator 2 view .LVU1476
 5601 00c4 0130     		adds	r0, r0, #1
 5602              	.LVL444:
1433:App/Src/task.c ****             for (i = 0; i < 8; i++) {
 5603              		.loc 1 1433 33 discriminator 2 view .LVU1477
 5604 00c6 F2E7     		b	.L328
 5605              	.L329:
1435:App/Src/task.c ****                     break;
1436:App/Src/task.c ****                 }
1437:App/Src/task.c ****             }
1438:App/Src/task.c ****             if (i < 8) {
 5606              		.loc 1 1438 13 is_stmt 1 view .LVU1478
 5607              		.loc 1 1438 16 is_stmt 0 view .LVU1479
 5608 00c8 0728     		cmp	r0, #7
 5609 00ca 26DC     		bgt	.L331
1439:App/Src/task.c ****                 ClearControlMessage();
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 148


 5610              		.loc 1 1439 17 is_stmt 1 view .LVU1480
 5611 00cc FFF7FEFF 		bl	ClearControlMessage
 5612              	.LVL445:
1440:App/Src/task.c ****                 ControlPrintf("chip:SD8840\n");
 5613              		.loc 1 1440 17 view .LVU1481
 5614 00d0 7F48     		ldr	r0, .L368+12
 5615 00d2 FFF7FEFF 		bl	ControlPrintf
 5616              	.LVL446:
1441:App/Src/task.c ****                 HAL_Delay(5);
 5617              		.loc 1 1441 17 view .LVU1482
 5618 00d6 0520     		movs	r0, #5
 5619 00d8 FFF7FEFF 		bl	HAL_Delay
 5620              	.LVL447:
1442:App/Src/task.c ****                 ControlPrintf("download:此前烧写成功\n");
 5621              		.loc 1 1442 17 view .LVU1483
 5622 00dc 7D48     		ldr	r0, .L368+16
 5623 00de FFF7FEFF 		bl	ControlPrintf
 5624              	.LVL448:
1443:App/Src/task.c ****                 Aecq100State = 9;
 5625              		.loc 1 1443 17 view .LVU1484
 5626              		.loc 1 1443 30 is_stmt 0 view .LVU1485
 5627 00e2 794B     		ldr	r3, .L368+4
 5628 00e4 0922     		movs	r2, #9
 5629 00e6 1A70     		strb	r2, [r3]
1444:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5630              		.loc 1 1444 17 is_stmt 1 view .LVU1486
 5631              		.loc 1 1444 32 is_stmt 0 view .LVU1487
 5632 00e8 FFF7FEFF 		bl	HAL_GetTick
 5633              	.LVL449:
 5634              		.loc 1 1444 30 view .LVU1488
 5635 00ec 7A4B     		ldr	r3, .L368+20
 5636 00ee 1860     		str	r0, [r3]
1445:App/Src/task.c ****                 HAL_Delay(5);
 5637              		.loc 1 1445 17 is_stmt 1 view .LVU1489
 5638 00f0 0520     		movs	r0, #5
 5639 00f2 FFF7FEFF 		bl	HAL_Delay
 5640              	.LVL450:
1446:App/Src/task.c ****                 ControlPrintf("id:8840不能读ID\n");
 5641              		.loc 1 1446 17 view .LVU1490
 5642 00f6 7948     		ldr	r0, .L368+24
 5643 00f8 FFF7FEFF 		bl	ControlPrintf
 5644              	.LVL451:
1447:App/Src/task.c ****                 rtc_result = 1;
 5645              		.loc 1 1447 17 view .LVU1491
 5646              		.loc 1 1447 28 is_stmt 0 view .LVU1492
 5647 00fc 734B     		ldr	r3, .L368+8
 5648 00fe 0122     		movs	r2, #1
 5649 0100 1A60     		str	r2, [r3]
 5650              	.L332:
1448:App/Src/task.c ****             } else{
1449:App/Src/task.c **** 		        rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
1450:App/Src/task.c ****                 HAL_Delay(10);
1451:App/Src/task.c ****                 if (rtc_read_multi_bytes(0x64, 0x00, buffer, 8) == I2C_OK &&
1452:App/Src/task.c ****                 (buffer[0] != 0 || buffer[1] != 0 || buffer[2] != 0 || buffer[3] != 0 || buffer[4] 
1453:App/Src/task.c ****                     Aecq100State = 50;
1454:App/Src/task.c ****                     UsbPrintf("receive I2C OK\n");
1455:App/Src/task.c ****                     ClearControlMessage();
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 149


1456:App/Src/task.c ****                     ControlPrintf("chip:SD8840\n");
1457:App/Src/task.c ****                     HAL_Delay(5);
1458:App/Src/task.c ****                     ControlPrintf("download:未烧写，通信OK\n");
1459:App/Src/task.c ****                     HAL_Delay(5);
1460:App/Src/task.c ****                     ControlPrintf("result:NULL\n");
1461:App/Src/task.c ****                     rtc_result = -1;
1462:App/Src/task.c ****                 }
1463:App/Src/task.c ****             }
1464:App/Src/task.c ****             if (HAL_GetTick() > lastTestTime + 1000) {
 5651              		.loc 1 1464 13 is_stmt 1 view .LVU1493
 5652              		.loc 1 1464 17 is_stmt 0 view .LVU1494
 5653 0102 FFF7FEFF 		bl	HAL_GetTick
 5654              	.LVL452:
 5655              		.loc 1 1464 46 view .LVU1495
 5656 0106 744B     		ldr	r3, .L368+20
 5657 0108 1B68     		ldr	r3, [r3]
 5658 010a 03F57A73 		add	r3, r3, #1000
 5659              		.loc 1 1464 16 view .LVU1496
 5660 010e 9842     		cmp	r0, r3
 5661 0110 41D8     		bhi	.L363
 5662              	.L316:
1465:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1466:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
1467:App/Src/task.c ****             }
1468:App/Src/task.c ****         break;
1469:App/Src/task.c ****         
1470:App/Src/task.c ****         case 9:
1471:App/Src/task.c ****             if (lastTestTime + 1000 < HAL_GetTick()) {
1472:App/Src/task.c ****                 UsbPrintf("等待1s\n");
1473:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1474:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1475:App/Src/task.c ****                 buffer[0] = 0x10;
1476:App/Src/task.c ****                 spi_write_multi_bytes(0x57, buffer, 1);
1477:App/Src/task.c ****                 Aecq100State++;
1478:App/Src/task.c ****                 break;
1479:App/Src/task.c ****             }
1480:App/Src/task.c ****         break;
1481:App/Src/task.c ****         case 10:
1482:App/Src/task.c **** 			buffer[0] = 0x10;
1483:App/Src/task.c **** 			spi_write_multi_bytes(0x57, buffer, 1);
1484:App/Src/task.c **** 			HAL_Delay(10);
1485:App/Src/task.c **** 			spi_read_multi_bytes(0x56, buffer, 1);
1486:App/Src/task.c **** 			if (buffer[0] == 0 || buffer[0] == 0xff) {
1487:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
1488:App/Src/task.c ****                 Aecq100State = 50;
1489:App/Src/task.c ****                 ControlPrintf("download:温度值异常\n");
1490:App/Src/task.c **** 			    HAL_Delay(5);
1491:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1492:App/Src/task.c ****                 break;
1493:App/Src/task.c **** 			}
1494:App/Src/task.c **** 			temp = temp_read_value(1);
1495:App/Src/task.c ****             rtc_temp = buffer[0];
1496:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", rtc_temp, temp);
1497:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", rtc_temp);
1498:App/Src/task.c ****             if (rtc_temp > (3 + temp) || rtc_temp < (-3 + temp)) {
1499:App/Src/task.c ****                 HAL_Delay(10);
1500:App/Src/task.c ****                 ControlPrintf("result:NG\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 150


1501:App/Src/task.c ****                 Aecq100State = 50;
1502:App/Src/task.c ****                 break;
1503:App/Src/task.c ****             }
1504:App/Src/task.c **** 			spi_write_multi_bytes(0x0B, setting, 5);//开启输出
1505:App/Src/task.c ****             lastTestTime = HAL_GetTick();
1506:App/Src/task.c ****             Aecq100State++;
1507:App/Src/task.c ****             break;
1508:App/Src/task.c ****         case 11:
1509:App/Src/task.c ****             if (lastTestTime + 300 < HAL_GetTick()) {
1510:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1511:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
1512:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
1513:App/Src/task.c ****                 Aecq100State++;
1514:App/Src/task.c ****             }
1515:App/Src/task.c ****             break;
1516:App/Src/task.c ****         case 12:
1517:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
1518:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
1519:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
1520:App/Src/task.c ****                 if (ppm > (CENTER_FREQ + 2.5) || ppm < (CENTER_FREQ - 2.5)) {
1521:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1522:App/Src/task.c ****                     g_lastFreq.recordTime = lastTestTime;
1523:App/Src/task.c ****                     DevicePrintf(":MEAS?\n");
1524:App/Src/task.c ****                     Aecq100State++;
1525:App/Src/task.c ****                 } else {
1526:App/Src/task.c ****                     ControlPrintf("freq:%fHz\n", g_lastFreq.freq);
1527:App/Src/task.c ****                     HAL_Delay(5);
1528:App/Src/task.c ****                     ControlPrintf("ppm:%.2fppm\n", ppm);
1529:App/Src/task.c ****                     buffer[0] = 0x00;
1530:App/Src/task.c ****                     spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
1531:App/Src/task.c **** 			        rtc_group_power(AECQ100_CHANNEL, POWER_VDD_I);
1532:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1533:App/Src/task.c ****                     Aecq100State += 2;
1534:App/Src/task.c ****                 } 
1535:App/Src/task.c ****             }
1536:App/Src/task.c ****             if (lastTestTime + 1200 < HAL_GetTick()) {
1537:App/Src/task.c ****                 UsbPrintf("device no response\n");
1538:App/Src/task.c ****                 Aecq100State = 50;
1539:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
1540:App/Src/task.c ****                 buffer[0] = 0x00;
1541:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
1542:App/Src/task.c **** 			    HAL_Delay(5);
1543:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1544:App/Src/task.c ****             }
1545:App/Src/task.c ****         break;
1546:App/Src/task.c ****         case 13:
1547:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
1548:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
1549:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
1550:App/Src/task.c ****                 ControlPrintf("freq:%fHz\n", g_lastFreq.freq);
1551:App/Src/task.c **** 			    HAL_Delay(5);
1552:App/Src/task.c ****                 ControlPrintf("ppm:%.2fppm\n", ppm);
1553:App/Src/task.c ****                 buffer[0] = 0x00;
1554:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
1555:App/Src/task.c ****                 if (ppm > (CENTER_FREQ + 2.5) || ppm < (CENTER_FREQ - 2.5)) {
1556:App/Src/task.c **** 			        HAL_Delay(5);
1557:App/Src/task.c ****                     ControlPrintf("result:NG\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 151


1558:App/Src/task.c ****                     Aecq100State = 50;
1559:App/Src/task.c ****                 } else {
1560:App/Src/task.c **** 			        rtc_group_power(AECQ100_CHANNEL, POWER_VDD_I);
1561:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1562:App/Src/task.c ****                     Aecq100State++;
1563:App/Src/task.c ****                 } 
1564:App/Src/task.c ****             }
1565:App/Src/task.c ****             if (lastTestTime + 1200 < HAL_GetTick()) {
1566:App/Src/task.c ****                 UsbPrintf("device no response\n");
1567:App/Src/task.c ****                 Aecq100State = 50;
1568:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
1569:App/Src/task.c **** 			    HAL_Delay(5);
1570:App/Src/task.c ****                 ControlPrintf("result:NG\n");
1571:App/Src/task.c ****             }
1572:App/Src/task.c ****         break;
1573:App/Src/task.c ****         case 14:
1574:App/Src/task.c ****             if (lastTestTime + 500 < HAL_GetTick()) {
1575:App/Src/task.c ****                 current = CS1237Current();
1576:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
1577:App/Src/task.c ****                 if (current > 300 && current < 1000) {
1578:App/Src/task.c ****                     UsbPrintf("current OK\n");
1579:App/Src/task.c ****                     ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
1580:App/Src/task.c **** 			        HAL_Delay(5);
1581:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
1582:App/Src/task.c ****                     Aecq100State = 50;
1583:App/Src/task.c ****                     rtc_result = 2;
1584:App/Src/task.c ****                 } else {
1585:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
1586:App/Src/task.c ****                     Aecq100State ++;
1587:App/Src/task.c ****                 }
1588:App/Src/task.c ****             }
1589:App/Src/task.c ****             break;
1590:App/Src/task.c ****         case 15:
1591:App/Src/task.c ****             if (lastTestTime + 300 < HAL_GetTick()) {
1592:App/Src/task.c ****                 current = CS1237Current();
1593:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
1594:App/Src/task.c ****                 ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
1595:App/Src/task.c **** 			    HAL_Delay(5);
1596:App/Src/task.c ****                 if (current > 300 && current < 1000) {
1597:App/Src/task.c ****                     UsbPrintf("current OK\n");
1598:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
1599:App/Src/task.c ****                     rtc_result = 2;
1600:App/Src/task.c ****                 } else {
1601:App/Src/task.c ****                     UsbPrintf("vdd current error");
1602:App/Src/task.c ****                     ControlPrintf("result:NG\n");
1603:App/Src/task.c ****                 }
1604:App/Src/task.c ****                 Aecq100State = 50;
1605:App/Src/task.c ****             }
1606:App/Src/task.c ****             break;
1607:App/Src/task.c ****         case  50:
1608:App/Src/task.c ****             if (rtc_result > 0) {                                   //等待芯片拿开
1609:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
1610:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
1611:App/Src/task.c ****                 spi_read_multi_bytes(0x56, buffer, 1);
1612:App/Src/task.c ****                 if (buffer[0] == 0 || buffer[0] == 0xff) {
1613:App/Src/task.c ****                     Aecq100State = 0;
1614:App/Src/task.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 152


1615:App/Src/task.c ****             } else {
1616:App/Src/task.c **** 		        rtc_set_channel(AECQ100_CHANNEL, RTC_INIT_1006);
1617:App/Src/task.c ****                 HAL_Delay(5);
1618:App/Src/task.c ****                 if (rtc_read_multi_bytes(0x64, 0x00, buffer, 3) != I2C_OK ) {
1619:App/Src/task.c ****                     Aecq100State = 0;
1620:App/Src/task.c ****                 }
1621:App/Src/task.c ****             }
1622:App/Src/task.c ****             if (HAL_GetTick() > lastTestTime + 1000) {
1623:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
1624:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
1625:App/Src/task.c ****             }
1626:App/Src/task.c ****             break;
1627:App/Src/task.c ****         default: break;
1628:App/Src/task.c ****     }
1629:App/Src/task.c **** }
 5663              		.loc 1 1629 1 view .LVU1497
 5664 0112 06B0     		add	sp, sp, #24
 5665              	.LCFI54:
 5666              		.cfi_remember_state
 5667              		.cfi_def_cfa_offset 24
 5668              		@ sp needed
 5669 0114 BDEC028B 		vldm	sp!, {d8}
 5670              	.LCFI55:
 5671              		.cfi_restore 80
 5672              		.cfi_restore 81
 5673              		.cfi_def_cfa_offset 16
 5674 0118 70BD     		pop	{r4, r5, r6, pc}
 5675              	.LVL453:
 5676              	.L331:
 5677              	.LCFI56:
 5678              		.cfi_restore_state
1449:App/Src/task.c ****                 HAL_Delay(10);
 5679              		.loc 1 1449 11 is_stmt 1 view .LVU1498
 5680 011a 0121     		movs	r1, #1
 5681 011c 0420     		movs	r0, #4
 5682              	.LVL454:
1449:App/Src/task.c ****                 HAL_Delay(10);
 5683              		.loc 1 1449 11 is_stmt 0 view .LVU1499
 5684 011e FFF7FEFF 		bl	rtc_set_channel
 5685              	.LVL455:
1450:App/Src/task.c ****                 if (rtc_read_multi_bytes(0x64, 0x00, buffer, 8) == I2C_OK &&
 5686              		.loc 1 1450 17 is_stmt 1 view .LVU1500
 5687 0122 0A20     		movs	r0, #10
 5688 0124 FFF7FEFF 		bl	HAL_Delay
 5689              	.LVL456:
1451:App/Src/task.c ****                 (buffer[0] != 0 || buffer[1] != 0 || buffer[2] != 0 || buffer[3] != 0 || buffer[4] 
 5690              		.loc 1 1451 17 view .LVU1501
1451:App/Src/task.c ****                 (buffer[0] != 0 || buffer[1] != 0 || buffer[2] != 0 || buffer[3] != 0 || buffer[4] 
 5691              		.loc 1 1451 21 is_stmt 0 view .LVU1502
 5692 0128 0823     		movs	r3, #8
 5693 012a 04AA     		add	r2, sp, #16
 5694 012c 0021     		movs	r1, #0
 5695 012e 6420     		movs	r0, #100
 5696 0130 FFF7FEFF 		bl	rtc_read_multi_bytes
 5697              	.LVL457:
1451:App/Src/task.c ****                 (buffer[0] != 0 || buffer[1] != 0 || buffer[2] != 0 || buffer[3] != 0 || buffer[4] 
 5698              		.loc 1 1451 20 view .LVU1503
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 153


 5699 0134 0028     		cmp	r0, #0
 5700 0136 E4D1     		bne	.L332
1452:App/Src/task.c ****                     Aecq100State = 50;
 5701              		.loc 1 1452 24 discriminator 1 view .LVU1504
 5702 0138 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
1451:App/Src/task.c ****                 (buffer[0] != 0 || buffer[1] != 0 || buffer[2] != 0 || buffer[3] != 0 || buffer[4] 
 5703              		.loc 1 1451 75 discriminator 1 view .LVU1505
 5704 013c 7BB9     		cbnz	r3, .L333
1452:App/Src/task.c ****                     Aecq100State = 50;
 5705              		.loc 1 1452 42 view .LVU1506
 5706 013e 9DF81130 		ldrb	r3, [sp, #17]	@ zero_extendqisi2
1452:App/Src/task.c ****                     Aecq100State = 50;
 5707              		.loc 1 1452 33 view .LVU1507
 5708 0142 63B9     		cbnz	r3, .L333
1452:App/Src/task.c ****                     Aecq100State = 50;
 5709              		.loc 1 1452 60 discriminator 1 view .LVU1508
 5710 0144 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
1452:App/Src/task.c ****                     Aecq100State = 50;
 5711              		.loc 1 1452 51 discriminator 1 view .LVU1509
 5712 0148 4BB9     		cbnz	r3, .L333
1452:App/Src/task.c ****                     Aecq100State = 50;
 5713              		.loc 1 1452 78 discriminator 2 view .LVU1510
 5714 014a 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
1452:App/Src/task.c ****                     Aecq100State = 50;
 5715              		.loc 1 1452 69 discriminator 2 view .LVU1511
 5716 014e 33B9     		cbnz	r3, .L333
1452:App/Src/task.c ****                     Aecq100State = 50;
 5717              		.loc 1 1452 96 discriminator 3 view .LVU1512
 5718 0150 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
1452:App/Src/task.c ****                     Aecq100State = 50;
 5719              		.loc 1 1452 87 discriminator 3 view .LVU1513
 5720 0154 1BB9     		cbnz	r3, .L333
1452:App/Src/task.c ****                     Aecq100State = 50;
 5721              		.loc 1 1452 114 discriminator 4 view .LVU1514
 5722 0156 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
1452:App/Src/task.c ****                     Aecq100State = 50;
 5723              		.loc 1 1452 105 discriminator 4 view .LVU1515
 5724 015a 002B     		cmp	r3, #0
 5725 015c D1D0     		beq	.L332
 5726              	.L333:
1453:App/Src/task.c ****                     UsbPrintf("receive I2C OK\n");
 5727              		.loc 1 1453 21 is_stmt 1 view .LVU1516
1453:App/Src/task.c ****                     UsbPrintf("receive I2C OK\n");
 5728              		.loc 1 1453 34 is_stmt 0 view .LVU1517
 5729 015e 5A4B     		ldr	r3, .L368+4
 5730 0160 3222     		movs	r2, #50
 5731 0162 1A70     		strb	r2, [r3]
1454:App/Src/task.c ****                     ClearControlMessage();
 5732              		.loc 1 1454 21 is_stmt 1 view .LVU1518
 5733 0164 5E48     		ldr	r0, .L368+28
 5734 0166 FFF7FEFF 		bl	UsbPrintf
 5735              	.LVL458:
1455:App/Src/task.c ****                     ControlPrintf("chip:SD8840\n");
 5736              		.loc 1 1455 21 view .LVU1519
 5737 016a FFF7FEFF 		bl	ClearControlMessage
 5738              	.LVL459:
1456:App/Src/task.c ****                     HAL_Delay(5);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 154


 5739              		.loc 1 1456 21 view .LVU1520
 5740 016e 5848     		ldr	r0, .L368+12
 5741 0170 FFF7FEFF 		bl	ControlPrintf
 5742              	.LVL460:
1457:App/Src/task.c ****                     ControlPrintf("download:未烧写，通信OK\n");
 5743              		.loc 1 1457 21 view .LVU1521
 5744 0174 0520     		movs	r0, #5
 5745 0176 FFF7FEFF 		bl	HAL_Delay
 5746              	.LVL461:
1458:App/Src/task.c ****                     HAL_Delay(5);
 5747              		.loc 1 1458 21 view .LVU1522
 5748 017a 5A48     		ldr	r0, .L368+32
 5749 017c FFF7FEFF 		bl	ControlPrintf
 5750              	.LVL462:
1459:App/Src/task.c ****                     ControlPrintf("result:NULL\n");
 5751              		.loc 1 1459 21 view .LVU1523
 5752 0180 0520     		movs	r0, #5
 5753 0182 FFF7FEFF 		bl	HAL_Delay
 5754              	.LVL463:
1460:App/Src/task.c ****                     rtc_result = -1;
 5755              		.loc 1 1460 21 view .LVU1524
 5756 0186 5848     		ldr	r0, .L368+36
 5757 0188 FFF7FEFF 		bl	ControlPrintf
 5758              	.LVL464:
1461:App/Src/task.c ****                 }
 5759              		.loc 1 1461 21 view .LVU1525
1461:App/Src/task.c ****                 }
 5760              		.loc 1 1461 32 is_stmt 0 view .LVU1526
 5761 018c 4F4B     		ldr	r3, .L368+8
 5762 018e 4FF0FF32 		mov	r2, #-1
 5763 0192 1A60     		str	r2, [r3]
 5764 0194 B5E7     		b	.L332
 5765              	.L363:
1465:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 5766              		.loc 1 1465 17 is_stmt 1 view .LVU1527
1465:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 5767              		.loc 1 1465 32 is_stmt 0 view .LVU1528
 5768 0196 FFF7FEFF 		bl	HAL_GetTick
 5769              	.LVL465:
1465:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 5770              		.loc 1 1465 30 view .LVU1529
 5771 019a 4F4B     		ldr	r3, .L368+20
 5772 019c 1860     		str	r0, [r3]
1466:App/Src/task.c ****             }
 5773              		.loc 1 1466 17 is_stmt 1 view .LVU1530
1466:App/Src/task.c ****             }
 5774              		.loc 1 1466 52 is_stmt 0 view .LVU1531
 5775 019e 0120     		movs	r0, #1
 5776 01a0 FFF7FEFF 		bl	temp_read_value
 5777              	.LVL466:
 5778 01a4 10EE100A 		vmov	r0, s0
1466:App/Src/task.c ****             }
 5779              		.loc 1 1466 17 view .LVU1532
 5780 01a8 FFF7FEFF 		bl	__aeabi_f2d
 5781              	.LVL467:
 5782 01ac 0246     		mov	r2, r0
 5783 01ae 0B46     		mov	r3, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 155


 5784 01b0 4E48     		ldr	r0, .L368+40
 5785 01b2 FFF7FEFF 		bl	ControlPrintf
 5786              	.LVL468:
 5787 01b6 ACE7     		b	.L316
 5788              	.L326:
1471:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 5789              		.loc 1 1471 13 is_stmt 1 view .LVU1533
1471:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 5790              		.loc 1 1471 30 is_stmt 0 view .LVU1534
 5791 01b8 474B     		ldr	r3, .L368+20
 5792 01ba 1C68     		ldr	r4, [r3]
 5793 01bc 04F57A74 		add	r4, r4, #1000
1471:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 5794              		.loc 1 1471 39 view .LVU1535
 5795 01c0 FFF7FEFF 		bl	HAL_GetTick
 5796              	.LVL469:
1471:App/Src/task.c ****                 UsbPrintf("等待1s\n");
 5797              		.loc 1 1471 16 view .LVU1536
 5798 01c4 8442     		cmp	r4, r0
 5799 01c6 A4D2     		bcs	.L316
1472:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 5800              		.loc 1 1472 17 is_stmt 1 view .LVU1537
 5801 01c8 4948     		ldr	r0, .L368+44
 5802 01ca FFF7FEFF 		bl	UsbPrintf
 5803              	.LVL470:
1473:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
 5804              		.loc 1 1473 17 view .LVU1538
 5805 01ce 0121     		movs	r1, #1
 5806 01d0 0420     		movs	r0, #4
 5807 01d2 FFF7FEFF 		bl	rtc_group_power
 5808              	.LVL471:
1474:App/Src/task.c ****                 buffer[0] = 0x10;
 5809              		.loc 1 1474 17 view .LVU1539
 5810 01d6 0321     		movs	r1, #3
 5811 01d8 0420     		movs	r0, #4
 5812 01da FFF7FEFF 		bl	rtc_set_channel
 5813              	.LVL472:
1475:App/Src/task.c ****                 spi_write_multi_bytes(0x57, buffer, 1);
 5814              		.loc 1 1475 17 view .LVU1540
1475:App/Src/task.c ****                 spi_write_multi_bytes(0x57, buffer, 1);
 5815              		.loc 1 1475 27 is_stmt 0 view .LVU1541
 5816 01de 1023     		movs	r3, #16
 5817 01e0 8DF81030 		strb	r3, [sp, #16]
1476:App/Src/task.c ****                 Aecq100State++;
 5818              		.loc 1 1476 17 is_stmt 1 view .LVU1542
 5819 01e4 0122     		movs	r2, #1
 5820 01e6 0DEB0301 		add	r1, sp, r3
 5821 01ea 5720     		movs	r0, #87
 5822 01ec FFF7FEFF 		bl	spi_write_multi_bytes
 5823              	.LVL473:
1477:App/Src/task.c ****                 break;
 5824              		.loc 1 1477 17 view .LVU1543
1477:App/Src/task.c ****                 break;
 5825              		.loc 1 1477 29 is_stmt 0 view .LVU1544
 5826 01f0 354A     		ldr	r2, .L368+4
 5827 01f2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5828 01f4 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 156


 5829 01f6 1370     		strb	r3, [r2]
1478:App/Src/task.c ****             }
 5830              		.loc 1 1478 17 is_stmt 1 view .LVU1545
 5831 01f8 8BE7     		b	.L316
 5832              	.L325:
1482:App/Src/task.c **** 			spi_write_multi_bytes(0x57, buffer, 1);
 5833              		.loc 1 1482 4 view .LVU1546
1482:App/Src/task.c **** 			spi_write_multi_bytes(0x57, buffer, 1);
 5834              		.loc 1 1482 14 is_stmt 0 view .LVU1547
 5835 01fa 1023     		movs	r3, #16
 5836 01fc 8DF81030 		strb	r3, [sp, #16]
1483:App/Src/task.c **** 			HAL_Delay(10);
 5837              		.loc 1 1483 4 is_stmt 1 view .LVU1548
 5838 0200 0122     		movs	r2, #1
 5839 0202 0DEB0301 		add	r1, sp, r3
 5840 0206 5720     		movs	r0, #87
 5841 0208 FFF7FEFF 		bl	spi_write_multi_bytes
 5842              	.LVL474:
1484:App/Src/task.c **** 			spi_read_multi_bytes(0x56, buffer, 1);
 5843              		.loc 1 1484 4 view .LVU1549
 5844 020c 0A20     		movs	r0, #10
 5845 020e FFF7FEFF 		bl	HAL_Delay
 5846              	.LVL475:
1485:App/Src/task.c **** 			if (buffer[0] == 0 || buffer[0] == 0xff) {
 5847              		.loc 1 1485 4 view .LVU1550
 5848 0212 0122     		movs	r2, #1
 5849 0214 04A9     		add	r1, sp, #16
 5850 0216 5620     		movs	r0, #86
 5851 0218 FFF7FEFF 		bl	spi_read_multi_bytes
 5852              	.LVL476:
1486:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 5853              		.loc 1 1486 4 view .LVU1551
1486:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 5854              		.loc 1 1486 14 is_stmt 0 view .LVU1552
 5855 021c 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
1486:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 5856              		.loc 1 1486 23 view .LVU1553
 5857 0220 013B     		subs	r3, r3, #1
 5858 0222 DBB2     		uxtb	r3, r3
1486:App/Src/task.c **** 				UsbPrintf(" i2c error\n");
 5859              		.loc 1 1486 7 view .LVU1554
 5860 0224 FD2B     		cmp	r3, #253
 5861 0226 0FD9     		bls	.L334
1487:App/Src/task.c ****                 Aecq100State = 50;
 5862              		.loc 1 1487 5 is_stmt 1 view .LVU1555
 5863 0228 3248     		ldr	r0, .L368+48
 5864 022a FFF7FEFF 		bl	UsbPrintf
 5865              	.LVL477:
1488:App/Src/task.c ****                 ControlPrintf("download:温度值异常\n");
 5866              		.loc 1 1488 17 view .LVU1556
1488:App/Src/task.c ****                 ControlPrintf("download:温度值异常\n");
 5867              		.loc 1 1488 30 is_stmt 0 view .LVU1557
 5868 022e 264B     		ldr	r3, .L368+4
 5869 0230 3222     		movs	r2, #50
 5870 0232 1A70     		strb	r2, [r3]
1489:App/Src/task.c **** 			    HAL_Delay(5);
 5871              		.loc 1 1489 17 is_stmt 1 view .LVU1558
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 157


 5872 0234 3048     		ldr	r0, .L368+52
 5873 0236 FFF7FEFF 		bl	ControlPrintf
 5874              	.LVL478:
1490:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 5875              		.loc 1 1490 8 view .LVU1559
 5876 023a 0520     		movs	r0, #5
 5877 023c FFF7FEFF 		bl	HAL_Delay
 5878              	.LVL479:
1491:App/Src/task.c ****                 break;
 5879              		.loc 1 1491 17 view .LVU1560
 5880 0240 2E48     		ldr	r0, .L368+56
 5881 0242 FFF7FEFF 		bl	ControlPrintf
 5882              	.LVL480:
1492:App/Src/task.c **** 			}
 5883              		.loc 1 1492 17 view .LVU1561
 5884 0246 64E7     		b	.L316
 5885              	.L334:
1494:App/Src/task.c ****             rtc_temp = buffer[0];
 5886              		.loc 1 1494 4 view .LVU1562
1494:App/Src/task.c ****             rtc_temp = buffer[0];
 5887              		.loc 1 1494 11 is_stmt 0 view .LVU1563
 5888 0248 0120     		movs	r0, #1
 5889 024a FFF7FEFF 		bl	temp_read_value
 5890              	.LVL481:
 5891 024e B0EE408A 		vmov.f32	s16, s0
 5892              	.LVL482:
1495:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", rtc_temp, temp);
 5893              		.loc 1 1495 13 is_stmt 1 view .LVU1564
1495:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", rtc_temp, temp);
 5894              		.loc 1 1495 30 is_stmt 0 view .LVU1565
 5895 0252 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
 5896 0256 08EE903A 		vmov	s17, r3	@ int
1495:App/Src/task.c **** 			UsbPrintf("temp:%.0f, system temp = %.1fC\n", rtc_temp, temp);
 5897              		.loc 1 1495 22 view .LVU1566
 5898 025a F8EE688A 		vcvt.f32.u32	s17, s17
 5899              	.LVL483:
1496:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", rtc_temp);
 5900              		.loc 1 1496 4 is_stmt 1 view .LVU1567
 5901 025e 18EE900A 		vmov	r0, s17
 5902 0262 FFF7FEFF 		bl	__aeabi_f2d
 5903              	.LVL484:
1496:App/Src/task.c ****             ControlPrintf("chipTemp:%.0f\n", rtc_temp);
 5904              		.loc 1 1496 4 is_stmt 0 view .LVU1568
 5905 0266 0446     		mov	r4, r0
 5906 0268 0D46     		mov	r5, r1
 5907 026a 18EE100A 		vmov	r0, s16
 5908 026e FFF7FEFF 		bl	__aeabi_f2d
 5909              	.LVL485:
 5910 0272 CDE90001 		strd	r0, [sp]
 5911 0276 2246     		mov	r2, r4
 5912 0278 2B46     		mov	r3, r5
 5913 027a 2148     		ldr	r0, .L368+60
 5914 027c FFF7FEFF 		bl	UsbPrintf
 5915              	.LVL486:
1497:App/Src/task.c ****             if (rtc_temp > (3 + temp) || rtc_temp < (-3 + temp)) {
 5916              		.loc 1 1497 13 is_stmt 1 view .LVU1569
 5917 0280 2246     		mov	r2, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 158


 5918 0282 2B46     		mov	r3, r5
 5919 0284 1F48     		ldr	r0, .L368+64
 5920 0286 FFF7FEFF 		bl	ControlPrintf
 5921              	.LVL487:
1498:App/Src/task.c ****                 HAL_Delay(10);
 5922              		.loc 1 1498 13 view .LVU1570
1498:App/Src/task.c ****                 HAL_Delay(10);
 5923              		.loc 1 1498 31 is_stmt 0 view .LVU1571
 5924 028a F0EE087A 		vmov.f32	s15, #3.0e+0
 5925 028e 78EE277A 		vadd.f32	s15, s16, s15
1498:App/Src/task.c ****                 HAL_Delay(10);
 5926              		.loc 1 1498 16 view .LVU1572
 5927 0292 F4EEE87A 		vcmpe.f32	s15, s17
 5928 0296 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5929 029a 08D4     		bmi	.L335
1498:App/Src/task.c ****                 HAL_Delay(10);
 5930              		.loc 1 1498 57 discriminator 1 view .LVU1573
 5931 029c F0EE087A 		vmov.f32	s15, #3.0e+0
 5932 02a0 38EE678A 		vsub.f32	s16, s16, s15
 5933              	.LVL488:
1498:App/Src/task.c ****                 HAL_Delay(10);
 5934              		.loc 1 1498 39 discriminator 1 view .LVU1574
 5935 02a4 B4EEE88A 		vcmpe.f32	s16, s17
 5936 02a8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 5937 02ac 2CDD     		ble	.L359
 5938              	.L335:
1499:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 5939              		.loc 1 1499 17 is_stmt 1 view .LVU1575
 5940 02ae 0A20     		movs	r0, #10
 5941 02b0 FFF7FEFF 		bl	HAL_Delay
 5942              	.LVL489:
1500:App/Src/task.c ****                 Aecq100State = 50;
 5943              		.loc 1 1500 17 view .LVU1576
 5944 02b4 1148     		ldr	r0, .L368+56
 5945 02b6 FFF7FEFF 		bl	ControlPrintf
 5946              	.LVL490:
1501:App/Src/task.c ****                 break;
 5947              		.loc 1 1501 17 view .LVU1577
1501:App/Src/task.c ****                 break;
 5948              		.loc 1 1501 30 is_stmt 0 view .LVU1578
 5949 02ba 034B     		ldr	r3, .L368+4
 5950 02bc 3222     		movs	r2, #50
 5951 02be 1A70     		strb	r2, [r3]
1502:App/Src/task.c ****             }
 5952              		.loc 1 1502 17 is_stmt 1 view .LVU1579
 5953 02c0 27E7     		b	.L316
 5954              	.L369:
 5955 02c2 00BF     		.align	2
 5956              	.L368:
 5957 02c4 00000000 		.word	.LANCHOR3
 5958 02c8 00000000 		.word	.LANCHOR38
 5959 02cc 00000000 		.word	.LANCHOR39
 5960 02d0 00000000 		.word	.LC44
 5961 02d4 10000000 		.word	.LC45
 5962 02d8 00000000 		.word	.LANCHOR40
 5963 02dc 28000000 		.word	.LC46
 5964 02e0 3C000000 		.word	.LC47
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 159


 5965 02e4 4C000000 		.word	.LC48
 5966 02e8 68000000 		.word	.LC49
 5967 02ec 78000000 		.word	.LC50
 5968 02f0 8C000000 		.word	.LC51
 5969 02f4 94000000 		.word	.LC52
 5970 02f8 A0000000 		.word	.LC53
 5971 02fc B8000000 		.word	.LC54
 5972 0300 C4000000 		.word	.LC55
 5973 0304 E4000000 		.word	.LC56
 5974              	.L359:
1504:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 5975              		.loc 1 1504 4 view .LVU1580
 5976 0308 0522     		movs	r2, #5
 5977 030a 02A9     		add	r1, sp, #8
 5978 030c 0B20     		movs	r0, #11
 5979 030e FFF7FEFF 		bl	spi_write_multi_bytes
 5980              	.LVL491:
1505:App/Src/task.c ****             Aecq100State++;
 5981              		.loc 1 1505 13 view .LVU1581
1505:App/Src/task.c ****             Aecq100State++;
 5982              		.loc 1 1505 28 is_stmt 0 view .LVU1582
 5983 0312 FFF7FEFF 		bl	HAL_GetTick
 5984              	.LVL492:
1505:App/Src/task.c ****             Aecq100State++;
 5985              		.loc 1 1505 26 view .LVU1583
 5986 0316 BA4B     		ldr	r3, .L370+8
 5987 0318 1860     		str	r0, [r3]
1506:App/Src/task.c ****             break;
 5988              		.loc 1 1506 13 is_stmt 1 view .LVU1584
1506:App/Src/task.c ****             break;
 5989              		.loc 1 1506 25 is_stmt 0 view .LVU1585
 5990 031a BA4A     		ldr	r2, .L370+12
 5991 031c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5992 031e 0133     		adds	r3, r3, #1
 5993 0320 1370     		strb	r3, [r2]
1507:App/Src/task.c ****         case 11:
 5994              		.loc 1 1507 13 is_stmt 1 view .LVU1586
 5995 0322 F6E6     		b	.L316
 5996              	.LVL493:
 5997              	.L324:
1509:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5998              		.loc 1 1509 13 view .LVU1587
1509:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 5999              		.loc 1 1509 30 is_stmt 0 view .LVU1588
 6000 0324 B64B     		ldr	r3, .L370+8
 6001 0326 1C68     		ldr	r4, [r3]
 6002 0328 04F59674 		add	r4, r4, #300
1509:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6003              		.loc 1 1509 38 view .LVU1589
 6004 032c FFF7FEFF 		bl	HAL_GetTick
 6005              	.LVL494:
1509:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6006              		.loc 1 1509 16 view .LVU1590
 6007 0330 8442     		cmp	r4, r0
 6008 0332 BFF4EEAE 		bcs	.L316
1510:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6009              		.loc 1 1510 17 is_stmt 1 view .LVU1591
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 160


1510:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6010              		.loc 1 1510 32 is_stmt 0 view .LVU1592
 6011 0336 FFF7FEFF 		bl	HAL_GetTick
 6012              	.LVL495:
1510:App/Src/task.c ****                 g_lastFreq.recordTime = lastTestTime;
 6013              		.loc 1 1510 30 view .LVU1593
 6014 033a B14B     		ldr	r3, .L370+8
 6015 033c 1860     		str	r0, [r3]
1511:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
 6016              		.loc 1 1511 17 is_stmt 1 view .LVU1594
1511:App/Src/task.c ****                 DevicePrintf(":MEAS?\n");
 6017              		.loc 1 1511 39 is_stmt 0 view .LVU1595
 6018 033e B24B     		ldr	r3, .L370+16
 6019 0340 1860     		str	r0, [r3]
1512:App/Src/task.c ****                 Aecq100State++;
 6020              		.loc 1 1512 17 is_stmt 1 view .LVU1596
 6021 0342 B248     		ldr	r0, .L370+20
 6022 0344 FFF7FEFF 		bl	DevicePrintf
 6023              	.LVL496:
1513:App/Src/task.c ****             }
 6024              		.loc 1 1513 17 view .LVU1597
1513:App/Src/task.c ****             }
 6025              		.loc 1 1513 29 is_stmt 0 view .LVU1598
 6026 0348 AE4A     		ldr	r2, .L370+12
 6027 034a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6028 034c 0133     		adds	r3, r3, #1
 6029 034e 1370     		strb	r3, [r2]
 6030 0350 DFE6     		b	.L316
 6031              	.L323:
1517:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6032              		.loc 1 1517 13 is_stmt 1 view .LVU1599
1517:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6033              		.loc 1 1517 27 is_stmt 0 view .LVU1600
 6034 0352 AD4B     		ldr	r3, .L370+16
 6035 0354 1A68     		ldr	r2, [r3]
1517:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6036              		.loc 1 1517 39 view .LVU1601
 6037 0356 AA4B     		ldr	r3, .L370+8
 6038 0358 1B68     		ldr	r3, [r3]
1517:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6039              		.loc 1 1517 16 view .LVU1602
 6040 035a 9A42     		cmp	r2, r3
 6041 035c 20D8     		bhi	.L364
 6042              	.L338:
1536:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6043              		.loc 1 1536 13 is_stmt 1 view .LVU1603
1536:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6044              		.loc 1 1536 30 is_stmt 0 view .LVU1604
 6045 035e A84B     		ldr	r3, .L370+8
 6046 0360 1C68     		ldr	r4, [r3]
 6047 0362 04F59664 		add	r4, r4, #1200
1536:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6048              		.loc 1 1536 39 view .LVU1605
 6049 0366 FFF7FEFF 		bl	HAL_GetTick
 6050              	.LVL497:
1536:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6051              		.loc 1 1536 16 view .LVU1606
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 161


 6052 036a 8442     		cmp	r4, r0
 6053 036c BFF4D1AE 		bcs	.L316
1537:App/Src/task.c ****                 Aecq100State = 50;
 6054              		.loc 1 1537 17 is_stmt 1 view .LVU1607
 6055 0370 A748     		ldr	r0, .L370+24
 6056 0372 FFF7FEFF 		bl	UsbPrintf
 6057              	.LVL498:
1538:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6058              		.loc 1 1538 17 view .LVU1608
1538:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6059              		.loc 1 1538 30 is_stmt 0 view .LVU1609
 6060 0376 A34B     		ldr	r3, .L370+12
 6061 0378 3222     		movs	r2, #50
 6062 037a 1A70     		strb	r2, [r3]
1539:App/Src/task.c ****                 buffer[0] = 0x00;
 6063              		.loc 1 1539 17 is_stmt 1 view .LVU1610
 6064 037c A548     		ldr	r0, .L370+28
 6065 037e FFF7FEFF 		bl	ControlPrintf
 6066              	.LVL499:
1540:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6067              		.loc 1 1540 17 view .LVU1611
1540:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6068              		.loc 1 1540 27 is_stmt 0 view .LVU1612
 6069 0382 0023     		movs	r3, #0
 6070 0384 8DF81030 		strb	r3, [sp, #16]
1541:App/Src/task.c **** 			    HAL_Delay(5);
 6071              		.loc 1 1541 17 is_stmt 1 view .LVU1613
 6072 0388 0122     		movs	r2, #1
 6073 038a 04A9     		add	r1, sp, #16
 6074 038c 0F20     		movs	r0, #15
 6075 038e FFF7FEFF 		bl	spi_write_multi_bytes
 6076              	.LVL500:
1542:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 6077              		.loc 1 1542 8 view .LVU1614
 6078 0392 0520     		movs	r0, #5
 6079 0394 FFF7FEFF 		bl	HAL_Delay
 6080              	.LVL501:
1543:App/Src/task.c ****             }
 6081              		.loc 1 1543 17 view .LVU1615
 6082 0398 9F48     		ldr	r0, .L370+32
 6083 039a FFF7FEFF 		bl	ControlPrintf
 6084              	.LVL502:
 6085 039e B8E6     		b	.L316
 6086              	.L364:
1518:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6087              		.loc 1 1518 17 view .LVU1616
1518:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6088              		.loc 1 1518 34 is_stmt 0 view .LVU1617
 6089 03a0 994B     		ldr	r3, .L370+16
 6090 03a2 D3ED018A 		vldr.32	s17, [r3, #4]
1518:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6091              		.loc 1 1518 40 view .LVU1618
 6092 03a6 9FED9D8A 		vldr.32	s16, .L370+36
 6093 03aa 28EE888A 		vmul.f32	s16, s17, s16
1518:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6094              		.loc 1 1518 58 view .LVU1619
 6095 03ae F7EE007A 		vmov.f32	s15, #1.0e+0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 162


 6096 03b2 38EE678A 		vsub.f32	s16, s16, s15
1518:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6097              		.loc 1 1518 21 view .LVU1620
 6098 03b6 DFED9A7A 		vldr.32	s15, .L370+40
 6099 03ba 28EE278A 		vmul.f32	s16, s16, s15
 6100              	.LVL503:
1519:App/Src/task.c ****                 if (ppm > (CENTER_FREQ + 2.5) || ppm < (CENTER_FREQ - 2.5)) {
 6101              		.loc 1 1519 17 is_stmt 1 view .LVU1621
 6102 03be 18EE100A 		vmov	r0, s16
 6103 03c2 FFF7FEFF 		bl	__aeabi_f2d
 6104              	.LVL504:
 6105 03c6 0446     		mov	r4, r0
 6106 03c8 0D46     		mov	r5, r1
 6107 03ca 18EE900A 		vmov	r0, s17
 6108 03ce FFF7FEFF 		bl	__aeabi_f2d
 6109              	.LVL505:
 6110 03d2 0246     		mov	r2, r0
 6111 03d4 0B46     		mov	r3, r1
 6112 03d6 CDE90045 		strd	r4, [sp]
 6113 03da 9248     		ldr	r0, .L370+44
 6114 03dc FFF7FEFF 		bl	UsbPrintf
 6115              	.LVL506:
1520:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6116              		.loc 1 1520 17 view .LVU1622
1520:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6117              		.loc 1 1520 20 is_stmt 0 view .LVU1623
 6118 03e0 F1EE0A7A 		vmov.f32	s15, #6.5e+0
 6119 03e4 B4EEE78A 		vcmpe.f32	s16, s15
 6120 03e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6121 03ec 06DC     		bgt	.L339
1520:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6122              		.loc 1 1520 47 discriminator 1 view .LVU1624
 6123 03ee F7EE087A 		vmov.f32	s15, #1.5e+0
 6124 03f2 B4EEE78A 		vcmpe.f32	s16, s15
 6125 03f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6126 03fa 0DD5     		bpl	.L360
 6127              	.L339:
1521:App/Src/task.c ****                     g_lastFreq.recordTime = lastTestTime;
 6128              		.loc 1 1521 21 is_stmt 1 view .LVU1625
1521:App/Src/task.c ****                     g_lastFreq.recordTime = lastTestTime;
 6129              		.loc 1 1521 36 is_stmt 0 view .LVU1626
 6130 03fc FFF7FEFF 		bl	HAL_GetTick
 6131              	.LVL507:
1521:App/Src/task.c ****                     g_lastFreq.recordTime = lastTestTime;
 6132              		.loc 1 1521 34 view .LVU1627
 6133 0400 7F4B     		ldr	r3, .L370+8
 6134 0402 1860     		str	r0, [r3]
1522:App/Src/task.c ****                     DevicePrintf(":MEAS?\n");
 6135              		.loc 1 1522 21 is_stmt 1 view .LVU1628
1522:App/Src/task.c ****                     DevicePrintf(":MEAS?\n");
 6136              		.loc 1 1522 43 is_stmt 0 view .LVU1629
 6137 0404 804B     		ldr	r3, .L370+16
 6138 0406 1860     		str	r0, [r3]
1523:App/Src/task.c ****                     Aecq100State++;
 6139              		.loc 1 1523 21 is_stmt 1 view .LVU1630
 6140 0408 8048     		ldr	r0, .L370+20
 6141 040a FFF7FEFF 		bl	DevicePrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 163


 6142              	.LVL508:
1524:App/Src/task.c ****                 } else {
 6143              		.loc 1 1524 21 view .LVU1631
1524:App/Src/task.c ****                 } else {
 6144              		.loc 1 1524 33 is_stmt 0 view .LVU1632
 6145 040e 7D4A     		ldr	r2, .L370+12
 6146 0410 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6147 0412 0133     		adds	r3, r3, #1
 6148 0414 1370     		strb	r3, [r2]
 6149 0416 A2E7     		b	.L338
 6150              	.L360:
1526:App/Src/task.c ****                     HAL_Delay(5);
 6151              		.loc 1 1526 21 is_stmt 1 view .LVU1633
 6152 0418 7B4B     		ldr	r3, .L370+16
 6153 041a 5868     		ldr	r0, [r3, #4]	@ float
 6154 041c FFF7FEFF 		bl	__aeabi_f2d
 6155              	.LVL509:
 6156 0420 0246     		mov	r2, r0
 6157 0422 0B46     		mov	r3, r1
 6158 0424 8048     		ldr	r0, .L370+48
 6159 0426 FFF7FEFF 		bl	ControlPrintf
 6160              	.LVL510:
1527:App/Src/task.c ****                     ControlPrintf("ppm:%.2fppm\n", ppm);
 6161              		.loc 1 1527 21 view .LVU1634
 6162 042a 0520     		movs	r0, #5
 6163 042c FFF7FEFF 		bl	HAL_Delay
 6164              	.LVL511:
1528:App/Src/task.c ****                     buffer[0] = 0x00;
 6165              		.loc 1 1528 21 view .LVU1635
 6166 0430 2246     		mov	r2, r4
 6167 0432 2B46     		mov	r3, r5
 6168 0434 7D48     		ldr	r0, .L370+52
 6169 0436 FFF7FEFF 		bl	ControlPrintf
 6170              	.LVL512:
1529:App/Src/task.c ****                     spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6171              		.loc 1 1529 21 view .LVU1636
1529:App/Src/task.c ****                     spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6172              		.loc 1 1529 31 is_stmt 0 view .LVU1637
 6173 043a 0023     		movs	r3, #0
 6174 043c 8DF81030 		strb	r3, [sp, #16]
1530:App/Src/task.c **** 			        rtc_group_power(AECQ100_CHANNEL, POWER_VDD_I);
 6175              		.loc 1 1530 21 is_stmt 1 view .LVU1638
 6176 0440 0122     		movs	r2, #1
 6177 0442 04A9     		add	r1, sp, #16
 6178 0444 0F20     		movs	r0, #15
 6179 0446 FFF7FEFF 		bl	spi_write_multi_bytes
 6180              	.LVL513:
1531:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6181              		.loc 1 1531 12 view .LVU1639
 6182 044a 0321     		movs	r1, #3
 6183 044c 0420     		movs	r0, #4
 6184 044e FFF7FEFF 		bl	rtc_group_power
 6185              	.LVL514:
1532:App/Src/task.c ****                     Aecq100State += 2;
 6186              		.loc 1 1532 21 view .LVU1640
1532:App/Src/task.c ****                     Aecq100State += 2;
 6187              		.loc 1 1532 36 is_stmt 0 view .LVU1641
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 164


 6188 0452 FFF7FEFF 		bl	HAL_GetTick
 6189              	.LVL515:
1532:App/Src/task.c ****                     Aecq100State += 2;
 6190              		.loc 1 1532 34 view .LVU1642
 6191 0456 6A4B     		ldr	r3, .L370+8
 6192 0458 1860     		str	r0, [r3]
1533:App/Src/task.c ****                 } 
 6193              		.loc 1 1533 21 is_stmt 1 view .LVU1643
1533:App/Src/task.c ****                 } 
 6194              		.loc 1 1533 34 is_stmt 0 view .LVU1644
 6195 045a 6A4A     		ldr	r2, .L370+12
 6196 045c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6197 045e 0233     		adds	r3, r3, #2
 6198 0460 1370     		strb	r3, [r2]
 6199 0462 7CE7     		b	.L338
 6200              	.LVL516:
 6201              	.L322:
1547:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6202              		.loc 1 1547 13 is_stmt 1 view .LVU1645
1547:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6203              		.loc 1 1547 27 is_stmt 0 view .LVU1646
 6204 0464 684B     		ldr	r3, .L370+16
 6205 0466 1A68     		ldr	r2, [r3]
1547:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6206              		.loc 1 1547 39 view .LVU1647
 6207 0468 654B     		ldr	r3, .L370+8
 6208 046a 1B68     		ldr	r3, [r3]
1547:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 6209              		.loc 1 1547 16 view .LVU1648
 6210 046c 9A42     		cmp	r2, r3
 6211 046e 18D8     		bhi	.L365
 6212              	.L342:
1565:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6213              		.loc 1 1565 13 is_stmt 1 view .LVU1649
1565:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6214              		.loc 1 1565 30 is_stmt 0 view .LVU1650
 6215 0470 634B     		ldr	r3, .L370+8
 6216 0472 1C68     		ldr	r4, [r3]
 6217 0474 04F59664 		add	r4, r4, #1200
1565:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6218              		.loc 1 1565 39 view .LVU1651
 6219 0478 FFF7FEFF 		bl	HAL_GetTick
 6220              	.LVL517:
1565:App/Src/task.c ****                 UsbPrintf("device no response\n");
 6221              		.loc 1 1565 16 view .LVU1652
 6222 047c 8442     		cmp	r4, r0
 6223 047e BFF448AE 		bcs	.L316
1566:App/Src/task.c ****                 Aecq100State = 50;
 6224              		.loc 1 1566 17 is_stmt 1 view .LVU1653
 6225 0482 6348     		ldr	r0, .L370+24
 6226 0484 FFF7FEFF 		bl	UsbPrintf
 6227              	.LVL518:
1567:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6228              		.loc 1 1567 17 view .LVU1654
1567:App/Src/task.c ****                 ControlPrintf("freq:no response\n");
 6229              		.loc 1 1567 30 is_stmt 0 view .LVU1655
 6230 0488 5E4B     		ldr	r3, .L370+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 165


 6231 048a 3222     		movs	r2, #50
 6232 048c 1A70     		strb	r2, [r3]
1568:App/Src/task.c **** 			    HAL_Delay(5);
 6233              		.loc 1 1568 17 is_stmt 1 view .LVU1656
 6234 048e 6148     		ldr	r0, .L370+28
 6235 0490 FFF7FEFF 		bl	ControlPrintf
 6236              	.LVL519:
1569:App/Src/task.c ****                 ControlPrintf("result:NG\n");
 6237              		.loc 1 1569 8 view .LVU1657
 6238 0494 0520     		movs	r0, #5
 6239 0496 FFF7FEFF 		bl	HAL_Delay
 6240              	.LVL520:
1570:App/Src/task.c ****             }
 6241              		.loc 1 1570 17 view .LVU1658
 6242 049a 5F48     		ldr	r0, .L370+32
 6243 049c FFF7FEFF 		bl	ControlPrintf
 6244              	.LVL521:
 6245 04a0 37E6     		b	.L316
 6246              	.L365:
1548:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6247              		.loc 1 1548 17 view .LVU1659
1548:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6248              		.loc 1 1548 34 is_stmt 0 view .LVU1660
 6249 04a2 594E     		ldr	r6, .L370+16
 6250 04a4 D6ED018A 		vldr.32	s17, [r6, #4]
1548:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6251              		.loc 1 1548 40 view .LVU1661
 6252 04a8 9FED5C8A 		vldr.32	s16, .L370+36
 6253 04ac 28EE888A 		vmul.f32	s16, s17, s16
1548:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6254              		.loc 1 1548 58 view .LVU1662
 6255 04b0 F7EE007A 		vmov.f32	s15, #1.0e+0
 6256 04b4 38EE678A 		vsub.f32	s16, s16, s15
1548:App/Src/task.c ****                 UsbPrintf(" %fHz, %.2fppm\n", g_lastFreq.freq, ppm);
 6257              		.loc 1 1548 21 view .LVU1663
 6258 04b8 DFED597A 		vldr.32	s15, .L370+40
 6259 04bc 28EE278A 		vmul.f32	s16, s16, s15
 6260              	.LVL522:
1549:App/Src/task.c ****                 ControlPrintf("freq:%fHz\n", g_lastFreq.freq);
 6261              		.loc 1 1549 17 is_stmt 1 view .LVU1664
 6262 04c0 18EE100A 		vmov	r0, s16
 6263 04c4 FFF7FEFF 		bl	__aeabi_f2d
 6264              	.LVL523:
 6265 04c8 0446     		mov	r4, r0
 6266 04ca 0D46     		mov	r5, r1
 6267 04cc 18EE900A 		vmov	r0, s17
 6268 04d0 FFF7FEFF 		bl	__aeabi_f2d
 6269              	.LVL524:
 6270 04d4 0246     		mov	r2, r0
 6271 04d6 0B46     		mov	r3, r1
 6272 04d8 CDE90045 		strd	r4, [sp]
 6273 04dc 5148     		ldr	r0, .L370+44
 6274 04de FFF7FEFF 		bl	UsbPrintf
 6275              	.LVL525:
1550:App/Src/task.c **** 			    HAL_Delay(5);
 6276              		.loc 1 1550 17 view .LVU1665
 6277 04e2 7068     		ldr	r0, [r6, #4]	@ float
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 166


 6278 04e4 FFF7FEFF 		bl	__aeabi_f2d
 6279              	.LVL526:
 6280 04e8 0246     		mov	r2, r0
 6281 04ea 0B46     		mov	r3, r1
 6282 04ec 4E48     		ldr	r0, .L370+48
 6283 04ee FFF7FEFF 		bl	ControlPrintf
 6284              	.LVL527:
1551:App/Src/task.c ****                 ControlPrintf("ppm:%.2fppm\n", ppm);
 6285              		.loc 1 1551 8 view .LVU1666
 6286 04f2 0520     		movs	r0, #5
 6287 04f4 FFF7FEFF 		bl	HAL_Delay
 6288              	.LVL528:
1552:App/Src/task.c ****                 buffer[0] = 0x00;
 6289              		.loc 1 1552 17 view .LVU1667
 6290 04f8 2246     		mov	r2, r4
 6291 04fa 2B46     		mov	r3, r5
 6292 04fc 4B48     		ldr	r0, .L370+52
 6293 04fe FFF7FEFF 		bl	ControlPrintf
 6294              	.LVL529:
1553:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6295              		.loc 1 1553 17 view .LVU1668
1553:App/Src/task.c ****                 spi_write_multi_bytes(0x0f, buffer, 1);//关闭之前开启频率输出
 6296              		.loc 1 1553 27 is_stmt 0 view .LVU1669
 6297 0502 0023     		movs	r3, #0
 6298 0504 8DF81030 		strb	r3, [sp, #16]
1554:App/Src/task.c ****                 if (ppm > (CENTER_FREQ + 2.5) || ppm < (CENTER_FREQ - 2.5)) {
 6299              		.loc 1 1554 17 is_stmt 1 view .LVU1670
 6300 0508 0122     		movs	r2, #1
 6301 050a 04A9     		add	r1, sp, #16
 6302 050c 0F20     		movs	r0, #15
 6303 050e FFF7FEFF 		bl	spi_write_multi_bytes
 6304              	.LVL530:
1555:App/Src/task.c **** 			        HAL_Delay(5);
 6305              		.loc 1 1555 17 view .LVU1671
1555:App/Src/task.c **** 			        HAL_Delay(5);
 6306              		.loc 1 1555 20 is_stmt 0 view .LVU1672
 6307 0512 F1EE0A7A 		vmov.f32	s15, #6.5e+0
 6308 0516 B4EEE78A 		vcmpe.f32	s16, s15
 6309 051a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6310 051e 06DC     		bgt	.L343
1555:App/Src/task.c **** 			        HAL_Delay(5);
 6311              		.loc 1 1555 47 discriminator 1 view .LVU1673
 6312 0520 F7EE087A 		vmov.f32	s15, #1.5e+0
 6313 0524 B4EEE78A 		vcmpe.f32	s16, s15
 6314 0528 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6315 052c 09D5     		bpl	.L361
 6316              	.L343:
1556:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 6317              		.loc 1 1556 12 is_stmt 1 view .LVU1674
 6318 052e 0520     		movs	r0, #5
 6319 0530 FFF7FEFF 		bl	HAL_Delay
 6320              	.LVL531:
1557:App/Src/task.c ****                     Aecq100State = 50;
 6321              		.loc 1 1557 21 view .LVU1675
 6322 0534 3848     		ldr	r0, .L370+32
 6323 0536 FFF7FEFF 		bl	ControlPrintf
 6324              	.LVL532:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 167


1558:App/Src/task.c ****                 } else {
 6325              		.loc 1 1558 21 view .LVU1676
1558:App/Src/task.c ****                 } else {
 6326              		.loc 1 1558 34 is_stmt 0 view .LVU1677
 6327 053a 324B     		ldr	r3, .L370+12
 6328 053c 3222     		movs	r2, #50
 6329 053e 1A70     		strb	r2, [r3]
 6330 0540 96E7     		b	.L342
 6331              	.L361:
1560:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 6332              		.loc 1 1560 12 is_stmt 1 view .LVU1678
 6333 0542 0321     		movs	r1, #3
 6334 0544 0420     		movs	r0, #4
 6335 0546 FFF7FEFF 		bl	rtc_group_power
 6336              	.LVL533:
1561:App/Src/task.c ****                     Aecq100State++;
 6337              		.loc 1 1561 21 view .LVU1679
1561:App/Src/task.c ****                     Aecq100State++;
 6338              		.loc 1 1561 36 is_stmt 0 view .LVU1680
 6339 054a FFF7FEFF 		bl	HAL_GetTick
 6340              	.LVL534:
1561:App/Src/task.c ****                     Aecq100State++;
 6341              		.loc 1 1561 34 view .LVU1681
 6342 054e 2C4B     		ldr	r3, .L370+8
 6343 0550 1860     		str	r0, [r3]
1562:App/Src/task.c ****                 } 
 6344              		.loc 1 1562 21 is_stmt 1 view .LVU1682
1562:App/Src/task.c ****                 } 
 6345              		.loc 1 1562 33 is_stmt 0 view .LVU1683
 6346 0552 2C4A     		ldr	r2, .L370+12
 6347 0554 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6348 0556 0133     		adds	r3, r3, #1
 6349 0558 1370     		strb	r3, [r2]
 6350 055a 89E7     		b	.L342
 6351              	.LVL535:
 6352              	.L321:
1574:App/Src/task.c ****                 current = CS1237Current();
 6353              		.loc 1 1574 13 is_stmt 1 view .LVU1684
1574:App/Src/task.c ****                 current = CS1237Current();
 6354              		.loc 1 1574 30 is_stmt 0 view .LVU1685
 6355 055c 284B     		ldr	r3, .L370+8
 6356 055e 1C68     		ldr	r4, [r3]
 6357 0560 04F5FA74 		add	r4, r4, #500
1574:App/Src/task.c ****                 current = CS1237Current();
 6358              		.loc 1 1574 38 view .LVU1686
 6359 0564 FFF7FEFF 		bl	HAL_GetTick
 6360              	.LVL536:
1574:App/Src/task.c ****                 current = CS1237Current();
 6361              		.loc 1 1574 16 view .LVU1687
 6362 0568 8442     		cmp	r4, r0
 6363 056a BFF4D2AD 		bcs	.L316
1575:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
 6364              		.loc 1 1575 17 is_stmt 1 view .LVU1688
1575:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
 6365              		.loc 1 1575 27 is_stmt 0 view .LVU1689
 6366 056e FFF7FEFF 		bl	CS1237Current
 6367              	.LVL537:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 168


 6368 0572 B0EE408A 		vmov.f32	s16, s0
 6369              	.LVL538:
1576:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6370              		.loc 1 1576 17 is_stmt 1 view .LVU1690
 6371 0576 10EE100A 		vmov	r0, s0
 6372 057a FFF7FEFF 		bl	__aeabi_f2d
 6373              	.LVL539:
1576:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6374              		.loc 1 1576 17 is_stmt 0 view .LVU1691
 6375 057e 0446     		mov	r4, r0
 6376 0580 0D46     		mov	r5, r1
 6377 0582 0246     		mov	r2, r0
 6378 0584 0B46     		mov	r3, r1
 6379 0586 2A48     		ldr	r0, .L370+56
 6380 0588 FFF7FEFF 		bl	UsbPrintf
 6381              	.LVL540:
1577:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6382              		.loc 1 1577 17 is_stmt 1 view .LVU1692
1577:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6383              		.loc 1 1577 20 is_stmt 0 view .LVU1693
 6384 058c DFED297A 		vldr.32	s15, .L370+60
 6385 0590 B4EEE78A 		vcmpe.f32	s16, s15
 6386 0594 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6387 0598 06DD     		ble	.L346
1577:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6388              		.loc 1 1577 35 discriminator 1 view .LVU1694
 6389 059a DFED277A 		vldr.32	s15, .L370+64
 6390 059e B4EEE78A 		vcmpe.f32	s16, s15
 6391 05a2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6392 05a6 08D4     		bmi	.L366
 6393              	.L346:
1585:App/Src/task.c ****                     Aecq100State ++;
 6394              		.loc 1 1585 21 is_stmt 1 view .LVU1695
1585:App/Src/task.c ****                     Aecq100State ++;
 6395              		.loc 1 1585 36 is_stmt 0 view .LVU1696
 6396 05a8 FFF7FEFF 		bl	HAL_GetTick
 6397              	.LVL541:
1585:App/Src/task.c ****                     Aecq100State ++;
 6398              		.loc 1 1585 34 view .LVU1697
 6399 05ac 144B     		ldr	r3, .L370+8
 6400 05ae 1860     		str	r0, [r3]
1586:App/Src/task.c ****                 }
 6401              		.loc 1 1586 21 is_stmt 1 view .LVU1698
1586:App/Src/task.c ****                 }
 6402              		.loc 1 1586 34 is_stmt 0 view .LVU1699
 6403 05b0 144A     		ldr	r2, .L370+12
 6404 05b2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 6405 05b4 0133     		adds	r3, r3, #1
 6406 05b6 1370     		strb	r3, [r2]
 6407 05b8 ABE5     		b	.L316
 6408              	.L366:
1578:App/Src/task.c ****                     ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
 6409              		.loc 1 1578 21 is_stmt 1 view .LVU1700
 6410 05ba 2048     		ldr	r0, .L370+68
 6411 05bc FFF7FEFF 		bl	UsbPrintf
 6412              	.LVL542:
1579:App/Src/task.c **** 			        HAL_Delay(5);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 169


 6413              		.loc 1 1579 21 view .LVU1701
 6414 05c0 0DA3     		adr	r3, .L370
 6415 05c2 D3E90023 		ldrd	r2, [r3]
 6416 05c6 2046     		mov	r0, r4
 6417 05c8 2946     		mov	r1, r5
 6418 05ca FFF7FEFF 		bl	__aeabi_dmul
 6419              	.LVL543:
 6420 05ce 0246     		mov	r2, r0
 6421 05d0 0B46     		mov	r3, r1
 6422 05d2 1B48     		ldr	r0, .L370+72
 6423 05d4 FFF7FEFF 		bl	ControlPrintf
 6424              	.LVL544:
1580:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
 6425              		.loc 1 1580 12 view .LVU1702
 6426 05d8 0520     		movs	r0, #5
 6427 05da FFF7FEFF 		bl	HAL_Delay
 6428              	.LVL545:
1581:App/Src/task.c ****                     Aecq100State = 50;
 6429              		.loc 1 1581 21 view .LVU1703
 6430 05de 1948     		ldr	r0, .L370+76
 6431 05e0 FFF7FEFF 		bl	ControlPrintf
 6432              	.LVL546:
1582:App/Src/task.c ****                     rtc_result = 2;
 6433              		.loc 1 1582 21 view .LVU1704
1582:App/Src/task.c ****                     rtc_result = 2;
 6434              		.loc 1 1582 34 is_stmt 0 view .LVU1705
 6435 05e4 074B     		ldr	r3, .L370+12
 6436 05e6 3222     		movs	r2, #50
 6437 05e8 1A70     		strb	r2, [r3]
1583:App/Src/task.c ****                 } else {
 6438              		.loc 1 1583 21 is_stmt 1 view .LVU1706
1583:App/Src/task.c ****                 } else {
 6439              		.loc 1 1583 32 is_stmt 0 view .LVU1707
 6440 05ea 174B     		ldr	r3, .L370+80
 6441 05ec 0222     		movs	r2, #2
 6442 05ee 1A60     		str	r2, [r3]
 6443 05f0 8FE5     		b	.L316
 6444              	.L371:
 6445 05f2 00BFAFF3 		.align	3
 6445      0080
 6446              	.L370:
 6447 05f8 FCA9F1D2 		.word	-755914244
 6448 05fc 4D62503F 		.word	1062232653
 6449 0600 00000000 		.word	.LANCHOR40
 6450 0604 00000000 		.word	.LANCHOR38
 6451 0608 00000000 		.word	.LANCHOR9
 6452 060c 3C000000 		.word	.LC5
 6453 0610 70000000 		.word	.LC16
 6454 0614 20010000 		.word	.LC60
 6455 0618 B8000000 		.word	.LC54
 6456 061c 0000803C 		.word	1015021568
 6457 0620 00247449 		.word	1232348160
 6458 0624 F4000000 		.word	.LC57
 6459 0628 04010000 		.word	.LC58
 6460 062c 10010000 		.word	.LC59
 6461 0630 34010000 		.word	.LC61
 6462 0634 00009643 		.word	1133903872
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 170


 6463 0638 00007A44 		.word	1148846080
 6464 063c 50010000 		.word	.LC62
 6465 0640 5C010000 		.word	.LC63
 6466 0644 6C010000 		.word	.LC64
 6467 0648 00000000 		.word	.LANCHOR39
 6468              	.LVL547:
 6469              	.L320:
1591:App/Src/task.c ****                 current = CS1237Current();
 6470              		.loc 1 1591 13 is_stmt 1 view .LVU1708
1591:App/Src/task.c ****                 current = CS1237Current();
 6471              		.loc 1 1591 30 is_stmt 0 view .LVU1709
 6472 064c 4A4B     		ldr	r3, .L372+8
 6473 064e 1C68     		ldr	r4, [r3]
 6474 0650 04F59674 		add	r4, r4, #300
1591:App/Src/task.c ****                 current = CS1237Current();
 6475              		.loc 1 1591 38 view .LVU1710
 6476 0654 FFF7FEFF 		bl	HAL_GetTick
 6477              	.LVL548:
1591:App/Src/task.c ****                 current = CS1237Current();
 6478              		.loc 1 1591 16 view .LVU1711
 6479 0658 8442     		cmp	r4, r0
 6480 065a BFF45AAD 		bcs	.L316
1592:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
 6481              		.loc 1 1592 17 is_stmt 1 view .LVU1712
1592:App/Src/task.c ****                 UsbPrintf("rtc vdd current = %.1f nA\n", current);
 6482              		.loc 1 1592 27 is_stmt 0 view .LVU1713
 6483 065e FFF7FEFF 		bl	CS1237Current
 6484              	.LVL549:
 6485 0662 B0EE408A 		vmov.f32	s16, s0
 6486              	.LVL550:
1593:App/Src/task.c ****                 ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
 6487              		.loc 1 1593 17 is_stmt 1 view .LVU1714
 6488 0666 10EE100A 		vmov	r0, s0
 6489 066a FFF7FEFF 		bl	__aeabi_f2d
 6490              	.LVL551:
1593:App/Src/task.c ****                 ControlPrintf("Ivdd:%.2fuA\n", current * 0.001);
 6491              		.loc 1 1593 17 is_stmt 0 view .LVU1715
 6492 066e 0446     		mov	r4, r0
 6493 0670 0D46     		mov	r5, r1
 6494 0672 0246     		mov	r2, r0
 6495 0674 0B46     		mov	r3, r1
 6496 0676 4148     		ldr	r0, .L372+12
 6497 0678 FFF7FEFF 		bl	UsbPrintf
 6498              	.LVL552:
1594:App/Src/task.c **** 			    HAL_Delay(5);
 6499              		.loc 1 1594 17 is_stmt 1 view .LVU1716
 6500 067c 3CA3     		adr	r3, .L372
 6501 067e D3E90023 		ldrd	r2, [r3]
 6502 0682 2046     		mov	r0, r4
 6503 0684 2946     		mov	r1, r5
 6504 0686 FFF7FEFF 		bl	__aeabi_dmul
 6505              	.LVL553:
 6506 068a 0246     		mov	r2, r0
 6507 068c 0B46     		mov	r3, r1
 6508 068e 3C48     		ldr	r0, .L372+16
 6509 0690 FFF7FEFF 		bl	ControlPrintf
 6510              	.LVL554:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 171


1595:App/Src/task.c ****                 if (current > 300 && current < 1000) {
 6511              		.loc 1 1595 8 view .LVU1717
 6512 0694 0520     		movs	r0, #5
 6513 0696 FFF7FEFF 		bl	HAL_Delay
 6514              	.LVL555:
1596:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6515              		.loc 1 1596 17 view .LVU1718
1596:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6516              		.loc 1 1596 20 is_stmt 0 view .LVU1719
 6517 069a DFED3A7A 		vldr.32	s15, .L372+20
 6518 069e B4EEE78A 		vcmpe.f32	s16, s15
 6519 06a2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6520 06a6 06DD     		ble	.L349
1596:App/Src/task.c ****                     UsbPrintf("current OK\n");
 6521              		.loc 1 1596 35 discriminator 1 view .LVU1720
 6522 06a8 DFED377A 		vldr.32	s15, .L372+24
 6523 06ac B4EEE78A 		vcmpe.f32	s16, s15
 6524 06b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 6525 06b4 09D4     		bmi	.L367
 6526              	.L349:
1601:App/Src/task.c ****                     ControlPrintf("result:NG\n");
 6527              		.loc 1 1601 21 is_stmt 1 view .LVU1721
 6528 06b6 3548     		ldr	r0, .L372+28
 6529 06b8 FFF7FEFF 		bl	UsbPrintf
 6530              	.LVL556:
1602:App/Src/task.c ****                 }
 6531              		.loc 1 1602 21 view .LVU1722
 6532 06bc 3448     		ldr	r0, .L372+32
 6533 06be FFF7FEFF 		bl	ControlPrintf
 6534              	.LVL557:
 6535              	.L352:
1604:App/Src/task.c ****             }
 6536              		.loc 1 1604 17 view .LVU1723
1604:App/Src/task.c ****             }
 6537              		.loc 1 1604 30 is_stmt 0 view .LVU1724
 6538 06c2 344B     		ldr	r3, .L372+36
 6539 06c4 3222     		movs	r2, #50
 6540 06c6 1A70     		strb	r2, [r3]
 6541 06c8 23E5     		b	.L316
 6542              	.L367:
1597:App/Src/task.c ****                     ControlPrintf("result:PASS\n");
 6543              		.loc 1 1597 21 is_stmt 1 view .LVU1725
 6544 06ca 3348     		ldr	r0, .L372+40
 6545 06cc FFF7FEFF 		bl	UsbPrintf
 6546              	.LVL558:
1598:App/Src/task.c ****                     rtc_result = 2;
 6547              		.loc 1 1598 21 view .LVU1726
 6548 06d0 3248     		ldr	r0, .L372+44
 6549 06d2 FFF7FEFF 		bl	ControlPrintf
 6550              	.LVL559:
1599:App/Src/task.c ****                 } else {
 6551              		.loc 1 1599 21 view .LVU1727
1599:App/Src/task.c ****                 } else {
 6552              		.loc 1 1599 32 is_stmt 0 view .LVU1728
 6553 06d6 324B     		ldr	r3, .L372+48
 6554 06d8 0222     		movs	r2, #2
 6555 06da 1A60     		str	r2, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 172


 6556 06dc F1E7     		b	.L352
 6557              	.LVL560:
 6558              	.L318:
1608:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6559              		.loc 1 1608 13 is_stmt 1 view .LVU1729
1608:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6560              		.loc 1 1608 28 is_stmt 0 view .LVU1730
 6561 06de 304B     		ldr	r3, .L372+48
 6562 06e0 1B68     		ldr	r3, [r3]
1608:App/Src/task.c ****                 rtc_group_power(AECQ100_CHANNEL, POWER_I2C);
 6563              		.loc 1 1608 16 view .LVU1731
 6564 06e2 002B     		cmp	r3, #0
 6565 06e4 2FDD     		ble	.L353
1609:App/Src/task.c ****                 rtc_set_channel(AECQ100_CHANNEL, RTC_SD8840);
 6566              		.loc 1 1609 17 is_stmt 1 view .LVU1732
 6567 06e6 0121     		movs	r1, #1
 6568 06e8 0420     		movs	r0, #4
 6569 06ea FFF7FEFF 		bl	rtc_group_power
 6570              	.LVL561:
1610:App/Src/task.c ****                 spi_read_multi_bytes(0x56, buffer, 1);
 6571              		.loc 1 1610 17 view .LVU1733
 6572 06ee 0321     		movs	r1, #3
 6573 06f0 0420     		movs	r0, #4
 6574 06f2 FFF7FEFF 		bl	rtc_set_channel
 6575              	.LVL562:
1611:App/Src/task.c ****                 if (buffer[0] == 0 || buffer[0] == 0xff) {
 6576              		.loc 1 1611 17 view .LVU1734
 6577 06f6 0122     		movs	r2, #1
 6578 06f8 04A9     		add	r1, sp, #16
 6579 06fa 5620     		movs	r0, #86
 6580 06fc FFF7FEFF 		bl	spi_read_multi_bytes
 6581              	.LVL563:
1612:App/Src/task.c ****                     Aecq100State = 0;
 6582              		.loc 1 1612 17 view .LVU1735
1612:App/Src/task.c ****                     Aecq100State = 0;
 6583              		.loc 1 1612 27 is_stmt 0 view .LVU1736
 6584 0700 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
1612:App/Src/task.c ****                     Aecq100State = 0;
 6585              		.loc 1 1612 36 view .LVU1737
 6586 0704 013B     		subs	r3, r3, #1
 6587 0706 DBB2     		uxtb	r3, r3
1612:App/Src/task.c ****                     Aecq100State = 0;
 6588              		.loc 1 1612 20 view .LVU1738
 6589 0708 FD2B     		cmp	r3, #253
 6590 070a 02D9     		bls	.L354
1613:App/Src/task.c ****                 }
 6591              		.loc 1 1613 21 is_stmt 1 view .LVU1739
1613:App/Src/task.c ****                 }
 6592              		.loc 1 1613 34 is_stmt 0 view .LVU1740
 6593 070c 214B     		ldr	r3, .L372+36
 6594 070e 0022     		movs	r2, #0
 6595 0710 1A70     		strb	r2, [r3]
 6596              	.L354:
1622:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6597              		.loc 1 1622 13 is_stmt 1 view .LVU1741
1622:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6598              		.loc 1 1622 17 is_stmt 0 view .LVU1742
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 173


 6599 0712 FFF7FEFF 		bl	HAL_GetTick
 6600              	.LVL564:
1622:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6601              		.loc 1 1622 46 view .LVU1743
 6602 0716 184B     		ldr	r3, .L372+8
 6603 0718 1B68     		ldr	r3, [r3]
 6604 071a 03F57A73 		add	r3, r3, #1000
1622:App/Src/task.c ****                 lastTestTime = HAL_GetTick();
 6605              		.loc 1 1622 16 view .LVU1744
 6606 071e 9842     		cmp	r0, r3
 6607 0720 7FF6F7AC 		bls	.L316
1623:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 6608              		.loc 1 1623 17 is_stmt 1 view .LVU1745
1623:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 6609              		.loc 1 1623 32 is_stmt 0 view .LVU1746
 6610 0724 FFF7FEFF 		bl	HAL_GetTick
 6611              	.LVL565:
1623:App/Src/task.c ****                 ControlPrintf("systemTemp:%.1f\n", temp_read_value(1));
 6612              		.loc 1 1623 30 view .LVU1747
 6613 0728 134B     		ldr	r3, .L372+8
 6614 072a 1860     		str	r0, [r3]
1624:App/Src/task.c ****             }
 6615              		.loc 1 1624 17 is_stmt 1 view .LVU1748
1624:App/Src/task.c ****             }
 6616              		.loc 1 1624 52 is_stmt 0 view .LVU1749
 6617 072c 0120     		movs	r0, #1
 6618 072e FFF7FEFF 		bl	temp_read_value
 6619              	.LVL566:
 6620 0732 10EE100A 		vmov	r0, s0
1624:App/Src/task.c ****             }
 6621              		.loc 1 1624 17 view .LVU1750
 6622 0736 FFF7FEFF 		bl	__aeabi_f2d
 6623              	.LVL567:
 6624 073a 0246     		mov	r2, r0
 6625 073c 0B46     		mov	r3, r1
 6626 073e 1948     		ldr	r0, .L372+52
 6627 0740 FFF7FEFF 		bl	ControlPrintf
 6628              	.LVL568:
 6629              		.loc 1 1629 1 view .LVU1751
 6630 0744 E5E4     		b	.L316
 6631              	.L353:
1616:App/Src/task.c ****                 HAL_Delay(5);
 6632              		.loc 1 1616 11 is_stmt 1 view .LVU1752
 6633 0746 0121     		movs	r1, #1
 6634 0748 0420     		movs	r0, #4
 6635 074a FFF7FEFF 		bl	rtc_set_channel
 6636              	.LVL569:
1617:App/Src/task.c ****                 if (rtc_read_multi_bytes(0x64, 0x00, buffer, 3) != I2C_OK ) {
 6637              		.loc 1 1617 17 view .LVU1753
 6638 074e 0520     		movs	r0, #5
 6639 0750 FFF7FEFF 		bl	HAL_Delay
 6640              	.LVL570:
1618:App/Src/task.c ****                     Aecq100State = 0;
 6641              		.loc 1 1618 17 view .LVU1754
1618:App/Src/task.c ****                     Aecq100State = 0;
 6642              		.loc 1 1618 21 is_stmt 0 view .LVU1755
 6643 0754 0323     		movs	r3, #3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 174


 6644 0756 04AA     		add	r2, sp, #16
 6645 0758 0021     		movs	r1, #0
 6646 075a 6420     		movs	r0, #100
 6647 075c FFF7FEFF 		bl	rtc_read_multi_bytes
 6648              	.LVL571:
1618:App/Src/task.c ****                     Aecq100State = 0;
 6649              		.loc 1 1618 20 view .LVU1756
 6650 0760 0028     		cmp	r0, #0
 6651 0762 D6D0     		beq	.L354
1619:App/Src/task.c ****                 }
 6652              		.loc 1 1619 21 is_stmt 1 view .LVU1757
1619:App/Src/task.c ****                 }
 6653              		.loc 1 1619 34 is_stmt 0 view .LVU1758
 6654 0764 0B4B     		ldr	r3, .L372+36
 6655 0766 0022     		movs	r2, #0
 6656 0768 1A70     		strb	r2, [r3]
 6657 076a D2E7     		b	.L354
 6658              	.L373:
 6659 076c AFF30080 		.align	3
 6660              	.L372:
 6661 0770 FCA9F1D2 		.word	-755914244
 6662 0774 4D62503F 		.word	1062232653
 6663 0778 00000000 		.word	.LANCHOR40
 6664 077c 34010000 		.word	.LC61
 6665 0780 5C010000 		.word	.LC63
 6666 0784 00009643 		.word	1133903872
 6667 0788 00007A44 		.word	1148846080
 6668 078c 7C010000 		.word	.LC65
 6669 0790 B8000000 		.word	.LC54
 6670 0794 00000000 		.word	.LANCHOR38
 6671 0798 50010000 		.word	.LC62
 6672 079c 6C010000 		.word	.LC64
 6673 07a0 00000000 		.word	.LANCHOR39
 6674 07a4 78000000 		.word	.LC50
 6675              		.cfi_endproc
 6676              	.LFE250:
 6678              		.section	.rodata.system_manage.str1.4,"aMS",%progbits,1
 6679              		.align	2
 6680              	.LC66:
 6681 0000 74656D70 		.ascii	"temp:%.1f connect OK\012\000"
 6681      3A252E31 
 6681      6620636F 
 6681      6E6E6563 
 6681      74204F4B 
 6682              		.section	.text.system_manage,"ax",%progbits
 6683              		.align	1
 6684              		.global	system_manage
 6685              		.syntax unified
 6686              		.thumb
 6687              		.thumb_func
 6689              	system_manage:
 6690              	.LFB239:
  93:App/Src/task.c ****     static uint32_t systemTick = 0;
 6691              		.loc 1 93 1 is_stmt 1 view -0
 6692              		.cfi_startproc
 6693              		@ args = 0, pretend = 0, frame = 0
 6694              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 175


 6695 0000 08B5     		push	{r3, lr}
 6696              	.LCFI57:
 6697              		.cfi_def_cfa_offset 8
 6698              		.cfi_offset 3, -8
 6699              		.cfi_offset 14, -4
  94:App/Src/task.c **** 
 6700              		.loc 1 94 5 view .LVU1760
  96:App/Src/task.c ****     if (systemTick % 100 == 0) {
 6701              		.loc 1 96 5 view .LVU1761
  96:App/Src/task.c ****     if (systemTick % 100 == 0) {
 6702              		.loc 1 96 15 is_stmt 0 view .LVU1762
 6703 0002 3A4B     		ldr	r3, .L390
 6704 0004 1A68     		ldr	r2, [r3]
 6705 0006 0132     		adds	r2, r2, #1
 6706 0008 1A60     		str	r2, [r3]
  97:App/Src/task.c ****         LedHeart();
 6707              		.loc 1 97 5 is_stmt 1 view .LVU1763
  97:App/Src/task.c ****         LedHeart();
 6708              		.loc 1 97 20 is_stmt 0 view .LVU1764
 6709 000a 394B     		ldr	r3, .L390+4
 6710 000c A3FB0213 		umull	r1, r3, r3, r2
 6711 0010 5B09     		lsrs	r3, r3, #5
 6712 0012 6421     		movs	r1, #100
 6713 0014 01FB1323 		mls	r3, r1, r3, r2
  97:App/Src/task.c ****         LedHeart();
 6714              		.loc 1 97 8 view .LVU1765
 6715 0018 002B     		cmp	r3, #0
 6716 001a 45D0     		beq	.L383
 6717              	.L375:
 100:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6718              		.loc 1 100 5 is_stmt 1 view .LVU1766
 100:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6719              		.loc 1 100 20 is_stmt 0 view .LVU1767
 6720 001c 334B     		ldr	r3, .L390
 6721 001e 1A68     		ldr	r2, [r3]
 6722 0020 334B     		ldr	r3, .L390+4
 6723 0022 A3FB0213 		umull	r1, r3, r3, r2
 6724 0026 5B09     		lsrs	r3, r3, #5
 6725 0028 6421     		movs	r1, #100
 6726 002a 01FB1323 		mls	r3, r1, r3, r2
 100:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 6727              		.loc 1 100 8 view .LVU1768
 6728 002e 002B     		cmp	r3, #0
 6729 0030 3DD0     		beq	.L384
 6730              	.L376:
 103:App/Src/task.c ****         system_manage_test_mode();
 6731              		.loc 1 103 5 is_stmt 1 view .LVU1769
 103:App/Src/task.c ****         system_manage_test_mode();
 6732              		.loc 1 103 20 is_stmt 0 view .LVU1770
 6733 0032 2E4B     		ldr	r3, .L390
 6734 0034 1A68     		ldr	r2, [r3]
 6735 0036 2F4B     		ldr	r3, .L390+8
 6736 0038 A3FB0213 		umull	r1, r3, r3, r2
 6737 003c 1B09     		lsrs	r3, r3, #4
 6738 003e 03EB8303 		add	r3, r3, r3, lsl #2
 103:App/Src/task.c ****         system_manage_test_mode();
 6739              		.loc 1 103 8 view .LVU1771
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 176


 6740 0042 B2EB830F 		cmp	r2, r3, lsl #2
 6741 0046 36D0     		beq	.L385
 6742              	.L377:
 106:App/Src/task.c ****         system_time_update();
 6743              		.loc 1 106 5 is_stmt 1 view .LVU1772
 106:App/Src/task.c ****         system_time_update();
 6744              		.loc 1 106 20 is_stmt 0 view .LVU1773
 6745 0048 284B     		ldr	r3, .L390
 6746 004a 1A68     		ldr	r2, [r3]
 6747 004c 284B     		ldr	r3, .L390+4
 6748 004e A3FB0213 		umull	r1, r3, r3, r2
 6749 0052 9B09     		lsrs	r3, r3, #6
 6750 0054 C821     		movs	r1, #200
 6751 0056 01FB1323 		mls	r3, r1, r3, r2
 106:App/Src/task.c ****         system_time_update();
 6752              		.loc 1 106 8 view .LVU1774
 6753 005a 7BB3     		cbz	r3, .L386
 6754              	.L378:
 109:App/Src/task.c ****             command_int_test(1);
 6755              		.loc 1 109 5 is_stmt 1 view .LVU1775
 109:App/Src/task.c ****             command_int_test(1);
 6756              		.loc 1 109 20 is_stmt 0 view .LVU1776
 6757 005c 234B     		ldr	r3, .L390
 6758 005e 1A68     		ldr	r2, [r3]
 6759 0060 234B     		ldr	r3, .L390+4
 6760 0062 A3FB0213 		umull	r1, r3, r3, r2
 6761 0066 1B09     		lsrs	r3, r3, #4
 6762 0068 3221     		movs	r1, #50
 6763 006a 01FB1323 		mls	r3, r1, r3, r2
 109:App/Src/task.c ****             command_int_test(1);
 6764              		.loc 1 109 8 view .LVU1777
 6765 006e 13B9     		cbnz	r3, .L379
 109:App/Src/task.c ****             command_int_test(1);
 6766              		.loc 1 109 30 discriminator 1 view .LVU1778
 6767 0070 214B     		ldr	r3, .L390+12
 6768 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6769 0074 2BBB     		cbnz	r3, .L387
 6770              	.L379:
 112:App/Src/task.c ****             Aecq100Sample();
 6771              		.loc 1 112 5 is_stmt 1 view .LVU1779
 112:App/Src/task.c ****             Aecq100Sample();
 6772              		.loc 1 112 20 is_stmt 0 view .LVU1780
 6773 0076 1D4B     		ldr	r3, .L390
 6774 0078 1A68     		ldr	r2, [r3]
 6775 007a 1D4B     		ldr	r3, .L390+4
 6776 007c A3FB0213 		umull	r1, r3, r3, r2
 6777 0080 1B09     		lsrs	r3, r3, #4
 6778 0082 3221     		movs	r1, #50
 6779 0084 01FB1323 		mls	r3, r1, r3, r2
 112:App/Src/task.c ****             Aecq100Sample();
 6780              		.loc 1 112 8 view .LVU1781
 6781 0088 13B9     		cbnz	r3, .L380
 112:App/Src/task.c ****             Aecq100Sample();
 6782              		.loc 1 112 30 discriminator 1 view .LVU1782
 6783 008a 1C4B     		ldr	r3, .L390+16
 6784 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6785 008e E3B9     		cbnz	r3, .L388
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 177


 6786              	.L380:
 115:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 6787              		.loc 1 115 5 is_stmt 1 view .LVU1783
 115:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 6788              		.loc 1 115 20 is_stmt 0 view .LVU1784
 6789 0090 164B     		ldr	r3, .L390
 6790 0092 1A68     		ldr	r2, [r3]
 6791 0094 1A4B     		ldr	r3, .L390+20
 6792 0096 A3FB0213 		umull	r1, r3, r3, r2
 6793 009a 1B0A     		lsrs	r3, r3, #8
 6794 009c 4FF47A61 		mov	r1, #4000
 6795 00a0 01FB1323 		mls	r3, r1, r3, r2
 115:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 6796              		.loc 1 115 8 view .LVU1785
 6797 00a4 A3B1     		cbz	r3, .L389
 6798              	.L374:
 118:App/Src/task.c **** 
 6799              		.loc 1 118 1 view .LVU1786
 6800 00a6 08BD     		pop	{r3, pc}
 6801              	.L383:
  98:App/Src/task.c ****     }
 6802              		.loc 1 98 9 is_stmt 1 view .LVU1787
 6803 00a8 FFF7FEFF 		bl	LedHeart
 6804              	.LVL572:
 6805 00ac B6E7     		b	.L375
 6806              	.L384:
 101:App/Src/task.c ****     }
 6807              		.loc 1 101 9 view .LVU1788
 6808 00ae 0020     		movs	r0, #0
 6809 00b0 FFF7FEFF 		bl	rtc_freq_test
 6810              	.LVL573:
 6811 00b4 BDE7     		b	.L376
 6812              	.L385:
 104:App/Src/task.c ****     }
 6813              		.loc 1 104 9 view .LVU1789
 6814 00b6 FFF7FEFF 		bl	system_manage_test_mode
 6815              	.LVL574:
 6816 00ba C5E7     		b	.L377
 6817              	.L386:
 107:App/Src/task.c ****     }
 6818              		.loc 1 107 9 view .LVU1790
 6819 00bc FFF7FEFF 		bl	system_time_update
 6820              	.LVL575:
 6821 00c0 CCE7     		b	.L378
 6822              	.L387:
 110:App/Src/task.c ****     }
 6823              		.loc 1 110 13 view .LVU1791
 6824 00c2 0120     		movs	r0, #1
 6825 00c4 FFF7FEFF 		bl	command_int_test
 6826              	.LVL576:
 6827 00c8 D5E7     		b	.L379
 6828              	.L388:
 113:App/Src/task.c ****     }
 6829              		.loc 1 113 13 view .LVU1792
 6830 00ca FFF7FEFF 		bl	Aecq100Sample
 6831              	.LVL577:
 6832 00ce DFE7     		b	.L380
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 178


 6833              	.L389:
 116:App/Src/task.c ****     }
 6834              		.loc 1 116 6 view .LVU1793
 116:App/Src/task.c ****     }
 6835              		.loc 1 116 46 is_stmt 0 view .LVU1794
 6836 00d0 0120     		movs	r0, #1
 6837 00d2 FFF7FEFF 		bl	temp_read_value
 6838              	.LVL578:
 6839 00d6 10EE100A 		vmov	r0, s0
 116:App/Src/task.c ****     }
 6840              		.loc 1 116 6 view .LVU1795
 6841 00da FFF7FEFF 		bl	__aeabi_f2d
 6842              	.LVL579:
 6843 00de 0246     		mov	r2, r0
 6844 00e0 0B46     		mov	r3, r1
 6845 00e2 0848     		ldr	r0, .L390+24
 6846 00e4 FFF7FEFF 		bl	ControlPrintf
 6847              	.LVL580:
 118:App/Src/task.c **** 
 6848              		.loc 1 118 1 view .LVU1796
 6849 00e8 DDE7     		b	.L374
 6850              	.L391:
 6851 00ea 00BF     		.align	2
 6852              	.L390:
 6853 00ec 00000000 		.word	.LANCHOR41
 6854 00f0 1F85EB51 		.word	1374389535
 6855 00f4 CDCCCCCC 		.word	-858993459
 6856 00f8 00000000 		.word	.LANCHOR10
 6857 00fc 00000000 		.word	.LANCHOR42
 6858 0100 D34D6210 		.word	274877907
 6859 0104 00000000 		.word	.LC66
 6860              		.cfi_endproc
 6861              	.LFE239:
 6863              		.global	Aecq100State
 6864              		.global	g_aecq100Start
 6865              		.global	g_intEnd
 6866              		.global	g_intStart
 6867              		.global	g_intState
 6868              		.global	g_machineTest
 6869              		.global	g_lastFreq
 6870              		.global	g_realTime
 6871              		.section	.rodata
 6872              		.align	2
 6873              		.set	.LANCHOR3,. + 0
 6874              	.LC2:
 6875 0000 01001100 		.ascii	"\001\000\021\000\020"
 6875      10
 6876 0005 000000   		.space	3
 6877              	.LC0:
 6878 0008 63686970 		.ascii	"chip:\000"
 6878      3A00
 6879 000e 00000000 		.space	14
 6879      00000000 
 6879      00000000 
 6879      0000
 6880 001c 646F776E 		.ascii	"download:\000"
 6880      6C6F6164 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 179


 6880      3A00
 6881 0026 00000000 		.space	10
 6881      00000000 
 6881      0000
 6882 0030 73797374 		.ascii	"systemTemp:\000"
 6882      656D5465 
 6882      6D703A00 
 6883 003c 00000000 		.space	8
 6883      00000000 
 6884 0044 63686970 		.ascii	"chipTemp:\000"
 6884      54656D70 
 6884      3A00
 6885 004e 00000000 		.space	10
 6885      00000000 
 6885      0000
 6886 0058 66726571 		.ascii	"freq:\000"
 6886      3A00
 6887 005e 00000000 		.space	14
 6887      00000000 
 6887      00000000 
 6887      0000
 6888 006c 70706D3A 		.ascii	"ppm:\000"
 6888      00
 6889 0071 00000000 		.space	15
 6889      00000000 
 6889      00000000 
 6889      000000
 6890 0080 69643A00 		.ascii	"id:\000"
 6891 0084 00000000 		.space	16
 6891      00000000 
 6891      00000000 
 6891      00000000 
 6892 0094 49766464 		.ascii	"Ivdd:\000"
 6892      3A00
 6893 009a 00000000 		.space	14
 6893      00000000 
 6893      00000000 
 6893      0000
 6894 00a8 56626174 		.ascii	"Vbat:\000"
 6894      3A00
 6895 00ae 00000000 		.space	14
 6895      00000000 
 6895      00000000 
 6895      0000
 6896 00bc 49626174 		.ascii	"Ibat:\000"
 6896      3A00
 6897 00c2 00000000 		.space	14
 6897      00000000 
 6897      00000000 
 6897      0000
 6898 00d0 72657375 		.ascii	"result:\000"
 6898      6C743A00 
 6899 00d8 00000000 		.space	12
 6899      00000000 
 6899      00000000 
 6900              		.section	.bss.Aecq100State,"aw",%nobits
 6901              		.set	.LANCHOR38,. + 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 180


 6904              	Aecq100State:
 6905 0000 00       		.space	1
 6906              		.section	.bss.adjustCount.19,"aw",%nobits
 6907              		.set	.LANCHOR19,. + 0
 6910              	adjustCount.19:
 6911 0000 00       		.space	1
 6912              		.section	.bss.capNumber.26,"aw",%nobits
 6913              		.align	2
 6914              		.set	.LANCHOR12,. + 0
 6917              	capNumber.26:
 6918 0000 00000000 		.space	4
 6919              		.section	.bss.g_intEnd,"aw",%nobits
 6920              		.set	.LANCHOR7,. + 0
 6923              	g_intEnd:
 6924 0000 00       		.space	1
 6925              		.section	.bss.g_intStart,"aw",%nobits
 6926              		.set	.LANCHOR6,. + 0
 6929              	g_intStart:
 6930 0000 00       		.space	1
 6931              		.section	.bss.g_intState,"aw",%nobits
 6932              		.set	.LANCHOR10,. + 0
 6935              	g_intState:
 6936 0000 00       		.space	1
 6937              		.section	.bss.g_lastFreq,"aw",%nobits
 6938              		.align	2
 6939              		.set	.LANCHOR9,. + 0
 6942              	g_lastFreq:
 6943 0000 00000000 		.space	8
 6943      00000000 
 6944              		.section	.bss.g_machineTest,"aw",%nobits
 6945              		.align	2
 6946              		.set	.LANCHOR25,. + 0
 6949              	g_machineTest:
 6950 0000 00000000 		.space	236
 6950      00000000 
 6950      00000000 
 6950      00000000 
 6950      00000000 
 6951              		.section	.bss.g_realTime,"aw",%nobits
 6952              		.align	2
 6953              		.set	.LANCHOR2,. + 0
 6956              	g_realTime:
 6957 0000 00000000 		.space	8
 6957      00000000 
 6958              		.section	.bss.lastPPM.23,"aw",%nobits
 6959              		.align	2
 6960              		.set	.LANCHOR15,. + 0
 6963              	lastPPM.23:
 6964 0000 00000000 		.space	4
 6965              		.section	.bss.lastTestTime.0,"aw",%nobits
 6966              		.align	2
 6967              		.set	.LANCHOR40,. + 0
 6970              	lastTestTime.0:
 6971 0000 00000000 		.space	4
 6972              		.section	.bss.lastTestTime.18,"aw",%nobits
 6973              		.align	2
 6974              		.set	.LANCHOR20,. + 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 181


 6977              	lastTestTime.18:
 6978 0000 00000000 		.space	4
 6979              		.section	.bss.lastTestTime.2,"aw",%nobits
 6980              		.align	2
 6981              		.set	.LANCHOR37,. + 0
 6984              	lastTestTime.2:
 6985 0000 00000000 		.space	4
 6986              		.section	.bss.lastTick.24,"aw",%nobits
 6987              		.align	2
 6988              		.set	.LANCHOR14,. + 0
 6991              	lastTick.24:
 6992 0000 00000000 		.space	4
 6993              		.section	.bss.lastTick.28,"aw",%nobits
 6994              		.align	2
 6995              		.set	.LANCHOR8,. + 0
 6998              	lastTick.28:
 6999 0000 00000000 		.space	4
 7000              		.section	.bss.lastTick.32,"aw",%nobits
 7001              		.align	2
 7002              		.set	.LANCHOR1,. + 0
 7005              	lastTick.32:
 7006 0000 00000000 		.space	4
 7007              		.section	.bss.ledTick.33,"aw",%nobits
 7008              		.align	2
 7009              		.set	.LANCHOR0,. + 0
 7012              	ledTick.33:
 7013 0000 00000000 		.space	4
 7014              		.section	.bss.minCap.16,"aw",%nobits
 7015              		.align	2
 7016              		.set	.LANCHOR22,. + 0
 7019              	minCap.16:
 7020 0000 00000000 		.space	4
 7021              		.section	.bss.num.25,"aw",%nobits
 7022              		.set	.LANCHOR13,. + 0
 7025              	num.25:
 7026 0000 00       		.space	1
 7027              		.section	.bss.okCount.3,"aw",%nobits
 7028              		.set	.LANCHOR36,. + 0
 7031              	okCount.3:
 7032 0000 00       		.space	1
 7033              		.section	.bss.responseCount.17,"aw",%nobits
 7034              		.set	.LANCHOR21,. + 0
 7037              	responseCount.17:
 7038 0000 00       		.space	1
 7039              		.section	.bss.rtc_result.1,"aw",%nobits
 7040              		.align	2
 7041              		.set	.LANCHOR39,. + 0
 7044              	rtc_result.1:
 7045 0000 00000000 		.space	4
 7046              		.section	.bss.startTime.13,"aw",%nobits
 7047              		.align	2
 7048              		.set	.LANCHOR26,. + 0
 7051              	startTime.13:
 7052 0000 00000000 		.space	4
 7053              		.section	.bss.startTime.7,"aw",%nobits
 7054              		.align	2
 7055              		.set	.LANCHOR32,. + 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 182


 7058              	startTime.7:
 7059 0000 00000000 		.space	4
 7060              		.section	.bss.state.10,"aw",%nobits
 7061              		.set	.LANCHOR29,. + 0
 7064              	state.10:
 7065 0000 00       		.space	1
 7066              		.section	.bss.state.15,"aw",%nobits
 7067              		.set	.LANCHOR23,. + 0
 7070              	state.15:
 7071 0000 00       		.space	1
 7072              		.section	.bss.systemTick.31,"aw",%nobits
 7073              		.align	2
 7074              		.set	.LANCHOR41,. + 0
 7077              	systemTick.31:
 7078 0000 00000000 		.space	4
 7079              		.section	.bss.testConfigC.8,"aw",%nobits
 7080              		.set	.LANCHOR31,. + 0
 7083              	testConfigC.8:
 7084 0000 00       		.space	1
 7085              		.section	.bss.testNumber.14,"aw",%nobits
 7086              		.set	.LANCHOR24,. + 0
 7089              	testNumber.14:
 7090 0000 00       		.space	1
 7091              		.section	.bss.testNumber.29,"aw",%nobits
 7092              		.set	.LANCHOR5,. + 0
 7095              	testNumber.29:
 7096 0000 00       		.space	1
 7097              		.section	.bss.testNumber.9,"aw",%nobits
 7098              		.set	.LANCHOR30,. + 0
 7101              	testNumber.9:
 7102 0000 00       		.space	1
 7103              		.section	.bss.testState.22,"aw",%nobits
 7104              		.align	2
 7105              		.set	.LANCHOR16,. + 0
 7108              	testState.22:
 7109 0000 00000000 		.space	4
 7110              		.section	.bss.testState.4,"aw",%nobits
 7111              		.set	.LANCHOR35,. + 0
 7114              	testState.4:
 7115 0000 00       		.space	1
 7116              		.section	.bss.testStep.27,"aw",%nobits
 7117              		.set	.LANCHOR11,. + 0
 7120              	testStep.27:
 7121 0000 00       		.space	1
 7122              		.section	.bss.testStep.30,"aw",%nobits
 7123              		.set	.LANCHOR4,. + 0
 7126              	testStep.30:
 7127 0000 00       		.space	1
 7128              		.section	.bss.timeout.11,"aw",%nobits
 7129              		.align	2
 7130              		.set	.LANCHOR28,. + 0
 7133              	timeout.11:
 7134 0000 00000000 		.space	4
 7135              		.section	.bss.timeout.5,"aw",%nobits
 7136              		.align	2
 7137              		.set	.LANCHOR34,. + 0
 7140              	timeout.5:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 183


 7141 0000 00000000 		.space	4
 7142              		.section	.data.g_aecq100Start,"aw"
 7143              		.set	.LANCHOR42,. + 0
 7146              	g_aecq100Start:
 7147 0000 01       		.byte	1
 7148              		.section	.data.lastCap.21,"aw"
 7149              		.align	2
 7150              		.set	.LANCHOR17,. + 0
 7153              	lastCap.21:
 7154 0000 00003041 		.word	1093664768
 7155              		.section	.data.minPpm.20,"aw"
 7156              		.align	2
 7157              		.set	.LANCHOR18,. + 0
 7160              	minPpm.20:
 7161 0000 00007A44 		.word	1148846080
 7162              		.section	.data.result.12,"aw"
 7163              		.set	.LANCHOR27,. + 0
 7166              	result.12:
 7167 0000 01       		.byte	1
 7168              		.section	.data.result.6,"aw"
 7169              		.set	.LANCHOR33,. + 0
 7172              	result.6:
 7173 0000 01       		.byte	1
 7174              		.text
 7175              	.Letext0:
 7176              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 7177              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 7178              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 7179              		.file 5 "Core/Inc/main.h"
 7180              		.file 6 "App/Inc/task.h"
 7181              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 7182              		.file 8 "App/Inc/manager.h"
 7183              		.file 9 "Drivers/User_Driver/Inc/soft_i2c.h"
 7184              		.file 10 "Drivers/User_Driver/Inc/rtc_i2c.h"
 7185              		.file 11 "Device/Inc/power.h"
 7186              		.file 12 "Device/Inc/flash.h"
 7187              		.file 13 "App/Inc/calculate.h"
 7188              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 7189              		.file 15 "Device/Inc/temp.h"
 7190              		.file 16 "Device/Inc/current.h"
 7191              		.file 17 "Device/Inc/rtc.h"
 7192              		.file 18 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 184


DEFINED SYMBOLS
                            *ABS*:00000000 task.c
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:20     .text.LedHeart:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:26     .text.LedHeart:00000000 LedHeart
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:71     .text.LedHeart:00000028 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:77     .text.system_time_update:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:83     .text.system_time_update:00000000 system_time_update
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:241    .text.system_time_update:000000a0 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:247    .rodata.system_set_real_time.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:251    .text.system_set_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:257    .text.system_set_real_time:00000000 system_set_real_time
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:326    .text.system_set_real_time:00000044 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:332    .text.system_get_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:338    .text.system_get_real_time:00000000 system_get_real_time
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:382    .text.system_get_real_time:0000001c $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:387    .rodata.command_int_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:407    .text.command_int_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:413    .text.command_int_test:00000000 command_int_test
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:462    .text.command_int_test:00000024 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:468    .text.command_int_test:0000002a $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:777    .text.command_int_test:000001e0 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:797    .text.set_int_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:803    .text.set_int_test:00000000 set_int_test
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:872    .text.set_int_test:00000034 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:879    .rodata.command_cap_list_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:886    .text.command_cap_list_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:892    .text.command_cap_list_test:00000000 command_cap_list_test
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:936    .text.command_cap_list_test:0000001a $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:940    .text.command_cap_list_test:0000001e $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1302   .text.command_cap_list_test:000001d0 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1325   .rodata.rtc_freq_save.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1337   .text.rtc_freq_save:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1343   .text.rtc_freq_save:00000000 rtc_freq_save
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1763   .text.rtc_freq_save:00000264 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1778   .rodata.rtc_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1795   .text.rtc_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1801   .text.rtc_freq_test:00000000 rtc_freq_test
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1853   .text.rtc_freq_test:00000024 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:1859   .text.rtc_freq_test:00000030 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2295   .text.rtc_freq_test:00000304 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2316   .text.rtc_freq_test:0000034c $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2679   .text.rtc_freq_test:00000580 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2699   .rodata.system_machine_test_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2724   .text.system_machine_test_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2730   .text.system_machine_test_one:00000000 system_machine_test_one
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2778   .text.system_machine_test_one:0000001e $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:2790   .text.system_machine_test_one:00000034 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3260   .text.system_machine_test_one:000002e4 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3280   .text.system_machine_test_one:00000328 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3504   .text.system_machine_test_one:0000045c $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3518   .text.make_chip_ID:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3524   .text.make_chip_ID:00000000 make_chip_ID
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3576   .rodata.system_machine_write_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3611   .text.system_machine_write_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3617   .text.system_machine_write_one:00000000 system_machine_write_one
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3679   .text.system_machine_write_one:0000002a $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:3700   .text.system_machine_write_one:00000052 $t
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 185


C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4151   .text.system_machine_write_one:000002d8 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4171   .text.system_machine_write_one:0000031c $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4673   .text.system_machine_write_one:0000060c $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4692   .text.system_machine_write_one:00000650 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4952   .text.system_machine_write_one:000007b4 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4966   .rodata.command_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4986   .text.command_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:4992   .text.command_freq_test:00000000 command_freq_test
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5281   .text.command_freq_test:0000015c $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5299   .rodata.ClearControlMessage.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5303   .text.ClearControlMessage:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5309   .text.ClearControlMessage:00000000 ClearControlMessage
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5378   .text.ClearControlMessage:00000038 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5384   .rodata.Aecq100Sample.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5454   .text.Aecq100Sample:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5460   .text.Aecq100Sample:00000000 Aecq100Sample
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5501   .text.Aecq100Sample:00000020 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5552   .text.Aecq100Sample:00000086 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5957   .text.Aecq100Sample:000002c4 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:5976   .text.Aecq100Sample:00000308 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6447   .text.Aecq100Sample:000005f8 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6472   .text.Aecq100Sample:0000064c $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6661   .text.Aecq100Sample:00000770 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6679   .rodata.system_manage.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6683   .text.system_manage:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6689   .text.system_manage:00000000 system_manage
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6853   .text.system_manage:000000ec $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6904   .bss.Aecq100State:00000000 Aecq100State
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7146   .data.g_aecq100Start:00000000 g_aecq100Start
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6923   .bss.g_intEnd:00000000 g_intEnd
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6929   .bss.g_intStart:00000000 g_intStart
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6935   .bss.g_intState:00000000 g_intState
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6949   .bss.g_machineTest:00000000 g_machineTest
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6942   .bss.g_lastFreq:00000000 g_lastFreq
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6956   .bss.g_realTime:00000000 g_realTime
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6872   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6905   .bss.Aecq100State:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6910   .bss.adjustCount.19:00000000 adjustCount.19
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6911   .bss.adjustCount.19:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6913   .bss.capNumber.26:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6917   .bss.capNumber.26:00000000 capNumber.26
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6924   .bss.g_intEnd:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6930   .bss.g_intStart:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6936   .bss.g_intState:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6938   .bss.g_lastFreq:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6945   .bss.g_machineTest:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6952   .bss.g_realTime:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6959   .bss.lastPPM.23:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6963   .bss.lastPPM.23:00000000 lastPPM.23
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6966   .bss.lastTestTime.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6970   .bss.lastTestTime.0:00000000 lastTestTime.0
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6973   .bss.lastTestTime.18:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6977   .bss.lastTestTime.18:00000000 lastTestTime.18
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6980   .bss.lastTestTime.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6984   .bss.lastTestTime.2:00000000 lastTestTime.2
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6987   .bss.lastTick.24:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6991   .bss.lastTick.24:00000000 lastTick.24
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 186


C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6994   .bss.lastTick.28:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:6998   .bss.lastTick.28:00000000 lastTick.28
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7001   .bss.lastTick.32:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7005   .bss.lastTick.32:00000000 lastTick.32
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7008   .bss.ledTick.33:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7012   .bss.ledTick.33:00000000 ledTick.33
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7015   .bss.minCap.16:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7019   .bss.minCap.16:00000000 minCap.16
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7025   .bss.num.25:00000000 num.25
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7026   .bss.num.25:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7031   .bss.okCount.3:00000000 okCount.3
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7032   .bss.okCount.3:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7037   .bss.responseCount.17:00000000 responseCount.17
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7038   .bss.responseCount.17:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7040   .bss.rtc_result.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7044   .bss.rtc_result.1:00000000 rtc_result.1
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7047   .bss.startTime.13:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7051   .bss.startTime.13:00000000 startTime.13
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7054   .bss.startTime.7:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7058   .bss.startTime.7:00000000 startTime.7
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7064   .bss.state.10:00000000 state.10
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7065   .bss.state.10:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7070   .bss.state.15:00000000 state.15
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7071   .bss.state.15:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7073   .bss.systemTick.31:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7077   .bss.systemTick.31:00000000 systemTick.31
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7083   .bss.testConfigC.8:00000000 testConfigC.8
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7084   .bss.testConfigC.8:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7089   .bss.testNumber.14:00000000 testNumber.14
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7090   .bss.testNumber.14:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7095   .bss.testNumber.29:00000000 testNumber.29
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7096   .bss.testNumber.29:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7101   .bss.testNumber.9:00000000 testNumber.9
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7102   .bss.testNumber.9:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7104   .bss.testState.22:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7108   .bss.testState.22:00000000 testState.22
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7114   .bss.testState.4:00000000 testState.4
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7115   .bss.testState.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7120   .bss.testStep.27:00000000 testStep.27
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7121   .bss.testStep.27:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7126   .bss.testStep.30:00000000 testStep.30
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7127   .bss.testStep.30:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7129   .bss.timeout.11:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7133   .bss.timeout.11:00000000 timeout.11
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7136   .bss.timeout.5:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7140   .bss.timeout.5:00000000 timeout.5
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7149   .data.lastCap.21:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7153   .data.lastCap.21:00000000 lastCap.21
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7156   .data.minPpm.20:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7160   .data.minPpm.20:00000000 minPpm.20
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7166   .data.result.12:00000000 result.12
C:\Users\86158\AppData\Local\Temp\cc7PXljM.s:7172   .data.result.6:00000000 result.6

UNDEFINED SYMBOLS
HAL_GetTick
HAL_GPIO_TogglePin
log_printf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc7PXljM.s 			page 187


__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_d2f
spi_write_multi_bytes
UsbPrintf
rtc_group_power
rtc_set_channel
spi_read_multi_bytes
temp_read_value
DevicePrintf
rtc_set_testcap
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_dadd
flash_read_data
uint8_to_float
wave1006_read_temp_adc
system_get_rtc_temp
g_capAdjust
rtc_init_test_cap
cap_list_to_uint
float_to_uint8
flash_write_data
rtc_set_int_channel
rtc_out_4096
rtc_disable_int
HAL_GPIO_WritePin
HAL_Delay
rtc_read_vbat
rtc_set_bat_charge
rtc_set_testmode
CS1237Current
rtc_read_temp
rtc_download_otp_data
flash_test_data_write_add
ControlPrintf
memcpy
rtc_read_multi_bytes
system_manage_test_mode
