ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"drv_wave1006.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.otp_prg_power_ctrl,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	otp_prg_power_ctrl:
  26              	.LVL0:
  27              	.LFB236:
  28              		.file 1 "Device/Src/drv_wave1006.c"
   1:Device/Src/drv_wave1006.c **** /*
   2:Device/Src/drv_wave1006.c ****  *  drivers  wave1006
   3:Device/Src/drv_wave1006.c ****  * Copyright (C) 2022 shenzhen wave
   4:Device/Src/drv_wave1006.c ****  * version:v1.0.0--2023-2-12
   5:Device/Src/drv_wave1006.c ****  * This program is free software; you can redistribute it and/or modify
   6:Device/Src/drv_wave1006.c ****  *  Driver for wave1006 RTC 
   7:Device/Src/drv_wave1006.c ****  */
   8:Device/Src/drv_wave1006.c **** #include "drv_wave1006.h"
   9:Device/Src/drv_wave1006.c **** #include "rtc_i2c.h"
  10:Device/Src/drv_wave1006.c **** #include "power.h"
  11:Device/Src/drv_wave1006.c **** #include "calculate.h"
  12:Device/Src/drv_wave1006.c **** #include "rtc.h"
  13:Device/Src/drv_wave1006.c **** #include "flash.h"
  14:Device/Src/drv_wave1006.c **** #define BIT(x)  (1 << x)
  15:Device/Src/drv_wave1006.c **** 
  16:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_RESET_SEQ1          0x00
  17:Device/Src/drv_wave1006.c **** /*enable write protect sequence*/
  18:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ1         0x54
  19:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ2         0x28
  20:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ3         0x5C
  21:Device/Src/drv_wave1006.c **** 
  22:Device/Src/drv_wave1006.c **** /*disable write protect sequence*/
  23:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ1        0x70
  24:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ2        0x0C
  25:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ3        0x38
  26:Device/Src/drv_wave1006.c **** 
  27:Device/Src/drv_wave1006.c **** 
  28:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd3068_config;     //otp_config.c中定义的烧写基本结构体
  29:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8825_config;
  30:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8800_config;     
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 2


  31:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8810_config;
  32:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8804_config;
  33:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8931_config;
  34:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8939_config;
  35:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8200_config;
  36:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8840_config;
  37:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8902_config;
  38:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8804_config = {
  39:Device/Src/drv_wave1006.c **** 	0,         		//otp_wp_config
  40:Device/Src/drv_wave1006.c **** 	1,         		//test_wp_config
  41:Device/Src/drv_wave1006.c **** 	DEV_SD8804,		//device_type_config 
  42:Device/Src/drv_wave1006.c **** 	0,         		//hour_12_config          		// no support 12 hour
  43:Device/Src/drv_wave1006.c **** 	1,         		//week_encode_config   	  		//00-06 as sunday-monday
  44:Device/Src/drv_wave1006.c **** 	2,         		//freq_en_config    	    		//use one bit enbale control
  45:Device/Src/drv_wave1006.c **** 	PKG_SD8804,		//package_type_config 注意与PKG_RX8804区别
  46:Device/Src/drv_wave1006.c **** 	1,         		//ae_polarity_config  	 			//1 is alarm enable
  47:Device/Src/drv_wave1006.c **** 	0,         		//week_day_alarm_config 			//both week and day can select alarm
  48:Device/Src/drv_wave1006.c **** 	0,         		//wada_polarity_config  			//if the "week_day_alarm config" as 1,this bit not use
  49:Device/Src/drv_wave1006.c **** 	1,         		//week_alarm_config     			//every bit represent a day
  50:Device/Src/drv_wave1006.c **** 	0x1e,      		//alarm_valid_config    			//second -year can alarm
  51:Device/Src/drv_wave1006.c **** 	2,         		//ae_disable_config     			//when all alarm is disable, alarm is close
  52:Device/Src/drv_wave1006.c **** 	1,         		//timer_freq_source_config		//use 2 bit select timer frequency source 
  53:Device/Src/drv_wave1006.c **** 	1,				 //id_support_config
  54:Device/Src/drv_wave1006.c **** 	1, 				 //timer_pause_support_config	//not support timer pause
  55:Device/Src/drv_wave1006.c ****   	1, 				 //timer_reset_support_config	//not support timer reset
  56:Device/Src/drv_wave1006.c **** 	1,				 //int_out_sel_config					//use INTS1:0 bits select alarm or freq output
  57:Device/Src/drv_wave1006.c ****   	0,				 //int_out_rst_config					//int output high when flag clear or int is disable
  58:Device/Src/drv_wave1006.c ****   	1, 				 //wp_type_config							//use three wp bit
  59:Device/Src/drv_wave1006.c **** 	0, 				 //time_rst_support_config		//not support time power on reset
  60:Device/Src/drv_wave1006.c **** 	0, 				 //group2_alarm_support_config//not support group2 alarm
  61:Device/Src/drv_wave1006.c **** 	0, 				 //reg_addr_reset_config			//read and write stop addr is reset
  62:Device/Src/drv_wave1006.c **** 	1, 				 //time_update_support_config	//not support time update
  63:Device/Src/drv_wave1006.c **** 	112,       		//temp_offset_config  				//温度偏移值
  64:Device/Src/drv_wave1006.c **** 	0,				 //digtal_comp_sel_config			//1:load form otp, 0:load form reg 
  65:Device/Src/drv_wave1006.c **** 	0x32,			 //device_addr_config 
  66:Device/Src/drv_wave1006.c **** 	0,				 //alarm_ext_config						//not support alarm extend
  67:Device/Src/drv_wave1006.c **** 	0,				 //timer_ext_config						//not support timer extend
  68:Device/Src/drv_wave1006.c **** 	1,				 //event_support_config 			//support event extend
  69:Device/Src/drv_wave1006.c **** 	1,				 //pps_support_config					//support 1 pps extend
  70:Device/Src/drv_wave1006.c **** 	1,				 //temp_comp_support_config		//1：支持温补   0：不支持温补
  71:Device/Src/drv_wave1006.c **** 	1,				 //digtal_comp_ext_config	    //support digtal extend,digtal_comp_sel_config must this bit h
  72:Device/Src/drv_wave1006.c **** 	1,				 //ram_ext_config							//not support ram extend
  73:Device/Src/drv_wave1006.c **** 	1,				 //sub_second_ext_config 			//support sub second extend
  74:Device/Src/drv_wave1006.c **** 	0,				 //charge_ext_config					//1:支持扩展充电  0:不支持扩展充电
  75:Device/Src/drv_wave1006.c **** 	0,				 //bat_val_ext_config
  76:Device/Src/drv_wave1006.c **** 	1,				 //rst_out_support_config //检测复位功能总开关
  77:Device/Src/drv_wave1006.c **** 	0,				 //temp_alarm_ext_config
  78:Device/Src/drv_wave1006.c **** 	1,				 //temp_val_ext_config
  79:Device/Src/drv_wave1006.c **** 	5,  			 //rule_temp_adj_config
  80:Device/Src/drv_wave1006.c ****   	3,				 //rule_bat_adj_config
  81:Device/Src/drv_wave1006.c **** 	3,				 //osc_cap_sel_config1        //封装电容选择值2024.03.1
  82:Device/Src/drv_wave1006.c **** 	1,    		 	//adjust_temp_1_3_ppm_config	//3ppm
  83:Device/Src/drv_wave1006.c **** 	1,				 //en_bat_pulldown_config     //有BAT脚的配置为0,没有BAT脚的配置为1通过内部200k下拉到地
  84:Device/Src/drv_wave1006.c **** 	0x19f7,		 	//osc_config_config					//13'b00_010_1001_0111; 
  85:Device/Src/drv_wave1006.c **** 	0,				 //spi_freq_en_config					//not support
  86:Device/Src/drv_wave1006.c **** 	0,				 //vol_sel_config
  87:Device/Src/drv_wave1006.c **** 	1, 				 //freq_src_config						//use 4 bit select frequency
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 3


  88:Device/Src/drv_wave1006.c **** 	0, 				 //k32_support_config					// support 32k alone output
  89:Device/Src/drv_wave1006.c **** 	0,				 //fout_open_drain_config
  90:Device/Src/drv_wave1006.c **** 	0,				 //sout_open_drain_config
  91:Device/Src/drv_wave1006.c **** 	3,				 //comp_period_config
  92:Device/Src/drv_wave1006.c **** 	3,				 //rst_time_config
  93:Device/Src/drv_wave1006.c **** 	0,			 	 //adjust_25_config
  94:Device/Src/drv_wave1006.c **** 	0,				 //spi_mode_config
  95:Device/Src/drv_wave1006.c **** 	0,				 //bus_select_config					//i2c
  96:Device/Src/drv_wave1006.c **** 	0, 				 //en_charge_config						//1:支持充电  0:不支持充电
  97:Device/Src/drv_wave1006.c **** 	0x177f, 	   //osc_start_config	  				//13'b00_010_0001_0011
  98:Device/Src/drv_wave1006.c **** 	3,				 //charge_vol_adj_config
  99:Device/Src/drv_wave1006.c **** 	1,				 //timer_rst_out_config    
 100:Device/Src/drv_wave1006.c **** }; 
 101:Device/Src/drv_wave1006.c **** uint8_t g_dev_id[40];
 102:Device/Src/drv_wave1006.c **** wave1006_temp_arg_t g_temp_arg[420]; //-60~150
 103:Device/Src/drv_wave1006.c **** 
 104:Device/Src/drv_wave1006.c **** 
 105:Device/Src/drv_wave1006.c **** int g_digtal_adj[420] = {0};
 106:Device/Src/drv_wave1006.c **** float g_cap_val[420] = { 0};
 107:Device/Src/drv_wave1006.c **** uint16_t g_offset = 0;
 108:Device/Src/drv_wave1006.c **** uint16_t g_csn = 2401;
 109:Device/Src/drv_wave1006.c **** 
 110:Device/Src/drv_wave1006.c **** 
 111:Device/Src/drv_wave1006.c **** typedef struct  
 112:Device/Src/drv_wave1006.c **** {
 113:Device/Src/drv_wave1006.c **** 	unsigned char device_type;
 114:Device/Src/drv_wave1006.c **** 	wave1006_test_mode_e test_mode;    
 115:Device/Src/drv_wave1006.c **** } wave1006_state_t;    		//测试模式选择
 116:Device/Src/drv_wave1006.c **** 
 117:Device/Src/drv_wave1006.c **** wave1006_state_t g_wave1006_state = {0, WAVE1006_NORMAL_MODE};
 118:Device/Src/drv_wave1006.c **** 
 119:Device/Src/drv_wave1006.c **** 
 120:Device/Src/drv_wave1006.c **** wave1006_exit_code_e get_device_addr(wave1006_dev_e dev, unsigned char *dev_addr)
 121:Device/Src/drv_wave1006.c **** {
 122:Device/Src/drv_wave1006.c **** 	switch (dev)
 123:Device/Src/drv_wave1006.c **** 	{
 124:Device/Src/drv_wave1006.c **** 		case DEV_SD3068:
 125:Device/Src/drv_wave1006.c **** 		case DEV_SD8800:
 126:Device/Src/drv_wave1006.c **** 		case DEV_SD8810:
 127:Device/Src/drv_wave1006.c **** 		case DEV_SD8804:	
 128:Device/Src/drv_wave1006.c **** 			*dev_addr = 0x64;
 129:Device/Src/drv_wave1006.c **** 			break;
 130:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 131:Device/Src/drv_wave1006.c **** 		case DEV_SD8939:
 132:Device/Src/drv_wave1006.c **** 		case DEV_SD8200://BQ32000
 133:Device/Src/drv_wave1006.c **** 			*dev_addr = 0xd0;
 134:Device/Src/drv_wave1006.c **** 			break;
 135:Device/Src/drv_wave1006.c **** 		default:
 136:Device/Src/drv_wave1006.c **** 			return WAVE1006_EXIT_ARG_ERR;
 137:Device/Src/drv_wave1006.c **** 			break;
 138:Device/Src/drv_wave1006.c **** 	}
 139:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 140:Device/Src/drv_wave1006.c **** }
 141:Device/Src/drv_wave1006.c **** 
 142:Device/Src/drv_wave1006.c **** /*
 143:Device/Src/drv_wave1006.c **** *Function: otp_prg_power_ctrl
 144:Device/Src/drv_wave1006.c **** *Description: 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 4


 145:Device/Src/drv_wave1006.c **** *Input: enbale:otp power enable;vol_sel:otp voltage input,0:5V,1:8.5V
 146:Device/Src/drv_wave1006.c **** *Output: 
 147:Device/Src/drv_wave1006.c **** *Return: 
 148:Device/Src/drv_wave1006.c **** *Others:
 149:Device/Src/drv_wave1006.c **** */       //OTP编程电源控制
 150:Device/Src/drv_wave1006.c **** static void otp_prg_power_ctrl(unsigned char enbale)
 151:Device/Src/drv_wave1006.c **** {
  29              		.loc 1 151 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 151 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 152:Device/Src/drv_wave1006.c **** 	if (enbale == 1) {
  39              		.loc 1 152 2 is_stmt 1 view .LVU2
  40              		.loc 1 152 5 is_stmt 0 view .LVU3
  41 0002 0128     		cmp	r0, #1
  42 0004 04D0     		beq	.L5
 153:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
 154:Device/Src/drv_wave1006.c **** 	} else {
 155:Device/Src/drv_wave1006.c **** 		rtc_otp_power(5);  //读otp电压
  43              		.loc 1 155 3 is_stmt 1 view .LVU4
  44 0006 B1EE040A 		vmov.f32	s0, #5.0e+0
  45 000a FFF7FEFF 		bl	rtc_otp_power
  46              	.LVL1:
  47              	.L1:
 156:Device/Src/drv_wave1006.c **** 	}
 157:Device/Src/drv_wave1006.c **** }
  48              		.loc 1 157 1 is_stmt 0 view .LVU5
  49 000e 08BD     		pop	{r3, pc}
  50              	.LVL2:
  51              	.L5:
 153:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  52              		.loc 1 153 3 is_stmt 1 view .LVU6
  53 0010 B2EE010A 		vmov.f32	s0, #8.5e+0
  54 0014 FFF7FEFF 		bl	rtc_otp_power
  55              	.LVL3:
 153:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  56              		.loc 1 153 3 is_stmt 0 view .LVU7
  57 0018 F9E7     		b	.L1
  58              		.cfi_endproc
  59              	.LFE236:
  61              		.section	.text.get_device_addr,"ax",%progbits
  62              		.align	1
  63              		.global	get_device_addr
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	get_device_addr:
  69              	.LVL4:
  70              	.LFB235:
 121:Device/Src/drv_wave1006.c **** 	switch (dev)
  71              		.loc 1 121 1 is_stmt 1 view -0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 5


  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
 122:Device/Src/drv_wave1006.c **** 	{
  76              		.loc 1 122 2 view .LVU9
  77 0000 0828     		cmp	r0, #8
  78 0002 0ED8     		bhi	.L11
  79 0004 DFE800F0 		tbb	[pc, r0]
  80              	.L9:
  81 0008 05       		.byte	(.L10-.L9)/2
  82 0009 0D       		.byte	(.L11-.L9)/2
  83 000a 05       		.byte	(.L10-.L9)/2
  84 000b 05       		.byte	(.L10-.L9)/2
  85 000c 05       		.byte	(.L10-.L9)/2
  86 000d 09       		.byte	(.L8-.L9)/2
  87 000e 09       		.byte	(.L8-.L9)/2
  88 000f 0D       		.byte	(.L11-.L9)/2
  89 0010 09       		.byte	(.L8-.L9)/2
  90 0011 00       		.p2align 1
  91              	.L10:
 128:Device/Src/drv_wave1006.c **** 			break;
  92              		.loc 1 128 4 view .LVU10
 128:Device/Src/drv_wave1006.c **** 			break;
  93              		.loc 1 128 14 is_stmt 0 view .LVU11
  94 0012 6423     		movs	r3, #100
  95 0014 0B70     		strb	r3, [r1]
 129:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
  96              		.loc 1 129 4 is_stmt 1 view .LVU12
 139:Device/Src/drv_wave1006.c **** }
  97              		.loc 1 139 9 is_stmt 0 view .LVU13
  98 0016 0020     		movs	r0, #0
  99              	.LVL5:
 129:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 100              		.loc 1 129 4 view .LVU14
 101 0018 7047     		bx	lr
 102              	.LVL6:
 103              	.L8:
 133:Device/Src/drv_wave1006.c **** 			break;
 104              		.loc 1 133 4 is_stmt 1 view .LVU15
 133:Device/Src/drv_wave1006.c **** 			break;
 105              		.loc 1 133 14 is_stmt 0 view .LVU16
 106 001a D023     		movs	r3, #208
 107 001c 0B70     		strb	r3, [r1]
 134:Device/Src/drv_wave1006.c **** 		default:
 108              		.loc 1 134 4 is_stmt 1 view .LVU17
 139:Device/Src/drv_wave1006.c **** }
 109              		.loc 1 139 9 is_stmt 0 view .LVU18
 110 001e 0020     		movs	r0, #0
 111              	.LVL7:
 134:Device/Src/drv_wave1006.c **** 		default:
 112              		.loc 1 134 4 view .LVU19
 113 0020 7047     		bx	lr
 114              	.LVL8:
 115              	.L11:
 122:Device/Src/drv_wave1006.c **** 	{
 116              		.loc 1 122 2 view .LVU20
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 6


 117 0022 6FF00100 		mvn	r0, #1
 118              	.LVL9:
 140:Device/Src/drv_wave1006.c **** 
 119              		.loc 1 140 1 view .LVU21
 120 0026 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE235:
 124              		.section	.text.drv_wave1006_read_reg,"ax",%progbits
 125              		.align	1
 126              		.global	drv_wave1006_read_reg
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	drv_wave1006_read_reg:
 132              	.LVL10:
 133              	.LFB238:
 158:Device/Src/drv_wave1006.c **** /*Function: wave1006_write_enable_seq
 159:Device/Src/drv_wave1006.c **** *Description: 
 160:Device/Src/drv_wave1006.c **** *Input:
 161:Device/Src/drv_wave1006.c **** *Output: 
 162:Device/Src/drv_wave1006.c **** *Return: 
 163:Device/Src/drv_wave1006.c **** *Others:
 164:Device/Src/drv_wave1006.c **** */
 165:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_enable_seq(wave1006_dev_e dev)
 166:Device/Src/drv_wave1006.c **** {
 167:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 168:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 169:Device/Src/drv_wave1006.c **** 	
 170:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(dev, WAVE1006_REG_CTR1, 2,  buf);
 171:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 172:Device/Src/drv_wave1006.c **** 		return ret;
 173:Device/Src/drv_wave1006.c **** 
 174:Device/Src/drv_wave1006.c **** 	buf[1] |=  BIT(7);
 175:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 176:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 177:Device/Src/drv_wave1006.c **** 		return ret;
 178:Device/Src/drv_wave1006.c **** 
 179:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(2);
 180:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 181:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 182:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 183:Device/Src/drv_wave1006.c **** 		return ret;
 184:Device/Src/drv_wave1006.c **** 	
 185:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 186:Device/Src/drv_wave1006.c **** }
 187:Device/Src/drv_wave1006.c **** 
 188:Device/Src/drv_wave1006.c **** /**
 189:Device/Src/drv_wave1006.c ****  * @brief wave1006 read reg
 190:Device/Src/drv_wave1006.c ****  * 
 191:Device/Src/drv_wave1006.c ****  */
 192:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_read_reg(wave1006_dev_e dev, unsigned char reg, unsigned char len
 193:Device/Src/drv_wave1006.c **** {
 134              		.loc 1 193 1 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 8
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		.loc 1 193 1 is_stmt 0 view .LVU23
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 7


 139 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 140              	.LCFI1:
 141              		.cfi_def_cfa_offset 20
 142              		.cfi_offset 4, -20
 143              		.cfi_offset 5, -16
 144              		.cfi_offset 6, -12
 145              		.cfi_offset 7, -8
 146              		.cfi_offset 14, -4
 147 0002 83B0     		sub	sp, sp, #12
 148              	.LCFI2:
 149              		.cfi_def_cfa_offset 32
 150 0004 0C46     		mov	r4, r1
 151 0006 1646     		mov	r6, r2
 152 0008 1D46     		mov	r5, r3
 194:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 153              		.loc 1 194 2 is_stmt 1 view .LVU24
 195:Device/Src/drv_wave1006.c **** 
 196:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) {
 154              		.loc 1 196 2 view .LVU25
 155              		.loc 1 196 6 is_stmt 0 view .LVU26
 156 000a 0DF10701 		add	r1, sp, #7
 157              	.LVL11:
 158              		.loc 1 196 6 view .LVU27
 159 000e FFF7FEFF 		bl	get_device_addr
 160              	.LVL12:
 161              		.loc 1 196 5 view .LVU28
 162 0012 58B9     		cbnz	r0, .L14
 163 0014 0746     		mov	r7, r0
 197:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 198:Device/Src/drv_wave1006.c **** 	} 
 199:Device/Src/drv_wave1006.c **** 	if (rtc_read_multi_bytes(dev_addr, reg, buf, length) != I2C_OK) {
 164              		.loc 1 199 2 is_stmt 1 view .LVU29
 165              		.loc 1 199 6 is_stmt 0 view .LVU30
 166 0016 3346     		mov	r3, r6
 167 0018 2A46     		mov	r2, r5
 168 001a 2146     		mov	r1, r4
 169 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 170 0020 FFF7FEFF 		bl	rtc_read_multi_bytes
 171              	.LVL13:
 172              		.loc 1 199 5 view .LVU31
 173 0024 28B9     		cbnz	r0, .L17
 174              	.L13:
 200:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 201:Device/Src/drv_wave1006.c **** 	}
 202:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 203:Device/Src/drv_wave1006.c **** } 
 175              		.loc 1 203 1 view .LVU32
 176 0026 3846     		mov	r0, r7
 177 0028 03B0     		add	sp, sp, #12
 178              	.LCFI3:
 179              		.cfi_remember_state
 180              		.cfi_def_cfa_offset 20
 181              		@ sp needed
 182 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 183              	.LVL14:
 184              	.L14:
 185              	.LCFI4:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 8


 186              		.cfi_restore_state
 197:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 187              		.loc 1 197 10 view .LVU33
 188 002c 6FF00107 		mvn	r7, #1
 189 0030 F9E7     		b	.L13
 190              	.L17:
 200:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 191              		.loc 1 200 10 view .LVU34
 192 0032 4FF0FF37 		mov	r7, #-1
 193 0036 F6E7     		b	.L13
 194              		.cfi_endproc
 195              	.LFE238:
 197              		.section	.text.drv_wave1006_write_reg,"ax",%progbits
 198              		.align	1
 199              		.global	drv_wave1006_write_reg
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 204              	drv_wave1006_write_reg:
 205              	.LVL15:
 206              	.LFB239:
 204:Device/Src/drv_wave1006.c **** 
 205:Device/Src/drv_wave1006.c **** /**
 206:Device/Src/drv_wave1006.c ****  * @brief wave1006 write register
 207:Device/Src/drv_wave1006.c ****  * 
 208:Device/Src/drv_wave1006.c ****  */
 209:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_write_reg(wave1006_dev_e dev, unsigned char reg, unsigned char le
 210:Device/Src/drv_wave1006.c **** {
 207              		.loc 1 210 1 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 8
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		.loc 1 210 1 is_stmt 0 view .LVU36
 212 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 213              	.LCFI5:
 214              		.cfi_def_cfa_offset 20
 215              		.cfi_offset 4, -20
 216              		.cfi_offset 5, -16
 217              		.cfi_offset 6, -12
 218              		.cfi_offset 7, -8
 219              		.cfi_offset 14, -4
 220 0002 83B0     		sub	sp, sp, #12
 221              	.LCFI6:
 222              		.cfi_def_cfa_offset 32
 223 0004 0C46     		mov	r4, r1
 224 0006 1646     		mov	r6, r2
 225 0008 1D46     		mov	r5, r3
 211:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 226              		.loc 1 211 2 is_stmt 1 view .LVU37
 212:Device/Src/drv_wave1006.c **** 
 213:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) 
 227              		.loc 1 213 2 view .LVU38
 228              		.loc 1 213 6 is_stmt 0 view .LVU39
 229 000a 0DF10701 		add	r1, sp, #7
 230              	.LVL16:
 231              		.loc 1 213 6 view .LVU40
 232 000e FFF7FEFF 		bl	get_device_addr
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 9


 233              	.LVL17:
 234              		.loc 1 213 5 view .LVU41
 235 0012 58B9     		cbnz	r0, .L20
 236 0014 0746     		mov	r7, r0
 214:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 215:Device/Src/drv_wave1006.c **** 	if (rtc_write_multi_bytes(dev_addr, reg, buf, length) != I2C_OK)
 237              		.loc 1 215 2 is_stmt 1 view .LVU42
 238              		.loc 1 215 6 is_stmt 0 view .LVU43
 239 0016 3346     		mov	r3, r6
 240 0018 2A46     		mov	r2, r5
 241 001a 2146     		mov	r1, r4
 242 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 243 0020 FFF7FEFF 		bl	rtc_write_multi_bytes
 244              	.LVL18:
 245              		.loc 1 215 5 view .LVU44
 246 0024 28B9     		cbnz	r0, .L23
 247              	.L19:
 216:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 217:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 218:Device/Src/drv_wave1006.c **** }
 248              		.loc 1 218 1 view .LVU45
 249 0026 3846     		mov	r0, r7
 250 0028 03B0     		add	sp, sp, #12
 251              	.LCFI7:
 252              		.cfi_remember_state
 253              		.cfi_def_cfa_offset 20
 254              		@ sp needed
 255 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 256              	.LVL19:
 257              	.L20:
 258              	.LCFI8:
 259              		.cfi_restore_state
 214:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 260              		.loc 1 214 10 view .LVU46
 261 002c 6FF00107 		mvn	r7, #1
 262 0030 F9E7     		b	.L19
 263              	.L23:
 216:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 264              		.loc 1 216 10 view .LVU47
 265 0032 4FF0FF37 		mov	r7, #-1
 266 0036 F6E7     		b	.L19
 267              		.cfi_endproc
 268              	.LFE239:
 270              		.section	.text.wave1006_write_enable_seq,"ax",%progbits
 271              		.align	1
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 276              	wave1006_write_enable_seq:
 277              	.LVL20:
 278              	.LFB237:
 166:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 279              		.loc 1 166 1 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 8
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 166:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 10


 283              		.loc 1 166 1 is_stmt 0 view .LVU49
 284 0000 10B5     		push	{r4, lr}
 285              	.LCFI9:
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 4, -8
 288              		.cfi_offset 14, -4
 289 0002 82B0     		sub	sp, sp, #8
 290              	.LCFI10:
 291              		.cfi_def_cfa_offset 16
 292 0004 0446     		mov	r4, r0
 167:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 293              		.loc 1 167 2 is_stmt 1 view .LVU50
 168:Device/Src/drv_wave1006.c **** 	
 294              		.loc 1 168 2 view .LVU51
 170:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 295              		.loc 1 170 2 view .LVU52
 170:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 296              		.loc 1 170 8 is_stmt 0 view .LVU53
 297 0006 01AB     		add	r3, sp, #4
 298 0008 0222     		movs	r2, #2
 299 000a 0F21     		movs	r1, #15
 300 000c FFF7FEFF 		bl	drv_wave1006_read_reg
 301              	.LVL21:
 171:Device/Src/drv_wave1006.c **** 		return ret;
 302              		.loc 1 171 2 is_stmt 1 view .LVU54
 171:Device/Src/drv_wave1006.c **** 		return ret;
 303              		.loc 1 171 5 is_stmt 0 view .LVU55
 304 0010 0346     		mov	r3, r0
 305 0012 10B1     		cbz	r0, .L27
 306              	.LVL22:
 307              	.L25:
 186:Device/Src/drv_wave1006.c **** 
 308              		.loc 1 186 1 view .LVU56
 309 0014 1846     		mov	r0, r3
 310 0016 02B0     		add	sp, sp, #8
 311              	.LCFI11:
 312              		.cfi_remember_state
 313              		.cfi_def_cfa_offset 8
 314              		@ sp needed
 315 0018 10BD     		pop	{r4, pc}
 316              	.LVL23:
 317              	.L27:
 318              	.LCFI12:
 319              		.cfi_restore_state
 174:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 320              		.loc 1 174 2 is_stmt 1 view .LVU57
 174:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 321              		.loc 1 174 9 is_stmt 0 view .LVU58
 322 001a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 323 001e 63F07F03 		orn	r3, r3, #127
 324 0022 8DF80530 		strb	r3, [sp, #5]
 175:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 325              		.loc 1 175 2 is_stmt 1 view .LVU59
 175:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 326              		.loc 1 175 8 is_stmt 0 view .LVU60
 327 0026 0DF10503 		add	r3, sp, #5
 328 002a 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 11


 329 002c 1021     		movs	r1, #16
 330 002e 2046     		mov	r0, r4
 331              	.LVL24:
 175:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 332              		.loc 1 175 8 view .LVU61
 333 0030 FFF7FEFF 		bl	drv_wave1006_write_reg
 334              	.LVL25:
 176:Device/Src/drv_wave1006.c **** 		return ret;
 335              		.loc 1 176 2 is_stmt 1 view .LVU62
 176:Device/Src/drv_wave1006.c **** 		return ret;
 336              		.loc 1 176 5 is_stmt 0 view .LVU63
 337 0034 0346     		mov	r3, r0
 338 0036 0028     		cmp	r0, #0
 339 0038 ECD1     		bne	.L25
 179:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 340              		.loc 1 179 2 is_stmt 1 view .LVU64
 179:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 341              		.loc 1 179 9 is_stmt 0 view .LVU65
 342 003a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 343 003e 43F00403 		orr	r3, r3, #4
 344 0042 8DF80430 		strb	r3, [sp, #4]
 180:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 345              		.loc 1 180 2 is_stmt 1 view .LVU66
 180:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 346              		.loc 1 180 9 is_stmt 0 view .LVU67
 347 0046 63F07F03 		orn	r3, r3, #127
 348 004a 8DF80430 		strb	r3, [sp, #4]
 181:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 349              		.loc 1 181 2 is_stmt 1 view .LVU68
 181:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 350              		.loc 1 181 8 is_stmt 0 view .LVU69
 351 004e 01AB     		add	r3, sp, #4
 352 0050 0122     		movs	r2, #1
 353 0052 0F21     		movs	r1, #15
 354 0054 2046     		mov	r0, r4
 355              	.LVL26:
 181:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 356              		.loc 1 181 8 view .LVU70
 357 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 358              	.LVL27:
 359 005a 0346     		mov	r3, r0
 360              	.LVL28:
 182:Device/Src/drv_wave1006.c **** 		return ret;
 361              		.loc 1 182 2 is_stmt 1 view .LVU71
 362 005c DAE7     		b	.L25
 363              		.cfi_endproc
 364              	.LFE237:
 366              		.section	.text.wave1006_write_otp_single,"ax",%progbits
 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 372              	wave1006_write_otp_single:
 373              	.LVL29:
 374              	.LFB245:
 219:Device/Src/drv_wave1006.c **** 
 220:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 12


 221:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_enter_test_mode(wave1006_test_mode_e mode)     //烧写1006时使用
 222:Device/Src/drv_wave1006.c **** {
 223:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 224:Device/Src/drv_wave1006.c **** 
 225:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 226:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 227:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 228:Device/Src/drv_wave1006.c **** 	{
 229:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 230:Device/Src/drv_wave1006.c **** 	}
 231:Device/Src/drv_wave1006.c **** 
 232:Device/Src/drv_wave1006.c **** 	/*2.set test mode*/
 233:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 234:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 235:Device/Src/drv_wave1006.c **** 	{
 236:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 237:Device/Src/drv_wave1006.c **** 	}
 238:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 239:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 240:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 241:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 242:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 243:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 244:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 245:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 246:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 247:Device/Src/drv_wave1006.c **** 	{
 248:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 249:Device/Src/drv_wave1006.c **** 	}
 250:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 251:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 252:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 253:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 254:Device/Src/drv_wave1006.c **** 
 255:Device/Src/drv_wave1006.c **** 	// if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, buf) != WAVE1006_EXIT_OK)
 256:Device/Src/drv_wave1006.c **** 	// {
 257:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_ARG_ERR;
 258:Device/Src/drv_wave1006.c **** 	// }
 259:Device/Src/drv_wave1006.c **** 
 260:Device/Src/drv_wave1006.c **** 	// if((buf[0] & BIT(3)) != 0)
 261:Device/Src/drv_wave1006.c **** 	// {
 262:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode success!\r\n");
 263:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_OK;
 264:Device/Src/drv_wave1006.c **** 	// }
 265:Device/Src/drv_wave1006.c **** 	// else
 266:Device/Src/drv_wave1006.c **** 	// {
 267:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode faild!\r\n");
 268:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_FAIL;
 269:Device/Src/drv_wave1006.c **** 	// }
 270:Device/Src/drv_wave1006.c **** }
 271:Device/Src/drv_wave1006.c **** 
 272:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_enter_test_mode(wave1006_test_mode_e mode)
 273:Device/Src/drv_wave1006.c **** {
 274:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 275:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 276:Device/Src/drv_wave1006.c **** 
 277:Device/Src/drv_wave1006.c **** 	wave1006_write_enable_seq(DEV_SD3068);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 13


 278:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 279:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 280:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 281:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 282:Device/Src/drv_wave1006.c **** 		return ret;
 283:Device/Src/drv_wave1006.c **** 	
 284:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 285:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 286:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 287:Device/Src/drv_wave1006.c **** 		return ret;
 288:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 289:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 290:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 291:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 292:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 293:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 294:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 295:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 296:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 297:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 298:Device/Src/drv_wave1006.c **** 		return ret;
 299:Device/Src/drv_wave1006.c **** 	/*wait 40ms*/
 300:Device/Src/drv_wave1006.c **** //	HAL_Delay((40);
 301:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 302:Device/Src/drv_wave1006.c **** 	HAL_Delay(1000);
 303:Device/Src/drv_wave1006.c **** 	
 304:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, buf);
 305:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 306:Device/Src/drv_wave1006.c **** 		return ret;
 307:Device/Src/drv_wave1006.c **** 	if((buf[0] & BIT(3)) != 0)
 308:Device/Src/drv_wave1006.c **** 	{
 309:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode success!\r\n");
 310:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 311:Device/Src/drv_wave1006.c **** 	}
 312:Device/Src/drv_wave1006.c **** 	else
 313:Device/Src/drv_wave1006.c **** 	{
 314:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode faild!\r\n");
 315:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 316:Device/Src/drv_wave1006.c **** 	}
 317:Device/Src/drv_wave1006.c **** //	g_wave1006_state.test_mode = mode;
 318:Device/Src/drv_wave1006.c **** }
 319:Device/Src/drv_wave1006.c **** 
 320:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_get_test_flag(void)
 321:Device/Src/drv_wave1006.c **** {
 322:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 323:Device/Src/drv_wave1006.c **** 	
 324:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 325:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 326:Device/Src/drv_wave1006.c **** 	}
 327:Device/Src/drv_wave1006.c **** 	
 328:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 329:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 330:Device/Src/drv_wave1006.c **** 	} else {
 331:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 332:Device/Src/drv_wave1006.c **** 	}
 333:Device/Src/drv_wave1006.c **** }
 334:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 14


 335:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_get_test_flag(void)
 336:Device/Src/drv_wave1006.c **** {
 337:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 338:Device/Src/drv_wave1006.c **** 	
 339:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 340:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 341:Device/Src/drv_wave1006.c **** 	}
 342:Device/Src/drv_wave1006.c **** 	
 343:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 344:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 345:Device/Src/drv_wave1006.c **** 	} else {
 346:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 347:Device/Src/drv_wave1006.c **** 	}
 348:Device/Src/drv_wave1006.c **** }
 349:Device/Src/drv_wave1006.c **** 
 350:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_osc_config_set(wave1006_osc_config_t *config)
 351:Device/Src/drv_wave1006.c **** {
 352:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 353:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 354:Device/Src/drv_wave1006.c **** 
 355:Device/Src/drv_wave1006.c **** 	/*RAM24:osc_config[7:0]; RAM25[4:0]:osc_config[12:8]*/
 356:Device/Src/drv_wave1006.c **** 	buf[0] = ((config->osc_vref_adj & 0x01)<< 7) | (config->vol_cure_adj << 5) | (config->osc_res_adju
 357:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 358:Device/Src/drv_wave1006.c **** 	
 359:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 23, 2, &buf[0]);
 360:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 361:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 362:Device/Src/drv_wave1006.c **** //	if ((g_wave1006_state.test_mode & WAVE1006_TEST_OSC) != WAVE1006_TEST_OSC)
 363:Device/Src/drv_wave1006.c **** //	{
 364:Device/Src/drv_wave1006.c **** //		ret = wave1006_enter_test_mode(g_wave1006_state.test_mode | WAVE1006_TEST_OSC);
 365:Device/Src/drv_wave1006.c **** //		if (ret != WAVE1006_EXIT_OK)
 366:Device/Src/drv_wave1006.c **** //			return ret;
 367:Device/Src/drv_wave1006.c **** //		g_wave1006_state.test_mode |= WAVE1006_TEST_OSC;
 368:Device/Src/drv_wave1006.c **** //	}
 369:Device/Src/drv_wave1006.c **** 	if (wave1006_enter_test_mode(WAVE1006_TEST_OSC) != WAVE1006_EXIT_OK) {
 370:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 371:Device/Src/drv_wave1006.c **** 	}
 372:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 373:Device/Src/drv_wave1006.c **** }
 374:Device/Src/drv_wave1006.c **** 
 375:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_otp_single(unsigned short addr, unsigned short Data)
 376:Device/Src/drv_wave1006.c **** {
 375              		.loc 1 376 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 8
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379              		.loc 1 376 1 is_stmt 0 view .LVU73
 380 0000 00B5     		push	{lr}
 381              	.LCFI13:
 382              		.cfi_def_cfa_offset 4
 383              		.cfi_offset 14, -4
 384 0002 83B0     		sub	sp, sp, #12
 385              	.LCFI14:
 386              		.cfi_def_cfa_offset 16
 377:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 387              		.loc 1 377 2 is_stmt 1 view .LVU74
 378:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 15


 388              		.loc 1 378 2 view .LVU75
 379:Device/Src/drv_wave1006.c **** 
 380:Device/Src/drv_wave1006.c **** 	//set addr
 381:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 389              		.loc 1 381 2 view .LVU76
 390              		.loc 1 381 9 is_stmt 0 view .LVU77
 391 0004 8DF80400 		strb	r0, [sp, #4]
 382:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 392              		.loc 1 382 2 is_stmt 1 view .LVU78
 393              		.loc 1 382 23 is_stmt 0 view .LVU79
 394 0008 C0F30120 		ubfx	r0, r0, #8, #2
 395              	.LVL30:
 396              		.loc 1 382 9 view .LVU80
 397 000c 8DF80500 		strb	r0, [sp, #5]
 383:Device/Src/drv_wave1006.c **** 	//set Data
 384:Device/Src/drv_wave1006.c **** 	buf[2] = Data & 0xff;
 398              		.loc 1 384 2 is_stmt 1 view .LVU81
 399              		.loc 1 384 9 is_stmt 0 view .LVU82
 400 0010 8DF80610 		strb	r1, [sp, #6]
 385:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 401              		.loc 1 385 2 is_stmt 1 view .LVU83
 402              		.loc 1 385 23 is_stmt 0 view .LVU84
 403 0014 C1F30521 		ubfx	r1, r1, #8, #6
 404              	.LVL31:
 405              		.loc 1 385 9 view .LVU85
 406 0018 8DF80710 		strb	r1, [sp, #7]
 386:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 407              		.loc 1 386 3 is_stmt 1 view .LVU86
 408              		.loc 1 386 9 is_stmt 0 view .LVU87
 409 001c 01AB     		add	r3, sp, #4
 410 001e 0422     		movs	r2, #4
 411 0020 2E21     		movs	r1, #46
 412 0022 0020     		movs	r0, #0
 413 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 414              	.LVL32:
 387:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 415              		.loc 1 387 3 is_stmt 1 view .LVU88
 416              		.loc 1 387 6 is_stmt 0 view .LVU89
 417 0028 0346     		mov	r3, r0
 418 002a 18B1     		cbz	r0, .L31
 419              	.LVL33:
 420              	.L29:
 388:Device/Src/drv_wave1006.c **** 			return ret;
 389:Device/Src/drv_wave1006.c **** 	//pwe=1
 390:Device/Src/drv_wave1006.c **** 	buf[0] = 0xb2;
 391:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 392:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 393:Device/Src/drv_wave1006.c **** 			return ret;
 394:Device/Src/drv_wave1006.c **** 		//delay 100us
 395:Device/Src/drv_wave1006.c **** 	//pwe=0
 396:Device/Src/drv_wave1006.c **** 	buf[0] = 0xa2;
 397:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 398:Device/Src/drv_wave1006.c **** 	return ret;
 399:Device/Src/drv_wave1006.c **** }
 421              		.loc 1 399 1 view .LVU90
 422 002c 1846     		mov	r0, r3
 423 002e 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 16


 424              	.LCFI15:
 425              		.cfi_remember_state
 426              		.cfi_def_cfa_offset 4
 427              		@ sp needed
 428 0030 5DF804FB 		ldr	pc, [sp], #4
 429              	.LVL34:
 430              	.L31:
 431              	.LCFI16:
 432              		.cfi_restore_state
 390:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 433              		.loc 1 390 2 is_stmt 1 view .LVU91
 390:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 434              		.loc 1 390 9 is_stmt 0 view .LVU92
 435 0034 B223     		movs	r3, #178
 436 0036 8DF80430 		strb	r3, [sp, #4]
 391:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 437              		.loc 1 391 3 is_stmt 1 view .LVU93
 391:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 438              		.loc 1 391 9 is_stmt 0 view .LVU94
 439 003a 01AB     		add	r3, sp, #4
 440 003c 0122     		movs	r2, #1
 441 003e 2D21     		movs	r1, #45
 442 0040 FFF7FEFF 		bl	drv_wave1006_write_reg
 443              	.LVL35:
 392:Device/Src/drv_wave1006.c **** 			return ret;
 444              		.loc 1 392 3 is_stmt 1 view .LVU95
 392:Device/Src/drv_wave1006.c **** 			return ret;
 445              		.loc 1 392 6 is_stmt 0 view .LVU96
 446 0044 0346     		mov	r3, r0
 447 0046 0028     		cmp	r0, #0
 448 0048 F0D1     		bne	.L29
 396:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 449              		.loc 1 396 2 is_stmt 1 view .LVU97
 396:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 450              		.loc 1 396 9 is_stmt 0 view .LVU98
 451 004a A223     		movs	r3, #162
 452 004c 8DF80430 		strb	r3, [sp, #4]
 397:Device/Src/drv_wave1006.c **** 	return ret;
 453              		.loc 1 397 2 is_stmt 1 view .LVU99
 397:Device/Src/drv_wave1006.c **** 	return ret;
 454              		.loc 1 397 8 is_stmt 0 view .LVU100
 455 0050 01AB     		add	r3, sp, #4
 456 0052 0122     		movs	r2, #1
 457 0054 2D21     		movs	r1, #45
 458 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 459              	.LVL36:
 397:Device/Src/drv_wave1006.c **** 	return ret;
 460              		.loc 1 397 8 view .LVU101
 461 005a 0346     		mov	r3, r0
 462              	.LVL37:
 398:Device/Src/drv_wave1006.c **** }
 463              		.loc 1 398 2 is_stmt 1 view .LVU102
 398:Device/Src/drv_wave1006.c **** }
 464              		.loc 1 398 9 is_stmt 0 view .LVU103
 465 005c E6E7     		b	.L29
 466              		.cfi_endproc
 467              	.LFE245:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 17


 469              		.section	.text.wave1006_read_otp_single,"ax",%progbits
 470              		.align	1
 471              		.syntax unified
 472              		.thumb
 473              		.thumb_func
 475              	wave1006_read_otp_single:
 476              	.LVL38:
 477              	.LFB246:
 400:Device/Src/drv_wave1006.c **** 
 401:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_read_otp_single(unsigned short addr, unsigned short *Data)
 402:Device/Src/drv_wave1006.c **** {
 478              		.loc 1 402 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 8
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		.loc 1 402 1 is_stmt 0 view .LVU105
 483 0000 10B5     		push	{r4, lr}
 484              	.LCFI17:
 485              		.cfi_def_cfa_offset 8
 486              		.cfi_offset 4, -8
 487              		.cfi_offset 14, -4
 488 0002 82B0     		sub	sp, sp, #8
 489              	.LCFI18:
 490              		.cfi_def_cfa_offset 16
 491 0004 0C46     		mov	r4, r1
 403:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 492              		.loc 1 403 2 is_stmt 1 view .LVU106
 404:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 493              		.loc 1 404 2 view .LVU107
 405:Device/Src/drv_wave1006.c **** 
 406:Device/Src/drv_wave1006.c **** 	/*set addr*/
 407:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 494              		.loc 1 407 2 view .LVU108
 495              		.loc 1 407 9 is_stmt 0 view .LVU109
 496 0006 8DF80400 		strb	r0, [sp, #4]
 408:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 497              		.loc 1 408 2 is_stmt 1 view .LVU110
 498              		.loc 1 408 23 is_stmt 0 view .LVU111
 499 000a C0F30120 		ubfx	r0, r0, #8, #2
 500              	.LVL39:
 501              		.loc 1 408 9 view .LVU112
 502 000e 8DF80500 		strb	r0, [sp, #5]
 409:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 2, &buf[0]);
 503              		.loc 1 409 2 is_stmt 1 view .LVU113
 504              		.loc 1 409 8 is_stmt 0 view .LVU114
 505 0012 01AB     		add	r3, sp, #4
 506 0014 0222     		movs	r2, #2
 507 0016 2E21     		movs	r1, #46
 508              	.LVL40:
 509              		.loc 1 409 8 view .LVU115
 510 0018 0020     		movs	r0, #0
 511 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 512              	.LVL41:
 410:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 513              		.loc 1 410 2 is_stmt 1 view .LVU116
 514              		.loc 1 410 5 is_stmt 0 view .LVU117
 515 001e 0346     		mov	r3, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 18


 516 0020 10B1     		cbz	r0, .L35
 517              	.LVL42:
 518              	.L33:
 411:Device/Src/drv_wave1006.c **** 		return ret;
 412:Device/Src/drv_wave1006.c **** 	/*prd=1*/
 413:Device/Src/drv_wave1006.c **** 	buf[0] = 0xc0;
 414:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 415:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 416:Device/Src/drv_wave1006.c **** 		return ret;
 417:Device/Src/drv_wave1006.c **** 	/*prd=0*/
 418:Device/Src/drv_wave1006.c **** 	buf[0] = 0x80;
 419:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 420:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 421:Device/Src/drv_wave1006.c **** 		return ret;
 422:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 4, 2, buf);
 423:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 424:Device/Src/drv_wave1006.c **** 	return ret;
 425:Device/Src/drv_wave1006.c **** }
 519              		.loc 1 425 1 view .LVU118
 520 0022 1846     		mov	r0, r3
 521 0024 02B0     		add	sp, sp, #8
 522              	.LCFI19:
 523              		.cfi_remember_state
 524              		.cfi_def_cfa_offset 8
 525              		@ sp needed
 526 0026 10BD     		pop	{r4, pc}
 527              	.LVL43:
 528              	.L35:
 529              	.LCFI20:
 530              		.cfi_restore_state
 413:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 531              		.loc 1 413 2 is_stmt 1 view .LVU119
 413:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 532              		.loc 1 413 9 is_stmt 0 view .LVU120
 533 0028 C023     		movs	r3, #192
 534 002a 8DF80430 		strb	r3, [sp, #4]
 414:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 535              		.loc 1 414 2 is_stmt 1 view .LVU121
 414:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 536              		.loc 1 414 8 is_stmt 0 view .LVU122
 537 002e 01AB     		add	r3, sp, #4
 538 0030 0122     		movs	r2, #1
 539 0032 2D21     		movs	r1, #45
 540 0034 FFF7FEFF 		bl	drv_wave1006_write_reg
 541              	.LVL44:
 415:Device/Src/drv_wave1006.c **** 		return ret;
 542              		.loc 1 415 2 is_stmt 1 view .LVU123
 415:Device/Src/drv_wave1006.c **** 		return ret;
 543              		.loc 1 415 5 is_stmt 0 view .LVU124
 544 0038 0346     		mov	r3, r0
 545 003a 0028     		cmp	r0, #0
 546 003c F1D1     		bne	.L33
 418:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 547              		.loc 1 418 2 is_stmt 1 view .LVU125
 418:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 548              		.loc 1 418 9 is_stmt 0 view .LVU126
 549 003e 8023     		movs	r3, #128
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 19


 550 0040 8DF80430 		strb	r3, [sp, #4]
 419:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 551              		.loc 1 419 2 is_stmt 1 view .LVU127
 419:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 552              		.loc 1 419 8 is_stmt 0 view .LVU128
 553 0044 01AB     		add	r3, sp, #4
 554 0046 0122     		movs	r2, #1
 555 0048 2D21     		movs	r1, #45
 556 004a FFF7FEFF 		bl	drv_wave1006_write_reg
 557              	.LVL45:
 420:Device/Src/drv_wave1006.c **** 		return ret;
 558              		.loc 1 420 2 is_stmt 1 view .LVU129
 420:Device/Src/drv_wave1006.c **** 		return ret;
 559              		.loc 1 420 5 is_stmt 0 view .LVU130
 560 004e 0346     		mov	r3, r0
 561 0050 0028     		cmp	r0, #0
 562 0052 E6D1     		bne	.L33
 422:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 563              		.loc 1 422 2 is_stmt 1 view .LVU131
 422:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 564              		.loc 1 422 8 is_stmt 0 view .LVU132
 565 0054 01AB     		add	r3, sp, #4
 566 0056 0222     		movs	r2, #2
 567 0058 3021     		movs	r1, #48
 568 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 569              	.LVL46:
 422:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 570              		.loc 1 422 8 view .LVU133
 571 005e 0346     		mov	r3, r0
 572              	.LVL47:
 423:Device/Src/drv_wave1006.c **** 	return ret;
 573              		.loc 1 423 2 is_stmt 1 view .LVU134
 423:Device/Src/drv_wave1006.c **** 	return ret;
 574              		.loc 1 423 15 is_stmt 0 view .LVU135
 575 0060 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 423:Device/Src/drv_wave1006.c **** 	return ret;
 576              		.loc 1 423 27 view .LVU136
 577 0064 1202     		lsls	r2, r2, #8
 578 0066 02F47C52 		and	r2, r2, #16128
 423:Device/Src/drv_wave1006.c **** 	return ret;
 579              		.loc 1 423 38 view .LVU137
 580 006a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 423:Device/Src/drv_wave1006.c **** 	return ret;
 581              		.loc 1 423 33 view .LVU138
 582 006e 0A43     		orrs	r2, r2, r1
 423:Device/Src/drv_wave1006.c **** 	return ret;
 583              		.loc 1 423 8 view .LVU139
 584 0070 2280     		strh	r2, [r4]	@ movhi
 424:Device/Src/drv_wave1006.c **** }
 585              		.loc 1 424 2 is_stmt 1 view .LVU140
 424:Device/Src/drv_wave1006.c **** }
 586              		.loc 1 424 9 is_stmt 0 view .LVU141
 587 0072 D6E7     		b	.L33
 588              		.cfi_endproc
 589              	.LFE246:
 591              		.section	.rodata.wave1006_enter_test_mode.str1.4,"aMS",%progbits,1
 592              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 20


 593              	.LC0:
 594 0000 456E7465 		.ascii	"Enter test mode success!\015\012\000"
 594      72207465 
 594      7374206D 
 594      6F646520 
 594      73756363 
 595              		.section	.text.wave1006_enter_test_mode,"ax",%progbits
 596              		.align	1
 597              		.global	wave1006_enter_test_mode
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 602              	wave1006_enter_test_mode:
 603              	.LVL48:
 604              	.LFB240:
 222:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 605              		.loc 1 222 1 is_stmt 1 view -0
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 8
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 222:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 609              		.loc 1 222 1 is_stmt 0 view .LVU143
 610 0000 10B5     		push	{r4, lr}
 611              	.LCFI21:
 612              		.cfi_def_cfa_offset 8
 613              		.cfi_offset 4, -8
 614              		.cfi_offset 14, -4
 615 0002 82B0     		sub	sp, sp, #8
 616              	.LCFI22:
 617              		.cfi_def_cfa_offset 16
 618 0004 0446     		mov	r4, r0
 223:Device/Src/drv_wave1006.c **** 
 619              		.loc 1 223 2 is_stmt 1 view .LVU144
 226:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 620              		.loc 1 226 2 view .LVU145
 226:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 621              		.loc 1 226 9 is_stmt 0 view .LVU146
 622 0006 0420     		movs	r0, #4
 623              	.LVL49:
 226:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 624              		.loc 1 226 9 view .LVU147
 625 0008 8DF80000 		strb	r0, [sp]
 227:Device/Src/drv_wave1006.c **** 	{
 626              		.loc 1 227 2 is_stmt 1 view .LVU148
 227:Device/Src/drv_wave1006.c **** 	{
 627              		.loc 1 227 5 is_stmt 0 view .LVU149
 628 000c 6B46     		mov	r3, sp
 629 000e 0122     		movs	r2, #1
 630 0010 FD21     		movs	r1, #253
 631 0012 FFF7FEFF 		bl	drv_wave1006_write_reg
 632              	.LVL50:
 227:Device/Src/drv_wave1006.c **** 	{
 633              		.loc 1 227 4 view .LVU150
 634 0016 58BB     		cbnz	r0, .L38
 233:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 635              		.loc 1 233 2 is_stmt 1 view .LVU151
 233:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 21


 636              		.loc 1 233 9 is_stmt 0 view .LVU152
 637 0018 8DF80040 		strb	r4, [sp]
 234:Device/Src/drv_wave1006.c **** 	{
 638              		.loc 1 234 2 is_stmt 1 view .LVU153
 234:Device/Src/drv_wave1006.c **** 	{
 639              		.loc 1 234 5 is_stmt 0 view .LVU154
 640 001c 6B46     		mov	r3, sp
 641 001e 0122     		movs	r2, #1
 642 0020 2C21     		movs	r1, #44
 643 0022 0420     		movs	r0, #4
 644 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 645              	.LVL51:
 234:Device/Src/drv_wave1006.c **** 	{
 646              		.loc 1 234 4 view .LVU155
 647 0028 28BB     		cbnz	r0, .L39
 239:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 648              		.loc 1 239 2 is_stmt 1 view .LVU156
 239:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 649              		.loc 1 239 9 is_stmt 0 view .LVU157
 650 002a 6C23     		movs	r3, #108
 651 002c 8DF80030 		strb	r3, [sp]
 240:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 652              		.loc 1 240 2 is_stmt 1 view .LVU158
 240:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 653              		.loc 1 240 9 is_stmt 0 view .LVU159
 654 0030 8DF80130 		strb	r3, [sp, #1]
 241:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 655              		.loc 1 241 2 is_stmt 1 view .LVU160
 241:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 656              		.loc 1 241 9 is_stmt 0 view .LVU161
 657 0034 3C23     		movs	r3, #60
 658 0036 8DF80230 		strb	r3, [sp, #2]
 242:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 659              		.loc 1 242 2 is_stmt 1 view .LVU162
 242:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 660              		.loc 1 242 9 is_stmt 0 view .LVU163
 661 003a 0722     		movs	r2, #7
 662 003c 8DF80320 		strb	r2, [sp, #3]
 243:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 663              		.loc 1 243 2 is_stmt 1 view .LVU164
 243:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 664              		.loc 1 243 9 is_stmt 0 view .LVU165
 665 0040 8DF80430 		strb	r3, [sp, #4]
 244:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 666              		.loc 1 244 2 is_stmt 1 view .LVU166
 244:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 667              		.loc 1 244 9 is_stmt 0 view .LVU167
 668 0044 1C23     		movs	r3, #28
 669 0046 8DF80530 		strb	r3, [sp, #5]
 245:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 670              		.loc 1 245 2 is_stmt 1 view .LVU168
 245:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 671              		.loc 1 245 9 is_stmt 0 view .LVU169
 672 004a CC23     		movs	r3, #204
 673 004c 8DF80630 		strb	r3, [sp, #6]
 246:Device/Src/drv_wave1006.c **** 	{
 674              		.loc 1 246 2 is_stmt 1 view .LVU170
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 22


 246:Device/Src/drv_wave1006.c **** 	{
 675              		.loc 1 246 5 is_stmt 0 view .LVU171
 676 0050 6B46     		mov	r3, sp
 677 0052 0021     		movs	r1, #0
 678 0054 0420     		movs	r0, #4
 679 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 680              	.LVL52:
 246:Device/Src/drv_wave1006.c **** 	{
 681              		.loc 1 246 4 view .LVU172
 682 005a 0446     		mov	r4, r0
 683 005c 70B9     		cbnz	r0, .L40
 251:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 684              		.loc 1 251 2 is_stmt 1 view .LVU173
 685 005e 6420     		movs	r0, #100
 686 0060 FFF7FEFF 		bl	HAL_Delay
 687              	.LVL53:
 252:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 688              		.loc 1 252 2 view .LVU174
 689 0064 0748     		ldr	r0, .L42
 690 0066 FFF7FEFF 		bl	UsbPrintf
 691              	.LVL54:
 253:Device/Src/drv_wave1006.c **** 
 692              		.loc 1 253 2 view .LVU175
 693              	.L37:
 270:Device/Src/drv_wave1006.c **** 
 694              		.loc 1 270 1 is_stmt 0 view .LVU176
 695 006a 2046     		mov	r0, r4
 696 006c 02B0     		add	sp, sp, #8
 697              	.LCFI23:
 698              		.cfi_remember_state
 699              		.cfi_def_cfa_offset 8
 700              		@ sp needed
 701 006e 10BD     		pop	{r4, pc}
 702              	.L38:
 703              	.LCFI24:
 704              		.cfi_restore_state
 229:Device/Src/drv_wave1006.c **** 	}
 705              		.loc 1 229 10 view .LVU177
 706 0070 6FF00104 		mvn	r4, #1
 707 0074 F9E7     		b	.L37
 708              	.L39:
 236:Device/Src/drv_wave1006.c **** 	}
 709              		.loc 1 236 10 view .LVU178
 710 0076 6FF00104 		mvn	r4, #1
 711 007a F6E7     		b	.L37
 712              	.L40:
 248:Device/Src/drv_wave1006.c **** 	}
 713              		.loc 1 248 10 view .LVU179
 714 007c 6FF00104 		mvn	r4, #1
 715 0080 F3E7     		b	.L37
 716              	.L43:
 717 0082 00BF     		.align	2
 718              	.L42:
 719 0084 00000000 		.word	.LC0
 720              		.cfi_endproc
 721              	.LFE240:
 723              		.section	.rodata.sd3031_enter_test_mode.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 23


 724              		.align	2
 725              	.LC1:
 726 0000 456E7465 		.ascii	"Enter test mode faild!\015\012\000"
 726      72207465 
 726      7374206D 
 726      6F646520 
 726      6661696C 
 727              		.section	.text.sd3031_enter_test_mode,"ax",%progbits
 728              		.align	1
 729              		.global	sd3031_enter_test_mode
 730              		.syntax unified
 731              		.thumb
 732              		.thumb_func
 734              	sd3031_enter_test_mode:
 735              	.LVL55:
 736              	.LFB241:
 273:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 737              		.loc 1 273 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 8
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 273:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 741              		.loc 1 273 1 is_stmt 0 view .LVU181
 742 0000 30B5     		push	{r4, r5, lr}
 743              	.LCFI25:
 744              		.cfi_def_cfa_offset 12
 745              		.cfi_offset 4, -12
 746              		.cfi_offset 5, -8
 747              		.cfi_offset 14, -4
 748 0002 83B0     		sub	sp, sp, #12
 749              	.LCFI26:
 750              		.cfi_def_cfa_offset 24
 751 0004 0446     		mov	r4, r0
 274:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 752              		.loc 1 274 2 is_stmt 1 view .LVU182
 275:Device/Src/drv_wave1006.c **** 
 753              		.loc 1 275 2 view .LVU183
 277:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 754              		.loc 1 277 2 view .LVU184
 755 0006 0020     		movs	r0, #0
 756              	.LVL56:
 277:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 757              		.loc 1 277 2 is_stmt 0 view .LVU185
 758 0008 FFF7FEFF 		bl	wave1006_write_enable_seq
 759              	.LVL57:
 279:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 760              		.loc 1 279 2 is_stmt 1 view .LVU186
 279:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 761              		.loc 1 279 9 is_stmt 0 view .LVU187
 762 000c 0423     		movs	r3, #4
 763 000e 8DF80030 		strb	r3, [sp]
 280:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 764              		.loc 1 280 2 is_stmt 1 view .LVU188
 280:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 765              		.loc 1 280 8 is_stmt 0 view .LVU189
 766 0012 6B46     		mov	r3, sp
 767 0014 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 24


 768 0016 FD21     		movs	r1, #253
 769 0018 0020     		movs	r0, #0
 770 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 771              	.LVL58:
 281:Device/Src/drv_wave1006.c **** 		return ret;
 772              		.loc 1 281 2 is_stmt 1 view .LVU190
 281:Device/Src/drv_wave1006.c **** 		return ret;
 773              		.loc 1 281 5 is_stmt 0 view .LVU191
 774 001e 0546     		mov	r5, r0
 775 0020 10B1     		cbz	r0, .L48
 776              	.LVL59:
 777              	.L45:
 318:Device/Src/drv_wave1006.c **** 
 778              		.loc 1 318 1 view .LVU192
 779 0022 2846     		mov	r0, r5
 780 0024 03B0     		add	sp, sp, #12
 781              	.LCFI27:
 782              		.cfi_remember_state
 783              		.cfi_def_cfa_offset 12
 784              		@ sp needed
 785 0026 30BD     		pop	{r4, r5, pc}
 786              	.LVL60:
 787              	.L48:
 788              	.LCFI28:
 789              		.cfi_restore_state
 284:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 790              		.loc 1 284 2 is_stmt 1 view .LVU193
 284:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 791              		.loc 1 284 9 is_stmt 0 view .LVU194
 792 0028 8DF80040 		strb	r4, [sp]
 285:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 793              		.loc 1 285 2 is_stmt 1 view .LVU195
 285:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 794              		.loc 1 285 8 is_stmt 0 view .LVU196
 795 002c 6B46     		mov	r3, sp
 796 002e 0122     		movs	r2, #1
 797 0030 2C21     		movs	r1, #44
 798 0032 FFF7FEFF 		bl	drv_wave1006_write_reg
 799              	.LVL61:
 286:Device/Src/drv_wave1006.c **** 		return ret;
 800              		.loc 1 286 2 is_stmt 1 view .LVU197
 286:Device/Src/drv_wave1006.c **** 		return ret;
 801              		.loc 1 286 5 is_stmt 0 view .LVU198
 802 0036 0546     		mov	r5, r0
 803 0038 0028     		cmp	r0, #0
 804 003a F2D1     		bne	.L45
 289:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 805              		.loc 1 289 2 is_stmt 1 view .LVU199
 289:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 806              		.loc 1 289 9 is_stmt 0 view .LVU200
 807 003c 6C23     		movs	r3, #108
 808 003e 8DF80030 		strb	r3, [sp]
 290:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 809              		.loc 1 290 2 is_stmt 1 view .LVU201
 290:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 810              		.loc 1 290 9 is_stmt 0 view .LVU202
 811 0042 8DF80130 		strb	r3, [sp, #1]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 25


 291:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 812              		.loc 1 291 2 is_stmt 1 view .LVU203
 291:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 813              		.loc 1 291 9 is_stmt 0 view .LVU204
 814 0046 3C23     		movs	r3, #60
 815 0048 8DF80230 		strb	r3, [sp, #2]
 292:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 816              		.loc 1 292 2 is_stmt 1 view .LVU205
 292:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 817              		.loc 1 292 9 is_stmt 0 view .LVU206
 818 004c 0722     		movs	r2, #7
 819 004e 8DF80320 		strb	r2, [sp, #3]
 293:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 820              		.loc 1 293 2 is_stmt 1 view .LVU207
 293:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 821              		.loc 1 293 9 is_stmt 0 view .LVU208
 822 0052 8DF80430 		strb	r3, [sp, #4]
 294:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 823              		.loc 1 294 2 is_stmt 1 view .LVU209
 294:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 824              		.loc 1 294 9 is_stmt 0 view .LVU210
 825 0056 1C23     		movs	r3, #28
 826 0058 8DF80530 		strb	r3, [sp, #5]
 295:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 827              		.loc 1 295 2 is_stmt 1 view .LVU211
 295:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 828              		.loc 1 295 9 is_stmt 0 view .LVU212
 829 005c CC23     		movs	r3, #204
 830 005e 8DF80630 		strb	r3, [sp, #6]
 296:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 831              		.loc 1 296 2 is_stmt 1 view .LVU213
 296:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 832              		.loc 1 296 8 is_stmt 0 view .LVU214
 833 0062 6B46     		mov	r3, sp
 834 0064 0021     		movs	r1, #0
 835 0066 0846     		mov	r0, r1
 836              	.LVL62:
 296:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 837              		.loc 1 296 8 view .LVU215
 838 0068 FFF7FEFF 		bl	drv_wave1006_write_reg
 839              	.LVL63:
 297:Device/Src/drv_wave1006.c **** 		return ret;
 840              		.loc 1 297 2 is_stmt 1 view .LVU216
 297:Device/Src/drv_wave1006.c **** 		return ret;
 841              		.loc 1 297 5 is_stmt 0 view .LVU217
 842 006c 0546     		mov	r5, r0
 843 006e 0028     		cmp	r0, #0
 844 0070 D7D1     		bne	.L45
 302:Device/Src/drv_wave1006.c **** 	
 845              		.loc 1 302 2 is_stmt 1 view .LVU218
 846 0072 4FF47A70 		mov	r0, #1000
 847              	.LVL64:
 302:Device/Src/drv_wave1006.c **** 	
 848              		.loc 1 302 2 is_stmt 0 view .LVU219
 849 0076 FFF7FEFF 		bl	HAL_Delay
 850              	.LVL65:
 304:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 26


 851              		.loc 1 304 2 is_stmt 1 view .LVU220
 304:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 852              		.loc 1 304 8 is_stmt 0 view .LVU221
 853 007a 6B46     		mov	r3, sp
 854 007c 0122     		movs	r2, #1
 855 007e FD21     		movs	r1, #253
 856 0080 0020     		movs	r0, #0
 857 0082 FFF7FEFF 		bl	drv_wave1006_read_reg
 858              	.LVL66:
 305:Device/Src/drv_wave1006.c **** 		return ret;
 859              		.loc 1 305 2 is_stmt 1 view .LVU222
 305:Device/Src/drv_wave1006.c **** 		return ret;
 860              		.loc 1 305 5 is_stmt 0 view .LVU223
 861 0086 0546     		mov	r5, r0
 862 0088 0028     		cmp	r0, #0
 863 008a CAD1     		bne	.L45
 307:Device/Src/drv_wave1006.c **** 	{
 864              		.loc 1 307 2 is_stmt 1 view .LVU224
 307:Device/Src/drv_wave1006.c **** 	{
 865              		.loc 1 307 9 is_stmt 0 view .LVU225
 866 008c 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 307:Device/Src/drv_wave1006.c **** 	{
 867              		.loc 1 307 4 view .LVU226
 868 0090 13F0080F 		tst	r3, #8
 869 0094 03D0     		beq	.L46
 309:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 870              		.loc 1 309 3 is_stmt 1 view .LVU227
 871 0096 0548     		ldr	r0, .L49
 872              	.LVL67:
 309:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 873              		.loc 1 309 3 is_stmt 0 view .LVU228
 874 0098 FFF7FEFF 		bl	UsbPrintf
 875              	.LVL68:
 310:Device/Src/drv_wave1006.c **** 	}
 876              		.loc 1 310 3 is_stmt 1 view .LVU229
 310:Device/Src/drv_wave1006.c **** 	}
 877              		.loc 1 310 10 is_stmt 0 view .LVU230
 878 009c C1E7     		b	.L45
 879              	.LVL69:
 880              	.L46:
 314:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 881              		.loc 1 314 3 is_stmt 1 view .LVU231
 882 009e 0448     		ldr	r0, .L49+4
 883              	.LVL70:
 314:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 884              		.loc 1 314 3 is_stmt 0 view .LVU232
 885 00a0 FFF7FEFF 		bl	UsbPrintf
 886              	.LVL71:
 315:Device/Src/drv_wave1006.c **** 	}
 887              		.loc 1 315 3 is_stmt 1 view .LVU233
 315:Device/Src/drv_wave1006.c **** 	}
 888              		.loc 1 315 10 is_stmt 0 view .LVU234
 889 00a4 6FF00205 		mvn	r5, #2
 890 00a8 BBE7     		b	.L45
 891              	.L50:
 892 00aa 00BF     		.align	2
 893              	.L49:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 27


 894 00ac 00000000 		.word	.LC0
 895 00b0 00000000 		.word	.LC1
 896              		.cfi_endproc
 897              	.LFE241:
 899              		.section	.text.wave1006_get_test_flag,"ax",%progbits
 900              		.align	1
 901              		.global	wave1006_get_test_flag
 902              		.syntax unified
 903              		.thumb
 904              		.thumb_func
 906              	wave1006_get_test_flag:
 907              	.LFB242:
 321:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 908              		.loc 1 321 1 is_stmt 1 view -0
 909              		.cfi_startproc
 910              		@ args = 0, pretend = 0, frame = 8
 911              		@ frame_needed = 0, uses_anonymous_args = 0
 912 0000 00B5     		push	{lr}
 913              	.LCFI29:
 914              		.cfi_def_cfa_offset 4
 915              		.cfi_offset 14, -4
 916 0002 83B0     		sub	sp, sp, #12
 917              	.LCFI30:
 918              		.cfi_def_cfa_offset 16
 322:Device/Src/drv_wave1006.c **** 	
 919              		.loc 1 322 2 view .LVU236
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 920              		.loc 1 324 2 view .LVU237
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 921              		.loc 1 324 6 is_stmt 0 view .LVU238
 922 0004 0DF10703 		add	r3, sp, #7
 923 0008 0122     		movs	r2, #1
 924 000a FD21     		movs	r1, #253
 925 000c 0420     		movs	r0, #4
 926 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 927              	.LVL72:
 324:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 928              		.loc 1 324 5 view .LVU239
 929 0012 50B9     		cbnz	r0, .L53
 328:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 930              		.loc 1 328 2 is_stmt 1 view .LVU240
 328:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 931              		.loc 1 328 11 is_stmt 0 view .LVU241
 932 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 328:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 933              		.loc 1 328 5 view .LVU242
 934 0018 13F0080F 		tst	r3, #8
 935 001c 02D0     		beq	.L55
 936              	.L52:
 333:Device/Src/drv_wave1006.c **** 
 937              		.loc 1 333 1 view .LVU243
 938 001e 03B0     		add	sp, sp, #12
 939              	.LCFI31:
 940              		.cfi_remember_state
 941              		.cfi_def_cfa_offset 4
 942              		@ sp needed
 943 0020 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 28


 944              	.L55:
 945              	.LCFI32:
 946              		.cfi_restore_state
 329:Device/Src/drv_wave1006.c **** 	} else {
 947              		.loc 1 329 10 view .LVU244
 948 0024 6FF00100 		mvn	r0, #1
 949 0028 F9E7     		b	.L52
 950              	.L53:
 325:Device/Src/drv_wave1006.c **** 	}
 951              		.loc 1 325 10 view .LVU245
 952 002a 6FF00100 		mvn	r0, #1
 953 002e F6E7     		b	.L52
 954              		.cfi_endproc
 955              	.LFE242:
 957              		.section	.text.sd3031_get_test_flag,"ax",%progbits
 958              		.align	1
 959              		.global	sd3031_get_test_flag
 960              		.syntax unified
 961              		.thumb
 962              		.thumb_func
 964              	sd3031_get_test_flag:
 965              	.LFB243:
 336:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 966              		.loc 1 336 1 is_stmt 1 view -0
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 8
 969              		@ frame_needed = 0, uses_anonymous_args = 0
 970 0000 00B5     		push	{lr}
 971              	.LCFI33:
 972              		.cfi_def_cfa_offset 4
 973              		.cfi_offset 14, -4
 974 0002 83B0     		sub	sp, sp, #12
 975              	.LCFI34:
 976              		.cfi_def_cfa_offset 16
 337:Device/Src/drv_wave1006.c **** 	
 977              		.loc 1 337 2 view .LVU247
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 978              		.loc 1 339 2 view .LVU248
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 979              		.loc 1 339 6 is_stmt 0 view .LVU249
 980 0004 0DF10703 		add	r3, sp, #7
 981 0008 0122     		movs	r2, #1
 982 000a FD21     		movs	r1, #253
 983 000c 0020     		movs	r0, #0
 984 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 985              	.LVL73:
 339:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 986              		.loc 1 339 5 view .LVU250
 987 0012 50B9     		cbnz	r0, .L58
 343:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 988              		.loc 1 343 2 is_stmt 1 view .LVU251
 343:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 989              		.loc 1 343 11 is_stmt 0 view .LVU252
 990 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 343:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 991              		.loc 1 343 5 view .LVU253
 992 0018 13F0080F 		tst	r3, #8
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 29


 993 001c 02D0     		beq	.L60
 994              	.L57:
 348:Device/Src/drv_wave1006.c **** 
 995              		.loc 1 348 1 view .LVU254
 996 001e 03B0     		add	sp, sp, #12
 997              	.LCFI35:
 998              		.cfi_remember_state
 999              		.cfi_def_cfa_offset 4
 1000              		@ sp needed
 1001 0020 5DF804FB 		ldr	pc, [sp], #4
 1002              	.L60:
 1003              	.LCFI36:
 1004              		.cfi_restore_state
 344:Device/Src/drv_wave1006.c **** 	} else {
 1005              		.loc 1 344 10 view .LVU255
 1006 0024 6FF00100 		mvn	r0, #1
 1007 0028 F9E7     		b	.L57
 1008              	.L58:
 340:Device/Src/drv_wave1006.c **** 	}
 1009              		.loc 1 340 10 view .LVU256
 1010 002a 6FF00100 		mvn	r0, #1
 1011 002e F6E7     		b	.L57
 1012              		.cfi_endproc
 1013              	.LFE243:
 1015              		.section	.text.wave1006_osc_config_set,"ax",%progbits
 1016              		.align	1
 1017              		.global	wave1006_osc_config_set
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1022              	wave1006_osc_config_set:
 1023              	.LVL74:
 1024              	.LFB244:
 351:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1025              		.loc 1 351 1 is_stmt 1 view -0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 8
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 351:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1029              		.loc 1 351 1 is_stmt 0 view .LVU258
 1030 0000 00B5     		push	{lr}
 1031              	.LCFI37:
 1032              		.cfi_def_cfa_offset 4
 1033              		.cfi_offset 14, -4
 1034 0002 83B0     		sub	sp, sp, #12
 1035              	.LCFI38:
 1036              		.cfi_def_cfa_offset 16
 352:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 1037              		.loc 1 352 2 is_stmt 1 view .LVU259
 353:Device/Src/drv_wave1006.c **** 
 1038              		.loc 1 353 2 view .LVU260
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1039              		.loc 1 356 2 view .LVU261
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1040              		.loc 1 356 19 is_stmt 0 view .LVU262
 1041 0004 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 1042 0006 C2F30111 		ubfx	r1, r2, #4, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 30


 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1043              		.loc 1 356 56 view .LVU263
 1044 000a 9309     		lsrs	r3, r2, #6
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1045              		.loc 1 356 71 view .LVU264
 1046 000c 5B01     		lsls	r3, r3, #5
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1047              		.loc 1 356 47 view .LVU265
 1048 000e 43EAC113 		orr	r3, r3, r1, lsl #7
 1049 0012 5BB2     		sxtb	r3, r3
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1050              		.loc 1 356 86 view .LVU266
 1051 0014 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 1052 0016 01F00300 		and	r0, r1, #3
 1053              	.LVL75:
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1054              		.loc 1 356 77 view .LVU267
 1055 001a 43EAC003 		orr	r3, r3, r0, lsl #3
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1056              		.loc 1 356 135 view .LVU268
 1057 001e 01F00400 		and	r0, r1, #4
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1058              		.loc 1 356 109 view .LVU269
 1059 0022 0343     		orrs	r3, r3, r0
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1060              		.loc 1 356 150 view .LVU270
 1061 0024 C1F3C000 		ubfx	r0, r1, #3, #1
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1062              		.loc 1 356 141 view .LVU271
 1063 0028 43EA4003 		orr	r3, r3, r0, lsl #1
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1064              		.loc 1 356 173 view .LVU272
 1065 002c C1F30011 		ubfx	r1, r1, #4, #1
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1066              		.loc 1 356 165 view .LVU273
 1067 0030 0B43     		orrs	r3, r3, r1
 356:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1068              		.loc 1 356 9 view .LVU274
 1069 0032 8DF80430 		strb	r3, [sp, #4]
 357:Device/Src/drv_wave1006.c **** 	
 1070              		.loc 1 357 2 is_stmt 1 view .LVU275
 357:Device/Src/drv_wave1006.c **** 	
 1071              		.loc 1 357 18 is_stmt 0 view .LVU276
 1072 0036 02F00101 		and	r1, r2, #1
 357:Device/Src/drv_wave1006.c **** 	
 1073              		.loc 1 357 43 view .LVU277
 1074 003a C2F34003 		ubfx	r3, r2, #1, #1
 357:Device/Src/drv_wave1006.c **** 	
 1075              		.loc 1 357 50 view .LVU278
 1076 003e DB00     		lsls	r3, r3, #3
 357:Device/Src/drv_wave1006.c **** 	
 1077              		.loc 1 357 34 view .LVU279
 1078 0040 43EA0113 		orr	r3, r3, r1, lsl #4
 357:Device/Src/drv_wave1006.c **** 	
 1079              		.loc 1 357 79 view .LVU280
 1080 0044 02F00C01 		and	r1, r2, #12
 357:Device/Src/drv_wave1006.c **** 	
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 31


 1081              		.loc 1 357 56 view .LVU281
 1082 0048 0B43     		orrs	r3, r3, r1
 357:Device/Src/drv_wave1006.c **** 	
 1083              		.loc 1 357 116 view .LVU282
 1084 004a C2F34012 		ubfx	r2, r2, #5, #1
 357:Device/Src/drv_wave1006.c **** 	
 1085              		.loc 1 357 85 view .LVU283
 1086 004e 1343     		orrs	r3, r3, r2
 357:Device/Src/drv_wave1006.c **** 	
 1087              		.loc 1 357 9 view .LVU284
 1088 0050 8DF80530 		strb	r3, [sp, #5]
 359:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1089              		.loc 1 359 2 is_stmt 1 view .LVU285
 359:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1090              		.loc 1 359 8 is_stmt 0 view .LVU286
 1091 0054 01AB     		add	r3, sp, #4
 1092 0056 0222     		movs	r2, #2
 1093 0058 4321     		movs	r1, #67
 1094 005a 0420     		movs	r0, #4
 1095 005c FFF7FEFF 		bl	drv_wave1006_write_reg
 1096              	.LVL76:
 360:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1097              		.loc 1 360 2 is_stmt 1 view .LVU287
 360:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1098              		.loc 1 360 5 is_stmt 0 view .LVU288
 1099 0060 10B1     		cbz	r0, .L65
 1100              	.L62:
 373:Device/Src/drv_wave1006.c **** 
 1101              		.loc 1 373 1 view .LVU289
 1102 0062 03B0     		add	sp, sp, #12
 1103              	.LCFI39:
 1104              		.cfi_remember_state
 1105              		.cfi_def_cfa_offset 4
 1106              		@ sp needed
 1107 0064 5DF804FB 		ldr	pc, [sp], #4
 1108              	.LVL77:
 1109              	.L65:
 1110              	.LCFI40:
 1111              		.cfi_restore_state
 369:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1112              		.loc 1 369 2 is_stmt 1 view .LVU290
 369:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1113              		.loc 1 369 6 is_stmt 0 view .LVU291
 1114 0068 0420     		movs	r0, #4
 1115 006a FFF7FEFF 		bl	wave1006_enter_test_mode
 1116              	.LVL78:
 369:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1117              		.loc 1 369 5 view .LVU292
 1118 006e 0028     		cmp	r0, #0
 1119 0070 F7D0     		beq	.L62
 370:Device/Src/drv_wave1006.c **** 	}
 1120              		.loc 1 370 10 view .LVU293
 1121 0072 6FF00200 		mvn	r0, #2
 1122 0076 F4E7     		b	.L62
 1123              		.cfi_endproc
 1124              	.LFE244:
 1126              		.section	.rodata.wave1006_write_otp.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 32


 1127              		.align	2
 1128              	.LC3:
 1129 0000 53544152 		.ascii	"START WRITE ALL OTP!\015\012\000"
 1129      54205752 
 1129      49544520 
 1129      414C4C20 
 1129      4F545021 
 1130 0017 00       		.align	2
 1131              	.LC4:
 1132 0018 77726974 		.ascii	"write reg error in test mode\012\000"
 1132      65207265 
 1132      67206572 
 1132      726F7220 
 1132      696E2074 
 1133 0036 0000     		.align	2
 1134              	.LC5:
 1135 0038 2F2A2A2A 		.ascii	"/**************************** WRITE OTP ***********"
 1135      2A2A2A2A 
 1135      2A2A2A2A 
 1135      2A2A2A2A 
 1135      2A2A2A2A 
 1136 006b 2A2A2A2A 		.ascii	"*********************/\015\012\000"
 1136      2A2A2A2A 
 1136      2A2A2A2A 
 1136      2A2A2A2A 
 1136      2A2A2A2A 
 1137              		.align	2
 1138              	.LC6:
 1139 0084 6F747020 		.ascii	"otp addr0:%hx\015\012\000"
 1139      61646472 
 1139      303A2568 
 1139      780D0A00 
 1140              		.align	2
 1141              	.LC7:
 1142 0094 6F747020 		.ascii	"otp addr1:%hx\015\012\000"
 1142      61646472 
 1142      313A2568 
 1142      780D0A00 
 1143              		.align	2
 1144              	.LC8:
 1145 00a4 6F747020 		.ascii	"otp addr2:%hx\015\012\000"
 1145      61646472 
 1145      323A2568 
 1145      780D0A00 
 1146              		.align	2
 1147              	.LC9:
 1148 00b4 6F747020 		.ascii	"otp addr3:%hx\015\012\000"
 1148      61646472 
 1148      333A2568 
 1148      780D0A00 
 1149              		.align	2
 1150              	.LC10:
 1151 00c4 6F747020 		.ascii	"otp addr4:%hx\015\012\000"
 1151      61646472 
 1151      343A2568 
 1151      780D0A00 
 1152              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 33


 1153              	.LC11:
 1154 00d4 6F747020 		.ascii	"otp addr5:%hx\015\012\000"
 1154      61646472 
 1154      353A2568 
 1154      780D0A00 
 1155              		.align	2
 1156              	.LC12:
 1157 00e4 6F747020 		.ascii	"otp addr6:%hx\015\012\000"
 1157      61646472 
 1157      363A2568 
 1157      780D0A00 
 1158              		.align	2
 1159              	.LC13:
 1160 00f4 6F747020 		.ascii	"otp addr7:%hx\015\012\000"
 1160      61646472 
 1160      373A2568 
 1160      780D0A00 
 1161              		.align	2
 1162              	.LC14:
 1163 0104 6F747020 		.ascii	"otp addr8:%hx\015\012\000"
 1163      61646472 
 1163      383A2568 
 1163      780D0A00 
 1164              		.align	2
 1165              	.LC15:
 1166 0114 6F747020 		.ascii	"otp addr9:%hx\015\012\000"
 1166      61646472 
 1166      393A2568 
 1166      780D0A00 
 1167              		.align	2
 1168              	.LC16:
 1169 0124 6F747020 		.ascii	"otp addra:%hx\015\012\000"
 1169      61646472 
 1169      613A2568 
 1169      780D0A00 
 1170              		.align	2
 1171              	.LC17:
 1172 0134 6F747020 		.ascii	"otp addrb:%hx\015\012\000"
 1172      61646472 
 1172      623A2568 
 1172      780D0A00 
 1173              		.align	2
 1174              	.LC18:
 1175 0144 6F747020 		.ascii	"otp addrc:%hx\015\012\000"
 1175      61646472 
 1175      633A2568 
 1175      780D0A00 
 1176              		.align	2
 1177              	.LC19:
 1178 0154 6F747020 		.ascii	"otp addrd:%hx\015\012\000"
 1178      61646472 
 1178      643A2568 
 1178      780D0A00 
 1179              		.align	2
 1180              	.LC20:
 1181 0164 6F747020 		.ascii	"otp addre:%hx\015\012\000"
 1181      61646472 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 34


 1181      653A2568 
 1181      780D0A00 
 1182              		.align	2
 1183              	.LC21:
 1184 0174 6F747020 		.ascii	"otp addrf:%hx\015\012\000"
 1184      61646472 
 1184      663A2568 
 1184      780D0A00 
 1185              		.align	2
 1186              	.LC22:
 1187 0184 2F2A2A2A 		.ascii	"/**************************** READ OTP ************"
 1187      2A2A2A2A 
 1187      2A2A2A2A 
 1187      2A2A2A2A 
 1187      2A2A2A2A 
 1188 01b7 2A2A2A2A 		.ascii	"********************/\015\012\000"
 1188      2A2A2A2A 
 1188      2A2A2A2A 
 1188      2A2A2A2A 
 1188      2A2A2A2A 
 1189 01cf 00       		.align	2
 1190              	.LC23:
 1191 01d0 77725F70 		.ascii	"wr_pos = %hx\015\012\000"
 1191      6F73203D 
 1191      20256878 
 1191      0D0A00
 1192 01df 00       		.align	2
 1193              	.LC24:
 1194 01e0 77726974 		.ascii	"write check is err %lx: cal=%lx\015\012\000"
 1194      65206368 
 1194      65636B20 
 1194      69732065 
 1194      72722025 
 1195 0202 0000     		.align	2
 1196              	.LC25:
 1197 0204 77726974 		.ascii	"write otp is successful! %lx: cal=%lx\015\012\000"
 1197      65206F74 
 1197      70206973 
 1197      20737563 
 1197      63657373 
 1198              		.align	2
 1199              	.LC26:
 1200 022c 45584954 		.ascii	"EXIT OK!\015\012\000"
 1200      204F4B21 
 1200      0D0A00
 1201              		.section	.text.wave1006_write_otp,"ax",%progbits
 1202              		.align	1
 1203              		.global	wave1006_write_otp
 1204              		.syntax unified
 1205              		.thumb
 1206              		.thumb_func
 1208              	wave1006_write_otp:
 1209              	.LVL79:
 1210              	.LFB247:
 426:Device/Src/drv_wave1006.c **** 
 427:Device/Src/drv_wave1006.c **** 
 428:Device/Src/drv_wave1006.c **** //配置为SD3031烧写为不同型号
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 35


 429:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp(wave1006_otp_arg_t const *config_arg,  unsigned char const 
 430:Device/Src/drv_wave1006.c **** {
 1211              		.loc 1 430 1 is_stmt 1 view -0
 1212              		.cfi_startproc
 1213              		@ args = 0, pretend = 0, frame = 16
 1214              		@ frame_needed = 0, uses_anonymous_args = 0
 1215              		.loc 1 430 1 is_stmt 0 view .LVU295
 1216 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1217              	.LCFI41:
 1218              		.cfi_def_cfa_offset 28
 1219              		.cfi_offset 4, -28
 1220              		.cfi_offset 5, -24
 1221              		.cfi_offset 6, -20
 1222              		.cfi_offset 7, -16
 1223              		.cfi_offset 8, -12
 1224              		.cfi_offset 9, -8
 1225              		.cfi_offset 14, -4
 1226 0004 85B0     		sub	sp, sp, #20
 1227              	.LCFI42:
 1228              		.cfi_def_cfa_offset 48
 1229 0006 0446     		mov	r4, r0
 1230 0008 8946     		mov	r9, r1
 1231 000a 1546     		mov	r5, r2
 1232 000c 1F46     		mov	r7, r3
 431:Device/Src/drv_wave1006.c **** 	uint16_t i;
 1233              		.loc 1 431 2 is_stmt 1 view .LVU296
 432:Device/Src/drv_wave1006.c **** 	uint8_t buf1;
 1234              		.loc 1 432 2 view .LVU297
 433:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0};
 1235              		.loc 1 433 2 view .LVU298
 1236              		.loc 1 433 10 is_stmt 0 view .LVU299
 1237 000e E74B     		ldr	r3, .L84
 1238              	.LVL80:
 1239              		.loc 1 433 10 view .LVU300
 1240 0010 93E80300 		ldm	r3, {r0, r1}
 1241              	.LVL81:
 1242              		.loc 1 433 10 view .LVU301
 1243 0014 0290     		str	r0, [sp, #8]
 1244 0016 8DF80C10 		strb	r1, [sp, #12]
 434:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 1245              		.loc 1 434 2 is_stmt 1 view .LVU302
 435:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_wr = 0;     //写数据校验缓存
 1246              		.loc 1 435 2 view .LVU303
 1247              	.LVL82:
 436:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_rd = 0;		 //读数据校验缓存
 1248              		.loc 1 436 2 view .LVU304
 437:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 1249              		.loc 1 437 2 view .LVU305
 438:Device/Src/drv_wave1006.c **** 
 439:Device/Src/drv_wave1006.c **** 	UsbPrintf("START WRITE ALL OTP!\r\n");
 1250              		.loc 1 439 2 view .LVU306
 1251 001a E548     		ldr	r0, .L84+4
 1252 001c FFF7FEFF 		bl	UsbPrintf
 1253              	.LVL83:
 440:Device/Src/drv_wave1006.c **** 	// rtc_group_power(rtcNumber, POWER_CAP_TEST);//这个模式烧写失败，8月2号
 441:Device/Src/drv_wave1006.c **** 	rtc_group_power(rtcNumber, POWER_I2C);
 1254              		.loc 1 441 2 view .LVU307
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 36


 1255 0020 0121     		movs	r1, #1
 1256 0022 3846     		mov	r0, r7
 1257 0024 FFF7FEFF 		bl	rtc_group_power
 1258              	.LVL84:
 442:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 1259              		.loc 1 442 2 view .LVU308
 1260 0028 0321     		movs	r1, #3
 1261 002a 3846     		mov	r0, r7
 1262 002c FFF7FEFF 		bl	rtc_set_channel
 1263              	.LVL85:
 443:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 1264              		.loc 1 443 2 view .LVU309
 1265 0030 6420     		movs	r0, #100
 1266 0032 FFF7FEFF 		bl	HAL_Delay
 1267              	.LVL86:
 444:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 1268              		.loc 1 444 2 view .LVU310
 1269              		.loc 1 444 7 is_stmt 0 view .LVU311
 1270 0036 4023     		movs	r3, #64
 1271 0038 8DF80F30 		strb	r3, [sp, #15]
 445:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 1272              		.loc 1 445 2 is_stmt 1 view .LVU312
 1273              		.loc 1 445 5 is_stmt 0 view .LVU313
 1274 003c 0DF10F03 		add	r3, sp, #15
 1275 0040 0122     		movs	r2, #1
 1276 0042 1121     		movs	r1, #17
 1277 0044 0420     		movs	r0, #4
 1278 0046 FFF7FEFF 		bl	drv_wave1006_write_reg
 1279              	.LVL87:
 1280              		.loc 1 445 4 view .LVU314
 1281 004a 0028     		cmp	r0, #0
 1282 004c 40F01F83 		bne	.L76
 446:Device/Src/drv_wave1006.c **** 	{
 447:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 448:Device/Src/drv_wave1006.c **** 	}
 449:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 1283              		.loc 1 449 2 is_stmt 1 view .LVU315
 1284              		.loc 1 449 5 is_stmt 0 view .LVU316
 1285 0050 0DF10F03 		add	r3, sp, #15
 1286 0054 0122     		movs	r2, #1
 1287 0056 4021     		movs	r1, #64
 1288 0058 0420     		movs	r0, #4
 1289 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 1290              	.LVL88:
 1291              		.loc 1 449 4 view .LVU317
 1292 005e 0028     		cmp	r0, #0
 1293 0060 40F01883 		bne	.L77
 450:Device/Src/drv_wave1006.c **** 	{
 451:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 452:Device/Src/drv_wave1006.c **** 	}
 453:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 1294              		.loc 1 453 2 is_stmt 1 view .LVU318
 1295              		.loc 1 453 7 is_stmt 0 view .LVU319
 1296 0064 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1297 0068 03F0F003 		and	r3, r3, #240
 1298 006c 8DF80F30 		strb	r3, [sp, #15]
 454:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0C;//根据pad配置表，编号12为3031
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 37


 1299              		.loc 1 454 2 is_stmt 1 view .LVU320
 1300              		.loc 1 454 7 is_stmt 0 view .LVU321
 1301 0070 43F00C03 		orr	r3, r3, #12
 1302 0074 8DF80F30 		strb	r3, [sp, #15]
 455:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 1303              		.loc 1 455 2 is_stmt 1 view .LVU322
 1304              		.loc 1 455 5 is_stmt 0 view .LVU323
 1305 0078 0DF10F03 		add	r3, sp, #15
 1306 007c 0122     		movs	r2, #1
 1307 007e 4021     		movs	r1, #64
 1308 0080 0420     		movs	r0, #4
 1309 0082 FFF7FEFF 		bl	drv_wave1006_write_reg
 1310              	.LVL89:
 1311              		.loc 1 455 4 view .LVU324
 1312 0086 0028     		cmp	r0, #0
 1313 0088 40F00783 		bne	.L78
 456:Device/Src/drv_wave1006.c **** 	{
 457:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 458:Device/Src/drv_wave1006.c **** 	}
 459:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 460:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 1314              		.loc 1 460 2 is_stmt 1 view .LVU325
 1315              		.loc 1 460 5 is_stmt 0 view .LVU326
 1316 008c 02AB     		add	r3, sp, #8
 1317 008e 0522     		movs	r2, #5
 1318 0090 2D21     		movs	r1, #45
 1319 0092 0420     		movs	r0, #4
 1320 0094 FFF7FEFF 		bl	drv_wave1006_write_reg
 1321              	.LVL90:
 1322              		.loc 1 460 4 view .LVU327
 1323 0098 0028     		cmp	r0, #0
 1324 009a 40F00183 		bne	.L79
 461:Device/Src/drv_wave1006.c **** 	{
 462:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 463:Device/Src/drv_wave1006.c **** 	}
 464:Device/Src/drv_wave1006.c **** 		
 465:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 1325              		.loc 1 465 2 is_stmt 1 view .LVU328
 1326              		.loc 1 465 5 is_stmt 0 view .LVU329
 1327 009e 3020     		movs	r0, #48
 1328 00a0 FFF7FEFF 		bl	wave1006_enter_test_mode
 1329              	.LVL91:
 1330              		.loc 1 465 4 view .LVU330
 1331 00a4 0028     		cmp	r0, #0
 1332 00a6 40F0FE82 		bne	.L80
 466:Device/Src/drv_wave1006.c **** 	{
 467:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 468:Device/Src/drv_wave1006.c **** 	}
 469:Device/Src/drv_wave1006.c ****  
 470:Device/Src/drv_wave1006.c ****     /*switch i2c prot, io6 =5V*/
 471:Device/Src/drv_wave1006.c **** //	otp_prg_power_ctrl(0); 
 472:Device/Src/drv_wave1006.c ****  	rtc_set_channel(rtcNumber, RTC_SD3031);//切换pad引脚
 1333              		.loc 1 472 3 is_stmt 1 view .LVU331
 1334 00aa 0421     		movs	r1, #4
 1335 00ac 3846     		mov	r0, r7
 1336 00ae FFF7FEFF 		bl	rtc_set_channel
 1337              	.LVL92:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 38


 473:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1338              		.loc 1 473 2 view .LVU332
 1339 00b2 0A20     		movs	r0, #10
 1340 00b4 FFF7FEFF 		bl	HAL_Delay
 1341              	.LVL93:
 474:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 475:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 1342              		.loc 1 475 3 view .LVU333
 1343              		.loc 1 475 10 is_stmt 0 view .LVU334
 1344 00b8 8023     		movs	r3, #128
 1345 00ba 8DF80830 		strb	r3, [sp, #8]
 476:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0])!= WAVE1006_EXI
 1346              		.loc 1 476 2 is_stmt 1 view .LVU335
 1347              		.loc 1 476 6 is_stmt 0 view .LVU336
 1348 00be 02AB     		add	r3, sp, #8
 1349 00c0 0122     		movs	r2, #1
 1350 00c2 2D21     		movs	r1, #45
 1351 00c4 0420     		movs	r0, #4
 1352 00c6 FFF7FEFF 		bl	drv_wave1006_write_reg
 1353              	.LVL94:
 1354              		.loc 1 476 5 view .LVU337
 1355 00ca 8046     		mov	r8, r0
 1356 00cc 0028     		cmp	r0, #0
 1357 00ce 40F03982 		bne	.L82
 477:Device/Src/drv_wave1006.c **** 		UsbPrintf("write reg error in test mode\n");
 478:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 479:Device/Src/drv_wave1006.c **** 	}
 480:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 481:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 1358              		.loc 1 481 3 is_stmt 1 view .LVU338
 1359              		.loc 1 481 10 is_stmt 0 view .LVU339
 1360 00d2 8223     		movs	r3, #130
 1361 00d4 8DF80830 		strb	r3, [sp, #8]
 482:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1362              		.loc 1 482 3 is_stmt 1 view .LVU340
 1363 00d8 02AB     		add	r3, sp, #8
 1364 00da 0122     		movs	r2, #1
 1365 00dc 2D21     		movs	r1, #45
 1366 00de 0420     		movs	r0, #4
 1367 00e0 FFF7FEFF 		bl	drv_wave1006_write_reg
 1368              	.LVL95:
 483:Device/Src/drv_wave1006.c **** //    pprog = 1
 484:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 1369              		.loc 1 484 3 view .LVU341
 1370              		.loc 1 484 10 is_stmt 0 view .LVU342
 1371 00e4 A223     		movs	r3, #162
 1372 00e6 8DF80830 		strb	r3, [sp, #8]
 485:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1373              		.loc 1 485 3 is_stmt 1 view .LVU343
 1374 00ea 02AB     		add	r3, sp, #8
 1375 00ec 0122     		movs	r2, #1
 1376 00ee 2D21     		movs	r1, #45
 1377 00f0 0420     		movs	r0, #4
 1378 00f2 FFF7FEFF 		bl	drv_wave1006_write_reg
 1379              	.LVL96:
 486:Device/Src/drv_wave1006.c **** 
 487:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** WRITE OTP ********************************/\r\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 39


 1380              		.loc 1 487 2 view .LVU344
 1381 00f6 AF48     		ldr	r0, .L84+8
 1382 00f8 FFF7FEFF 		bl	UsbPrintf
 1383              	.LVL97:
 488:Device/Src/drv_wave1006.c **** 	//    io6 =8.5V
 489:Device/Src/drv_wave1006.c ****  	rtc_otp_power(8.5);
 1384              		.loc 1 489 3 view .LVU345
 1385 00fc B2EE010A 		vmov.f32	s0, #8.5e+0
 1386 0100 FFF7FEFF 		bl	rtc_otp_power
 1387              	.LVL98:
 490:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_SET); //打开8.5v的开关
 1388              		.loc 1 490 2 view .LVU346
 1389 0104 0122     		movs	r2, #1
 1390 0106 4021     		movs	r1, #64
 1391 0108 AB48     		ldr	r0, .L84+12
 1392 010a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1393              	.LVL99:
 491:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 1394              		.loc 1 491 2 view .LVU347
 1395 010e 6420     		movs	r0, #100
 1396 0110 FFF7FEFF 		bl	HAL_Delay
 1397              	.LVL100:
 492:Device/Src/drv_wave1006.c **** 
 493:Device/Src/drv_wave1006.c **** //    start write otp
 494:Device/Src/drv_wave1006.c **** 	otp_temp =  0x3ffc | (config_arg->test_wp_config << 1) | config_arg->otp_wp_config;
 1398              		.loc 1 494 2 view .LVU348
 1399              		.loc 1 494 34 is_stmt 0 view .LVU349
 1400 0114 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1401              		.loc 1 494 51 view .LVU350
 1402 0116 03F00206 		and	r6, r3, #2
 1403              		.loc 1 494 21 view .LVU351
 1404 011a 46F47F56 		orr	r6, r6, #16320
 1405 011e 46F03C06 		orr	r6, r6, #60
 1406              		.loc 1 494 69 view .LVU352
 1407 0122 03F00103 		and	r3, r3, #1
 1408              		.loc 1 494 57 view .LVU353
 1409 0126 1E43     		orrs	r6, r6, r3
 1410              		.loc 1 494 11 view .LVU354
 1411 0128 ADF80660 		strh	r6, [sp, #6]	@ movhi
 495:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1412              		.loc 1 495 2 is_stmt 1 view .LVU355
 1413              	.LVL101:
 496:Device/Src/drv_wave1006.c ****   wave1006_write_otp_single(0, otp_temp);// addr 0
 1414              		.loc 1 496 3 view .LVU356
 1415 012c 3146     		mov	r1, r6
 1416 012e 0020     		movs	r0, #0
 1417 0130 FFF7FEFF 		bl	wave1006_write_otp_single
 1418              	.LVL102:
 497:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr0:%hx\r\n", otp_temp);
 1419              		.loc 1 497 2 view .LVU357
 1420 0134 BDF80610 		ldrh	r1, [sp, #6]
 1421 0138 A048     		ldr	r0, .L84+16
 1422 013a FFF7FEFF 		bl	UsbPrintf
 1423              	.LVL103:
 498:Device/Src/drv_wave1006.c **** 
 499:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->package_type_config << 10) | (config_arg->freq_en_config << 7) | (config_a
 1424              		.loc 1 499 2 view .LVU358
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 40


 1425              		.loc 1 499 24 is_stmt 0 view .LVU359
 1426 013e A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1427 0140 02F00F02 		and	r2, r2, #15
 1428              		.loc 1 499 66 view .LVU360
 1429 0144 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1430 0146 C3F38201 		ubfx	r1, r3, #2, #3
 1431              		.loc 1 499 83 view .LVU361
 1432 014a C901     		lsls	r1, r1, #7
 1433              		.loc 1 499 53 view .LVU362
 1434 014c 41EA8221 		orr	r1, r1, r2, lsl #10
 1435              		.loc 1 499 102 view .LVU363
 1436 0150 03F00303 		and	r3, r3, #3
 1437              		.loc 1 499 89 view .LVU364
 1438 0154 41EA4311 		orr	r1, r1, r3, lsl #5
 1439              		.loc 1 499 142 view .LVU365
 1440 0158 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1441 015a C3F38012 		ubfx	r2, r3, #6, #1
 1442              		.loc 1 499 129 view .LVU366
 1443 015e 41EA0211 		orr	r1, r1, r2, lsl #4
 500:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1444              		.loc 1 500 13 view .LVU367
 1445 0162 C3F38303 		ubfx	r3, r3, #2, #4
 499:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1446              		.loc 1 499 165 view .LVU368
 1447 0166 1943     		orrs	r1, r1, r3
 499:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1448              		.loc 1 499 11 view .LVU369
 1449 0168 ADF80610 		strh	r1, [sp, #6]	@ movhi
 501:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1450              		.loc 1 501 2 is_stmt 1 view .LVU370
 1451              		.loc 1 501 15 is_stmt 0 view .LVU371
 1452 016c 0E44     		add	r6, r6, r1
 1453              	.LVL104:
 502:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(1, otp_temp);
 1454              		.loc 1 502 2 is_stmt 1 view .LVU372
 1455 016e 0120     		movs	r0, #1
 1456 0170 FFF7FEFF 		bl	wave1006_write_otp_single
 1457              	.LVL105:
 503:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr1:%hx\r\n", otp_temp);
 1458              		.loc 1 503 2 view .LVU373
 1459 0174 BDF80610 		ldrh	r1, [sp, #6]
 1460 0178 9148     		ldr	r0, .L84+20
 1461 017a FFF7FEFF 		bl	UsbPrintf
 1462              	.LVL106:
 504:Device/Src/drv_wave1006.c **** 
 505:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->timer_freq_source_config & 0x01) << 13) | (config_arg->ae_disable_config 
 1463              		.loc 1 505 2 view .LVU374
 1464              		.loc 1 505 25 is_stmt 0 view .LVU375
 1465 017e 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1466 0180 C3F38101 		ubfx	r1, r3, #2, #2
 1467              		.loc 1 505 60 view .LVU376
 1468 0184 4903     		lsls	r1, r1, #13
 1469 0186 01F40051 		and	r1, r1, #8192
 1470              		.loc 1 505 80 view .LVU377
 1471 018a 03F00303 		and	r3, r3, #3
 1472              		.loc 1 505 67 view .LVU378
 1473 018e 41EAC321 		orr	r1, r1, r3, lsl #11
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 41


 1474              		.loc 1 505 120 view .LVU379
 1475 0192 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 1476 0194 03F07F03 		and	r3, r3, #127
 1477              		.loc 1 505 107 view .LVU380
 1478 0198 41EA0311 		orr	r1, r1, r3, lsl #4
 506:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1479              		.loc 1 506 14 view .LVU381
 1480 019c A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 1481 019e DA09     		lsrs	r2, r3, #7
 505:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1482              		.loc 1 505 147 view .LVU382
 1483 01a0 41EAC201 		orr	r1, r1, r2, lsl #3
 1484              		.loc 1 506 53 view .LVU383
 1485 01a4 C3F38012 		ubfx	r2, r3, #6, #1
 1486              		.loc 1 506 40 view .LVU384
 1487 01a8 41EA8201 		orr	r1, r1, r2, lsl #2
 1488              		.loc 1 506 96 view .LVU385
 1489 01ac C3F34012 		ubfx	r2, r3, #5, #1
 1490              		.loc 1 506 82 view .LVU386
 1491 01b0 41EA4201 		orr	r1, r1, r2, lsl #1
 1492              		.loc 1 506 138 view .LVU387
 1493 01b4 C3F30013 		ubfx	r3, r3, #4, #1
 1494              		.loc 1 506 126 view .LVU388
 1495 01b8 1943     		orrs	r1, r1, r3
 505:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1496              		.loc 1 505 11 view .LVU389
 1497 01ba ADF80610 		strh	r1, [sp, #6]	@ movhi
 507:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1498              		.loc 1 507 2 is_stmt 1 view .LVU390
 1499              		.loc 1 507 15 is_stmt 0 view .LVU391
 1500 01be 0E44     		add	r6, r6, r1
 1501              	.LVL107:
 508:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(2, otp_temp);
 1502              		.loc 1 508 2 is_stmt 1 view .LVU392
 1503 01c0 0220     		movs	r0, #2
 1504 01c2 FFF7FEFF 		bl	wave1006_write_otp_single
 1505              	.LVL108:
 509:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr2:%hx\r\n", otp_temp);
 1506              		.loc 1 509 2 view .LVU393
 1507 01c6 BDF80610 		ldrh	r1, [sp, #6]
 1508 01ca 7E48     		ldr	r0, .L84+24
 1509 01cc FFF7FEFF 		bl	UsbPrintf
 1510              	.LVL109:
 510:Device/Src/drv_wave1006.c **** 
 511:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->time_update_support_config << 13) | (config_arg->reg_addr_reset_config << 
 1511              		.loc 1 511 2 view .LVU394
 1512              		.loc 1 511 24 is_stmt 0 view .LVU395
 1513 01d0 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 1514 01d2 C3F38002 		ubfx	r2, r3, #2, #1
 1515              		.loc 1 511 73 view .LVU396
 1516 01d6 03F00301 		and	r1, r3, #3
 1517              		.loc 1 511 97 view .LVU397
 1518 01da C902     		lsls	r1, r1, #11
 1519              		.loc 1 511 60 view .LVU398
 1520 01dc 41EA4231 		orr	r1, r1, r2, lsl #13
 1521              		.loc 1 511 117 view .LVU399
 1522 01e0 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 42


 1523 01e2 C3F38012 		ubfx	r2, r3, #6, #1
 1524              		.loc 1 511 104 view .LVU400
 1525 01e6 41EA8221 		orr	r1, r1, r2, lsl #10
 512:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1526              		.loc 1 512 14 view .LVU401
 1527 01ea C3F34012 		ubfx	r2, r3, #5, #1
 511:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1528              		.loc 1 511 154 view .LVU402
 1529 01ee 41EA4221 		orr	r1, r1, r2, lsl #9
 1530              		.loc 1 512 59 view .LVU403
 1531 01f2 C3F30012 		ubfx	r2, r3, #4, #1
 1532              		.loc 1 512 46 view .LVU404
 1533 01f6 41EA0221 		orr	r1, r1, r2, lsl #8
 1534              		.loc 1 512 95 view .LVU405
 1535 01fa C3F3C002 		ubfx	r2, r3, #3, #1
 1536              		.loc 1 512 82 view .LVU406
 1537 01fe 41EAC211 		orr	r1, r1, r2, lsl #7
 1538              		.loc 1 512 136 view .LVU407
 1539 0202 03F00703 		and	r3, r3, #7
 1540              		.loc 1 512 122 view .LVU408
 1541 0206 41EA0311 		orr	r1, r1, r3, lsl #4
 513:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1542              		.loc 1 513 14 view .LVU409
 1543 020a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 512:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1544              		.loc 1 512 163 view .LVU410
 1545 020c 41EAC301 		orr	r1, r1, r3, lsl #3
 1546              		.loc 1 513 62 view .LVU411
 1547 0210 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1548 0212 C3F34012 		ubfx	r2, r3, #5, #1
 1549              		.loc 1 513 49 view .LVU412
 1550 0216 41EA8201 		orr	r1, r1, r2, lsl #2
 1551              		.loc 1 513 110 view .LVU413
 1552 021a C3F30012 		ubfx	r2, r3, #4, #1
 1553              		.loc 1 513 97 view .LVU414
 1554 021e 41EA4201 		orr	r1, r1, r2, lsl #1
 514:Device/Src/drv_wave1006.c **** 		((config_arg->timer_freq_source_config >> 1) & 0x01);
 1555              		.loc 1 514 48 view .LVU415
 1556 0222 C3F3C003 		ubfx	r3, r3, #3, #1
 513:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1557              		.loc 1 513 136 view .LVU416
 1558 0226 1943     		orrs	r1, r1, r3
 511:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1559              		.loc 1 511 11 view .LVU417
 1560 0228 ADF80610 		strh	r1, [sp, #6]	@ movhi
 515:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1561              		.loc 1 515 2 is_stmt 1 view .LVU418
 1562              		.loc 1 515 15 is_stmt 0 view .LVU419
 1563 022c 0E44     		add	r6, r6, r1
 1564              	.LVL110:
 516:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(3, otp_temp);
 1565              		.loc 1 516 2 is_stmt 1 view .LVU420
 1566 022e 0320     		movs	r0, #3
 1567 0230 FFF7FEFF 		bl	wave1006_write_otp_single
 1568              	.LVL111:
 517:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr3:%hx\r\n", otp_temp);
 1569              		.loc 1 517 2 view .LVU421
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 43


 1570 0234 BDF80610 		ldrh	r1, [sp, #6]
 1571 0238 6348     		ldr	r0, .L84+28
 1572 023a FFF7FEFF 		bl	UsbPrintf
 1573              	.LVL112:
 518:Device/Src/drv_wave1006.c **** 	
 519:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->device_addr_config & 0x0f) << 10) | (config_arg->digtal_comp_sel_config <
 1574              		.loc 1 519 2 view .LVU422
 1575              		.loc 1 519 25 is_stmt 0 view .LVU423
 1576 023e 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1577 0240 5908     		lsrs	r1, r3, #1
 1578              		.loc 1 519 54 view .LVU424
 1579 0242 8902     		lsls	r1, r1, #10
 1580 0244 01F47051 		and	r1, r1, #15360
 1581              		.loc 1 519 74 view .LVU425
 1582 0248 03F00103 		and	r3, r3, #1
 1583              		.loc 1 519 61 view .LVU426
 1584 024c 41EA4321 		orr	r1, r1, r3, lsl #9
 1585              		.loc 1 519 105 view .LVU427
 1586 0250 41F48071 		orr	r1, r1, #256
 1587              		.loc 1 519 128 view .LVU428
 1588 0254 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 1589              		.loc 1 519 116 view .LVU429
 1590 0256 1943     		orrs	r1, r1, r3
 1591              		.loc 1 519 11 view .LVU430
 1592 0258 ADF80610 		strh	r1, [sp, #6]	@ movhi
 520:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1593              		.loc 1 520 2 is_stmt 1 view .LVU431
 1594              		.loc 1 520 15 is_stmt 0 view .LVU432
 1595 025c 0E44     		add	r6, r6, r1
 1596              	.LVL113:
 521:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(4, otp_temp);
 1597              		.loc 1 521 2 is_stmt 1 view .LVU433
 1598 025e 0420     		movs	r0, #4
 1599 0260 FFF7FEFF 		bl	wave1006_write_otp_single
 1600              	.LVL114:
 522:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr4:%hx\r\n", otp_temp);
 1601              		.loc 1 522 2 view .LVU434
 1602 0264 BDF80610 		ldrh	r1, [sp, #6]
 1603 0268 5848     		ldr	r0, .L84+32
 1604 026a FFF7FEFF 		bl	UsbPrintf
 1605              	.LVL115:
 523:Device/Src/drv_wave1006.c **** 
 524:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->rst_out_support_config << 13) | (config_arg->bat_val_ext_config << 12) | (
 1606              		.loc 1 524 2 view .LVU435
 1607              		.loc 1 524 24 is_stmt 0 view .LVU436
 1608 026e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1609 0270 C3F38002 		ubfx	r2, r3, #2, #1
 1610              		.loc 1 524 69 view .LVU437
 1611 0274 C3F34001 		ubfx	r1, r3, #1, #1
 1612              		.loc 1 524 90 view .LVU438
 1613 0278 0903     		lsls	r1, r1, #12
 1614              		.loc 1 524 56 view .LVU439
 1615 027a 41EA4231 		orr	r1, r1, r2, lsl #13
 1616              		.loc 1 524 110 view .LVU440
 1617 027e 03F00103 		and	r3, r3, #1
 1618              		.loc 1 524 97 view .LVU441
 1619 0282 41EAC321 		orr	r1, r1, r3, lsl #11
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 44


 525:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1620              		.loc 1 525 14 view .LVU442
 1621 0286 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1622 0288 DA09     		lsrs	r2, r3, #7
 524:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1623              		.loc 1 524 137 view .LVU443
 1624 028a 41EA8221 		orr	r1, r1, r2, lsl #10
 1625              		.loc 1 525 58 view .LVU444
 1626 028e C3F38012 		ubfx	r2, r3, #6, #1
 1627              		.loc 1 525 45 view .LVU445
 1628 0292 41EA4221 		orr	r1, r1, r2, lsl #9
 1629              		.loc 1 525 94 view .LVU446
 1630 0296 C3F34012 		ubfx	r2, r3, #5, #1
 1631              		.loc 1 525 81 view .LVU447
 1632 029a 41EA0221 		orr	r1, r1, r2, lsl #8
 526:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1633              		.loc 1 526 14 view .LVU448
 1634 029e C3F30012 		ubfx	r2, r3, #4, #1
 525:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1635              		.loc 1 525 125 view .LVU449
 1636 02a2 41EAC211 		orr	r1, r1, r2, lsl #7
 1637              		.loc 1 526 60 view .LVU450
 1638 02a6 C3F3C002 		ubfx	r2, r3, #3, #1
 1639              		.loc 1 526 47 view .LVU451
 1640 02aa 41EA8211 		orr	r1, r1, r2, lsl #6
 1641              		.loc 1 526 101 view .LVU452
 1642 02ae C3F38002 		ubfx	r2, r3, #2, #1
 1643              		.loc 1 526 88 view .LVU453
 1644 02b2 41EA4211 		orr	r1, r1, r2, lsl #5
 527:Device/Src/drv_wave1006.c **** 		(config_arg->timer_ext_config << 4) | (config_arg->alarm_ext_config << 3) | ((config_arg->device_
 1645              		.loc 1 527 14 view .LVU454
 1646 02b6 C3F34002 		ubfx	r2, r3, #1, #1
 526:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1647              		.loc 1 526 130 view .LVU455
 1648 02ba 41EA0211 		orr	r1, r1, r2, lsl #4
 1649              		.loc 1 527 52 view .LVU456
 1650 02be 03F00103 		and	r3, r3, #1
 1651              		.loc 1 527 39 view .LVU457
 1652 02c2 41EAC301 		orr	r1, r1, r3, lsl #3
 1653              		.loc 1 527 91 view .LVU458
 1654 02c6 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1655              		.loc 1 527 77 view .LVU459
 1656 02c8 41EA5311 		orr	r1, r1, r3, lsr #5
 524:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1657              		.loc 1 524 11 view .LVU460
 1658 02cc ADF80610 		strh	r1, [sp, #6]	@ movhi
 528:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1659              		.loc 1 528 2 is_stmt 1 view .LVU461
 1660              		.loc 1 528 15 is_stmt 0 view .LVU462
 1661 02d0 0E44     		add	r6, r6, r1
 1662              	.LVL116:
 529:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(5, otp_temp);
 1663              		.loc 1 529 2 is_stmt 1 view .LVU463
 1664 02d2 0520     		movs	r0, #5
 1665 02d4 FFF7FEFF 		bl	wave1006_write_otp_single
 1666              	.LVL117:
 530:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr5:%hx\r\n", otp_temp);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 45


 1667              		.loc 1 530 2 view .LVU464
 1668 02d8 BDF80610 		ldrh	r1, [sp, #6]
 1669 02dc 3C48     		ldr	r0, .L84+36
 1670 02de FFF7FEFF 		bl	UsbPrintf
 1671              	.LVL118:
 531:Device/Src/drv_wave1006.c **** 
 532:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config & 0x03) << 12) | (config_arg->en_bat_pulldown_config <<
 1672              		.loc 1 532 2 view .LVU465
 1673              		.loc 1 532 25 is_stmt 0 view .LVU466
 1674 02e2 E189     		ldrh	r1, [r4, #14]
 1675 02e4 C1F30C01 		ubfx	r1, r1, #0, #13
 1676              		.loc 1 532 53 view .LVU467
 1677 02e8 0903     		lsls	r1, r1, #12
 1678 02ea 01F44051 		and	r1, r1, #12288
 1679              		.loc 1 532 73 view .LVU468
 1680 02ee 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1681 02f0 C3F38012 		ubfx	r2, r3, #6, #1
 1682              		.loc 1 532 60 view .LVU469
 1683 02f4 41EAC221 		orr	r1, r1, r2, lsl #11
 1684              		.loc 1 532 118 view .LVU470
 1685 02f8 C3F34012 		ubfx	r2, r3, #5, #1
 1686              		.loc 1 532 105 view .LVU471
 1687 02fc 41EA8221 		orr	r1, r1, r2, lsl #10
 533:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1688              		.loc 1 533 14 view .LVU472
 1689 0300 C3F3C102 		ubfx	r2, r3, #3, #2
 532:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1690              		.loc 1 532 154 view .LVU473
 1691 0304 41EA0221 		orr	r1, r1, r2, lsl #8
 1692              		.loc 1 533 56 view .LVU474
 1693 0308 03F00703 		and	r3, r3, #7
 1694              		.loc 1 533 42 view .LVU475
 1695 030c 41EA4311 		orr	r1, r1, r3, lsl #5
 1696              		.loc 1 533 96 view .LVU476
 1697 0310 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1698 0312 5A09     		lsrs	r2, r3, #5
 1699              		.loc 1 533 84 view .LVU477
 1700 0314 41EA8201 		orr	r1, r1, r2, lsl #2
 1701              		.loc 1 533 139 view .LVU478
 1702 0318 C3F30012 		ubfx	r2, r3, #4, #1
 1703              		.loc 1 533 125 view .LVU479
 1704 031c 41EA4201 		orr	r1, r1, r2, lsl #1
 534:Device/Src/drv_wave1006.c **** 		config_arg->temp_alarm_ext_config;
 1705              		.loc 1 534 13 view .LVU480
 1706 0320 C3F3C003 		ubfx	r3, r3, #3, #1
 533:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1707              		.loc 1 533 167 view .LVU481
 1708 0324 1943     		orrs	r1, r1, r3
 532:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1709              		.loc 1 532 11 view .LVU482
 1710 0326 ADF80610 		strh	r1, [sp, #6]	@ movhi
 535:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1711              		.loc 1 535 2 is_stmt 1 view .LVU483
 1712              		.loc 1 535 15 is_stmt 0 view .LVU484
 1713 032a 0E44     		add	r6, r6, r1
 1714              	.LVL119:
 536:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(6, otp_temp);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 46


 1715              		.loc 1 536 2 is_stmt 1 view .LVU485
 1716 032c 0620     		movs	r0, #6
 1717 032e FFF7FEFF 		bl	wave1006_write_otp_single
 1718              	.LVL120:
 537:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr6:%hx\r\n", otp_temp);
 1719              		.loc 1 537 2 view .LVU486
 1720 0332 BDF80610 		ldrh	r1, [sp, #6]
 1721 0336 2748     		ldr	r0, .L84+40
 1722 0338 FFF7FEFF 		bl	UsbPrintf
 1723              	.LVL121:
 538:Device/Src/drv_wave1006.c **** 
 539:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config << 6) & 0x3f00 ) | id[0];
 1724              		.loc 1 539 2 view .LVU487
 1725              		.loc 1 539 25 is_stmt 0 view .LVU488
 1726 033c E189     		ldrh	r1, [r4, #14]
 1727 033e C1F30C01 		ubfx	r1, r1, #0, #13
 1728              		.loc 1 539 45 view .LVU489
 1729 0342 8901     		lsls	r1, r1, #6
 1730              		.loc 1 539 51 view .LVU490
 1731 0344 01F47C51 		and	r1, r1, #16128
 1732              		.loc 1 539 66 view .LVU491
 1733 0348 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 1734              		.loc 1 539 62 view .LVU492
 1735 034c 1943     		orrs	r1, r1, r3
 1736              		.loc 1 539 11 view .LVU493
 1737 034e ADF80610 		strh	r1, [sp, #6]	@ movhi
 540:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1738              		.loc 1 540 2 is_stmt 1 view .LVU494
 1739              		.loc 1 540 15 is_stmt 0 view .LVU495
 1740 0352 0E44     		add	r6, r6, r1
 1741              	.LVL122:
 541:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(7, otp_temp);
 1742              		.loc 1 541 2 is_stmt 1 view .LVU496
 1743 0354 0720     		movs	r0, #7
 1744 0356 FFF7FEFF 		bl	wave1006_write_otp_single
 1745              	.LVL123:
 542:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr7:%hx\r\n", otp_temp);
 1746              		.loc 1 542 2 view .LVU497
 1747 035a BDF80610 		ldrh	r1, [sp, #6]
 1748 035e 1E48     		ldr	r0, .L84+44
 1749 0360 FFF7FEFF 		bl	UsbPrintf
 1750              	.LVL124:
 543:Device/Src/drv_wave1006.c **** 
 544:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->spi_freq_en_config << 13) | (config_arg->osc_config_config & 0x1f00 ) | id
 1751              		.loc 1 544 2 view .LVU498
 1752              		.loc 1 544 24 is_stmt 0 view .LVU499
 1753 0364 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 1754 0366 C3F34013 		ubfx	r3, r3, #5, #1
 1755              		.loc 1 544 65 view .LVU500
 1756 036a E189     		ldrh	r1, [r4, #14]
 1757              		.loc 1 544 85 view .LVU501
 1758 036c 01F4F851 		and	r1, r1, #7936
 1759              		.loc 1 544 52 view .LVU502
 1760 0370 41EA4331 		orr	r1, r1, r3, lsl #13
 1761              		.loc 1 544 100 view .LVU503
 1762 0374 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1763              		.loc 1 544 96 view .LVU504
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 47


 1764 0378 1943     		orrs	r1, r1, r3
 1765              		.loc 1 544 11 view .LVU505
 1766 037a ADF80610 		strh	r1, [sp, #6]	@ movhi
 545:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1767              		.loc 1 545 2 is_stmt 1 view .LVU506
 1768              		.loc 1 545 15 is_stmt 0 view .LVU507
 1769 037e 0E44     		add	r6, r6, r1
 1770              	.LVL125:
 546:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(8, otp_temp);
 1771              		.loc 1 546 2 is_stmt 1 view .LVU508
 1772 0380 0820     		movs	r0, #8
 1773 0382 FFF7FEFF 		bl	wave1006_write_otp_single
 1774              	.LVL126:
 547:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr8:%hx\r\n", otp_temp);
 1775              		.loc 1 547 2 view .LVU509
 1776 0386 BDF80610 		ldrh	r1, [sp, #6]
 1777 038a 1448     		ldr	r0, .L84+48
 1778 038c FFF7FEFF 		bl	UsbPrintf
 1779              	.LVL127:
 548:Device/Src/drv_wave1006.c **** 
 549:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->freq_src_config & 0x03) << 12) | (config_arg->vol_sel_config << 8) | id[2
 1780              		.loc 1 549 2 view .LVU510
 1781              		.loc 1 549 25 is_stmt 0 view .LVU511
 1782 0390 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1783 0392 C3F30211 		ubfx	r1, r3, #4, #3
 1784              		.loc 1 549 51 view .LVU512
 1785 0396 0903     		lsls	r1, r1, #12
 1786 0398 01F44051 		and	r1, r1, #12288
 1787              		.loc 1 549 71 view .LVU513
 1788 039c 03F00F03 		and	r3, r3, #15
 1789              		.loc 1 549 58 view .LVU514
 1790 03a0 41EA0321 		orr	r1, r1, r3, lsl #8
 1791              		.loc 1 549 98 view .LVU515
 1792 03a4 99F80230 		ldrb	r3, [r9, #2]	@ zero_extendqisi2
 1793 03a8 1AE0     		b	.L85
 1794              	.L86:
 1795 03aa 00BF     		.align	2
 1796              	.L84:
 1797 03ac 00000000 		.word	.LANCHOR0
 1798 03b0 00000000 		.word	.LC3
 1799 03b4 38000000 		.word	.LC5
 1800 03b8 00100240 		.word	1073876992
 1801 03bc 84000000 		.word	.LC6
 1802 03c0 94000000 		.word	.LC7
 1803 03c4 A4000000 		.word	.LC8
 1804 03c8 B4000000 		.word	.LC9
 1805 03cc C4000000 		.word	.LC10
 1806 03d0 D4000000 		.word	.LC11
 1807 03d4 E4000000 		.word	.LC12
 1808 03d8 F4000000 		.word	.LC13
 1809 03dc 04010000 		.word	.LC14
 1810              	.L85:
 1811              		.loc 1 549 94 view .LVU516
 1812 03e0 1943     		orrs	r1, r1, r3
 1813              		.loc 1 549 11 view .LVU517
 1814 03e2 ADF80610 		strh	r1, [sp, #6]	@ movhi
 550:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 48


 1815              		.loc 1 550 2 is_stmt 1 view .LVU518
 1816              		.loc 1 550 15 is_stmt 0 view .LVU519
 1817 03e6 0E44     		add	r6, r6, r1
 1818              	.LVL128:
 551:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(9, otp_temp);
 1819              		.loc 1 551 2 is_stmt 1 view .LVU520
 1820 03e8 0920     		movs	r0, #9
 1821 03ea FFF7FEFF 		bl	wave1006_write_otp_single
 1822              	.LVL129:
 552:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr9:%hx\r\n", otp_temp);
 1823              		.loc 1 552 2 view .LVU521
 1824 03ee BDF80610 		ldrh	r1, [sp, #6]
 1825 03f2 AE48     		ldr	r0, .L87
 1826 03f4 FFF7FEFF 		bl	UsbPrintf
 1827              	.LVL130:
 553:Device/Src/drv_wave1006.c **** 	
 554:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->comp_period_config  << 12) | (config_arg->sout_open_drain_config << 11) | 
 1828              		.loc 1 554 2 view .LVU522
 1829              		.loc 1 554 24 is_stmt 0 view .LVU523
 1830 03f8 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1831 03fa C3F38102 		ubfx	r2, r3, #2, #2
 1832              		.loc 1 554 66 view .LVU524
 1833 03fe C3F34001 		ubfx	r1, r3, #1, #1
 1834              		.loc 1 554 91 view .LVU525
 1835 0402 C902     		lsls	r1, r1, #11
 1836              		.loc 1 554 53 view .LVU526
 1837 0404 41EA0231 		orr	r1, r1, r2, lsl #12
 1838              		.loc 1 554 111 view .LVU527
 1839 0408 03F00103 		and	r3, r3, #1
 1840              		.loc 1 554 98 view .LVU528
 1841 040c 41EA8321 		orr	r1, r1, r3, lsl #10
 555:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1842              		.loc 1 555 14 view .LVU529
 1843 0410 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1844 0412 DA09     		lsrs	r2, r3, #7
 554:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1845              		.loc 1 554 143 view .LVU530
 1846 0414 41EA4221 		orr	r1, r1, r2, lsl #9
 1847              		.loc 1 555 55 view .LVU531
 1848 0418 C3F30213 		ubfx	r3, r3, #4, #3
 1849              		.loc 1 555 81 view .LVU532
 1850 041c 9B01     		lsls	r3, r3, #6
 1851 041e 03F48073 		and	r3, r3, #256
 1852              		.loc 1 555 41 view .LVU533
 1853 0422 1943     		orrs	r1, r1, r3
 1854              		.loc 1 555 91 view .LVU534
 1855 0424 99F80330 		ldrb	r3, [r9, #3]	@ zero_extendqisi2
 1856              		.loc 1 555 87 view .LVU535
 1857 0428 1943     		orrs	r1, r1, r3
 554:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1858              		.loc 1 554 11 view .LVU536
 1859 042a ADF80610 		strh	r1, [sp, #6]	@ movhi
 556:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1860              		.loc 1 556 2 is_stmt 1 view .LVU537
 1861              		.loc 1 556 15 is_stmt 0 view .LVU538
 1862 042e 0E44     		add	r6, r6, r1
 1863              	.LVL131:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 49


 557:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(10, otp_temp);
 1864              		.loc 1 557 2 is_stmt 1 view .LVU539
 1865 0430 0A20     		movs	r0, #10
 1866 0432 FFF7FEFF 		bl	wave1006_write_otp_single
 1867              	.LVL132:
 558:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addra:%hx\r\n", otp_temp);
 1868              		.loc 1 558 2 view .LVU540
 1869 0436 BDF80610 		ldrh	r1, [sp, #6]
 1870 043a 9D48     		ldr	r0, .L87+4
 1871 043c FFF7FEFF 		bl	UsbPrintf
 1872              	.LVL133:
 559:Device/Src/drv_wave1006.c **** 
 560:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->adjust_25_config & 0x0f) << 10) | (config_arg->rst_time_config << 8) | id
 1873              		.loc 1 560 2 view .LVU541
 1874              		.loc 1 560 25 is_stmt 0 view .LVU542
 1875 0440 A17C     		ldrb	r1, [r4, #18]	@ zero_extendqisi2
 1876 0442 01F07F01 		and	r1, r1, #127
 1877              		.loc 1 560 52 view .LVU543
 1878 0446 8902     		lsls	r1, r1, #10
 1879 0448 01F47051 		and	r1, r1, #15360
 1880              		.loc 1 560 72 view .LVU544
 1881 044c 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1882 044e C3F30113 		ubfx	r3, r3, #4, #2
 1883              		.loc 1 560 59 view .LVU545
 1884 0452 41EA0321 		orr	r1, r1, r3, lsl #8
 1885              		.loc 1 560 100 view .LVU546
 1886 0456 99F80430 		ldrb	r3, [r9, #4]	@ zero_extendqisi2
 1887              		.loc 1 560 96 view .LVU547
 1888 045a 1943     		orrs	r1, r1, r3
 1889              		.loc 1 560 11 view .LVU548
 1890 045c ADF80610 		strh	r1, [sp, #6]	@ movhi
 561:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1891              		.loc 1 561 2 is_stmt 1 view .LVU549
 1892              		.loc 1 561 15 is_stmt 0 view .LVU550
 1893 0460 0E44     		add	r6, r6, r1
 1894              	.LVL134:
 562:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(11, otp_temp);
 1895              		.loc 1 562 2 is_stmt 1 view .LVU551
 1896 0462 0B20     		movs	r0, #11
 1897 0464 FFF7FEFF 		bl	wave1006_write_otp_single
 1898              	.LVL135:
 563:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrb:%hx\r\n", otp_temp);
 1899              		.loc 1 563 2 view .LVU552
 1900 0468 BDF80610 		ldrh	r1, [sp, #6]
 1901 046c 9148     		ldr	r0, .L87+8
 1902 046e FFF7FEFF 		bl	UsbPrintf
 1903              	.LVL136:
 564:Device/Src/drv_wave1006.c **** 
 565:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->bus_select_config << 13) | (1 << 12) | (config_arg->spi_mode_config << 11)
 1904              		.loc 1 565 2 view .LVU553
 1905              		.loc 1 565 24 is_stmt 0 view .LVU554
 1906 0472 E17C     		ldrb	r1, [r4, #19]	@ zero_extendqisi2
 1907 0474 01F00101 		and	r1, r1, #1
 1908              		.loc 1 565 44 view .LVU555
 1909 0478 4903     		lsls	r1, r1, #13
 1910              		.loc 1 565 51 view .LVU556
 1911 047a 41F48051 		orr	r1, r1, #4096
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 50


 1912              		.loc 1 565 76 view .LVU557
 1913 047e A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 1914 0480 DA09     		lsrs	r2, r3, #7
 1915              		.loc 1 565 63 view .LVU558
 1916 0482 41EAC221 		orr	r1, r1, r2, lsl #11
 1917              		.loc 1 565 115 view .LVU559
 1918 0486 03F07F03 		and	r3, r3, #127
 1919              		.loc 1 565 134 view .LVU560
 1920 048a 1B01     		lsls	r3, r3, #4
 1921              		.loc 1 565 140 view .LVU561
 1922 048c 03F4E063 		and	r3, r3, #1792
 1923              		.loc 1 565 101 view .LVU562
 1924 0490 1943     		orrs	r1, r1, r3
 1925              		.loc 1 565 153 view .LVU563
 1926 0492 99F80530 		ldrb	r3, [r9, #5]	@ zero_extendqisi2
 1927              		.loc 1 565 149 view .LVU564
 1928 0496 1943     		orrs	r1, r1, r3
 1929              		.loc 1 565 11 view .LVU565
 1930 0498 ADF80610 		strh	r1, [sp, #6]	@ movhi
 566:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1931              		.loc 1 566 2 is_stmt 1 view .LVU566
 1932              		.loc 1 566 15 is_stmt 0 view .LVU567
 1933 049c 0E44     		add	r6, r6, r1
 1934              	.LVL137:
 567:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(12, otp_temp);
 1935              		.loc 1 567 2 is_stmt 1 view .LVU568
 1936 049e 0C20     		movs	r0, #12
 1937 04a0 FFF7FEFF 		bl	wave1006_write_otp_single
 1938              	.LVL138:
 568:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrc:%hx\r\n", otp_temp);
 1939              		.loc 1 568 2 view .LVU569
 1940 04a4 BDF80610 		ldrh	r1, [sp, #6]
 1941 04a8 8348     		ldr	r0, .L87+12
 1942 04aa FFF7FEFF 		bl	UsbPrintf
 1943              	.LVL139:
 569:Device/Src/drv_wave1006.c **** 
 570:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 9) & 0x3e00) | (config_arg->en_charge_config << 8) | 
 1944              		.loc 1 570 2 view .LVU570
 1945              		.loc 1 570 25 is_stmt 0 view .LVU571
 1946 04ae A18A     		ldrh	r1, [r4, #20]
 1947 04b0 C1F30C01 		ubfx	r1, r1, #0, #13
 1948              		.loc 1 570 44 view .LVU572
 1949 04b4 4902     		lsls	r1, r1, #9
 1950              		.loc 1 570 50 view .LVU573
 1951 04b6 01F47851 		and	r1, r1, #15872
 1952              		.loc 1 570 73 view .LVU574
 1953 04ba E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 1954 04bc C3F34003 		ubfx	r3, r3, #1, #1
 1955              		.loc 1 570 60 view .LVU575
 1956 04c0 41EA0321 		orr	r1, r1, r3, lsl #8
 1957              		.loc 1 570 102 view .LVU576
 1958 04c4 99F80630 		ldrb	r3, [r9, #6]	@ zero_extendqisi2
 1959              		.loc 1 570 98 view .LVU577
 1960 04c8 1943     		orrs	r1, r1, r3
 1961              		.loc 1 570 11 view .LVU578
 1962 04ca ADF80610 		strh	r1, [sp, #6]	@ movhi
 571:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 51


 1963              		.loc 1 571 2 is_stmt 1 view .LVU579
 1964              		.loc 1 571 15 is_stmt 0 view .LVU580
 1965 04ce 0E44     		add	r6, r6, r1
 1966              	.LVL140:
 572:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(13, otp_temp);
 1967              		.loc 1 572 2 is_stmt 1 view .LVU581
 1968 04d0 0D20     		movs	r0, #13
 1969 04d2 FFF7FEFF 		bl	wave1006_write_otp_single
 1970              	.LVL141:
 573:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrd:%hx\r\n", otp_temp);
 1971              		.loc 1 573 2 view .LVU582
 1972 04d6 BDF80610 		ldrh	r1, [sp, #6]
 1973 04da 7848     		ldr	r0, .L87+16
 1974 04dc FFF7FEFF 		bl	UsbPrintf
 1975              	.LVL142:
 574:Device/Src/drv_wave1006.c **** 
 575:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 3) & 0x3f00) | id[7];
 1976              		.loc 1 575 2 view .LVU583
 1977              		.loc 1 575 25 is_stmt 0 view .LVU584
 1978 04e0 A18A     		ldrh	r1, [r4, #20]
 1979 04e2 C1F30C01 		ubfx	r1, r1, #0, #13
 1980              		.loc 1 575 44 view .LVU585
 1981 04e6 C900     		lsls	r1, r1, #3
 1982              		.loc 1 575 50 view .LVU586
 1983 04e8 01F47C51 		and	r1, r1, #16128
 1984              		.loc 1 575 64 view .LVU587
 1985 04ec 99F80730 		ldrb	r3, [r9, #7]	@ zero_extendqisi2
 1986              		.loc 1 575 60 view .LVU588
 1987 04f0 1943     		orrs	r1, r1, r3
 1988              		.loc 1 575 11 view .LVU589
 1989 04f2 ADF80610 		strh	r1, [sp, #6]	@ movhi
 576:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1990              		.loc 1 576 2 is_stmt 1 view .LVU590
 1991              		.loc 1 576 15 is_stmt 0 view .LVU591
 1992 04f6 0E44     		add	r6, r6, r1
 1993              	.LVL143:
 577:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(14, otp_temp);
 1994              		.loc 1 577 2 is_stmt 1 view .LVU592
 1995 04f8 0E20     		movs	r0, #14
 1996 04fa FFF7FEFF 		bl	wave1006_write_otp_single
 1997              	.LVL144:
 578:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addre:%hx\r\n", otp_temp);
 1998              		.loc 1 578 2 view .LVU593
 1999 04fe BDF80610 		ldrh	r1, [sp, #6]
 2000 0502 6F48     		ldr	r0, .L87+20
 2001 0504 FFF7FEFF 		bl	UsbPrintf
 2002              	.LVL145:
 579:Device/Src/drv_wave1006.c **** 
 580:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->timer_rst_out_config << 13)  | (config_arg->charge_vol_adj_config << 10) |
 2003              		.loc 1 580 2 view .LVU594
 2004              		.loc 1 580 24 is_stmt 0 view .LVU595
 2005 0508 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 2006 050a 03F00103 		and	r3, r3, #1
 2007              		.loc 1 580 68 view .LVU596
 2008 050e 617D     		ldrb	r1, [r4, #21]	@ zero_extendqisi2
 2009 0510 4909     		lsrs	r1, r1, #5
 2010              		.loc 1 580 92 view .LVU597
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 52


 2011 0512 8902     		lsls	r1, r1, #10
 2012              		.loc 1 580 55 view .LVU598
 2013 0514 41EA4331 		orr	r1, r1, r3, lsl #13
 2014              		.loc 1 580 113 view .LVU599
 2015 0518 A38A     		ldrh	r3, [r4, #20]
 2016              		.loc 1 580 132 view .LVU600
 2017 051a C3F3C903 		ubfx	r3, r3, #3, #10
 2018              		.loc 1 580 138 view .LVU601
 2019 051e 03F44073 		and	r3, r3, #768
 2020              		.loc 1 580 99 view .LVU602
 2021 0522 1943     		orrs	r1, r1, r3
 2022              		.loc 1 580 151 view .LVU603
 2023 0524 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2024              		.loc 1 580 147 view .LVU604
 2025 0528 1943     		orrs	r1, r1, r3
 2026              		.loc 1 580 11 view .LVU605
 2027 052a ADF80610 		strh	r1, [sp, #6]	@ movhi
 581:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 2028              		.loc 1 581 2 is_stmt 1 view .LVU606
 2029              		.loc 1 581 15 is_stmt 0 view .LVU607
 2030 052e 0E44     		add	r6, r6, r1
 2031              	.LVL146:
 582:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(15, otp_temp);
 2032              		.loc 1 582 2 is_stmt 1 view .LVU608
 2033 0530 0F20     		movs	r0, #15
 2034 0532 FFF7FEFF 		bl	wave1006_write_otp_single
 2035              	.LVL147:
 583:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrf:%hx\r\n", otp_temp);
 2036              		.loc 1 583 2 view .LVU609
 2037 0536 BDF80610 		ldrh	r1, [sp, #6]
 2038 053a 6248     		ldr	r0, .L87+24
 2039 053c FFF7FEFF 		bl	UsbPrintf
 2040              	.LVL148:
 584:Device/Src/drv_wave1006.c **** 
 585:Device/Src/drv_wave1006.c **** 	for (i = 16; i < 47; i++)
 2041              		.loc 1 585 2 view .LVU610
 2042              		.loc 1 585 9 is_stmt 0 view .LVU611
 2043 0540 1024     		movs	r4, #16
 2044              	.LVL149:
 2045              		.loc 1 585 2 view .LVU612
 2046 0542 13E0     		b	.L69
 2047              	.LVL150:
 2048              	.L82:
 477:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2049              		.loc 1 477 3 is_stmt 1 view .LVU613
 2050 0544 6048     		ldr	r0, .L87+28
 2051 0546 FFF7FEFF 		bl	UsbPrintf
 2052              	.LVL151:
 478:Device/Src/drv_wave1006.c **** 	}
 2053              		.loc 1 478 3 view .LVU614
 478:Device/Src/drv_wave1006.c **** 	}
 2054              		.loc 1 478 10 is_stmt 0 view .LVU615
 2055 054a 6FF00208 		mvn	r8, #2
 2056 054e 92E0     		b	.L67
 2057              	.LVL152:
 2058              	.L70:
 586:Device/Src/drv_wave1006.c **** 	{
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 53


 587:Device/Src/drv_wave1006.c **** 		otp_temp = 0x3f00 | id[9+i-16];
 2059              		.loc 1 587 3 is_stmt 1 discriminator 3 view .LVU616
 2060              		.loc 1 587 25 is_stmt 0 discriminator 3 view .LVU617
 2061 0550 09EB0403 		add	r3, r9, r4
 2062 0554 13F8071C 		ldrb	r1, [r3, #-7]	@ zero_extendqisi2
 2063              		.loc 1 587 21 discriminator 3 view .LVU618
 2064 0558 41F47C51 		orr	r1, r1, #16128
 2065              		.loc 1 587 12 discriminator 3 view .LVU619
 2066 055c ADF80610 		strh	r1, [sp, #6]	@ movhi
 588:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2067              		.loc 1 588 3 is_stmt 1 discriminator 3 view .LVU620
 2068              		.loc 1 588 16 is_stmt 0 discriminator 3 view .LVU621
 2069 0560 0E44     		add	r6, r6, r1
 2070              	.LVL153:
 589:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2071              		.loc 1 589 3 is_stmt 1 discriminator 3 view .LVU622
 2072 0562 2046     		mov	r0, r4
 2073 0564 FFF7FEFF 		bl	wave1006_write_otp_single
 2074              	.LVL154:
 585:Device/Src/drv_wave1006.c **** 	{
 2075              		.loc 1 585 23 discriminator 3 view .LVU623
 585:Device/Src/drv_wave1006.c **** 	{
 2076              		.loc 1 585 24 is_stmt 0 discriminator 3 view .LVU624
 2077 0568 0134     		adds	r4, r4, #1
 2078              	.LVL155:
 585:Device/Src/drv_wave1006.c **** 	{
 2079              		.loc 1 585 24 discriminator 3 view .LVU625
 2080 056a A4B2     		uxth	r4, r4
 2081              	.LVL156:
 2082              	.L69:
 585:Device/Src/drv_wave1006.c **** 	{
 2083              		.loc 1 585 15 is_stmt 1 discriminator 1 view .LVU626
 585:Device/Src/drv_wave1006.c **** 	{
 2084              		.loc 1 585 2 is_stmt 0 discriminator 1 view .LVU627
 2085 056c 2E2C     		cmp	r4, #46
 2086 056e EFD9     		bls	.L70
 590:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
 591:Device/Src/drv_wave1006.c **** 	}
 592:Device/Src/drv_wave1006.c **** 	check_sum_wr += 0x3fff;
 2087              		.loc 1 592 2 is_stmt 1 view .LVU628
 2088              		.loc 1 592 15 is_stmt 0 view .LVU629
 2089 0570 06F57F56 		add	r6, r6, #16320
 2090              	.LVL157:
 2091              		.loc 1 592 15 view .LVU630
 2092 0574 3F36     		adds	r6, r6, #63
 2093              	.LVL158:
 593:Device/Src/drv_wave1006.c **** //	write temp value
 594:Device/Src/drv_wave1006.c **** 	for (i = 48; i < 210 * 4 + 48 ; i=i+2)
 2094              		.loc 1 594 2 is_stmt 1 view .LVU631
 2095              		.loc 1 594 9 is_stmt 0 view .LVU632
 2096 0576 3024     		movs	r4, #48
 2097              		.loc 1 594 2 view .LVU633
 2098 0578 26E0     		b	.L71
 2099              	.LVL159:
 2100              	.L72:
 595:Device/Src/drv_wave1006.c **** 	{
 596:Device/Src/drv_wave1006.c **** 		otp_temp = ((temp_arg->temp_adj & 0x07) << 11) | (temp_arg->cap_com << 6) | (temp_arg->cap_in << 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 54


 2101              		.loc 1 596 3 is_stmt 1 discriminator 3 view .LVU634
 2102              		.loc 1 596 24 is_stmt 0 discriminator 3 view .LVU635
 2103 057a A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2104              		.loc 1 596 43 discriminator 3 view .LVU636
 2105 057c C902     		lsls	r1, r1, #11
 2106 057e 01F46051 		and	r1, r1, #14336
 2107              		.loc 1 596 61 discriminator 3 view .LVU637
 2108 0582 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 2109 0584 03F01F02 		and	r2, r3, #31
 2110              		.loc 1 596 50 discriminator 3 view .LVU638
 2111 0588 41EA8211 		orr	r1, r1, r2, lsl #6
 2112              		.loc 1 596 88 discriminator 3 view .LVU639
 2113 058c 5B09     		lsrs	r3, r3, #5
 2114              		.loc 1 596 77 discriminator 3 view .LVU640
 2115 058e 41EAC301 		orr	r1, r1, r3, lsl #3
 2116              		.loc 1 596 113 discriminator 3 view .LVU641
 2117 0592 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2118 0594 03F00703 		and	r3, r3, #7
 2119              		.loc 1 596 103 discriminator 3 view .LVU642
 2120 0598 1943     		orrs	r1, r1, r3
 2121              		.loc 1 596 12 discriminator 3 view .LVU643
 2122 059a ADF80610 		strh	r1, [sp, #6]	@ movhi
 597:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2123              		.loc 1 597 3 is_stmt 1 discriminator 3 view .LVU644
 2124              		.loc 1 597 16 is_stmt 0 discriminator 3 view .LVU645
 2125 059e 0E44     		add	r6, r6, r1
 2126              	.LVL160:
 598:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2127              		.loc 1 598 3 is_stmt 1 discriminator 3 view .LVU646
 2128 05a0 2046     		mov	r0, r4
 2129 05a2 FFF7FEFF 		bl	wave1006_write_otp_single
 2130              	.LVL161:
 599:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
 600:Device/Src/drv_wave1006.c **** 
 601:Device/Src/drv_wave1006.c **** 		otp_temp = (temp_arg->temp_val << 5) | (temp_arg->temp_adj >> 3);
 2131              		.loc 1 601 3 discriminator 3 view .LVU647
 2132              		.loc 1 601 23 is_stmt 0 discriminator 3 view .LVU648
 2133 05a6 A988     		ldrh	r1, [r5, #4]
 2134 05a8 C1F30803 		ubfx	r3, r1, #0, #9
 2135              		.loc 1 601 51 discriminator 3 view .LVU649
 2136 05ac A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2137              		.loc 1 601 40 discriminator 3 view .LVU650
 2138 05ae C908     		lsrs	r1, r1, #3
 2139 05b0 41EA4311 		orr	r1, r1, r3, lsl #5
 2140              		.loc 1 601 12 discriminator 3 view .LVU651
 2141 05b4 ADF80610 		strh	r1, [sp, #6]	@ movhi
 602:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2142              		.loc 1 602 3 is_stmt 1 discriminator 3 view .LVU652
 2143              		.loc 1 602 16 is_stmt 0 discriminator 3 view .LVU653
 2144 05b8 0E44     		add	r6, r6, r1
 2145              	.LVL162:
 603:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i + 1, otp_temp);
 2146              		.loc 1 603 3 is_stmt 1 discriminator 3 view .LVU654
 2147 05ba 601C     		adds	r0, r4, #1
 2148 05bc 80B2     		uxth	r0, r0
 2149 05be FFF7FEFF 		bl	wave1006_write_otp_single
 2150              	.LVL163:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 55


 604:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i + 1, otp_temp);
 605:Device/Src/drv_wave1006.c **** 		temp_arg++;    //温补数据指向下一个字节
 2151              		.loc 1 605 3 discriminator 3 view .LVU655
 2152              		.loc 1 605 11 is_stmt 0 discriminator 3 view .LVU656
 2153 05c2 0635     		adds	r5, r5, #6
 2154              	.LVL164:
 594:Device/Src/drv_wave1006.c **** 	{
 2155              		.loc 1 594 34 is_stmt 1 discriminator 3 view .LVU657
 594:Device/Src/drv_wave1006.c **** 	{
 2156              		.loc 1 594 35 is_stmt 0 discriminator 3 view .LVU658
 2157 05c4 0234     		adds	r4, r4, #2
 2158              	.LVL165:
 594:Device/Src/drv_wave1006.c **** 	{
 2159              		.loc 1 594 35 discriminator 3 view .LVU659
 2160 05c6 A4B2     		uxth	r4, r4
 2161              	.LVL166:
 2162              	.L71:
 594:Device/Src/drv_wave1006.c **** 	{
 2163              		.loc 1 594 15 is_stmt 1 discriminator 1 view .LVU660
 594:Device/Src/drv_wave1006.c **** 	{
 2164              		.loc 1 594 2 is_stmt 0 discriminator 1 view .LVU661
 2165 05c8 B4F55E7F 		cmp	r4, #888
 2166 05cc D5D3     		bcc	.L72
 606:Device/Src/drv_wave1006.c **** 	}
 607:Device/Src/drv_wave1006.c **** 	wr_pos = i;
 2167              		.loc 1 607 2 is_stmt 1 view .LVU662
 2168              	.LVL167:
 608:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ OTP ********************************/\r\n");
 2169              		.loc 1 608 2 view .LVU663
 2170 05ce 3F48     		ldr	r0, .L87+32
 2171 05d0 FFF7FEFF 		bl	UsbPrintf
 2172              	.LVL168:
 609:Device/Src/drv_wave1006.c **** //	write otp is complete, switch i2c prot, io6 =5V
 610:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  
 2173              		.loc 1 610 2 view .LVU664
 2174 05d4 B1EE040A 		vmov.f32	s0, #5.0e+0
 2175 05d8 FFF7FEFF 		bl	rtc_otp_power
 2176              	.LVL169:
 611:Device/Src/drv_wave1006.c **** //  pprog = 0 
 612:Device/Src/drv_wave1006.c ****     buf[0] = 0x82;
 2177              		.loc 1 612 5 view .LVU665
 2178              		.loc 1 612 12 is_stmt 0 view .LVU666
 2179 05dc 8223     		movs	r3, #130
 2180 05de 8DF80830 		strb	r3, [sp, #8]
 613:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2181              		.loc 1 613 2 is_stmt 1 view .LVU667
 2182 05e2 02AB     		add	r3, sp, #8
 2183 05e4 0122     		movs	r2, #1
 2184 05e6 2D21     		movs	r1, #45
 2185 05e8 0020     		movs	r0, #0
 2186 05ea FFF7FEFF 		bl	drv_wave1006_write_reg
 2187              	.LVL170:
 614:Device/Src/drv_wave1006.c **** //    ptm=000
 615:Device/Src/drv_wave1006.c ****     buf[0] = 0x80;
 2188              		.loc 1 615 5 view .LVU668
 2189              		.loc 1 615 12 is_stmt 0 view .LVU669
 2190 05ee 8023     		movs	r3, #128
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 56


 2191 05f0 8DF80830 		strb	r3, [sp, #8]
 616:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2192              		.loc 1 616 2 is_stmt 1 view .LVU670
 2193 05f4 02AB     		add	r3, sp, #8
 2194 05f6 0122     		movs	r2, #1
 2195 05f8 2D21     		movs	r1, #45
 2196 05fa 0020     		movs	r0, #0
 2197 05fc FFF7FEFF 		bl	drv_wave1006_write_reg
 2198              	.LVL171:
 617:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 618:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2199              		.loc 1 618 5 view .LVU671
 2200              		.loc 1 618 12 is_stmt 0 view .LVU672
 2201 0600 0025     		movs	r5, #0
 2202              	.LVL172:
 2203              		.loc 1 618 12 view .LVU673
 2204 0602 8DF80850 		strb	r5, [sp, #8]
 619:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2205              		.loc 1 619 5 is_stmt 1 view .LVU674
 2206              		.loc 1 619 12 is_stmt 0 view .LVU675
 2207 0606 8DF80950 		strb	r5, [sp, #9]
 620:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2208              		.loc 1 620 5 is_stmt 1 view .LVU676
 2209              		.loc 1 620 12 is_stmt 0 view .LVU677
 2210 060a 8DF80A50 		strb	r5, [sp, #10]
 621:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2211              		.loc 1 621 5 is_stmt 1 view .LVU678
 2212              		.loc 1 621 12 is_stmt 0 view .LVU679
 2213 060e 8DF80B50 		strb	r5, [sp, #11]
 622:Device/Src/drv_wave1006.c ****     drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2214              		.loc 1 622 5 is_stmt 1 view .LVU680
 2215 0612 02AB     		add	r3, sp, #8
 2216 0614 0422     		movs	r2, #4
 2217 0616 2D21     		movs	r1, #45
 2218 0618 2846     		mov	r0, r5
 2219 061a FFF7FEFF 		bl	drv_wave1006_write_reg
 2220              	.LVL173:
 623:Device/Src/drv_wave1006.c **** 	UsbPrintf("wr_pos = %hx\r\n",wr_pos);
 2221              		.loc 1 623 2 view .LVU681
 2222 061e 2146     		mov	r1, r4
 2223 0620 2B48     		ldr	r0, .L87+36
 2224 0622 FFF7FEFF 		bl	UsbPrintf
 2225              	.LVL174:
 624:Device/Src/drv_wave1006.c **** //	check write value
 625:Device/Src/drv_wave1006.c **** 	for (i = 0; i < wr_pos; i++)
 2226              		.loc 1 625 2 view .LVU682
 436:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 2227              		.loc 1 436 11 is_stmt 0 view .LVU683
 2228 0626 A946     		mov	r9, r5
 2229              	.LVL175:
 2230              		.loc 1 625 2 view .LVU684
 2231 0628 09E0     		b	.L73
 2232              	.LVL176:
 2233              	.L74:
 626:Device/Src/drv_wave1006.c **** 	{
 627:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 2234              		.loc 1 627 3 is_stmt 1 discriminator 3 view .LVU685
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 57


 2235 062a 0DF10601 		add	r1, sp, #6
 2236 062e 2846     		mov	r0, r5
 2237 0630 FFF7FEFF 		bl	wave1006_read_otp_single
 2238              	.LVL177:
 628:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 2239              		.loc 1 628 3 discriminator 3 view .LVU686
 2240              		.loc 1 628 16 is_stmt 0 discriminator 3 view .LVU687
 2241 0634 BDF80630 		ldrh	r3, [sp, #6]
 2242 0638 9944     		add	r9, r9, r3
 2243              	.LVL178:
 625:Device/Src/drv_wave1006.c **** 	{
 2244              		.loc 1 625 26 is_stmt 1 discriminator 3 view .LVU688
 625:Device/Src/drv_wave1006.c **** 	{
 2245              		.loc 1 625 27 is_stmt 0 discriminator 3 view .LVU689
 2246 063a 0135     		adds	r5, r5, #1
 2247              	.LVL179:
 625:Device/Src/drv_wave1006.c **** 	{
 2248              		.loc 1 625 27 discriminator 3 view .LVU690
 2249 063c ADB2     		uxth	r5, r5
 2250              	.LVL180:
 2251              	.L73:
 625:Device/Src/drv_wave1006.c **** 	{
 2252              		.loc 1 625 14 is_stmt 1 discriminator 1 view .LVU691
 625:Device/Src/drv_wave1006.c **** 	{
 2253              		.loc 1 625 2 is_stmt 0 discriminator 1 view .LVU692
 2254 063e AC42     		cmp	r4, r5
 2255 0640 F3D8     		bhi	.L74
 629:Device/Src/drv_wave1006.c **** 		// UsbPrintf("read otp addr%hx:%hx\r\n",i, otp_temp);
 630:Device/Src/drv_wave1006.c **** 	}
 631:Device/Src/drv_wave1006.c **** 	
 632:Device/Src/drv_wave1006.c ****  	rtc_otp_power(3.3);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数,否则只是烧写好，
 2256              		.loc 1 632 3 is_stmt 1 view .LVU693
 2257 0642 9FED240A 		vldr.32	s0, .L87+40
 2258 0646 FFF7FEFF 		bl	rtc_otp_power
 2259              	.LVL181:
 633:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 2260              		.loc 1 633 2 view .LVU694
 2261 064a 6420     		movs	r0, #100
 2262 064c FFF7FEFF 		bl	HAL_Delay
 2263              	.LVL182:
 634:Device/Src/drv_wave1006.c **** 	if (check_sum_rd != check_sum_wr)
 2264              		.loc 1 634 2 view .LVU695
 2265              		.loc 1 634 5 is_stmt 0 view .LVU696
 2266 0650 4E45     		cmp	r6, r9
 2267 0652 14D1     		bne	.L83
 635:Device/Src/drv_wave1006.c **** 	{
 636:Device/Src/drv_wave1006.c **** 		UsbPrintf("write check is err %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);
 637:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 638:Device/Src/drv_wave1006.c **** 	}
 639:Device/Src/drv_wave1006.c **** 	UsbPrintf("write otp is successful! %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);	
 2268              		.loc 1 639 2 is_stmt 1 view .LVU697
 2269 0654 3246     		mov	r2, r6
 2270 0656 4946     		mov	r1, r9
 2271 0658 1F48     		ldr	r0, .L87+44
 2272 065a FFF7FEFF 		bl	UsbPrintf
 2273              	.LVL183:
 640:Device/Src/drv_wave1006.c **** 	
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 58


 641:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 2274              		.loc 1 641 2 view .LVU698
 2275 065e 0321     		movs	r1, #3
 2276 0660 3846     		mov	r0, r7
 2277 0662 FFF7FEFF 		bl	rtc_set_channel
 2278              	.LVL184:
 642:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5v关闭的开关
 2279              		.loc 1 642 2 view .LVU699
 2280 0666 0022     		movs	r2, #0
 2281 0668 4021     		movs	r1, #64
 2282 066a 1C48     		ldr	r0, .L87+48
 2283 066c FFF7FEFF 		bl	HAL_GPIO_WritePin
 2284              	.LVL185:
 643:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT OK!\r\n");
 2285              		.loc 1 643 2 view .LVU700
 2286 0670 1B48     		ldr	r0, .L87+52
 2287 0672 FFF7FEFF 		bl	UsbPrintf
 2288              	.LVL186:
 644:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2289              		.loc 1 644 2 view .LVU701
 2290              	.L67:
 645:Device/Src/drv_wave1006.c **** }
 2291              		.loc 1 645 1 is_stmt 0 view .LVU702
 2292 0676 4046     		mov	r0, r8
 2293 0678 05B0     		add	sp, sp, #20
 2294              	.LCFI43:
 2295              		.cfi_remember_state
 2296              		.cfi_def_cfa_offset 28
 2297              		@ sp needed
 2298 067a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2299              	.LVL187:
 2300              	.L83:
 2301              	.LCFI44:
 2302              		.cfi_restore_state
 636:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2303              		.loc 1 636 3 is_stmt 1 view .LVU703
 2304 067e 3246     		mov	r2, r6
 2305 0680 4946     		mov	r1, r9
 2306 0682 1848     		ldr	r0, .L87+56
 2307 0684 FFF7FEFF 		bl	UsbPrintf
 2308              	.LVL188:
 637:Device/Src/drv_wave1006.c **** 	}
 2309              		.loc 1 637 3 view .LVU704
 637:Device/Src/drv_wave1006.c **** 	}
 2310              		.loc 1 637 10 is_stmt 0 view .LVU705
 2311 0688 6FF00208 		mvn	r8, #2
 2312 068c F3E7     		b	.L67
 2313              	.LVL189:
 2314              	.L76:
 447:Device/Src/drv_wave1006.c **** 	}
 2315              		.loc 1 447 10 view .LVU706
 2316 068e 6FF00208 		mvn	r8, #2
 2317 0692 F0E7     		b	.L67
 2318              	.L77:
 451:Device/Src/drv_wave1006.c **** 	}
 2319              		.loc 1 451 10 view .LVU707
 2320 0694 6FF00208 		mvn	r8, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 59


 2321 0698 EDE7     		b	.L67
 2322              	.L78:
 457:Device/Src/drv_wave1006.c **** 	}
 2323              		.loc 1 457 10 view .LVU708
 2324 069a 6FF00208 		mvn	r8, #2
 2325 069e EAE7     		b	.L67
 2326              	.L79:
 462:Device/Src/drv_wave1006.c **** 	}
 2327              		.loc 1 462 10 view .LVU709
 2328 06a0 6FF00208 		mvn	r8, #2
 2329 06a4 E7E7     		b	.L67
 2330              	.L80:
 467:Device/Src/drv_wave1006.c **** 	}
 2331              		.loc 1 467 10 view .LVU710
 2332 06a6 6FF00208 		mvn	r8, #2
 2333 06aa E4E7     		b	.L67
 2334              	.L88:
 2335              		.align	2
 2336              	.L87:
 2337 06ac 14010000 		.word	.LC15
 2338 06b0 24010000 		.word	.LC16
 2339 06b4 34010000 		.word	.LC17
 2340 06b8 44010000 		.word	.LC18
 2341 06bc 54010000 		.word	.LC19
 2342 06c0 64010000 		.word	.LC20
 2343 06c4 74010000 		.word	.LC21
 2344 06c8 18000000 		.word	.LC4
 2345 06cc 84010000 		.word	.LC22
 2346 06d0 D0010000 		.word	.LC23
 2347 06d4 33335340 		.word	1079194419
 2348 06d8 04020000 		.word	.LC25
 2349 06dc 00100240 		.word	1073876992
 2350 06e0 2C020000 		.word	.LC26
 2351 06e4 E0010000 		.word	.LC24
 2352              		.cfi_endproc
 2353              	.LFE247:
 2355              		.section	.rodata.wave1006_write_otp_one.str1.4,"aMS",%progbits,1
 2356              		.align	2
 2357              	.LC27:
 2358 0000 4F50454E 		.ascii	"OPEN WRITE ONE!\015\012\000"
 2358      20575249 
 2358      5445204F 
 2358      4E45210D 
 2358      0A00
 2359 0012 0000     		.align	2
 2360              	.LC28:
 2361 0014 2C00     		.ascii	",\000"
 2362 0016 0000     		.align	2
 2363              	.LC29:
 2364 0018 45584954 		.ascii	"EXIT I2C_OK!\015\012\000"
 2364      20493243 
 2364      5F4F4B21 
 2364      0D0A00
 2365              		.section	.text.wave1006_write_otp_one,"ax",%progbits
 2366              		.align	1
 2367              		.global	wave1006_write_otp_one
 2368              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 60


 2369              		.thumb
 2370              		.thumb_func
 2372              	wave1006_write_otp_one:
 2373              	.LVL190:
 2374              	.LFB248:
 646:Device/Src/drv_wave1006.c **** 
 647:Device/Src/drv_wave1006.c **** 
 648:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp_one(char *str)
 649:Device/Src/drv_wave1006.c **** {
 2375              		.loc 1 649 1 is_stmt 1 view -0
 2376              		.cfi_startproc
 2377              		@ args = 0, pretend = 0, frame = 24
 2378              		@ frame_needed = 0, uses_anonymous_args = 0
 2379              		.loc 1 649 1 is_stmt 0 view .LVU712
 2380 0000 70B5     		push	{r4, r5, r6, lr}
 2381              	.LCFI45:
 2382              		.cfi_def_cfa_offset 16
 2383              		.cfi_offset 4, -16
 2384              		.cfi_offset 5, -12
 2385              		.cfi_offset 6, -8
 2386              		.cfi_offset 14, -4
 2387 0002 86B0     		sub	sp, sp, #24
 2388              	.LCFI46:
 2389              		.cfi_def_cfa_offset 40
 2390 0004 0446     		mov	r4, r0
 650:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0}, buf1;
 2391              		.loc 1 650 2 is_stmt 1 view .LVU713
 2392              		.loc 1 650 10 is_stmt 0 view .LVU714
 2393 0006 634B     		ldr	r3, .L99
 2394 0008 93E80300 		ldm	r3, {r0, r1}
 2395              	.LVL191:
 2396              		.loc 1 650 10 view .LVU715
 2397 000c 0490     		str	r0, [sp, #16]
 2398 000e 8DF81410 		strb	r1, [sp, #20]
 651:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 2399              		.loc 1 651 2 is_stmt 1 view .LVU716
 652:Device/Src/drv_wave1006.c **** 	int Addr = 0,Data = 0;
 2400              		.loc 1 652 2 view .LVU717
 2401              		.loc 1 652 6 is_stmt 0 view .LVU718
 2402 0012 0023     		movs	r3, #0
 2403 0014 0293     		str	r3, [sp, #8]
 2404              		.loc 1 652 15 view .LVU719
 2405 0016 0193     		str	r3, [sp, #4]
 653:Device/Src/drv_wave1006.c **** 	
 654:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN WRITE ONE!\r\n");
 2406              		.loc 1 654 2 is_stmt 1 view .LVU720
 2407 0018 5F48     		ldr	r0, .L99+4
 2408 001a FFF7FEFF 		bl	UsbPrintf
 2409              	.LVL192:
 655:Device/Src/drv_wave1006.c **** 	CharToInt(str, 6, &Addr);
 2410              		.loc 1 655 2 view .LVU721
 2411 001e 02AA     		add	r2, sp, #8
 2412 0020 0621     		movs	r1, #6
 2413 0022 2046     		mov	r0, r4
 2414 0024 FFF7FEFF 		bl	CharToInt
 2415              	.LVL193:
 656:Device/Src/drv_wave1006.c **** 	CharToInt(str, strSearch(str, ","), &Data);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 61


 2416              		.loc 1 656 2 view .LVU722
 2417              		.loc 1 656 17 is_stmt 0 view .LVU723
 2418 0028 5C49     		ldr	r1, .L99+8
 2419 002a 2046     		mov	r0, r4
 2420 002c FFF7FEFF 		bl	strSearch
 2421              	.LVL194:
 2422              		.loc 1 656 2 view .LVU724
 2423 0030 01AA     		add	r2, sp, #4
 2424 0032 C1B2     		uxtb	r1, r0
 2425 0034 2046     		mov	r0, r4
 2426 0036 FFF7FEFF 		bl	CharToInt
 2427              	.LVL195:
 657:Device/Src/drv_wave1006.c **** 	
 658:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2428              		.loc 1 658 2 is_stmt 1 view .LVU725
 2429 003a B1EE040A 		vmov.f32	s0, #5.0e+0
 2430 003e FFF7FEFF 		bl	rtc_otp_power
 2431              	.LVL196:
 659:Device/Src/drv_wave1006.c **** 	HAL_Delay(2000);
 2432              		.loc 1 659 2 view .LVU726
 2433 0042 4FF4FA60 		mov	r0, #2000
 2434 0046 FFF7FEFF 		bl	HAL_Delay
 2435              	.LVL197:
 660:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2436              		.loc 1 660 2 view .LVU727
 2437              		.loc 1 660 7 is_stmt 0 view .LVU728
 2438 004a 4023     		movs	r3, #64
 2439 004c 8DF80F30 		strb	r3, [sp, #15]
 661:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2440              		.loc 1 661 2 is_stmt 1 view .LVU729
 2441              		.loc 1 661 5 is_stmt 0 view .LVU730
 2442 0050 0DF10F03 		add	r3, sp, #15
 2443 0054 0122     		movs	r2, #1
 2444 0056 1121     		movs	r1, #17
 2445 0058 0420     		movs	r0, #4
 2446 005a FFF7FEFF 		bl	drv_wave1006_write_reg
 2447              	.LVL198:
 2448              		.loc 1 661 4 view .LVU731
 2449 005e 0028     		cmp	r0, #0
 2450 0060 40F08580 		bne	.L91
 662:Device/Src/drv_wave1006.c **** 	{
 663:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 664:Device/Src/drv_wave1006.c **** 	}
 665:Device/Src/drv_wave1006.c **** 	
 666:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 2451              		.loc 1 666 2 is_stmt 1 view .LVU732
 2452              		.loc 1 666 5 is_stmt 0 view .LVU733
 2453 0064 0DF10F03 		add	r3, sp, #15
 2454 0068 0122     		movs	r2, #1
 2455 006a 4021     		movs	r1, #64
 2456 006c 0420     		movs	r0, #4
 2457 006e FFF7FEFF 		bl	drv_wave1006_read_reg
 2458              	.LVL199:
 2459              		.loc 1 666 4 view .LVU734
 2460 0072 0028     		cmp	r0, #0
 2461 0074 7ED1     		bne	.L92
 667:Device/Src/drv_wave1006.c **** 	{
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 62


 668:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 669:Device/Src/drv_wave1006.c **** 	}
 670:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2462              		.loc 1 670 2 is_stmt 1 view .LVU735
 2463              		.loc 1 670 7 is_stmt 0 view .LVU736
 2464 0076 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 2465 007a 03F0F003 		and	r3, r3, #240
 2466 007e 8DF80F30 		strb	r3, [sp, #15]
 671:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0c;
 2467              		.loc 1 671 2 is_stmt 1 view .LVU737
 2468              		.loc 1 671 7 is_stmt 0 view .LVU738
 2469 0082 43F00C03 		orr	r3, r3, #12
 2470 0086 8DF80F30 		strb	r3, [sp, #15]
 672:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2471              		.loc 1 672 2 is_stmt 1 view .LVU739
 2472              		.loc 1 672 5 is_stmt 0 view .LVU740
 2473 008a 0DF10F03 		add	r3, sp, #15
 2474 008e 0122     		movs	r2, #1
 2475 0090 4021     		movs	r1, #64
 2476 0092 0420     		movs	r0, #4
 2477 0094 FFF7FEFF 		bl	drv_wave1006_write_reg
 2478              	.LVL200:
 2479              		.loc 1 672 4 view .LVU741
 2480 0098 0028     		cmp	r0, #0
 2481 009a 6ED1     		bne	.L93
 673:Device/Src/drv_wave1006.c **** 	{
 674:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 675:Device/Src/drv_wave1006.c **** 	}
 676:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 677:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2482              		.loc 1 677 2 is_stmt 1 view .LVU742
 2483              		.loc 1 677 5 is_stmt 0 view .LVU743
 2484 009c 04AB     		add	r3, sp, #16
 2485 009e 0522     		movs	r2, #5
 2486 00a0 2D21     		movs	r1, #45
 2487 00a2 0420     		movs	r0, #4
 2488 00a4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2489              	.LVL201:
 2490              		.loc 1 677 4 view .LVU744
 2491 00a8 0028     		cmp	r0, #0
 2492 00aa 69D1     		bne	.L94
 678:Device/Src/drv_wave1006.c **** 	{
 679:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 680:Device/Src/drv_wave1006.c **** 	}
 681:Device/Src/drv_wave1006.c **** 		
 682:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2493              		.loc 1 682 2 is_stmt 1 view .LVU745
 2494              		.loc 1 682 5 is_stmt 0 view .LVU746
 2495 00ac 3020     		movs	r0, #48
 2496 00ae FFF7FEFF 		bl	wave1006_enter_test_mode
 2497              	.LVL202:
 2498              		.loc 1 682 4 view .LVU747
 2499 00b2 0646     		mov	r6, r0
 2500 00b4 0028     		cmp	r0, #0
 2501 00b6 66D1     		bne	.L95
 683:Device/Src/drv_wave1006.c **** 	{
 684:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 63


 685:Device/Src/drv_wave1006.c **** 	}
 686:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 687:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2502              		.loc 1 687 3 is_stmt 1 view .LVU748
 2503              		.loc 1 687 10 is_stmt 0 view .LVU749
 2504 00b8 8024     		movs	r4, #128
 2505              	.LVL203:
 2506              		.loc 1 687 10 view .LVU750
 2507 00ba 8DF81040 		strb	r4, [sp, #16]
 688:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2508              		.loc 1 688 2 is_stmt 1 view .LVU751
 2509 00be 04AB     		add	r3, sp, #16
 2510 00c0 0122     		movs	r2, #1
 2511 00c2 2D21     		movs	r1, #45
 2512 00c4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2513              	.LVL204:
 689:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 690:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2514              		.loc 1 690 3 view .LVU752
 2515              		.loc 1 690 10 is_stmt 0 view .LVU753
 2516 00c8 8225     		movs	r5, #130
 2517 00ca 8DF81050 		strb	r5, [sp, #16]
 691:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2518              		.loc 1 691 3 is_stmt 1 view .LVU754
 2519 00ce 04AB     		add	r3, sp, #16
 2520 00d0 0122     		movs	r2, #1
 2521 00d2 2D21     		movs	r1, #45
 2522 00d4 0020     		movs	r0, #0
 2523 00d6 FFF7FEFF 		bl	drv_wave1006_write_reg
 2524              	.LVL205:
 692:Device/Src/drv_wave1006.c ****     /*pprog = 1*/
 693:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 2525              		.loc 1 693 3 view .LVU755
 2526              		.loc 1 693 10 is_stmt 0 view .LVU756
 2527 00da A223     		movs	r3, #162
 2528 00dc 8DF81030 		strb	r3, [sp, #16]
 694:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2529              		.loc 1 694 3 is_stmt 1 view .LVU757
 2530 00e0 04AB     		add	r3, sp, #16
 2531 00e2 0122     		movs	r2, #1
 2532 00e4 2D21     		movs	r1, #45
 2533 00e6 0020     		movs	r0, #0
 2534 00e8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2535              	.LVL206:
 695:Device/Src/drv_wave1006.c ****     /*io6 =8.5V*/
 696:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(1);
 2536              		.loc 1 696 2 view .LVU758
 2537 00ec 0120     		movs	r0, #1
 2538 00ee FFF7FEFF 		bl	otp_prg_power_ctrl
 2539              	.LVL207:
 697:Device/Src/drv_wave1006.c ****     /*start write otp*/
 698:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(Addr, Data);
 2540              		.loc 1 698 2 view .LVU759
 2541 00f2 BDF80410 		ldrh	r1, [sp, #4]
 2542 00f6 BDF80800 		ldrh	r0, [sp, #8]
 2543 00fa FFF7FEFF 		bl	wave1006_write_otp_single
 2544              	.LVL208:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 64


 699:Device/Src/drv_wave1006.c **** 	/*write otp is complete, switch i2c prot, io6 =5V*/
 700:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    
 2545              		.loc 1 700 2 view .LVU760
 2546 00fe 0020     		movs	r0, #0
 2547 0100 FFF7FEFF 		bl	otp_prg_power_ctrl
 2548              	.LVL209:
 701:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 702:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2549              		.loc 1 702 3 view .LVU761
 2550              		.loc 1 702 10 is_stmt 0 view .LVU762
 2551 0104 8DF81050 		strb	r5, [sp, #16]
 703:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2552              		.loc 1 703 2 is_stmt 1 view .LVU763
 2553 0108 04AB     		add	r3, sp, #16
 2554 010a 0122     		movs	r2, #1
 2555 010c 2D21     		movs	r1, #45
 2556 010e 0020     		movs	r0, #0
 2557 0110 FFF7FEFF 		bl	drv_wave1006_write_reg
 2558              	.LVL210:
 704:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 705:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2559              		.loc 1 705 3 view .LVU764
 2560              		.loc 1 705 10 is_stmt 0 view .LVU765
 2561 0114 8DF81040 		strb	r4, [sp, #16]
 706:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2562              		.loc 1 706 2 is_stmt 1 view .LVU766
 2563 0118 04AB     		add	r3, sp, #16
 2564 011a 0122     		movs	r2, #1
 2565 011c 2D21     		movs	r1, #45
 2566 011e 0020     		movs	r0, #0
 2567 0120 FFF7FEFF 		bl	drv_wave1006_write_reg
 2568              	.LVL211:
 707:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 708:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2569              		.loc 1 708 5 view .LVU767
 2570              		.loc 1 708 12 is_stmt 0 view .LVU768
 2571 0124 0020     		movs	r0, #0
 2572 0126 8DF81000 		strb	r0, [sp, #16]
 709:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2573              		.loc 1 709 5 is_stmt 1 view .LVU769
 2574              		.loc 1 709 12 is_stmt 0 view .LVU770
 2575 012a 8DF81100 		strb	r0, [sp, #17]
 710:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2576              		.loc 1 710 5 is_stmt 1 view .LVU771
 2577              		.loc 1 710 12 is_stmt 0 view .LVU772
 2578 012e 8DF81200 		strb	r0, [sp, #18]
 711:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2579              		.loc 1 711 5 is_stmt 1 view .LVU773
 2580              		.loc 1 711 12 is_stmt 0 view .LVU774
 2581 0132 8DF81300 		strb	r0, [sp, #19]
 712:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2582              		.loc 1 712 3 is_stmt 1 view .LVU775
 2583 0136 04AB     		add	r3, sp, #16
 2584 0138 0422     		movs	r2, #4
 2585 013a 2D21     		movs	r1, #45
 2586 013c FFF7FEFF 		bl	drv_wave1006_write_reg
 2587              	.LVL212:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 65


 713:Device/Src/drv_wave1006.c **** 	/*check write value*/
 714:Device/Src/drv_wave1006.c **** 	wave1006_read_otp_single(Addr, &otp_temp);
 2588              		.loc 1 714 2 view .LVU776
 2589 0140 03A9     		add	r1, sp, #12
 2590 0142 BDF80800 		ldrh	r0, [sp, #8]
 2591 0146 FFF7FEFF 		bl	wave1006_read_otp_single
 2592              	.LVL213:
 715:Device/Src/drv_wave1006.c **** 	// UsbPrintf("read otp addr%hx:%hx\r\n",Addr, otp_temp);
 716:Device/Src/drv_wave1006.c **** 	
 717:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 718:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2593              		.loc 1 718 2 view .LVU777
 2594 014a B1EE040A 		vmov.f32	s0, #5.0e+0
 2595 014e FFF7FEFF 		bl	rtc_otp_power
 2596              	.LVL214:
 719:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2597              		.loc 1 719 2 view .LVU778
 2598 0152 C820     		movs	r0, #200
 2599 0154 FFF7FEFF 		bl	HAL_Delay
 2600              	.LVL215:
 720:Device/Src/drv_wave1006.c **** 	
 721:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2601              		.loc 1 721 2 view .LVU779
 2602 0158 1148     		ldr	r0, .L99+12
 2603 015a FFF7FEFF 		bl	UsbPrintf
 2604              	.LVL216:
 722:Device/Src/drv_wave1006.c **** 	if (otp_temp != Data)
 2605              		.loc 1 722 2 view .LVU780
 2606              		.loc 1 722 15 is_stmt 0 view .LVU781
 2607 015e BDF80C20 		ldrh	r2, [sp, #12]
 2608 0162 019B     		ldr	r3, [sp, #4]
 2609              		.loc 1 722 5 view .LVU782
 2610 0164 9A42     		cmp	r2, r3
 2611 0166 11D1     		bne	.L98
 2612              	.L90:
 723:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 724:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 725:Device/Src/drv_wave1006.c **** }
 2613              		.loc 1 725 1 view .LVU783
 2614 0168 3046     		mov	r0, r6
 2615 016a 06B0     		add	sp, sp, #24
 2616              	.LCFI47:
 2617              		.cfi_remember_state
 2618              		.cfi_def_cfa_offset 16
 2619              		@ sp needed
 2620 016c 70BD     		pop	{r4, r5, r6, pc}
 2621              	.LVL217:
 2622              	.L91:
 2623              	.LCFI48:
 2624              		.cfi_restore_state
 663:Device/Src/drv_wave1006.c **** 	}
 2625              		.loc 1 663 10 view .LVU784
 2626 016e 6FF00206 		mvn	r6, #2
 2627 0172 F9E7     		b	.L90
 2628              	.L92:
 668:Device/Src/drv_wave1006.c **** 	}
 2629              		.loc 1 668 10 view .LVU785
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 66


 2630 0174 6FF00206 		mvn	r6, #2
 2631 0178 F6E7     		b	.L90
 2632              	.L93:
 674:Device/Src/drv_wave1006.c **** 	}
 2633              		.loc 1 674 10 view .LVU786
 2634 017a 6FF00206 		mvn	r6, #2
 2635 017e F3E7     		b	.L90
 2636              	.L94:
 679:Device/Src/drv_wave1006.c **** 	}
 2637              		.loc 1 679 10 view .LVU787
 2638 0180 6FF00206 		mvn	r6, #2
 2639 0184 F0E7     		b	.L90
 2640              	.L95:
 684:Device/Src/drv_wave1006.c **** 	}
 2641              		.loc 1 684 10 view .LVU788
 2642 0186 6FF00206 		mvn	r6, #2
 2643 018a EDE7     		b	.L90
 2644              	.LVL218:
 2645              	.L98:
 723:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2646              		.loc 1 723 10 view .LVU789
 2647 018c 6FF00206 		mvn	r6, #2
 2648 0190 EAE7     		b	.L90
 2649              	.L100:
 2650 0192 00BF     		.align	2
 2651              	.L99:
 2652 0194 00000000 		.word	.LANCHOR0
 2653 0198 00000000 		.word	.LC27
 2654 019c 14000000 		.word	.LC28
 2655 01a0 18000000 		.word	.LC29
 2656              		.cfi_endproc
 2657              	.LFE248:
 2659              		.section	.rodata.wave1006_read_otp.str1.4,"aMS",%progbits,1
 2660              		.align	2
 2661              	.LC30:
 2662 0000 4F50454E 		.ascii	"OPEN READ!\015\012\000"
 2662      20524541 
 2662      44210D0A 
 2662      00
 2663 000d 000000   		.align	2
 2664              	.LC31:
 2665 0010 2F2A2A2A 		.ascii	"/**************************** READ ALL OTP ********"
 2665      2A2A2A2A 
 2665      2A2A2A2A 
 2665      2A2A2A2A 
 2665      2A2A2A2A 
 2666 0043 2A2A2A2A 		.ascii	"************************/\015\012\000"
 2666      2A2A2A2A 
 2666      2A2A2A2A 
 2666      2A2A2A2A 
 2666      2A2A2A2A 
 2667 005f 00       		.align	2
 2668              	.LC32:
 2669 0060 61646472 		.ascii	"addr%x:%hx\015\012\000"
 2669      25783A25 
 2669      68780D0A 
 2669      00
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 67


 2670              		.section	.text.wave1006_read_otp,"ax",%progbits
 2671              		.align	1
 2672              		.global	wave1006_read_otp
 2673              		.syntax unified
 2674              		.thumb
 2675              		.thumb_func
 2677              	wave1006_read_otp:
 2678              	.LFB249:
 726:Device/Src/drv_wave1006.c **** 
 727:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_read_otp(void)
 728:Device/Src/drv_wave1006.c **** {
 2679              		.loc 1 728 1 is_stmt 1 view -0
 2680              		.cfi_startproc
 2681              		@ args = 0, pretend = 0, frame = 16
 2682              		@ frame_needed = 0, uses_anonymous_args = 0
 2683 0000 30B5     		push	{r4, r5, lr}
 2684              	.LCFI49:
 2685              		.cfi_def_cfa_offset 12
 2686              		.cfi_offset 4, -12
 2687              		.cfi_offset 5, -8
 2688              		.cfi_offset 14, -4
 2689 0002 85B0     		sub	sp, sp, #20
 2690              	.LCFI50:
 2691              		.cfi_def_cfa_offset 32
 729:Device/Src/drv_wave1006.c **** 	uint16_t i;
 2692              		.loc 1 729 2 view .LVU791
 730:Device/Src/drv_wave1006.c **** 	uint8_t  buf[5]={0,0,0,0,0},buf1;
 2693              		.loc 1 730 2 view .LVU792
 2694              		.loc 1 730 11 is_stmt 0 view .LVU793
 2695 0004 514B     		ldr	r3, .L111
 2696 0006 93E80300 		ldm	r3, {r0, r1}
 2697 000a 0290     		str	r0, [sp, #8]
 2698 000c 8DF80C10 		strb	r1, [sp, #12]
 731:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp = 0;
 2699              		.loc 1 731 2 is_stmt 1 view .LVU794
 2700              		.loc 1 731 11 is_stmt 0 view .LVU795
 2701 0010 0023     		movs	r3, #0
 2702 0012 ADF80430 		strh	r3, [sp, #4]	@ movhi
 732:Device/Src/drv_wave1006.c **** 
 733:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN READ!\r\n");
 2703              		.loc 1 733 2 is_stmt 1 view .LVU796
 2704 0016 4E48     		ldr	r0, .L111+4
 2705 0018 FFF7FEFF 		bl	UsbPrintf
 2706              	.LVL219:
 734:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2707              		.loc 1 734 2 view .LVU797
 2708 001c B1EE040A 		vmov.f32	s0, #5.0e+0
 2709 0020 FFF7FEFF 		bl	rtc_otp_power
 2710              	.LVL220:
 735:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2711              		.loc 1 735 2 view .LVU798
 2712 0024 C820     		movs	r0, #200
 2713 0026 FFF7FEFF 		bl	HAL_Delay
 2714              	.LVL221:
 736:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2715              		.loc 1 736 2 view .LVU799
 2716              		.loc 1 736 7 is_stmt 0 view .LVU800
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 68


 2717 002a 4023     		movs	r3, #64
 2718 002c 8DF80730 		strb	r3, [sp, #7]
 737:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2719              		.loc 1 737 2 is_stmt 1 view .LVU801
 2720              		.loc 1 737 5 is_stmt 0 view .LVU802
 2721 0030 0DF10703 		add	r3, sp, #7
 2722 0034 0122     		movs	r2, #1
 2723 0036 1121     		movs	r1, #17
 2724 0038 0420     		movs	r0, #4
 2725 003a FFF7FEFF 		bl	drv_wave1006_write_reg
 2726              	.LVL222:
 2727              		.loc 1 737 4 view .LVU803
 2728 003e 0028     		cmp	r0, #0
 2729 0040 74D1     		bne	.L105
 738:Device/Src/drv_wave1006.c **** 	{
 739:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 740:Device/Src/drv_wave1006.c **** 	}
 741:Device/Src/drv_wave1006.c **** 	
 742:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 2730              		.loc 1 742 2 is_stmt 1 view .LVU804
 2731              		.loc 1 742 5 is_stmt 0 view .LVU805
 2732 0042 0DF10703 		add	r3, sp, #7
 2733 0046 0122     		movs	r2, #1
 2734 0048 4021     		movs	r1, #64
 2735 004a 0420     		movs	r0, #4
 2736 004c FFF7FEFF 		bl	drv_wave1006_read_reg
 2737              	.LVL223:
 2738              		.loc 1 742 4 view .LVU806
 2739 0050 0028     		cmp	r0, #0
 2740 0052 6ED1     		bne	.L106
 743:Device/Src/drv_wave1006.c **** 	{
 744:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 745:Device/Src/drv_wave1006.c **** 	}
 746:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2741              		.loc 1 746 2 is_stmt 1 view .LVU807
 2742              		.loc 1 746 7 is_stmt 0 view .LVU808
 2743 0054 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2744 0058 03F0F003 		and	r3, r3, #240
 2745 005c 8DF80730 		strb	r3, [sp, #7]
 747:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0c;
 2746              		.loc 1 747 2 is_stmt 1 view .LVU809
 2747              		.loc 1 747 7 is_stmt 0 view .LVU810
 2748 0060 43F00C03 		orr	r3, r3, #12
 2749 0064 8DF80730 		strb	r3, [sp, #7]
 748:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2750              		.loc 1 748 2 is_stmt 1 view .LVU811
 2751              		.loc 1 748 5 is_stmt 0 view .LVU812
 2752 0068 0DF10703 		add	r3, sp, #7
 2753 006c 0122     		movs	r2, #1
 2754 006e 4021     		movs	r1, #64
 2755 0070 0420     		movs	r0, #4
 2756 0072 FFF7FEFF 		bl	drv_wave1006_write_reg
 2757              	.LVL224:
 2758              		.loc 1 748 4 view .LVU813
 2759 0076 0028     		cmp	r0, #0
 2760 0078 5ED1     		bne	.L107
 749:Device/Src/drv_wave1006.c **** 	{
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 69


 750:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 751:Device/Src/drv_wave1006.c **** 	}
 752:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 753:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2761              		.loc 1 753 2 is_stmt 1 view .LVU814
 2762              		.loc 1 753 5 is_stmt 0 view .LVU815
 2763 007a 02AB     		add	r3, sp, #8
 2764 007c 0522     		movs	r2, #5
 2765 007e 2D21     		movs	r1, #45
 2766 0080 0420     		movs	r0, #4
 2767 0082 FFF7FEFF 		bl	drv_wave1006_write_reg
 2768              	.LVL225:
 2769              		.loc 1 753 4 view .LVU816
 2770 0086 0028     		cmp	r0, #0
 2771 0088 59D1     		bne	.L108
 754:Device/Src/drv_wave1006.c **** 	{
 755:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 756:Device/Src/drv_wave1006.c **** 	}
 757:Device/Src/drv_wave1006.c **** 		
 758:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2772              		.loc 1 758 2 is_stmt 1 view .LVU817
 2773              		.loc 1 758 5 is_stmt 0 view .LVU818
 2774 008a 3020     		movs	r0, #48
 2775 008c FFF7FEFF 		bl	wave1006_enter_test_mode
 2776              	.LVL226:
 2777              		.loc 1 758 4 view .LVU819
 2778 0090 0546     		mov	r5, r0
 2779 0092 0028     		cmp	r0, #0
 2780 0094 56D1     		bne	.L109
 759:Device/Src/drv_wave1006.c **** 	{
 760:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 761:Device/Src/drv_wave1006.c **** 	}
 762:Device/Src/drv_wave1006.c **** 	
 763:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    //IO6加5V电压
 2781              		.loc 1 763 2 is_stmt 1 view .LVU820
 2782 0096 FFF7FEFF 		bl	otp_prg_power_ctrl
 2783              	.LVL227:
 764:Device/Src/drv_wave1006.c **** 	             
 765:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 766:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2784              		.loc 1 766 3 view .LVU821
 2785              		.loc 1 766 10 is_stmt 0 view .LVU822
 2786 009a 8024     		movs	r4, #128
 2787 009c 8DF80840 		strb	r4, [sp, #8]
 767:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2788              		.loc 1 767 2 is_stmt 1 view .LVU823
 2789 00a0 02AB     		add	r3, sp, #8
 2790 00a2 0122     		movs	r2, #1
 2791 00a4 2D21     		movs	r1, #45
 2792 00a6 0020     		movs	r0, #0
 2793 00a8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2794              	.LVL228:
 768:Device/Src/drv_wave1006.c ****     
 769:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 770:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2795              		.loc 1 770 3 view .LVU824
 2796              		.loc 1 770 10 is_stmt 0 view .LVU825
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 70


 2797 00ac 8223     		movs	r3, #130
 2798 00ae 8DF80830 		strb	r3, [sp, #8]
 771:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2799              		.loc 1 771 2 is_stmt 1 view .LVU826
 2800 00b2 02AB     		add	r3, sp, #8
 2801 00b4 0122     		movs	r2, #1
 2802 00b6 2D21     		movs	r1, #45
 2803 00b8 0020     		movs	r0, #0
 2804 00ba FFF7FEFF 		bl	drv_wave1006_write_reg
 2805              	.LVL229:
 772:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 773:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2806              		.loc 1 773 3 view .LVU827
 2807              		.loc 1 773 10 is_stmt 0 view .LVU828
 2808 00be 8DF80840 		strb	r4, [sp, #8]
 774:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2809              		.loc 1 774 2 is_stmt 1 view .LVU829
 2810 00c2 02AB     		add	r3, sp, #8
 2811 00c4 0122     		movs	r2, #1
 2812 00c6 2D21     		movs	r1, #45
 2813 00c8 0020     		movs	r0, #0
 2814 00ca FFF7FEFF 		bl	drv_wave1006_write_reg
 2815              	.LVL230:
 775:Device/Src/drv_wave1006.c ****     /*pa=0, Data*/
 776:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2816              		.loc 1 776 5 view .LVU830
 2817              		.loc 1 776 12 is_stmt 0 view .LVU831
 2818 00ce 0024     		movs	r4, #0
 2819 00d0 8DF80840 		strb	r4, [sp, #8]
 777:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2820              		.loc 1 777 5 is_stmt 1 view .LVU832
 2821              		.loc 1 777 12 is_stmt 0 view .LVU833
 2822 00d4 8DF80940 		strb	r4, [sp, #9]
 778:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2823              		.loc 1 778 5 is_stmt 1 view .LVU834
 2824              		.loc 1 778 12 is_stmt 0 view .LVU835
 2825 00d8 8DF80A40 		strb	r4, [sp, #10]
 779:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2826              		.loc 1 779 5 is_stmt 1 view .LVU836
 2827              		.loc 1 779 12 is_stmt 0 view .LVU837
 2828 00dc 8DF80B40 		strb	r4, [sp, #11]
 780:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2829              		.loc 1 780 3 is_stmt 1 view .LVU838
 2830 00e0 02AB     		add	r3, sp, #8
 2831 00e2 0422     		movs	r2, #4
 2832 00e4 2D21     		movs	r1, #45
 2833 00e6 2046     		mov	r0, r4
 2834 00e8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2835              	.LVL231:
 781:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ ALL OTP ********************************/\r\n");
 2836              		.loc 1 781 2 view .LVU839
 2837 00ec 1948     		ldr	r0, .L111+8
 2838 00ee FFF7FEFF 		bl	UsbPrintf
 2839              	.LVL232:
 782:Device/Src/drv_wave1006.c **** 	/*check write value*/
 783:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 1024; i++)
 2840              		.loc 1 783 2 view .LVU840
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 71


 2841              		.loc 1 783 2 is_stmt 0 view .LVU841
 2842 00f2 0BE0     		b	.L103
 2843              	.LVL233:
 2844              	.L104:
 784:Device/Src/drv_wave1006.c **** 	{
 785:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 2845              		.loc 1 785 3 is_stmt 1 discriminator 3 view .LVU842
 2846 00f4 01A9     		add	r1, sp, #4
 2847 00f6 2046     		mov	r0, r4
 2848 00f8 FFF7FEFF 		bl	wave1006_read_otp_single
 2849              	.LVL234:
 786:Device/Src/drv_wave1006.c **** 		UsbPrintf("addr%x:%hx\r\n",i, otp_temp);
 2850              		.loc 1 786 3 discriminator 3 view .LVU843
 2851 00fc BDF80420 		ldrh	r2, [sp, #4]
 2852 0100 2146     		mov	r1, r4
 2853 0102 1548     		ldr	r0, .L111+12
 2854 0104 FFF7FEFF 		bl	UsbPrintf
 2855              	.LVL235:
 783:Device/Src/drv_wave1006.c **** 	{
 2856              		.loc 1 783 24 discriminator 3 view .LVU844
 783:Device/Src/drv_wave1006.c **** 	{
 2857              		.loc 1 783 25 is_stmt 0 discriminator 3 view .LVU845
 2858 0108 0134     		adds	r4, r4, #1
 2859              	.LVL236:
 783:Device/Src/drv_wave1006.c **** 	{
 2860              		.loc 1 783 25 discriminator 3 view .LVU846
 2861 010a A4B2     		uxth	r4, r4
 2862              	.LVL237:
 2863              	.L103:
 783:Device/Src/drv_wave1006.c **** 	{
 2864              		.loc 1 783 14 is_stmt 1 discriminator 1 view .LVU847
 783:Device/Src/drv_wave1006.c **** 	{
 2865              		.loc 1 783 2 is_stmt 0 discriminator 1 view .LVU848
 2866 010c B4F5806F 		cmp	r4, #1024
 2867 0110 F0D3     		bcc	.L104
 787:Device/Src/drv_wave1006.c **** 	}
 788:Device/Src/drv_wave1006.c **** 	
 789:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 790:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2868              		.loc 1 790 2 is_stmt 1 view .LVU849
 2869 0112 B1EE040A 		vmov.f32	s0, #5.0e+0
 2870 0116 FFF7FEFF 		bl	rtc_otp_power
 2871              	.LVL238:
 791:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2872              		.loc 1 791 2 view .LVU850
 2873 011a C820     		movs	r0, #200
 2874 011c FFF7FEFF 		bl	HAL_Delay
 2875              	.LVL239:
 792:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2876              		.loc 1 792 2 view .LVU851
 2877 0120 0E48     		ldr	r0, .L111+16
 2878 0122 FFF7FEFF 		bl	UsbPrintf
 2879              	.LVL240:
 793:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2880              		.loc 1 793 2 view .LVU852
 2881              	.L102:
 794:Device/Src/drv_wave1006.c **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 72


 2882              		.loc 1 794 1 is_stmt 0 view .LVU853
 2883 0126 2846     		mov	r0, r5
 2884 0128 05B0     		add	sp, sp, #20
 2885              	.LCFI51:
 2886              		.cfi_remember_state
 2887              		.cfi_def_cfa_offset 12
 2888              		@ sp needed
 2889 012a 30BD     		pop	{r4, r5, pc}
 2890              	.L105:
 2891              	.LCFI52:
 2892              		.cfi_restore_state
 739:Device/Src/drv_wave1006.c **** 	}
 2893              		.loc 1 739 10 view .LVU854
 2894 012c 6FF00205 		mvn	r5, #2
 2895 0130 F9E7     		b	.L102
 2896              	.L106:
 744:Device/Src/drv_wave1006.c **** 	}
 2897              		.loc 1 744 10 view .LVU855
 2898 0132 6FF00205 		mvn	r5, #2
 2899 0136 F6E7     		b	.L102
 2900              	.L107:
 750:Device/Src/drv_wave1006.c **** 	}
 2901              		.loc 1 750 10 view .LVU856
 2902 0138 6FF00205 		mvn	r5, #2
 2903 013c F3E7     		b	.L102
 2904              	.L108:
 755:Device/Src/drv_wave1006.c **** 	}
 2905              		.loc 1 755 10 view .LVU857
 2906 013e 6FF00205 		mvn	r5, #2
 2907 0142 F0E7     		b	.L102
 2908              	.L109:
 760:Device/Src/drv_wave1006.c **** 	}
 2909              		.loc 1 760 10 view .LVU858
 2910 0144 6FF00205 		mvn	r5, #2
 2911 0148 EDE7     		b	.L102
 2912              	.L112:
 2913 014a 00BF     		.align	2
 2914              	.L111:
 2915 014c 00000000 		.word	.LANCHOR0
 2916 0150 00000000 		.word	.LC30
 2917 0154 10000000 		.word	.LC31
 2918 0158 60000000 		.word	.LC32
 2919 015c 18000000 		.word	.LC29
 2920              		.cfi_endproc
 2921              	.LFE249:
 2923              		.section	.rodata.sd8804_calcul_cap.str1.4,"aMS",%progbits,1
 2924              		.align	2
 2925              	.LC33:
 2926 0000 63616C63 		.ascii	"calculate cap error\012\000"
 2926      756C6174 
 2926      65206361 
 2926      70206572 
 2926      726F720A 
 2927              		.section	.text.sd8804_calcul_cap,"ax",%progbits
 2928              		.align	1
 2929              		.global	sd8804_calcul_cap
 2930              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 73


 2931              		.thumb
 2932              		.thumb_func
 2934              	sd8804_calcul_cap:
 2935              	.LVL241:
 2936              	.LFB250:
 795:Device/Src/drv_wave1006.c **** 
 796:Device/Src/drv_wave1006.c **** uint8_t sd8804_calcul_cap(uint8_t channel)
 797:Device/Src/drv_wave1006.c **** {
 2937              		.loc 1 797 1 is_stmt 1 view -0
 2938              		.cfi_startproc
 2939              		@ args = 0, pretend = 0, frame = 0
 2940              		@ frame_needed = 0, uses_anonymous_args = 0
 2941              		.loc 1 797 1 is_stmt 0 view .LVU860
 2942 0000 38B5     		push	{r3, r4, r5, lr}
 2943              	.LCFI53:
 2944              		.cfi_def_cfa_offset 16
 2945              		.cfi_offset 3, -16
 2946              		.cfi_offset 4, -12
 2947              		.cfi_offset 5, -8
 2948              		.cfi_offset 14, -4
 798:Device/Src/drv_wave1006.c **** 	int i;
 2949              		.loc 1 798 2 is_stmt 1 view .LVU861
 799:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2950              		.loc 1 799 2 view .LVU862
 2951              	.LVL242:
 2952              		.loc 1 799 9 is_stmt 0 view .LVU863
 2953 0002 0023     		movs	r3, #0
 2954              		.loc 1 799 2 view .LVU864
 2955 0004 09E0     		b	.L114
 2956              	.LVL243:
 2957              	.L115:
 800:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 2958              		.loc 1 800 3 is_stmt 1 discriminator 3 view .LVU865
 2959              		.loc 1 800 16 is_stmt 0 discriminator 3 view .LVU866
 2960 0006 0F4A     		ldr	r2, .L120
 2961 0008 02EB8302 		add	r2, r2, r3, lsl #2
 2962 000c 0021     		movs	r1, #0
 2963 000e 1160     		str	r1, [r2]	@ float
 801:Device/Src/drv_wave1006.c **** 		g_digtal_adj[i] = 0;
 2964              		.loc 1 801 3 is_stmt 1 discriminator 3 view .LVU867
 2965              		.loc 1 801 19 is_stmt 0 discriminator 3 view .LVU868
 2966 0010 0D4A     		ldr	r2, .L120+4
 2967 0012 0021     		movs	r1, #0
 2968 0014 42F82310 		str	r1, [r2, r3, lsl #2]
 799:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2969              		.loc 1 799 23 is_stmt 1 discriminator 3 view .LVU869
 799:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2970              		.loc 1 799 24 is_stmt 0 discriminator 3 view .LVU870
 2971 0018 0133     		adds	r3, r3, #1
 2972              	.LVL244:
 2973              	.L114:
 799:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2974              		.loc 1 799 14 is_stmt 1 discriminator 1 view .LVU871
 799:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2975              		.loc 1 799 2 is_stmt 0 discriminator 1 view .LVU872
 2976 001a B3F5D27F 		cmp	r3, #420
 2977 001e F2DB     		blt	.L115
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 74


 802:Device/Src/drv_wave1006.c **** 	}
 803:Device/Src/drv_wave1006.c **** 
 804:Device/Src/drv_wave1006.c **** 	if (calculate_wave1006_temp_cap(channel, g_cap_val, g_digtal_adj, &g_offset) == 0) {
 2978              		.loc 1 804 2 is_stmt 1 view .LVU873
 2979              		.loc 1 804 6 is_stmt 0 view .LVU874
 2980 0020 0A4B     		ldr	r3, .L120+8
 2981              	.LVL245:
 2982              		.loc 1 804 6 view .LVU875
 2983 0022 094A     		ldr	r2, .L120+4
 2984 0024 0749     		ldr	r1, .L120
 2985 0026 FFF7FEFF 		bl	calculate_wave1006_temp_cap
 2986              	.LVL246:
 2987              		.loc 1 804 5 view .LVU876
 2988 002a 0446     		mov	r4, r0
 2989 002c 10B1     		cbz	r0, .L119
 805:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 806:Device/Src/drv_wave1006.c **** 		log_printf("calculate cap error\n");
 807:Device/Src/drv_wave1006.c **** 		return 0;
 808:Device/Src/drv_wave1006.c **** 	}
 809:Device/Src/drv_wave1006.c **** 	return 1;
 2990              		.loc 1 809 9 view .LVU877
 2991 002e 0124     		movs	r4, #1
 2992              	.L116:
 810:Device/Src/drv_wave1006.c **** 
 811:Device/Src/drv_wave1006.c **** }
 2993              		.loc 1 811 1 view .LVU878
 2994 0030 2046     		mov	r0, r4
 2995 0032 38BD     		pop	{r3, r4, r5, pc}
 2996              	.L119:
 805:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 2997              		.loc 1 805 3 is_stmt 1 view .LVU879
 2998 0034 064D     		ldr	r5, .L120+12
 2999 0036 2846     		mov	r0, r5
 3000 0038 FFF7FEFF 		bl	UsbPrintf
 3001              	.LVL247:
 806:Device/Src/drv_wave1006.c **** 		return 0;
 3002              		.loc 1 806 3 view .LVU880
 3003 003c 2846     		mov	r0, r5
 3004 003e FFF7FEFF 		bl	log_printf
 3005              	.LVL248:
 807:Device/Src/drv_wave1006.c **** 	}
 3006              		.loc 1 807 3 view .LVU881
 807:Device/Src/drv_wave1006.c **** 	}
 3007              		.loc 1 807 10 is_stmt 0 view .LVU882
 3008 0042 F5E7     		b	.L116
 3009              	.L121:
 3010              		.align	2
 3011              	.L120:
 3012 0044 00000000 		.word	.LANCHOR1
 3013 0048 00000000 		.word	.LANCHOR2
 3014 004c 00000000 		.word	.LANCHOR3
 3015 0050 00000000 		.word	.LC33
 3016              		.cfi_endproc
 3017              	.LFE250:
 3019              		.section	.rodata.sd8804_write_otp.str1.4,"aMS",%progbits,1
 3020              		.align	2
 3021              	.LC34:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 75


 3022 0000 64617465 		.ascii	"date error, check ID error\012\000"
 3022      20657272 
 3022      6F722C20 
 3022      63686563 
 3022      6B204944 
 3023              		.align	2
 3024              	.LC35:
 3025 001c 62736E20 		.ascii	"bsn %d error, check ID error\012\000"
 3025      25642065 
 3025      72726F72 
 3025      2C206368 
 3025      65636B20 
 3026 003a 0000     		.align	2
 3027              	.LC36:
 3028 003c 63736E20 		.ascii	"csn %d error, check ID error\012\000"
 3028      25642065 
 3028      72726F72 
 3028      2C206368 
 3028      65636B20 
 3029 005a 0000     		.align	2
 3030              	.LC37:
 3031 005c 72746320 		.ascii	"rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 3031      25642069 
 3031      643A2530 
 3031      32582530 
 3031      32582530 
 3032              		.align	2
 3033              	.LC38:
 3034 0088 2A2A2A2A 		.ascii	"*************** WRITE SD8804 ************\015\012\000"
 3034      2A2A2A2A 
 3034      2A2A2A2A 
 3034      2A2A2A20 
 3034      57524954 
 3035              		.section	.text.sd8804_write_otp,"ax",%progbits
 3036              		.align	1
 3037              		.global	sd8804_write_otp
 3038              		.syntax unified
 3039              		.thumb
 3040              		.thumb_func
 3042              	sd8804_write_otp:
 3043              	.LVL249:
 3044              	.LFB251:
 812:Device/Src/drv_wave1006.c **** uint8_t sd8804_write_otp(uint8_t channel)
 813:Device/Src/drv_wave1006.c **** {
 3045              		.loc 1 813 1 is_stmt 1 view -0
 3046              		.cfi_startproc
 3047              		@ args = 0, pretend = 0, frame = 40
 3048              		@ frame_needed = 0, uses_anonymous_args = 0
 3049              		.loc 1 813 1 is_stmt 0 view .LVU884
 3050 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3051              	.LCFI54:
 3052              		.cfi_def_cfa_offset 36
 3053              		.cfi_offset 4, -36
 3054              		.cfi_offset 5, -32
 3055              		.cfi_offset 6, -28
 3056              		.cfi_offset 7, -24
 3057              		.cfi_offset 8, -20
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 76


 3058              		.cfi_offset 9, -16
 3059              		.cfi_offset 10, -12
 3060              		.cfi_offset 11, -8
 3061              		.cfi_offset 14, -4
 3062 0004 91B0     		sub	sp, sp, #68
 3063              	.LCFI55:
 3064              		.cfi_def_cfa_offset 104
 3065 0006 0446     		mov	r4, r0
 814:Device/Src/drv_wave1006.c **** 	int i;
 3066              		.loc 1 814 2 is_stmt 1 view .LVU885
 815:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 3067              		.loc 1 815 2 view .LVU886
 3068              		.loc 1 815 10 is_stmt 0 view .LVU887
 3069 0008 0023     		movs	r3, #0
 3070 000a ADF83C30 		strh	r3, [sp, #60]	@ movhi
 816:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 3071              		.loc 1 816 2 is_stmt 1 view .LVU888
 3072              		.loc 1 816 11 is_stmt 0 view .LVU889
 3073 000e 0D93     		str	r3, [sp, #52]
 3074 0010 0E93     		str	r3, [sp, #56]
 817:Device/Src/drv_wave1006.c **** 	int num_adj = 0;
 3075              		.loc 1 817 2 is_stmt 1 view .LVU890
 3076              	.LVL250:
 818:Device/Src/drv_wave1006.c **** 	char bsn[BSN_LENGTH + 1] = {0};
 3077              		.loc 1 818 2 view .LVU891
 3078              		.loc 1 818 7 is_stmt 0 view .LVU892
 3079 0012 0A93     		str	r3, [sp, #40]
 3080 0014 0B93     		str	r3, [sp, #44]
 3081 0016 8DF83030 		strb	r3, [sp, #48]
 819:Device/Src/drv_wave1006.c **** 	int number = 0;
 3082              		.loc 1 819 2 is_stmt 1 view .LVU893
 3083              		.loc 1 819 6 is_stmt 0 view .LVU894
 3084 001a 0993     		str	r3, [sp, #36]
 820:Device/Src/drv_wave1006.c **** 
 821:Device/Src/drv_wave1006.c **** 	if (sd8804_calcul_cap(channel) == 0) { return 0;}
 3085              		.loc 1 821 2 is_stmt 1 view .LVU895
 3086              		.loc 1 821 6 is_stmt 0 view .LVU896
 3087 001c FFF7FEFF 		bl	sd8804_calcul_cap
 3088              	.LVL251:
 3089              		.loc 1 821 5 view .LVU897
 3090 0020 10B9     		cbnz	r0, .L135
 3091              	.LVL252:
 3092              	.L123:
 822:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 823:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 99 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 824:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 825:Device/Src/drv_wave1006.c **** 		return 0;
 826:Device/Src/drv_wave1006.c **** 	}
 827:Device/Src/drv_wave1006.c **** 	GetStringFromFlash(bsn, BSN_LENGTH + 1, BSN_ADDR);
 828:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 829:Device/Src/drv_wave1006.c **** 	if (number < 1 || number > 9999) {
 830:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 831:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 832:Device/Src/drv_wave1006.c **** 		return 0;
 833:Device/Src/drv_wave1006.c **** 	}
 834:Device/Src/drv_wave1006.c **** 	if (g_csn <= 2401 || number > 9999) {
 835:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 77


 836:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 837:Device/Src/drv_wave1006.c **** 		return 0;
 838:Device/Src/drv_wave1006.c **** 	}
 839:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
 840:Device/Src/drv_wave1006.c **** 	g_sd8804_config.temp_offset_config = g_offset;			 //温度偏移值，不同芯片不一样
 841:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 842:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 843:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 845:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 846:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 848:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 849:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 850:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 851:Device/Src/drv_wave1006.c **** 	
 852:Device/Src/drv_wave1006.c **** 	
 853:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) {
 854:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 856:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 857:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 858:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 859:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 860:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 861:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 862:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 863:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 864:Device/Src/drv_wave1006.c **** 		} else {
 865:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
 866:Device/Src/drv_wave1006.c **** 		}
 867:Device/Src/drv_wave1006.c **** 		// g_temp_arg[i].temp_val =(i - 120) / 2 * 3.218 + 187.9;   //SD8800特有规则
 868:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val = (i - 120);//
 869:Device/Src/drv_wave1006.c **** 	}
 870:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD8804 ************\r\n");
 871:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8804_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 872:Device/Src/drv_wave1006.c **** 		return 0;
 873:Device/Src/drv_wave1006.c **** 	}
 874:Device/Src/drv_wave1006.c **** 	return 1;
 875:Device/Src/drv_wave1006.c **** }
 3093              		.loc 1 875 1 view .LVU898
 3094 0022 11B0     		add	sp, sp, #68
 3095              	.LCFI56:
 3096              		.cfi_remember_state
 3097              		.cfi_def_cfa_offset 36
 3098              		@ sp needed
 3099 0024 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3100              	.LVL253:
 3101              	.L135:
 3102              	.LCFI57:
 3103              		.cfi_restore_state
 822:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 3104              		.loc 1 822 2 is_stmt 1 view .LVU899
 3105 0028 0DA8     		add	r0, sp, #52
 3106 002a FFF7FEFF 		bl	system_get_real_time
 3107              	.LVL254:
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 78


 3108              		.loc 1 823 2 view .LVU900
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3109              		.loc 1 823 10 is_stmt 0 view .LVU901
 3110 002e 9DF83430 		ldrb	r3, [sp, #52]	@ zero_extendqisi2
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3111              		.loc 1 823 21 view .LVU902
 3112 0032 183B     		subs	r3, r3, #24
 3113 0034 DBB2     		uxtb	r3, r3
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3114              		.loc 1 823 5 view .LVU903
 3115 0036 4B2B     		cmp	r3, #75
 3116 0038 09D8     		bhi	.L124
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3117              		.loc 1 823 46 discriminator 1 view .LVU904
 3118 003a 9DF83530 		ldrb	r3, [sp, #53]	@ zero_extendqisi2
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3119              		.loc 1 823 39 discriminator 1 view .LVU905
 3120 003e 33B1     		cbz	r3, .L124
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3121              		.loc 1 823 55 discriminator 2 view .LVU906
 3122 0040 0C2B     		cmp	r3, #12
 3123 0042 04D8     		bhi	.L124
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3124              		.loc 1 823 79 discriminator 3 view .LVU907
 3125 0044 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3126              		.loc 1 823 72 discriminator 3 view .LVU908
 3127 0048 0BB1     		cbz	r3, .L124
 823:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3128              		.loc 1 823 88 discriminator 4 view .LVU909
 3129 004a 1F2B     		cmp	r3, #31
 3130 004c 04D9     		bls	.L125
 3131              	.L124:
 824:Device/Src/drv_wave1006.c **** 		return 0;
 3132              		.loc 1 824 3 is_stmt 1 view .LVU910
 3133 004e B348     		ldr	r0, .L138
 3134 0050 FFF7FEFF 		bl	UsbPrintf
 3135              	.LVL255:
 825:Device/Src/drv_wave1006.c **** 	}
 3136              		.loc 1 825 3 view .LVU911
 825:Device/Src/drv_wave1006.c **** 	}
 3137              		.loc 1 825 10 is_stmt 0 view .LVU912
 3138 0054 0020     		movs	r0, #0
 3139 0056 E4E7     		b	.L123
 3140              	.L125:
 827:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 3141              		.loc 1 827 2 is_stmt 1 view .LVU913
 3142 0058 B14A     		ldr	r2, .L138+4
 3143 005a 0921     		movs	r1, #9
 3144 005c 0AA8     		add	r0, sp, #40
 3145 005e FFF7FEFF 		bl	GetStringFromFlash
 3146              	.LVL256:
 828:Device/Src/drv_wave1006.c **** 	if (number < 1 || number > 9999) {
 3147              		.loc 1 828 2 view .LVU914
 3148 0062 09AA     		add	r2, sp, #36
 3149 0064 0421     		movs	r1, #4
 3150 0066 0AA8     		add	r0, sp, #40
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 79


 3151 0068 FFF7FEFF 		bl	CharToInt
 3152              	.LVL257:
 829:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3153              		.loc 1 829 2 view .LVU915
 829:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3154              		.loc 1 829 17 is_stmt 0 view .LVU916
 3155 006c 0999     		ldr	r1, [sp, #36]
 3156 006e 4A1E     		subs	r2, r1, #1
 829:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3157              		.loc 1 829 5 view .LVU917
 3158 0070 42F20E73 		movw	r3, #9998
 3159 0074 9A42     		cmp	r2, r3
 3160 0076 13D8     		bhi	.L136
 834:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3161              		.loc 1 834 2 is_stmt 1 view .LVU918
 834:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3162              		.loc 1 834 12 is_stmt 0 view .LVU919
 3163 0078 AA4B     		ldr	r3, .L138+8
 3164 007a 1888     		ldrh	r0, [r3]
 834:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3165              		.loc 1 834 5 view .LVU920
 3166 007c 40F66113 		movw	r3, #2401
 3167 0080 9842     		cmp	r0, r3
 3168 0082 03D9     		bls	.L127
 834:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3169              		.loc 1 834 20 discriminator 1 view .LVU921
 3170 0084 42F20F73 		movw	r3, #9999
 3171 0088 9942     		cmp	r1, r3
 3172 008a 13DD     		ble	.L128
 3173              	.L127:
 835:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 3174              		.loc 1 835 3 is_stmt 1 view .LVU922
 3175 008c A64C     		ldr	r4, .L138+12
 3176 008e 2046     		mov	r0, r4
 3177 0090 FFF7FEFF 		bl	UsbPrintf
 3178              	.LVL258:
 836:Device/Src/drv_wave1006.c **** 		return 0;
 3179              		.loc 1 836 3 view .LVU923
 3180 0094 0999     		ldr	r1, [sp, #36]
 3181 0096 2046     		mov	r0, r4
 3182 0098 FFF7FEFF 		bl	log_printf
 3183              	.LVL259:
 837:Device/Src/drv_wave1006.c **** 	}
 3184              		.loc 1 837 3 view .LVU924
 837:Device/Src/drv_wave1006.c **** 	}
 3185              		.loc 1 837 10 is_stmt 0 view .LVU925
 3186 009c 0020     		movs	r0, #0
 3187 009e C0E7     		b	.L123
 3188              	.L136:
 830:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 3189              		.loc 1 830 3 is_stmt 1 view .LVU926
 3190 00a0 A24C     		ldr	r4, .L138+16
 3191 00a2 2046     		mov	r0, r4
 3192 00a4 FFF7FEFF 		bl	UsbPrintf
 3193              	.LVL260:
 831:Device/Src/drv_wave1006.c **** 		return 0;
 3194              		.loc 1 831 3 view .LVU927
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 80


 3195 00a8 0999     		ldr	r1, [sp, #36]
 3196 00aa 2046     		mov	r0, r4
 3197 00ac FFF7FEFF 		bl	log_printf
 3198              	.LVL261:
 832:Device/Src/drv_wave1006.c **** 	}
 3199              		.loc 1 832 3 view .LVU928
 832:Device/Src/drv_wave1006.c **** 	}
 3200              		.loc 1 832 10 is_stmt 0 view .LVU929
 3201 00b0 0020     		movs	r0, #0
 3202 00b2 B6E7     		b	.L123
 3203              	.L128:
 840:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 3204              		.loc 1 840 2 is_stmt 1 view .LVU930
 840:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 3205              		.loc 1 840 37 is_stmt 0 view .LVU931
 3206 00b4 9E4B     		ldr	r3, .L138+20
 3207 00b6 1A88     		ldrh	r2, [r3]
 3208 00b8 9E4B     		ldr	r3, .L138+24
 3209 00ba 1A72     		strb	r2, [r3, #8]
 841:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3210              		.loc 1 841 2 is_stmt 1 view .LVU932
 841:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3211              		.loc 1 841 22 is_stmt 0 view .LVU933
 3212 00bc 9DF83450 		ldrb	r5, [sp, #52]	@ zero_extendqisi2
 841:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3213              		.loc 1 841 45 view .LVU934
 3214 00c0 9D4A     		ldr	r2, .L138+28
 3215 00c2 A2FB0563 		umull	r6, r3, r2, r5
 3216 00c6 DF08     		lsrs	r7, r3, #3
 3217 00c8 A2FB07C6 		umull	ip, r6, r2, r7
 3218 00cc F608     		lsrs	r6, r6, #3
 3219 00ce 06EB8606 		add	r6, r6, r6, lsl #2
 3220 00d2 A7EB4603 		sub	r3, r7, r6, lsl #1
 3221 00d6 07EB8707 		add	r7, r7, r7, lsl #2
 3222 00da A5EB4705 		sub	r5, r5, r7, lsl #1
 3223 00de 05EB0313 		add	r3, r5, r3, lsl #4
 3224 00e2 5FFA83FB 		uxtb	fp, r3
 841:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3225              		.loc 1 841 14 view .LVU935
 3226 00e6 954F     		ldr	r7, .L138+32
 3227 00e8 87F800B0 		strb	fp, [r7]
 842:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3228              		.loc 1 842 2 is_stmt 1 view .LVU936
 842:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3229              		.loc 1 842 22 is_stmt 0 view .LVU937
 3230 00ec 9DF83550 		ldrb	r5, [sp, #53]	@ zero_extendqisi2
 842:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3231              		.loc 1 842 44 view .LVU938
 3232 00f0 A2FB0563 		umull	r6, r3, r2, r5
 3233 00f4 4FEAD30C 		lsr	ip, r3, #3
 3234 00f8 A2FB0CE6 		umull	lr, r6, r2, ip
 3235 00fc F608     		lsrs	r6, r6, #3
 3236 00fe 06EB8606 		add	r6, r6, r6, lsl #2
 3237 0102 ACEB4603 		sub	r3, ip, r6, lsl #1
 3238 0106 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3239 010a A5EB4C05 		sub	r5, r5, ip, lsl #1
 3240 010e 05EB0313 		add	r3, r5, r3, lsl #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 81


 3241 0112 DBB2     		uxtb	r3, r3
 842:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3242              		.loc 1 842 14 view .LVU939
 3243 0114 0793     		str	r3, [sp, #28]
 3244 0116 7B70     		strb	r3, [r7, #1]
 843:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3245              		.loc 1 843 2 is_stmt 1 view .LVU940
 843:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3246              		.loc 1 843 22 is_stmt 0 view .LVU941
 3247 0118 9DF83660 		ldrb	r6, [sp, #54]	@ zero_extendqisi2
 843:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3248              		.loc 1 843 44 view .LVU942
 3249 011c A2FB0635 		umull	r3, r5, r2, r6
 3250 0120 4FEAD50E 		lsr	lr, r5, #3
 3251 0124 A2FB0E3C 		umull	r3, ip, r2, lr
 3252 0128 4FEADC0C 		lsr	ip, ip, #3
 3253 012c 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3254 0130 AEEB4C05 		sub	r5, lr, ip, lsl #1
 3255 0134 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3256 0138 A6EB4E06 		sub	r6, r6, lr, lsl #1
 3257 013c 06EB0515 		add	r5, r6, r5, lsl #4
 3258 0140 EDB2     		uxtb	r5, r5
 3259 0142 0095     		str	r5, [sp]
 843:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3260              		.loc 1 843 14 view .LVU943
 3261 0144 BD70     		strb	r5, [r7, #2]
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3262              		.loc 1 844 2 is_stmt 1 view .LVU944
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3263              		.loc 1 844 25 is_stmt 0 view .LVU945
 3264 0146 7E4E     		ldr	r6, .L138+36
 3265 0148 86FB0135 		smull	r3, r5, r6, r1
 3266 014c 4FEAE17A 		asr	r10, r1, #31
 3267 0150 CAEBA515 		rsb	r5, r10, r5, asr #6
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3268              		.loc 1 844 33 view .LVU946
 3269 0154 DFF80882 		ldr	r8, .L138+68
 3270 0158 88FB053C 		smull	r3, ip, r8, r5
 3271 015c 4FEAE57E 		asr	lr, r5, #31
 3272 0160 CEEBAC0E 		rsb	lr, lr, ip, asr #2
 3273 0164 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3274 0168 A5EB4E0E 		sub	lr, r5, lr, lsl #1
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3275              		.loc 1 844 55 view .LVU947
 3276 016c 754D     		ldr	r5, .L138+40
 3277 016e 85FB0139 		smull	r3, r9, r5, r1
 3278 0172 CAEB6919 		rsb	r9, r10, r9, asr #5
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3279              		.loc 1 844 62 view .LVU948
 3280 0176 88FB09C3 		smull	ip, r3, r8, r9
 3281 017a 4FEAE97C 		asr	ip, r9, #31
 3282 017e CCEBA30C 		rsb	ip, ip, r3, asr #2
 3283 0182 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3284 0186 A9EB4C0C 		sub	ip, r9, ip, lsl #1
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3285              		.loc 1 844 44 view .LVU949
 3286 018a 0CEB0E1C 		add	ip, ip, lr, lsl #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 82


 3287 018e 5FFA8CFC 		uxtb	ip, ip
 844:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3288              		.loc 1 844 14 view .LVU950
 3289 0192 87F803C0 		strb	ip, [r7, #3]
 845:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3290              		.loc 1 845 2 is_stmt 1 view .LVU951
 845:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3291              		.loc 1 845 41 is_stmt 0 view .LVU952
 3292 0196 A6FB0036 		umull	r3, r6, r6, r0
 3293 019a B609     		lsrs	r6, r6, #6
 3294 019c A2FB063E 		umull	r3, lr, r2, r6
 3295 01a0 4FEADE0E 		lsr	lr, lr, #3
 3296 01a4 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3297 01a8 A6EB4E06 		sub	r6, r6, lr, lsl #1
 3298 01ac A5FB0035 		umull	r3, r5, r5, r0
 3299 01b0 6D09     		lsrs	r5, r5, #5
 3300 01b2 A2FB053E 		umull	r3, lr, r2, r5
 3301 01b6 4FEADE0E 		lsr	lr, lr, #3
 3302 01ba 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3303 01be A5EB4E05 		sub	r5, r5, lr, lsl #1
 3304 01c2 05EB0615 		add	r5, r5, r6, lsl #4
 3305 01c6 EDB2     		uxtb	r5, r5
 845:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3306              		.loc 1 845 14 view .LVU953
 3307 01c8 3D71     		strb	r5, [r7, #4]
 846:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3308              		.loc 1 846 2 is_stmt 1 view .LVU954
 846:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3309              		.loc 1 846 39 is_stmt 0 view .LVU955
 3310 01ca A2FB003E 		umull	r3, lr, r2, r0
 3311 01ce 4FEADE09 		lsr	r9, lr, #3
 3312 01d2 A2FB0936 		umull	r3, r6, r2, r9
 3313 01d6 F608     		lsrs	r6, r6, #3
 3314 01d8 06EB8606 		add	r6, r6, r6, lsl #2
 3315 01dc A9EB4606 		sub	r6, r9, r6, lsl #1
 3316 01e0 09EB8909 		add	r9, r9, r9, lsl #2
 3317 01e4 A0EB4900 		sub	r0, r0, r9, lsl #1
 3318 01e8 00EB0610 		add	r0, r0, r6, lsl #4
 3319 01ec C0B2     		uxtb	r0, r0
 846:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3320              		.loc 1 846 14 view .LVU956
 3321 01ee 7871     		strb	r0, [r7, #5]
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3322              		.loc 1 847 2 is_stmt 1 view .LVU957
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3323              		.loc 1 847 25 is_stmt 0 view .LVU958
 3324 01f0 88FB0136 		smull	r3, r6, r8, r1
 3325 01f4 CAEBA60A 		rsb	r10, r10, r6, asr #2
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3326              		.loc 1 847 31 view .LVU959
 3327 01f8 88FB0A38 		smull	r3, r8, r8, r10
 3328 01fc 4FEAEA76 		asr	r6, r10, #31
 3329 0200 C6EBA806 		rsb	r6, r6, r8, asr #2
 3330 0204 06EB8606 		add	r6, r6, r6, lsl #2
 3331 0208 AAEB4606 		sub	r6, r10, r6, lsl #1
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3332              		.loc 1 847 53 view .LVU960
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 83


 3333 020c 0AEB8A0A 		add	r10, r10, r10, lsl #2
 3334 0210 A1EB4A01 		sub	r1, r1, r10, lsl #1
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3335              		.loc 1 847 42 view .LVU961
 3336 0214 01EB0611 		add	r1, r1, r6, lsl #4
 3337 0218 C9B2     		uxtb	r1, r1
 847:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3338              		.loc 1 847 14 view .LVU962
 3339 021a B971     		strb	r1, [r7, #6]
 848:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3340              		.loc 1 848 2 is_stmt 1 view .LVU963
 848:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3341              		.loc 1 848 43 is_stmt 0 view .LVU964
 3342 021c A2FB043E 		umull	r3, lr, r2, r4
 3343 0220 4FEADE06 		lsr	r6, lr, #3
 3344 0224 A2FB0632 		umull	r3, r2, r2, r6
 3345 0228 D208     		lsrs	r2, r2, #3
 3346 022a 02EB8202 		add	r2, r2, r2, lsl #2
 3347 022e A6EB420E 		sub	lr, r6, r2, lsl #1
 3348 0232 06EB8602 		add	r2, r6, r6, lsl #2
 3349 0236 A4EB4202 		sub	r2, r4, r2, lsl #1
 3350 023a 02EB0E12 		add	r2, r2, lr, lsl #4
 3351 023e D2B2     		uxtb	r2, r2
 848:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3352              		.loc 1 848 14 view .LVU965
 3353 0240 FA71     		strb	r2, [r7, #7]
 849:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3354              		.loc 1 849 2 is_stmt 1 view .LVU966
 3355 0242 0592     		str	r2, [sp, #20]
 3356 0244 0491     		str	r1, [sp, #16]
 3357 0246 0390     		str	r0, [sp, #12]
 3358 0248 0295     		str	r5, [sp, #8]
 3359 024a CDF804C0 		str	ip, [sp, #4]
 3360 024e 079B     		ldr	r3, [sp, #28]
 3361 0250 5A46     		mov	r2, fp
 3362 0252 2146     		mov	r1, r4
 3363 0254 3C48     		ldr	r0, .L138+44
 3364 0256 FFF7FEFF 		bl	log_printf
 3365              	.LVL262:
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3366              		.loc 1 853 2 view .LVU967
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3367              		.loc 1 853 9 is_stmt 0 view .LVU968
 3368 025a 0025     		movs	r5, #0
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3369              		.loc 1 853 2 view .LVU969
 3370 025c 12E0     		b	.L129
 3371              	.LVL263:
 3372              	.L130:
 865:Device/Src/drv_wave1006.c **** 		}
 3373              		.loc 1 865 4 is_stmt 1 view .LVU970
 865:Device/Src/drv_wave1006.c **** 		}
 3374              		.loc 1 865 27 is_stmt 0 view .LVU971
 3375 025e 05EB4503 		add	r3, r5, r5, lsl #1
 3376 0262 3A4A     		ldr	r2, .L138+48
 3377 0264 02EB4303 		add	r3, r2, r3, lsl #1
 3378 0268 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 84


 3379 026a 9A70     		strb	r2, [r3, #2]
 3380              	.L131:
 868:Device/Src/drv_wave1006.c **** 	}
 3381              		.loc 1 868 3 is_stmt 1 discriminator 2 view .LVU972
 868:Device/Src/drv_wave1006.c **** 	}
 3382              		.loc 1 868 31 is_stmt 0 discriminator 2 view .LVU973
 3383 026c A5F17801 		sub	r1, r5, #120
 868:Device/Src/drv_wave1006.c **** 	}
 3384              		.loc 1 868 26 discriminator 2 view .LVU974
 3385 0270 05EB4502 		add	r2, r5, r5, lsl #1
 3386 0274 354B     		ldr	r3, .L138+48
 3387 0276 03EB4203 		add	r3, r3, r2, lsl #1
 3388 027a 9A88     		ldrh	r2, [r3, #4]
 3389 027c 61F30802 		bfi	r2, r1, #0, #9
 3390 0280 9A80     		strh	r2, [r3, #4]	@ movhi
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3391              		.loc 1 853 23 is_stmt 1 discriminator 2 view .LVU975
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3392              		.loc 1 853 24 is_stmt 0 discriminator 2 view .LVU976
 3393 0282 0135     		adds	r5, r5, #1
 3394              	.LVL264:
 3395              	.L129:
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3396              		.loc 1 853 14 is_stmt 1 discriminator 1 view .LVU977
 853:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3397              		.loc 1 853 2 is_stmt 0 discriminator 1 view .LVU978
 3398 0284 B5F5D27F 		cmp	r5, #420
 3399 0288 3ADA     		bge	.L137
 854:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3400              		.loc 1 854 3 is_stmt 1 view .LVU979
 854:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3401              		.loc 1 854 39 is_stmt 0 view .LVU980
 3402 028a 314B     		ldr	r3, .L138+52
 3403 028c 03EB8503 		add	r3, r3, r5, lsl #2
 3404 0290 D3ED007A 		vldr.32	s15, [r3]
 854:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3405              		.loc 1 854 3 view .LVU981
 3406 0294 FCEEE77A 		vcvt.u32.f32	s15, s15
 3407 0298 0FA9     		add	r1, sp, #60
 3408 029a 17EE903A 		vmov	r3, s15	@ int
 3409 029e 98B2     		uxth	r0, r3
 3410 02a0 FFF7FEFF 		bl	cap_list_to_uint
 3411              	.LVL265:
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3412              		.loc 1 855 3 is_stmt 1 view .LVU982
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3413              		.loc 1 855 36 is_stmt 0 view .LVU983
 3414 02a4 9DF83D30 		ldrb	r3, [sp, #61]	@ zero_extendqisi2
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3415              		.loc 1 855 48 view .LVU984
 3416 02a8 9B00     		lsls	r3, r3, #2
 3417 02aa 03F01C03 		and	r3, r3, #28
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3418              		.loc 1 855 64 view .LVU985
 3419 02ae 9DF83C10 		ldrb	r1, [sp, #60]	@ zero_extendqisi2
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3420              		.loc 1 855 54 view .LVU986
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 85


 3421 02b2 43EA9113 		orr	r3, r3, r1, lsr #6
 855:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3422              		.loc 1 855 26 view .LVU987
 3423 02b6 254A     		ldr	r2, .L138+48
 3424 02b8 05EB4506 		add	r6, r5, r5, lsl #1
 3425 02bc 7000     		lsls	r0, r6, #1
 3426 02be 02EB4607 		add	r7, r2, r6, lsl #1
 3427 02c2 12F81660 		ldrb	r6, [r2, r6, lsl #1]	@ zero_extendqisi2
 3428 02c6 63F30406 		bfi	r6, r3, #0, #5
 3429 02ca 1654     		strb	r6, [r2, r0]
 856:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3430              		.loc 1 856 3 is_stmt 1 view .LVU988
 856:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3431              		.loc 1 856 44 is_stmt 0 view .LVU989
 3432 02cc C1F3C206 		ubfx	r6, r1, #3, #3
 856:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3433              		.loc 1 856 25 view .LVU990
 3434 02d0 135C     		ldrb	r3, [r2, r0]	@ zero_extendqisi2
 3435 02d2 66F34713 		bfi	r3, r6, #5, #3
 3436 02d6 1354     		strb	r3, [r2, r0]
 857:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3437              		.loc 1 857 3 is_stmt 1 view .LVU991
 857:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3438              		.loc 1 857 26 is_stmt 0 view .LVU992
 3439 02d8 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 3440 02da 61F30203 		bfi	r3, r1, #0, #3
 3441 02de 7B70     		strb	r3, [r7, #1]
 858:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3442              		.loc 1 858 3 is_stmt 1 view .LVU993
 858:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3443              		.loc 1 858 19 is_stmt 0 view .LVU994
 3444 02e0 1C4B     		ldr	r3, .L138+56
 3445 02e2 53F82520 		ldr	r2, [r3, r5, lsl #2]
 858:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3446              		.loc 1 858 6 view .LVU995
 3447 02e6 002A     		cmp	r2, #0
 3448 02e8 B9DA     		bge	.L130
 859:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3449              		.loc 1 859 4 is_stmt 1 view .LVU996
 859:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3450              		.loc 1 859 31 is_stmt 0 view .LVU997
 3451 02ea 1B4B     		ldr	r3, .L138+60
 3452 02ec 83FB0213 		smull	r1, r3, r3, r2
 3453              	.LVL266:
 860:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 3454              		.loc 1 860 4 is_stmt 1 view .LVU998
 861:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3455              		.loc 1 861 4 view .LVU999
 861:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3456              		.loc 1 861 12 is_stmt 0 view .LVU1000
 3457 02f0 A3EBE273 		sub	r3, r3, r2, asr #31
 3458              	.LVL267:
 861:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3459              		.loc 1 861 12 view .LVU1001
 3460 02f4 03F07F03 		and	r3, r3, #127
 3461              	.LVL268:
 862:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 86


 3462              		.loc 1 862 4 is_stmt 1 view .LVU1002
 862:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3463              		.loc 1 862 12 is_stmt 0 view .LVU1003
 3464 02f8 43F0C003 		orr	r3, r3, #192
 3465              	.LVL269:
 863:Device/Src/drv_wave1006.c **** 		} else {
 3466              		.loc 1 863 4 is_stmt 1 view .LVU1004
 863:Device/Src/drv_wave1006.c **** 		} else {
 3467              		.loc 1 863 27 is_stmt 0 view .LVU1005
 3468 02fc BB70     		strb	r3, [r7, #2]
 3469 02fe B5E7     		b	.L131
 3470              	.LVL270:
 3471              	.L137:
 870:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8804_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 3472              		.loc 1 870 2 is_stmt 1 view .LVU1006
 3473 0300 1648     		ldr	r0, .L138+64
 3474 0302 FFF7FEFF 		bl	UsbPrintf
 3475              	.LVL271:
 871:Device/Src/drv_wave1006.c **** 		return 0;
 3476              		.loc 1 871 2 view .LVU1007
 871:Device/Src/drv_wave1006.c **** 		return 0;
 3477              		.loc 1 871 6 is_stmt 0 view .LVU1008
 3478 0306 2346     		mov	r3, r4
 3479 0308 104A     		ldr	r2, .L138+48
 3480 030a 0C49     		ldr	r1, .L138+32
 3481 030c 0948     		ldr	r0, .L138+24
 3482 030e FFF7FEFF 		bl	wave1006_write_otp
 3483              	.LVL272:
 871:Device/Src/drv_wave1006.c **** 		return 0;
 3484              		.loc 1 871 5 view .LVU1009
 3485 0312 08B9     		cbnz	r0, .L133
 874:Device/Src/drv_wave1006.c **** }
 3486              		.loc 1 874 9 view .LVU1010
 3487 0314 0120     		movs	r0, #1
 3488 0316 84E6     		b	.L123
 3489              	.L133:
 872:Device/Src/drv_wave1006.c **** 	}
 3490              		.loc 1 872 10 view .LVU1011
 3491 0318 0020     		movs	r0, #0
 3492 031a 82E6     		b	.L123
 3493              	.L139:
 3494              		.align	2
 3495              	.L138:
 3496 031c 00000000 		.word	.LC34
 3497 0320 00000608 		.word	134610944
 3498 0324 00000000 		.word	.LANCHOR4
 3499 0328 3C000000 		.word	.LC36
 3500 032c 1C000000 		.word	.LC35
 3501 0330 00000000 		.word	.LANCHOR3
 3502 0334 00000000 		.word	.LANCHOR5
 3503 0338 CDCCCCCC 		.word	-858993459
 3504 033c 00000000 		.word	.LANCHOR6
 3505 0340 D34D6210 		.word	274877907
 3506 0344 1F85EB51 		.word	1374389535
 3507 0348 5C000000 		.word	.LC37
 3508 034c 00000000 		.word	.LANCHOR7
 3509 0350 00000000 		.word	.LANCHOR1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 87


 3510 0354 00000000 		.word	.LANCHOR2
 3511 0358 56555555 		.word	1431655766
 3512 035c 88000000 		.word	.LC38
 3513 0360 67666666 		.word	1717986919
 3514              		.cfi_endproc
 3515              	.LFE251:
 3517              		.global	g_wave1006_state
 3518              		.global	g_csn
 3519              		.global	g_offset
 3520              		.global	g_cap_val
 3521              		.global	g_digtal_adj
 3522              		.global	g_temp_arg
 3523              		.global	g_dev_id
 3524              		.global	g_sd8804_config
 3525              		.global	g_sd8902_config
 3526              		.global	g_sd8840_config
 3527              		.global	g_sd8200_config
 3528              		.global	g_sd8939_config
 3529              		.global	g_sd8931_config
 3530              		.global	g_sd8810_config
 3531              		.global	g_sd8800_config
 3532              		.global	g_sd8825_config
 3533              		.global	g_sd3068_config
 3534              		.section	.rodata
 3535              		.align	2
 3536              		.set	.LANCHOR0,. + 0
 3537              	.LC2:
 3538 0000 00000000 		.ascii	"\000\000\000\000\000"
 3538      00
 3539              		.section	.bss.g_cap_val,"aw",%nobits
 3540              		.align	2
 3541              		.set	.LANCHOR1,. + 0
 3544              	g_cap_val:
 3545 0000 00000000 		.space	1680
 3545      00000000 
 3545      00000000 
 3545      00000000 
 3545      00000000 
 3546              		.section	.bss.g_dev_id,"aw",%nobits
 3547              		.align	2
 3548              		.set	.LANCHOR6,. + 0
 3551              	g_dev_id:
 3552 0000 00000000 		.space	40
 3552      00000000 
 3552      00000000 
 3552      00000000 
 3552      00000000 
 3553              		.section	.bss.g_digtal_adj,"aw",%nobits
 3554              		.align	2
 3555              		.set	.LANCHOR2,. + 0
 3558              	g_digtal_adj:
 3559 0000 00000000 		.space	1680
 3559      00000000 
 3559      00000000 
 3559      00000000 
 3559      00000000 
 3560              		.section	.bss.g_offset,"aw",%nobits
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 88


 3561              		.align	1
 3562              		.set	.LANCHOR3,. + 0
 3565              	g_offset:
 3566 0000 0000     		.space	2
 3567              		.section	.bss.g_sd3068_config,"aw",%nobits
 3568              		.align	2
 3571              	g_sd3068_config:
 3572 0000 00000000 		.space	24
 3572      00000000 
 3572      00000000 
 3572      00000000 
 3572      00000000 
 3573              		.section	.bss.g_sd8200_config,"aw",%nobits
 3574              		.align	2
 3577              	g_sd8200_config:
 3578 0000 00000000 		.space	24
 3578      00000000 
 3578      00000000 
 3578      00000000 
 3578      00000000 
 3579              		.section	.bss.g_sd8800_config,"aw",%nobits
 3580              		.align	2
 3583              	g_sd8800_config:
 3584 0000 00000000 		.space	24
 3584      00000000 
 3584      00000000 
 3584      00000000 
 3584      00000000 
 3585              		.section	.bss.g_sd8810_config,"aw",%nobits
 3586              		.align	2
 3589              	g_sd8810_config:
 3590 0000 00000000 		.space	24
 3590      00000000 
 3590      00000000 
 3590      00000000 
 3590      00000000 
 3591              		.section	.bss.g_sd8825_config,"aw",%nobits
 3592              		.align	2
 3595              	g_sd8825_config:
 3596 0000 00000000 		.space	24
 3596      00000000 
 3596      00000000 
 3596      00000000 
 3596      00000000 
 3597              		.section	.bss.g_sd8840_config,"aw",%nobits
 3598              		.align	2
 3601              	g_sd8840_config:
 3602 0000 00000000 		.space	24
 3602      00000000 
 3602      00000000 
 3602      00000000 
 3602      00000000 
 3603              		.section	.bss.g_sd8902_config,"aw",%nobits
 3604              		.align	2
 3607              	g_sd8902_config:
 3608 0000 00000000 		.space	24
 3608      00000000 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 89


 3608      00000000 
 3608      00000000 
 3608      00000000 
 3609              		.section	.bss.g_sd8931_config,"aw",%nobits
 3610              		.align	2
 3613              	g_sd8931_config:
 3614 0000 00000000 		.space	24
 3614      00000000 
 3614      00000000 
 3614      00000000 
 3614      00000000 
 3615              		.section	.bss.g_sd8939_config,"aw",%nobits
 3616              		.align	2
 3619              	g_sd8939_config:
 3620 0000 00000000 		.space	24
 3620      00000000 
 3620      00000000 
 3620      00000000 
 3620      00000000 
 3621              		.section	.bss.g_temp_arg,"aw",%nobits
 3622              		.align	2
 3623              		.set	.LANCHOR7,. + 0
 3626              	g_temp_arg:
 3627 0000 00000000 		.space	2520
 3627      00000000 
 3627      00000000 
 3627      00000000 
 3627      00000000 
 3628              		.section	.bss.g_wave1006_state,"aw",%nobits
 3629              		.align	2
 3632              	g_wave1006_state:
 3633 0000 0000     		.space	2
 3634              		.section	.data.g_csn,"aw"
 3635              		.align	1
 3636              		.set	.LANCHOR4,. + 0
 3639              	g_csn:
 3640 0000 6109     		.short	2401
 3641              		.section	.data.g_sd8804_config,"aw"
 3642              		.align	2
 3643              		.set	.LANCHOR5,. + 0
 3646              	g_sd8804_config:
 3647 0000 12       		.byte	18
 3648 0001 09       		.byte	9
 3649 0002 99       		.byte	153
 3650 0003 1E       		.byte	30
 3651 0004 36       		.byte	54
 3652 0005 01       		.byte	1
 3653 0006 11       		.byte	17
 3654 0007 04       		.byte	4
 3655 0008 70       		.byte	112
 3656 0009 64       		.byte	100
 3657 000a FC       		.byte	252
 3658 000b B4       		.byte	180
 3659 000c 7B       		.byte	123
 3660 000d 00       		.space	1
 3661 000e F7       		.byte	247
 3662 000f 19       		.byte	25
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 90


 3663 0010 10       		.byte	16
 3664 0011 3C       		.byte	60
 3665 0012 00       		.byte	0
 3666 0013 00       		.byte	0
 3667 0014 7F       		.byte	127
 3668 0015 77       		.byte	119
 3669 0016 01       		.byte	1
 3670 0017 00       		.space	1
 3671              		.text
 3672              	.Letext0:
 3673              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 3674              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 3675              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 3676              		.file 5 "Core/Inc/main.h"
 3677              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3678              		.file 7 "Device/Inc/drv_wave1006.h"
 3679              		.file 8 "Drivers/User_Driver/Inc/soft_i2c.h"
 3680              		.file 9 "Drivers/User_Driver/Inc/rtc_i2c.h"
 3681              		.file 10 "Device/Inc/power.h"
 3682              		.file 11 "Device/Inc/flash.h"
 3683              		.file 12 "Device/Inc/rtc.h"
 3684              		.file 13 "App/Inc/calculate.h"
 3685              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 91


DEFINED SYMBOLS
                            *ABS*:00000000 drv_wave1006.c
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:20     .text.otp_prg_power_ctrl:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:25     .text.otp_prg_power_ctrl:00000000 otp_prg_power_ctrl
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:62     .text.get_device_addr:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:68     .text.get_device_addr:00000000 get_device_addr
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:81     .text.get_device_addr:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:125    .text.drv_wave1006_read_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:131    .text.drv_wave1006_read_reg:00000000 drv_wave1006_read_reg
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:198    .text.drv_wave1006_write_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:204    .text.drv_wave1006_write_reg:00000000 drv_wave1006_write_reg
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:271    .text.wave1006_write_enable_seq:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:276    .text.wave1006_write_enable_seq:00000000 wave1006_write_enable_seq
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:367    .text.wave1006_write_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:372    .text.wave1006_write_otp_single:00000000 wave1006_write_otp_single
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:470    .text.wave1006_read_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:475    .text.wave1006_read_otp_single:00000000 wave1006_read_otp_single
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:592    .rodata.wave1006_enter_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:596    .text.wave1006_enter_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:602    .text.wave1006_enter_test_mode:00000000 wave1006_enter_test_mode
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:719    .text.wave1006_enter_test_mode:00000084 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:724    .rodata.sd3031_enter_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:728    .text.sd3031_enter_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:734    .text.sd3031_enter_test_mode:00000000 sd3031_enter_test_mode
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:894    .text.sd3031_enter_test_mode:000000ac $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:900    .text.wave1006_get_test_flag:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:906    .text.wave1006_get_test_flag:00000000 wave1006_get_test_flag
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:958    .text.sd3031_get_test_flag:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:964    .text.sd3031_get_test_flag:00000000 sd3031_get_test_flag
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1016   .text.wave1006_osc_config_set:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1022   .text.wave1006_osc_config_set:00000000 wave1006_osc_config_set
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1127   .rodata.wave1006_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1202   .text.wave1006_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1208   .text.wave1006_write_otp:00000000 wave1006_write_otp
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1797   .text.wave1006_write_otp:000003ac $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:1812   .text.wave1006_write_otp:000003e0 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2337   .text.wave1006_write_otp:000006ac $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2356   .rodata.wave1006_write_otp_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2366   .text.wave1006_write_otp_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2372   .text.wave1006_write_otp_one:00000000 wave1006_write_otp_one
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2652   .text.wave1006_write_otp_one:00000194 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2660   .rodata.wave1006_read_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2671   .text.wave1006_read_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2677   .text.wave1006_read_otp:00000000 wave1006_read_otp
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2915   .text.wave1006_read_otp:0000014c $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2924   .rodata.sd8804_calcul_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2928   .text.sd8804_calcul_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:2934   .text.sd8804_calcul_cap:00000000 sd8804_calcul_cap
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3012   .text.sd8804_calcul_cap:00000044 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3020   .rodata.sd8804_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3036   .text.sd8804_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3042   .text.sd8804_write_otp:00000000 sd8804_write_otp
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3496   .text.sd8804_write_otp:0000031c $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3632   .bss.g_wave1006_state:00000000 g_wave1006_state
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3639   .data.g_csn:00000000 g_csn
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3565   .bss.g_offset:00000000 g_offset
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3544   .bss.g_cap_val:00000000 g_cap_val
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s 			page 92


C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3558   .bss.g_digtal_adj:00000000 g_digtal_adj
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3626   .bss.g_temp_arg:00000000 g_temp_arg
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3551   .bss.g_dev_id:00000000 g_dev_id
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3646   .data.g_sd8804_config:00000000 g_sd8804_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3607   .bss.g_sd8902_config:00000000 g_sd8902_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3601   .bss.g_sd8840_config:00000000 g_sd8840_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3577   .bss.g_sd8200_config:00000000 g_sd8200_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3619   .bss.g_sd8939_config:00000000 g_sd8939_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3613   .bss.g_sd8931_config:00000000 g_sd8931_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3589   .bss.g_sd8810_config:00000000 g_sd8810_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3583   .bss.g_sd8800_config:00000000 g_sd8800_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3595   .bss.g_sd8825_config:00000000 g_sd8825_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3571   .bss.g_sd3068_config:00000000 g_sd3068_config
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3535   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3540   .bss.g_cap_val:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3547   .bss.g_dev_id:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3554   .bss.g_digtal_adj:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3561   .bss.g_offset:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3568   .bss.g_sd3068_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3574   .bss.g_sd8200_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3580   .bss.g_sd8800_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3586   .bss.g_sd8810_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3592   .bss.g_sd8825_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3598   .bss.g_sd8840_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3604   .bss.g_sd8902_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3610   .bss.g_sd8931_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3616   .bss.g_sd8939_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3622   .bss.g_temp_arg:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3629   .bss.g_wave1006_state:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3635   .data.g_csn:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:3642   .data.g_sd8804_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:90     .text.get_device_addr:00000011 $d
C:\Users\86158\AppData\Local\Temp\ccj0vc2j.s:90     .text.get_device_addr:00000012 $t

UNDEFINED SYMBOLS
rtc_otp_power
rtc_read_multi_bytes
rtc_write_multi_bytes
HAL_Delay
UsbPrintf
rtc_group_power
rtc_set_channel
HAL_GPIO_WritePin
CharToInt
strSearch
calculate_wave1006_temp_cap
log_printf
system_get_real_time
GetStringFromFlash
cap_list_to_uint
