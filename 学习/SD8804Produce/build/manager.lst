ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"manager.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.manager_set_mode,"ax",%progbits
  20              		.align	1
  21              		.global	manager_set_mode
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	manager_set_mode:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "App/Src/manager.c"
   1:App/Src/manager.c **** #include "main.h"
   2:App/Src/manager.c **** #include "manager.h"
   3:App/Src/manager.c **** #include "current.h"
   4:App/Src/manager.c **** #include "voltage.h"
   5:App/Src/manager.c **** #include "temp.h"
   6:App/Src/manager.c **** #include "flash.h"
   7:App/Src/manager.c **** #include "log.h"
   8:App/Src/manager.c **** #include "task.h"
   9:App/Src/manager.c **** #include "rtc.h"
  10:App/Src/manager.c **** #include "calculate.h"
  11:App/Src/manager.c **** #include <string.h>
  12:App/Src/manager.c **** #include "power.h"
  13:App/Src/manager.c **** #include "drv_wave1006.h"
  14:App/Src/manager.c **** 
  15:App/Src/manager.c **** #define SD8800_CENTER_TEMP_UP                   30//30℃
  16:App/Src/manager.c **** #define SD8800_CENTER_TEMP_DOWN                 15//15℃
  17:App/Src/manager.c **** 
  18:App/Src/manager.c **** typedef struct {
  19:App/Src/manager.c ****     uint8_t number;
  20:App/Src/manager.c ****     float temp[MAX_CHIP_NUMBER];
  21:App/Src/manager.c ****     float cap[MAX_CHIP_NUMBER];
  22:App/Src/manager.c ****     uint8_t flag[MAX_CHIP_NUMBER];
  23:App/Src/manager.c **** }TestOneData;
  24:App/Src/manager.c **** 
  25:App/Src/manager.c **** static uint8_t g_testMode = FREE_MODE;
  26:App/Src/manager.c **** CapAdjust g_capAdjust = {0};
  27:App/Src/manager.c **** static TestOneData g_oneData = {0};
  28:App/Src/manager.c **** uint8_t g_testFlag[MAX_CHIP_NUMBER] = {0};
  29:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 2


  30:App/Src/manager.c **** void manager_set_mode(uint8_t mode)
  31:App/Src/manager.c **** {
  30              		.loc 1 31 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  32:App/Src/manager.c ****     g_testMode = mode;
  35              		.loc 1 32 5 view .LVU1
  36              		.loc 1 32 16 is_stmt 0 view .LVU2
  37 0000 014B     		ldr	r3, .L2
  38 0002 1870     		strb	r0, [r3]
  33:App/Src/manager.c **** }
  39              		.loc 1 33 1 view .LVU3
  40 0004 7047     		bx	lr
  41              	.L3:
  42 0006 00BF     		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE235:
  48              		.section	.text.manager_get_mode,"ax",%progbits
  49              		.align	1
  50              		.global	manager_get_mode
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	manager_get_mode:
  56              	.LFB236:
  34:App/Src/manager.c **** 
  35:App/Src/manager.c **** uint8_t manager_get_mode(void)
  36:App/Src/manager.c **** {
  57              		.loc 1 36 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  37:App/Src/manager.c ****     return g_testMode;
  62              		.loc 1 37 5 view .LVU5
  38:App/Src/manager.c **** }
  63              		.loc 1 38 1 is_stmt 0 view .LVU6
  64 0000 014B     		ldr	r3, .L5
  65 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  66 0004 7047     		bx	lr
  67              	.L6:
  68 0006 00BF     		.align	2
  69              	.L5:
  70 0008 00000000 		.word	.LANCHOR0
  71              		.cfi_endproc
  72              	.LFE236:
  74              		.global	__aeabi_ui2d
  75              		.global	__aeabi_dmul
  76              		.global	__aeabi_d2uiz
  77              		.section	.rodata.system_voltage_test.str1.4,"aMS",%progbits,1
  78              		.align	2
  79              	.LC0:
  80 0000 332E3356 		.ascii	"3.3V:%dmV,\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 3


  80      3A25646D 
  80      562C00
  81 000b 00       		.align	2
  82              	.LC1:
  83 000c 35563A25 		.ascii	"5V:%dmV,\000"
  83      646D562C 
  83      00
  84              		.section	.text.system_voltage_test,"ax",%progbits
  85              		.align	1
  86              		.global	system_voltage_test
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  91              	system_voltage_test:
  92              	.LFB237:
  39:App/Src/manager.c **** 
  40:App/Src/manager.c **** 
  41:App/Src/manager.c **** uint8_t system_voltage_test(void)
  42:App/Src/manager.c **** {
  93              		.loc 1 42 1 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97 0000 10B5     		push	{r4, lr}
  98              	.LCFI0:
  99              		.cfi_def_cfa_offset 8
 100              		.cfi_offset 4, -8
 101              		.cfi_offset 14, -4
  43:App/Src/manager.c **** 	uint32_t voltage;
 102              		.loc 1 43 2 view .LVU8
  44:App/Src/manager.c ****     uint8_t result = 0;
 103              		.loc 1 44 5 view .LVU9
 104              	.LVL1:
  45:App/Src/manager.c **** 	voltage = ststem_voltage(CHANNEL_3V3) * 3300 * 4.6 / 4096;
 105              		.loc 1 45 2 view .LVU10
 106              		.loc 1 45 12 is_stmt 0 view .LVU11
 107 0002 0020     		movs	r0, #0
 108 0004 FFF7FEFF 		bl	ststem_voltage
 109              	.LVL2:
 110              		.loc 1 45 40 view .LVU12
 111 0008 40F6E444 		movw	r4, #3300
 112              		.loc 1 45 47 view .LVU13
 113 000c 04FB00F0 		mul	r0, r4, r0
 114 0010 FFF7FEFF 		bl	__aeabi_ui2d
 115              	.LVL3:
 116 0014 14A3     		adr	r3, .L9
 117 0016 D3E90023 		ldrd	r2, [r3]
 118 001a FFF7FEFF 		bl	__aeabi_dmul
 119              	.LVL4:
 120              		.loc 1 45 53 view .LVU14
 121 001e 0022     		movs	r2, #0
 122 0020 134B     		ldr	r3, .L9+8
 123 0022 FFF7FEFF 		bl	__aeabi_dmul
 124              	.LVL5:
 125              		.loc 1 45 10 view .LVU15
 126 0026 FFF7FEFF 		bl	__aeabi_d2uiz
 127              	.LVL6:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 4


 128 002a 0146     		mov	r1, r0
 129              	.LVL7:
  46:App/Src/manager.c **** 	log_printf("3.3V:%dmV,", voltage);
 130              		.loc 1 46 2 is_stmt 1 view .LVU16
 131 002c 1148     		ldr	r0, .L9+12
 132              	.LVL8:
 133              		.loc 1 46 2 is_stmt 0 view .LVU17
 134 002e FFF7FEFF 		bl	log_printf
 135              	.LVL9:
  47:App/Src/manager.c ****     if (voltage < 3000 && voltage > 3500) {result++;}
 136              		.loc 1 47 5 is_stmt 1 view .LVU18
  48:App/Src/manager.c **** 	voltage = ststem_voltage(CHANNEL_5V) * 3300 * 4.6 / 4096;
 137              		.loc 1 48 2 view .LVU19
 138              		.loc 1 48 12 is_stmt 0 view .LVU20
 139 0032 0820     		movs	r0, #8
 140 0034 FFF7FEFF 		bl	ststem_voltage
 141              	.LVL10:
 142              		.loc 1 48 46 view .LVU21
 143 0038 04FB00F0 		mul	r0, r4, r0
 144 003c FFF7FEFF 		bl	__aeabi_ui2d
 145              	.LVL11:
 146 0040 09A3     		adr	r3, .L9
 147 0042 D3E90023 		ldrd	r2, [r3]
 148 0046 FFF7FEFF 		bl	__aeabi_dmul
 149              	.LVL12:
 150              		.loc 1 48 52 view .LVU22
 151 004a 0022     		movs	r2, #0
 152 004c 084B     		ldr	r3, .L9+8
 153 004e FFF7FEFF 		bl	__aeabi_dmul
 154              	.LVL13:
 155              		.loc 1 48 10 view .LVU23
 156 0052 FFF7FEFF 		bl	__aeabi_d2uiz
 157              	.LVL14:
 158 0056 0146     		mov	r1, r0
 159              	.LVL15:
  49:App/Src/manager.c **** 	log_printf("5V:%dmV,", voltage);
 160              		.loc 1 49 2 is_stmt 1 view .LVU24
 161 0058 0748     		ldr	r0, .L9+16
 162              	.LVL16:
 163              		.loc 1 49 2 is_stmt 0 view .LVU25
 164 005a FFF7FEFF 		bl	log_printf
 165              	.LVL17:
  50:App/Src/manager.c ****     if (voltage < 4500 && voltage > 5500) {result++;}
 166              		.loc 1 50 5 is_stmt 1 view .LVU26
  51:App/Src/manager.c ****     return result;
 167              		.loc 1 51 5 view .LVU27
  52:App/Src/manager.c **** } 
 168              		.loc 1 52 1 is_stmt 0 view .LVU28
 169 005e 0020     		movs	r0, #0
 170 0060 10BD     		pop	{r4, pc}
 171              	.L10:
 172 0062 00BFAFF3 		.align	3
 172      0080
 173              	.L9:
 174 0068 66666666 		.word	1717986918
 175 006c 66661240 		.word	1074947686
 176 0070 0000303F 		.word	1060110336
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 5


 177 0074 00000000 		.word	.LC0
 178 0078 0C000000 		.word	.LC1
 179              		.cfi_endproc
 180              	.LFE237:
 182              		.global	__aeabi_f2d
 183              		.section	.rodata.system_manage_temp.str1.4,"aMS",%progbits,1
 184              		.align	2
 185              	.LC2:
 186 0000 74656D70 		.ascii	"temp1 value %.1fC\012\000"
 186      31207661 
 186      6C756520 
 186      252E3166 
 186      430A00
 187 0013 00       		.align	2
 188              	.LC3:
 189 0014 63686563 		.ascii	"check system temp is error, test stop.\012\000"
 189      6B207379 
 189      7374656D 
 189      2074656D 
 189      70206973 
 190              		.align	2
 191              	.LC4:
 192 003c 6D657373 		.ascii	"message:\317\265\315\263\316\302\266\310\263\254\267"
 192      6167653A 
 192      CFB5CDB3 
 192      CEC2B6C8 
 192      B3ACB7
 193 004f B6CEA70A 		.ascii	"\266\316\247\012\000"
 193      00
 194              		.align	2
 195              	.LC5:
 196 0054 63686563 		.ascii	"check system votage is error, test stop.\012\000"
 196      6B207379 
 196      7374656D 
 196      20766F74 
 196      61676520 
 197 007e 0000     		.align	2
 198              	.LC6:
 199 0080 63686563 		.ascii	"check system voltage is error, test stop.\012\000"
 199      6B207379 
 199      7374656D 
 199      20766F6C 
 199      74616765 
 200 00ab 00       		.align	2
 201              	.LC7:
 202 00ac 6D657373 		.ascii	"message:\260\345\274\376\265\347\321\271\263\254\267"
 202      6167653A 
 202      B0E5BCFE 
 202      B5E7D1B9 
 202      B3ACB7
 203 00bf B6CEA70A 		.ascii	"\266\316\247\012\000"
 203      00
 204              		.align	2
 205              	.LC8:
 206 00c4 6D657373 		.ascii	"message:\325\375\324\332\274\306\313\343config\012\000"
 206      6167653A 
 206      D5FDD4DA 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 6


 206      BCC6CBE3 
 206      636F6E66 
 207              		.align	2
 208              	.LC9:
 209 00dc 74656D70 		.ascii	"temp offset:chip%d\012\000"
 209      206F6666 
 209      7365743A 
 209      63686970 
 209      25640A00 
 210              		.align	2
 211              	.LC10:
 212 00f0 68697374 		.ascii	"history success!\012\000"
 212      6F727920 
 212      73756363 
 212      65737321 
 212      0A00
 213 0102 0000     		.align	2
 214              	.LC11:
 215 0104 656E7465 		.ascii	"enter testmode fail\012\000"
 215      72207465 
 215      73746D6F 
 215      64652066 
 215      61696C0A 
 216 0119 000000   		.align	2
 217              	.LC12:
 218 011c 74656D70 		.ascii	"temp adc: %.1f, offset:%d\012\000"
 218      20616463 
 218      3A20252E 
 218      31662C20 
 218      6F666673 
 219 0137 00       		.align	2
 220              	.LC13:
 221 0138 6F6B4E75 		.ascii	"okNumber:%d chipName:%d\012\000"
 221      6D626572 
 221      3A256420 
 221      63686970 
 221      4E616D65 
 222 0151 000000   		.align	2
 223              	.LC14:
 224 0154 73797374 		.ascii	"system set rtc group temp config end.\012\000"
 224      656D2073 
 224      65742072 
 224      74632067 
 224      726F7570 
 225              		.section	.text.system_manage_temp,"ax",%progbits
 226              		.align	1
 227              		.global	system_manage_temp
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	system_manage_temp:
 233              	.LFB238:
  53:App/Src/manager.c **** 
  54:App/Src/manager.c **** int system_manage_temp(void)
  55:App/Src/manager.c **** {
 234              		.loc 1 55 1 is_stmt 1 view -0
 235              		.cfi_startproc
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 7


 236              		@ args = 0, pretend = 0, frame = 336
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 239              	.LCFI1:
 240              		.cfi_def_cfa_offset 36
 241              		.cfi_offset 4, -36
 242              		.cfi_offset 5, -32
 243              		.cfi_offset 6, -28
 244              		.cfi_offset 7, -24
 245              		.cfi_offset 8, -20
 246              		.cfi_offset 9, -16
 247              		.cfi_offset 10, -12
 248              		.cfi_offset 11, -8
 249              		.cfi_offset 14, -4
 250 0004 2DED028B 		vpush.64	{d8}
 251              	.LCFI2:
 252              		.cfi_def_cfa_offset 44
 253              		.cfi_offset 80, -44
 254              		.cfi_offset 81, -40
 255 0008 D7B0     		sub	sp, sp, #348
 256              	.LCFI3:
 257              		.cfi_def_cfa_offset 392
  56:App/Src/manager.c **** 	float temp;
 258              		.loc 1 56 2 view .LVU30
  57:App/Src/manager.c ****     int i;
 259              		.loc 1 57 5 view .LVU31
  58:App/Src/manager.c ****     float rtc_temp;
 260              		.loc 1 58 5 view .LVU32
  59:App/Src/manager.c ****     uint8_t config[MAX_CHIP_NUMBER] = {0};
 261              		.loc 1 59 5 view .LVU33
 262              		.loc 1 59 13 is_stmt 0 view .LVU34
 263 000a 0024     		movs	r4, #0
 264 000c 3D94     		str	r4, [sp, #244]
 265 000e 6022     		movs	r2, #96
 266 0010 2146     		mov	r1, r4
 267 0012 3EA8     		add	r0, sp, #248
 268 0014 FFF7FEFF 		bl	memset
 269              	.LVL18:
  60:App/Src/manager.c ****     // uint8_t flag[MAX_CHIP_NUMBER] = {0};
  61:App/Src/manager.c ****     uint8_t stepCount;
 270              		.loc 1 61 5 is_stmt 1 view .LVU35
  62:App/Src/manager.c ****     TestResult tempTest = {0};
 271              		.loc 1 62 5 view .LVU36
 272              		.loc 1 62 16 is_stmt 0 view .LVU37
 273 0018 EC22     		movs	r2, #236
 274 001a 2146     		mov	r1, r4
 275 001c 02A8     		add	r0, sp, #8
 276 001e FFF7FEFF 		bl	memset
 277              	.LVL19:
  63:App/Src/manager.c **** 
  64:App/Src/manager.c **** //step 1: read system temp ship, and check system voltage ok
  65:App/Src/manager.c **** 	temp = temp_read_value(1);
 278              		.loc 1 65 2 is_stmt 1 view .LVU38
 279              		.loc 1 65 9 is_stmt 0 view .LVU39
 280 0022 0120     		movs	r0, #1
 281 0024 FFF7FEFF 		bl	temp_read_value
 282              	.LVL20:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 8


 283 0028 B0EE408A 		vmov.f32	s16, s0
 284              	.LVL21:
  66:App/Src/manager.c ****     log_printf("temp1 value %.1fC\n", temp);
 285              		.loc 1 66 5 is_stmt 1 view .LVU40
 286 002c 10EE100A 		vmov	r0, s0
 287 0030 FFF7FEFF 		bl	__aeabi_f2d
 288              	.LVL22:
 289              		.loc 1 66 5 is_stmt 0 view .LVU41
 290 0034 0446     		mov	r4, r0
 291 0036 0D46     		mov	r5, r1
 292 0038 694E     		ldr	r6, .L29
 293 003a 0246     		mov	r2, r0
 294 003c 0B46     		mov	r3, r1
 295 003e 3046     		mov	r0, r6
 296 0040 FFF7FEFF 		bl	log_printf
 297              	.LVL23:
  67:App/Src/manager.c ****     UsbPrintf("temp1 value %.1fC\n", temp);
 298              		.loc 1 67 5 is_stmt 1 view .LVU42
 299 0044 2246     		mov	r2, r4
 300 0046 2B46     		mov	r3, r5
 301 0048 3046     		mov	r0, r6
 302 004a FFF7FEFF 		bl	UsbPrintf
 303              	.LVL24:
  68:App/Src/manager.c ****     if (temp > SD8800_CENTER_TEMP_UP || temp < SD8800_CENTER_TEMP_DOWN) {
 304              		.loc 1 68 5 view .LVU43
 305              		.loc 1 68 8 is_stmt 0 view .LVU44
 306 004e F3EE0E7A 		vmov.f32	s15, #3.0e+1
 307 0052 B4EEE78A 		vcmpe.f32	s16, s15
 308 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 309 005a 14DC     		bgt	.L12
 310              		.loc 1 68 38 discriminator 1 view .LVU45
 311 005c F2EE0E7A 		vmov.f32	s15, #1.5e+1
 312 0060 B4EEE78A 		vcmpe.f32	s16, s15
 313 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 314 0068 0DD4     		bmi	.L12
  69:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
  70:App/Src/manager.c ****         UsbPrintf("check system temp is error, test stop.\n");
  71:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
  72:App/Src/manager.c ****         return -1;
  73:App/Src/manager.c ****     } 
  74:App/Src/manager.c ****     if (system_voltage_test() > 0) {
 315              		.loc 1 74 5 is_stmt 1 view .LVU46
 316              		.loc 1 74 9 is_stmt 0 view .LVU47
 317 006a FFF7FEFF 		bl	system_voltage_test
 318              	.LVL25:
 319              		.loc 1 74 8 view .LVU48
 320 006e 8246     		mov	r10, r0
 321 0070 B0B9     		cbnz	r0, .L25
  75:App/Src/manager.c ****         log_printf("check system votage is error, test stop.\n");
  76:App/Src/manager.c ****         UsbPrintf("check system voltage is error, test stop.\n");
  77:App/Src/manager.c ****         ControlPrintf("message:板件电压超范围\n");
  78:App/Src/manager.c ****         return -2;
  79:App/Src/manager.c ****     }
  80:App/Src/manager.c **** //step 2: read rtc group config and check, read rtc group temp, calculate group temp config
  81:App/Src/manager.c ****     ControlPrintf("message:正在计算config\n");
 322              		.loc 1 81 5 is_stmt 1 view .LVU49
 323 0072 5C48     		ldr	r0, .L29+4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 9


 324 0074 FFF7FEFF 		bl	ControlPrintf
 325              	.LVL26:
  82:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_READ);
 326              		.loc 1 82 5 view .LVU50
 327 0078 0022     		movs	r2, #0
 328 007a 1146     		mov	r1, r2
 329 007c 5A48     		ldr	r0, .L29+8
 330 007e FFF7FEFF 		bl	flash_test_flag_manage
 331              	.LVL27:
  83:App/Src/manager.c ****     stepCount = 0;
 332              		.loc 1 83 5 view .LVU51
  84:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 333              		.loc 1 84 5 view .LVU52
 334              		.loc 1 84 12 is_stmt 0 view .LVU53
 335 0082 0024     		movs	r4, #0
 336              		.loc 1 84 5 view .LVU54
 337 0084 38E0     		b	.L17
 338              	.LVL28:
 339              	.L12:
  69:App/Src/manager.c ****         UsbPrintf("check system temp is error, test stop.\n");
 340              		.loc 1 69 9 is_stmt 1 view .LVU55
 341 0086 594C     		ldr	r4, .L29+12
 342 0088 2046     		mov	r0, r4
 343 008a FFF7FEFF 		bl	log_printf
 344              	.LVL29:
  70:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
 345              		.loc 1 70 9 view .LVU56
 346 008e 2046     		mov	r0, r4
 347 0090 FFF7FEFF 		bl	UsbPrintf
 348              	.LVL30:
  71:App/Src/manager.c ****         return -1;
 349              		.loc 1 71 9 view .LVU57
 350 0094 5648     		ldr	r0, .L29+16
 351 0096 FFF7FEFF 		bl	ControlPrintf
 352              	.LVL31:
  72:App/Src/manager.c ****     } 
 353              		.loc 1 72 9 view .LVU58
  72:App/Src/manager.c ****     } 
 354              		.loc 1 72 16 is_stmt 0 view .LVU59
 355 009a 4FF0FF30 		mov	r0, #-1
 356 009e 9AE0     		b	.L11
 357              	.L25:
  75:App/Src/manager.c ****         UsbPrintf("check system voltage is error, test stop.\n");
 358              		.loc 1 75 9 is_stmt 1 view .LVU60
 359 00a0 5448     		ldr	r0, .L29+20
 360 00a2 FFF7FEFF 		bl	log_printf
 361              	.LVL32:
  76:App/Src/manager.c ****         ControlPrintf("message:板件电压超范围\n");
 362              		.loc 1 76 9 view .LVU61
 363 00a6 5448     		ldr	r0, .L29+24
 364 00a8 FFF7FEFF 		bl	UsbPrintf
 365              	.LVL33:
  77:App/Src/manager.c ****         return -2;
 366              		.loc 1 77 9 view .LVU62
 367 00ac 5348     		ldr	r0, .L29+28
 368 00ae FFF7FEFF 		bl	ControlPrintf
 369              	.LVL34:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 10


  78:App/Src/manager.c ****     }
 370              		.loc 1 78 9 view .LVU63
  78:App/Src/manager.c ****     }
 371              		.loc 1 78 16 is_stmt 0 view .LVU64
 372 00b2 6FF00100 		mvn	r0, #1
 373 00b6 8EE0     		b	.L11
 374              	.LVL35:
 375              	.L27:
  85:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
  86:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
  87:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
  88:App/Src/manager.c ****             UsbPrintf("history success!\n");
 376              		.loc 1 88 13 is_stmt 1 view .LVU65
 377 00b8 514C     		ldr	r4, .L29+32
 378              	.LVL36:
 379              		.loc 1 88 13 is_stmt 0 view .LVU66
 380 00ba 2046     		mov	r0, r4
 381 00bc FFF7FEFF 		bl	UsbPrintf
 382              	.LVL37:
  89:App/Src/manager.c ****             log_printf("history success!\n");
 383              		.loc 1 89 13 is_stmt 1 view .LVU67
 384 00c0 2046     		mov	r0, r4
 385 00c2 FFF7FEFF 		bl	log_printf
 386              	.LVL38:
  90:App/Src/manager.c ****             stepCount++;
 387              		.loc 1 90 13 view .LVU68
 388              		.loc 1 90 22 is_stmt 0 view .LVU69
 389 00c6 0AF1010A 		add	r10, r10, #1
 390              	.LVL39:
 391              		.loc 1 90 22 view .LVU70
 392 00ca 5FFA8AFA 		uxtb	r10, r10
 393              	.LVL40:
  91:App/Src/manager.c ****             continue;
 394              		.loc 1 91 13 is_stmt 1 view .LVU71
 395 00ce 12E0     		b	.L19
 396              	.LVL41:
 397              	.L28:
  92:App/Src/manager.c ****         }
  93:App/Src/manager.c **** 	    temp = temp_read_value(1);
  94:App/Src/manager.c ****         tempTest.setTemp = temp;
  95:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_CAP_TEST);
  96:App/Src/manager.c ****         HAL_Delay(500);
  97:App/Src/manager.c ****         if (rtc_8800_adc_testmode(i + 1) != I2C_OK) { 
  98:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 398              		.loc 1 98 13 view .LVU72
 399 00d0 2846     		mov	r0, r5
 400 00d2 FFF7FEFF 		bl	rtc_1006_exit_testmode
 401              	.LVL42:
  99:App/Src/manager.c **** 	        UsbPrintf("enter testmode fail\n");
 402              		.loc 1 99 10 view .LVU73
 403 00d6 4B4C     		ldr	r4, .L29+36
 404              	.LVL43:
 405              		.loc 1 99 10 is_stmt 0 view .LVU74
 406 00d8 2046     		mov	r0, r4
 407 00da FFF7FEFF 		bl	UsbPrintf
 408              	.LVL44:
 100:App/Src/manager.c **** 	        log_printf("enter testmode fail\n");
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 11


 409              		.loc 1 100 10 is_stmt 1 view .LVU75
 410 00de 2046     		mov	r0, r4
 411 00e0 FFF7FEFF 		bl	log_printf
 412              	.LVL45:
 101:App/Src/manager.c ****             continue;
 413              		.loc 1 101 13 view .LVU76
 414 00e4 07E0     		b	.L19
 415              	.LVL46:
 416              	.L21:
 102:App/Src/manager.c ****         } else {
 103:App/Src/manager.c ****         HAL_Delay(1);
 104:App/Src/manager.c ****             rtc_temp = system_get_rtc_temp(); 
 105:App/Src/manager.c ****             config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 106:App/Src/manager.c ****             UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 107:App/Src/manager.c ****             log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 108:App/Src/manager.c ****             if (config[i] >= 50 && config[i] <= 140) {
 109:App/Src/manager.c ****                 g_testFlag[i] = 1;
 110:App/Src/manager.c ****                 stepCount++;
 111:App/Src/manager.c ****                 tempTest.tempConfig = config[i];
 112:App/Src/manager.c ****                 flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 113:App/Src/manager.c ****                 flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 114:App/Src/manager.c ****             }
 115:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 417              		.loc 1 115 13 view .LVU77
 418 00e6 2846     		mov	r0, r5
 419 00e8 FFF7FEFF 		bl	rtc_1006_exit_testmode
 420              	.LVL47:
 116:App/Src/manager.c ****         }
 117:App/Src/manager.c ****         ControlPrintf("okNumber:%d chipName:%d\n", stepCount, i + 1);
 421              		.loc 1 117 9 view .LVU78
 422 00ec 3246     		mov	r2, r6
 423 00ee 5146     		mov	r1, r10
 424 00f0 4548     		ldr	r0, .L29+40
 425 00f2 FFF7FEFF 		bl	ControlPrintf
 426              	.LVL48:
 427              	.L19:
  55:App/Src/manager.c **** 	float temp;
 428              		.loc 1 55 1 is_stmt 0 discriminator 1 view .LVU79
 429 00f6 3446     		mov	r4, r6
 430              	.LVL49:
 431              	.L17:
  84:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 432              		.loc 1 84 17 is_stmt 1 discriminator 1 view .LVU80
  84:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 433              		.loc 1 84 5 is_stmt 0 discriminator 1 view .LVU81
 434 00f8 632C     		cmp	r4, #99
 435 00fa 63DC     		bgt	.L26
  85:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 436              		.loc 1 85 6 is_stmt 1 view .LVU82
 437 00fc 661C     		adds	r6, r4, #1
 438 00fe 434D     		ldr	r5, .L29+44
 439 0100 3146     		mov	r1, r6
 440 0102 2846     		mov	r0, r5
 441 0104 FFF7FEFF 		bl	UsbPrintf
 442              	.LVL50:
  86:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 443              		.loc 1 86 6 view .LVU83
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 12


 444 0108 3146     		mov	r1, r6
 445 010a 2846     		mov	r0, r5
 446 010c FFF7FEFF 		bl	log_printf
 447              	.LVL51:
  87:App/Src/manager.c ****             UsbPrintf("history success!\n");
 448              		.loc 1 87 9 view .LVU84
  87:App/Src/manager.c ****             UsbPrintf("history success!\n");
 449              		.loc 1 87 23 is_stmt 0 view .LVU85
 450 0110 354B     		ldr	r3, .L29+8
 451 0112 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
  87:App/Src/manager.c ****             UsbPrintf("history success!\n");
 452              		.loc 1 87 12 view .LVU86
 453 0114 012B     		cmp	r3, #1
 454 0116 CFD0     		beq	.L27
  93:App/Src/manager.c ****         tempTest.setTemp = temp;
 455              		.loc 1 93 6 is_stmt 1 view .LVU87
  93:App/Src/manager.c ****         tempTest.setTemp = temp;
 456              		.loc 1 93 13 is_stmt 0 view .LVU88
 457 0118 0120     		movs	r0, #1
 458 011a FFF7FEFF 		bl	temp_read_value
 459              	.LVL52:
 460 011e B0EE408A 		vmov.f32	s16, s0
 461              	.LVL53:
  94:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_CAP_TEST);
 462              		.loc 1 94 9 is_stmt 1 view .LVU89
  94:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_CAP_TEST);
 463              		.loc 1 94 26 is_stmt 0 view .LVU90
 464 0122 FCEEC07A 		vcvt.u32.f32	s15, s0
 465 0126 17EE903A 		vmov	r3, s15	@ int
 466 012a 8DF83830 		strb	r3, [sp, #56]
  95:App/Src/manager.c ****         HAL_Delay(500);
 467              		.loc 1 95 6 is_stmt 1 view .LVU91
 468 012e 651C     		adds	r5, r4, #1
 469 0130 EDB2     		uxtb	r5, r5
 470 0132 0521     		movs	r1, #5
 471 0134 2846     		mov	r0, r5
 472 0136 FFF7FEFF 		bl	rtc_group_power
 473              	.LVL54:
  96:App/Src/manager.c ****         if (rtc_8800_adc_testmode(i + 1) != I2C_OK) { 
 474              		.loc 1 96 9 view .LVU92
 475 013a 4FF4FA70 		mov	r0, #500
 476 013e FFF7FEFF 		bl	HAL_Delay
 477              	.LVL55:
  97:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 478              		.loc 1 97 9 view .LVU93
  97:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 479              		.loc 1 97 13 is_stmt 0 view .LVU94
 480 0142 2846     		mov	r0, r5
 481 0144 FFF7FEFF 		bl	rtc_8800_adc_testmode
 482              	.LVL56:
  97:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 483              		.loc 1 97 12 view .LVU95
 484 0148 0028     		cmp	r0, #0
 485 014a C1D1     		bne	.L28
 103:App/Src/manager.c ****             rtc_temp = system_get_rtc_temp(); 
 486              		.loc 1 103 9 is_stmt 1 view .LVU96
 487 014c 0120     		movs	r0, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 13


 488 014e FFF7FEFF 		bl	HAL_Delay
 489              	.LVL57:
 104:App/Src/manager.c ****             config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 490              		.loc 1 104 13 view .LVU97
 104:App/Src/manager.c ****             config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 491              		.loc 1 104 24 is_stmt 0 view .LVU98
 492 0152 FFF7FEFF 		bl	system_get_rtc_temp
 493              	.LVL58:
 494 0156 10EE108A 		vmov	r8, s0
 495              	.LVL59:
 105:App/Src/manager.c ****             UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 496              		.loc 1 105 13 is_stmt 1 view .LVU99
 105:App/Src/manager.c ****             UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 497              		.loc 1 105 25 is_stmt 0 view .LVU100
 498 015a F0EE480A 		vmov.f32	s1, s16
 499 015e FFF7FEFF 		bl	rtc_convert_temp_offset
 500              	.LVL60:
 501 0162 0746     		mov	r7, r0
 105:App/Src/manager.c ****             UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 502              		.loc 1 105 23 view .LVU101
 503 0164 04F5AC73 		add	r3, r4, #344
 504 0168 6B44     		add	r3, sp, r3
 505 016a 03F8640C 		strb	r0, [r3, #-100]
 106:App/Src/manager.c ****             log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 506              		.loc 1 106 13 is_stmt 1 view .LVU102
 507 016e 4046     		mov	r0, r8	@ float
 508 0170 FFF7FEFF 		bl	__aeabi_f2d
 509              	.LVL61:
 510 0174 8046     		mov	r8, r0
 511              	.LVL62:
 106:App/Src/manager.c ****             log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 512              		.loc 1 106 13 is_stmt 0 view .LVU103
 513 0176 8946     		mov	r9, r1
 514 0178 DFF898B0 		ldr	fp, .L29+52
 515 017c 0097     		str	r7, [sp]
 516 017e 0246     		mov	r2, r0
 517 0180 0B46     		mov	r3, r1
 518 0182 5846     		mov	r0, fp
 519 0184 FFF7FEFF 		bl	UsbPrintf
 520              	.LVL63:
 107:App/Src/manager.c ****             if (config[i] >= 50 && config[i] <= 140) {
 521              		.loc 1 107 13 is_stmt 1 view .LVU104
 522 0188 0097     		str	r7, [sp]
 523 018a 4246     		mov	r2, r8
 524 018c 4B46     		mov	r3, r9
 525 018e 5846     		mov	r0, fp
 526 0190 FFF7FEFF 		bl	log_printf
 527              	.LVL64:
 108:App/Src/manager.c ****                 g_testFlag[i] = 1;
 528              		.loc 1 108 13 view .LVU105
 108:App/Src/manager.c ****                 g_testFlag[i] = 1;
 529              		.loc 1 108 33 is_stmt 0 view .LVU106
 530 0194 A7F13203 		sub	r3, r7, #50
 531 0198 DBB2     		uxtb	r3, r3
 108:App/Src/manager.c ****                 g_testFlag[i] = 1;
 532              		.loc 1 108 16 view .LVU107
 533 019a 5A2B     		cmp	r3, #90
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 14


 534 019c A3D8     		bhi	.L21
 109:App/Src/manager.c ****                 stepCount++;
 535              		.loc 1 109 17 is_stmt 1 view .LVU108
 109:App/Src/manager.c ****                 stepCount++;
 536              		.loc 1 109 31 is_stmt 0 view .LVU109
 537 019e 124B     		ldr	r3, .L29+8
 538 01a0 0122     		movs	r2, #1
 539 01a2 1A55     		strb	r2, [r3, r4]
 110:App/Src/manager.c ****                 tempTest.tempConfig = config[i];
 540              		.loc 1 110 17 is_stmt 1 view .LVU110
 110:App/Src/manager.c ****                 tempTest.tempConfig = config[i];
 541              		.loc 1 110 26 is_stmt 0 view .LVU111
 542 01a4 9244     		add	r10, r10, r2
 543              	.LVL65:
 110:App/Src/manager.c ****                 tempTest.tempConfig = config[i];
 544              		.loc 1 110 26 view .LVU112
 545 01a6 5FFA8AFA 		uxtb	r10, r10
 546              	.LVL66:
 111:App/Src/manager.c ****                 flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 547              		.loc 1 111 17 is_stmt 1 view .LVU113
 111:App/Src/manager.c ****                 flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 548              		.loc 1 111 37 is_stmt 0 view .LVU114
 549 01aa 8DF83970 		strb	r7, [sp, #57]
 112:App/Src/manager.c ****                 flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 550              		.loc 1 112 17 is_stmt 1 view .LVU115
 551 01ae 3022     		movs	r2, #48
 552 01b0 2946     		mov	r1, r5
 553 01b2 02A8     		add	r0, sp, #8
 554 01b4 FFF7FEFF 		bl	flash_test_data_write_add
 555              	.LVL67:
 113:App/Src/manager.c ****             }
 556              		.loc 1 113 17 view .LVU116
 557 01b8 3122     		movs	r2, #49
 558 01ba 2946     		mov	r1, r5
 559 01bc 02A8     		add	r0, sp, #8
 560 01be FFF7FEFF 		bl	flash_test_data_write_add
 561              	.LVL68:
 562 01c2 90E7     		b	.L21
 563              	.L26:
 118:App/Src/manager.c ****     }
 119:App/Src/manager.c ****     
 120:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_WRITE_ADD);
 564              		.loc 1 120 5 view .LVU117
 565 01c4 0122     		movs	r2, #1
 566 01c6 0021     		movs	r1, #0
 567 01c8 0748     		ldr	r0, .L29+8
 568 01ca FFF7FEFF 		bl	flash_test_flag_manage
 569              	.LVL69:
 121:App/Src/manager.c ****     UsbPrintf("system set rtc group temp config end.\n");
 570              		.loc 1 121 5 view .LVU118
 571 01ce 1048     		ldr	r0, .L29+48
 572 01d0 FFF7FEFF 		bl	UsbPrintf
 573              	.LVL70:
 122:App/Src/manager.c ****     return stepCount;
 574              		.loc 1 122 5 view .LVU119
 575              		.loc 1 122 12 is_stmt 0 view .LVU120
 576 01d4 5046     		mov	r0, r10
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 15


 577              	.LVL71:
 578              	.L11:
 123:App/Src/manager.c **** }
 579              		.loc 1 123 1 view .LVU121
 580 01d6 57B0     		add	sp, sp, #348
 581              	.LCFI4:
 582              		.cfi_def_cfa_offset 44
 583              		@ sp needed
 584 01d8 BDEC028B 		vldm	sp!, {d8}
 585              	.LCFI5:
 586              		.cfi_restore 80
 587              		.cfi_restore 81
 588              		.cfi_def_cfa_offset 36
 589              	.LVL72:
 590              		.loc 1 123 1 view .LVU122
 591 01dc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 592              	.L30:
 593              		.align	2
 594              	.L29:
 595 01e0 00000000 		.word	.LC2
 596 01e4 C4000000 		.word	.LC8
 597 01e8 00000000 		.word	.LANCHOR1
 598 01ec 14000000 		.word	.LC3
 599 01f0 3C000000 		.word	.LC4
 600 01f4 54000000 		.word	.LC5
 601 01f8 80000000 		.word	.LC6
 602 01fc AC000000 		.word	.LC7
 603 0200 F0000000 		.word	.LC10
 604 0204 04010000 		.word	.LC11
 605 0208 38010000 		.word	.LC13
 606 020c DC000000 		.word	.LC9
 607 0210 54010000 		.word	.LC14
 608 0214 1C010000 		.word	.LC12
 609              		.cfi_endproc
 610              	.LFE238:
 612              		.section	.rodata.system_manage_download_cap.str1.4,"aMS",%progbits,1
 613              		.align	2
 614              	.LC15:
 615 0000 63686970 		.ascii	"chip %d history success\012\000"
 615      20256420 
 615      68697374 
 615      6F727920 
 615      73756363 
 616 0019 000000   		.align	2
 617              	.LC16:
 618 001c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:success\012\000"
 618      6D626572 
 618      3A256420 
 618      63686970 
 618      4E616D65 
 619 0045 000000   		.align	2
 620              	.LC17:
 621 0048 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:fail\012\000"
 621      6D626572 
 621      3A256420 
 621      63686970 
 621      4E616D65 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 16


 622              		.section	.text.system_manage_download_cap,"ax",%progbits
 623              		.align	1
 624              		.global	system_manage_download_cap
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 629              	system_manage_download_cap:
 630              	.LFB239:
 124:App/Src/manager.c **** 
 125:App/Src/manager.c **** 
 126:App/Src/manager.c **** //下载函数
 127:App/Src/manager.c **** //先做下载前的检查工作
 128:App/Src/manager.c **** //最后调用download_temp_cap函数去烧录
 129:App/Src/manager.c **** int system_manage_download_cap(void)
 130:App/Src/manager.c **** {
 631              		.loc 1 130 1 is_stmt 1 view -0
 632              		.cfi_startproc
 633              		@ args = 0, pretend = 0, frame = 0
 634              		@ frame_needed = 0, uses_anonymous_args = 0
 635 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 636              	.LCFI6:
 637              		.cfi_def_cfa_offset 24
 638              		.cfi_offset 3, -24
 639              		.cfi_offset 4, -20
 640              		.cfi_offset 5, -16
 641              		.cfi_offset 6, -12
 642              		.cfi_offset 7, -8
 643              		.cfi_offset 14, -4
 131:App/Src/manager.c ****     int i;
 644              		.loc 1 131 5 view .LVU124
 132:App/Src/manager.c ****     int count = 0;
 645              		.loc 1 132 5 view .LVU125
 646              	.LVL73:
 133:App/Src/manager.c ****     
 134:App/Src/manager.c ****     memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 647              		.loc 1 134 5 view .LVU126
 648 0002 224C     		ldr	r4, .L41
 649 0004 6422     		movs	r2, #100
 650 0006 FF21     		movs	r1, #255
 651 0008 2046     		mov	r0, r4
 652 000a FFF7FEFF 		bl	memset
 653              	.LVL74:
 135:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_READ);
 654              		.loc 1 135 5 view .LVU127
 655 000e 0022     		movs	r2, #0
 656 0010 0321     		movs	r1, #3
 657 0012 2046     		mov	r0, r4
 658 0014 FFF7FEFF 		bl	flash_test_flag_manage
 659              	.LVL75:
 136:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 660              		.loc 1 136 5 view .LVU128
 132:App/Src/manager.c ****     
 661              		.loc 1 132 9 is_stmt 0 view .LVU129
 662 0018 0025     		movs	r5, #0
 663              		.loc 1 136 12 view .LVU130
 664 001a 2C46     		mov	r4, r5
 665              		.loc 1 136 5 view .LVU131
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 17


 666 001c 19E0     		b	.L32
 667              	.LVL76:
 668              	.L40:
 137:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 138:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 669              		.loc 1 138 13 is_stmt 1 view .LVU132
 670 001e 661C     		adds	r6, r4, #1
 671 0020 1B4F     		ldr	r7, .L41+4
 672 0022 3146     		mov	r1, r6
 673 0024 3846     		mov	r0, r7
 674 0026 FFF7FEFF 		bl	log_printf
 675              	.LVL77:
 139:App/Src/manager.c ****             UsbPrintf("chip %d history success\n", i + 1);
 676              		.loc 1 139 13 view .LVU133
 677 002a 3146     		mov	r1, r6
 678 002c 3846     		mov	r0, r7
 679 002e FFF7FEFF 		bl	UsbPrintf
 680              	.LVL78:
 140:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 681              		.loc 1 140 4 view .LVU134
 682 0032 3246     		mov	r2, r6
 683 0034 2946     		mov	r1, r5
 684 0036 1748     		ldr	r0, .L41+8
 685 0038 FFF7FEFF 		bl	ControlPrintf
 686              	.LVL79:
 141:App/Src/manager.c ****             count++;
 687              		.loc 1 141 13 view .LVU135
 688              		.loc 1 141 18 is_stmt 0 view .LVU136
 689 003c 0135     		adds	r5, r5, #1
 690              	.LVL80:
 142:App/Src/manager.c ****             continue;
 691              		.loc 1 142 13 is_stmt 1 view .LVU137
 692 003e 07E0     		b	.L34
 693              	.L35:
 143:App/Src/manager.c ****         }
 144:App/Src/manager.c **** 
 145:App/Src/manager.c ****         if (sd8804_write_otp(i + 1) != 0) {
 146:App/Src/manager.c ****             count++;
 147:App/Src/manager.c ****             g_testFlag[i] = '1';
 148:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 149:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 150:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:fail\n", count, i + 1);
 694              		.loc 1 150 4 view .LVU138
 695 0040 621C     		adds	r2, r4, #1
 696 0042 2946     		mov	r1, r5
 697 0044 1448     		ldr	r0, .L41+12
 698 0046 FFF7FEFF 		bl	ControlPrintf
 699              	.LVL81:
 700              	.L36:
 151:App/Src/manager.c ****         }
 152:App/Src/manager.c **** 
 153:App/Src/manager.c ****         HAL_Delay(100);
 701              		.loc 1 153 9 view .LVU139
 702 004a 6420     		movs	r0, #100
 703 004c FFF7FEFF 		bl	HAL_Delay
 704              	.LVL82:
 705              	.L34:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 18


 136:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 706              		.loc 1 136 38 discriminator 2 view .LVU140
 136:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 707              		.loc 1 136 39 is_stmt 0 discriminator 2 view .LVU141
 708 0050 0134     		adds	r4, r4, #1
 709              	.LVL83:
 710              	.L32:
 136:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 711              		.loc 1 136 17 is_stmt 1 discriminator 1 view .LVU142
 136:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 712              		.loc 1 136 5 is_stmt 0 discriminator 1 view .LVU143
 713 0052 632C     		cmp	r4, #99
 714 0054 13DC     		bgt	.L39
 137:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 715              		.loc 1 137 9 is_stmt 1 view .LVU144
 137:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 716              		.loc 1 137 23 is_stmt 0 view .LVU145
 717 0056 0D4B     		ldr	r3, .L41
 718 0058 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 137:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 719              		.loc 1 137 12 view .LVU146
 720 005a 312B     		cmp	r3, #49
 721 005c DFD0     		beq	.L40
 145:App/Src/manager.c ****             count++;
 722              		.loc 1 145 9 is_stmt 1 view .LVU147
 145:App/Src/manager.c ****             count++;
 723              		.loc 1 145 13 is_stmt 0 view .LVU148
 724 005e 601C     		adds	r0, r4, #1
 725 0060 C0B2     		uxtb	r0, r0
 726 0062 FFF7FEFF 		bl	sd8804_write_otp
 727              	.LVL84:
 145:App/Src/manager.c ****             count++;
 728              		.loc 1 145 12 view .LVU149
 729 0066 0028     		cmp	r0, #0
 730 0068 EAD0     		beq	.L35
 146:App/Src/manager.c ****             g_testFlag[i] = '1';
 731              		.loc 1 146 13 is_stmt 1 view .LVU150
 146:App/Src/manager.c ****             g_testFlag[i] = '1';
 732              		.loc 1 146 18 is_stmt 0 view .LVU151
 733 006a 0135     		adds	r5, r5, #1
 734              	.LVL85:
 147:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 735              		.loc 1 147 13 is_stmt 1 view .LVU152
 147:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 736              		.loc 1 147 27 is_stmt 0 view .LVU153
 737 006c 074B     		ldr	r3, .L41
 738 006e 3122     		movs	r2, #49
 739 0070 1A55     		strb	r2, [r3, r4]
 148:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 740              		.loc 1 148 4 is_stmt 1 view .LVU154
 741 0072 621C     		adds	r2, r4, #1
 742 0074 2946     		mov	r1, r5
 743 0076 0748     		ldr	r0, .L41+8
 744 0078 FFF7FEFF 		bl	ControlPrintf
 745              	.LVL86:
 746 007c E5E7     		b	.L36
 747              	.L39:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 19


 154:App/Src/manager.c ****     }
 155:App/Src/manager.c ****     
 156:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_WRITE_ADD);
 748              		.loc 1 156 5 view .LVU155
 749 007e 0122     		movs	r2, #1
 750 0080 0321     		movs	r1, #3
 751 0082 0248     		ldr	r0, .L41
 752 0084 FFF7FEFF 		bl	flash_test_flag_manage
 753              	.LVL87:
 157:App/Src/manager.c ****     return count;
 754              		.loc 1 157 5 view .LVU156
 158:App/Src/manager.c **** }
 755              		.loc 1 158 1 is_stmt 0 view .LVU157
 756 0088 2846     		mov	r0, r5
 757 008a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 758              	.LVL88:
 759              	.L42:
 760              		.loc 1 158 1 view .LVU158
 761              		.align	2
 762              	.L41:
 763 008c 00000000 		.word	.LANCHOR1
 764 0090 00000000 		.word	.LC15
 765 0094 1C000000 		.word	.LC16
 766 0098 48000000 		.word	.LC17
 767              		.cfi_endproc
 768              	.LFE239:
 770              		.section	.rodata.system_set_int.str1.4,"aMS",%progbits,1
 771              		.align	2
 772              	.LC18:
 773 0000 74657374 		.ascii	"test chip %d\012\000"
 773      20636869 
 773      70202564 
 773      0A00
 774              		.section	.text.system_set_int,"ax",%progbits
 775              		.align	1
 776              		.global	system_set_int
 777              		.syntax unified
 778              		.thumb
 779              		.thumb_func
 781              	system_set_int:
 782              	.LVL89:
 783              	.LFB240:
 159:App/Src/manager.c **** 
 160:App/Src/manager.c **** void system_set_int(uint8_t channel)
 161:App/Src/manager.c **** {
 784              		.loc 1 161 1 is_stmt 1 view -0
 785              		.cfi_startproc
 786              		@ args = 0, pretend = 0, frame = 0
 787              		@ frame_needed = 0, uses_anonymous_args = 0
 788              		.loc 1 161 1 is_stmt 0 view .LVU160
 789 0000 38B5     		push	{r3, r4, r5, lr}
 790              	.LCFI7:
 791              		.cfi_def_cfa_offset 16
 792              		.cfi_offset 3, -16
 793              		.cfi_offset 4, -12
 794              		.cfi_offset 5, -8
 795              		.cfi_offset 14, -4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 20


 796 0002 0446     		mov	r4, r0
 162:App/Src/manager.c ****     static int lastChannel = -1;
 797              		.loc 1 162 5 is_stmt 1 view .LVU161
 163:App/Src/manager.c ****     UsbPrintf("test chip %d\n", channel);
 798              		.loc 1 163 5 view .LVU162
 799 0004 124D     		ldr	r5, .L49
 800 0006 0146     		mov	r1, r0
 801 0008 2846     		mov	r0, r5
 802              	.LVL90:
 803              		.loc 1 163 5 is_stmt 0 view .LVU163
 804 000a FFF7FEFF 		bl	UsbPrintf
 805              	.LVL91:
 164:App/Src/manager.c ****     log_printf("test chip %d\n", channel);
 806              		.loc 1 164 5 is_stmt 1 view .LVU164
 807 000e 2146     		mov	r1, r4
 808 0010 2846     		mov	r0, r5
 809 0012 FFF7FEFF 		bl	log_printf
 810              	.LVL92:
 165:App/Src/manager.c ****     if (lastChannel > 0) {
 811              		.loc 1 165 5 view .LVU165
 812              		.loc 1 165 21 is_stmt 0 view .LVU166
 813 0016 0F4B     		ldr	r3, .L49+4
 814 0018 1868     		ldr	r0, [r3]
 815              		.loc 1 165 8 view .LVU167
 816 001a 0028     		cmp	r0, #0
 817 001c 03DC     		bgt	.L47
 818              	.L44:
 166:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 167:App/Src/manager.c ****         rtc_disable_int();
 168:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
 169:App/Src/manager.c ****     }
 170:App/Src/manager.c ****     
 171:App/Src/manager.c ****     if (channel != 0) {
 819              		.loc 1 171 5 is_stmt 1 view .LVU168
 820              		.loc 1 171 8 is_stmt 0 view .LVU169
 821 001e 64B9     		cbnz	r4, .L48
 822              	.L45:
 172:App/Src/manager.c ****         rtc_group_power(channel, POWER_I2C);
 173:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 174:App/Src/manager.c ****         rtc_out_4096();
 175:App/Src/manager.c ****     } 
 176:App/Src/manager.c ****     lastChannel = channel;
 823              		.loc 1 176 5 is_stmt 1 view .LVU170
 824              		.loc 1 176 17 is_stmt 0 view .LVU171
 825 0020 0C4B     		ldr	r3, .L49+4
 826 0022 1C60     		str	r4, [r3]
 177:App/Src/manager.c **** }
 827              		.loc 1 177 1 view .LVU172
 828 0024 38BD     		pop	{r3, r4, r5, pc}
 829              	.L47:
 166:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 830              		.loc 1 166 9 is_stmt 1 view .LVU173
 831 0026 0121     		movs	r1, #1
 832 0028 C0B2     		uxtb	r0, r0
 833 002a FFF7FEFF 		bl	rtc_group_power
 834              	.LVL93:
 167:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 21


 835              		.loc 1 167 9 view .LVU174
 836 002e FFF7FEFF 		bl	rtc_disable_int
 837              	.LVL94:
 168:App/Src/manager.c ****     }
 838              		.loc 1 168 9 view .LVU175
 839 0032 2046     		mov	r0, r4
 840 0034 FFF7FEFF 		bl	rtc_1006_exit_testmode
 841              	.LVL95:
 842 0038 F1E7     		b	.L44
 843              	.L48:
 172:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 844              		.loc 1 172 9 view .LVU176
 845 003a 0121     		movs	r1, #1
 846 003c 2046     		mov	r0, r4
 847 003e FFF7FEFF 		bl	rtc_group_power
 848              	.LVL96:
 173:App/Src/manager.c ****         rtc_out_4096();
 849              		.loc 1 173 9 view .LVU177
 850 0042 2046     		mov	r0, r4
 851 0044 FFF7FEFF 		bl	rtc_1006_set_testmode
 852              	.LVL97:
 174:App/Src/manager.c ****     } 
 853              		.loc 1 174 9 view .LVU178
 854 0048 FFF7FEFF 		bl	rtc_out_4096
 855              	.LVL98:
 856 004c E8E7     		b	.L45
 857              	.L50:
 858 004e 00BF     		.align	2
 859              	.L49:
 860 0050 00000000 		.word	.LC18
 861 0054 00000000 		.word	.LANCHOR2
 862              		.cfi_endproc
 863              	.LFE240:
 865              		.section	.text.check_system_temp,"ax",%progbits
 866              		.align	1
 867              		.global	check_system_temp
 868              		.syntax unified
 869              		.thumb
 870              		.thumb_func
 872              	check_system_temp:
 873              	.LFB241:
 178:App/Src/manager.c **** 
 179:App/Src/manager.c **** int check_system_temp(void)
 180:App/Src/manager.c **** {
 874              		.loc 1 180 1 view -0
 875              		.cfi_startproc
 876              		@ args = 0, pretend = 0, frame = 0
 877              		@ frame_needed = 0, uses_anonymous_args = 0
 878 0000 08B5     		push	{r3, lr}
 879              	.LCFI8:
 880              		.cfi_def_cfa_offset 8
 881              		.cfi_offset 3, -8
 882              		.cfi_offset 14, -4
 181:App/Src/manager.c ****     float temp;
 883              		.loc 1 181 5 view .LVU180
 182:App/Src/manager.c ****     temp = temp_read_value(1);
 884              		.loc 1 182 5 view .LVU181
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 22


 885              		.loc 1 182 12 is_stmt 0 view .LVU182
 886 0002 0120     		movs	r0, #1
 887 0004 FFF7FEFF 		bl	temp_read_value
 888              	.LVL99:
 183:App/Src/manager.c ****     int num = 100;
 889              		.loc 1 183 5 is_stmt 1 view .LVU183
 184:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 890              		.loc 1 184 5 view .LVU184
 891              		.loc 1 184 8 is_stmt 0 view .LVU185
 892 0008 DFED297A 		vldr.32	s15, .L75
 893 000c B4EEE70A 		vcmpe.f32	s0, s15
 894 0010 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 895 0014 06DB     		blt	.L52
 896              		.loc 1 184 21 discriminator 1 view .LVU186
 897 0016 DFED277A 		vldr.32	s15, .L75+4
 898 001a B4EEE70A 		vcmpe.f32	s0, s15
 899 001e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 900 0022 39D9     		bls	.L62
 901              	.L52:
 185:App/Src/manager.c ****         num = TEST_RTC_TEMP_F40;
 186:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 902              		.loc 1 186 12 is_stmt 1 view .LVU187
 903              		.loc 1 186 15 is_stmt 0 view .LVU188
 904 0024 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 905 0028 B4EEE70A 		vcmpe.f32	s0, s15
 906 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 907 0030 06DB     		blt	.L55
 908              		.loc 1 186 28 discriminator 1 view .LVU189
 909 0032 F9EE047A 		vmov.f32	s15, #-5.0e+0
 910 0036 B4EEE70A 		vcmpe.f32	s0, s15
 911 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 912 003e 2DD9     		bls	.L63
 913              	.L55:
 187:App/Src/manager.c ****         num = TEST_RTC_TEMP_F10;
 188:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 914              		.loc 1 188 13 is_stmt 1 view .LVU190
 915              		.loc 1 188 16 is_stmt 0 view .LVU191
 916 0040 F3EE047A 		vmov.f32	s15, #2.0e+1
 917 0044 B4EEE70A 		vcmpe.f32	s0, s15
 918 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 919 004c 06DB     		blt	.L57
 920              		.loc 1 188 28 discriminator 1 view .LVU192
 921 004e DFED1A7A 		vldr.32	s15, .L75+8
 922 0052 B4EEE70A 		vcmpe.f32	s0, s15
 923 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 924 005a 21D9     		bls	.L64
 925              	.L57:
 189:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z29;
 190:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 926              		.loc 1 190 12 is_stmt 1 view .LVU193
 927              		.loc 1 190 15 is_stmt 0 view .LVU194
 928 005c DFED177A 		vldr.32	s15, .L75+12
 929 0060 B4EEE70A 		vcmpe.f32	s0, s15
 930 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 931 0068 06DB     		blt	.L59
 932              		.loc 1 190 27 discriminator 1 view .LVU195
 933 006a DFED157A 		vldr.32	s15, .L75+16
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 23


 934 006e B4EEE70A 		vcmpe.f32	s0, s15
 935 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 936 0076 15D9     		bls	.L65
 937              	.L59:
 191:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z60;
 192:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 938              		.loc 1 192 12 is_stmt 1 view .LVU196
 939              		.loc 1 192 15 is_stmt 0 view .LVU197
 940 0078 DFED127A 		vldr.32	s15, .L75+20
 941 007c B4EEE70A 		vcmpe.f32	s0, s15
 942 0080 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 943 0084 10DB     		blt	.L73
 944              		.loc 1 192 27 discriminator 1 view .LVU198
 945 0086 DFED107A 		vldr.32	s15, .L75+24
 946 008a B4EEE70A 		vcmpe.f32	s0, s15
 947 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 948 0092 0BD9     		bls	.L67
 183:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 949              		.loc 1 183 9 view .LVU199
 950 0094 6420     		movs	r0, #100
 951 0096 00E0     		b	.L51
 952              	.L62:
 185:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 953              		.loc 1 185 13 view .LVU200
 954 0098 0020     		movs	r0, #0
 955              	.LVL100:
 956              	.L51:
 193:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z85;
 194:App/Src/manager.c ****     }
 195:App/Src/manager.c ****     return num;
 196:App/Src/manager.c **** }
 957              		.loc 1 196 1 view .LVU201
 958 009a 08BD     		pop	{r3, pc}
 959              	.LVL101:
 960              	.L63:
 187:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 961              		.loc 1 187 13 view .LVU202
 962 009c 0120     		movs	r0, #1
 963 009e FCE7     		b	.L51
 964              	.L64:
 189:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 965              		.loc 1 189 13 view .LVU203
 966 00a0 0220     		movs	r0, #2
 967 00a2 FAE7     		b	.L51
 968              	.L65:
 191:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 969              		.loc 1 191 13 view .LVU204
 970 00a4 0320     		movs	r0, #3
 971 00a6 F8E7     		b	.L51
 972              	.L73:
 183:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 973              		.loc 1 183 9 view .LVU205
 974 00a8 6420     		movs	r0, #100
 975 00aa F6E7     		b	.L51
 976              	.L67:
 193:App/Src/manager.c ****     }
 977              		.loc 1 193 13 view .LVU206
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 24


 978 00ac 0420     		movs	r0, #4
 979              	.LVL102:
 195:App/Src/manager.c **** }
 980              		.loc 1 195 5 is_stmt 1 view .LVU207
 195:App/Src/manager.c **** }
 981              		.loc 1 195 12 is_stmt 0 view .LVU208
 982 00ae F4E7     		b	.L51
 983              	.L76:
 984              		.align	2
 985              	.L75:
 986 00b0 000034C2 		.word	-1036779520
 987 00b4 00000CC2 		.word	-1039400960
 988 00b8 00002042 		.word	1109393408
 989 00bc 00005C42 		.word	1113325568
 990 00c0 00008242 		.word	1115815936
 991 00c4 0000A042 		.word	1117782016
 992 00c8 0000B442 		.word	1119092736
 993              		.cfi_endproc
 994              	.LFE241:
 996              		.section	.text.systm_cap_save_buffer,"ax",%progbits
 997              		.align	1
 998              		.global	systm_cap_save_buffer
 999              		.syntax unified
 1000              		.thumb
 1001              		.thumb_func
 1003              	systm_cap_save_buffer:
 1004              	.LVL103:
 1005              	.LFB242:
 197:App/Src/manager.c **** 
 198:App/Src/manager.c **** 
 199:App/Src/manager.c **** void systm_cap_save_buffer(uint8_t rtcNumber, float testTemp, float testCap)
 200:App/Src/manager.c **** {
 1006              		.loc 1 200 1 is_stmt 1 view -0
 1007              		.cfi_startproc
 1008              		@ args = 0, pretend = 0, frame = 0
 1009              		@ frame_needed = 0, uses_anonymous_args = 0
 1010              		@ link register save eliminated.
 201:App/Src/manager.c ****     int i;
 1011              		.loc 1 201 5 view .LVU210
 202:App/Src/manager.c **** 
 203:App/Src/manager.c ****     if (rtcNumber == 0) {
 1012              		.loc 1 203 5 view .LVU211
 1013              		.loc 1 203 8 is_stmt 0 view .LVU212
 1014 0000 0246     		mov	r2, r0
 1015 0002 C8B1     		cbz	r0, .L82
 204:App/Src/manager.c ****         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 205:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 206:App/Src/manager.c ****         }
 207:App/Src/manager.c ****     } else {
 208:App/Src/manager.c ****         g_oneData.flag[rtcNumber - 1] = CAP_ADJUST_SUCCESS;
 1016              		.loc 1 208 9 is_stmt 1 view .LVU213
 1017              		.loc 1 208 34 is_stmt 0 view .LVU214
 1018 0004 411E     		subs	r1, r0, #1
 1019              		.loc 1 208 39 view .LVU215
 1020 0006 0D4B     		ldr	r3, .L84
 1021 0008 5818     		adds	r0, r3, r1
 1022              	.LVL104:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 25


 1023              		.loc 1 208 39 view .LVU216
 1024 000a 4FF0020C 		mov	ip, #2
 1025 000e 80F824C3 		strb	ip, [r0, #804]
 209:App/Src/manager.c ****         g_oneData.temp[rtcNumber - 1] = testTemp;
 1026              		.loc 1 209 9 is_stmt 1 view .LVU217
 1027              		.loc 1 209 39 is_stmt 0 view .LVU218
 1028 0012 03EB8101 		add	r1, r3, r1, lsl #2
 1029 0016 81ED010A 		vstr.32	s0, [r1, #4]
 210:App/Src/manager.c ****         g_oneData.cap[rtcNumber - 1] = testCap;
 1030              		.loc 1 210 9 is_stmt 1 view .LVU219
 1031              		.loc 1 210 38 is_stmt 0 view .LVU220
 1032 001a 6332     		adds	r2, r2, #99
 1033 001c 03EB8203 		add	r3, r3, r2, lsl #2
 1034 0020 C3ED010A 		vstr.32	s1, [r3, #4]
 211:App/Src/manager.c ****     }
 212:App/Src/manager.c **** }
 1035              		.loc 1 212 1 view .LVU221
 1036 0024 7047     		bx	lr
 1037              	.LVL105:
 1038              	.L80:
 205:App/Src/manager.c ****         }
 1039              		.loc 1 205 12 is_stmt 1 discriminator 3 view .LVU222
 205:App/Src/manager.c ****         }
 1040              		.loc 1 205 30 is_stmt 0 discriminator 3 view .LVU223
 1041 0026 054A     		ldr	r2, .L84
 1042 0028 1A44     		add	r2, r2, r3
 1043 002a 0021     		movs	r1, #0
 1044 002c 82F82413 		strb	r1, [r2, #804]
 204:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 1045              		.loc 1 204 42 is_stmt 1 discriminator 3 view .LVU224
 204:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 1046              		.loc 1 204 43 is_stmt 0 discriminator 3 view .LVU225
 1047 0030 0133     		adds	r3, r3, #1
 1048              	.LVL106:
 1049              	.L78:
 204:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 1050              		.loc 1 204 21 is_stmt 1 discriminator 1 view .LVU226
 204:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 1051              		.loc 1 204 9 is_stmt 0 discriminator 1 view .LVU227
 1052 0032 632B     		cmp	r3, #99
 1053 0034 F7DD     		ble	.L80
 1054 0036 7047     		bx	lr
 1055              	.LVL107:
 1056              	.L82:
 204:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 1057              		.loc 1 204 16 view .LVU228
 1058 0038 0023     		movs	r3, #0
 1059 003a FAE7     		b	.L78
 1060              	.L85:
 1061              		.align	2
 1062              	.L84:
 1063 003c 00000000 		.word	.LANCHOR3
 1064              		.cfi_endproc
 1065              	.LFE242:
 1067              		.section	.text.system_check_test_dot,"ax",%progbits
 1068              		.align	1
 1069              		.global	system_check_test_dot
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 26


 1070              		.syntax unified
 1071              		.thumb
 1072              		.thumb_func
 1074              	system_check_test_dot:
 1075              	.LVL108:
 1076              	.LFB243:
 213:App/Src/manager.c **** 
 214:App/Src/manager.c **** uint8_t system_check_test_dot(uint8_t rtcNumber, uint8_t testNumber)
 215:App/Src/manager.c **** {
 1077              		.loc 1 215 1 is_stmt 1 view -0
 1078              		.cfi_startproc
 1079              		@ args = 0, pretend = 0, frame = 8
 1080              		@ frame_needed = 0, uses_anonymous_args = 0
 1081              		.loc 1 215 1 is_stmt 0 view .LVU230
 1082 0000 00B5     		push	{lr}
 1083              	.LCFI9:
 1084              		.cfi_def_cfa_offset 4
 1085              		.cfi_offset 14, -4
 1086 0002 83B0     		sub	sp, sp, #12
 1087              	.LCFI10:
 1088              		.cfi_def_cfa_offset 16
 1089 0004 0B46     		mov	r3, r1
 216:App/Src/manager.c ****     uint32_t address;
 1090              		.loc 1 216 5 is_stmt 1 view .LVU231
 217:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 1091              		.loc 1 217 5 view .LVU232
 1092              		.loc 1 217 13 is_stmt 0 view .LVU233
 1093 0006 0022     		movs	r2, #0
 1094 0008 0192     		str	r2, [sp, #4]
 218:App/Src/manager.c ****     
 219:App/Src/manager.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + tes
 1095              		.loc 1 219 5 is_stmt 1 view .LVU234
 1096              		.loc 1 219 38 is_stmt 0 view .LVU235
 1097 000a 0730     		adds	r0, r0, #7
 1098              	.LVL109:
 1099              		.loc 1 219 38 view .LVU236
 1100 000c 4002     		lsls	r0, r0, #9
 1101              		.loc 1 219 79 view .LVU237
 1102 000e 0830     		adds	r0, r0, #8
 1103              	.LVL110:
 220:App/Src/manager.c ****     flash_read_data(address, buffer, 4);
 1104              		.loc 1 220 5 is_stmt 1 view .LVU238
 1105 0010 0422     		movs	r2, #4
 1106 0012 0DEB0201 		add	r1, sp, r2
 1107              	.LVL111:
 1108              		.loc 1 220 5 is_stmt 0 view .LVU239
 1109 0016 00EB8300 		add	r0, r0, r3, lsl #2
 1110              	.LVL112:
 1111              		.loc 1 220 5 view .LVU240
 1112 001a FFF7FEFF 		bl	flash_read_data
 1113              	.LVL113:
 221:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 1114              		.loc 1 221 5 is_stmt 1 view .LVU241
 1115              		.loc 1 221 15 is_stmt 0 view .LVU242
 1116 001e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 1117              		.loc 1 221 8 view .LVU243
 1118 0022 FF2B     		cmp	r3, #255
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 27


 1119 0024 0DD1     		bne	.L88
 1120              		.loc 1 221 36 discriminator 2 view .LVU244
 1121 0026 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 1122              		.loc 1 221 27 discriminator 2 view .LVU245
 1123 002a FF2B     		cmp	r3, #255
 1124 002c 0DD1     		bne	.L89
 1125              		.loc 1 221 57 discriminator 4 view .LVU246
 1126 002e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 1127              		.loc 1 221 48 discriminator 4 view .LVU247
 1128 0032 FF2B     		cmp	r3, #255
 1129 0034 0BD1     		bne	.L90
 1130              		.loc 1 221 78 discriminator 6 view .LVU248
 1131 0036 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1132              		.loc 1 221 69 discriminator 6 view .LVU249
 1133 003a FF2B     		cmp	r3, #255
 1134 003c 09D1     		bne	.L91
 222:App/Src/manager.c ****     return 0;
 1135              		.loc 1 222 12 view .LVU250
 1136 003e 0020     		movs	r0, #0
 1137 0040 00E0     		b	.L87
 1138              	.L88:
 221:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 1139              		.loc 1 221 100 view .LVU251
 1140 0042 0120     		movs	r0, #1
 1141              	.L87:
 223:App/Src/manager.c **** }
 1142              		.loc 1 223 1 view .LVU252
 1143 0044 03B0     		add	sp, sp, #12
 1144              	.LCFI11:
 1145              		.cfi_remember_state
 1146              		.cfi_def_cfa_offset 4
 1147              		@ sp needed
 1148 0046 5DF804FB 		ldr	pc, [sp], #4
 1149              	.L89:
 1150              	.LCFI12:
 1151              		.cfi_restore_state
 221:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 1152              		.loc 1 221 100 view .LVU253
 1153 004a 0120     		movs	r0, #1
 1154 004c FAE7     		b	.L87
 1155              	.L90:
 1156 004e 0120     		movs	r0, #1
 1157 0050 F8E7     		b	.L87
 1158              	.L91:
 1159 0052 0120     		movs	r0, #1
 1160 0054 F6E7     		b	.L87
 1161              		.cfi_endproc
 1162              	.LFE243:
 1164              		.section	.text.system_cap_write_flash,"ax",%progbits
 1165              		.align	1
 1166              		.global	system_cap_write_flash
 1167              		.syntax unified
 1168              		.thumb
 1169              		.thumb_func
 1171              	system_cap_write_flash:
 1172              	.LFB244:
 224:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 28


 225:App/Src/manager.c **** void system_cap_write_flash(void)
 226:App/Src/manager.c **** {
 1173              		.loc 1 226 1 is_stmt 1 view -0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 8
 1176              		@ frame_needed = 0, uses_anonymous_args = 0
 1177 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1178              	.LCFI13:
 1179              		.cfi_def_cfa_offset 20
 1180              		.cfi_offset 4, -20
 1181              		.cfi_offset 5, -16
 1182              		.cfi_offset 6, -12
 1183              		.cfi_offset 7, -8
 1184              		.cfi_offset 14, -4
 1185 0002 83B0     		sub	sp, sp, #12
 1186              	.LCFI14:
 1187              		.cfi_def_cfa_offset 32
 227:App/Src/manager.c ****     uint32_t address;
 1188              		.loc 1 227 5 view .LVU255
 228:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 1189              		.loc 1 228 5 view .LVU256
 1190              		.loc 1 228 13 is_stmt 0 view .LVU257
 1191 0004 0024     		movs	r4, #0
 1192 0006 0194     		str	r4, [sp, #4]
 229:App/Src/manager.c ****     int i;
 1193              		.loc 1 229 5 is_stmt 1 view .LVU258
 230:App/Src/manager.c **** 
 231:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1194              		.loc 1 231 5 view .LVU259
 1195              	.LVL114:
 1196              		.loc 1 231 5 is_stmt 0 view .LVU260
 1197 0008 00E0     		b	.L94
 1198              	.LVL115:
 1199              	.L95:
 1200              		.loc 1 231 38 is_stmt 1 discriminator 2 view .LVU261
 1201              		.loc 1 231 39 is_stmt 0 discriminator 2 view .LVU262
 1202 000a 0134     		adds	r4, r4, #1
 1203              	.LVL116:
 1204              	.L94:
 1205              		.loc 1 231 17 is_stmt 1 discriminator 1 view .LVU263
 1206              		.loc 1 231 5 is_stmt 0 discriminator 1 view .LVU264
 1207 000c 632C     		cmp	r4, #99
 1208 000e 3BDC     		bgt	.L98
 232:App/Src/manager.c ****         if (g_oneData.flag[i] != CAP_ADJUST_SUCCESS) { continue; }//测试不成功，不会写入flash
 1209              		.loc 1 232 9 is_stmt 1 view .LVU265
 1210              		.loc 1 232 27 is_stmt 0 view .LVU266
 1211 0010 1E4B     		ldr	r3, .L99
 1212 0012 2344     		add	r3, r3, r4
 1213 0014 93F82433 		ldrb	r3, [r3, #804]	@ zero_extendqisi2
 1214              		.loc 1 232 12 view .LVU267
 1215 0018 022B     		cmp	r3, #2
 1216 001a F6D1     		bne	.L95
 233:App/Src/manager.c ****         if (system_check_test_dot(i + 1, g_oneData.number) > 0) { continue; }//防止重复测试不会更新
 1217              		.loc 1 233 9 is_stmt 1 view .LVU268
 1218              		.loc 1 233 13 is_stmt 0 view .LVU269
 1219 001c 601C     		adds	r0, r4, #1
 1220 001e 1B4B     		ldr	r3, .L99
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 29


 1221 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1222 0022 C0B2     		uxtb	r0, r0
 1223 0024 FFF7FEFF 		bl	system_check_test_dot
 1224              	.LVL117:
 1225              		.loc 1 233 12 view .LVU270
 1226 0028 0028     		cmp	r0, #0
 1227 002a EED1     		bne	.L95
 234:App/Src/manager.c ****         // HAL_Delay(1);
 235:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + g_oneData.num
 1228              		.loc 1 235 9 is_stmt 1 view .LVU271
 1229              		.loc 1 235 42 is_stmt 0 view .LVU272
 1230 002c 04F10805 		add	r5, r4, #8
 1231 0030 6D02     		lsls	r5, r5, #9
 1232              		.loc 1 235 69 view .LVU273
 1233 0032 05F10807 		add	r7, r5, #8
 1234              		.loc 1 235 96 view .LVU274
 1235 0036 154E     		ldr	r6, .L99
 1236 0038 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1237              		.loc 1 235 85 view .LVU275
 1238 003a 07EB8307 		add	r7, r7, r3, lsl #2
 1239              	.LVL118:
 236:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.temp[i]);
 1240              		.loc 1 236 9 is_stmt 1 view .LVU276
 1241 003e 06EB8401 		add	r1, r6, r4, lsl #2
 1242 0042 0431     		adds	r1, r1, #4
 1243 0044 01A8     		add	r0, sp, #4
 1244 0046 FFF7FEFF 		bl	float_to_uint8
 1245              	.LVL119:
 237:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1246              		.loc 1 237 9 view .LVU277
 1247 004a 0422     		movs	r2, #4
 1248 004c 0DEB0201 		add	r1, sp, r2
 1249 0050 3846     		mov	r0, r7
 1250 0052 FFF7FEFF 		bl	flash_write_data
 1251              	.LVL120:
 238:App/Src/manager.c ****         HAL_Delay(5);
 1252              		.loc 1 238 9 view .LVU278
 1253 0056 0520     		movs	r0, #5
 1254 0058 FFF7FEFF 		bl	HAL_Delay
 1255              	.LVL121:
 239:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_CAP + g_oneData.numb
 1256              		.loc 1 239 9 view .LVU279
 1257              		.loc 1 239 69 is_stmt 0 view .LVU280
 1258 005c 1C35     		adds	r5, r5, #28
 1259              		.loc 1 239 95 view .LVU281
 1260 005e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1261              		.loc 1 239 84 view .LVU282
 1262 0060 05EB8305 		add	r5, r5, r3, lsl #2
 1263              	.LVL122:
 240:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.cap[i]);
 1264              		.loc 1 240 9 is_stmt 1 view .LVU283
 1265 0064 04F16401 		add	r1, r4, #100
 1266 0068 06EB8101 		add	r1, r6, r1, lsl #2
 1267 006c 0431     		adds	r1, r1, #4
 1268 006e 01A8     		add	r0, sp, #4
 1269 0070 FFF7FEFF 		bl	float_to_uint8
 1270              	.LVL123:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 30


 241:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1271              		.loc 1 241 9 view .LVU284
 1272 0074 0422     		movs	r2, #4
 1273 0076 0DEB0201 		add	r1, sp, r2
 1274 007a 2846     		mov	r0, r5
 1275 007c FFF7FEFF 		bl	flash_write_data
 1276              	.LVL124:
 242:App/Src/manager.c ****         HAL_Delay(5);
 1277              		.loc 1 242 9 view .LVU285
 1278 0080 0520     		movs	r0, #5
 1279 0082 FFF7FEFF 		bl	HAL_Delay
 1280              	.LVL125:
 1281 0086 C0E7     		b	.L95
 1282              	.LVL126:
 1283              	.L98:
 243:App/Src/manager.c ****     }
 244:App/Src/manager.c **** }
 1284              		.loc 1 244 1 is_stmt 0 view .LVU286
 1285 0088 03B0     		add	sp, sp, #12
 1286              	.LCFI15:
 1287              		.cfi_def_cfa_offset 20
 1288              		@ sp needed
 1289 008a F0BD     		pop	{r4, r5, r6, r7, pc}
 1290              	.LVL127:
 1291              	.L100:
 1292              		.loc 1 244 1 view .LVU287
 1293              		.align	2
 1294              	.L99:
 1295 008c 00000000 		.word	.LANCHOR3
 1296              		.cfi_endproc
 1297              	.LFE244:
 1299              		.section	.rodata.system_tool_calculate_sec.str1.4,"aMS",%progbits,1
 1300              		.align	2
 1301              	.LC19:
 1302 0000 1F1C1F1E 		.ascii	"\037\034\037\036\037\036\037\037\036\037\036\037\000"
 1302      1F1E1F1F 
 1302      1E1F1E1F 
 1302      00
 1303              		.section	.text.system_tool_calculate_sec,"ax",%progbits
 1304              		.align	1
 1305              		.global	system_tool_calculate_sec
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1310              	system_tool_calculate_sec:
 1311              	.LFB245:
 245:App/Src/manager.c **** //计算基于2000年以后的时间秒
 246:App/Src/manager.c **** int system_tool_calculate_sec(RealTime time)
 247:App/Src/manager.c **** {
 1312              		.loc 1 247 1 is_stmt 1 view -0
 1313              		.cfi_startproc
 1314              		@ args = 0, pretend = 0, frame = 24
 1315              		@ frame_needed = 0, uses_anonymous_args = 0
 1316              		@ link register save eliminated.
 1317 0000 86B0     		sub	sp, sp, #24
 1318              	.LCFI16:
 1319              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 31


 1320 0002 6B46     		mov	r3, sp
 1321 0004 83E80300 		stm	r3, {r0, r1}
 248:App/Src/manager.c ****     int number;
 1322              		.loc 1 248 5 view .LVU289
 249:App/Src/manager.c ****     uint8_t dayInMon[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 1323              		.loc 1 249 5 view .LVU290
 1324              		.loc 1 249 13 is_stmt 0 view .LVU291
 1325 0008 244B     		ldr	r3, .L111
 1326 000a 93E80700 		ldm	r3, {r0, r1, r2}
 1327 000e 06AB     		add	r3, sp, #24
 1328 0010 03E90700 		stmdb	r3, {r0, r1, r2}
 250:App/Src/manager.c ****     uint8_t i;
 1329              		.loc 1 250 5 is_stmt 1 view .LVU292
 251:App/Src/manager.c ****     int day = 0; 
 1330              		.loc 1 251 5 view .LVU293
 1331              	.LVL128:
 252:App/Src/manager.c ****     if (time.year >= 100 || time.year == 0) {
 1332              		.loc 1 252 5 view .LVU294
 1333              		.loc 1 252 13 is_stmt 0 view .LVU295
 1334 0014 9DF800C0 		ldrb	ip, [sp]	@ zero_extendqisi2
 1335              		.loc 1 252 26 view .LVU296
 1336 0018 0CF1FF33 		add	r3, ip, #-1
 1337 001c DBB2     		uxtb	r3, r3
 1338              		.loc 1 252 8 view .LVU297
 1339 001e 622B     		cmp	r3, #98
 1340 0020 1BD8     		bhi	.L108
 253:App/Src/manager.c ****         day = 0;
 254:App/Src/manager.c ****     } else {
 255:App/Src/manager.c ****         day = 365 * time.year + ((time.year - 1) / 4);//补足闰年的天数
 1341              		.loc 1 255 9 is_stmt 1 view .LVU298
 1342              		.loc 1 255 19 is_stmt 0 view .LVU299
 1343 0022 40F26D10 		movw	r0, #365
 1344 0026 00FB0CF0 		mul	r0, r0, ip
 1345              		.loc 1 255 50 view .LVU300
 1346 002a BCF10103 		subs	r3, ip, #1
 1347 002e 12D4     		bmi	.L110
 1348              	.L103:
 1349              		.loc 1 255 13 view .LVU301
 1350 0030 00EBA300 		add	r0, r0, r3, asr #2
 1351              	.LVL129:
 1352              	.L102:
 253:App/Src/manager.c ****         day = 0;
 1353              		.loc 1 253 13 discriminator 1 view .LVU302
 1354 0034 0023     		movs	r3, #0
 1355              	.L104:
 1356              	.LVL130:
 256:App/Src/manager.c ****     }
 257:App/Src/manager.c ****     for (i = 0; i < 12; i++) {
 1357              		.loc 1 257 17 is_stmt 1 discriminator 1 view .LVU303
 1358              		.loc 1 257 5 is_stmt 0 discriminator 1 view .LVU304
 1359 0036 0B2B     		cmp	r3, #11
 1360 0038 11D8     		bhi	.L105
 258:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1361              		.loc 1 258 9 is_stmt 1 view .LVU305
 1362              		.loc 1 258 16 is_stmt 0 view .LVU306
 1363 003a 5A1C     		adds	r2, r3, #1
 1364              		.loc 1 258 28 view .LVU307
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 32


 1365 003c 9DF80110 		ldrb	r1, [sp, #1]	@ zero_extendqisi2
 1366              		.loc 1 258 12 view .LVU308
 1367 0040 8A42     		cmp	r2, r1
 1368 0042 0CD0     		beq	.L105
 259:App/Src/manager.c ****         day += dayInMon[i];
 1369              		.loc 1 259 9 is_stmt 1 discriminator 2 view .LVU309
 1370              		.loc 1 259 24 is_stmt 0 discriminator 2 view .LVU310
 1371 0044 03F11802 		add	r2, r3, #24
 1372 0048 6A44     		add	r2, sp, r2
 1373 004a 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
 1374              		.loc 1 259 13 discriminator 2 view .LVU311
 1375 004e 1044     		add	r0, r0, r2
 1376              	.LVL131:
 257:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1377              		.loc 1 257 25 is_stmt 1 discriminator 2 view .LVU312
 257:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1378              		.loc 1 257 26 is_stmt 0 discriminator 2 view .LVU313
 1379 0050 0133     		adds	r3, r3, #1
 1380              	.LVL132:
 257:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1381              		.loc 1 257 26 discriminator 2 view .LVU314
 1382 0052 DBB2     		uxtb	r3, r3
 1383              	.LVL133:
 257:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1384              		.loc 1 257 26 discriminator 2 view .LVU315
 1385 0054 EFE7     		b	.L104
 1386              	.LVL134:
 1387              	.L110:
 255:App/Src/manager.c ****     }
 1388              		.loc 1 255 50 view .LVU316
 1389 0056 0333     		adds	r3, r3, #3
 1390 0058 EAE7     		b	.L103
 1391              	.L108:
 253:App/Src/manager.c ****     } else {
 1392              		.loc 1 253 13 view .LVU317
 1393 005a 0020     		movs	r0, #0
 1394 005c EAE7     		b	.L102
 1395              	.LVL135:
 1396              	.L105:
 260:App/Src/manager.c ****     }
 261:App/Src/manager.c ****     day += time.day; 
 1397              		.loc 1 261 5 is_stmt 1 view .LVU318
 1398              		.loc 1 261 16 is_stmt 0 view .LVU319
 1399 005e 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 1400              	.LVL136:
 1401              		.loc 1 261 9 view .LVU320
 1402 0062 1844     		add	r0, r0, r3
 1403              	.LVL137:
 262:App/Src/manager.c ****     if ((time.year % 4) == 0 && time.mon >= 3) {
 1404              		.loc 1 262 5 is_stmt 1 view .LVU321
 1405              		.loc 1 262 8 is_stmt 0 view .LVU322
 1406 0064 1CF0030F 		tst	ip, #3
 1407 0068 04D1     		bne	.L107
 1408              		.loc 1 262 37 discriminator 1 view .LVU323
 1409 006a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1410              		.loc 1 262 30 discriminator 1 view .LVU324
 1411 006e 022B     		cmp	r3, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 33


 1412 0070 00D9     		bls	.L107
 263:App/Src/manager.c ****         day += 1;       //闰月＋1
 1413              		.loc 1 263 9 is_stmt 1 view .LVU325
 1414              		.loc 1 263 13 is_stmt 0 view .LVU326
 1415 0072 0130     		adds	r0, r0, #1
 1416              	.LVL138:
 1417              	.L107:
 264:App/Src/manager.c ****     }
 265:App/Src/manager.c ****     number = time.sec + (uint32_t)time.min * 60 + (uint32_t)time.hour * 3600 + day * 24 * 3600;
 1418              		.loc 1 265 5 is_stmt 1 view .LVU327
 1419              		.loc 1 265 18 is_stmt 0 view .LVU328
 1420 0074 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 1421              		.loc 1 265 65 view .LVU329
 1422 0078 9DF803C0 		ldrb	ip, [sp, #3]	@ zero_extendqisi2
 1423              		.loc 1 265 39 view .LVU330
 1424 007c 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 1425              		.loc 1 265 44 view .LVU331
 1426 0080 C2EB0212 		rsb	r2, r2, r2, lsl #4
 1427 0084 9300     		lsls	r3, r2, #2
 1428              		.loc 1 265 49 view .LVU332
 1429 0086 4FF46162 		mov	r2, #3600
 1430 008a 02FB0C33 		mla	r3, r2, ip, r3
 1431 008e 0B44     		add	r3, r3, r1
 1432              	.LVL139:
 266:App/Src/manager.c ****     return number;
 1433              		.loc 1 266 5 is_stmt 1 view .LVU333
 267:App/Src/manager.c **** }
 1434              		.loc 1 267 1 is_stmt 0 view .LVU334
 1435 0090 034A     		ldr	r2, .L111+4
 1436 0092 02FB0030 		mla	r0, r2, r0, r3
 1437              	.LVL140:
 1438              		.loc 1 267 1 view .LVU335
 1439 0096 06B0     		add	sp, sp, #24
 1440              	.LCFI17:
 1441              		.cfi_def_cfa_offset 0
 1442              		@ sp needed
 1443 0098 7047     		bx	lr
 1444              	.L112:
 1445 009a 00BF     		.align	2
 1446              	.L111:
 1447 009c 00000000 		.word	.LC19
 1448 00a0 80510100 		.word	86400
 1449              		.cfi_endproc
 1450              	.LFE245:
 1452              		.section	.rodata.system_manage_test_mode.str1.4,"aMS",%progbits,1
 1453              		.align	2
 1454              	.LC20:
 1455 0000 67726F75 		.ascii	"group i2c test:\000"
 1455      70206932 
 1455      63207465 
 1455      73743A00 
 1456              		.align	2
 1457              	.LC21:
 1458 0010 0A00     		.ascii	"\012\000"
 1459 0012 0000     		.align	2
 1460              	.LC22:
 1461 0014 310900   		.ascii	"1\011\000"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 34


 1462 0017 00       		.align	2
 1463              	.LC23:
 1464 0018 300900   		.ascii	"0\011\000"
 1465 001b 00       		.align	2
 1466              	.LC24:
 1467 001c 0A6F6B20 		.ascii	"\012ok sum:%d\012\000"
 1467      73756D3A 
 1467      25640A00 
 1468              		.align	2
 1469              	.LC25:
 1470 0028 73756363 		.ascii	"success count:%d\012\000"
 1470      65737320 
 1470      636F756E 
 1470      743A2564 
 1470      0A00
 1471 003a 0000     		.align	2
 1472              	.LC26:
 1473 003c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\262\342\312\324\315"
 1473      6D626572 
 1473      3A256420 
 1473      63686970 
 1473      4E616D65 
 1474 0061 EAB3C90A 		.ascii	"\352\263\311\012\000"
 1474      00
 1475 0066 0000     		.align	2
 1476              	.LC27:
 1477 0068 73797374 		.ascii	"system temp:%.2f, test dot:%d\012\000"
 1477      656D2074 
 1477      656D703A 
 1477      252E3266 
 1477      2C207465 
 1478 0087 00       		.align	2
 1479              	.LC28:
 1480 0088 73797374 		.ascii	"system temp can't test!\012\000"
 1480      656D2074 
 1480      656D7020 
 1480      63616E27 
 1480      74207465 
 1481 00a1 000000   		.align	2
 1482              	.LC29:
 1483 00a4 73797374 		.ascii	"system temp %.2f can't test!\012\000"
 1483      656D2074 
 1483      656D7020 
 1483      252E3266 
 1483      2063616E 
 1484 00c2 0000     		.align	2
 1485              	.LC30:
 1486 00c4 73746172 		.ascii	"start test chip %d\012\000"
 1486      74207465 
 1486      73742063 
 1486      68697020 
 1486      25640A00 
 1487              		.align	2
 1488              	.LC31:
 1489 00d8 6F6B4E75 		.ascii	"okNumber:%d message:\265\245\265\343\262\342\312\324"
 1489      6D626572 
 1489      3A256420 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 35


 1489      6D657373 
 1489      6167653A 
 1490 00f4 CDEAB3C9 		.ascii	"\315\352\263\311\012\000"
 1490      0A00
 1491 00fa 0000     		.align	2
 1492              	.LC32:
 1493 00fc 63617020 		.ascii	"cap adjust test end.\012\000"
 1493      61646A75 
 1493      73742074 
 1493      65737420 
 1493      656E642E 
 1494 0112 0000     		.align	2
 1495              	.LC33:
 1496 0114 63686970 		.ascii	"chipTemp:%d chipName:%d message:OK\012\000"
 1496      54656D70 
 1496      3A256420 
 1496      63686970 
 1496      4E616D65 
 1497              		.align	2
 1498              	.LC34:
 1499 0138 636F756E 		.ascii	"count:%d, temp:%.1f, cap:%.2f\012\000"
 1499      743A2564 
 1499      2C207465 
 1499      6D703A25 
 1499      2E31662C 
 1500 0157 00       		.align	2
 1501              	.LC35:
 1502 0158 63686970 		.ascii	"chipName:%d message:fail!\012\000"
 1502      4E616D65 
 1502      3A256420 
 1502      6D657373 
 1502      6167653A 
 1503 0173 00       		.align	2
 1504              	.LC36:
 1505 0174 73797374 		.ascii	"system temp test cover!\012\000"
 1505      656D2074 
 1505      656D7020 
 1505      74657374 
 1505      20636F76 
 1506 018d 000000   		.align	2
 1507              	.LC37:
 1508 0190 63616C63 		.ascii	"calculate success number %d\012\000"
 1508      756C6174 
 1508      65207375 
 1508      63636573 
 1508      73206E75 
 1509 01ad 000000   		.align	2
 1510              	.LC38:
 1511 01b0 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\274\306\313\343\315"
 1511      6D626572 
 1511      3A256420 
 1511      63686970 
 1511      4E616D65 
 1512 01d5 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1512      A10A00
 1513              		.align	2
 1514              	.LC39:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 36


 1515 01dc 646F776E 		.ascii	"download success number %d\012\000"
 1515      6C6F6164 
 1515      20737563 
 1515      63657373 
 1515      206E756D 
 1516              		.align	2
 1517              	.LC40:
 1518 01f8 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\311\325\302\274\315"
 1518      6D626572 
 1518      3A256420 
 1518      63686970 
 1518      4E616D65 
 1519 021d EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1519      A10A00
 1520              		.align	2
 1521              	.LC41:
 1522 0224 25642073 		.ascii	"%d sync success\012\000"
 1522      796E6320 
 1522      73756363 
 1522      6573730A 
 1522      00
 1523 0235 000000   		.align	2
 1524              	.LC42:
 1525 0238 25642073 		.ascii	"%d sync i2c error\012\000"
 1525      796E6320 
 1525      69326320 
 1525      6572726F 
 1525      720A00
 1526 024b 00       		.align	2
 1527              	.LC43:
 1528 024c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\315\254\262\275\312"
 1528      6D626572 
 1528      3A256420 
 1528      63686970 
 1528      4E616D65 
 1529 0271 B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1529      EAB3C90A 
 1529      00
 1530 027a 0000     		.align	2
 1531              	.LC44:
 1532 027c 73796E63 		.ascii	"sync end\012\000"
 1532      20656E64 
 1532      0A00
 1533 0286 0000     		.align	2
 1534              	.LC45:
 1535 0288 63686970 		.ascii	"chip%d time:%d, all number:%d\012\000"
 1535      25642074 
 1535      696D653A 
 1535      25642C20 
 1535      616C6C20 
 1536 02a7 00       		.align	2
 1537              	.LC46:
 1538 02a8 25642069 		.ascii	"%d i2c error\012\000"
 1538      32632065 
 1538      72726F72 
 1538      0A00
 1539 02b6 0000     		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 37


 1540              	.LC47:
 1541 02b8 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\320\243\321\351\312"
 1541      6D626572 
 1541      3A256420 
 1541      63686970 
 1541      4E616D65 
 1542 02dd B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1542      EAB3C90A 
 1542      00
 1543 02e6 0000     		.align	2
 1544              	.LC48:
 1545 02e8 63686563 		.ascii	"check end\012\000"
 1545      6B20656E 
 1545      640A00
 1546 02f3 00       		.align	2
 1547              	.LC49:
 1548 02f4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:OK\012\000"
 1548      6D626572 
 1548      3A256420 
 1548      63686970 
 1548      4E616D65 
 1549              		.align	2
 1550              	.LC50:
 1551 0318 63686970 		.ascii	"chipName:%d message:fail\012\000"
 1551      4E616D65 
 1551      3A256420 
 1551      6D657373 
 1551      6167653A 
 1552 0332 0000     		.align	2
 1553              	.LC51:
 1554 0334 6D657373 		.ascii	"message:\262\342\312\324\315\352\263\311\012\000"
 1554      6167653A 
 1554      B2E2CAD4 
 1554      CDEAB3C9 
 1554      0A00
 1555 0346 0000     		.align	2
 1556              	.LC52:
 1557 0348 6D616368 		.ascii	"machine test clear!\012\000"
 1557      696E6520 
 1557      74657374 
 1557      20636C65 
 1557      6172210A 
 1558 035d 000000   		.align	2
 1559              	.LC53:
 1560 0360 6D657373 		.ascii	"message:\262\301\263\375\262\342\312\324\274\307\302"
 1560      6167653A 
 1560      B2C1B3FD 
 1560      B2E2CAD4 
 1560      BCC7C2
 1561 0373 BC0A00   		.ascii	"\274\012\000"
 1562              		.section	.text.system_manage_test_mode,"ax",%progbits
 1563              		.align	1
 1564              		.global	system_manage_test_mode
 1565              		.syntax unified
 1566              		.thumb
 1567              		.thumb_func
 1569              	system_manage_test_mode:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 38


 1570              	.LFB246:
 268:App/Src/manager.c **** 
 269:App/Src/manager.c **** void system_manage_test_mode(void)
 270:App/Src/manager.c **** {
 1571              		.loc 1 270 1 is_stmt 1 view -0
 1572              		.cfi_startproc
 1573              		@ args = 0, pretend = 0, frame = 16
 1574              		@ frame_needed = 0, uses_anonymous_args = 0
 1575 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1576              	.LCFI18:
 1577              		.cfi_def_cfa_offset 24
 1578              		.cfi_offset 4, -24
 1579              		.cfi_offset 5, -20
 1580              		.cfi_offset 6, -16
 1581              		.cfi_offset 7, -12
 1582              		.cfi_offset 8, -8
 1583              		.cfi_offset 14, -4
 1584 0004 86B0     		sub	sp, sp, #24
 1585              	.LCFI19:
 1586              		.cfi_def_cfa_offset 48
 271:App/Src/manager.c ****     int result;
 1587              		.loc 1 271 5 view .LVU337
 272:App/Src/manager.c ****     static uint8_t state = 0;
 1588              		.loc 1 272 5 view .LVU338
 273:App/Src/manager.c ****     static uint8_t count = 0;
 1589              		.loc 1 273 5 view .LVU339
 274:App/Src/manager.c ****     uint8_t number;
 1590              		.loc 1 274 5 view .LVU340
 275:App/Src/manager.c ****     int i;
 1591              		.loc 1 275 5 view .LVU341
 276:App/Src/manager.c ****     RealTime sysTime = {0};
 1592              		.loc 1 276 5 view .LVU342
 1593              		.loc 1 276 14 is_stmt 0 view .LVU343
 1594 0006 0023     		movs	r3, #0
 1595 0008 0493     		str	r3, [sp, #16]
 1596 000a 0593     		str	r3, [sp, #20]
 277:App/Src/manager.c ****     RealTime rtcTime = {0};
 1597              		.loc 1 277 5 is_stmt 1 view .LVU344
 1598              		.loc 1 277 14 is_stmt 0 view .LVU345
 1599 000c 0293     		str	r3, [sp, #8]
 1600 000e 0393     		str	r3, [sp, #12]
 278:App/Src/manager.c ****     switch (g_testMode) {
 1601              		.loc 1 278 5 is_stmt 1 view .LVU346
 1602 0010 AC4B     		ldr	r3, .L187
 1603 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1604 0014 0B2B     		cmp	r3, #11
 1605 0016 12D8     		bhi	.L113
 1606 0018 DFE813F0 		tbh	[pc, r3, lsl #1]
 1607              	.L116:
 1608 001c 0C00     		.2byte	(.L127-.L116)/2
 1609 001e 1400     		.2byte	(.L126-.L116)/2
 1610 0020 5600     		.2byte	(.L125-.L116)/2
 1611 0022 6800     		.2byte	(.L124-.L116)/2
 1612 0024 8401     		.2byte	(.L123-.L116)/2
 1613 0026 C401     		.2byte	(.L122-.L116)/2
 1614 0028 EF01     		.2byte	(.L121-.L116)/2
 1615 002a 0402     		.2byte	(.L120-.L116)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 39


 1616 002c 4202     		.2byte	(.L119-.L116)/2
 1617 002e 9702     		.2byte	(.L118-.L116)/2
 1618 0030 2903     		.2byte	(.L174-.L116)/2
 1619 0032 2B03     		.2byte	(.L115-.L116)/2
 1620              		.p2align 1
 1621              	.L127:
 279:App/Src/manager.c ****         case FREE_MODE:// free mode
 280:App/Src/manager.c ****             state = 0;
 1622              		.loc 1 280 13 view .LVU347
 1623              		.loc 1 280 19 is_stmt 0 view .LVU348
 1624 0034 0023     		movs	r3, #0
 1625 0036 A44A     		ldr	r2, .L187+4
 1626 0038 1370     		strb	r3, [r2]
 281:App/Src/manager.c ****             count = 0;
 1627              		.loc 1 281 13 is_stmt 1 view .LVU349
 1628              		.loc 1 281 19 is_stmt 0 view .LVU350
 1629 003a A44A     		ldr	r2, .L187+8
 1630 003c 1370     		strb	r3, [r2]
 282:App/Src/manager.c ****         break;
 1631              		.loc 1 282 9 is_stmt 1 view .LVU351
 1632              	.L113:
 283:App/Src/manager.c ****         case  FREQ_CONNECT:
 284:App/Src/manager.c ****             count = 0;
 285:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 286:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 287:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 288:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_CAP_TEST);
 289:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 290:App/Src/manager.c ****                 HAL_Delay(200);
 291:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 292:App/Src/manager.c ****                     UsbPrintf("1\t");
 293:App/Src/manager.c ****                     count++;
 294:App/Src/manager.c ****                 } else {
 295:App/Src/manager.c ****                     UsbPrintf("0\t");
 296:App/Src/manager.c ****                 }
 297:App/Src/manager.c ****             }
 298:App/Src/manager.c ****             UsbPrintf("\nok sum:%d\n", count);
 299:App/Src/manager.c ****             g_testMode = FREE_MODE;
 300:App/Src/manager.c ****         break;
 301:App/Src/manager.c ****         case TEMP_TEST:
 302:App/Src/manager.c ****             result = system_manage_temp();
 303:App/Src/manager.c ****             g_testMode = FREE_MODE;
 304:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 305:App/Src/manager.c ****             if (result > 0) {
 306:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 307:App/Src/manager.c ****             }
 308:App/Src/manager.c ****         break;
 309:App/Src/manager.c ****         case CAP_ADJUST://调整电容以使得该温度点的误差最小
 310:App/Src/manager.c ****             switch (state) {
 311:App/Src/manager.c ****                 case 0:
 312:App/Src/manager.c ****                     count = 0;
 313:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 314:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 315:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 316:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 317:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 318:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 40


 319:App/Src/manager.c ****                     } else {
 320:App/Src/manager.c ****                         state = 1;
 321:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 322:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 323:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 324:App/Src/manager.c ****                     }
 325:App/Src/manager.c ****                 break;
 326:App/Src/manager.c ****                 case 1:
 327:App/Src/manager.c ****                     count++;
 328:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 329:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 330:App/Src/manager.c ****                         UsbPrintf("start test chip %d\n", count);
 331:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 332:App/Src/manager.c ****                         g_capAdjust.count = count;
 333:App/Src/manager.c ****                         rtc_group_power(count, POWER_CAP_TEST);
 334:App/Src/manager.c ****                         HAL_Delay(500);
 335:App/Src/manager.c ****                         rtc_8800_adc_testmode(count);
 336:App/Src/manager.c ****                         g_capAdjust.temp = system_get_rtc_temp();
 337:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 338:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
 339:App/Src/manager.c ****                         rtc_out_4096();
 340:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 341:App/Src/manager.c ****                         state = 2;
 342:App/Src/manager.c ****                     } else {
 343:App/Src/manager.c ****                         system_cap_write_flash();//write flash
 344:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 345:App/Src/manager.c ****                         result = 0;
 346:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 347:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 348:App/Src/manager.c ****                         }
 349:App/Src/manager.c ****                         ControlPrintf("okNumber:%d message:单点测试完成\n", result, count);
 350:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 351:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 352:App/Src/manager.c ****                     }
 353:App/Src/manager.c ****                 break;
 354:App/Src/manager.c ****                 case 2:
 355:App/Src/manager.c ****                     if (g_capAdjust.flag != CAP_ADJUST_DEFAULT) {//只要状态改变，就进行下一个芯片测
 356:App/Src/manager.c ****                         state = 1;
 357:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 358:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 359:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 360:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 361:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 362:App/Src/manager.c ****                         } else {
 363:App/Src/manager.c ****                             ControlPrintf("chipName:%d message:fail!\n", count);
 364:App/Src/manager.c ****                         }
 365:App/Src/manager.c ****                         rtc_disable_int();
 366:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 367:App/Src/manager.c ****                         // rtc_group_power(0, POWER_OFF);
 368:App/Src/manager.c ****                     }
 369:App/Src/manager.c ****                 break;
 370:App/Src/manager.c ****                 default:break;
 371:App/Src/manager.c ****             }
 372:App/Src/manager.c ****         break;
 373:App/Src/manager.c ****         case CAP_ADJUST_COVER:
 374:App/Src/manager.c ****             g_oneData.number = check_system_temp();
 375:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 41


 376:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 377:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 378:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 379:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 380:App/Src/manager.c ****             } else {
 381:App/Src/manager.c ****                 UsbPrintf("system temp test cover!\n");
 382:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 383:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 384:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 385:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 386:App/Src/manager.c ****                 }
 387:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_COVER);
 388:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 389:App/Src/manager.c ****             }
 390:App/Src/manager.c ****         break;
 391:App/Src/manager.c ****         case CALCULATE:
 392:App/Src/manager.c ****             count = 0;
 393:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 394:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 395:App/Src/manager.c ****                     count++;
 396:App/Src/manager.c ****                     g_testFlag[i] = '1';
 397:App/Src/manager.c ****                 } else {
 398:App/Src/manager.c ****                     g_testFlag[i] = 0xff;
 399:App/Src/manager.c ****                 }
 400:App/Src/manager.c ****             }
 401:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_CALCULATE, FLASH_FLAG_WRITE_ADD);
 402:App/Src/manager.c ****             g_testMode = FREE_MODE;
 403:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 404:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 405:App/Src/manager.c ****         break;
 406:App/Src/manager.c ****         case CAP_DOWNLOAD:
 407:App/Src/manager.c ****             result = system_manage_download_cap();
 408:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 409:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 410:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 411:App/Src/manager.c ****             g_testMode = FREE_MODE;
 412:App/Src/manager.c ****         break;
 413:App/Src/manager.c ****         case SYNC_RTC_TIME:
 414:App/Src/manager.c ****             system_get_real_time(&sysTime);
 415:App/Src/manager.c ****             count = 0;
 416:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 417:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 418:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 419:App/Src/manager.c ****                     count++;
 420:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 421:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 422:App/Src/manager.c ****                 } else {
 423:App/Src/manager.c ****                     log_printf("%d sync i2c error\n", i + 1);
 424:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 425:App/Src/manager.c ****                 }
 426:App/Src/manager.c ****             }
 427:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:同步时间完成\n", count, MAX_CHIP_NUMBER);
 428:App/Src/manager.c ****             log_printf("sync end\n");
 429:App/Src/manager.c ****             UsbPrintf("sync end\n");
 430:App/Src/manager.c ****             g_testMode = FREE_MODE;
 431:App/Src/manager.c ****         break;
 432:App/Src/manager.c ****         case CHECK_ERROR_TIME:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 42


 433:App/Src/manager.c ****             system_get_real_time(&sysTime);
 434:App/Src/manager.c ****             count = 0;
 435:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 436:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 437:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 438:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 439:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 440:App/Src/manager.c ****                         count++;
 441:App/Src/manager.c ****                     } 
 442:App/Src/manager.c ****                     log_printf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 443:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 444:App/Src/manager.c ****                 } else {
 445:App/Src/manager.c ****                     log_printf("%d i2c error\n", i + 1);
 446:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 447:App/Src/manager.c ****                 }
 448:App/Src/manager.c ****             }
 449:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:校验时间完成\n", count, MAX_CHIP_NUMBER);
 450:App/Src/manager.c ****             log_printf("check end\n");
 451:App/Src/manager.c ****             UsbPrintf("check end\n");
 452:App/Src/manager.c ****             g_testMode = FREE_MODE;
 453:App/Src/manager.c ****         break;
 454:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 455:App/Src/manager.c ****             if (count == 0) {
 456:App/Src/manager.c ****                 count = 1;
 457:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 458:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 459:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 460:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 461:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 462:App/Src/manager.c ****                     if (result > 0) {
 463:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 464:App/Src/manager.c ****                         result = 0;
 465:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 466:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 467:App/Src/manager.c ****                         }
 468:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 469:App/Src/manager.c ****                     } else {
 470:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;
 471:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 472:App/Src/manager.c ****                     }
 473:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 474:App/Src/manager.c ****                         count++;
 475:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 476:App/Src/manager.c ****                     } else {
 477:App/Src/manager.c ****                         count = 0;
 478:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 479:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 480:App/Src/manager.c ****                         break;
 481:App/Src/manager.c ****                     }
 482:App/Src/manager.c ****                 }
 483:App/Src/manager.c ****             }
 484:App/Src/manager.c ****         break;
 485:App/Src/manager.c ****         case MACHINE_COVER://先清空，测试后写入
 486:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 487:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 488:App/Src/manager.c ****             }
 489:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_COVER);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 43


 490:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 491:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 492:App/Src/manager.c ****             count = 0;
 493:App/Src/manager.c ****             UsbPrintf("machine test clear!\n");
 494:App/Src/manager.c ****             ControlPrintf("message:擦除测试记录\n");
 495:App/Src/manager.c ****         break;
 496:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 497:App/Src/manager.c ****             if (state == 0) {//初始状态，开启机台测试模式
 498:App/Src/manager.c ****                 state = 1;
 499:App/Src/manager.c ****                 memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 500:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_READ);
 501:App/Src/manager.c ****                 count = 0;
 502:App/Src/manager.c ****             } else if (state == 1) {//开启某一个芯片的测试
 503:App/Src/manager.c ****                 count++;          
 504:App/Src/manager.c ****                 if (count <= MAX_CHIP_NUMBER) {          
 505:App/Src/manager.c ****                     if ( g_testFlag[count - 1] == 0xff) {
 506:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 507:App/Src/manager.c ****                         state = 2;
 508:App/Src/manager.c ****                     }//else 跳过该芯片测试
 509:App/Src/manager.c ****                 } else {
 510:App/Src/manager.c ****                     flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 511:App/Src/manager.c ****                     ControlPrintf("message:测试完成\n");
 512:App/Src/manager.c ****                     g_testMode = FREE_MODE;
 513:App/Src/manager.c ****                 }
 514:App/Src/manager.c ****             } else {//等待并判断某一个芯片的测试结果
 515:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);//触发测试
 516:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 517:App/Src/manager.c ****                     if (result > 0) {
 518:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 519:App/Src/manager.c ****                         number = 0;
 520:App/Src/manager.c ****                         for (i = 0; i < count; i++) {
 521:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 522:App/Src/manager.c ****                         }
 523:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n", number, count);
 524:App/Src/manager.c ****                     } else {
 525:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;//相当于不写入数据
 526:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 527:App/Src/manager.c ****                     }
 528:App/Src/manager.c ****                     state = 1;
 529:App/Src/manager.c ****                 }
 530:App/Src/manager.c **** 
 531:App/Src/manager.c ****             }
 532:App/Src/manager.c ****         break;
 533:App/Src/manager.c ****         default: break;
 534:App/Src/manager.c ****     }
 535:App/Src/manager.c **** }
 1633              		.loc 1 535 1 is_stmt 0 view .LVU352
 1634 003e 06B0     		add	sp, sp, #24
 1635              	.LCFI20:
 1636              		.cfi_remember_state
 1637              		.cfi_def_cfa_offset 24
 1638              		@ sp needed
 1639 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1640              	.L126:
 1641              	.LCFI21:
 1642              		.cfi_restore_state
 284:App/Src/manager.c ****             UsbPrintf("group i2c test:");
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 44


 1643              		.loc 1 284 13 is_stmt 1 view .LVU353
 284:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1644              		.loc 1 284 19 is_stmt 0 view .LVU354
 1645 0044 0024     		movs	r4, #0
 1646 0046 A14B     		ldr	r3, .L187+8
 1647 0048 1C70     		strb	r4, [r3]
 285:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1648              		.loc 1 285 13 is_stmt 1 view .LVU355
 1649 004a A148     		ldr	r0, .L187+12
 1650 004c FFF7FEFF 		bl	UsbPrintf
 1651              	.LVL141:
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1652              		.loc 1 286 13 view .LVU356
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1653              		.loc 1 286 13 is_stmt 0 view .LVU357
 1654 0050 07E0     		b	.L128
 1655              	.LVL142:
 1656              	.L177:
 287:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_CAP_TEST);
 1657              		.loc 1 287 36 is_stmt 1 discriminator 1 view .LVU358
 1658 0052 A048     		ldr	r0, .L187+16
 1659 0054 FFF7FEFF 		bl	UsbPrintf
 1660              	.LVL143:
 1661 0058 10E0     		b	.L129
 1662              	.L130:
 295:App/Src/manager.c ****                 }
 1663              		.loc 1 295 21 view .LVU359
 1664 005a 9F48     		ldr	r0, .L187+20
 1665 005c FFF7FEFF 		bl	UsbPrintf
 1666              	.LVL144:
 1667              	.L131:
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1668              		.loc 1 286 46 discriminator 2 view .LVU360
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1669              		.loc 1 286 47 is_stmt 0 discriminator 2 view .LVU361
 1670 0060 0134     		adds	r4, r4, #1
 1671              	.LVL145:
 1672              	.L128:
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1673              		.loc 1 286 25 is_stmt 1 discriminator 1 view .LVU362
 286:App/Src/manager.c ****                 if (i % 10 == 0) { UsbPrintf("\n"); }
 1674              		.loc 1 286 13 is_stmt 0 discriminator 1 view .LVU363
 1675 0062 632C     		cmp	r4, #99
 1676 0064 27DC     		bgt	.L176
 287:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_CAP_TEST);
 1677              		.loc 1 287 17 is_stmt 1 view .LVU364
 287:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_CAP_TEST);
 1678              		.loc 1 287 23 is_stmt 0 view .LVU365
 1679 0066 9D4A     		ldr	r2, .L187+24
 1680 0068 82FB0432 		smull	r3, r2, r2, r4
 1681 006c E317     		asrs	r3, r4, #31
 1682 006e C3EBA203 		rsb	r3, r3, r2, asr #2
 1683 0072 03EB8303 		add	r3, r3, r3, lsl #2
 287:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_CAP_TEST);
 1684              		.loc 1 287 20 view .LVU366
 1685 0076 B4EB430F 		cmp	r4, r3, lsl #1
 1686 007a EAD0     		beq	.L177
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 45


 1687              	.L129:
 288:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 1688              		.loc 1 288 17 is_stmt 1 view .LVU367
 1689 007c 651C     		adds	r5, r4, #1
 1690 007e EDB2     		uxtb	r5, r5
 1691 0080 0521     		movs	r1, #5
 1692 0082 2846     		mov	r0, r5
 1693 0084 FFF7FEFF 		bl	rtc_group_power
 1694              	.LVL146:
 289:App/Src/manager.c ****                 HAL_Delay(200);
 1695              		.loc 1 289 17 view .LVU368
 1696 0088 0321     		movs	r1, #3
 1697 008a 2846     		mov	r0, r5
 1698 008c FFF7FEFF 		bl	rtc_set_channel
 1699              	.LVL147:
 290:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 1700              		.loc 1 290 17 view .LVU369
 1701 0090 C820     		movs	r0, #200
 1702 0092 FFF7FEFF 		bl	HAL_Delay
 1703              	.LVL148:
 291:App/Src/manager.c ****                     UsbPrintf("1\t");
 1704              		.loc 1 291 17 view .LVU370
 291:App/Src/manager.c ****                     UsbPrintf("1\t");
 1705              		.loc 1 291 21 is_stmt 0 view .LVU371
 1706 0096 0123     		movs	r3, #1
 1707 0098 8B4A     		ldr	r2, .L187+4
 1708 009a 0021     		movs	r1, #0
 1709 009c 6420     		movs	r0, #100
 1710 009e FFF7FEFF 		bl	rtc_read_multi_bytes
 1711              	.LVL149:
 291:App/Src/manager.c ****                     UsbPrintf("1\t");
 1712              		.loc 1 291 20 view .LVU372
 1713 00a2 0028     		cmp	r0, #0
 1714 00a4 D9D1     		bne	.L130
 292:App/Src/manager.c ****                     count++;
 1715              		.loc 1 292 21 is_stmt 1 view .LVU373
 1716 00a6 8E48     		ldr	r0, .L187+28
 1717 00a8 FFF7FEFF 		bl	UsbPrintf
 1718              	.LVL150:
 293:App/Src/manager.c ****                 } else {
 1719              		.loc 1 293 21 view .LVU374
 293:App/Src/manager.c ****                 } else {
 1720              		.loc 1 293 26 is_stmt 0 view .LVU375
 1721 00ac 874A     		ldr	r2, .L187+8
 1722 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1723 00b0 0133     		adds	r3, r3, #1
 1724 00b2 1370     		strb	r3, [r2]
 1725 00b4 D4E7     		b	.L131
 1726              	.L176:
 298:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1727              		.loc 1 298 13 is_stmt 1 view .LVU376
 1728 00b6 854B     		ldr	r3, .L187+8
 1729 00b8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1730 00ba 8A48     		ldr	r0, .L187+32
 1731 00bc FFF7FEFF 		bl	UsbPrintf
 1732              	.LVL151:
 299:App/Src/manager.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 46


 1733              		.loc 1 299 13 view .LVU377
 299:App/Src/manager.c ****         break;
 1734              		.loc 1 299 24 is_stmt 0 view .LVU378
 1735 00c0 804B     		ldr	r3, .L187
 1736 00c2 0022     		movs	r2, #0
 1737 00c4 1A70     		strb	r2, [r3]
 300:App/Src/manager.c ****         case TEMP_TEST:
 1738              		.loc 1 300 9 is_stmt 1 view .LVU379
 1739 00c6 BAE7     		b	.L113
 1740              	.LVL152:
 1741              	.L125:
 302:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1742              		.loc 1 302 13 view .LVU380
 302:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1743              		.loc 1 302 22 is_stmt 0 view .LVU381
 1744 00c8 FFF7FEFF 		bl	system_manage_temp
 1745              	.LVL153:
 1746 00cc 0446     		mov	r4, r0
 1747              	.LVL154:
 303:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1748              		.loc 1 303 13 is_stmt 1 view .LVU382
 303:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1749              		.loc 1 303 24 is_stmt 0 view .LVU383
 1750 00ce 7D4B     		ldr	r3, .L187
 1751 00d0 0022     		movs	r2, #0
 1752 00d2 1A70     		strb	r2, [r3]
 304:App/Src/manager.c ****             if (result > 0) {
 1753              		.loc 1 304 13 is_stmt 1 view .LVU384
 1754 00d4 0146     		mov	r1, r0
 1755 00d6 8448     		ldr	r0, .L187+36
 1756              	.LVL155:
 304:App/Src/manager.c ****             if (result > 0) {
 1757              		.loc 1 304 13 is_stmt 0 view .LVU385
 1758 00d8 FFF7FEFF 		bl	UsbPrintf
 1759              	.LVL156:
 305:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1760              		.loc 1 305 13 is_stmt 1 view .LVU386
 305:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1761              		.loc 1 305 16 is_stmt 0 view .LVU387
 1762 00dc 002C     		cmp	r4, #0
 1763 00de AEDD     		ble	.L113
 306:App/Src/manager.c ****             }
 1764              		.loc 1 306 17 is_stmt 1 view .LVU388
 1765 00e0 6422     		movs	r2, #100
 1766 00e2 2146     		mov	r1, r4
 1767 00e4 8148     		ldr	r0, .L187+40
 1768 00e6 FFF7FEFF 		bl	ControlPrintf
 1769              	.LVL157:
 1770 00ea A8E7     		b	.L113
 1771              	.LVL158:
 1772              	.L124:
 310:App/Src/manager.c ****                 case 0:
 1773              		.loc 1 310 13 view .LVU389
 1774 00ec 764B     		ldr	r3, .L187+4
 1775 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1776 00f0 012B     		cmp	r3, #1
 1777 00f2 45D0     		beq	.L133
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 47


 1778 00f4 022B     		cmp	r3, #2
 1779 00f6 00F09B80 		beq	.L134
 1780 00fa 002B     		cmp	r3, #0
 1781 00fc 9FD1     		bne	.L113
 312:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1782              		.loc 1 312 21 view .LVU390
 312:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1783              		.loc 1 312 27 is_stmt 0 view .LVU391
 1784 00fe 734B     		ldr	r3, .L187+8
 1785 0100 0022     		movs	r2, #0
 1786 0102 1A70     		strb	r2, [r3]
 313:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1787              		.loc 1 313 21 is_stmt 1 view .LVU392
 313:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1788              		.loc 1 313 40 is_stmt 0 view .LVU393
 1789 0104 FFF7FEFF 		bl	check_system_temp
 1790              	.LVL159:
 313:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1791              		.loc 1 313 38 view .LVU394
 1792 0108 794C     		ldr	r4, .L187+44
 1793 010a 2070     		strb	r0, [r4]
 314:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1794              		.loc 1 314 21 is_stmt 1 view .LVU395
 314:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1795              		.loc 1 314 66 is_stmt 0 view .LVU396
 1796 010c 0120     		movs	r0, #1
 1797 010e FFF7FEFF 		bl	temp_read_value
 1798              	.LVL160:
 1799 0112 10EE100A 		vmov	r0, s0
 314:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1800              		.loc 1 314 95 view .LVU397
 1801 0116 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
 314:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1802              		.loc 1 314 21 view .LVU398
 1803 0118 FFF7FEFF 		bl	__aeabi_f2d
 1804              	.LVL161:
 1805 011c 0246     		mov	r2, r0
 1806 011e 0B46     		mov	r3, r1
 1807 0120 0095     		str	r5, [sp]
 1808 0122 7448     		ldr	r0, .L187+48
 1809 0124 FFF7FEFF 		bl	UsbPrintf
 1810              	.LVL162:
 315:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1811              		.loc 1 315 21 is_stmt 1 view .LVU399
 315:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1812              		.loc 1 315 34 is_stmt 0 view .LVU400
 1813 0128 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 315:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1814              		.loc 1 315 24 view .LVU401
 1815 012a 042B     		cmp	r3, #4
 1816 012c 12D9     		bls	.L135
 316:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1817              		.loc 1 316 25 is_stmt 1 view .LVU402
 316:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1818              		.loc 1 316 36 is_stmt 0 view .LVU403
 1819 012e 654B     		ldr	r3, .L187
 1820 0130 0022     		movs	r2, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 48


 1821 0132 1A70     		strb	r2, [r3]
 317:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1822              		.loc 1 317 25 is_stmt 1 view .LVU404
 1823 0134 7048     		ldr	r0, .L187+52
 1824 0136 FFF7FEFF 		bl	UsbPrintf
 1825              	.LVL163:
 318:App/Src/manager.c ****                     } else {
 1826              		.loc 1 318 25 view .LVU405
 318:App/Src/manager.c ****                     } else {
 1827              		.loc 1 318 70 is_stmt 0 view .LVU406
 1828 013a 0120     		movs	r0, #1
 1829 013c FFF7FEFF 		bl	temp_read_value
 1830              	.LVL164:
 1831 0140 10EE100A 		vmov	r0, s0
 318:App/Src/manager.c ****                     } else {
 1832              		.loc 1 318 25 view .LVU407
 1833 0144 FFF7FEFF 		bl	__aeabi_f2d
 1834              	.LVL165:
 1835 0148 0246     		mov	r2, r0
 1836 014a 0B46     		mov	r3, r1
 1837 014c 6B48     		ldr	r0, .L187+56
 1838 014e FFF7FEFF 		bl	log_printf
 1839              	.LVL166:
 1840 0152 74E7     		b	.L113
 1841              	.L135:
 320:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1842              		.loc 1 320 25 is_stmt 1 view .LVU408
 320:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1843              		.loc 1 320 31 is_stmt 0 view .LVU409
 1844 0154 0125     		movs	r5, #1
 1845 0156 5C4B     		ldr	r3, .L187+4
 1846 0158 1D70     		strb	r5, [r3]
 321:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 1847              		.loc 1 321 25 is_stmt 1 view .LVU410
 1848 015a 9FED690A 		vldr.32	s0, .L187+60
 1849 015e F0EE400A 		vmov.f32	s1, s0
 1850 0162 0020     		movs	r0, #0
 1851 0164 FFF7FEFF 		bl	systm_cap_save_buffer
 1852              	.LVL167:
 322:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1853              		.loc 1 322 25 view .LVU411
 1854 0168 664C     		ldr	r4, .L187+64
 1855 016a 6422     		movs	r2, #100
 1856 016c FF21     		movs	r1, #255
 1857 016e 2046     		mov	r0, r4
 1858 0170 FFF7FEFF 		bl	memset
 1859              	.LVL168:
 323:App/Src/manager.c ****                     }
 1860              		.loc 1 323 25 view .LVU412
 1861 0174 0022     		movs	r2, #0
 1862 0176 2946     		mov	r1, r5
 1863 0178 2046     		mov	r0, r4
 1864 017a FFF7FEFF 		bl	flash_test_flag_manage
 1865              	.LVL169:
 1866 017e 5EE7     		b	.L113
 1867              	.L133:
 327:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 49


 1868              		.loc 1 327 21 view .LVU413
 327:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1869              		.loc 1 327 26 is_stmt 0 view .LVU414
 1870 0180 524B     		ldr	r3, .L187+8
 1871 0182 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1872 0184 0130     		adds	r0, r0, #1
 1873 0186 C0B2     		uxtb	r0, r0
 1874 0188 1870     		strb	r0, [r3]
 328:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1875              		.loc 1 328 21 is_stmt 1 view .LVU415
 328:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 1876              		.loc 1 328 24 is_stmt 0 view .LVU416
 1877 018a 6428     		cmp	r0, #100
 1878 018c 2DD8     		bhi	.L136
 329:App/Src/manager.c ****                         UsbPrintf("start test chip %d\n", count);
 1879              		.loc 1 329 25 is_stmt 1 view .LVU417
 329:App/Src/manager.c ****                         UsbPrintf("start test chip %d\n", count);
 1880              		.loc 1 329 29 is_stmt 0 view .LVU418
 1881 018e 584B     		ldr	r3, .L187+44
 1882 0190 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1883 0192 FFF7FEFF 		bl	system_check_test_dot
 1884              	.LVL170:
 329:App/Src/manager.c ****                         UsbPrintf("start test chip %d\n", count);
 1885              		.loc 1 329 28 view .LVU419
 1886 0196 0028     		cmp	r0, #0
 1887 0198 7FF451AF 		bne	.L113
 330:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 1888              		.loc 1 330 25 is_stmt 1 view .LVU420
 1889 019c 4B4C     		ldr	r4, .L187+8
 1890 019e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 1891 01a0 5948     		ldr	r0, .L187+68
 1892 01a2 FFF7FEFF 		bl	UsbPrintf
 1893              	.LVL171:
 331:App/Src/manager.c ****                         g_capAdjust.count = count;
 1894              		.loc 1 331 25 view .LVU421
 331:App/Src/manager.c ****                         g_capAdjust.count = count;
 1895              		.loc 1 331 42 is_stmt 0 view .LVU422
 1896 01a6 594D     		ldr	r5, .L187+72
 1897 01a8 0023     		movs	r3, #0
 1898 01aa 2B70     		strb	r3, [r5]
 332:App/Src/manager.c ****                         rtc_group_power(count, POWER_CAP_TEST);
 1899              		.loc 1 332 25 is_stmt 1 view .LVU423
 332:App/Src/manager.c ****                         rtc_group_power(count, POWER_CAP_TEST);
 1900              		.loc 1 332 43 is_stmt 0 view .LVU424
 1901 01ac 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1902 01ae 2874     		strb	r0, [r5, #16]
 333:App/Src/manager.c ****                         HAL_Delay(500);
 1903              		.loc 1 333 25 is_stmt 1 view .LVU425
 1904 01b0 0521     		movs	r1, #5
 1905 01b2 FFF7FEFF 		bl	rtc_group_power
 1906              	.LVL172:
 334:App/Src/manager.c ****                         rtc_8800_adc_testmode(count);
 1907              		.loc 1 334 25 view .LVU426
 1908 01b6 4FF4FA70 		mov	r0, #500
 1909 01ba FFF7FEFF 		bl	HAL_Delay
 1910              	.LVL173:
 335:App/Src/manager.c ****                         g_capAdjust.temp = system_get_rtc_temp();
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 50


 1911              		.loc 1 335 25 view .LVU427
 1912 01be 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1913 01c0 FFF7FEFF 		bl	rtc_8800_adc_testmode
 1914              	.LVL174:
 336:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 1915              		.loc 1 336 25 view .LVU428
 336:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 1916              		.loc 1 336 44 is_stmt 0 view .LVU429
 1917 01c4 FFF7FEFF 		bl	system_get_rtc_temp
 1918              	.LVL175:
 336:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 1919              		.loc 1 336 42 view .LVU430
 1920 01c8 85ED020A 		vstr.32	s0, [r5, #8]
 337:App/Src/manager.c ****                         rtc_1006_set_testmode(count);
 1921              		.loc 1 337 25 is_stmt 1 view .LVU431
 1922 01cc 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1923 01ce FFF7FEFF 		bl	rtc_1006_exit_testmode
 1924              	.LVL176:
 338:App/Src/manager.c ****                         rtc_out_4096();
 1925              		.loc 1 338 25 view .LVU432
 1926 01d2 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1927 01d4 FFF7FEFF 		bl	rtc_1006_set_testmode
 1928              	.LVL177:
 339:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 1929              		.loc 1 339 25 view .LVU433
 1930 01d8 FFF7FEFF 		bl	rtc_out_4096
 1931              	.LVL178:
 340:App/Src/manager.c ****                         state = 2;
 1932              		.loc 1 340 25 view .LVU434
 1933 01dc 0120     		movs	r0, #1
 1934 01de FFF7FEFF 		bl	rtc_freq_test
 1935              	.LVL179:
 341:App/Src/manager.c ****                     } else {
 1936              		.loc 1 341 25 view .LVU435
 341:App/Src/manager.c ****                     } else {
 1937              		.loc 1 341 31 is_stmt 0 view .LVU436
 1938 01e2 394B     		ldr	r3, .L187+4
 1939 01e4 0222     		movs	r2, #2
 1940 01e6 1A70     		strb	r2, [r3]
 1941 01e8 29E7     		b	.L113
 1942              	.L136:
 343:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 1943              		.loc 1 343 25 is_stmt 1 view .LVU437
 1944 01ea FFF7FEFF 		bl	system_cap_write_flash
 1945              	.LVL180:
 344:App/Src/manager.c ****                         result = 0;
 1946              		.loc 1 344 25 view .LVU438
 1947 01ee 0122     		movs	r2, #1
 1948 01f0 1146     		mov	r1, r2
 1949 01f2 4448     		ldr	r0, .L187+64
 1950 01f4 FFF7FEFF 		bl	flash_test_flag_manage
 1951              	.LVL181:
 345:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1952              		.loc 1 345 25 view .LVU439
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1953              		.loc 1 346 25 view .LVU440
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 51


 1954              		.loc 1 346 32 is_stmt 0 view .LVU441
 1955 01f8 0023     		movs	r3, #0
 345:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1956              		.loc 1 345 32 view .LVU442
 1957 01fa 1946     		mov	r1, r3
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1958              		.loc 1 346 25 view .LVU443
 1959 01fc 00E0     		b	.L137
 1960              	.LVL182:
 1961              	.L138:
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1962              		.loc 1 346 58 is_stmt 1 discriminator 2 view .LVU444
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1963              		.loc 1 346 59 is_stmt 0 discriminator 2 view .LVU445
 1964 01fe 0133     		adds	r3, r3, #1
 1965              	.LVL183:
 1966              	.L137:
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1967              		.loc 1 346 37 is_stmt 1 discriminator 1 view .LVU446
 346:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1968              		.loc 1 346 25 is_stmt 0 discriminator 1 view .LVU447
 1969 0200 632B     		cmp	r3, #99
 1970 0202 09DC     		bgt	.L178
 347:App/Src/manager.c ****                         }
 1971              		.loc 1 347 29 is_stmt 1 view .LVU448
 347:App/Src/manager.c ****                         }
 1972              		.loc 1 347 44 is_stmt 0 view .LVU449
 1973 0204 3F4A     		ldr	r2, .L187+64
 1974 0206 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 347:App/Src/manager.c ****                         }
 1975              		.loc 1 347 68 view .LVU450
 1976 0208 3948     		ldr	r0, .L187+44
 1977 020a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 347:App/Src/manager.c ****                         }
 1978              		.loc 1 347 78 view .LVU451
 1979 020c 0241     		asrs	r2, r2, r0
 347:App/Src/manager.c ****                         }
 1980              		.loc 1 347 32 view .LVU452
 1981 020e 12F0010F 		tst	r2, #1
 1982 0212 F4D1     		bne	.L138
 347:App/Src/manager.c ****                         }
 1983              		.loc 1 347 86 is_stmt 1 discriminator 1 view .LVU453
 347:App/Src/manager.c ****                         }
 1984              		.loc 1 347 92 is_stmt 0 discriminator 1 view .LVU454
 1985 0214 0131     		adds	r1, r1, #1
 1986              	.LVL184:
 347:App/Src/manager.c ****                         }
 1987              		.loc 1 347 92 discriminator 1 view .LVU455
 1988 0216 F2E7     		b	.L138
 1989              	.L178:
 349:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1990              		.loc 1 349 25 is_stmt 1 view .LVU456
 1991 0218 2C4B     		ldr	r3, .L187+8
 1992              	.LVL185:
 349:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1993              		.loc 1 349 25 is_stmt 0 view .LVU457
 1994 021a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 52


 1995 021c 3C48     		ldr	r0, .L187+76
 1996 021e FFF7FEFF 		bl	ControlPrintf
 1997              	.LVL186:
 350:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1998              		.loc 1 350 25 is_stmt 1 view .LVU458
 350:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1999              		.loc 1 350 36 is_stmt 0 view .LVU459
 2000 0222 284B     		ldr	r3, .L187
 2001 0224 0022     		movs	r2, #0
 2002 0226 1A70     		strb	r2, [r3]
 351:App/Src/manager.c ****                     }
 2003              		.loc 1 351 25 is_stmt 1 view .LVU460
 2004 0228 3A48     		ldr	r0, .L187+80
 2005 022a FFF7FEFF 		bl	UsbPrintf
 2006              	.LVL187:
 2007 022e 06E7     		b	.L113
 2008              	.L134:
 355:App/Src/manager.c ****                         state = 1;
 2009              		.loc 1 355 21 view .LVU461
 355:App/Src/manager.c ****                         state = 1;
 2010              		.loc 1 355 36 is_stmt 0 view .LVU462
 2011 0230 364B     		ldr	r3, .L187+72
 2012 0232 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 355:App/Src/manager.c ****                         state = 1;
 2013              		.loc 1 355 24 view .LVU463
 2014 0234 002B     		cmp	r3, #0
 2015 0236 3FF402AF 		beq	.L113
 356:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 2016              		.loc 1 356 25 is_stmt 1 view .LVU464
 356:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 2017              		.loc 1 356 31 is_stmt 0 view .LVU465
 2018 023a 234A     		ldr	r2, .L187+4
 2019 023c 0121     		movs	r1, #1
 2020 023e 1170     		strb	r1, [r2]
 357:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 2021              		.loc 1 357 25 is_stmt 1 view .LVU466
 357:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 2022              		.loc 1 357 28 is_stmt 0 view .LVU467
 2023 0240 022B     		cmp	r3, #2
 2024 0242 0BD0     		beq	.L179
 363:App/Src/manager.c ****                         }
 2025              		.loc 1 363 29 is_stmt 1 view .LVU468
 2026 0244 214B     		ldr	r3, .L187+8
 2027 0246 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2028 0248 3348     		ldr	r0, .L187+84
 2029 024a FFF7FEFF 		bl	ControlPrintf
 2030              	.LVL188:
 2031              	.L141:
 365:App/Src/manager.c ****                         rtc_1006_exit_testmode(count);
 2032              		.loc 1 365 25 view .LVU469
 2033 024e FFF7FEFF 		bl	rtc_disable_int
 2034              	.LVL189:
 366:App/Src/manager.c ****                         // rtc_group_power(0, POWER_OFF);
 2035              		.loc 1 366 25 view .LVU470
 2036 0252 1E4B     		ldr	r3, .L187+8
 2037 0254 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2038 0256 FFF7FEFF 		bl	rtc_1006_exit_testmode
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 53


 2039              	.LVL190:
 2040 025a F0E6     		b	.L113
 2041              	.L179:
 358:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 2042              		.loc 1 358 29 view .LVU471
 2043 025c 2B4C     		ldr	r4, .L187+72
 2044 025e 1B4D     		ldr	r5, .L187+8
 2045 0260 D4ED010A 		vldr.32	s1, [r4, #4]
 2046 0264 94ED020A 		vldr.32	s0, [r4, #8]
 2047 0268 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 2048 026a FFF7FEFF 		bl	systm_cap_save_buffer
 2049              	.LVL191:
 359:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 2050              		.loc 1 359 29 view .LVU472
 359:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 2051              		.loc 1 359 99 is_stmt 0 view .LVU473
 2052 026e D4ED027A 		vldr.32	s15, [r4, #8]
 359:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 2053              		.loc 1 359 29 view .LVU474
 2054 0272 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 2055 0274 FDEEE77A 		vcvt.s32.f32	s15, s15
 2056 0278 17EE901A 		vmov	r1, s15	@ int
 2057 027c 2748     		ldr	r0, .L187+88
 2058 027e FFF7FEFF 		bl	ControlPrintf
 2059              	.LVL192:
 360:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 2060              		.loc 1 360 29 is_stmt 1 view .LVU475
 360:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 2061              		.loc 1 360 110 is_stmt 0 view .LVU476
 2062 0282 D4F80480 		ldr	r8, [r4, #4]	@ float
 360:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 2063              		.loc 1 360 29 view .LVU477
 2064 0286 A068     		ldr	r0, [r4, #8]	@ float
 2065 0288 FFF7FEFF 		bl	__aeabi_f2d
 2066              	.LVL193:
 2067 028c 0646     		mov	r6, r0
 2068 028e 0F46     		mov	r7, r1
 2069 0290 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 2070 0292 4046     		mov	r0, r8	@ float
 2071 0294 FFF7FEFF 		bl	__aeabi_f2d
 2072              	.LVL194:
 2073 0298 CDE90001 		strd	r0, [sp]
 2074 029c 3246     		mov	r2, r6
 2075 029e 3B46     		mov	r3, r7
 2076 02a0 2146     		mov	r1, r4
 2077 02a2 1F48     		ldr	r0, .L187+92
 2078 02a4 FFF7FEFF 		bl	UsbPrintf
 2079              	.LVL195:
 361:App/Src/manager.c ****                         } else {
 2080              		.loc 1 361 29 is_stmt 1 view .LVU478
 361:App/Src/manager.c ****                         } else {
 2081              		.loc 1 361 51 is_stmt 0 view .LVU479
 2082 02a8 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 2083 02aa 013B     		subs	r3, r3, #1
 361:App/Src/manager.c ****                         } else {
 2084              		.loc 1 361 74 view .LVU480
 2085 02ac 104A     		ldr	r2, .L187+44
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 54


 2086 02ae 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 361:App/Src/manager.c ****                         } else {
 2087              		.loc 1 361 62 view .LVU481
 2088 02b0 0122     		movs	r2, #1
 2089 02b2 02FA01F1 		lsl	r1, r2, r1
 361:App/Src/manager.c ****                         } else {
 2090              		.loc 1 361 51 view .LVU482
 2091 02b6 1348     		ldr	r0, .L187+64
 2092 02b8 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 2093 02ba 22EA0102 		bic	r2, r2, r1
 2094 02be C254     		strb	r2, [r0, r3]
 2095 02c0 C5E7     		b	.L141
 2096              	.L188:
 2097 02c2 00BF     		.align	2
 2098              	.L187:
 2099 02c4 00000000 		.word	.LANCHOR0
 2100 02c8 00000000 		.word	.LANCHOR4
 2101 02cc 00000000 		.word	.LANCHOR5
 2102 02d0 00000000 		.word	.LC20
 2103 02d4 10000000 		.word	.LC21
 2104 02d8 18000000 		.word	.LC23
 2105 02dc 67666666 		.word	1717986919
 2106 02e0 14000000 		.word	.LC22
 2107 02e4 1C000000 		.word	.LC24
 2108 02e8 28000000 		.word	.LC25
 2109 02ec 3C000000 		.word	.LC26
 2110 02f0 00000000 		.word	.LANCHOR3
 2111 02f4 68000000 		.word	.LC27
 2112 02f8 88000000 		.word	.LC28
 2113 02fc A4000000 		.word	.LC29
 2114 0300 00000000 		.word	0
 2115 0304 00000000 		.word	.LANCHOR1
 2116 0308 C4000000 		.word	.LC30
 2117 030c 00000000 		.word	.LANCHOR6
 2118 0310 D8000000 		.word	.LC31
 2119 0314 FC000000 		.word	.LC32
 2120 0318 58010000 		.word	.LC35
 2121 031c 14010000 		.word	.LC33
 2122 0320 38010000 		.word	.LC34
 2123              	.L123:
 374:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 2124              		.loc 1 374 13 is_stmt 1 view .LVU483
 374:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 2125              		.loc 1 374 32 is_stmt 0 view .LVU484
 2126 0324 FFF7FEFF 		bl	check_system_temp
 2127              	.LVL196:
 374:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 2128              		.loc 1 374 30 view .LVU485
 2129 0328 C3B2     		uxtb	r3, r0
 2130 032a AC4A     		ldr	r2, .L189
 2131 032c 1370     		strb	r3, [r2]
 375:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 2132              		.loc 1 375 13 is_stmt 1 view .LVU486
 375:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 2133              		.loc 1 375 16 is_stmt 0 view .LVU487
 2134 032e 042B     		cmp	r3, #4
 2135 0330 15D9     		bls	.L142
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 55


 376:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 2136              		.loc 1 376 17 is_stmt 1 view .LVU488
 376:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 2137              		.loc 1 376 28 is_stmt 0 view .LVU489
 2138 0332 AB4B     		ldr	r3, .L189+4
 2139 0334 0022     		movs	r2, #0
 2140 0336 1A70     		strb	r2, [r3]
 377:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 2141              		.loc 1 377 17 is_stmt 1 view .LVU490
 2142 0338 AA48     		ldr	r0, .L189+8
 2143 033a FFF7FEFF 		bl	UsbPrintf
 2144              	.LVL197:
 378:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 2145              		.loc 1 378 17 view .LVU491
 2146 033e AA48     		ldr	r0, .L189+12
 2147 0340 FFF7FEFF 		bl	ControlPrintf
 2148              	.LVL198:
 379:App/Src/manager.c ****             } else {
 2149              		.loc 1 379 17 view .LVU492
 379:App/Src/manager.c ****             } else {
 2150              		.loc 1 379 62 is_stmt 0 view .LVU493
 2151 0344 0120     		movs	r0, #1
 2152 0346 FFF7FEFF 		bl	temp_read_value
 2153              	.LVL199:
 2154 034a 10EE100A 		vmov	r0, s0
 379:App/Src/manager.c ****             } else {
 2155              		.loc 1 379 17 view .LVU494
 2156 034e FFF7FEFF 		bl	__aeabi_f2d
 2157              	.LVL200:
 2158 0352 0246     		mov	r2, r0
 2159 0354 0B46     		mov	r3, r1
 2160 0356 A548     		ldr	r0, .L189+16
 2161 0358 FFF7FEFF 		bl	log_printf
 2162              	.LVL201:
 2163 035c 6FE6     		b	.L113
 2164              	.L142:
 381:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 2165              		.loc 1 381 17 is_stmt 1 view .LVU495
 2166 035e A448     		ldr	r0, .L189+20
 2167 0360 FFF7FEFF 		bl	UsbPrintf
 2168              	.LVL202:
 382:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 2169              		.loc 1 382 17 view .LVU496
 2170 0364 9D4B     		ldr	r3, .L189
 2171 0366 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2172 0368 FFF7FEFF 		bl	flash_test_data_clear
 2173              	.LVL203:
 383:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2174              		.loc 1 383 17 view .LVU497
 2175 036c 0022     		movs	r2, #0
 2176 036e 0121     		movs	r1, #1
 2177 0370 A048     		ldr	r0, .L189+24
 2178 0372 FFF7FEFF 		bl	flash_test_flag_manage
 2179              	.LVL204:
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2180              		.loc 1 384 17 view .LVU498
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 56


 2181              		.loc 1 384 24 is_stmt 0 view .LVU499
 2182 0376 0023     		movs	r3, #0
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2183              		.loc 1 384 17 view .LVU500
 2184 0378 09E0     		b	.L143
 2185              	.LVL205:
 2186              	.L144:
 385:App/Src/manager.c ****                 }
 2187              		.loc 1 385 21 is_stmt 1 discriminator 3 view .LVU501
 385:App/Src/manager.c ****                 }
 2188              		.loc 1 385 56 is_stmt 0 discriminator 3 view .LVU502
 2189 037a 984A     		ldr	r2, .L189
 2190 037c 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 385:App/Src/manager.c ****                 }
 2191              		.loc 1 385 44 discriminator 3 view .LVU503
 2192 037e 0122     		movs	r2, #1
 2193 0380 02FA01F1 		lsl	r1, r2, r1
 385:App/Src/manager.c ****                 }
 2194              		.loc 1 385 35 discriminator 3 view .LVU504
 2195 0384 9B48     		ldr	r0, .L189+24
 2196 0386 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 2197 0388 0A43     		orrs	r2, r2, r1
 2198 038a C254     		strb	r2, [r0, r3]
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2199              		.loc 1 384 50 is_stmt 1 discriminator 3 view .LVU505
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2200              		.loc 1 384 51 is_stmt 0 discriminator 3 view .LVU506
 2201 038c 0133     		adds	r3, r3, #1
 2202              	.LVL206:
 2203              	.L143:
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2204              		.loc 1 384 29 is_stmt 1 discriminator 1 view .LVU507
 384:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 2205              		.loc 1 384 17 is_stmt 0 discriminator 1 view .LVU508
 2206 038e 632B     		cmp	r3, #99
 2207 0390 F3DD     		ble	.L144
 387:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 2208              		.loc 1 387 17 is_stmt 1 view .LVU509
 2209 0392 0222     		movs	r2, #2
 2210 0394 0121     		movs	r1, #1
 2211 0396 9748     		ldr	r0, .L189+24
 2212 0398 FFF7FEFF 		bl	flash_test_flag_manage
 2213              	.LVL207:
 388:App/Src/manager.c ****             }
 2214              		.loc 1 388 17 view .LVU510
 388:App/Src/manager.c ****             }
 2215              		.loc 1 388 28 is_stmt 0 view .LVU511
 2216 039c 904B     		ldr	r3, .L189+4
 2217 039e 0322     		movs	r2, #3
 2218 03a0 1A70     		strb	r2, [r3]
 2219 03a2 4CE6     		b	.L113
 2220              	.L122:
 392:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2221              		.loc 1 392 13 is_stmt 1 view .LVU512
 392:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2222              		.loc 1 392 19 is_stmt 0 view .LVU513
 2223 03a4 0024     		movs	r4, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 57


 2224 03a6 944B     		ldr	r3, .L189+28
 2225 03a8 1C70     		strb	r4, [r3]
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2226              		.loc 1 393 13 is_stmt 1 view .LVU514
 2227              	.LVL208:
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2228              		.loc 1 393 13 is_stmt 0 view .LVU515
 2229 03aa 03E0     		b	.L145
 2230              	.LVL209:
 2231              	.L146:
 398:App/Src/manager.c ****                 }
 2232              		.loc 1 398 21 is_stmt 1 view .LVU516
 398:App/Src/manager.c ****                 }
 2233              		.loc 1 398 35 is_stmt 0 view .LVU517
 2234 03ac 914B     		ldr	r3, .L189+24
 2235 03ae FF22     		movs	r2, #255
 2236 03b0 1A55     		strb	r2, [r3, r4]
 2237              	.L147:
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2238              		.loc 1 393 46 is_stmt 1 discriminator 2 view .LVU518
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2239              		.loc 1 393 47 is_stmt 0 discriminator 2 view .LVU519
 2240 03b2 0134     		adds	r4, r4, #1
 2241              	.LVL210:
 2242              	.L145:
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2243              		.loc 1 393 25 is_stmt 1 discriminator 1 view .LVU520
 393:App/Src/manager.c ****                 if (sd8804_calcul_cap(i + 1) != 0) {
 2244              		.loc 1 393 13 is_stmt 0 discriminator 1 view .LVU521
 2245 03b4 632C     		cmp	r4, #99
 2246 03b6 0DDC     		bgt	.L180
 394:App/Src/manager.c ****                     count++;
 2247              		.loc 1 394 17 is_stmt 1 view .LVU522
 394:App/Src/manager.c ****                     count++;
 2248              		.loc 1 394 21 is_stmt 0 view .LVU523
 2249 03b8 601C     		adds	r0, r4, #1
 2250 03ba C0B2     		uxtb	r0, r0
 2251 03bc FFF7FEFF 		bl	sd8804_calcul_cap
 2252              	.LVL211:
 394:App/Src/manager.c ****                     count++;
 2253              		.loc 1 394 20 view .LVU524
 2254 03c0 0028     		cmp	r0, #0
 2255 03c2 F3D0     		beq	.L146
 395:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2256              		.loc 1 395 21 is_stmt 1 view .LVU525
 395:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2257              		.loc 1 395 26 is_stmt 0 view .LVU526
 2258 03c4 8C4A     		ldr	r2, .L189+28
 2259 03c6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2260 03c8 0133     		adds	r3, r3, #1
 2261 03ca 1370     		strb	r3, [r2]
 396:App/Src/manager.c ****                 } else {
 2262              		.loc 1 396 21 is_stmt 1 view .LVU527
 396:App/Src/manager.c ****                 } else {
 2263              		.loc 1 396 35 is_stmt 0 view .LVU528
 2264 03cc 894B     		ldr	r3, .L189+24
 2265 03ce 3122     		movs	r2, #49
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 58


 2266 03d0 1A55     		strb	r2, [r3, r4]
 2267 03d2 EEE7     		b	.L147
 2268              	.L180:
 401:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2269              		.loc 1 401 13 is_stmt 1 view .LVU529
 2270 03d4 0122     		movs	r2, #1
 2271 03d6 0221     		movs	r1, #2
 2272 03d8 8648     		ldr	r0, .L189+24
 2273 03da FFF7FEFF 		bl	flash_test_flag_manage
 2274              	.LVL212:
 402:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2275              		.loc 1 402 13 view .LVU530
 402:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2276              		.loc 1 402 24 is_stmt 0 view .LVU531
 2277 03de 804B     		ldr	r3, .L189+4
 2278 03e0 0022     		movs	r2, #0
 2279 03e2 1A70     		strb	r2, [r3]
 403:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2280              		.loc 1 403 13 is_stmt 1 view .LVU532
 2281 03e4 844C     		ldr	r4, .L189+28
 2282              	.LVL213:
 403:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2283              		.loc 1 403 13 is_stmt 0 view .LVU533
 2284 03e6 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2285 03e8 8448     		ldr	r0, .L189+32
 2286 03ea FFF7FEFF 		bl	UsbPrintf
 2287              	.LVL214:
 404:App/Src/manager.c ****         break;
 2288              		.loc 1 404 4 is_stmt 1 view .LVU534
 2289 03ee 6422     		movs	r2, #100
 2290 03f0 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2291 03f2 8348     		ldr	r0, .L189+36
 2292 03f4 FFF7FEFF 		bl	ControlPrintf
 2293              	.LVL215:
 405:App/Src/manager.c ****         case CAP_DOWNLOAD:
 2294              		.loc 1 405 9 view .LVU535
 2295 03f8 21E6     		b	.L113
 2296              	.L121:
 407:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2297              		.loc 1 407 13 view .LVU536
 407:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2298              		.loc 1 407 22 is_stmt 0 view .LVU537
 2299 03fa FFF7FEFF 		bl	system_manage_download_cap
 2300              	.LVL216:
 2301 03fe 0446     		mov	r4, r0
 2302              	.LVL217:
 408:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 2303              		.loc 1 408 13 is_stmt 1 view .LVU538
 2304 0400 804D     		ldr	r5, .L189+40
 2305 0402 0146     		mov	r1, r0
 2306 0404 2846     		mov	r0, r5
 2307              	.LVL218:
 408:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 2308              		.loc 1 408 13 is_stmt 0 view .LVU539
 2309 0406 FFF7FEFF 		bl	UsbPrintf
 2310              	.LVL219:
 409:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 59


 2311              		.loc 1 409 13 is_stmt 1 view .LVU540
 2312 040a 2146     		mov	r1, r4
 2313 040c 2846     		mov	r0, r5
 2314 040e FFF7FEFF 		bl	log_printf
 2315              	.LVL220:
 410:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2316              		.loc 1 410 4 view .LVU541
 2317 0412 6422     		movs	r2, #100
 2318 0414 2146     		mov	r1, r4
 2319 0416 7C48     		ldr	r0, .L189+44
 2320 0418 FFF7FEFF 		bl	ControlPrintf
 2321              	.LVL221:
 411:App/Src/manager.c ****         break;
 2322              		.loc 1 411 13 view .LVU542
 411:App/Src/manager.c ****         break;
 2323              		.loc 1 411 24 is_stmt 0 view .LVU543
 2324 041c 704B     		ldr	r3, .L189+4
 2325 041e 0022     		movs	r2, #0
 2326 0420 1A70     		strb	r2, [r3]
 412:App/Src/manager.c ****         case SYNC_RTC_TIME:
 2327              		.loc 1 412 9 is_stmt 1 view .LVU544
 2328 0422 0CE6     		b	.L113
 2329              	.LVL222:
 2330              	.L120:
 414:App/Src/manager.c ****             count = 0;
 2331              		.loc 1 414 13 view .LVU545
 2332 0424 04A8     		add	r0, sp, #16
 2333 0426 FFF7FEFF 		bl	system_get_real_time
 2334              	.LVL223:
 415:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2335              		.loc 1 415 13 view .LVU546
 415:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2336              		.loc 1 415 19 is_stmt 0 view .LVU547
 2337 042a 0024     		movs	r4, #0
 2338 042c 724B     		ldr	r3, .L189+28
 2339 042e 1C70     		strb	r4, [r3]
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2340              		.loc 1 416 13 is_stmt 1 view .LVU548
 2341              	.LVL224:
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2342              		.loc 1 416 13 is_stmt 0 view .LVU549
 2343 0430 0AE0     		b	.L149
 2344              	.LVL225:
 2345              	.L150:
 423:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 2346              		.loc 1 423 21 is_stmt 1 view .LVU550
 2347 0432 651C     		adds	r5, r4, #1
 2348 0434 754E     		ldr	r6, .L189+48
 2349 0436 2946     		mov	r1, r5
 2350 0438 3046     		mov	r0, r6
 2351 043a FFF7FEFF 		bl	log_printf
 2352              	.LVL226:
 424:App/Src/manager.c ****                 }
 2353              		.loc 1 424 21 view .LVU551
 2354 043e 2946     		mov	r1, r5
 2355 0440 3046     		mov	r0, r6
 2356 0442 FFF7FEFF 		bl	UsbPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 60


 2357              	.LVL227:
 2358              	.L151:
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2359              		.loc 1 416 46 discriminator 2 view .LVU552
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2360              		.loc 1 416 47 is_stmt 0 discriminator 2 view .LVU553
 2361 0446 0134     		adds	r4, r4, #1
 2362              	.LVL228:
 2363              	.L149:
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2364              		.loc 1 416 25 is_stmt 1 discriminator 1 view .LVU554
 416:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2365              		.loc 1 416 13 is_stmt 0 discriminator 1 view .LVU555
 2366 0448 632C     		cmp	r4, #99
 2367 044a 18DC     		bgt	.L181
 417:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 2368              		.loc 1 417 17 is_stmt 1 view .LVU556
 2369 044c 601C     		adds	r0, r4, #1
 2370 044e 0121     		movs	r1, #1
 2371 0450 C0B2     		uxtb	r0, r0
 2372 0452 FFF7FEFF 		bl	rtc_group_power
 2373              	.LVL229:
 418:App/Src/manager.c ****                     count++;
 2374              		.loc 1 418 17 view .LVU557
 418:App/Src/manager.c ****                     count++;
 2375              		.loc 1 418 21 is_stmt 0 view .LVU558
 2376 0456 04A8     		add	r0, sp, #16
 2377 0458 FFF7FEFF 		bl	rtc_write_date
 2378              	.LVL230:
 418:App/Src/manager.c ****                     count++;
 2379              		.loc 1 418 20 view .LVU559
 2380 045c 0028     		cmp	r0, #0
 2381 045e E8D1     		bne	.L150
 419:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2382              		.loc 1 419 21 is_stmt 1 view .LVU560
 419:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2383              		.loc 1 419 26 is_stmt 0 view .LVU561
 2384 0460 654A     		ldr	r2, .L189+28
 2385 0462 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2386 0464 0133     		adds	r3, r3, #1
 2387 0466 1370     		strb	r3, [r2]
 420:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 2388              		.loc 1 420 21 is_stmt 1 view .LVU562
 2389 0468 651C     		adds	r5, r4, #1
 2390 046a 694E     		ldr	r6, .L189+52
 2391 046c 2946     		mov	r1, r5
 2392 046e 3046     		mov	r0, r6
 2393 0470 FFF7FEFF 		bl	log_printf
 2394              	.LVL231:
 421:App/Src/manager.c ****                 } else {
 2395              		.loc 1 421 21 view .LVU563
 2396 0474 2946     		mov	r1, r5
 2397 0476 3046     		mov	r0, r6
 2398 0478 FFF7FEFF 		bl	UsbPrintf
 2399              	.LVL232:
 2400 047c E3E7     		b	.L151
 2401              	.L181:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 61


 427:App/Src/manager.c ****             log_printf("sync end\n");
 2402              		.loc 1 427 4 view .LVU564
 2403 047e 6422     		movs	r2, #100
 2404 0480 5D4B     		ldr	r3, .L189+28
 2405 0482 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2406 0484 6348     		ldr	r0, .L189+56
 2407 0486 FFF7FEFF 		bl	ControlPrintf
 2408              	.LVL233:
 428:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2409              		.loc 1 428 13 view .LVU565
 2410 048a 634C     		ldr	r4, .L189+60
 2411              	.LVL234:
 428:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2412              		.loc 1 428 13 is_stmt 0 view .LVU566
 2413 048c 2046     		mov	r0, r4
 2414 048e FFF7FEFF 		bl	log_printf
 2415              	.LVL235:
 429:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2416              		.loc 1 429 13 is_stmt 1 view .LVU567
 2417 0492 2046     		mov	r0, r4
 2418 0494 FFF7FEFF 		bl	UsbPrintf
 2419              	.LVL236:
 430:App/Src/manager.c ****         break;
 2420              		.loc 1 430 13 view .LVU568
 430:App/Src/manager.c ****         break;
 2421              		.loc 1 430 24 is_stmt 0 view .LVU569
 2422 0498 514B     		ldr	r3, .L189+4
 2423 049a 0022     		movs	r2, #0
 2424 049c 1A70     		strb	r2, [r3]
 431:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 2425              		.loc 1 431 9 is_stmt 1 view .LVU570
 2426 049e CEE5     		b	.L113
 2427              	.L119:
 433:App/Src/manager.c ****             count = 0;
 2428              		.loc 1 433 13 view .LVU571
 2429 04a0 04A8     		add	r0, sp, #16
 2430 04a2 FFF7FEFF 		bl	system_get_real_time
 2431              	.LVL237:
 434:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2432              		.loc 1 434 13 view .LVU572
 434:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2433              		.loc 1 434 19 is_stmt 0 view .LVU573
 2434 04a6 0026     		movs	r6, #0
 2435 04a8 534B     		ldr	r3, .L189+28
 2436 04aa 1E70     		strb	r6, [r3]
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2437              		.loc 1 435 13 is_stmt 1 view .LVU574
 2438              	.LVL238:
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2439              		.loc 1 435 13 is_stmt 0 view .LVU575
 2440 04ac 12E0     		b	.L153
 2441              	.LVL239:
 2442              	.L155:
 442:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 2443              		.loc 1 442 21 is_stmt 1 view .LVU576
 2444 04ae 751C     		adds	r5, r6, #1
 2445 04b0 DFF84481 		ldr	r8, .L189+28
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 62


 2446 04b4 594F     		ldr	r7, .L189+64
 2447 04b6 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2448 04ba 2246     		mov	r2, r4
 2449 04bc 2946     		mov	r1, r5
 2450 04be 3846     		mov	r0, r7
 2451 04c0 FFF7FEFF 		bl	log_printf
 2452              	.LVL240:
 443:App/Src/manager.c ****                 } else {
 2453              		.loc 1 443 21 view .LVU577
 2454 04c4 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2455 04c8 2246     		mov	r2, r4
 2456 04ca 2946     		mov	r1, r5
 2457 04cc 3846     		mov	r0, r7
 2458 04ce FFF7FEFF 		bl	UsbPrintf
 2459              	.LVL241:
 2460              	.L156:
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2461              		.loc 1 435 46 discriminator 2 view .LVU578
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2462              		.loc 1 435 47 is_stmt 0 discriminator 2 view .LVU579
 2463 04d2 0136     		adds	r6, r6, #1
 2464              	.LVL242:
 2465              	.L153:
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2466              		.loc 1 435 25 is_stmt 1 discriminator 1 view .LVU580
 435:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2467              		.loc 1 435 13 is_stmt 0 discriminator 1 view .LVU581
 2468 04d4 632E     		cmp	r6, #99
 2469 04d6 27DC     		bgt	.L182
 436:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 2470              		.loc 1 436 17 is_stmt 1 view .LVU582
 2471 04d8 701C     		adds	r0, r6, #1
 2472 04da 0121     		movs	r1, #1
 2473 04dc C0B2     		uxtb	r0, r0
 2474 04de FFF7FEFF 		bl	rtc_group_power
 2475              	.LVL243:
 437:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2476              		.loc 1 437 17 view .LVU583
 437:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2477              		.loc 1 437 21 is_stmt 0 view .LVU584
 2478 04e2 02A8     		add	r0, sp, #8
 2479 04e4 FFF7FEFF 		bl	rtc_read_date
 2480              	.LVL244:
 437:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2481              		.loc 1 437 20 view .LVU585
 2482 04e8 98B9     		cbnz	r0, .L154
 438:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2483              		.loc 1 438 21 is_stmt 1 view .LVU586
 438:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2484              		.loc 1 438 30 is_stmt 0 view .LVU587
 2485 04ea 06AB     		add	r3, sp, #24
 2486 04ec 13E90300 		ldmdb	r3, {r0, r1}
 2487 04f0 FFF7FEFF 		bl	system_tool_calculate_sec
 2488              	.LVL245:
 2489 04f4 0446     		mov	r4, r0
 438:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2490              		.loc 1 438 67 view .LVU588
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 63


 2491 04f6 02AB     		add	r3, sp, #8
 2492 04f8 93E80300 		ldm	r3, {r0, r1}
 2493 04fc FFF7FEFF 		bl	system_tool_calculate_sec
 2494              	.LVL246:
 438:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2495              		.loc 1 438 28 view .LVU589
 2496 0500 241A     		subs	r4, r4, r0
 2497              	.LVL247:
 439:App/Src/manager.c ****                         count++;
 2498              		.loc 1 439 21 is_stmt 1 view .LVU590
 439:App/Src/manager.c ****                         count++;
 2499              		.loc 1 439 38 is_stmt 0 view .LVU591
 2500 0502 631D     		adds	r3, r4, #5
 439:App/Src/manager.c ****                         count++;
 2501              		.loc 1 439 24 view .LVU592
 2502 0504 0A2B     		cmp	r3, #10
 2503 0506 D2D8     		bhi	.L155
 440:App/Src/manager.c ****                     } 
 2504              		.loc 1 440 25 is_stmt 1 view .LVU593
 440:App/Src/manager.c ****                     } 
 2505              		.loc 1 440 30 is_stmt 0 view .LVU594
 2506 0508 3B4A     		ldr	r2, .L189+28
 2507 050a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2508 050c 0133     		adds	r3, r3, #1
 2509 050e 1370     		strb	r3, [r2]
 2510 0510 CDE7     		b	.L155
 2511              	.LVL248:
 2512              	.L154:
 445:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 2513              		.loc 1 445 21 is_stmt 1 view .LVU595
 2514 0512 741C     		adds	r4, r6, #1
 2515 0514 424D     		ldr	r5, .L189+68
 2516 0516 2146     		mov	r1, r4
 2517 0518 2846     		mov	r0, r5
 2518 051a FFF7FEFF 		bl	log_printf
 2519              	.LVL249:
 446:App/Src/manager.c ****                 }
 2520              		.loc 1 446 21 view .LVU596
 2521 051e 2146     		mov	r1, r4
 2522 0520 2846     		mov	r0, r5
 2523 0522 FFF7FEFF 		bl	UsbPrintf
 2524              	.LVL250:
 2525 0526 D4E7     		b	.L156
 2526              	.L182:
 449:App/Src/manager.c ****             log_printf("check end\n");
 2527              		.loc 1 449 4 view .LVU597
 2528 0528 6422     		movs	r2, #100
 2529 052a 334B     		ldr	r3, .L189+28
 2530 052c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2531 052e 3D48     		ldr	r0, .L189+72
 2532 0530 FFF7FEFF 		bl	ControlPrintf
 2533              	.LVL251:
 450:App/Src/manager.c ****             UsbPrintf("check end\n");
 2534              		.loc 1 450 13 view .LVU598
 2535 0534 3C4C     		ldr	r4, .L189+76
 2536 0536 2046     		mov	r0, r4
 2537 0538 FFF7FEFF 		bl	log_printf
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 64


 2538              	.LVL252:
 451:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2539              		.loc 1 451 13 view .LVU599
 2540 053c 2046     		mov	r0, r4
 2541 053e FFF7FEFF 		bl	UsbPrintf
 2542              	.LVL253:
 452:App/Src/manager.c ****         break;
 2543              		.loc 1 452 13 view .LVU600
 452:App/Src/manager.c ****         break;
 2544              		.loc 1 452 24 is_stmt 0 view .LVU601
 2545 0542 274B     		ldr	r3, .L189+4
 2546 0544 0022     		movs	r2, #0
 2547 0546 1A70     		strb	r2, [r3]
 453:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 2548              		.loc 1 453 9 is_stmt 1 view .LVU602
 2549 0548 79E5     		b	.L113
 2550              	.LVL254:
 2551              	.L118:
 455:App/Src/manager.c ****                 count = 1;
 2552              		.loc 1 455 13 view .LVU603
 455:App/Src/manager.c ****                 count = 1;
 2553              		.loc 1 455 23 is_stmt 0 view .LVU604
 2554 054a 2B4B     		ldr	r3, .L189+28
 2555 054c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 455:App/Src/manager.c ****                 count = 1;
 2556              		.loc 1 455 16 view .LVU605
 2557 054e 98B1     		cbz	r0, .L183
 458:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2558              		.loc 1 458 20 is_stmt 1 view .LVU606
 458:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2559              		.loc 1 458 23 is_stmt 0 view .LVU607
 2560 0550 6428     		cmp	r0, #100
 2561 0552 3FF674AD 		bhi	.L113
 459:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2562              		.loc 1 459 17 is_stmt 1 view .LVU608
 459:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2563              		.loc 1 459 26 is_stmt 0 view .LVU609
 2564 0556 0021     		movs	r1, #0
 2565 0558 FFF7FEFF 		bl	system_machine_test_one
 2566              	.LVL255:
 460:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2567              		.loc 1 460 17 is_stmt 1 view .LVU610
 460:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2568              		.loc 1 460 20 is_stmt 0 view .LVU611
 2569 055c 0028     		cmp	r0, #0
 2570 055e 3FF46EAD 		beq	.L113
 462:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2571              		.loc 1 462 21 is_stmt 1 view .LVU612
 462:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2572              		.loc 1 462 24 is_stmt 0 view .LVU613
 2573 0562 0028     		cmp	r0, #0
 2574 0564 26DD     		ble	.L159
 463:App/Src/manager.c ****                         result = 0;
 2575              		.loc 1 463 25 is_stmt 1 view .LVU614
 463:App/Src/manager.c ****                         result = 0;
 2576              		.loc 1 463 42 is_stmt 0 view .LVU615
 2577 0566 244B     		ldr	r3, .L189+28
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 65


 2578 0568 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2579 056a 531E     		subs	r3, r2, #1
 463:App/Src/manager.c ****                         result = 0;
 2580              		.loc 1 463 47 view .LVU616
 2581 056c 2149     		ldr	r1, .L189+24
 2582 056e 3120     		movs	r0, #49
 2583              	.LVL256:
 463:App/Src/manager.c ****                         result = 0;
 2584              		.loc 1 463 47 view .LVU617
 2585 0570 C854     		strb	r0, [r1, r3]
 464:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2586              		.loc 1 464 25 is_stmt 1 view .LVU618
 2587              	.LVL257:
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2588              		.loc 1 465 25 view .LVU619
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2589              		.loc 1 465 32 is_stmt 0 view .LVU620
 2590 0572 0023     		movs	r3, #0
 464:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2591              		.loc 1 464 32 view .LVU621
 2592 0574 1946     		mov	r1, r3
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2593              		.loc 1 465 25 view .LVU622
 2594 0576 06E0     		b	.L160
 2595              	.LVL258:
 2596              	.L183:
 456:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2597              		.loc 1 456 17 is_stmt 1 view .LVU623
 456:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2598              		.loc 1 456 23 is_stmt 0 view .LVU624
 2599 0578 0120     		movs	r0, #1
 2600 057a 1870     		strb	r0, [r3]
 457:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2601              		.loc 1 457 17 is_stmt 1 view .LVU625
 2602 057c 0146     		mov	r1, r0
 2603 057e FFF7FEFF 		bl	system_machine_test_one
 2604              	.LVL259:
 2605 0582 5CE5     		b	.L113
 2606              	.LVL260:
 2607              	.L161:
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2608              		.loc 1 465 58 discriminator 2 view .LVU626
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2609              		.loc 1 465 59 is_stmt 0 discriminator 2 view .LVU627
 2610 0584 0133     		adds	r3, r3, #1
 2611              	.LVL261:
 2612              	.L160:
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2613              		.loc 1 465 37 is_stmt 1 discriminator 1 view .LVU628
 465:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2614              		.loc 1 465 25 is_stmt 0 discriminator 1 view .LVU629
 2615 0586 632B     		cmp	r3, #99
 2616 0588 05DC     		bgt	.L184
 466:App/Src/manager.c ****                         }
 2617              		.loc 1 466 29 is_stmt 1 view .LVU630
 466:App/Src/manager.c ****                         }
 2618              		.loc 1 466 43 is_stmt 0 view .LVU631
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 66


 2619 058a 1A48     		ldr	r0, .L189+24
 2620 058c C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 466:App/Src/manager.c ****                         }
 2621              		.loc 1 466 32 view .LVU632
 2622 058e 3128     		cmp	r0, #49
 2623 0590 F8D1     		bne	.L161
 466:App/Src/manager.c ****                         }
 2624              		.loc 1 466 57 is_stmt 1 discriminator 1 view .LVU633
 466:App/Src/manager.c ****                         }
 2625              		.loc 1 466 63 is_stmt 0 discriminator 1 view .LVU634
 2626 0592 0131     		adds	r1, r1, #1
 2627              	.LVL262:
 466:App/Src/manager.c ****                         }
 2628              		.loc 1 466 63 discriminator 1 view .LVU635
 2629 0594 F6E7     		b	.L161
 2630              	.L184:
 468:App/Src/manager.c ****                     } else {
 2631              		.loc 1 468 25 is_stmt 1 view .LVU636
 2632 0596 2548     		ldr	r0, .L189+80
 2633 0598 FFF7FEFF 		bl	ControlPrintf
 2634              	.LVL263:
 2635              	.L163:
 473:App/Src/manager.c ****                         count++;
 2636              		.loc 1 473 21 view .LVU637
 473:App/Src/manager.c ****                         count++;
 2637              		.loc 1 473 31 is_stmt 0 view .LVU638
 2638 059c 164B     		ldr	r3, .L189+28
 2639 059e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 473:App/Src/manager.c ****                         count++;
 2640              		.loc 1 473 24 view .LVU639
 2641 05a0 632B     		cmp	r3, #99
 2642 05a2 11D8     		bhi	.L164
 474:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2643              		.loc 1 474 25 is_stmt 1 view .LVU640
 474:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2644              		.loc 1 474 30 is_stmt 0 view .LVU641
 2645 05a4 0133     		adds	r3, r3, #1
 2646 05a6 D8B2     		uxtb	r0, r3
 2647 05a8 134B     		ldr	r3, .L189+28
 2648 05aa 1870     		strb	r0, [r3]
 475:App/Src/manager.c ****                     } else {
 2649              		.loc 1 475 25 is_stmt 1 view .LVU642
 2650 05ac 0121     		movs	r1, #1
 2651 05ae FFF7FEFF 		bl	system_machine_test_one
 2652              	.LVL264:
 2653 05b2 44E5     		b	.L113
 2654              	.LVL265:
 2655              	.L159:
 470:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2656              		.loc 1 470 25 view .LVU643
 470:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2657              		.loc 1 470 42 is_stmt 0 view .LVU644
 2658 05b4 104B     		ldr	r3, .L189+28
 2659 05b6 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2660 05b8 4B1E     		subs	r3, r1, #1
 470:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2661              		.loc 1 470 47 view .LVU645
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 67


 2662 05ba 0E4A     		ldr	r2, .L189+24
 2663 05bc FF20     		movs	r0, #255
 2664              	.LVL266:
 470:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2665              		.loc 1 470 47 view .LVU646
 2666 05be D054     		strb	r0, [r2, r3]
 471:App/Src/manager.c ****                     }
 2667              		.loc 1 471 25 is_stmt 1 view .LVU647
 2668 05c0 1B48     		ldr	r0, .L189+84
 2669 05c2 FFF7FEFF 		bl	ControlPrintf
 2670              	.LVL267:
 2671 05c6 E9E7     		b	.L163
 2672              	.L164:
 477:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2673              		.loc 1 477 25 view .LVU648
 477:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2674              		.loc 1 477 31 is_stmt 0 view .LVU649
 2675 05c8 0024     		movs	r4, #0
 2676 05ca 0B4B     		ldr	r3, .L189+28
 2677 05cc 1C70     		strb	r4, [r3]
 478:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2678              		.loc 1 478 25 is_stmt 1 view .LVU650
 2679 05ce 1948     		ldr	r0, .L189+88
 2680 05d0 FFF7FEFF 		bl	ControlPrintf
 2681              	.LVL268:
 479:App/Src/manager.c ****                         break;
 2682              		.loc 1 479 25 view .LVU651
 479:App/Src/manager.c ****                         break;
 2683              		.loc 1 479 36 is_stmt 0 view .LVU652
 2684 05d4 024B     		ldr	r3, .L189+4
 2685 05d6 1C70     		strb	r4, [r3]
 480:App/Src/manager.c ****                     }
 2686              		.loc 1 480 25 is_stmt 1 view .LVU653
 2687 05d8 31E5     		b	.L113
 2688              	.L190:
 2689 05da 00BF     		.align	2
 2690              	.L189:
 2691 05dc 00000000 		.word	.LANCHOR3
 2692 05e0 00000000 		.word	.LANCHOR0
 2693 05e4 88000000 		.word	.LC28
 2694 05e8 3C000000 		.word	.LC4
 2695 05ec A4000000 		.word	.LC29
 2696 05f0 74010000 		.word	.LC36
 2697 05f4 00000000 		.word	.LANCHOR1
 2698 05f8 00000000 		.word	.LANCHOR5
 2699 05fc 90010000 		.word	.LC37
 2700 0600 B0010000 		.word	.LC38
 2701 0604 DC010000 		.word	.LC39
 2702 0608 F8010000 		.word	.LC40
 2703 060c 38020000 		.word	.LC42
 2704 0610 24020000 		.word	.LC41
 2705 0614 4C020000 		.word	.LC43
 2706 0618 7C020000 		.word	.LC44
 2707 061c 88020000 		.word	.LC45
 2708 0620 A8020000 		.word	.LC46
 2709 0624 B8020000 		.word	.LC47
 2710 0628 E8020000 		.word	.LC48
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 68


 2711 062c F4020000 		.word	.LC49
 2712 0630 18030000 		.word	.LC50
 2713 0634 34030000 		.word	.LC51
 2714              	.LVL269:
 2715              	.L165:
 487:App/Src/manager.c ****             }
 2716              		.loc 1 487 17 discriminator 3 view .LVU654
 487:App/Src/manager.c ****             }
 2717              		.loc 1 487 31 is_stmt 0 discriminator 3 view .LVU655
 2718 0638 404A     		ldr	r2, .L191
 2719 063a FF21     		movs	r1, #255
 2720 063c D154     		strb	r1, [r2, r3]
 486:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2721              		.loc 1 486 46 is_stmt 1 discriminator 3 view .LVU656
 486:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2722              		.loc 1 486 47 is_stmt 0 discriminator 3 view .LVU657
 2723 063e 0133     		adds	r3, r3, #1
 2724              	.LVL270:
 2725              	.L117:
 486:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2726              		.loc 1 486 25 is_stmt 1 discriminator 1 view .LVU658
 486:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2727              		.loc 1 486 13 is_stmt 0 discriminator 1 view .LVU659
 2728 0640 632B     		cmp	r3, #99
 2729 0642 F9DD     		ble	.L165
 489:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 2730              		.loc 1 489 13 is_stmt 1 view .LVU660
 2731 0644 0222     		movs	r2, #2
 2732 0646 0421     		movs	r1, #4
 2733 0648 3C48     		ldr	r0, .L191
 2734 064a FFF7FEFF 		bl	flash_test_flag_manage
 2735              	.LVL271:
 490:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 2736              		.loc 1 490 13 view .LVU661
 2737 064e 0620     		movs	r0, #6
 2738 0650 FFF7FEFF 		bl	flash_test_data_clear
 2739              	.LVL272:
 491:App/Src/manager.c ****             count = 0;
 2740              		.loc 1 491 13 view .LVU662
 491:App/Src/manager.c ****             count = 0;
 2741              		.loc 1 491 24 is_stmt 0 view .LVU663
 2742 0654 3A4B     		ldr	r3, .L191+4
 2743 0656 0B22     		movs	r2, #11
 2744 0658 1A70     		strb	r2, [r3]
 492:App/Src/manager.c ****             UsbPrintf("machine test clear!\n");
 2745              		.loc 1 492 13 is_stmt 1 view .LVU664
 492:App/Src/manager.c ****             UsbPrintf("machine test clear!\n");
 2746              		.loc 1 492 19 is_stmt 0 view .LVU665
 2747 065a 3A4B     		ldr	r3, .L191+8
 2748 065c 0022     		movs	r2, #0
 2749 065e 1A70     		strb	r2, [r3]
 493:App/Src/manager.c ****             ControlPrintf("message:擦除测试记录\n");
 2750              		.loc 1 493 13 is_stmt 1 view .LVU666
 2751 0660 3948     		ldr	r0, .L191+12
 2752 0662 FFF7FEFF 		bl	UsbPrintf
 2753              	.LVL273:
 494:App/Src/manager.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 69


 2754              		.loc 1 494 13 view .LVU667
 2755 0666 3948     		ldr	r0, .L191+16
 2756 0668 FFF7FEFF 		bl	ControlPrintf
 2757              	.LVL274:
 495:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 2758              		.loc 1 495 9 view .LVU668
 2759 066c E7E4     		b	.L113
 2760              	.L174:
 278:App/Src/manager.c ****         case FREE_MODE:// free mode
 2761              		.loc 1 278 5 is_stmt 0 view .LVU669
 2762 066e 0023     		movs	r3, #0
 2763 0670 E6E7     		b	.L117
 2764              	.L115:
 497:App/Src/manager.c ****                 state = 1;
 2765              		.loc 1 497 13 is_stmt 1 view .LVU670
 497:App/Src/manager.c ****                 state = 1;
 2766              		.loc 1 497 23 is_stmt 0 view .LVU671
 2767 0672 374B     		ldr	r3, .L191+20
 2768 0674 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 497:App/Src/manager.c ****                 state = 1;
 2769              		.loc 1 497 16 view .LVU672
 2770 0676 ABB1     		cbz	r3, .L185
 502:App/Src/manager.c ****                 count++;          
 2771              		.loc 1 502 20 is_stmt 1 view .LVU673
 502:App/Src/manager.c ****                 count++;          
 2772              		.loc 1 502 23 is_stmt 0 view .LVU674
 2773 0678 012B     		cmp	r3, #1
 2774 067a 31D1     		bne	.L167
 503:App/Src/manager.c ****                 if (count <= MAX_CHIP_NUMBER) {          
 2775              		.loc 1 503 17 is_stmt 1 view .LVU675
 503:App/Src/manager.c ****                 if (count <= MAX_CHIP_NUMBER) {          
 2776              		.loc 1 503 22 is_stmt 0 view .LVU676
 2777 067c 314B     		ldr	r3, .L191+8
 2778 067e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2779 0680 0130     		adds	r0, r0, #1
 2780 0682 C0B2     		uxtb	r0, r0
 2781 0684 1870     		strb	r0, [r3]
 504:App/Src/manager.c ****                     if ( g_testFlag[count - 1] == 0xff) {
 2782              		.loc 1 504 17 is_stmt 1 view .LVU677
 504:App/Src/manager.c ****                     if ( g_testFlag[count - 1] == 0xff) {
 2783              		.loc 1 504 20 is_stmt 0 view .LVU678
 2784 0686 6428     		cmp	r0, #100
 2785 0688 1ED8     		bhi	.L168
 505:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2786              		.loc 1 505 21 is_stmt 1 view .LVU679
 505:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2787              		.loc 1 505 43 is_stmt 0 view .LVU680
 2788 068a 431E     		subs	r3, r0, #1
 505:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2789              		.loc 1 505 36 view .LVU681
 2790 068c 2B4A     		ldr	r2, .L191
 2791 068e D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 505:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2792              		.loc 1 505 24 view .LVU682
 2793 0690 FF2B     		cmp	r3, #255
 2794 0692 7FF4D4AC 		bne	.L113
 506:App/Src/manager.c ****                         state = 2;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 70


 2795              		.loc 1 506 25 is_stmt 1 view .LVU683
 2796 0696 0121     		movs	r1, #1
 2797 0698 FFF7FEFF 		bl	system_machine_write_one
 2798              	.LVL275:
 507:App/Src/manager.c ****                     }//else 跳过该芯片测试
 2799              		.loc 1 507 25 view .LVU684
 507:App/Src/manager.c ****                     }//else 跳过该芯片测试
 2800              		.loc 1 507 31 is_stmt 0 view .LVU685
 2801 069c 2C4B     		ldr	r3, .L191+20
 2802 069e 0222     		movs	r2, #2
 2803 06a0 1A70     		strb	r2, [r3]
 2804 06a2 CCE4     		b	.L113
 2805              	.L185:
 498:App/Src/manager.c ****                 memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 2806              		.loc 1 498 17 is_stmt 1 view .LVU686
 498:App/Src/manager.c ****                 memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 2807              		.loc 1 498 23 is_stmt 0 view .LVU687
 2808 06a4 2A4B     		ldr	r3, .L191+20
 2809 06a6 0122     		movs	r2, #1
 2810 06a8 1A70     		strb	r2, [r3]
 499:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_READ);
 2811              		.loc 1 499 17 is_stmt 1 view .LVU688
 2812 06aa 244C     		ldr	r4, .L191
 2813 06ac 6422     		movs	r2, #100
 2814 06ae FF21     		movs	r1, #255
 2815 06b0 2046     		mov	r0, r4
 2816 06b2 FFF7FEFF 		bl	memset
 2817              	.LVL276:
 500:App/Src/manager.c ****                 count = 0;
 2818              		.loc 1 500 17 view .LVU689
 2819 06b6 0022     		movs	r2, #0
 2820 06b8 0421     		movs	r1, #4
 2821 06ba 2046     		mov	r0, r4
 2822 06bc FFF7FEFF 		bl	flash_test_flag_manage
 2823              	.LVL277:
 501:App/Src/manager.c ****             } else if (state == 1) {//开启某一个芯片的测试
 2824              		.loc 1 501 17 view .LVU690
 501:App/Src/manager.c ****             } else if (state == 1) {//开启某一个芯片的测试
 2825              		.loc 1 501 23 is_stmt 0 view .LVU691
 2826 06c0 204B     		ldr	r3, .L191+8
 2827 06c2 0022     		movs	r2, #0
 2828 06c4 1A70     		strb	r2, [r3]
 2829 06c6 BAE4     		b	.L113
 2830              	.L168:
 510:App/Src/manager.c ****                     ControlPrintf("message:测试完成\n");
 2831              		.loc 1 510 21 is_stmt 1 view .LVU692
 2832 06c8 0122     		movs	r2, #1
 2833 06ca 0421     		movs	r1, #4
 2834 06cc 1B48     		ldr	r0, .L191
 2835 06ce FFF7FEFF 		bl	flash_test_flag_manage
 2836              	.LVL278:
 511:App/Src/manager.c ****                     g_testMode = FREE_MODE;
 2837              		.loc 1 511 21 view .LVU693
 2838 06d2 2048     		ldr	r0, .L191+24
 2839 06d4 FFF7FEFF 		bl	ControlPrintf
 2840              	.LVL279:
 512:App/Src/manager.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 71


 2841              		.loc 1 512 21 view .LVU694
 512:App/Src/manager.c ****                 }
 2842              		.loc 1 512 32 is_stmt 0 view .LVU695
 2843 06d8 194B     		ldr	r3, .L191+4
 2844 06da 0022     		movs	r2, #0
 2845 06dc 1A70     		strb	r2, [r3]
 2846 06de AEE4     		b	.L113
 2847              	.L167:
 515:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2848              		.loc 1 515 17 is_stmt 1 view .LVU696
 515:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2849              		.loc 1 515 26 is_stmt 0 view .LVU697
 2850 06e0 0021     		movs	r1, #0
 2851 06e2 184B     		ldr	r3, .L191+8
 2852 06e4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2853 06e6 FFF7FEFF 		bl	system_machine_write_one
 2854              	.LVL280:
 516:App/Src/manager.c ****                     if (result > 0) {
 2855              		.loc 1 516 17 is_stmt 1 view .LVU698
 516:App/Src/manager.c ****                     if (result > 0) {
 2856              		.loc 1 516 20 is_stmt 0 view .LVU699
 2857 06ea 0028     		cmp	r0, #0
 2858 06ec 3FF4A7AC 		beq	.L113
 517:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2859              		.loc 1 517 21 is_stmt 1 view .LVU700
 517:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2860              		.loc 1 517 24 is_stmt 0 view .LVU701
 2861 06f0 0028     		cmp	r0, #0
 2862 06f2 19DD     		ble	.L169
 518:App/Src/manager.c ****                         number = 0;
 2863              		.loc 1 518 25 is_stmt 1 view .LVU702
 518:App/Src/manager.c ****                         number = 0;
 2864              		.loc 1 518 42 is_stmt 0 view .LVU703
 2865 06f4 134B     		ldr	r3, .L191+8
 2866 06f6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2867 06f8 531E     		subs	r3, r2, #1
 518:App/Src/manager.c ****                         number = 0;
 2868              		.loc 1 518 47 view .LVU704
 2869 06fa 1049     		ldr	r1, .L191
 2870 06fc 3120     		movs	r0, #49
 2871              	.LVL281:
 518:App/Src/manager.c ****                         number = 0;
 2872              		.loc 1 518 47 view .LVU705
 2873 06fe C854     		strb	r0, [r1, r3]
 519:App/Src/manager.c ****                         for (i = 0; i < count; i++) {
 2874              		.loc 1 519 25 is_stmt 1 view .LVU706
 2875              	.LVL282:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2876              		.loc 1 520 25 view .LVU707
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2877              		.loc 1 520 32 is_stmt 0 view .LVU708
 2878 0700 0023     		movs	r3, #0
 519:App/Src/manager.c ****                         for (i = 0; i < count; i++) {
 2879              		.loc 1 519 32 view .LVU709
 2880 0702 1946     		mov	r1, r3
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2881              		.loc 1 520 25 view .LVU710
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 72


 2882 0704 00E0     		b	.L170
 2883              	.LVL283:
 2884              	.L171:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2885              		.loc 1 520 48 is_stmt 1 discriminator 2 view .LVU711
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2886              		.loc 1 520 49 is_stmt 0 discriminator 2 view .LVU712
 2887 0706 0133     		adds	r3, r3, #1
 2888              	.LVL284:
 2889              	.L170:
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2890              		.loc 1 520 37 is_stmt 1 discriminator 1 view .LVU713
 520:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { number++; }
 2891              		.loc 1 520 25 is_stmt 0 discriminator 1 view .LVU714
 2892 0708 9A42     		cmp	r2, r3
 2893 070a 06DD     		ble	.L186
 521:App/Src/manager.c ****                         }
 2894              		.loc 1 521 29 is_stmt 1 view .LVU715
 521:App/Src/manager.c ****                         }
 2895              		.loc 1 521 43 is_stmt 0 view .LVU716
 2896 070c 0B48     		ldr	r0, .L191
 2897 070e C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 521:App/Src/manager.c ****                         }
 2898              		.loc 1 521 32 view .LVU717
 2899 0710 3128     		cmp	r0, #49
 2900 0712 F8D1     		bne	.L171
 521:App/Src/manager.c ****                         }
 2901              		.loc 1 521 57 is_stmt 1 discriminator 1 view .LVU718
 521:App/Src/manager.c ****                         }
 2902              		.loc 1 521 63 is_stmt 0 discriminator 1 view .LVU719
 2903 0714 0131     		adds	r1, r1, #1
 2904              	.LVL285:
 521:App/Src/manager.c ****                         }
 2905              		.loc 1 521 63 discriminator 1 view .LVU720
 2906 0716 C9B2     		uxtb	r1, r1
 2907              	.LVL286:
 521:App/Src/manager.c ****                         }
 2908              		.loc 1 521 63 discriminator 1 view .LVU721
 2909 0718 F5E7     		b	.L171
 2910              	.L186:
 523:App/Src/manager.c ****                     } else {
 2911              		.loc 1 523 25 is_stmt 1 view .LVU722
 2912 071a 0F48     		ldr	r0, .L191+28
 2913 071c FFF7FEFF 		bl	ControlPrintf
 2914              	.LVL287:
 2915              	.L173:
 528:App/Src/manager.c ****                 }
 2916              		.loc 1 528 21 view .LVU723
 528:App/Src/manager.c ****                 }
 2917              		.loc 1 528 27 is_stmt 0 view .LVU724
 2918 0720 0B4B     		ldr	r3, .L191+20
 2919 0722 0122     		movs	r2, #1
 2920 0724 1A70     		strb	r2, [r3]
 2921              		.loc 1 535 1 view .LVU725
 2922 0726 8AE4     		b	.L113
 2923              	.LVL288:
 2924              	.L169:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 73


 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2925              		.loc 1 525 25 is_stmt 1 view .LVU726
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2926              		.loc 1 525 42 is_stmt 0 view .LVU727
 2927 0728 064B     		ldr	r3, .L191+8
 2928 072a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2929 072c 4B1E     		subs	r3, r1, #1
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2930              		.loc 1 525 47 view .LVU728
 2931 072e 034A     		ldr	r2, .L191
 2932 0730 FF20     		movs	r0, #255
 2933              	.LVL289:
 525:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2934              		.loc 1 525 47 view .LVU729
 2935 0732 D054     		strb	r0, [r2, r3]
 526:App/Src/manager.c ****                     }
 2936              		.loc 1 526 25 is_stmt 1 view .LVU730
 2937 0734 0948     		ldr	r0, .L191+32
 2938 0736 FFF7FEFF 		bl	ControlPrintf
 2939              	.LVL290:
 2940 073a F1E7     		b	.L173
 2941              	.L192:
 2942              		.align	2
 2943              	.L191:
 2944 073c 00000000 		.word	.LANCHOR1
 2945 0740 00000000 		.word	.LANCHOR0
 2946 0744 00000000 		.word	.LANCHOR5
 2947 0748 48030000 		.word	.LC52
 2948 074c 60030000 		.word	.LC53
 2949 0750 00000000 		.word	.LANCHOR4
 2950 0754 34030000 		.word	.LC51
 2951 0758 F4020000 		.word	.LC49
 2952 075c 18030000 		.word	.LC50
 2953              		.cfi_endproc
 2954              	.LFE246:
 2956              		.global	g_testFlag
 2957              		.global	g_capAdjust
 2958              		.section	.bss.count.0,"aw",%nobits
 2959              		.set	.LANCHOR5,. + 0
 2962              	count.0:
 2963 0000 00       		.space	1
 2964              		.section	.bss.g_capAdjust,"aw",%nobits
 2965              		.align	2
 2966              		.set	.LANCHOR6,. + 0
 2969              	g_capAdjust:
 2970 0000 00000000 		.space	20
 2970      00000000 
 2970      00000000 
 2970      00000000 
 2970      00000000 
 2971              		.section	.bss.g_oneData,"aw",%nobits
 2972              		.align	2
 2973              		.set	.LANCHOR3,. + 0
 2976              	g_oneData:
 2977 0000 00000000 		.space	904
 2977      00000000 
 2977      00000000 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 74


 2977      00000000 
 2977      00000000 
 2978              		.section	.bss.g_testFlag,"aw",%nobits
 2979              		.align	2
 2980              		.set	.LANCHOR1,. + 0
 2983              	g_testFlag:
 2984 0000 00000000 		.space	100
 2984      00000000 
 2984      00000000 
 2984      00000000 
 2984      00000000 
 2985              		.section	.bss.g_testMode,"aw",%nobits
 2986              		.set	.LANCHOR0,. + 0
 2989              	g_testMode:
 2990 0000 00       		.space	1
 2991              		.section	.bss.state.1,"aw",%nobits
 2992              		.set	.LANCHOR4,. + 0
 2995              	state.1:
 2996 0000 00       		.space	1
 2997              		.section	.data.lastChannel.2,"aw"
 2998              		.align	2
 2999              		.set	.LANCHOR2,. + 0
 3002              	lastChannel.2:
 3003 0000 FFFFFFFF 		.word	-1
 3004              		.text
 3005              	.Letext0:
 3006              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 3007              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 3008              		.file 4 "Core/Inc/main.h"
 3009              		.file 5 "App/Inc/manager.h"
 3010              		.file 6 "Device/Inc/flash.h"
 3011              		.file 7 "Drivers/User_Driver/Inc/soft_i2c.h"
 3012              		.file 8 "Drivers/User_Driver/Inc/rtc_i2c.h"
 3013              		.file 9 "App/Inc/calculate.h"
 3014              		.file 10 "Device/Inc/power.h"
 3015              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3016              		.file 12 "Device/Inc/temp.h"
 3017              		.file 13 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 3018              		.file 14 "Device/Inc/rtc.h"
 3019              		.file 15 "App/Inc/task.h"
 3020              		.file 16 "Device/Inc/drv_wave1006.h"
 3021              		.file 17 "Device/Inc/voltage.h"
 3022              		.file 18 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 75


DEFINED SYMBOLS
                            *ABS*:00000000 manager.c
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:20     .text.manager_set_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:26     .text.manager_set_mode:00000000 manager_set_mode
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:44     .text.manager_set_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:49     .text.manager_get_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:55     .text.manager_get_mode:00000000 manager_get_mode
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:70     .text.manager_get_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:78     .rodata.system_voltage_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:85     .text.system_voltage_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:91     .text.system_voltage_test:00000000 system_voltage_test
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:174    .text.system_voltage_test:00000068 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:184    .rodata.system_manage_temp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:226    .text.system_manage_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:232    .text.system_manage_temp:00000000 system_manage_temp
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:595    .text.system_manage_temp:000001e0 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:613    .rodata.system_manage_download_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:623    .text.system_manage_download_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:629    .text.system_manage_download_cap:00000000 system_manage_download_cap
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:763    .text.system_manage_download_cap:0000008c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:771    .rodata.system_set_int.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:775    .text.system_set_int:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:781    .text.system_set_int:00000000 system_set_int
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:860    .text.system_set_int:00000050 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:866    .text.check_system_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:872    .text.check_system_temp:00000000 check_system_temp
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:986    .text.check_system_temp:000000b0 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:997    .text.systm_cap_save_buffer:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1003   .text.systm_cap_save_buffer:00000000 systm_cap_save_buffer
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1063   .text.systm_cap_save_buffer:0000003c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1068   .text.system_check_test_dot:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1074   .text.system_check_test_dot:00000000 system_check_test_dot
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1165   .text.system_cap_write_flash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1171   .text.system_cap_write_flash:00000000 system_cap_write_flash
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1295   .text.system_cap_write_flash:0000008c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1300   .rodata.system_tool_calculate_sec.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1304   .text.system_tool_calculate_sec:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1310   .text.system_tool_calculate_sec:00000000 system_tool_calculate_sec
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1447   .text.system_tool_calculate_sec:0000009c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1453   .rodata.system_manage_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1563   .text.system_manage_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1569   .text.system_manage_test_mode:00000000 system_manage_test_mode
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1608   .text.system_manage_test_mode:0000001c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:1620   .text.system_manage_test_mode:00000034 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2099   .text.system_manage_test_mode:000002c4 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2126   .text.system_manage_test_mode:00000324 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2691   .text.system_manage_test_mode:000005dc $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2718   .text.system_manage_test_mode:00000638 $t
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2944   .text.system_manage_test_mode:0000073c $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2983   .bss.g_testFlag:00000000 g_testFlag
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2969   .bss.g_capAdjust:00000000 g_capAdjust
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2962   .bss.count.0:00000000 count.0
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2963   .bss.count.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2965   .bss.g_capAdjust:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2972   .bss.g_oneData:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2976   .bss.g_oneData:00000000 g_oneData
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2979   .bss.g_testFlag:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccYCoIof.s 			page 76


C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2989   .bss.g_testMode:00000000 g_testMode
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2990   .bss.g_testMode:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2995   .bss.state.1:00000000 state.1
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2996   .bss.state.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:2998   .data.lastChannel.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccYCoIof.s:3002   .data.lastChannel.2:00000000 lastChannel.2

UNDEFINED SYMBOLS
__aeabi_ui2d
__aeabi_dmul
__aeabi_d2uiz
ststem_voltage
log_printf
__aeabi_f2d
memset
temp_read_value
UsbPrintf
ControlPrintf
flash_test_flag_manage
rtc_1006_exit_testmode
rtc_group_power
HAL_Delay
rtc_8800_adc_testmode
system_get_rtc_temp
rtc_convert_temp_offset
flash_test_data_write_add
sd8804_write_otp
rtc_disable_int
rtc_1006_set_testmode
rtc_out_4096
flash_read_data
float_to_uint8
flash_write_data
rtc_set_channel
rtc_read_multi_bytes
rtc_freq_test
flash_test_data_clear
sd8804_calcul_cap
system_get_real_time
rtc_write_date
rtc_read_date
system_machine_test_one
system_machine_write_one
