ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"soft_uart.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.devices_printf,"ax",%progbits
  20              		.align	1
  21              		.global	devices_printf
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	devices_printf:
  27              	.LVL0:
  28              	.LFB238:
  29              		.file 1 "Device/Src/soft_uart.c"
   1:Device/Src/soft_uart.c **** #include "soft_uart.h"
   2:Device/Src/soft_uart.c **** #include <string.h>
   3:Device/Src/soft_uart.c **** #include <stdio.h>
   4:Device/Src/soft_uart.c **** #include <stdarg.h>
   5:Device/Src/soft_uart.c **** 
   6:Device/Src/soft_uart.c **** #define DEVICE1_IO_RX       GPIO_PIN_6
   7:Device/Src/soft_uart.c **** #define DEVICE1_IO_TX       GPIO_PIN_6
   8:Device/Src/soft_uart.c **** #define DEVICE1_TX_H        DEVICE1_IO_TX        
   9:Device/Src/soft_uart.c **** #define DEVICE1_TX_L        (uint32_t)DEVICE1_IO_TX << 16U  
  10:Device/Src/soft_uart.c **** 
  11:Device/Src/soft_uart.c **** #define UART_DATA_LENGTH    9//8bit data, 1bit stop, none parity
  12:Device/Src/soft_uart.c **** typedef struct {
  13:Device/Src/soft_uart.c ****     uint8_t rxState;
  14:Device/Src/soft_uart.c ****     uint8_t rxCount;
  15:Device/Src/soft_uart.c ****     uint8_t rxBit;
  16:Device/Src/soft_uart.c ****     uint8_t rxData;
  17:Device/Src/soft_uart.c ****     uint8_t txState;
  18:Device/Src/soft_uart.c ****     uint8_t txCount;
  19:Device/Src/soft_uart.c ****     uint8_t txBit;
  20:Device/Src/soft_uart.c ****     uint8_t txData;
  21:Device/Src/soft_uart.c ****     uint8_t txBuff;
  22:Device/Src/soft_uart.c **** }UartSoftTimer;
  23:Device/Src/soft_uart.c **** 
  24:Device/Src/soft_uart.c **** SoftUart uart_dev[MAX_DEVICES_CHANNEL] = {0};
  25:Device/Src/soft_uart.c **** 
  26:Device/Src/soft_uart.c **** void devices_printf(SoftUart* soft_uart, char* fmt,...)  
  27:Device/Src/soft_uart.c **** {  
  30              		.loc 1 27 1 view -0
  31              		.cfi_startproc
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 2


  32              		@ args = 4, pretend = 12, frame = 72
  33              		@ frame_needed = 0, uses_anonymous_args = 1
  34              		.loc 1 27 1 is_stmt 0 view .LVU1
  35 0000 0EB4     		push	{r1, r2, r3}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 1, -12
  39              		.cfi_offset 2, -8
  40              		.cfi_offset 3, -4
  41 0002 F0B5     		push	{r4, r5, r6, r7, lr}
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 32
  44              		.cfi_offset 4, -32
  45              		.cfi_offset 5, -28
  46              		.cfi_offset 6, -24
  47              		.cfi_offset 7, -20
  48              		.cfi_offset 14, -16
  49 0004 92B0     		sub	sp, sp, #72
  50              	.LCFI2:
  51              		.cfi_def_cfa_offset 104
  52 0006 0546     		mov	r5, r0
  53 0008 17AE     		add	r6, sp, #92
  54 000a 56F8047B 		ldr	r7, [r6], #4
  28:Device/Src/soft_uart.c ****     uint8_t quick_buffer[SOFT_UART_TRANSMIT_SHORT] = {0};
  55              		.loc 1 28 5 is_stmt 1 view .LVU2
  56              		.loc 1 28 13 is_stmt 0 view .LVU3
  57 000e 0024     		movs	r4, #0
  58 0010 0294     		str	r4, [sp, #8]
  59 0012 3C22     		movs	r2, #60
  60 0014 2146     		mov	r1, r4
  61 0016 03A8     		add	r0, sp, #12
  62 0018 FFF7FEFF 		bl	memset
  63              	.LVL1:
  29:Device/Src/soft_uart.c ****     int i;
  64              		.loc 1 29 5 is_stmt 1 view .LVU4
  30:Device/Src/soft_uart.c ****     uint8_t length;
  65              		.loc 1 30 5 view .LVU5
  31:Device/Src/soft_uart.c **** 	va_list ap;//
  66              		.loc 1 31 2 view .LVU6
  32:Device/Src/soft_uart.c ****     
  33:Device/Src/soft_uart.c **** 	va_start(ap, fmt);//
  67              		.loc 1 33 2 view .LVU7
  68 001c 0196     		str	r6, [sp, #4]
  34:Device/Src/soft_uart.c **** 	vsnprintf((char*)quick_buffer, SOFT_UART_TRANSMIT_SHORT, fmt, ap);//
  69              		.loc 1 34 2 view .LVU8
  70 001e 3346     		mov	r3, r6
  71 0020 3A46     		mov	r2, r7
  72 0022 4021     		movs	r1, #64
  73 0024 02A8     		add	r0, sp, #8
  74 0026 FFF7FEFF 		bl	vsnprintf
  75              	.LVL2:
  35:Device/Src/soft_uart.c **** 	va_end(ap);
  76              		.loc 1 35 2 view .LVU9
  36:Device/Src/soft_uart.c ****     length = strlen((char*)quick_buffer);
  77              		.loc 1 36 5 view .LVU10
  78              		.loc 1 36 14 is_stmt 0 view .LVU11
  79 002a 02A8     		add	r0, sp, #8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 3


  80 002c FFF7FEFF 		bl	strlen
  81              	.LVL3:
  37:Device/Src/soft_uart.c ****     for (i = 0; i < length; i++) {
  82              		.loc 1 37 5 is_stmt 1 view .LVU12
  83              		.loc 1 37 12 is_stmt 0 view .LVU13
  84 0030 2146     		mov	r1, r4
  85              		.loc 1 37 5 view .LVU14
  86 0032 00E0     		b	.L2
  87              	.LVL4:
  88              	.L3:
  89              		.loc 1 37 29 is_stmt 1 discriminator 2 view .LVU15
  90              		.loc 1 37 30 is_stmt 0 discriminator 2 view .LVU16
  91 0034 0131     		adds	r1, r1, #1
  92              	.LVL5:
  93              	.L2:
  94              		.loc 1 37 17 is_stmt 1 discriminator 1 view .LVU17
  95              		.loc 1 37 5 is_stmt 0 discriminator 1 view .LVU18
  96 0036 8842     		cmp	r0, r1
  97 0038 0FDD     		ble	.L6
  38:Device/Src/soft_uart.c ****         soft_uart->tx_buffer[soft_uart->tx_write] = quick_buffer[i];	//装发送缓冲
  98              		.loc 1 38 9 is_stmt 1 view .LVU19
  99              		.loc 1 38 39 is_stmt 0 view .LVU20
 100 003a 6B88     		ldrh	r3, [r5, #2]
 101              		.loc 1 38 65 view .LVU21
 102 003c 01F14802 		add	r2, r1, #72
 103 0040 6A44     		add	r2, sp, r2
 104 0042 12F8404C 		ldrb	r4, [r2, #-64]	@ zero_extendqisi2
 105              		.loc 1 38 51 view .LVU22
 106 0046 EA18     		adds	r2, r5, r3
 107 0048 D471     		strb	r4, [r2, #7]
  39:Device/Src/soft_uart.c ****         if (++(soft_uart->tx_write) >= SOFT_UART_TRANSMIT_LONG) {
 108              		.loc 1 39 9 is_stmt 1 view .LVU23
 109              		.loc 1 39 13 is_stmt 0 view .LVU24
 110 004a 0133     		adds	r3, r3, #1
 111 004c 9BB2     		uxth	r3, r3
 112              		.loc 1 39 12 view .LVU25
 113 004e 6B80     		strh	r3, [r5, #2]	@ movhi
 114 0050 7F2B     		cmp	r3, #127
 115 0052 EFD9     		bls	.L3
  40:Device/Src/soft_uart.c ****             soft_uart->tx_write = 0;
 116              		.loc 1 40 13 is_stmt 1 view .LVU26
 117              		.loc 1 40 33 is_stmt 0 view .LVU27
 118 0054 0023     		movs	r3, #0
 119 0056 6B80     		strh	r3, [r5, #2]	@ movhi
 120 0058 ECE7     		b	.L3
 121              	.L6:
  41:Device/Src/soft_uart.c ****         }	
  42:Device/Src/soft_uart.c ****     }
  43:Device/Src/soft_uart.c **** }
 122              		.loc 1 43 1 view .LVU28
 123 005a 12B0     		add	sp, sp, #72
 124              	.LCFI3:
 125              		.cfi_def_cfa_offset 32
 126              		@ sp needed
 127 005c BDE8F040 		pop	{r4, r5, r6, r7, lr}
 128              	.LCFI4:
 129              		.cfi_restore 14
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 4


 130              		.cfi_restore 7
 131              		.cfi_restore 6
 132              		.cfi_restore 5
 133              		.cfi_restore 4
 134              		.cfi_def_cfa_offset 12
 135              	.LVL6:
 136              		.loc 1 43 1 view .LVU29
 137 0060 03B0     		add	sp, sp, #12
 138              	.LCFI5:
 139              		.cfi_restore 3
 140              		.cfi_restore 2
 141              		.cfi_restore 1
 142              		.cfi_def_cfa_offset 0
 143 0062 7047     		bx	lr
 144              		.cfi_endproc
 145              	.LFE238:
 147              		.section	.text.devices_receive_byte,"ax",%progbits
 148              		.align	1
 149              		.global	devices_receive_byte
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 154              	devices_receive_byte:
 155              	.LVL7:
 156              	.LFB239:
  44:Device/Src/soft_uart.c **** 
  45:Device/Src/soft_uart.c **** void devices_receive_byte(SoftUart* soft_uart, uint8_t rxBuff)
  46:Device/Src/soft_uart.c **** {
 157              		.loc 1 46 1 is_stmt 1 view -0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161              		@ link register save eliminated.
  47:Device/Src/soft_uart.c ****     if (soft_uart->rx_length == 0 && (rxBuff == ' ' || rxBuff == '\r' ||rxBuff == '\n')) {
 162              		.loc 1 47 5 view .LVU31
 163              		.loc 1 47 18 is_stmt 0 view .LVU32
 164 0000 8388     		ldrh	r3, [r0, #4]
 165              		.loc 1 47 8 view .LVU33
 166 0002 2BB9     		cbnz	r3, .L8
 167              		.loc 1 47 35 discriminator 1 view .LVU34
 168 0004 2029     		cmp	r1, #32
 169 0006 11D0     		beq	.L7
 170              		.loc 1 47 53 discriminator 2 view .LVU35
 171 0008 0D29     		cmp	r1, #13
 172 000a 0FD0     		beq	.L7
 173              		.loc 1 47 71 discriminator 3 view .LVU36
 174 000c 0A29     		cmp	r1, #10
 175 000e 0DD0     		beq	.L7
 176              	.L8:
  48:Device/Src/soft_uart.c ****         return;
  49:Device/Src/soft_uart.c ****     }
  50:Device/Src/soft_uart.c ****     if (soft_uart->rx_length < SOFT_UART_RECEICE_LONG) {
 177              		.loc 1 50 5 is_stmt 1 view .LVU37
 178              		.loc 1 50 8 is_stmt 0 view .LVU38
 179 0010 7F2B     		cmp	r3, #127
 180 0012 0BD8     		bhi	.L7
  51:Device/Src/soft_uart.c ****         soft_uart->rx_buffer[soft_uart->rx_length++] = rxBuff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 5


 181              		.loc 1 51 9 is_stmt 1 view .LVU39
 182              		.loc 1 51 50 is_stmt 0 view .LVU40
 183 0014 5A1C     		adds	r2, r3, #1
 184 0016 92B2     		uxth	r2, r2
 185 0018 8280     		strh	r2, [r0, #4]	@ movhi
 186              		.loc 1 51 54 view .LVU41
 187 001a 0344     		add	r3, r3, r0
 188 001c 83F88710 		strb	r1, [r3, #135]
  52:Device/Src/soft_uart.c ****         if (soft_uart->rx_length >= SOFT_UART_RECEICE_LONG || rxBuff == '\n') {
 189              		.loc 1 52 9 is_stmt 1 view .LVU42
 190              		.loc 1 52 12 is_stmt 0 view .LVU43
 191 0020 7F2A     		cmp	r2, #127
 192 0022 01D8     		bhi	.L10
 193              		.loc 1 52 60 discriminator 1 view .LVU44
 194 0024 0A29     		cmp	r1, #10
 195 0026 01D1     		bne	.L7
 196              	.L10:
  53:Device/Src/soft_uart.c ****             soft_uart->rx_flag = 1;
 197              		.loc 1 53 13 is_stmt 1 view .LVU45
 198              		.loc 1 53 32 is_stmt 0 view .LVU46
 199 0028 0123     		movs	r3, #1
 200 002a 8371     		strb	r3, [r0, #6]
 201              	.L7:
  54:Device/Src/soft_uart.c ****         }
  55:Device/Src/soft_uart.c ****     }
  56:Device/Src/soft_uart.c **** }
 202              		.loc 1 56 1 view .LVU47
 203 002c 7047     		bx	lr
 204              		.cfi_endproc
 205              	.LFE239:
 207              		.section	.text.uart_bus_time,"ax",%progbits
 208              		.align	1
 209              		.global	uart_bus_time
 210              		.syntax unified
 211              		.thumb
 212              		.thumb_func
 214              	uart_bus_time:
 215              	.LFB240:
  57:Device/Src/soft_uart.c **** 
  58:Device/Src/soft_uart.c **** 
  59:Device/Src/soft_uart.c **** void uart_bus_time(void)
  60:Device/Src/soft_uart.c **** {
 216              		.loc 1 60 1 is_stmt 1 view -0
 217              		.cfi_startproc
 218              		@ args = 0, pretend = 0, frame = 24
 219              		@ frame_needed = 0, uses_anonymous_args = 0
 220 0000 10B5     		push	{r4, lr}
 221              	.LCFI6:
 222              		.cfi_def_cfa_offset 8
 223              		.cfi_offset 4, -8
 224              		.cfi_offset 14, -4
 225 0002 86B0     		sub	sp, sp, #24
 226              	.LCFI7:
 227              		.cfi_def_cfa_offset 32
  61:Device/Src/soft_uart.c ****     int i;
 228              		.loc 1 61 5 view .LVU49
  62:Device/Src/soft_uart.c ****     static UartSoftTimer uartTimer[MAX_DEVICES_CHANNEL] = {0};
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 6


 229              		.loc 1 62 5 view .LVU50
  63:Device/Src/soft_uart.c ****     uint16_t input[MAX_DEVICES_CHANNEL] = {0};
 230              		.loc 1 63 5 view .LVU51
 231              		.loc 1 63 14 is_stmt 0 view .LVU52
 232 0004 0023     		movs	r3, #0
 233 0006 0193     		str	r3, [sp, #4]
 234 0008 0293     		str	r3, [sp, #8]
 235 000a 0393     		str	r3, [sp, #12]
 236 000c 0493     		str	r3, [sp, #16]
 237 000e 0593     		str	r3, [sp, #20]
  64:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 238              		.loc 1 64 5 is_stmt 1 view .LVU53
 239              	.LVL8:
 240              		.loc 1 64 5 is_stmt 0 view .LVU54
 241 0010 0AE0     		b	.L12
 242              	.LVL9:
 243              	.L13:
  65:Device/Src/soft_uart.c ****         input[i] = GPIOD->IDR & (DEVICE1_IO_RX << i);
 244              		.loc 1 65 9 is_stmt 1 discriminator 3 view .LVU55
 245              		.loc 1 65 25 is_stmt 0 discriminator 3 view .LVU56
 246 0012 754A     		ldr	r2, .L32
 247 0014 1269     		ldr	r2, [r2, #16]
 248              		.loc 1 65 48 discriminator 3 view .LVU57
 249 0016 4021     		movs	r1, #64
 250 0018 9940     		lsls	r1, r1, r3
 251              		.loc 1 65 31 discriminator 3 view .LVU58
 252 001a 0A40     		ands	r2, r2, r1
 253              		.loc 1 65 18 discriminator 3 view .LVU59
 254 001c 06A9     		add	r1, sp, #24
 255 001e 01EB4301 		add	r1, r1, r3, lsl #1
 256 0022 21F8142C 		strh	r2, [r1, #-20]	@ movhi
  64:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 257              		.loc 1 64 42 is_stmt 1 discriminator 3 view .LVU60
  64:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 258              		.loc 1 64 43 is_stmt 0 discriminator 3 view .LVU61
 259 0026 0133     		adds	r3, r3, #1
 260              	.LVL10:
 261              	.L12:
  64:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 262              		.loc 1 64 17 is_stmt 1 discriminator 1 view .LVU62
  64:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 263              		.loc 1 64 5 is_stmt 0 discriminator 1 view .LVU63
 264 0028 092B     		cmp	r3, #9
 265 002a F2DD     		ble	.L13
  66:Device/Src/soft_uart.c ****     }
  67:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 266              		.loc 1 67 12 view .LVU64
 267 002c 0024     		movs	r4, #0
 268 002e 21E0     		b	.L14
 269              	.LVL11:
 270              	.L30:
  68:Device/Src/soft_uart.c ****         if (uartTimer[i].rxState) {
  69:Device/Src/soft_uart.c ****             if (--(uartTimer[i].rxCount) == 0) {			  //接收数据以定时器的1/3来接收
  70:Device/Src/soft_uart.c ****                 uartTimer[i].rxCount = MULTIPLE_OF_TIEMR;     //重置接收计数器  接收数据以定时器的1
  71:Device/Src/soft_uart.c ****                 if (--(uartTimer[i].rxBit) == 0) {			  //接收完一帧数据
  72:Device/Src/soft_uart.c ****                     uartTimer[i].rxState = 0;               //停止接收			
 271              		.loc 1 72 21 is_stmt 1 view .LVU65
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 7


 272              		.loc 1 72 42 is_stmt 0 view .LVU66
 273 0030 6E4A     		ldr	r2, .L32+4
 274 0032 04EBC403 		add	r3, r4, r4, lsl #3
 275 0036 D118     		adds	r1, r2, r3
 276 0038 0020     		movs	r0, #0
 277 003a D054     		strb	r0, [r2, r3]
  73:Device/Src/soft_uart.c ****                     devices_receive_byte(&uart_dev[i], uartTimer[i].rxData);    //接收字符处理
 278              		.loc 1 73 21 is_stmt 1 view .LVU67
 279 003c 04EB4412 		add	r2, r4, r4, lsl #5
 280 0040 D300     		lsls	r3, r2, #3
 281 0042 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 282 0044 6A48     		ldr	r0, .L32+8
 283 0046 1844     		add	r0, r0, r3
 284 0048 FFF7FEFF 		bl	devices_receive_byte
 285              	.LVL12:
 286 004c 11E0     		b	.L16
 287              	.L15:
  74:Device/Src/soft_uart.c ****                 } else {
  75:Device/Src/soft_uart.c ****                     uartTimer[i].rxData >>= 1;			  //把接收的单bit数据 暂存到 rxData(接收缓冲)
  76:Device/Src/soft_uart.c ****                     if (input[i]) {
  77:Device/Src/soft_uart.c ****                         uartTimer[i].rxData |= 0x80;  
  78:Device/Src/soft_uart.c ****                     }
  79:Device/Src/soft_uart.c ****                 }
  80:Device/Src/soft_uart.c ****             }
  81:Device/Src/soft_uart.c ****         } else if (input[i] == 0) {	//判断是不是开始位 RXB=0;
 288              		.loc 1 81 16 view .LVU68
 289              		.loc 1 81 25 is_stmt 0 view .LVU69
 290 004e 06AB     		add	r3, sp, #24
 291 0050 03EB4403 		add	r3, r3, r4, lsl #1
 292 0054 33F8143C 		ldrh	r3, [r3, #-20]
 293              		.loc 1 81 19 view .LVU70
 294 0058 5BB9     		cbnz	r3, .L16
  82:Device/Src/soft_uart.c ****             uartTimer[i].rxState = 1;       //如果是则设置开始接收标志位 	
 295              		.loc 1 82 13 is_stmt 1 view .LVU71
 296              		.loc 1 82 34 is_stmt 0 view .LVU72
 297 005a 6449     		ldr	r1, .L32+4
 298 005c 04EBC402 		add	r2, r4, r4, lsl #3
 299 0060 8B18     		adds	r3, r1, r2
 300 0062 0120     		movs	r0, #1
 301 0064 8854     		strb	r0, [r1, r2]
  83:Device/Src/soft_uart.c ****             uartTimer[i].rxCount = MULTIPLE_OF_TIEMR + 1;  //错开1/3周期接收，很关键，增强容错能力 
 302              		.loc 1 83 13 is_stmt 1 view .LVU73
 303              		.loc 1 83 34 is_stmt 0 view .LVU74
 304 0066 0422     		movs	r2, #4
 305 0068 5A70     		strb	r2, [r3, #1]
  84:Device/Src/soft_uart.c ****             uartTimer[i].rxBit = UART_DATA_LENGTH;       //初始化接收的数据位数(8个数据位+1个停止位
 306              		.loc 1 84 13 is_stmt 1 view .LVU75
 307              		.loc 1 84 32 is_stmt 0 view .LVU76
 308 006a 0922     		movs	r2, #9
 309 006c 9A70     		strb	r2, [r3, #2]
  85:Device/Src/soft_uart.c ****             uartTimer[i].rxData = 0;
 310              		.loc 1 85 13 is_stmt 1 view .LVU77
 311              		.loc 1 85 33 is_stmt 0 view .LVU78
 312 006e 0022     		movs	r2, #0
 313 0070 DA70     		strb	r2, [r3, #3]
 314              	.L16:
  67:Device/Src/soft_uart.c ****         if (uartTimer[i].rxState) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 8


 315              		.loc 1 67 42 is_stmt 1 discriminator 2 view .LVU79
  67:Device/Src/soft_uart.c ****         if (uartTimer[i].rxState) {
 316              		.loc 1 67 43 is_stmt 0 discriminator 2 view .LVU80
 317 0072 0134     		adds	r4, r4, #1
 318              	.LVL13:
 319              	.L14:
  67:Device/Src/soft_uart.c ****         if (uartTimer[i].rxState) {
 320              		.loc 1 67 17 is_stmt 1 discriminator 1 view .LVU81
  67:Device/Src/soft_uart.c ****         if (uartTimer[i].rxState) {
 321              		.loc 1 67 5 is_stmt 0 discriminator 1 view .LVU82
 322 0074 092C     		cmp	r4, #9
 323 0076 30DC     		bgt	.L29
  68:Device/Src/soft_uart.c ****             if (--(uartTimer[i].rxCount) == 0) {			  //接收数据以定时器的1/3来接收
 324              		.loc 1 68 9 is_stmt 1 view .LVU83
  68:Device/Src/soft_uart.c ****             if (--(uartTimer[i].rxCount) == 0) {			  //接收数据以定时器的1/3来接收
 325              		.loc 1 68 25 is_stmt 0 view .LVU84
 326 0078 04EBC403 		add	r3, r4, r4, lsl #3
 327 007c 5B4A     		ldr	r2, .L32+4
 328 007e D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
  68:Device/Src/soft_uart.c ****             if (--(uartTimer[i].rxCount) == 0) {			  //接收数据以定时器的1/3来接收
 329              		.loc 1 68 12 view .LVU85
 330 0080 002B     		cmp	r3, #0
 331 0082 E4D0     		beq	.L15
  69:Device/Src/soft_uart.c ****                 uartTimer[i].rxCount = MULTIPLE_OF_TIEMR;     //重置接收计数器  接收数据以定时器的1
 332              		.loc 1 69 13 is_stmt 1 view .LVU86
  69:Device/Src/soft_uart.c ****                 uartTimer[i].rxCount = MULTIPLE_OF_TIEMR;     //重置接收计数器  接收数据以定时器的1
 333              		.loc 1 69 32 is_stmt 0 view .LVU87
 334 0084 04EBC403 		add	r3, r4, r4, lsl #3
 335 0088 1A44     		add	r2, r2, r3
 336 008a 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
  69:Device/Src/soft_uart.c ****                 uartTimer[i].rxCount = MULTIPLE_OF_TIEMR;     //重置接收计数器  接收数据以定时器的1
 337              		.loc 1 69 17 view .LVU88
 338 008c 013B     		subs	r3, r3, #1
 339 008e DBB2     		uxtb	r3, r3
  69:Device/Src/soft_uart.c ****                 uartTimer[i].rxCount = MULTIPLE_OF_TIEMR;     //重置接收计数器  接收数据以定时器的1
 340              		.loc 1 69 16 view .LVU89
 341 0090 5370     		strb	r3, [r2, #1]
 342 0092 002B     		cmp	r3, #0
 343 0094 EDD1     		bne	.L16
  70:Device/Src/soft_uart.c ****                 if (--(uartTimer[i].rxBit) == 0) {			  //接收完一帧数据
 344              		.loc 1 70 17 is_stmt 1 view .LVU90
  70:Device/Src/soft_uart.c ****                 if (--(uartTimer[i].rxBit) == 0) {			  //接收完一帧数据
 345              		.loc 1 70 38 is_stmt 0 view .LVU91
 346 0096 04EBC403 		add	r3, r4, r4, lsl #3
 347 009a 544A     		ldr	r2, .L32+4
 348 009c 1A44     		add	r2, r2, r3
 349 009e 0323     		movs	r3, #3
 350 00a0 5370     		strb	r3, [r2, #1]
  71:Device/Src/soft_uart.c ****                     uartTimer[i].rxState = 0;               //停止接收			
 351              		.loc 1 71 17 is_stmt 1 view .LVU92
  71:Device/Src/soft_uart.c ****                     uartTimer[i].rxState = 0;               //停止接收			
 352              		.loc 1 71 36 is_stmt 0 view .LVU93
 353 00a2 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
  71:Device/Src/soft_uart.c ****                     uartTimer[i].rxState = 0;               //停止接收			
 354              		.loc 1 71 21 view .LVU94
 355 00a4 013B     		subs	r3, r3, #1
 356 00a6 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 9


  71:Device/Src/soft_uart.c ****                     uartTimer[i].rxState = 0;               //停止接收			
 357              		.loc 1 71 20 view .LVU95
 358 00a8 9370     		strb	r3, [r2, #2]
 359 00aa 002B     		cmp	r3, #0
 360 00ac C0D0     		beq	.L30
  75:Device/Src/soft_uart.c ****                     if (input[i]) {
 361              		.loc 1 75 21 is_stmt 1 view .LVU96
  75:Device/Src/soft_uart.c ****                     if (input[i]) {
 362              		.loc 1 75 41 is_stmt 0 view .LVU97
 363 00ae 04EBC403 		add	r3, r4, r4, lsl #3
 364 00b2 4E4A     		ldr	r2, .L32+4
 365 00b4 1A44     		add	r2, r2, r3
 366 00b6 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 367 00b8 5B08     		lsrs	r3, r3, #1
 368 00ba D370     		strb	r3, [r2, #3]
  76:Device/Src/soft_uart.c ****                         uartTimer[i].rxData |= 0x80;  
 369              		.loc 1 76 21 is_stmt 1 view .LVU98
  76:Device/Src/soft_uart.c ****                         uartTimer[i].rxData |= 0x80;  
 370              		.loc 1 76 30 is_stmt 0 view .LVU99
 371 00bc 06AA     		add	r2, sp, #24
 372 00be 02EB4402 		add	r2, r2, r4, lsl #1
 373 00c2 32F8142C 		ldrh	r2, [r2, #-20]
  76:Device/Src/soft_uart.c ****                         uartTimer[i].rxData |= 0x80;  
 374              		.loc 1 76 24 view .LVU100
 375 00c6 002A     		cmp	r2, #0
 376 00c8 D3D0     		beq	.L16
  77:Device/Src/soft_uart.c ****                     }
 377              		.loc 1 77 25 is_stmt 1 view .LVU101
  77:Device/Src/soft_uart.c ****                     }
 378              		.loc 1 77 45 is_stmt 0 view .LVU102
 379 00ca 04EBC401 		add	r1, r4, r4, lsl #3
 380 00ce 474A     		ldr	r2, .L32+4
 381 00d0 0A44     		add	r2, r2, r1
 382 00d2 63F07F03 		orn	r3, r3, #127
 383 00d6 D370     		strb	r3, [r2, #3]
 384 00d8 CBE7     		b	.L16
 385              	.L29:
  86:Device/Src/soft_uart.c ****         }
  87:Device/Src/soft_uart.c ****     }
  88:Device/Src/soft_uart.c ****         //---------------------接收与发送分隔线-------------------------------------
  89:Device/Src/soft_uart.c ****     for (i = 0; i < MAX_DEVICES_CHANNEL; i++) {
 386              		.loc 1 89 12 view .LVU103
 387 00da 0023     		movs	r3, #0
 388 00dc 11E0     		b	.L19
 389              	.LVL14:
 390              	.L23:
  90:Device/Src/soft_uart.c ****         if (uartTimer[i].txState == 0 && uart_dev[i].tx_read != uart_dev[i].tx_write)//循环队列
  91:Device/Src/soft_uart.c ****         {
  92:Device/Src/soft_uart.c ****             uartTimer[i].txBuff = uart_dev[i].tx_buffer[uart_dev[i].tx_read];
  93:Device/Src/soft_uart.c ****             if (++(uart_dev[i].tx_read) >= SOFT_UART_TRANSMIT_LONG)	{
  94:Device/Src/soft_uart.c ****                 uart_dev[i].tx_read = 0;
  95:Device/Src/soft_uart.c ****             }
  96:Device/Src/soft_uart.c ****             uartTimer[i].txState = 1;
  97:Device/Src/soft_uart.c ****         }
  98:Device/Src/soft_uart.c ****         if (uartTimer[i].txState != 0)	{		        //发送开始标志位 
  99:Device/Src/soft_uart.c ****             if (--(uartTimer[i].txCount) <= 0) {			//发送数据以定时器的1/3来发送
 100:Device/Src/soft_uart.c ****                 uartTimer[i].txCount = MULTIPLE_OF_TIEMR;				//重置发送计数器 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 10


 101:Device/Src/soft_uart.c ****                 if (uartTimer[i].txBit == 0) {		    //发送计数器为0 表明单字节发送还没开始
 102:Device/Src/soft_uart.c ****                     GPIOE->BSRR = (DEVICE1_TX_L << i);	//发送开始位     				
 103:Device/Src/soft_uart.c ****                     uartTimer[i].txData = uartTimer[i].txBuff;		//把缓冲的数据放到发送的buff		
 104:Device/Src/soft_uart.c ****                     uartTimer[i].txBit = UART_DATA_LENGTH;	//发送数据位数 (8数据位+1停止位)	
 105:Device/Src/soft_uart.c ****                 } else	{				                //发送计数器为非0 正在发送数据
 106:Device/Src/soft_uart.c ****                     if (--(uartTimer[i].txBit) == 0) {    //发送计数器减为0 表明单字节发送结束
 391              		.loc 1 106 21 is_stmt 1 view .LVU104
 392              		.loc 1 106 25 is_stmt 0 view .LVU105
 393 00de 013A     		subs	r2, r2, #1
 394 00e0 D2B2     		uxtb	r2, r2
 395              		.loc 1 106 24 view .LVU106
 396 00e2 03EBC300 		add	r0, r3, r3, lsl #3
 397 00e6 4149     		ldr	r1, .L32+4
 398 00e8 0144     		add	r1, r1, r0
 399 00ea 8A71     		strb	r2, [r1, #6]
 400 00ec 002A     		cmp	r2, #0
 401 00ee 5ED1     		bne	.L24
 107:Device/Src/soft_uart.c ****                         GPIOE->BSRR = (DEVICE1_TX_H << i);		//送停止位数据
 402              		.loc 1 107 25 is_stmt 1 view .LVU107
 403              		.loc 1 107 53 is_stmt 0 view .LVU108
 404 00f0 4022     		movs	r2, #64
 405 00f2 9A40     		lsls	r2, r2, r3
 406              		.loc 1 107 37 view .LVU109
 407 00f4 3F49     		ldr	r1, .L32+12
 408 00f6 8A61     		str	r2, [r1, #24]
 108:Device/Src/soft_uart.c ****                         uartTimer[i].txState = 0;		//发送停止位
 409              		.loc 1 108 25 is_stmt 1 view .LVU110
 410              		.loc 1 108 46 is_stmt 0 view .LVU111
 411 00f8 3C4A     		ldr	r2, .L32+4
 412 00fa 0244     		add	r2, r2, r0
 413 00fc 0021     		movs	r1, #0
 414 00fe 1171     		strb	r1, [r2, #4]
 415              	.L22:
  89:Device/Src/soft_uart.c ****         if (uartTimer[i].txState == 0 && uart_dev[i].tx_read != uart_dev[i].tx_write)//循环队列
 416              		.loc 1 89 42 is_stmt 1 discriminator 2 view .LVU112
  89:Device/Src/soft_uart.c ****         if (uartTimer[i].txState == 0 && uart_dev[i].tx_read != uart_dev[i].tx_write)//循环队列
 417              		.loc 1 89 43 is_stmt 0 discriminator 2 view .LVU113
 418 0100 0133     		adds	r3, r3, #1
 419              	.LVL15:
 420              	.L19:
  89:Device/Src/soft_uart.c ****         if (uartTimer[i].txState == 0 && uart_dev[i].tx_read != uart_dev[i].tx_write)//循环队列
 421              		.loc 1 89 17 is_stmt 1 discriminator 1 view .LVU114
  89:Device/Src/soft_uart.c ****         if (uartTimer[i].txState == 0 && uart_dev[i].tx_read != uart_dev[i].tx_write)//循环队列
 422              		.loc 1 89 5 is_stmt 0 discriminator 1 view .LVU115
 423 0102 092B     		cmp	r3, #9
 424 0104 6DDC     		bgt	.L31
  90:Device/Src/soft_uart.c ****         {
 425              		.loc 1 90 9 is_stmt 1 view .LVU116
  90:Device/Src/soft_uart.c ****         {
 426              		.loc 1 90 25 is_stmt 0 view .LVU117
 427 0106 03EBC301 		add	r1, r3, r3, lsl #3
 428 010a 384A     		ldr	r2, .L32+4
 429 010c 0A44     		add	r2, r2, r1
 430 010e 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
  90:Device/Src/soft_uart.c ****         {
 431              		.loc 1 90 12 view .LVU118
 432 0110 32BB     		cbnz	r2, .L20
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 11


  90:Device/Src/soft_uart.c ****         {
 433              		.loc 1 90 53 discriminator 1 view .LVU119
 434 0112 3749     		ldr	r1, .L32+8
 435 0114 03EB4310 		add	r0, r3, r3, lsl #5
 436 0118 C200     		lsls	r2, r0, #3
 437 011a 8818     		adds	r0, r1, r2
 438 011c 8A5A     		ldrh	r2, [r1, r2]
  90:Device/Src/soft_uart.c ****         {
 439              		.loc 1 90 76 discriminator 1 view .LVU120
 440 011e 4188     		ldrh	r1, [r0, #2]
  90:Device/Src/soft_uart.c ****         {
 441              		.loc 1 90 39 discriminator 1 view .LVU121
 442 0120 8A42     		cmp	r2, r1
 443 0122 1DD0     		beq	.L20
  92:Device/Src/soft_uart.c ****             if (++(uart_dev[i].tx_read) >= SOFT_UART_TRANSMIT_LONG)	{
 444              		.loc 1 92 13 is_stmt 1 view .LVU122
  92:Device/Src/soft_uart.c ****             if (++(uart_dev[i].tx_read) >= SOFT_UART_TRANSMIT_LONG)	{
 445              		.loc 1 92 56 is_stmt 0 view .LVU123
 446 0124 324C     		ldr	r4, .L32+8
 447 0126 03EB4310 		add	r0, r3, r3, lsl #5
 448 012a C100     		lsls	r1, r0, #3
 449 012c 6018     		adds	r0, r4, r1
 450 012e 1044     		add	r0, r0, r2
 451 0130 90F807C0 		ldrb	ip, [r0, #7]	@ zero_extendqisi2
  92:Device/Src/soft_uart.c ****             if (++(uart_dev[i].tx_read) >= SOFT_UART_TRANSMIT_LONG)	{
 452              		.loc 1 92 33 view .LVU124
 453 0134 03EBC30E 		add	lr, r3, r3, lsl #3
 454 0138 2C48     		ldr	r0, .L32+4
 455 013a 7044     		add	r0, r0, lr
 456 013c 80F808C0 		strb	ip, [r0, #8]
  93:Device/Src/soft_uart.c ****                 uart_dev[i].tx_read = 0;
 457              		.loc 1 93 13 is_stmt 1 view .LVU125
  93:Device/Src/soft_uart.c ****                 uart_dev[i].tx_read = 0;
 458              		.loc 1 93 17 is_stmt 0 view .LVU126
 459 0140 0132     		adds	r2, r2, #1
 460 0142 92B2     		uxth	r2, r2
  93:Device/Src/soft_uart.c ****                 uart_dev[i].tx_read = 0;
 461              		.loc 1 93 16 view .LVU127
 462 0144 6252     		strh	r2, [r4, r1]	@ movhi
 463 0146 7F2A     		cmp	r2, #127
 464 0148 04D9     		bls	.L21
  94:Device/Src/soft_uart.c ****             }
 465              		.loc 1 94 17 is_stmt 1 view .LVU128
  94:Device/Src/soft_uart.c ****             }
 466              		.loc 1 94 37 is_stmt 0 view .LVU129
 467 014a 03EB4311 		add	r1, r3, r3, lsl #5
 468 014e CA00     		lsls	r2, r1, #3
 469 0150 0020     		movs	r0, #0
 470 0152 A052     		strh	r0, [r4, r2]	@ movhi
 471              	.L21:
  96:Device/Src/soft_uart.c ****         }
 472              		.loc 1 96 13 is_stmt 1 view .LVU130
  96:Device/Src/soft_uart.c ****         }
 473              		.loc 1 96 34 is_stmt 0 view .LVU131
 474 0154 03EBC301 		add	r1, r3, r3, lsl #3
 475 0158 244A     		ldr	r2, .L32+4
 476 015a 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 12


 477 015c 0121     		movs	r1, #1
 478 015e 1171     		strb	r1, [r2, #4]
 479              	.L20:
  98:Device/Src/soft_uart.c ****             if (--(uartTimer[i].txCount) <= 0) {			//发送数据以定时器的1/3来发送
 480              		.loc 1 98 9 is_stmt 1 view .LVU132
  98:Device/Src/soft_uart.c ****             if (--(uartTimer[i].txCount) <= 0) {			//发送数据以定时器的1/3来发送
 481              		.loc 1 98 25 is_stmt 0 view .LVU133
 482 0160 03EBC301 		add	r1, r3, r3, lsl #3
 483 0164 214A     		ldr	r2, .L32+4
 484 0166 0A44     		add	r2, r2, r1
 485 0168 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
  98:Device/Src/soft_uart.c ****             if (--(uartTimer[i].txCount) <= 0) {			//发送数据以定时器的1/3来发送
 486              		.loc 1 98 12 view .LVU134
 487 016a 002A     		cmp	r2, #0
 488 016c C8D0     		beq	.L22
  99:Device/Src/soft_uart.c ****                 uartTimer[i].txCount = MULTIPLE_OF_TIEMR;				//重置发送计数器 
 489              		.loc 1 99 13 is_stmt 1 view .LVU135
  99:Device/Src/soft_uart.c ****                 uartTimer[i].txCount = MULTIPLE_OF_TIEMR;				//重置发送计数器 
 490              		.loc 1 99 32 is_stmt 0 view .LVU136
 491 016e 0A46     		mov	r2, r1
 492 0170 1E49     		ldr	r1, .L32+4
 493 0172 1144     		add	r1, r1, r2
 494 0174 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
  99:Device/Src/soft_uart.c ****                 uartTimer[i].txCount = MULTIPLE_OF_TIEMR;				//重置发送计数器 
 495              		.loc 1 99 17 view .LVU137
 496 0176 013A     		subs	r2, r2, #1
 497 0178 D2B2     		uxtb	r2, r2
  99:Device/Src/soft_uart.c ****                 uartTimer[i].txCount = MULTIPLE_OF_TIEMR;				//重置发送计数器 
 498              		.loc 1 99 16 view .LVU138
 499 017a 4A71     		strb	r2, [r1, #5]
 500 017c 002A     		cmp	r2, #0
 501 017e BFD1     		bne	.L22
 100:Device/Src/soft_uart.c ****                 if (uartTimer[i].txBit == 0) {		    //发送计数器为0 表明单字节发送还没开始
 502              		.loc 1 100 17 is_stmt 1 view .LVU139
 100:Device/Src/soft_uart.c ****                 if (uartTimer[i].txBit == 0) {		    //发送计数器为0 表明单字节发送还没开始
 503              		.loc 1 100 38 is_stmt 0 view .LVU140
 504 0180 03EBC301 		add	r1, r3, r3, lsl #3
 505 0184 194A     		ldr	r2, .L32+4
 506 0186 0A44     		add	r2, r2, r1
 507 0188 0321     		movs	r1, #3
 508 018a 5171     		strb	r1, [r2, #5]
 101:Device/Src/soft_uart.c ****                     GPIOE->BSRR = (DEVICE1_TX_L << i);	//发送开始位     				
 509              		.loc 1 101 17 is_stmt 1 view .LVU141
 101:Device/Src/soft_uart.c ****                     GPIOE->BSRR = (DEVICE1_TX_L << i);	//发送开始位     				
 510              		.loc 1 101 33 is_stmt 0 view .LVU142
 511 018c 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 101:Device/Src/soft_uart.c ****                     GPIOE->BSRR = (DEVICE1_TX_L << i);	//发送开始位     				
 512              		.loc 1 101 20 view .LVU143
 513 018e 002A     		cmp	r2, #0
 514 0190 A5D1     		bne	.L23
 102:Device/Src/soft_uart.c ****                     uartTimer[i].txData = uartTimer[i].txBuff;		//把缓冲的数据放到发送的buff		
 515              		.loc 1 102 21 is_stmt 1 view .LVU144
 102:Device/Src/soft_uart.c ****                     uartTimer[i].txData = uartTimer[i].txBuff;		//把缓冲的数据放到发送的buff		
 516              		.loc 1 102 49 is_stmt 0 view .LVU145
 517 0192 4FF48002 		mov	r2, #4194304
 518 0196 9A40     		lsls	r2, r2, r3
 102:Device/Src/soft_uart.c ****                     uartTimer[i].txData = uartTimer[i].txBuff;		//把缓冲的数据放到发送的buff		
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 13


 519              		.loc 1 102 33 view .LVU146
 520 0198 1649     		ldr	r1, .L32+12
 521 019a 8A61     		str	r2, [r1, #24]
 103:Device/Src/soft_uart.c ****                     uartTimer[i].txBit = UART_DATA_LENGTH;	//发送数据位数 (8数据位+1停止位)	
 522              		.loc 1 103 21 is_stmt 1 view .LVU147
 103:Device/Src/soft_uart.c ****                     uartTimer[i].txBit = UART_DATA_LENGTH;	//发送数据位数 (8数据位+1停止位)	
 523              		.loc 1 103 55 is_stmt 0 view .LVU148
 524 019c 03EBC301 		add	r1, r3, r3, lsl #3
 525 01a0 124A     		ldr	r2, .L32+4
 526 01a2 0A44     		add	r2, r2, r1
 527 01a4 117A     		ldrb	r1, [r2, #8]	@ zero_extendqisi2
 103:Device/Src/soft_uart.c ****                     uartTimer[i].txBit = UART_DATA_LENGTH;	//发送数据位数 (8数据位+1停止位)	
 528              		.loc 1 103 41 view .LVU149
 529 01a6 D171     		strb	r1, [r2, #7]
 104:Device/Src/soft_uart.c ****                 } else	{				                //发送计数器为非0 正在发送数据
 530              		.loc 1 104 21 is_stmt 1 view .LVU150
 104:Device/Src/soft_uart.c ****                 } else	{				                //发送计数器为非0 正在发送数据
 531              		.loc 1 104 40 is_stmt 0 view .LVU151
 532 01a8 0921     		movs	r1, #9
 533 01aa 9171     		strb	r1, [r2, #6]
 534 01ac A8E7     		b	.L22
 535              	.L24:
 109:Device/Src/soft_uart.c ****                     }	else {                          //先发送低位bit，再发送高位bit
 110:Device/Src/soft_uart.c ****                         if (uartTimer[i].txData & 0x01) {//发送单bit数据	
 536              		.loc 1 110 25 is_stmt 1 view .LVU152
 537              		.loc 1 110 41 is_stmt 0 view .LVU153
 538 01ae 03EBC301 		add	r1, r3, r3, lsl #3
 539 01b2 0E4A     		ldr	r2, .L32+4
 540 01b4 0A44     		add	r2, r2, r1
 541 01b6 D279     		ldrb	r2, [r2, #7]	@ zero_extendqisi2
 542              		.loc 1 110 28 view .LVU154
 543 01b8 12F0010F 		tst	r2, #1
 544 01bc 0BD0     		beq	.L25
 111:Device/Src/soft_uart.c ****                             GPIOE->BSRR = (DEVICE1_TX_H << i);
 545              		.loc 1 111 29 is_stmt 1 view .LVU155
 546              		.loc 1 111 57 is_stmt 0 view .LVU156
 547 01be 4022     		movs	r2, #64
 548 01c0 9A40     		lsls	r2, r2, r3
 549              		.loc 1 111 41 view .LVU157
 550 01c2 0C49     		ldr	r1, .L32+12
 551 01c4 8A61     		str	r2, [r1, #24]
 552              	.L26:
 112:Device/Src/soft_uart.c ****                         } else {
 113:Device/Src/soft_uart.c ****                             GPIOE->BSRR = (DEVICE1_TX_L << i);
 114:Device/Src/soft_uart.c ****                         }			
 115:Device/Src/soft_uart.c ****                         uartTimer[i].txData >>= 1;
 553              		.loc 1 115 25 is_stmt 1 view .LVU158
 554              		.loc 1 115 45 is_stmt 0 view .LVU159
 555 01c6 03EBC301 		add	r1, r3, r3, lsl #3
 556 01ca 084A     		ldr	r2, .L32+4
 557 01cc 0A44     		add	r2, r2, r1
 558 01ce D179     		ldrb	r1, [r2, #7]	@ zero_extendqisi2
 559 01d0 4908     		lsrs	r1, r1, #1
 560 01d2 D171     		strb	r1, [r2, #7]
 561 01d4 94E7     		b	.L22
 562              	.L25:
 113:Device/Src/soft_uart.c ****                         }			
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 14


 563              		.loc 1 113 29 is_stmt 1 view .LVU160
 113:Device/Src/soft_uart.c ****                         }			
 564              		.loc 1 113 57 is_stmt 0 view .LVU161
 565 01d6 4FF48002 		mov	r2, #4194304
 566 01da 9A40     		lsls	r2, r2, r3
 113:Device/Src/soft_uart.c ****                         }			
 567              		.loc 1 113 41 view .LVU162
 568 01dc 0549     		ldr	r1, .L32+12
 569 01de 8A61     		str	r2, [r1, #24]
 570 01e0 F1E7     		b	.L26
 571              	.L31:
 116:Device/Src/soft_uart.c ****                     }
 117:Device/Src/soft_uart.c ****                 }
 118:Device/Src/soft_uart.c ****             }
 119:Device/Src/soft_uart.c ****         }
 120:Device/Src/soft_uart.c ****     }
 121:Device/Src/soft_uart.c **** }...
 572              		.loc 1 121 1 view .LVU163
 573 01e2 06B0     		add	sp, sp, #24
 574              	.LCFI8:
 575              		.cfi_def_cfa_offset 8
 576              		@ sp needed
 577 01e4 10BD     		pop	{r4, pc}
 578              	.L33:
 579 01e6 00BF     		.align	2
 580              	.L32:
 581 01e8 000C0240 		.word	1073875968
 582 01ec 00000000 		.word	.LANCHOR0
 583 01f0 00000000 		.word	.LANCHOR1
 584 01f4 00100240 		.word	1073876992
 585              		.cfi_endproc
 586              	.LFE240:
 588              		.global	uart_dev
 589              		.section	.bss.uartTimer.0,"aw",%nobits
 590              		.align	2
 591              		.set	.LANCHOR0,. + 0
 594              	uartTimer.0:
 595 0000 00000000 		.space	90
 595      00000000 
 595      00000000 
 595      00000000 
 595      00000000 
 596              		.section	.bss.uart_dev,"aw",%nobits
 597              		.align	2
 598              		.set	.LANCHOR1,. + 0
 601              	uart_dev:
 602 0000 00000000 		.space	2640
 602      00000000 
 602      00000000 
 602      00000000 
 602      00000000 
 603              		.text
 604              	.Letext0:
 605              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 606              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 607              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 608              		.file 5 "Device/Inc/soft_uart.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 15


 609              		.file 6 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\
 610              		.file 7 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\stdio.h"
 611              		.file 8 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 612              		.file 9 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 soft_uart.c
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:20     .text.devices_printf:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:26     .text.devices_printf:00000000 devices_printf
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:148    .text.devices_receive_byte:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:154    .text.devices_receive_byte:00000000 devices_receive_byte
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:208    .text.uart_bus_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:214    .text.uart_bus_time:00000000 uart_bus_time
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:581    .text.uart_bus_time:000001e8 $d
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:601    .bss.uart_dev:00000000 uart_dev
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:590    .bss.uartTimer.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:594    .bss.uartTimer.0:00000000 uartTimer.0
C:\Users\86158\AppData\Local\Temp\cc6LIbIT.s:597    .bss.uart_dev:00000000 $d

UNDEFINED SYMBOLS
memset
vsnprintf
strlen
