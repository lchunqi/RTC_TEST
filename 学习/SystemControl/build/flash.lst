ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"flash.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.FLASH_ReadWord,"ax",%progbits
  20              		.align	1
  21              		.global	FLASH_ReadWord
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	FLASH_ReadWord:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "Device/Src/flash.c"
   1:Device/Src/flash.c **** 
   2:Device/Src/flash.c **** #include "string.h"
   3:Device/Src/flash.c **** #include "flash.h"
   4:Device/Src/flash.c **** 
   5:Device/Src/flash.c **** 
   6:Device/Src/flash.c **** 
   7:Device/Src/flash.c **** 
   8:Device/Src/flash.c **** 
   9:Device/Src/flash.c **** uint32_t FLASH_ReadWord(uint32_t Addr) 
  10:Device/Src/flash.c **** {
  30              		.loc 1 10 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  11:Device/Src/flash.c **** 	return *(uint32_t *)Addr;
  35              		.loc 1 11 2 view .LVU1
  12:Device/Src/flash.c **** }
  36              		.loc 1 12 1 is_stmt 0 view .LVU2
  37 0000 0068     		ldr	r0, [r0]
  38              	.LVL1:
  39              		.loc 1 12 1 view .LVU3
  40 0002 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE235:
  44              		.section	.text.BSP_EnableIrq,"ax",%progbits
  45              		.align	1
  46              		.global	BSP_EnableIrq
  47              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 2


  48              		.thumb
  49              		.thumb_func
  51              	BSP_EnableIrq:
  52              	.LFB236:
  13:Device/Src/flash.c **** 
  14:Device/Src/flash.c **** void BSP_EnableIrq() {
  53              		.loc 1 14 22 is_stmt 1 view -0
  54              		.cfi_startproc
  55              		@ args = 0, pretend = 0, frame = 0
  56              		@ frame_needed = 0, uses_anonymous_args = 0
  57              		@ link register save eliminated.
  15:Device/Src/flash.c **** 	__set_PRIMASK(0);//
  58              		.loc 1 15 2 view .LVU5
  59              	.LVL2:
  60              	.LBB6:
  61              	.LBI6:
  62              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 3


  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 4


  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 143:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 144:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 145:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 146:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 150:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 151:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 152:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 154:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 5


 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 157:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 158:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 159:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 160:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 161:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 164:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 168:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 170:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 171:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 177:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 178:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 179:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 180:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 183:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 187:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 188:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 189:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 190:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 191:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 193:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 194:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 198:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 201:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 202:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 205:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 206:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 207:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 210:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 6


 212:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 213:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 214:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 215:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 216:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 217:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               APSR Register value
 218:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
 220:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 221:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 222:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 223:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 224:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 225:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 226:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 227:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 229:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 230:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               xPSR Register value
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 233:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 235:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 239:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 240:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 241:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 243:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 244:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 245:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 246:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 247:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
 248:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 249:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 250:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 251:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
 252:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 253:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 254:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 255:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 256:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 257:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 258:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
 259:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
 260:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 261:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 262:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 264:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 265:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 266:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
 267:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 268:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 7


 269:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 270:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 271:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 273:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 274:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 275:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 277:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
 278:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 279:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
 280:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 281:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 282:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 283:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 284:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 285:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 286:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
 287:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 288:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 289:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
 290:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 291:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
 292:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 293:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 294:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 295:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 296:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 297:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 298:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 299:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 300:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 301:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
 302:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 303:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 304:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 305:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
 306:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 307:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 308:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 309:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 310:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 311:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 312:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
 313:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
 314:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 315:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 316:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
 317:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 318:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 319:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 320:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
 321:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 322:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 323:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 324:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 325:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 8


 326:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 327:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 328:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
 329:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 330:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 331:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
 332:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 333:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
 334:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 335:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 336:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 337:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 338:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 339:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer (non-secure)
 340:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer (MSP) when in secure state.
 341:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 342:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 343:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSP_NS(uint32_t topOfMainStack)
 344:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 345:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp_ns, %0" : : "r" (topOfMainStack) : );
 346:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 347:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 348:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 349:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 350:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 351:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 352:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Stack Pointer (non-secure)
 353:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Stack Pointer (SP) when in secure state.
 354:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               SP Register value
 355:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 356:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_SP_NS(void)
 357:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 358:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 359:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 360:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, sp_ns" : "=r" (result) );
 361:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 362:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 363:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 364:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 365:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 366:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Stack Pointer (non-secure)
 367:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Stack Pointer (SP) when in secure state.
 368:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfStack  Stack Pointer value to set
 369:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 370:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_SP_NS(uint32_t topOfStack)
 371:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 372:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR sp_ns, %0" : : "r" (topOfStack) : );
 373:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 374:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 375:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 376:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 377:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 378:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask
 379:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the priority mask bit from the Priority Mask Register.
 380:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 381:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 382:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PRIMASK(void)
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 9


 383:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 384:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 385:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 386:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) :: "memory");
 387:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 388:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 389:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 390:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 391:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 392:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 393:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask (non-secure)
 394:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the non-secure priority mask bit from the Priority Mask Reg
 395:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 396:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 397:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PRIMASK_NS(void)
 398:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 399:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 400:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 401:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask_ns" : "=r" (result) :: "memory");
 402:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 403:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 404:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 405:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 406:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 407:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 408:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Priority Mask
 409:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Priority Mask Register.
 410:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 411:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 412:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PRIMASK(uint32_t priMask)
  63              		.loc 2 412 27 view .LVU6
  64              	.LBB7:
 413:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 414:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
  65              		.loc 2 414 3 view .LVU7
  66 0000 0023     		movs	r3, #0
  67              		.syntax unified
  68              	@ 414 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
  69 0002 83F31088 		MSR primask, r3
  70              	@ 0 "" 2
  71              	.LVL3:
  72              		.loc 2 414 3 is_stmt 0 view .LVU8
  73              		.thumb
  74              		.syntax unified
  75              	.LBE7:
  76              	.LBE6:
  16:Device/Src/flash.c **** }
  77              		.loc 1 16 1 view .LVU9
  78 0006 7047     		bx	lr
  79              		.cfi_endproc
  80              	.LFE236:
  82              		.section	.text.BSP_DisableIrq,"ax",%progbits
  83              		.align	1
  84              		.global	BSP_DisableIrq
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 10


  89              	BSP_DisableIrq:
  90              	.LFB237:
  17:Device/Src/flash.c **** 
  18:Device/Src/flash.c **** void BSP_DisableIrq() {
  91              		.loc 1 18 23 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
  19:Device/Src/flash.c **** 	__set_PRIMASK(1);
  96              		.loc 1 19 2 view .LVU11
  97              	.LVL4:
  98              	.LBB8:
  99              	.LBI8:
 412:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 100              		.loc 2 412 27 view .LVU12
 101              	.LBB9:
 102              		.loc 2 414 3 view .LVU13
 103 0000 0123     		movs	r3, #1
 104              		.syntax unified
 105              	@ 414 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 106 0002 83F31088 		MSR primask, r3
 107              	@ 0 "" 2
 108              	.LVL5:
 109              		.loc 2 414 3 is_stmt 0 view .LVU14
 110              		.thumb
 111              		.syntax unified
 112              	.LBE9:
 113              	.LBE8:
  20:Device/Src/flash.c **** }
 114              		.loc 1 20 1 view .LVU15
 115 0006 7047     		bx	lr
 116              		.cfi_endproc
 117              	.LFE237:
 119              		.section	.text.ClearUpdateStateFlash,"ax",%progbits
 120              		.align	1
 121              		.global	ClearUpdateStateFlash
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 126              	ClearUpdateStateFlash:
 127              	.LFB238:
  21:Device/Src/flash.c **** 
  22:Device/Src/flash.c **** void ClearUpdateStateFlash(void)
  23:Device/Src/flash.c **** {
 128              		.loc 1 23 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 24
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132 0000 10B5     		push	{r4, lr}
 133              	.LCFI0:
 134              		.cfi_def_cfa_offset 8
 135              		.cfi_offset 4, -8
 136              		.cfi_offset 14, -4
 137 0002 86B0     		sub	sp, sp, #24
 138              	.LCFI1:
 139              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 11


  24:Device/Src/flash.c **** 	FLASH_EraseInitTypeDef EraseInitStruct = {0};
 140              		.loc 1 24 2 view .LVU17
 141              		.loc 1 24 25 is_stmt 0 view .LVU18
 142 0004 0024     		movs	r4, #0
 143 0006 0194     		str	r4, [sp, #4]
 144 0008 0294     		str	r4, [sp, #8]
 145 000a 0394     		str	r4, [sp, #12]
 146 000c 0494     		str	r4, [sp, #16]
 147 000e 0594     		str	r4, [sp, #20]
  25:Device/Src/flash.c **** 	uint32_t PageError = 0;
 148              		.loc 1 25 2 is_stmt 1 view .LVU19
 149              		.loc 1 25 11 is_stmt 0 view .LVU20
 150 0010 0094     		str	r4, [sp]
  26:Device/Src/flash.c **** 	HAL_FLASH_Unlock();
 151              		.loc 1 26 2 is_stmt 1 view .LVU21
 152 0012 FFF7FEFF 		bl	HAL_FLASH_Unlock
 153              	.LVL6:
  27:Device/Src/flash.c **** 	
  28:Device/Src/flash.c **** 	EraseInitStruct.TypeErase   = FLASH_TYPEERASE_SECTORS;
 154              		.loc 1 28 2 view .LVU22
 155              		.loc 1 28 30 is_stmt 0 view .LVU23
 156 0016 0194     		str	r4, [sp, #4]
  29:Device/Src/flash.c **** 	EraseInitStruct.Sector        = 3;
 157              		.loc 1 29 2 is_stmt 1 view .LVU24
 158              		.loc 1 29 32 is_stmt 0 view .LVU25
 159 0018 0323     		movs	r3, #3
 160 001a 0393     		str	r3, [sp, #12]
  30:Device/Src/flash.c **** 	EraseInitStruct.NbSectors     = 1;
 161              		.loc 1 30 2 is_stmt 1 view .LVU26
 162              		.loc 1 30 32 is_stmt 0 view .LVU27
 163 001c 0123     		movs	r3, #1
 164 001e 0493     		str	r3, [sp, #16]
  31:Device/Src/flash.c **** 	HAL_FLASHEx_Erase(&EraseInitStruct, &PageError);
 165              		.loc 1 31 2 is_stmt 1 view .LVU28
 166 0020 6946     		mov	r1, sp
 167 0022 01A8     		add	r0, sp, #4
 168 0024 FFF7FEFF 		bl	HAL_FLASHEx_Erase
 169              	.LVL7:
  32:Device/Src/flash.c **** 
  33:Device/Src/flash.c **** 	HAL_FLASH_Lock();
 170              		.loc 1 33 2 view .LVU29
 171 0028 FFF7FEFF 		bl	HAL_FLASH_Lock
 172              	.LVL8:
  34:Device/Src/flash.c **** }
 173              		.loc 1 34 1 is_stmt 0 view .LVU30
 174 002c 06B0     		add	sp, sp, #24
 175              	.LCFI2:
 176              		.cfi_def_cfa_offset 8
 177              		@ sp needed
 178 002e 10BD     		pop	{r4, pc}
 179              		.cfi_endproc
 180              	.LFE238:
 182              		.section	.text.SetUpdateStateFlash,"ax",%progbits
 183              		.align	1
 184              		.global	SetUpdateStateFlash
 185              		.syntax unified
 186              		.thumb
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 12


 187              		.thumb_func
 189              	SetUpdateStateFlash:
 190              	.LVL9:
 191              	.LFB239:
  35:Device/Src/flash.c **** 
  36:Device/Src/flash.c **** void SetUpdateStateFlash(uint32_t name)
  37:Device/Src/flash.c **** {
 192              		.loc 1 37 1 is_stmt 1 view -0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              		.loc 1 37 1 is_stmt 0 view .LVU32
 197 0000 10B5     		push	{r4, lr}
 198              	.LCFI3:
 199              		.cfi_def_cfa_offset 8
 200              		.cfi_offset 4, -8
 201              		.cfi_offset 14, -4
 202 0002 0446     		mov	r4, r0
  38:Device/Src/flash.c **** 	HAL_FLASH_Unlock();
 203              		.loc 1 38 2 is_stmt 1 view .LVU33
 204 0004 FFF7FEFF 		bl	HAL_FLASH_Unlock
 205              	.LVL10:
  39:Device/Src/flash.c **** 
  40:Device/Src/flash.c **** 	HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD, FLASH_UPDATE_STATE_ADDR, name);
 206              		.loc 1 40 2 view .LVU34
 207 0008 2246     		mov	r2, r4
 208 000a 0023     		movs	r3, #0
 209 000c 0349     		ldr	r1, .L8
 210 000e 0220     		movs	r0, #2
 211 0010 FFF7FEFF 		bl	HAL_FLASH_Program
 212              	.LVL11:
  41:Device/Src/flash.c **** 	
  42:Device/Src/flash.c **** 	HAL_FLASH_Lock();
 213              		.loc 1 42 2 view .LVU35
 214 0014 FFF7FEFF 		bl	HAL_FLASH_Lock
 215              	.LVL12:
  43:Device/Src/flash.c **** }
 216              		.loc 1 43 1 is_stmt 0 view .LVU36
 217 0018 10BD     		pop	{r4, pc}
 218              	.LVL13:
 219              	.L9:
 220              		.loc 1 43 1 view .LVU37
 221 001a 00BF     		.align	2
 222              	.L8:
 223 001c 00C00008 		.word	134266880
 224              		.cfi_endproc
 225              	.LFE239:
 227              		.section	.text.SaveStringToFlash,"ax",%progbits
 228              		.align	1
 229              		.global	SaveStringToFlash
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 234              	SaveStringToFlash:
 235              	.LVL14:
 236              	.LFB240:
  44:Device/Src/flash.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 13


  45:Device/Src/flash.c **** 
  46:Device/Src/flash.c **** void SaveStringToFlash(char* s, uint32_t addr)
  47:Device/Src/flash.c **** {
 237              		.loc 1 47 1 is_stmt 1 view -0
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241              		.loc 1 47 1 is_stmt 0 view .LVU39
 242 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 243              	.LCFI4:
 244              		.cfi_def_cfa_offset 24
 245              		.cfi_offset 4, -24
 246              		.cfi_offset 5, -20
 247              		.cfi_offset 6, -16
 248              		.cfi_offset 7, -12
 249              		.cfi_offset 8, -8
 250              		.cfi_offset 14, -4
 251 0004 8046     		mov	r8, r0
 252 0006 0F46     		mov	r7, r1
  48:Device/Src/flash.c **** 	int length = strlen(s);
 253              		.loc 1 48 2 is_stmt 1 view .LVU40
 254              		.loc 1 48 15 is_stmt 0 view .LVU41
 255 0008 FFF7FEFF 		bl	strlen
 256              	.LVL15:
  49:Device/Src/flash.c **** 	uint16_t j;
 257              		.loc 1 49 2 is_stmt 1 view .LVU42
  50:Device/Src/flash.c **** 	uint32_t data = 0;
 258              		.loc 1 50 2 view .LVU43
  51:Device/Src/flash.c **** 	uint32_t address = addr;
 259              		.loc 1 51 2 view .LVU44
  52:Device/Src/flash.c **** 	if (length <= 0) {return;}
 260              		.loc 1 52 2 view .LVU45
 261              		.loc 1 52 5 is_stmt 0 view .LVU46
 262 000c 061E     		subs	r6, r0, #0
 263 000e 40DD     		ble	.L10
  53:Device/Src/flash.c **** 
  54:Device/Src/flash.c **** 	HAL_FLASH_Unlock();
 264              		.loc 1 54 2 is_stmt 1 view .LVU47
 265 0010 FFF7FEFF 		bl	HAL_FLASH_Unlock
 266              	.LVL16:
  55:Device/Src/flash.c **** 	for (j = 0; j < length; j += 4) {
 267              		.loc 1 55 2 view .LVU48
  50:Device/Src/flash.c **** 	uint32_t address = addr;
 268              		.loc 1 50 11 is_stmt 0 view .LVU49
 269 0014 0025     		movs	r5, #0
 270              		.loc 1 55 9 view .LVU50
 271 0016 2C46     		mov	r4, r5
 272              		.loc 1 55 2 view .LVU51
 273 0018 1DE0     		b	.L12
 274              	.LVL17:
 275              	.L13:
  56:Device/Src/flash.c **** 		if (j + 4 <= length) {
  57:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
  58:Device/Src/flash.c **** 		} else {
  59:Device/Src/flash.c **** 			if (length == j + 1) { 
 276              		.loc 1 59 4 is_stmt 1 view .LVU52
 277              		.loc 1 59 20 is_stmt 0 view .LVU53
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 14


 278 001a 591C     		adds	r1, r3, #1
 279              		.loc 1 59 7 view .LVU54
 280 001c B142     		cmp	r1, r6
 281 001e 0FD0     		beq	.L19
  60:Device/Src/flash.c **** 				data = s[j];
  61:Device/Src/flash.c **** 			} else if (length == j + 2) { 
 282              		.loc 1 61 11 is_stmt 1 view .LVU55
 283              		.loc 1 61 27 is_stmt 0 view .LVU56
 284 0020 0233     		adds	r3, r3, #2
 285              		.loc 1 61 14 view .LVU57
 286 0022 B342     		cmp	r3, r6
 287 0024 2BD0     		beq	.L20
  62:Device/Src/flash.c **** 				data =  s[j] + ((uint32_t)s[j + 1] << 8);
  63:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 288              		.loc 1 63 11 is_stmt 1 view .LVU58
 289              		.loc 1 63 14 is_stmt 0 view .LVU59
 290 0026 B242     		cmp	r2, r6
 291 0028 0CD1     		bne	.L14
  64:Device/Src/flash.c **** 				data =  s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16);
 292              		.loc 1 64 5 is_stmt 1 view .LVU60
 293              		.loc 1 64 14 is_stmt 0 view .LVU61
 294 002a 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 295              	.LVL18:
 296              		.loc 1 64 32 view .LVU62
 297 002e 08EB0403 		add	r3, r8, r4
 298 0032 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 299              		.loc 1 64 18 view .LVU63
 300 0034 05EB0225 		add	r5, r5, r2, lsl #8
 301              		.loc 1 64 60 view .LVU64
 302 0038 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 303              		.loc 1 64 10 view .LVU65
 304 003a 05EB0345 		add	r5, r5, r3, lsl #16
 305              	.LVL19:
 306              		.loc 1 64 10 view .LVU66
 307 003e 01E0     		b	.L14
 308              	.L19:
  60:Device/Src/flash.c **** 				data = s[j];
 309              		.loc 1 60 5 is_stmt 1 view .LVU67
  60:Device/Src/flash.c **** 				data = s[j];
 310              		.loc 1 60 13 is_stmt 0 view .LVU68
 311 0040 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 312              	.LVL20:
 313              	.L14:
  65:Device/Src/flash.c **** 			} 
  66:Device/Src/flash.c **** 		}
  67:Device/Src/flash.c **** 		HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD, address, data);
 314              		.loc 1 67 3 is_stmt 1 discriminator 2 view .LVU69
 315 0044 2A46     		mov	r2, r5
 316 0046 0023     		movs	r3, #0
 317 0048 3946     		mov	r1, r7
 318 004a 0220     		movs	r0, #2
 319 004c FFF7FEFF 		bl	HAL_FLASH_Program
 320              	.LVL21:
  68:Device/Src/flash.c **** 		address += 4;
 321              		.loc 1 68 3 discriminator 2 view .LVU70
 322              		.loc 1 68 11 is_stmt 0 discriminator 2 view .LVU71
 323 0050 0437     		adds	r7, r7, #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 15


 324              	.LVL22:
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 325              		.loc 1 55 26 is_stmt 1 discriminator 2 view .LVU72
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 326              		.loc 1 55 28 is_stmt 0 discriminator 2 view .LVU73
 327 0052 0434     		adds	r4, r4, #4
 328              	.LVL23:
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 329              		.loc 1 55 28 discriminator 2 view .LVU74
 330 0054 A4B2     		uxth	r4, r4
 331              	.LVL24:
 332              	.L12:
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 333              		.loc 1 55 14 is_stmt 1 discriminator 1 view .LVU75
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 334              		.loc 1 55 16 is_stmt 0 discriminator 1 view .LVU76
 335 0056 2346     		mov	r3, r4
  55:Device/Src/flash.c **** 		if (j + 4 <= length) {
 336              		.loc 1 55 2 discriminator 1 view .LVU77
 337 0058 B442     		cmp	r4, r6
 338 005a 18DA     		bge	.L21
  56:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 339              		.loc 1 56 3 is_stmt 1 view .LVU78
  56:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 340              		.loc 1 56 13 is_stmt 0 view .LVU79
 341 005c E21C     		adds	r2, r4, #3
  56:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 342              		.loc 1 56 6 view .LVU80
 343 005e B242     		cmp	r2, r6
 344 0060 DBDA     		bge	.L13
  57:Device/Src/flash.c **** 		} else {
 345              		.loc 1 57 4 is_stmt 1 view .LVU81
  57:Device/Src/flash.c **** 		} else {
 346              		.loc 1 57 12 is_stmt 0 view .LVU82
 347 0062 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 348              	.LVL25:
  57:Device/Src/flash.c **** 		} else {
 349              		.loc 1 57 30 view .LVU83
 350 0066 08EB0403 		add	r3, r8, r4
 351 006a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
  57:Device/Src/flash.c **** 		} else {
 352              		.loc 1 57 16 view .LVU84
 353 006c 05EB0225 		add	r5, r5, r2, lsl #8
  57:Device/Src/flash.c **** 		} else {
 354              		.loc 1 57 58 view .LVU85
 355 0070 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
  57:Device/Src/flash.c **** 		} else {
 356              		.loc 1 57 44 view .LVU86
 357 0072 05EB0245 		add	r5, r5, r2, lsl #16
  57:Device/Src/flash.c **** 		} else {
 358              		.loc 1 57 86 view .LVU87
 359 0076 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
  57:Device/Src/flash.c **** 		} else {
 360              		.loc 1 57 9 view .LVU88
 361 0078 05EB0365 		add	r5, r5, r3, lsl #24
 362              	.LVL26:
  57:Device/Src/flash.c **** 		} else {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 16


 363              		.loc 1 57 9 view .LVU89
 364 007c E2E7     		b	.L14
 365              	.L20:
  62:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 366              		.loc 1 62 5 is_stmt 1 view .LVU90
  62:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 367              		.loc 1 62 14 is_stmt 0 view .LVU91
 368 007e 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 369              	.LVL27:
  62:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 370              		.loc 1 62 32 view .LVU92
 371 0082 08EB0403 		add	r3, r8, r4
 372 0086 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  62:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 373              		.loc 1 62 10 view .LVU93
 374 0088 05EB0325 		add	r5, r5, r3, lsl #8
 375              	.LVL28:
  62:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 376              		.loc 1 62 10 view .LVU94
 377 008c DAE7     		b	.L14
 378              	.L21:
  69:Device/Src/flash.c **** 	}
  70:Device/Src/flash.c **** 	HAL_FLASH_Lock();
 379              		.loc 1 70 2 is_stmt 1 view .LVU95
 380 008e FFF7FEFF 		bl	HAL_FLASH_Lock
 381              	.LVL29:
 382              	.L10:
  71:Device/Src/flash.c **** }
 383              		.loc 1 71 1 is_stmt 0 view .LVU96
 384 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 385              		.loc 1 71 1 view .LVU97
 386              		.cfi_endproc
 387              	.LFE240:
 389              		.section	.text.GetStringFromFlash,"ax",%progbits
 390              		.align	1
 391              		.global	GetStringFromFlash
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 396              	GetStringFromFlash:
 397              	.LVL30:
 398              	.LFB241:
  72:Device/Src/flash.c **** 
  73:Device/Src/flash.c **** void GetStringFromFlash(char* target, uint16_t length, uint32_t addr)
  74:Device/Src/flash.c **** {
 399              		.loc 1 74 1 is_stmt 1 view -0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
 403              		@ link register save eliminated.
  75:Device/Src/flash.c **** 	uint16_t i;
 404              		.loc 1 75 2 view .LVU99
  76:Device/Src/flash.c **** 	uint32_t value;
 405              		.loc 1 76 2 view .LVU100
  77:Device/Src/flash.c **** 
  78:Device/Src/flash.c **** 	for (i = 0; i < length; i++) {
 406              		.loc 1 78 2 view .LVU101
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 17


 407              		.loc 1 78 9 is_stmt 0 view .LVU102
 408 0000 0023     		movs	r3, #0
 409              	.LVL31:
 410              		.loc 1 78 14 is_stmt 1 view .LVU103
 411              		.loc 1 78 2 is_stmt 0 view .LVU104
 412 0002 8B42     		cmp	r3, r1
 413 0004 11D2     		bcs	.L32
  74:Device/Src/flash.c **** 	uint16_t i;
 414              		.loc 1 74 1 view .LVU105
 415 0006 10B4     		push	{r4}
 416              	.LCFI5:
 417              		.cfi_def_cfa_offset 4
 418              		.cfi_offset 4, -4
 419              	.L27:
  79:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 420              		.loc 1 79 3 is_stmt 1 view .LVU106
 421              		.loc 1 79 28 is_stmt 0 view .LVU107
 422 0008 9C46     		mov	ip, r3
 423              		.loc 1 79 11 view .LVU108
 424 000a 9C5C     		ldrb	r4, [r3, r2]	@ zero_extendqisi2
 425              	.LVL32:
  80:Device/Src/flash.c **** 		if (value == 0xff || value == 0) {
 426              		.loc 1 80 3 is_stmt 1 view .LVU109
 427              		.loc 1 80 6 is_stmt 0 view .LVU110
 428 000c FF2C     		cmp	r4, #255
 429 000e 06D0     		beq	.L24
 430              		.loc 1 80 21 discriminator 1 view .LVU111
 431 0010 2CB1     		cbz	r4, .L24
  81:Device/Src/flash.c **** 			target[i] = 0;
  82:Device/Src/flash.c **** 			break;
  83:Device/Src/flash.c **** 		}
  84:Device/Src/flash.c **** 		target[i] = value;
 432              		.loc 1 84 3 is_stmt 1 discriminator 2 view .LVU112
 433              		.loc 1 84 13 is_stmt 0 discriminator 2 view .LVU113
 434 0012 C454     		strb	r4, [r0, r3]
  78:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 435              		.loc 1 78 26 is_stmt 1 discriminator 2 view .LVU114
  78:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 436              		.loc 1 78 27 is_stmt 0 discriminator 2 view .LVU115
 437 0014 0133     		adds	r3, r3, #1
 438              	.LVL33:
  78:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 439              		.loc 1 78 27 discriminator 2 view .LVU116
 440 0016 9BB2     		uxth	r3, r3
 441              	.LVL34:
  78:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 442              		.loc 1 78 14 is_stmt 1 discriminator 2 view .LVU117
  78:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 443              		.loc 1 78 2 is_stmt 0 discriminator 2 view .LVU118
 444 0018 8B42     		cmp	r3, r1
 445 001a F5D3     		bcc	.L27
 446 001c 02E0     		b	.L22
 447              	.L24:
  81:Device/Src/flash.c **** 			target[i] = 0;
 448              		.loc 1 81 4 is_stmt 1 view .LVU119
  81:Device/Src/flash.c **** 			target[i] = 0;
 449              		.loc 1 81 14 is_stmt 0 view .LVU120
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 18


 450 001e 0023     		movs	r3, #0
 451              	.LVL35:
  81:Device/Src/flash.c **** 			target[i] = 0;
 452              		.loc 1 81 14 view .LVU121
 453 0020 00F80C30 		strb	r3, [r0, ip]
  82:Device/Src/flash.c **** 		}
 454              		.loc 1 82 4 is_stmt 1 view .LVU122
 455              	.L22:
  85:Device/Src/flash.c **** 	}
  86:Device/Src/flash.c **** }
 456              		.loc 1 86 1 is_stmt 0 view .LVU123
 457 0024 5DF8044B 		ldr	r4, [sp], #4
 458              	.LCFI6:
 459              		.cfi_restore 4
 460              		.cfi_def_cfa_offset 0
 461              	.LVL36:
 462              		.loc 1 86 1 view .LVU124
 463 0028 7047     		bx	lr
 464              	.LVL37:
 465              	.L32:
 466              		.loc 1 86 1 view .LVU125
 467 002a 7047     		bx	lr
 468              		.cfi_endproc
 469              	.LFE241:
 471              		.section	.text.ClearStateFlash,"ax",%progbits
 472              		.align	1
 473              		.global	ClearStateFlash
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 478              	ClearStateFlash:
 479              	.LVL38:
 480              	.LFB242:
  87:Device/Src/flash.c **** 
  88:Device/Src/flash.c **** 
  89:Device/Src/flash.c **** void ClearStateFlash(uint8_t mode)
  90:Device/Src/flash.c **** {
 481              		.loc 1 90 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 48
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              		.loc 1 90 1 is_stmt 0 view .LVU127
 486 0000 00B5     		push	{lr}
 487              	.LCFI7:
 488              		.cfi_def_cfa_offset 4
 489              		.cfi_offset 14, -4
 490 0002 8DB0     		sub	sp, sp, #52
 491              	.LCFI8:
 492              		.cfi_def_cfa_offset 56
  91:Device/Src/flash.c **** 	char bsn[BSN_NAME_LENGTH] = {0};
 493              		.loc 1 91 2 is_stmt 1 view .LVU128
 494              		.loc 1 91 7 is_stmt 0 view .LVU129
 495 0004 0023     		movs	r3, #0
 496 0006 0893     		str	r3, [sp, #32]
 497 0008 0993     		str	r3, [sp, #36]
 498 000a 0A93     		str	r3, [sp, #40]
 499 000c 0B93     		str	r3, [sp, #44]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 19


  92:Device/Src/flash.c **** 	char version[VERSION_NAME_LENGTH] = {0};
 500              		.loc 1 92 2 is_stmt 1 view .LVU130
 501              		.loc 1 92 7 is_stmt 0 view .LVU131
 502 000e 0093     		str	r3, [sp]
 503 0010 0193     		str	r3, [sp, #4]
 504 0012 0293     		str	r3, [sp, #8]
 505 0014 0393     		str	r3, [sp, #12]
 506 0016 0493     		str	r3, [sp, #16]
 507 0018 0593     		str	r3, [sp, #20]
 508 001a 0693     		str	r3, [sp, #24]
 509 001c 0793     		str	r3, [sp, #28]
  93:Device/Src/flash.c **** 	switch (mode) {
 510              		.loc 1 93 2 is_stmt 1 view .LVU132
 511 001e 0328     		cmp	r0, #3
 512 0020 05D8     		bhi	.L33
 513 0022 DFE800F0 		tbb	[pc, r0]
 514              	.L36:
 515 0026 02       		.byte	(.L39-.L36)/2
 516 0027 07       		.byte	(.L38-.L36)/2
 517 0028 17       		.byte	(.L37-.L36)/2
 518 0029 27       		.byte	(.L35-.L36)/2
 519              		.p2align 1
 520              	.L39:
  94:Device/Src/flash.c **** 		case CLEAR_ALL://
  95:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 521              		.loc 1 95 4 view .LVU133
 522 002a FFF7FEFF 		bl	ClearUpdateStateFlash
 523              	.LVL39:
  96:Device/Src/flash.c **** 		break;
 524              		.loc 1 96 3 view .LVU134
 525              	.L33:
  97:Device/Src/flash.c **** 		case CLEAR_ONLY_BSN://BSN
  98:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
  99:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 100:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 101:Device/Src/flash.c **** 				SaveStringToFlash(version, FLASH_VERSION_ADDR);
 102:Device/Src/flash.c **** 			}
 103:Device/Src/flash.c **** 		break;
 104:Device/Src/flash.c **** 		case CLEAR_ONLY_VERSION://
 105:Device/Src/flash.c **** 			GetStringFromFlash(bsn, BSN_NAME_LENGTH - 1, FLASH_BSN_ADDR);
 106:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 107:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 108:Device/Src/flash.c **** 				SaveStringToFlash(bsn, FLASH_BSN_ADDR);
 109:Device/Src/flash.c **** 			}
 110:Device/Src/flash.c **** 		break;
 111:Device/Src/flash.c **** 		case CLEAR_ONLY_UPDATE://
 112:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
 113:Device/Src/flash.c **** 			GetStringFromFlash(bsn, BSN_NAME_LENGTH - 1, FLASH_BSN_ADDR);
 114:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 115:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 116:Device/Src/flash.c **** 				SaveStringToFlash(bsn, FLASH_BSN_ADDR);
 117:Device/Src/flash.c **** 			}
 118:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 119:Device/Src/flash.c **** 				SaveStringToFlash(version, FLASH_VERSION_ADDR);
 120:Device/Src/flash.c **** 			}
 121:Device/Src/flash.c **** 		break;//wifitcp
 122:Device/Src/flash.c **** 		default:break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 20


 123:Device/Src/flash.c **** 	}
 124:Device/Src/flash.c **** 
 125:Device/Src/flash.c **** }...
 526              		.loc 1 125 1 is_stmt 0 view .LVU135
 527 002e 0DB0     		add	sp, sp, #52
 528              	.LCFI9:
 529              		.cfi_remember_state
 530              		.cfi_def_cfa_offset 4
 531              		@ sp needed
 532 0030 5DF804FB 		ldr	pc, [sp], #4
 533              	.LVL40:
 534              	.L38:
 535              	.LCFI10:
 536              		.cfi_restore_state
  98:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
 537              		.loc 1 98 4 is_stmt 1 view .LVU136
 538 0034 1E4A     		ldr	r2, .L43
 539 0036 1F21     		movs	r1, #31
 540 0038 6846     		mov	r0, sp
 541              	.LVL41:
  98:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
 542              		.loc 1 98 4 is_stmt 0 view .LVU137
 543 003a FFF7FEFF 		bl	GetStringFromFlash
 544              	.LVL42:
  99:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 545              		.loc 1 99 4 is_stmt 1 view .LVU138
 546 003e FFF7FEFF 		bl	ClearUpdateStateFlash
 547              	.LVL43:
 100:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 548              		.loc 1 100 4 view .LVU139
 100:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 549              		.loc 1 100 24 is_stmt 0 view .LVU140
 550 0042 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 100:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 551              		.loc 1 100 7 view .LVU141
 552 0046 002B     		cmp	r3, #0
 553 0048 F1D0     		beq	.L33
 101:Device/Src/flash.c **** 				SaveStringToFlash(version, FLASH_VERSION_ADDR);
 554              		.loc 1 101 5 is_stmt 1 view .LVU142
 555 004a 1949     		ldr	r1, .L43
 556 004c 6846     		mov	r0, sp
 557 004e FFF7FEFF 		bl	SaveStringToFlash
 558              	.LVL44:
 559 0052 ECE7     		b	.L33
 560              	.LVL45:
 561              	.L37:
 105:Device/Src/flash.c **** 			GetStringFromFlash(bsn, BSN_NAME_LENGTH - 1, FLASH_BSN_ADDR);
 562              		.loc 1 105 4 view .LVU143
 563 0054 174A     		ldr	r2, .L43+4
 564 0056 0F21     		movs	r1, #15
 565 0058 08A8     		add	r0, sp, #32
 566              	.LVL46:
 105:Device/Src/flash.c **** 			GetStringFromFlash(bsn, BSN_NAME_LENGTH - 1, FLASH_BSN_ADDR);
 567              		.loc 1 105 4 is_stmt 0 view .LVU144
 568 005a FFF7FEFF 		bl	GetStringFromFlash
 569              	.LVL47:
 106:Device/Src/flash.c **** 			ClearUpdateStateFlash();
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 21


 570              		.loc 1 106 4 is_stmt 1 view .LVU145
 571 005e FFF7FEFF 		bl	ClearUpdateStateFlash
 572              	.LVL48:
 107:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 573              		.loc 1 107 4 view .LVU146
 107:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 574              		.loc 1 107 20 is_stmt 0 view .LVU147
 575 0062 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
 107:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 576              		.loc 1 107 7 view .LVU148
 577 0066 002B     		cmp	r3, #0
 578 0068 E1D0     		beq	.L33
 108:Device/Src/flash.c **** 				SaveStringToFlash(bsn, FLASH_BSN_ADDR);
 579              		.loc 1 108 5 is_stmt 1 view .LVU149
 580 006a 1249     		ldr	r1, .L43+4
 581 006c 08A8     		add	r0, sp, #32
 582 006e FFF7FEFF 		bl	SaveStringToFlash
 583              	.LVL49:
 584 0072 DCE7     		b	.L33
 585              	.LVL50:
 586              	.L35:
 112:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
 587              		.loc 1 112 4 view .LVU150
 588 0074 0E4A     		ldr	r2, .L43
 589 0076 1F21     		movs	r1, #31
 590 0078 6846     		mov	r0, sp
 591              	.LVL51:
 112:Device/Src/flash.c **** 			GetStringFromFlash(version, VERSION_NAME_LENGTH - 1, FLASH_VERSION_ADDR);
 592              		.loc 1 112 4 is_stmt 0 view .LVU151
 593 007a FFF7FEFF 		bl	GetStringFromFlash
 594              	.LVL52:
 113:Device/Src/flash.c **** 			GetStringFromFlash(bsn, BSN_NAME_LENGTH - 1, FLASH_BSN_ADDR);
 595              		.loc 1 113 4 is_stmt 1 view .LVU152
 596 007e 0D4A     		ldr	r2, .L43+4
 597 0080 0F21     		movs	r1, #15
 598 0082 08A8     		add	r0, sp, #32
 599 0084 FFF7FEFF 		bl	GetStringFromFlash
 600              	.LVL53:
 114:Device/Src/flash.c **** 			ClearUpdateStateFlash();
 601              		.loc 1 114 4 view .LVU153
 602 0088 FFF7FEFF 		bl	ClearUpdateStateFlash
 603              	.LVL54:
 115:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 604              		.loc 1 115 4 view .LVU154
 115:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 605              		.loc 1 115 20 is_stmt 0 view .LVU155
 606 008c 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
 115:Device/Src/flash.c **** 			if (strlen(bsn) > 0) {
 607              		.loc 1 115 7 view .LVU156
 608 0090 43B9     		cbnz	r3, .L42
 609              	.L40:
 118:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 610              		.loc 1 118 4 is_stmt 1 view .LVU157
 118:Device/Src/flash.c **** 			if (strlen(version) > 0) {
 611              		.loc 1 118 24 is_stmt 0 view .LVU158
 612 0092 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 118:Device/Src/flash.c **** 			if (strlen(version) > 0) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 22


 613              		.loc 1 118 7 view .LVU159
 614 0096 002B     		cmp	r3, #0
 615 0098 C9D0     		beq	.L33
 119:Device/Src/flash.c **** 				SaveStringToFlash(version, FLASH_VERSION_ADDR);
 616              		.loc 1 119 5 is_stmt 1 view .LVU160
 617 009a 0549     		ldr	r1, .L43
 618 009c 6846     		mov	r0, sp
 619 009e FFF7FEFF 		bl	SaveStringToFlash
 620              	.LVL55:
 621              		.loc 1 125 1 is_stmt 0 view .LVU161
 622 00a2 C4E7     		b	.L33
 623              	.L42:
 116:Device/Src/flash.c **** 				SaveStringToFlash(bsn, FLASH_BSN_ADDR);
 624              		.loc 1 116 5 is_stmt 1 view .LVU162
 625 00a4 0349     		ldr	r1, .L43+4
 626 00a6 08A8     		add	r0, sp, #32
 627 00a8 FFF7FEFF 		bl	SaveStringToFlash
 628              	.LVL56:
 629 00ac F1E7     		b	.L40
 630              	.L44:
 631 00ae 00BF     		.align	2
 632              	.L43:
 633 00b0 00C10008 		.word	134267136
 634 00b4 40C10008 		.word	134267200
 635              		.cfi_endproc
 636              	.LFE242:
 638              		.text
 639              	.Letext0:
 640              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 641              		.file 4 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 642              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_flash_ex.h"
 643              		.file 6 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 644              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_flash.h"
 645              		.file 8 "Device/Inc/flash.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccicLJB3.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 flash.c
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:20     .text.FLASH_ReadWord:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:26     .text.FLASH_ReadWord:00000000 FLASH_ReadWord
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:45     .text.BSP_EnableIrq:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:51     .text.BSP_EnableIrq:00000000 BSP_EnableIrq
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:83     .text.BSP_DisableIrq:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:89     .text.BSP_DisableIrq:00000000 BSP_DisableIrq
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:120    .text.ClearUpdateStateFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:126    .text.ClearUpdateStateFlash:00000000 ClearUpdateStateFlash
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:183    .text.SetUpdateStateFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:189    .text.SetUpdateStateFlash:00000000 SetUpdateStateFlash
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:223    .text.SetUpdateStateFlash:0000001c $d
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:228    .text.SaveStringToFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:234    .text.SaveStringToFlash:00000000 SaveStringToFlash
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:390    .text.GetStringFromFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:396    .text.GetStringFromFlash:00000000 GetStringFromFlash
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:472    .text.ClearStateFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:478    .text.ClearStateFlash:00000000 ClearStateFlash
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:515    .text.ClearStateFlash:00000026 $d
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:519    .text.ClearStateFlash:0000002a $t
C:\Users\86158\AppData\Local\Temp\ccicLJB3.s:633    .text.ClearStateFlash:000000b0 $d

UNDEFINED SYMBOLS
HAL_FLASH_Unlock
HAL_FLASHEx_Erase
HAL_FLASH_Lock
HAL_FLASH_Program
strlen
