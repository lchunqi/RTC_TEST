ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"flash.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.CheckBusy,"ax",%progbits
  20              		.align	1
  21              		.global	CheckBusy
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CheckBusy:
  27              	.LFB235:
  28              		.file 1 "Device/Src/flash.c"
   1:Device/Src/flash.c **** 
   2:Device/Src/flash.c **** #include "main.h"
   3:Device/Src/flash.c **** #include <string.h>
   4:Device/Src/flash.c **** #include "flash.h"
   5:Device/Src/flash.c **** 
   6:Device/Src/flash.c **** //--------------------------------
   7:Device/Src/flash.c **** // flash_read_data函数和flash_write_data函数是最底层的函数
   8:Device/Src/flash.c **** // 可以对25Q64系列的flash进行读写操作
   9:Device/Src/flash.c **** // 但是要注意的是，读和写的长度不能超过页，否则会数据出错
  10:Device/Src/flash.c **** // 另外的封装函数固定读取某些部分的数据，在设计的时候就避免了数据越界
  11:Device/Src/flash.c **** //------------------------------
  12:Device/Src/flash.c **** #define ERASE_SECTOR_ADDR   0x20                   // 
  13:Device/Src/flash.c **** #define ERASE_BLOCK_ADDR    0xd8                    //
  14:Device/Src/flash.c **** #define ERASE_CHIP_ADDR     0xC7                    // 
  15:Device/Src/flash.c **** 
  16:Device/Src/flash.c **** extern SPI_HandleTypeDef hspi1;
  17:Device/Src/flash.c **** #define W25Q64SPI hspi1
  18:Device/Src/flash.c **** uint8_t w25x_read_id = 0x90;                    // 
  19:Device/Src/flash.c **** uint8_t check_addr   = 0x05;                    // 
  20:Device/Src/flash.c **** uint8_t enable_write = 0x06;                    // 
  21:Device/Src/flash.c **** uint8_t write_addr   = 0x02;                    // 
  22:Device/Src/flash.c **** uint8_t read_addr    = 0x03;                    //
  23:Device/Src/flash.c **** uint8_t g_bufferSector[SECTOR_SIZE];
  24:Device/Src/flash.c **** 
  25:Device/Src/flash.c **** #define CS_HIGH     HAL_GPIO_WritePin(GPIOA, GPIO_PIN_15, GPIO_PIN_SET)
  26:Device/Src/flash.c **** #define CS_LOW      HAL_GPIO_WritePin(GPIOA, GPIO_PIN_15, GPIO_PIN_RESET)
  27:Device/Src/flash.c **** int CheckBusy(void)
  28:Device/Src/flash.c **** {
  29              		.loc 1 28 1 view -0
  30              		.cfi_startproc
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 2


  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  29:Device/Src/flash.c ****     uint8_t status = 1;
  43              		.loc 1 29 5 view .LVU1
  44              		.loc 1 29 13 is_stmt 0 view .LVU2
  45 0004 0123     		movs	r3, #1
  46 0006 8DF80730 		strb	r3, [sp, #7]
  30:Device/Src/flash.c ****     int timeCount = 0;
  47              		.loc 1 30 5 is_stmt 1 view .LVU3
  48              	.LVL0:
  31:Device/Src/flash.c **** 
  32:Device/Src/flash.c ****     for (timeCount = 0; timeCount < 20; timeCount++) {
  49              		.loc 1 32 5 view .LVU4
  50              		.loc 1 32 20 is_stmt 0 view .LVU5
  51 000a 0024     		movs	r4, #0
  52              	.LVL1:
  53              	.L2:
  54              		.loc 1 32 25 is_stmt 1 discriminator 1 view .LVU6
  55              		.loc 1 32 5 is_stmt 0 discriminator 1 view .LVU7
  56 000c 132C     		cmp	r4, #19
  57 000e 24DC     		bgt	.L7
  33:Device/Src/flash.c ****         CS_LOW;
  58              		.loc 1 33 9 is_stmt 1 view .LVU8
  59 0010 144D     		ldr	r5, .L8
  60 0012 0022     		movs	r2, #0
  61 0014 4FF40041 		mov	r1, #32768
  62 0018 2846     		mov	r0, r5
  63 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
  64              	.LVL2:
  34:Device/Src/flash.c ****         HAL_SPI_Transmit(&W25Q64SPI, &check_addr, 1, 10);
  65              		.loc 1 34 9 view .LVU9
  66 001e 124E     		ldr	r6, .L8+4
  67 0020 0A23     		movs	r3, #10
  68 0022 0122     		movs	r2, #1
  69 0024 1149     		ldr	r1, .L8+8
  70 0026 3046     		mov	r0, r6
  71 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
  72              	.LVL3:
  35:Device/Src/flash.c ****         HAL_SPI_Receive(&W25Q64SPI, &status, 1, 10);
  73              		.loc 1 35 9 view .LVU10
  74 002c 0A23     		movs	r3, #10
  75 002e 0122     		movs	r2, #1
  76 0030 0DF10701 		add	r1, sp, #7
  77 0034 3046     		mov	r0, r6
  78 0036 FFF7FEFF 		bl	HAL_SPI_Receive
  79              	.LVL4:
  36:Device/Src/flash.c ****         CS_HIGH;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 3


  80              		.loc 1 36 9 view .LVU11
  81 003a 0122     		movs	r2, #1
  82 003c 4FF40041 		mov	r1, #32768
  83 0040 2846     		mov	r0, r5
  84 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
  85              	.LVL5:
  37:Device/Src/flash.c ****         if ((status & 0x01) == 0) { return 1; }
  86              		.loc 1 37 9 view .LVU12
  87              		.loc 1 37 21 is_stmt 0 view .LVU13
  88 0046 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
  89              		.loc 1 37 12 view .LVU14
  90 004a 13F0010F 		tst	r3, #1
  91 004e 06D0     		beq	.L5
  38:Device/Src/flash.c ****         HAL_Delay(1);
  92              		.loc 1 38 9 is_stmt 1 discriminator 2 view .LVU15
  93 0050 0120     		movs	r0, #1
  94 0052 FFF7FEFF 		bl	HAL_Delay
  95              	.LVL6:
  32:Device/Src/flash.c ****         CS_LOW;
  96              		.loc 1 32 41 discriminator 2 view .LVU16
  32:Device/Src/flash.c ****         CS_LOW;
  97              		.loc 1 32 50 is_stmt 0 discriminator 2 view .LVU17
  98 0056 0134     		adds	r4, r4, #1
  99              	.LVL7:
  32:Device/Src/flash.c ****         CS_LOW;
 100              		.loc 1 32 50 discriminator 2 view .LVU18
 101 0058 D8E7     		b	.L2
 102              	.L7:
  39:Device/Src/flash.c ****     }
  40:Device/Src/flash.c ****     return 0;
 103              		.loc 1 40 12 view .LVU19
 104 005a 0020     		movs	r0, #0
 105 005c 00E0     		b	.L1
 106              	.L5:
  37:Device/Src/flash.c ****         HAL_Delay(1);
 107              		.loc 1 37 44 view .LVU20
 108 005e 0120     		movs	r0, #1
 109              	.L1:
  41:Device/Src/flash.c **** }
 110              		.loc 1 41 1 view .LVU21
 111 0060 02B0     		add	sp, sp, #8
 112              	.LCFI2:
 113              		.cfi_def_cfa_offset 16
 114              		@ sp needed
 115 0062 70BD     		pop	{r4, r5, r6, pc}
 116              	.LVL8:
 117              	.L9:
 118              		.loc 1 41 1 view .LVU22
 119              		.align	2
 120              	.L8:
 121 0064 00000240 		.word	1073872896
 122 0068 00000000 		.word	hspi1
 123 006c 00000000 		.word	.LANCHOR0
 124              		.cfi_endproc
 125              	.LFE235:
 127              		.section	.rodata.flash_device_id.str1.4,"aMS",%progbits,1
 128              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 4


 129              	.LC1:
 130 0000 666C6173 		.ascii	"flash ID is 0x%x%x\012\000"
 130      68204944 
 130      20697320 
 130      30782578 
 130      25780A00 
 131              		.section	.text.flash_device_id,"ax",%progbits
 132              		.align	1
 133              		.global	flash_device_id
 134              		.syntax unified
 135              		.thumb
 136              		.thumb_func
 138              	flash_device_id:
 139              	.LFB236:
  42:Device/Src/flash.c **** 
  43:Device/Src/flash.c **** uint16_t flash_device_id(void)
  44:Device/Src/flash.c **** {
 140              		.loc 1 44 1 is_stmt 1 view -0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 8
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144 0000 30B5     		push	{r4, r5, lr}
 145              	.LCFI3:
 146              		.cfi_def_cfa_offset 12
 147              		.cfi_offset 4, -12
 148              		.cfi_offset 5, -8
 149              		.cfi_offset 14, -4
 150 0002 83B0     		sub	sp, sp, #12
 151              	.LCFI4:
 152              		.cfi_def_cfa_offset 24
  45:Device/Src/flash.c ****     uint8_t buff[5] = {0,0,0,0,0};
 153              		.loc 1 45 5 view .LVU24
 154              		.loc 1 45 13 is_stmt 0 view .LVU25
 155 0004 174B     		ldr	r3, .L12
 156 0006 93E80300 		ldm	r3, {r0, r1}
 157 000a 0090     		str	r0, [sp]
 158 000c 8DF80410 		strb	r1, [sp, #4]
  46:Device/Src/flash.c ****     uint16_t deviceId = 0;
 159              		.loc 1 46 5 is_stmt 1 view .LVU26
 160              	.LVL9:
  47:Device/Src/flash.c ****     CS_LOW;
 161              		.loc 1 47 5 view .LVU27
 162 0010 154C     		ldr	r4, .L12+4
 163 0012 0022     		movs	r2, #0
 164 0014 4FF40041 		mov	r1, #32768
 165 0018 2046     		mov	r0, r4
 166 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 167              	.LVL10:
  48:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &w25x_read_id, 1, 10);
 168              		.loc 1 48 5 view .LVU28
 169 001e 134D     		ldr	r5, .L12+8
 170 0020 0A23     		movs	r3, #10
 171 0022 0122     		movs	r2, #1
 172 0024 1249     		ldr	r1, .L12+12
 173 0026 2846     		mov	r0, r5
 174 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 175              	.LVL11:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 5


  49:Device/Src/flash.c ****     HAL_SPI_Receive(&W25Q64SPI, buff, 5, 10);
 176              		.loc 1 49 5 view .LVU29
 177 002c 0A23     		movs	r3, #10
 178 002e 0522     		movs	r2, #5
 179 0030 6946     		mov	r1, sp
 180 0032 2846     		mov	r0, r5
 181 0034 FFF7FEFF 		bl	HAL_SPI_Receive
 182              	.LVL12:
  50:Device/Src/flash.c ****     CS_HIGH;
 183              		.loc 1 50 5 view .LVU30
 184 0038 0122     		movs	r2, #1
 185 003a 4FF40041 		mov	r1, #32768
 186 003e 2046     		mov	r0, r4
 187 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
 188              	.LVL13:
  51:Device/Src/flash.c ****     UsbPrintf("flash ID is 0x%x%x\n", buff[3], buff[4]);
 189              		.loc 1 51 5 view .LVU31
 190 0044 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 191 0048 9DF80310 		ldrb	r1, [sp, #3]	@ zero_extendqisi2
 192 004c 0948     		ldr	r0, .L12+16
 193 004e FFF7FEFF 		bl	UsbPrintf
 194              	.LVL14:
  52:Device/Src/flash.c ****     deviceId = buff[3];
 195              		.loc 1 52 5 view .LVU32
 196              		.loc 1 52 14 is_stmt 0 view .LVU33
 197 0052 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 198              	.LVL15:
  53:Device/Src/flash.c ****     deviceId = deviceId * 256 + buff[4];
 199              		.loc 1 53 5 is_stmt 1 view .LVU34
 200              		.loc 1 53 37 is_stmt 0 view .LVU35
 201 0056 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 202              		.loc 1 53 14 view .LVU36
 203 005a 00EB0320 		add	r0, r0, r3, lsl #8
 204              	.LVL16:
  54:Device/Src/flash.c ****     return deviceId; 
 205              		.loc 1 54 5 is_stmt 1 view .LVU37
  55:Device/Src/flash.c **** }
 206              		.loc 1 55 1 is_stmt 0 view .LVU38
 207 005e 80B2     		uxth	r0, r0
 208              		.loc 1 55 1 view .LVU39
 209 0060 03B0     		add	sp, sp, #12
 210              	.LCFI5:
 211              		.cfi_def_cfa_offset 12
 212              		@ sp needed
 213 0062 30BD     		pop	{r4, r5, pc}
 214              	.L13:
 215              		.align	2
 216              	.L12:
 217 0064 00000000 		.word	.LANCHOR1
 218 0068 00000240 		.word	1073872896
 219 006c 00000000 		.word	hspi1
 220 0070 00000000 		.word	.LANCHOR2
 221 0074 00000000 		.word	.LC1
 222              		.cfi_endproc
 223              	.LFE236:
 225              		.section	.text.address_32_to_8,"ax",%progbits
 226              		.align	1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 6


 227              		.global	address_32_to_8
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	address_32_to_8:
 233              	.LVL17:
 234              	.LFB237:
  56:Device/Src/flash.c **** 
  57:Device/Src/flash.c **** void address_32_to_8(uint32_t address, uint8_t* addr8)
  58:Device/Src/flash.c **** {
 235              		.loc 1 58 1 is_stmt 1 view -0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 0
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 239              		@ link register save eliminated.
  59:Device/Src/flash.c ****     int i;
 240              		.loc 1 59 5 view .LVU41
  60:Device/Src/flash.c ****     for (i = 2; i >= 0; i--) {
 241              		.loc 1 60 5 view .LVU42
 242              		.loc 1 60 12 is_stmt 0 view .LVU43
 243 0000 0223     		movs	r3, #2
 244              		.loc 1 60 5 view .LVU44
 245 0002 02E0     		b	.L15
 246              	.LVL18:
 247              	.L16:
  61:Device/Src/flash.c ****         addr8[i] = address % 256;
 248              		.loc 1 61 9 is_stmt 1 discriminator 3 view .LVU45
 249              		.loc 1 61 18 is_stmt 0 discriminator 3 view .LVU46
 250 0004 C854     		strb	r0, [r1, r3]
  62:Device/Src/flash.c ****         address = address / 256;
 251              		.loc 1 62 9 is_stmt 1 discriminator 3 view .LVU47
 252              		.loc 1 62 17 is_stmt 0 discriminator 3 view .LVU48
 253 0006 000A     		lsrs	r0, r0, #8
 254              	.LVL19:
  60:Device/Src/flash.c ****     for (i = 2; i >= 0; i--) {
 255              		.loc 1 60 25 is_stmt 1 discriminator 3 view .LVU49
  60:Device/Src/flash.c ****     for (i = 2; i >= 0; i--) {
 256              		.loc 1 60 26 is_stmt 0 discriminator 3 view .LVU50
 257 0008 013B     		subs	r3, r3, #1
 258              	.LVL20:
 259              	.L15:
  60:Device/Src/flash.c ****     for (i = 2; i >= 0; i--) {
 260              		.loc 1 60 17 is_stmt 1 discriminator 1 view .LVU51
  60:Device/Src/flash.c ****     for (i = 2; i >= 0; i--) {
 261              		.loc 1 60 5 is_stmt 0 discriminator 1 view .LVU52
 262 000a 002B     		cmp	r3, #0
 263 000c FADA     		bge	.L16
  63:Device/Src/flash.c ****     }
  64:Device/Src/flash.c **** }
 264              		.loc 1 64 1 view .LVU53
 265 000e 7047     		bx	lr
 266              		.cfi_endproc
 267              	.LFE237:
 269              		.section	.text.flash_erase,"ax",%progbits
 270              		.align	1
 271              		.global	flash_erase
 272              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 7


 273              		.thumb
 274              		.thumb_func
 276              	flash_erase:
 277              	.LVL21:
 278              	.LFB238:
  65:Device/Src/flash.c **** 
  66:Device/Src/flash.c **** int flash_erase(uint32_t address, uint8_t mode)
  67:Device/Src/flash.c **** {
 279              		.loc 1 67 1 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 8
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283              		.loc 1 67 1 is_stmt 0 view .LVU55
 284 0000 30B5     		push	{r4, r5, lr}
 285              	.LCFI6:
 286              		.cfi_def_cfa_offset 12
 287              		.cfi_offset 4, -12
 288              		.cfi_offset 5, -8
 289              		.cfi_offset 14, -4
 290 0002 83B0     		sub	sp, sp, #12
 291              	.LCFI7:
 292              		.cfi_def_cfa_offset 24
 293 0004 0C46     		mov	r4, r1
  68:Device/Src/flash.c ****     uint8_t erase_address;
 294              		.loc 1 68 5 is_stmt 1 view .LVU56
  69:Device/Src/flash.c ****     uint8_t addr[3] = {0};
 295              		.loc 1 69 5 view .LVU57
 296              		.loc 1 69 13 is_stmt 0 view .LVU58
 297 0006 2A4B     		ldr	r3, .L28
 298 0008 1B89     		ldrh	r3, [r3, #8]
 299 000a ADF80430 		strh	r3, [sp, #4]	@ movhi
 300 000e 0023     		movs	r3, #0
 301 0010 8DF80630 		strb	r3, [sp, #6]
  70:Device/Src/flash.c **** 
  71:Device/Src/flash.c ****     address_32_to_8(address, addr);
 302              		.loc 1 71 5 is_stmt 1 view .LVU59
 303 0014 01A9     		add	r1, sp, #4
 304              	.LVL22:
 305              		.loc 1 71 5 is_stmt 0 view .LVU60
 306 0016 FFF7FEFF 		bl	address_32_to_8
 307              	.LVL23:
  72:Device/Src/flash.c ****     if (CheckBusy() <= 0) {
 308              		.loc 1 72 5 is_stmt 1 view .LVU61
 309              		.loc 1 72 9 is_stmt 0 view .LVU62
 310 001a FFF7FEFF 		bl	CheckBusy
 311              	.LVL24:
 312              		.loc 1 72 8 view .LVU63
 313 001e 0028     		cmp	r0, #0
 314 0020 42DD     		ble	.L23
  73:Device/Src/flash.c ****         return -1;
  74:Device/Src/flash.c ****     }
  75:Device/Src/flash.c ****     CS_LOW;
 315              		.loc 1 75 5 is_stmt 1 view .LVU64
 316 0022 244D     		ldr	r5, .L28+4
 317 0024 0022     		movs	r2, #0
 318 0026 4FF40041 		mov	r1, #32768
 319 002a 2846     		mov	r0, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 8


 320 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 321              	.LVL25:
  76:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &enable_write, 1, 10);
 322              		.loc 1 76 5 view .LVU65
 323 0030 0A23     		movs	r3, #10
 324 0032 0122     		movs	r2, #1
 325 0034 2049     		ldr	r1, .L28+8
 326 0036 2148     		ldr	r0, .L28+12
 327 0038 FFF7FEFF 		bl	HAL_SPI_Transmit
 328              	.LVL26:
  77:Device/Src/flash.c ****     CS_HIGH;
 329              		.loc 1 77 5 view .LVU66
 330 003c 0122     		movs	r2, #1
 331 003e 4FF40041 		mov	r1, #32768
 332 0042 2846     		mov	r0, r5
 333 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
 334              	.LVL27:
  78:Device/Src/flash.c ****     switch (mode) {
 335              		.loc 1 78 5 view .LVU67
 336 0048 012C     		cmp	r4, #1
 337 004a 1ED0     		beq	.L19
 338 004c 022C     		cmp	r4, #2
 339 004e 20D0     		beq	.L20
 340 0050 0CB1     		cbz	r4, .L26
 341 0052 0020     		movs	r0, #0
 342 0054 17E0     		b	.L17
 343              	.L26:
  79:Device/Src/flash.c ****         case 0:
  80:Device/Src/flash.c ****             erase_address = ERASE_CHIP_ADDR;
 344              		.loc 1 80 13 view .LVU68
 345              		.loc 1 80 27 is_stmt 0 view .LVU69
 346 0056 C723     		movs	r3, #199
 347 0058 8DF80730 		strb	r3, [sp, #7]
  81:Device/Src/flash.c ****             break;
 348              		.loc 1 81 13 is_stmt 1 view .LVU70
 349              	.L21:
  82:Device/Src/flash.c ****         case 1:
  83:Device/Src/flash.c ****             erase_address = ERASE_BLOCK_ADDR;
  84:Device/Src/flash.c ****             break;
  85:Device/Src/flash.c ****         case 2:
  86:Device/Src/flash.c ****             erase_address = ERASE_SECTOR_ADDR;
  87:Device/Src/flash.c ****             break;
  88:Device/Src/flash.c ****         default:
  89:Device/Src/flash.c ****             return 0;
  90:Device/Src/flash.c ****             break;
 350              		.loc 1 90 13 view .LVU71
  91:Device/Src/flash.c ****     }
  92:Device/Src/flash.c ****     
  93:Device/Src/flash.c ****     CS_LOW;
 351              		.loc 1 93 5 view .LVU72
 352 005c 0022     		movs	r2, #0
 353 005e 4FF40041 		mov	r1, #32768
 354 0062 1448     		ldr	r0, .L28+4
 355 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 356              	.LVL28:
  94:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &erase_address, 1, 10);//
 357              		.loc 1 94 5 view .LVU73
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 9


 358 0068 0A23     		movs	r3, #10
 359 006a 0122     		movs	r2, #1
 360 006c 0DF10701 		add	r1, sp, #7
 361 0070 1248     		ldr	r0, .L28+12
 362 0072 FFF7FEFF 		bl	HAL_SPI_Transmit
 363              	.LVL29:
  95:Device/Src/flash.c ****     if (mode != 0) {                                    // 
 364              		.loc 1 95 5 view .LVU74
 365              		.loc 1 95 8 is_stmt 0 view .LVU75
 366 0076 84B9     		cbnz	r4, .L27
 367              	.L22:
  96:Device/Src/flash.c ****         HAL_SPI_Transmit(&W25Q64SPI, addr, 3, 10);      //****
  97:Device/Src/flash.c ****     }
  98:Device/Src/flash.c ****     CS_HIGH;
 368              		.loc 1 98 5 is_stmt 1 view .LVU76
 369 0078 0122     		movs	r2, #1
 370 007a 4FF40041 		mov	r1, #32768
 371 007e 0D48     		ldr	r0, .L28+4
 372 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 373              	.LVL30:
  99:Device/Src/flash.c ****     return 1;
 374              		.loc 1 99 5 view .LVU77
 375              		.loc 1 99 12 is_stmt 0 view .LVU78
 376 0084 0120     		movs	r0, #1
 377              	.L17:
 100:Device/Src/flash.c **** }
 378              		.loc 1 100 1 view .LVU79
 379 0086 03B0     		add	sp, sp, #12
 380              	.LCFI8:
 381              		.cfi_remember_state
 382              		.cfi_def_cfa_offset 12
 383              		@ sp needed
 384 0088 30BD     		pop	{r4, r5, pc}
 385              	.L19:
 386              	.LCFI9:
 387              		.cfi_restore_state
  83:Device/Src/flash.c ****             break;
 388              		.loc 1 83 13 is_stmt 1 view .LVU80
  83:Device/Src/flash.c ****             break;
 389              		.loc 1 83 27 is_stmt 0 view .LVU81
 390 008a D823     		movs	r3, #216
 391 008c 8DF80730 		strb	r3, [sp, #7]
  84:Device/Src/flash.c ****         case 2:
 392              		.loc 1 84 13 is_stmt 1 view .LVU82
 393 0090 E4E7     		b	.L21
 394              	.L20:
  86:Device/Src/flash.c ****             break;
 395              		.loc 1 86 13 view .LVU83
  86:Device/Src/flash.c ****             break;
 396              		.loc 1 86 27 is_stmt 0 view .LVU84
 397 0092 2023     		movs	r3, #32
 398 0094 8DF80730 		strb	r3, [sp, #7]
  87:Device/Src/flash.c ****         default:
 399              		.loc 1 87 13 is_stmt 1 view .LVU85
 400 0098 E0E7     		b	.L21
 401              	.L27:
  96:Device/Src/flash.c ****     }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 10


 402              		.loc 1 96 9 view .LVU86
 403 009a 0A23     		movs	r3, #10
 404 009c 0322     		movs	r2, #3
 405 009e 01A9     		add	r1, sp, #4
 406 00a0 0648     		ldr	r0, .L28+12
 407 00a2 FFF7FEFF 		bl	HAL_SPI_Transmit
 408              	.LVL31:
 409 00a6 E7E7     		b	.L22
 410              	.L23:
  73:Device/Src/flash.c ****     }
 411              		.loc 1 73 16 is_stmt 0 view .LVU87
 412 00a8 4FF0FF30 		mov	r0, #-1
 413 00ac EBE7     		b	.L17
 414              	.L29:
 415 00ae 00BF     		.align	2
 416              	.L28:
 417 00b0 00000000 		.word	.LANCHOR1
 418 00b4 00000240 		.word	1073872896
 419 00b8 00000000 		.word	.LANCHOR3
 420 00bc 00000000 		.word	hspi1
 421              		.cfi_endproc
 422              	.LFE238:
 424              		.section	.text.flash_write_data,"ax",%progbits
 425              		.align	1
 426              		.global	flash_write_data
 427              		.syntax unified
 428              		.thumb
 429              		.thumb_func
 431              	flash_write_data:
 432              	.LVL32:
 433              	.LFB239:
 101:Device/Src/flash.c **** 
 102:Device/Src/flash.c **** int flash_write_data(uint32_t address, uint8_t* buffer, uint16_t size)
 103:Device/Src/flash.c **** {
 434              		.loc 1 103 1 is_stmt 1 view -0
 435              		.cfi_startproc
 436              		@ args = 0, pretend = 0, frame = 8
 437              		@ frame_needed = 0, uses_anonymous_args = 0
 438              		.loc 1 103 1 is_stmt 0 view .LVU89
 439 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 440              	.LCFI10:
 441              		.cfi_def_cfa_offset 20
 442              		.cfi_offset 4, -20
 443              		.cfi_offset 5, -16
 444              		.cfi_offset 6, -12
 445              		.cfi_offset 7, -8
 446              		.cfi_offset 14, -4
 447 0002 83B0     		sub	sp, sp, #12
 448              	.LCFI11:
 449              		.cfi_def_cfa_offset 32
 104:Device/Src/flash.c ****     uint8_t addr[3] = {0};
 450              		.loc 1 104 5 is_stmt 1 view .LVU90
 451              		.loc 1 104 13 is_stmt 0 view .LVU91
 452 0004 2C4B     		ldr	r3, .L37
 453 0006 1B89     		ldrh	r3, [r3, #8]
 454 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 455 000c 0023     		movs	r3, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 11


 456 000e 8DF80630 		strb	r3, [sp, #6]
 105:Device/Src/flash.c **** 
 106:Device/Src/flash.c ****     if (address >= FLASH_END_ADDR || size > PAGE_SIZE) {
 457              		.loc 1 106 5 is_stmt 1 view .LVU92
 458              		.loc 1 106 8 is_stmt 0 view .LVU93
 459 0012 6FF07F43 		mvn	r3, #-16777216
 460 0016 9842     		cmp	r0, r3
 461 0018 48D2     		bcs	.L32
 462 001a 0446     		mov	r4, r0
 463 001c 0D46     		mov	r5, r1
 464 001e 1646     		mov	r6, r2
 465              		.loc 1 106 35 discriminator 1 view .LVU94
 466 0020 B2F5807F 		cmp	r2, #256
 467 0024 01D9     		bls	.L36
 107:Device/Src/flash.c ****         return 0;
 468              		.loc 1 107 16 view .LVU95
 469 0026 0020     		movs	r0, #0
 470              	.LVL33:
 471              		.loc 1 107 16 view .LVU96
 472 0028 41E0     		b	.L30
 473              	.LVL34:
 474              	.L36:
 108:Device/Src/flash.c ****     }
 109:Device/Src/flash.c ****     if (CheckBusy() == 0) { return 0;  }
 475              		.loc 1 109 5 is_stmt 1 view .LVU97
 476              		.loc 1 109 9 is_stmt 0 view .LVU98
 477 002a FFF7FEFF 		bl	CheckBusy
 478              	.LVL35:
 479              		.loc 1 109 8 view .LVU99
 480 002e 0028     		cmp	r0, #0
 481 0030 3DD0     		beq	.L30
 110:Device/Src/flash.c ****     address_32_to_8(address, addr);
 482              		.loc 1 110 5 is_stmt 1 view .LVU100
 483 0032 01A9     		add	r1, sp, #4
 484 0034 2046     		mov	r0, r4
 485 0036 FFF7FEFF 		bl	address_32_to_8
 486              	.LVL36:
 111:Device/Src/flash.c ****     CS_LOW;
 487              		.loc 1 111 5 view .LVU101
 488 003a 204C     		ldr	r4, .L37+4
 489              	.LVL37:
 490              		.loc 1 111 5 is_stmt 0 view .LVU102
 491 003c 0022     		movs	r2, #0
 492 003e 4FF40041 		mov	r1, #32768
 493 0042 2046     		mov	r0, r4
 494 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
 495              	.LVL38:
 112:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &enable_write, 1, 10);//
 496              		.loc 1 112 5 is_stmt 1 view .LVU103
 497 0048 0A23     		movs	r3, #10
 498 004a 0122     		movs	r2, #1
 499 004c 1C49     		ldr	r1, .L37+8
 500 004e 1D48     		ldr	r0, .L37+12
 501 0050 FFF7FEFF 		bl	HAL_SPI_Transmit
 502              	.LVL39:
 113:Device/Src/flash.c ****     CS_HIGH;
 503              		.loc 1 113 5 view .LVU104
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 12


 504 0054 0122     		movs	r2, #1
 505 0056 4FF40041 		mov	r1, #32768
 506 005a 2046     		mov	r0, r4
 507 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 508              	.LVL40:
 114:Device/Src/flash.c ****     if (CheckBusy() <= 0) {
 509              		.loc 1 114 5 view .LVU105
 510              		.loc 1 114 9 is_stmt 0 view .LVU106
 511 0060 FFF7FEFF 		bl	CheckBusy
 512              	.LVL41:
 513              		.loc 1 114 8 view .LVU107
 514 0064 0028     		cmp	r0, #0
 515 0066 24DD     		ble	.L34
 115:Device/Src/flash.c ****         return -1;
 116:Device/Src/flash.c ****     } 
 117:Device/Src/flash.c **** 
 118:Device/Src/flash.c ****     CS_LOW;
 516              		.loc 1 118 5 is_stmt 1 view .LVU108
 517 0068 2746     		mov	r7, r4
 518 006a 0022     		movs	r2, #0
 519 006c 4FF40041 		mov	r1, #32768
 520 0070 2046     		mov	r0, r4
 521 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 522              	.LVL42:
 119:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &write_addr, 1, 10);//
 523              		.loc 1 119 5 view .LVU109
 524 0076 134C     		ldr	r4, .L37+12
 525 0078 0A23     		movs	r3, #10
 526 007a 0122     		movs	r2, #1
 527 007c 1249     		ldr	r1, .L37+16
 528 007e 2046     		mov	r0, r4
 529 0080 FFF7FEFF 		bl	HAL_SPI_Transmit
 530              	.LVL43:
 120:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, addr, 3, 10);//
 531              		.loc 1 120 5 view .LVU110
 532 0084 0A23     		movs	r3, #10
 533 0086 0322     		movs	r2, #3
 534 0088 01A9     		add	r1, sp, #4
 535 008a 2046     		mov	r0, r4
 536 008c FFF7FEFF 		bl	HAL_SPI_Transmit
 537              	.LVL44:
 121:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, buffer, size, 10);//
 538              		.loc 1 121 5 view .LVU111
 539 0090 0A23     		movs	r3, #10
 540 0092 3246     		mov	r2, r6
 541 0094 2946     		mov	r1, r5
 542 0096 2046     		mov	r0, r4
 543 0098 FFF7FEFF 		bl	HAL_SPI_Transmit
 544              	.LVL45:
 122:Device/Src/flash.c ****     CS_HIGH;
 545              		.loc 1 122 5 view .LVU112
 546 009c 0122     		movs	r2, #1
 547 009e 4FF40041 		mov	r1, #32768
 548 00a2 3846     		mov	r0, r7
 549 00a4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 550              	.LVL46:
 123:Device/Src/flash.c ****     return 1;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 13


 551              		.loc 1 123 5 view .LVU113
 552              		.loc 1 123 12 is_stmt 0 view .LVU114
 553 00a8 0120     		movs	r0, #1
 554 00aa 00E0     		b	.L30
 555              	.LVL47:
 556              	.L32:
 107:Device/Src/flash.c ****     }
 557              		.loc 1 107 16 view .LVU115
 558 00ac 0020     		movs	r0, #0
 559              	.LVL48:
 560              	.L30:
 124:Device/Src/flash.c **** }
 561              		.loc 1 124 1 view .LVU116
 562 00ae 03B0     		add	sp, sp, #12
 563              	.LCFI12:
 564              		.cfi_remember_state
 565              		.cfi_def_cfa_offset 20
 566              		@ sp needed
 567 00b0 F0BD     		pop	{r4, r5, r6, r7, pc}
 568              	.LVL49:
 569              	.L34:
 570              	.LCFI13:
 571              		.cfi_restore_state
 115:Device/Src/flash.c ****     } 
 572              		.loc 1 115 16 view .LVU117
 573 00b2 4FF0FF30 		mov	r0, #-1
 574 00b6 FAE7     		b	.L30
 575              	.L38:
 576              		.align	2
 577              	.L37:
 578 00b8 00000000 		.word	.LANCHOR1
 579 00bc 00000240 		.word	1073872896
 580 00c0 00000000 		.word	.LANCHOR3
 581 00c4 00000000 		.word	hspi1
 582 00c8 00000000 		.word	.LANCHOR4
 583              		.cfi_endproc
 584              	.LFE239:
 586              		.section	.text.flash_read_data,"ax",%progbits
 587              		.align	1
 588              		.global	flash_read_data
 589              		.syntax unified
 590              		.thumb
 591              		.thumb_func
 593              	flash_read_data:
 594              	.LVL50:
 595              	.LFB240:
 125:Device/Src/flash.c **** 
 126:Device/Src/flash.c **** int flash_read_data(uint32_t address, uint8_t* buffer, uint16_t length)
 127:Device/Src/flash.c **** {
 596              		.loc 1 127 1 is_stmt 1 view -0
 597              		.cfi_startproc
 598              		@ args = 0, pretend = 0, frame = 8
 599              		@ frame_needed = 0, uses_anonymous_args = 0
 600              		.loc 1 127 1 is_stmt 0 view .LVU119
 601 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 602              	.LCFI14:
 603              		.cfi_def_cfa_offset 20
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 14


 604              		.cfi_offset 4, -20
 605              		.cfi_offset 5, -16
 606              		.cfi_offset 6, -12
 607              		.cfi_offset 7, -8
 608              		.cfi_offset 14, -4
 609 0002 83B0     		sub	sp, sp, #12
 610              	.LCFI15:
 611              		.cfi_def_cfa_offset 32
 128:Device/Src/flash.c ****     uint8_t addr[3] = {0};
 612              		.loc 1 128 5 is_stmt 1 view .LVU120
 613              		.loc 1 128 13 is_stmt 0 view .LVU121
 614 0004 1F4B     		ldr	r3, .L45
 615 0006 1B89     		ldrh	r3, [r3, #8]
 616 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 617 000c 0023     		movs	r3, #0
 618 000e 8DF80630 		strb	r3, [sp, #6]
 129:Device/Src/flash.c ****     if (address >= FLASH_END_ADDR || length > PAGE_SIZE) {
 619              		.loc 1 129 5 is_stmt 1 view .LVU122
 620              		.loc 1 129 8 is_stmt 0 view .LVU123
 621 0012 6FF07F43 		mvn	r3, #-16777216
 622 0016 9842     		cmp	r0, r3
 623 0018 30D2     		bcs	.L41
 624 001a 0446     		mov	r4, r0
 625 001c 0D46     		mov	r5, r1
 626 001e 1646     		mov	r6, r2
 627              		.loc 1 129 35 discriminator 1 view .LVU124
 628 0020 B2F5807F 		cmp	r2, #256
 629 0024 01D9     		bls	.L44
 130:Device/Src/flash.c ****         return 0;
 630              		.loc 1 130 16 view .LVU125
 631 0026 0020     		movs	r0, #0
 632              	.LVL51:
 633              		.loc 1 130 16 view .LVU126
 634 0028 29E0     		b	.L39
 635              	.LVL52:
 636              	.L44:
 131:Device/Src/flash.c ****     }
 132:Device/Src/flash.c ****     if (CheckBusy() == 0) { return 0;  }
 637              		.loc 1 132 5 is_stmt 1 view .LVU127
 638              		.loc 1 132 9 is_stmt 0 view .LVU128
 639 002a FFF7FEFF 		bl	CheckBusy
 640              	.LVL53:
 641              		.loc 1 132 8 view .LVU129
 642 002e 30B3     		cbz	r0, .L39
 133:Device/Src/flash.c ****     address_32_to_8(address, addr);
 643              		.loc 1 133 5 is_stmt 1 view .LVU130
 644 0030 01A9     		add	r1, sp, #4
 645 0032 2046     		mov	r0, r4
 646 0034 FFF7FEFF 		bl	address_32_to_8
 647              	.LVL54:
 134:Device/Src/flash.c ****     CS_LOW;
 648              		.loc 1 134 5 view .LVU131
 649 0038 134F     		ldr	r7, .L45+4
 650 003a 0022     		movs	r2, #0
 651 003c 4FF40041 		mov	r1, #32768
 652 0040 3846     		mov	r0, r7
 653 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 15


 654              	.LVL55:
 135:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI, &read_addr, 1, 10);
 655              		.loc 1 135 5 view .LVU132
 656 0046 114C     		ldr	r4, .L45+8
 657              	.LVL56:
 658              		.loc 1 135 5 is_stmt 0 view .LVU133
 659 0048 0A23     		movs	r3, #10
 660 004a 0122     		movs	r2, #1
 661 004c 1049     		ldr	r1, .L45+12
 662 004e 2046     		mov	r0, r4
 663 0050 FFF7FEFF 		bl	HAL_SPI_Transmit
 664              	.LVL57:
 136:Device/Src/flash.c ****     HAL_SPI_Transmit(&W25Q64SPI,addr, 3, 10);
 665              		.loc 1 136 5 is_stmt 1 view .LVU134
 666 0054 0A23     		movs	r3, #10
 667 0056 0322     		movs	r2, #3
 668 0058 01A9     		add	r1, sp, #4
 669 005a 2046     		mov	r0, r4
 670 005c FFF7FEFF 		bl	HAL_SPI_Transmit
 671              	.LVL58:
 137:Device/Src/flash.c ****     HAL_SPI_Receive(&W25Q64SPI, buffer, length, 50);
 672              		.loc 1 137 5 view .LVU135
 673 0060 3223     		movs	r3, #50
 674 0062 3246     		mov	r2, r6
 675 0064 2946     		mov	r1, r5
 676 0066 2046     		mov	r0, r4
 677 0068 FFF7FEFF 		bl	HAL_SPI_Receive
 678              	.LVL59:
 138:Device/Src/flash.c ****     CS_HIGH;
 679              		.loc 1 138 5 view .LVU136
 680 006c 0122     		movs	r2, #1
 681 006e 4FF40041 		mov	r1, #32768
 682 0072 3846     		mov	r0, r7
 683 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 684              	.LVL60:
 139:Device/Src/flash.c ****     return 1;
 685              		.loc 1 139 5 view .LVU137
 686              		.loc 1 139 12 is_stmt 0 view .LVU138
 687 0078 0120     		movs	r0, #1
 688 007a 00E0     		b	.L39
 689              	.LVL61:
 690              	.L41:
 130:Device/Src/flash.c ****     }
 691              		.loc 1 130 16 view .LVU139
 692 007c 0020     		movs	r0, #0
 693              	.LVL62:
 694              	.L39:
 140:Device/Src/flash.c **** }
 695              		.loc 1 140 1 view .LVU140
 696 007e 03B0     		add	sp, sp, #12
 697              	.LCFI16:
 698              		.cfi_def_cfa_offset 20
 699              		@ sp needed
 700 0080 F0BD     		pop	{r4, r5, r6, r7, pc}
 701              	.L46:
 702 0082 00BF     		.align	2
 703              	.L45:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 16


 704 0084 00000000 		.word	.LANCHOR1
 705 0088 00000240 		.word	1073872896
 706 008c 00000000 		.word	hspi1
 707 0090 00000000 		.word	.LANCHOR5
 708              		.cfi_endproc
 709              	.LFE240:
 711              		.section	.text.float_to_uint8,"ax",%progbits
 712              		.align	1
 713              		.global	float_to_uint8
 714              		.syntax unified
 715              		.thumb
 716              		.thumb_func
 718              	float_to_uint8:
 719              	.LVL63:
 720              	.LFB241:
 141:Device/Src/flash.c **** 
 142:Device/Src/flash.c **** void float_to_uint8(uint8_t* target, float* source)
 143:Device/Src/flash.c **** {
 721              		.loc 1 143 1 is_stmt 1 view -0
 722              		.cfi_startproc
 723              		@ args = 0, pretend = 0, frame = 0
 724              		@ frame_needed = 0, uses_anonymous_args = 0
 725              		@ link register save eliminated.
 144:Device/Src/flash.c ****     uint32_t sum = 0;
 726              		.loc 1 144 5 view .LVU142
 145:Device/Src/flash.c ****     int i;
 727              		.loc 1 145 5 view .LVU143
 146:Device/Src/flash.c ****     sum = *((uint32_t *)source);
 728              		.loc 1 146 5 view .LVU144
 729              		.loc 1 146 9 is_stmt 0 view .LVU145
 730 0000 0A68     		ldr	r2, [r1]
 731              	.LVL64:
 147:Device/Src/flash.c ****     for (i = 3; i >= 0; i--) {
 732              		.loc 1 147 5 is_stmt 1 view .LVU146
 733              		.loc 1 147 12 is_stmt 0 view .LVU147
 734 0002 0323     		movs	r3, #3
 735              		.loc 1 147 5 view .LVU148
 736 0004 02E0     		b	.L48
 737              	.LVL65:
 738              	.L49:
 148:Device/Src/flash.c ****         target[i] = sum % 256;
 739              		.loc 1 148 9 is_stmt 1 discriminator 3 view .LVU149
 740              		.loc 1 148 19 is_stmt 0 discriminator 3 view .LVU150
 741 0006 C254     		strb	r2, [r0, r3]
 149:Device/Src/flash.c ****         sum = sum >> 8;
 742              		.loc 1 149 9 is_stmt 1 discriminator 3 view .LVU151
 743              		.loc 1 149 13 is_stmt 0 discriminator 3 view .LVU152
 744 0008 120A     		lsrs	r2, r2, #8
 745              	.LVL66:
 147:Device/Src/flash.c ****     for (i = 3; i >= 0; i--) {
 746              		.loc 1 147 25 is_stmt 1 discriminator 3 view .LVU153
 147:Device/Src/flash.c ****     for (i = 3; i >= 0; i--) {
 747              		.loc 1 147 26 is_stmt 0 discriminator 3 view .LVU154
 748 000a 013B     		subs	r3, r3, #1
 749              	.LVL67:
 750              	.L48:
 147:Device/Src/flash.c ****     for (i = 3; i >= 0; i--) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 17


 751              		.loc 1 147 17 is_stmt 1 discriminator 1 view .LVU155
 147:Device/Src/flash.c ****     for (i = 3; i >= 0; i--) {
 752              		.loc 1 147 5 is_stmt 0 discriminator 1 view .LVU156
 753 000c 002B     		cmp	r3, #0
 754 000e FADA     		bge	.L49
 150:Device/Src/flash.c ****     }
 151:Device/Src/flash.c **** }
 755              		.loc 1 151 1 view .LVU157
 756 0010 7047     		bx	lr
 757              		.cfi_endproc
 758              	.LFE241:
 760              		.section	.text.uint8_to_float,"ax",%progbits
 761              		.align	1
 762              		.global	uint8_to_float
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 767              	uint8_to_float:
 768              	.LVL68:
 769              	.LFB242:
 152:Device/Src/flash.c **** void uint8_to_float(float* target, uint8_t* source)
 153:Device/Src/flash.c **** {
 770              		.loc 1 153 1 is_stmt 1 view -0
 771              		.cfi_startproc
 772              		@ args = 0, pretend = 0, frame = 0
 773              		@ frame_needed = 0, uses_anonymous_args = 0
 774              		@ link register save eliminated.
 154:Device/Src/flash.c ****     uint32_t sum = 0;
 775              		.loc 1 154 5 view .LVU159
 155:Device/Src/flash.c ****     int i;
 776              		.loc 1 155 5 view .LVU160
 156:Device/Src/flash.c ****     for (i = 0; i < 4; i++) {
 777              		.loc 1 156 5 view .LVU161
 154:Device/Src/flash.c ****     uint32_t sum = 0;
 778              		.loc 1 154 14 is_stmt 0 view .LVU162
 779 0000 0022     		movs	r2, #0
 780              		.loc 1 156 12 view .LVU163
 781 0002 1346     		mov	r3, r2
 782              		.loc 1 156 5 view .LVU164
 783 0004 04E0     		b	.L51
 784              	.LVL69:
 785              	.L52:
 157:Device/Src/flash.c ****         sum = (sum << 8) + source[i];
 786              		.loc 1 157 9 is_stmt 1 discriminator 3 view .LVU165
 787              		.loc 1 157 34 is_stmt 0 discriminator 3 view .LVU166
 788 0006 11F803C0 		ldrb	ip, [r1, r3]	@ zero_extendqisi2
 789              		.loc 1 157 26 discriminator 3 view .LVU167
 790 000a 0CEB0222 		add	r2, ip, r2, lsl #8
 791              	.LVL70:
 156:Device/Src/flash.c ****     for (i = 0; i < 4; i++) {
 792              		.loc 1 156 24 is_stmt 1 discriminator 3 view .LVU168
 156:Device/Src/flash.c ****     for (i = 0; i < 4; i++) {
 793              		.loc 1 156 25 is_stmt 0 discriminator 3 view .LVU169
 794 000e 0133     		adds	r3, r3, #1
 795              	.LVL71:
 796              	.L51:
 156:Device/Src/flash.c ****     for (i = 0; i < 4; i++) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 18


 797              		.loc 1 156 17 is_stmt 1 discriminator 1 view .LVU170
 156:Device/Src/flash.c ****     for (i = 0; i < 4; i++) {
 798              		.loc 1 156 5 is_stmt 0 discriminator 1 view .LVU171
 799 0010 032B     		cmp	r3, #3
 800 0012 F8DD     		ble	.L52
 158:Device/Src/flash.c ****     }
 159:Device/Src/flash.c ****     if (sum == 0xffffffff) {
 801              		.loc 1 159 5 is_stmt 1 view .LVU172
 802              		.loc 1 159 8 is_stmt 0 view .LVU173
 803 0014 B2F1FF3F 		cmp	r2, #-1
 804 0018 01D0     		beq	.L55
 160:Device/Src/flash.c ****         *target = -16777215;
 161:Device/Src/flash.c ****     } else {
 162:Device/Src/flash.c ****         *target = *((float*)&sum);
 805              		.loc 1 162 9 is_stmt 1 view .LVU174
 806              		.loc 1 162 17 is_stmt 0 view .LVU175
 807 001a 0260     		str	r2, [r0]	@ float
 808              	.LVL72:
 163:Device/Src/flash.c ****     }
 164:Device/Src/flash.c **** }
 809              		.loc 1 164 1 view .LVU176
 810 001c 7047     		bx	lr
 811              	.LVL73:
 812              	.L55:
 160:Device/Src/flash.c ****         *target = -16777215;
 813              		.loc 1 160 9 is_stmt 1 view .LVU177
 160:Device/Src/flash.c ****         *target = -16777215;
 814              		.loc 1 160 17 is_stmt 0 view .LVU178
 815 001e 6FF05253 		mvn	r3, #880803840
 816              	.LVL74:
 160:Device/Src/flash.c ****         *target = -16777215;
 817              		.loc 1 160 17 view .LVU179
 818 0022 0360     		str	r3, [r0]	@ float
 819 0024 7047     		bx	lr
 820              		.cfi_endproc
 821              	.LFE242:
 823              		.section	.text.flash_test_flag_manage,"ax",%progbits
 824              		.align	1
 825              		.global	flash_test_flag_manage
 826              		.syntax unified
 827              		.thumb
 828              		.thumb_func
 830              	flash_test_flag_manage:
 831              	.LVL75:
 832              	.LFB243:
 165:Device/Src/flash.c **** 
 166:Device/Src/flash.c **** int flash_test_flag_manage(uint8_t* buffer, TestFlagList handle, TestFlagHandle mode)
 167:Device/Src/flash.c **** {
 833              		.loc 1 167 1 is_stmt 1 view -0
 834              		.cfi_startproc
 835              		@ args = 0, pretend = 0, frame = 1536
 836              		@ frame_needed = 0, uses_anonymous_args = 0
 837              		.loc 1 167 1 is_stmt 0 view .LVU181
 838 0000 70B5     		push	{r4, r5, r6, lr}
 839              	.LCFI17:
 840              		.cfi_def_cfa_offset 16
 841              		.cfi_offset 4, -16
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 19


 842              		.cfi_offset 5, -12
 843              		.cfi_offset 6, -8
 844              		.cfi_offset 14, -4
 845 0002 ADF5C06D 		sub	sp, sp, #1536
 846              	.LCFI18:
 847              		.cfi_def_cfa_offset 1552
 848 0006 0446     		mov	r4, r0
 849 0008 0D46     		mov	r5, r1
 850 000a 1646     		mov	r6, r2
 168:Device/Src/flash.c ****     uint32_t address;
 851              		.loc 1 168 5 is_stmt 1 view .LVU182
 169:Device/Src/flash.c ****     int i;
 852              		.loc 1 169 5 view .LVU183
 170:Device/Src/flash.c ****     uint8_t writeBuffer[PAGE_SIZE * 6] = {0xff};
 853              		.loc 1 170 5 view .LVU184
 854              		.loc 1 170 13 is_stmt 0 view .LVU185
 855 000c FF23     		movs	r3, #255
 856 000e 0093     		str	r3, [sp]
 857 0010 40F2FC52 		movw	r2, #1532
 858              	.LVL76:
 859              		.loc 1 170 13 view .LVU186
 860 0014 0021     		movs	r1, #0
 861              	.LVL77:
 862              		.loc 1 170 13 view .LVU187
 863 0016 01A8     		add	r0, sp, #4
 864              	.LVL78:
 865              		.loc 1 170 13 view .LVU188
 866 0018 FFF7FEFF 		bl	memset
 867              	.LVL79:
 171:Device/Src/flash.c ****     switch (mode) {
 868              		.loc 1 171 5 is_stmt 1 view .LVU189
 869 001c 012E     		cmp	r6, #1
 870 001e 0CD0     		beq	.L57
 871 0020 022E     		cmp	r6, #2
 872 0022 1CD0     		beq	.L65
 873 0024 1EB1     		cbz	r6, .L67
 874              	.LVL80:
 875              	.L59:
 172:Device/Src/flash.c ****         case FLASH_FLAG_READ:
 173:Device/Src/flash.c ****             address = TEST_FALG_START_ADDR + handle * PAGE_SIZE;
 174:Device/Src/flash.c ****             flash_read_data(address, buffer, MAX_CHIP_NUMBER);
 175:Device/Src/flash.c ****         break;
 176:Device/Src/flash.c ****         case FLASH_FLAG_WRITE_ADD:
 177:Device/Src/flash.c ****             address = TEST_FALG_START_ADDR + handle * PAGE_SIZE;
 178:Device/Src/flash.c ****             flash_write_data(address, buffer, MAX_CHIP_NUMBER);
 179:Device/Src/flash.c ****         break;
 180:Device/Src/flash.c ****         case FLASH_FLAG_WRITE_COVER:
 181:Device/Src/flash.c ****             for (i = 0; i < 6; i++) {
 182:Device/Src/flash.c ****                 flash_read_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer + i * PAGE_SIZE, 
 183:Device/Src/flash.c ****             }
 184:Device/Src/flash.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 185:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 186:Device/Src/flash.c ****             }
 187:Device/Src/flash.c ****             HAL_Delay(5);
 188:Device/Src/flash.c **** 
 189:Device/Src/flash.c ****             flash_erase(TEST_FALG_START_ADDR, 2);//erase the sector    
 190:Device/Src/flash.c ****             HAL_Delay(50);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 20


 191:Device/Src/flash.c **** 
 192:Device/Src/flash.c ****             for (i = 0; i < 6; i++) {
 193:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 194:Device/Src/flash.c ****                 HAL_Delay(5);
 195:Device/Src/flash.c ****             }
 196:Device/Src/flash.c ****         break;
 197:Device/Src/flash.c ****         default:
 198:Device/Src/flash.c ****         break;
 199:Device/Src/flash.c ****     }
 200:Device/Src/flash.c **** 
 201:Device/Src/flash.c ****     return 1;
 876              		.loc 1 201 5 view .LVU190
 202:Device/Src/flash.c **** }
 877              		.loc 1 202 1 is_stmt 0 view .LVU191
 878 0026 0120     		movs	r0, #1
 879 0028 0DF5C06D 		add	sp, sp, #1536
 880              	.LCFI19:
 881              		.cfi_remember_state
 882              		.cfi_def_cfa_offset 16
 883              		@ sp needed
 884 002c 70BD     		pop	{r4, r5, r6, pc}
 885              	.LVL81:
 886              	.L67:
 887              	.LCFI20:
 888              		.cfi_restore_state
 173:Device/Src/flash.c ****             flash_read_data(address, buffer, MAX_CHIP_NUMBER);
 889              		.loc 1 173 13 is_stmt 1 view .LVU192
 174:Device/Src/flash.c ****         break;
 890              		.loc 1 174 13 view .LVU193
 891 002e 6422     		movs	r2, #100
 892 0030 2146     		mov	r1, r4
 893 0032 2802     		lsls	r0, r5, #8
 894              	.LVL82:
 174:Device/Src/flash.c ****         break;
 895              		.loc 1 174 13 is_stmt 0 view .LVU194
 896 0034 FFF7FEFF 		bl	flash_read_data
 897              	.LVL83:
 175:Device/Src/flash.c ****         case FLASH_FLAG_WRITE_ADD:
 898              		.loc 1 175 9 is_stmt 1 view .LVU195
 899 0038 F5E7     		b	.L59
 900              	.LVL84:
 901              	.L57:
 177:Device/Src/flash.c ****             flash_write_data(address, buffer, MAX_CHIP_NUMBER);
 902              		.loc 1 177 13 view .LVU196
 178:Device/Src/flash.c ****         break;
 903              		.loc 1 178 13 view .LVU197
 904 003a 6422     		movs	r2, #100
 905 003c 2146     		mov	r1, r4
 906 003e 2802     		lsls	r0, r5, #8
 907              	.LVL85:
 178:Device/Src/flash.c ****         break;
 908              		.loc 1 178 13 is_stmt 0 view .LVU198
 909 0040 FFF7FEFF 		bl	flash_write_data
 910              	.LVL86:
 179:Device/Src/flash.c ****         case FLASH_FLAG_WRITE_COVER:
 911              		.loc 1 179 9 is_stmt 1 view .LVU199
 912 0044 EFE7     		b	.L59
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 21


 913              	.LVL87:
 914              	.L60:
 182:Device/Src/flash.c ****             }
 915              		.loc 1 182 17 discriminator 3 view .LVU200
 916 0046 4FF48072 		mov	r2, #256
 917 004a 0DEB0621 		add	r1, sp, r6, lsl #8
 918 004e 3002     		lsls	r0, r6, #8
 919 0050 FFF7FEFF 		bl	flash_read_data
 920              	.LVL88:
 181:Device/Src/flash.c ****                 flash_read_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer + i * PAGE_SIZE, 
 921              		.loc 1 181 32 discriminator 3 view .LVU201
 181:Device/Src/flash.c ****                 flash_read_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer + i * PAGE_SIZE, 
 922              		.loc 1 181 33 is_stmt 0 discriminator 3 view .LVU202
 923 0054 0136     		adds	r6, r6, #1
 924              	.LVL89:
 925              	.L58:
 181:Device/Src/flash.c ****                 flash_read_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer + i * PAGE_SIZE, 
 926              		.loc 1 181 25 is_stmt 1 discriminator 1 view .LVU203
 181:Device/Src/flash.c ****                 flash_read_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer + i * PAGE_SIZE, 
 927              		.loc 1 181 13 is_stmt 0 discriminator 1 view .LVU204
 928 0056 052E     		cmp	r6, #5
 929 0058 F5DD     		ble	.L60
 184:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 930              		.loc 1 184 20 view .LVU205
 931 005a 0023     		movs	r3, #0
 932 005c 08E0     		b	.L61
 933              	.LVL90:
 934              	.L65:
 171:Device/Src/flash.c ****         case FLASH_FLAG_READ:
 935              		.loc 1 171 5 view .LVU206
 936 005e 0026     		movs	r6, #0
 937 0060 F9E7     		b	.L58
 938              	.LVL91:
 939              	.L62:
 185:Device/Src/flash.c ****             }
 940              		.loc 1 185 17 is_stmt 1 discriminator 3 view .LVU207
 185:Device/Src/flash.c ****             }
 941              		.loc 1 185 48 is_stmt 0 discriminator 3 view .LVU208
 942 0062 03EB0522 		add	r2, r3, r5, lsl #8
 185:Device/Src/flash.c ****             }
 943              		.loc 1 185 61 discriminator 3 view .LVU209
 944 0066 14F803C0 		ldrb	ip, [r4, r3]	@ zero_extendqisi2
 185:Device/Src/flash.c ****             }
 945              		.loc 1 185 53 discriminator 3 view .LVU210
 946 006a 0DF802C0 		strb	ip, [sp, r2]
 184:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 947              		.loc 1 184 46 is_stmt 1 discriminator 3 view .LVU211
 184:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 948              		.loc 1 184 47 is_stmt 0 discriminator 3 view .LVU212
 949 006e 0133     		adds	r3, r3, #1
 950              	.LVL92:
 951              	.L61:
 184:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 952              		.loc 1 184 25 is_stmt 1 discriminator 1 view .LVU213
 184:Device/Src/flash.c ****                 writeBuffer[PAGE_SIZE * handle + i] = buffer[i];
 953              		.loc 1 184 13 is_stmt 0 discriminator 1 view .LVU214
 954 0070 632B     		cmp	r3, #99
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 22


 955 0072 F6DD     		ble	.L62
 187:Device/Src/flash.c **** 
 956              		.loc 1 187 13 is_stmt 1 view .LVU215
 957 0074 0520     		movs	r0, #5
 958 0076 FFF7FEFF 		bl	HAL_Delay
 959              	.LVL93:
 189:Device/Src/flash.c ****             HAL_Delay(50);
 960              		.loc 1 189 13 view .LVU216
 961 007a 0221     		movs	r1, #2
 962 007c 0020     		movs	r0, #0
 963 007e FFF7FEFF 		bl	flash_erase
 964              	.LVL94:
 190:Device/Src/flash.c **** 
 965              		.loc 1 190 13 view .LVU217
 966 0082 3220     		movs	r0, #50
 967 0084 FFF7FEFF 		bl	HAL_Delay
 968              	.LVL95:
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 969              		.loc 1 192 13 view .LVU218
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 970              		.loc 1 192 20 is_stmt 0 view .LVU219
 971 0088 0024     		movs	r4, #0
 972              	.LVL96:
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 973              		.loc 1 192 13 view .LVU220
 974 008a 0AE0     		b	.L63
 975              	.LVL97:
 976              	.L64:
 193:Device/Src/flash.c ****                 HAL_Delay(5);
 977              		.loc 1 193 17 is_stmt 1 discriminator 3 view .LVU221
 978 008c 4FF48072 		mov	r2, #256
 979 0090 0DEB0421 		add	r1, sp, r4, lsl #8
 980 0094 2002     		lsls	r0, r4, #8
 981 0096 FFF7FEFF 		bl	flash_write_data
 982              	.LVL98:
 194:Device/Src/flash.c ****             }
 983              		.loc 1 194 17 discriminator 3 view .LVU222
 984 009a 0520     		movs	r0, #5
 985 009c FFF7FEFF 		bl	HAL_Delay
 986              	.LVL99:
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 987              		.loc 1 192 32 discriminator 3 view .LVU223
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 988              		.loc 1 192 33 is_stmt 0 discriminator 3 view .LVU224
 989 00a0 0134     		adds	r4, r4, #1
 990              	.LVL100:
 991              	.L63:
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 992              		.loc 1 192 25 is_stmt 1 discriminator 1 view .LVU225
 192:Device/Src/flash.c ****                 flash_write_data(TEST_FALG_START_ADDR + i * PAGE_SIZE, writeBuffer+ i * PAGE_SIZE, 
 993              		.loc 1 192 13 is_stmt 0 discriminator 1 view .LVU226
 994 00a2 052C     		cmp	r4, #5
 995 00a4 F2DD     		ble	.L64
 996 00a6 BEE7     		b	.L59
 997              		.cfi_endproc
 998              	.LFE243:
 1000              		.section	.text.flash_test_data_read,"ax",%progbits
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 23


 1001              		.align	1
 1002              		.global	flash_test_data_read
 1003              		.syntax unified
 1004              		.thumb
 1005              		.thumb_func
 1007              	flash_test_data_read:
 1008              	.LVL101:
 1009              	.LFB244:
 203:Device/Src/flash.c **** 
 204:Device/Src/flash.c **** void flash_test_data_read(TestResult* result, uint8_t rtcNumber, TestResultList handle)
 205:Device/Src/flash.c **** {
 1010              		.loc 1 205 1 is_stmt 1 view -0
 1011              		.cfi_startproc
 1012              		@ args = 0, pretend = 0, frame = 8
 1013              		@ frame_needed = 0, uses_anonymous_args = 0
 1014              		.loc 1 205 1 is_stmt 0 view .LVU228
 1015 0000 70B5     		push	{r4, r5, r6, lr}
 1016              	.LCFI21:
 1017              		.cfi_def_cfa_offset 16
 1018              		.cfi_offset 4, -16
 1019              		.cfi_offset 5, -12
 1020              		.cfi_offset 6, -8
 1021              		.cfi_offset 14, -4
 1022 0002 82B0     		sub	sp, sp, #8
 1023              	.LCFI22:
 1024              		.cfi_def_cfa_offset 24
 206:Device/Src/flash.c ****     uint32_t address;
 1025              		.loc 1 206 5 is_stmt 1 view .LVU229
 207:Device/Src/flash.c ****     uint8_t buffer[4] = {0};
 1026              		.loc 1 207 5 view .LVU230
 1027              		.loc 1 207 13 is_stmt 0 view .LVU231
 1028 0004 0023     		movs	r3, #0
 1029 0006 0193     		str	r3, [sp, #4]
 208:Device/Src/flash.c ****     int i;
 1030              		.loc 1 208 5 is_stmt 1 view .LVU232
 209:Device/Src/flash.c ****     if (rtcNumber < 1 || rtcNumber > MAX_CHIP_NUMBER) {
 1031              		.loc 1 209 5 view .LVU233
 1032              		.loc 1 209 23 is_stmt 0 view .LVU234
 1033 0008 4B1E     		subs	r3, r1, #1
 1034 000a DBB2     		uxtb	r3, r3
 1035              		.loc 1 209 8 view .LVU235
 1036 000c 632B     		cmp	r3, #99
 1037 000e 3BD8     		bhi	.L68
 1038 0010 0646     		mov	r6, r0
 1039 0012 0D46     		mov	r5, r1
 210:Device/Src/flash.c ****         return;
 211:Device/Src/flash.c ****     }
 212:Device/Src/flash.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + handle;
 1040              		.loc 1 212 5 is_stmt 1 view .LVU236
 1041              		.loc 1 212 38 is_stmt 0 view .LVU237
 1042 0014 CC1D     		adds	r4, r1, #7
 1043              		.loc 1 212 79 view .LVU238
 1044 0016 02EB4424 		add	r4, r2, r4, lsl #9
 1045              	.LVL102:
 213:Device/Src/flash.c ****     switch (handle) {
 1046              		.loc 1 213 5 is_stmt 1 view .LVU239
 1047 001a 422A     		cmp	r2, #66
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 24


 1048 001c 25D8     		bhi	.L71
 1049 001e 422A     		cmp	r2, #66
 1050 0020 32D8     		bhi	.L68
 1051 0022 DFE802F0 		tbb	[pc, r2]
 1052              	.L74:
 1053 0026 2C       		.byte	(.L86-.L74)/2
 1054 0027 31       		.byte	(.L68-.L74)/2
 1055 0028 31       		.byte	(.L68-.L74)/2
 1056 0029 31       		.byte	(.L68-.L74)/2
 1057 002a 31       		.byte	(.L68-.L74)/2
 1058 002b 31       		.byte	(.L68-.L74)/2
 1059 002c 31       		.byte	(.L68-.L74)/2
 1060 002d 31       		.byte	(.L68-.L74)/2
 1061 002e 44       		.byte	(.L92-.L74)/2
 1062 002f 31       		.byte	(.L68-.L74)/2
 1063 0030 31       		.byte	(.L68-.L74)/2
 1064 0031 31       		.byte	(.L68-.L74)/2
 1065 0032 31       		.byte	(.L68-.L74)/2
 1066 0033 31       		.byte	(.L68-.L74)/2
 1067 0034 31       		.byte	(.L68-.L74)/2
 1068 0035 31       		.byte	(.L68-.L74)/2
 1069 0036 31       		.byte	(.L68-.L74)/2
 1070 0037 31       		.byte	(.L68-.L74)/2
 1071 0038 31       		.byte	(.L68-.L74)/2
 1072 0039 31       		.byte	(.L68-.L74)/2
 1073 003a 31       		.byte	(.L68-.L74)/2
 1074 003b 31       		.byte	(.L68-.L74)/2
 1075 003c 31       		.byte	(.L68-.L74)/2
 1076 003d 31       		.byte	(.L68-.L74)/2
 1077 003e 31       		.byte	(.L68-.L74)/2
 1078 003f 31       		.byte	(.L68-.L74)/2
 1079 0040 31       		.byte	(.L68-.L74)/2
 1080 0041 31       		.byte	(.L68-.L74)/2
 1081 0042 58       		.byte	(.L93-.L74)/2
 1082 0043 31       		.byte	(.L68-.L74)/2
 1083 0044 31       		.byte	(.L68-.L74)/2
 1084 0045 31       		.byte	(.L68-.L74)/2
 1085 0046 31       		.byte	(.L68-.L74)/2
 1086 0047 31       		.byte	(.L68-.L74)/2
 1087 0048 31       		.byte	(.L68-.L74)/2
 1088 0049 31       		.byte	(.L68-.L74)/2
 1089 004a 31       		.byte	(.L68-.L74)/2
 1090 004b 31       		.byte	(.L68-.L74)/2
 1091 004c 31       		.byte	(.L68-.L74)/2
 1092 004d 31       		.byte	(.L68-.L74)/2
 1093 004e 31       		.byte	(.L68-.L74)/2
 1094 004f 31       		.byte	(.L68-.L74)/2
 1095 0050 31       		.byte	(.L68-.L74)/2
 1096 0051 31       		.byte	(.L68-.L74)/2
 1097 0052 31       		.byte	(.L68-.L74)/2
 1098 0053 31       		.byte	(.L68-.L74)/2
 1099 0054 31       		.byte	(.L68-.L74)/2
 1100 0055 31       		.byte	(.L68-.L74)/2
 1101 0056 5A       		.byte	(.L83-.L74)/2
 1102 0057 61       		.byte	(.L82-.L74)/2
 1103 0058 31       		.byte	(.L68-.L74)/2
 1104 0059 68       		.byte	(.L81-.L74)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 25


 1105 005a 31       		.byte	(.L68-.L74)/2
 1106 005b 75       		.byte	(.L80-.L74)/2
 1107 005c 82       		.byte	(.L79-.L74)/2
 1108 005d 89       		.byte	(.L78-.L74)/2
 1109 005e 90       		.byte	(.L77-.L74)/2
 1110 005f 97       		.byte	(.L76-.L74)/2
 1111 0060 9E       		.byte	(.L75-.L74)/2
 1112 0061 31       		.byte	(.L68-.L74)/2
 1113 0062 31       		.byte	(.L68-.L74)/2
 1114 0063 31       		.byte	(.L68-.L74)/2
 1115 0064 31       		.byte	(.L68-.L74)/2
 1116 0065 31       		.byte	(.L68-.L74)/2
 1117 0066 31       		.byte	(.L68-.L74)/2
 1118 0067 31       		.byte	(.L68-.L74)/2
 1119 0068 B5       		.byte	(.L73-.L74)/2
 1120 0069 00       		.p2align 1
 1121              	.L71:
 1122 006a B2F5807F 		cmp	r2, #256
 1123 006e 00F0EA80 		beq	.L87
 1124 0072 40F20113 		movw	r3, #257
 1125 0076 9A42     		cmp	r2, r3
 1126 0078 06D1     		bne	.L68
 1127 007a 0024     		movs	r4, #0
 1128              	.LVL103:
 1129              		.loc 1 213 5 is_stmt 0 view .LVU240
 1130 007c F0E0     		b	.L88
 1131              	.LVL104:
 1132              	.L86:
 214:Device/Src/flash.c ****         case CHIP_ID:
 215:Device/Src/flash.c ****             flash_read_data(address, result->chipID, 8);
 1133              		.loc 1 215 13 is_stmt 1 view .LVU241
 1134 007e 0822     		movs	r2, #8
 1135              	.LVL105:
 1136              		.loc 1 215 13 is_stmt 0 view .LVU242
 1137 0080 0146     		mov	r1, r0
 1138              	.LVL106:
 1139              		.loc 1 215 13 view .LVU243
 1140 0082 2046     		mov	r0, r4
 1141              	.LVL107:
 1142              		.loc 1 215 13 view .LVU244
 1143 0084 FFF7FEFF 		bl	flash_read_data
 1144              	.LVL108:
 216:Device/Src/flash.c ****         break;
 1145              		.loc 1 216 9 is_stmt 1 view .LVU245
 1146              	.L68:
 217:Device/Src/flash.c ****         case TEST_DOT_TEMP:
 218:Device/Src/flash.c ****             for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 219:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 220:Device/Src/flash.c ****                 uint8_to_float(&(result->testDotTemp[i]), buffer);
 221:Device/Src/flash.c ****                 address  += 4;
 222:Device/Src/flash.c ****             }
 223:Device/Src/flash.c ****         break;
 224:Device/Src/flash.c ****         case TEST_DOT_CAP:
 225:Device/Src/flash.c ****             for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 226:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 227:Device/Src/flash.c ****                 uint8_to_float(&(result->testDotCap[i]), buffer);
 228:Device/Src/flash.c ****                 address  += 4;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 26


 229:Device/Src/flash.c ****             }
 230:Device/Src/flash.c ****         break;
 231:Device/Src/flash.c ****         case SET_TEMP:
 232:Device/Src/flash.c ****             flash_read_data(address, &(result->setTemp), 1);
 233:Device/Src/flash.c ****         break;
 234:Device/Src/flash.c ****         case TEMP_CONFIG:
 235:Device/Src/flash.c ****             flash_read_data(address, &(result->tempConfig), 1);
 236:Device/Src/flash.c ****         break;
 237:Device/Src/flash.c ****         case START_TIME_HOT:
 238:Device/Src/flash.c ****             flash_read_data(address, buffer, 2);
 239:Device/Src/flash.c ****             result->startTimeHot = buffer[0] * 256 + buffer[1];
 240:Device/Src/flash.c ****         break;
 241:Device/Src/flash.c ****         case START_TIME_COLD:
 242:Device/Src/flash.c ****             flash_read_data(address, buffer, 2);
 243:Device/Src/flash.c ****             result->startTimeCold = buffer[0] * 256 + buffer[1];
 244:Device/Src/flash.c ****         break;
 245:Device/Src/flash.c ****         case ERROR_TIME_HOT:
 246:Device/Src/flash.c ****             flash_read_data(address, &(result->errorTimeHot), 1);
 247:Device/Src/flash.c ****         break;
 248:Device/Src/flash.c ****         case ERROR_TIME_COLD:
 249:Device/Src/flash.c ****             flash_read_data(address, &(result->errorTimeCold), 1);
 250:Device/Src/flash.c ****         break;
 251:Device/Src/flash.c ****         case CALCUL_FLAG:
 252:Device/Src/flash.c ****             flash_read_data(address, &(result->calculFlag), 1);
 253:Device/Src/flash.c ****         break;
 254:Device/Src/flash.c ****         case TEMP_LOAD_FLAG:
 255:Device/Src/flash.c ****             flash_read_data(address, &(result->tempLoadFlag), 1);
 256:Device/Src/flash.c ****         break;
 257:Device/Src/flash.c ****         case TEST_CENTER:
 258:Device/Src/flash.c ****             flash_read_data(address, buffer, 4);
 259:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[0]), buffer);
 260:Device/Src/flash.c ****             flash_read_data(address + 4, buffer, 4);
 261:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[1]), buffer);
 262:Device/Src/flash.c ****         break;
 263:Device/Src/flash.c ****         case MACHINE_TEST_ALL:
 264:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VDD, buffer, 2);
 265:Device/Src/flash.c ****             result->machine.Ivdd = buffer[0] * 256 + buffer[1];
 266:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 267:Device/Src/flash.c ****             result->machine.Ivbat = buffer[0] * 256 + buffer[1];
 268:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 269:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_C, &(result->machine.configC), 1);
 270:Device/Src/flash.c ****             flash_read_data(address + MACHINE_SYSTEM_TEMP, &(result->machine.sysTemp), 1);
 271:Device/Src/flash.c ****             flash_read_data(address + MACHINE_RTC_TEMP, &(result->machine.rtcTemp), 1);
 272:Device/Src/flash.c ****             flash_read_data(address + MACHINE_TEST_FREQ, buffer, 4);
 273:Device/Src/flash.c ****             uint8_to_float(&(result->machine.testFreq), buffer);
 274:Device/Src/flash.c ****             flash_read_data(address + MACHINE_VBAT_2V5, buffer, 2);
 275:Device/Src/flash.c ****             result->machine.vbat_2V5 = buffer[0] * 256 + buffer[1];
 276:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 277:Device/Src/flash.c ****             result->machine.charge = buffer[0] * 256 + buffer[1];
 278:Device/Src/flash.c ****         break;
 279:Device/Src/flash.c ****         case CAP_CALCULATE:
 280:Device/Src/flash.c ****             flash_read_data(address, result->capCalcul, 151);
 281:Device/Src/flash.c ****         break;
 282:Device/Src/flash.c ****         case TEST_DATA_ALL:
 283:Device/Src/flash.c ****             for (i = 0; i <= CAP_CALCULATE; i++) {
 284:Device/Src/flash.c ****                 flash_test_data_read(result, rtcNumber, i);
 285:Device/Src/flash.c ****             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 27


 286:Device/Src/flash.c ****         break;
 287:Device/Src/flash.c ****         default: break;
 288:Device/Src/flash.c ****     }
 289:Device/Src/flash.c **** }
 1147              		.loc 1 289 1 is_stmt 0 view .LVU246
 1148 0088 02B0     		add	sp, sp, #8
 1149              	.LCFI23:
 1150              		.cfi_remember_state
 1151              		.cfi_def_cfa_offset 16
 1152              		@ sp needed
 1153 008a 70BD     		pop	{r4, r5, r6, pc}
 1154              	.LVL109:
 1155              	.L89:
 1156              	.LCFI24:
 1157              		.cfi_restore_state
 219:Device/Src/flash.c ****                 uint8_to_float(&(result->testDotTemp[i]), buffer);
 1158              		.loc 1 219 17 is_stmt 1 discriminator 3 view .LVU247
 1159 008c 0422     		movs	r2, #4
 1160 008e 0DEB0201 		add	r1, sp, r2
 1161 0092 2046     		mov	r0, r4
 1162 0094 FFF7FEFF 		bl	flash_read_data
 1163              	.LVL110:
 220:Device/Src/flash.c ****                 address  += 4;
 1164              		.loc 1 220 17 discriminator 3 view .LVU248
 1165 0098 A81C     		adds	r0, r5, #2
 1166 009a 01A9     		add	r1, sp, #4
 1167 009c 06EB8000 		add	r0, r6, r0, lsl #2
 1168 00a0 FFF7FEFF 		bl	uint8_to_float
 1169              	.LVL111:
 221:Device/Src/flash.c ****             }
 1170              		.loc 1 221 17 discriminator 3 view .LVU249
 221:Device/Src/flash.c ****             }
 1171              		.loc 1 221 26 is_stmt 0 discriminator 3 view .LVU250
 1172 00a4 0434     		adds	r4, r4, #4
 1173              	.LVL112:
 218:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1174              		.loc 1 218 50 is_stmt 1 discriminator 3 view .LVU251
 218:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1175              		.loc 1 218 51 is_stmt 0 discriminator 3 view .LVU252
 1176 00a6 0135     		adds	r5, r5, #1
 1177              	.LVL113:
 1178              	.L85:
 218:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1179              		.loc 1 218 25 is_stmt 1 discriminator 1 view .LVU253
 218:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1180              		.loc 1 218 13 is_stmt 0 discriminator 1 view .LVU254
 1181 00a8 042D     		cmp	r5, #4
 1182 00aa EFDD     		ble	.L89
 218:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1183              		.loc 1 218 13 discriminator 1 view .LVU255
 1184 00ac ECE7     		b	.L68
 1185              	.LVL114:
 1186              	.L92:
 213:Device/Src/flash.c ****         case CHIP_ID:
 1187              		.loc 1 213 5 view .LVU256
 1188 00ae 0025     		movs	r5, #0
 1189 00b0 FAE7     		b	.L85
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 28


 1190              	.LVL115:
 1191              	.L90:
 226:Device/Src/flash.c ****                 uint8_to_float(&(result->testDotCap[i]), buffer);
 1192              		.loc 1 226 17 is_stmt 1 discriminator 3 view .LVU257
 1193 00b2 0422     		movs	r2, #4
 1194 00b4 0DEB0201 		add	r1, sp, r2
 1195 00b8 2046     		mov	r0, r4
 1196 00ba FFF7FEFF 		bl	flash_read_data
 1197              	.LVL116:
 227:Device/Src/flash.c ****                 address  += 4;
 1198              		.loc 1 227 17 discriminator 3 view .LVU258
 1199 00be A81D     		adds	r0, r5, #6
 1200 00c0 06EB8000 		add	r0, r6, r0, lsl #2
 1201 00c4 01A9     		add	r1, sp, #4
 1202 00c6 0430     		adds	r0, r0, #4
 1203 00c8 FFF7FEFF 		bl	uint8_to_float
 1204              	.LVL117:
 228:Device/Src/flash.c ****             }
 1205              		.loc 1 228 17 discriminator 3 view .LVU259
 228:Device/Src/flash.c ****             }
 1206              		.loc 1 228 26 is_stmt 0 discriminator 3 view .LVU260
 1207 00cc 0434     		adds	r4, r4, #4
 1208              	.LVL118:
 225:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1209              		.loc 1 225 50 is_stmt 1 discriminator 3 view .LVU261
 225:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1210              		.loc 1 225 51 is_stmt 0 discriminator 3 view .LVU262
 1211 00ce 0135     		adds	r5, r5, #1
 1212              	.LVL119:
 1213              	.L84:
 225:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1214              		.loc 1 225 25 is_stmt 1 discriminator 1 view .LVU263
 225:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1215              		.loc 1 225 13 is_stmt 0 discriminator 1 view .LVU264
 1216 00d0 042D     		cmp	r5, #4
 1217 00d2 EEDD     		ble	.L90
 225:Device/Src/flash.c ****                 flash_read_data(address, buffer, 4);
 1218              		.loc 1 225 13 discriminator 1 view .LVU265
 1219 00d4 D8E7     		b	.L68
 1220              	.LVL120:
 1221              	.L93:
 213:Device/Src/flash.c ****         case CHIP_ID:
 1222              		.loc 1 213 5 view .LVU266
 1223 00d6 0025     		movs	r5, #0
 1224 00d8 FAE7     		b	.L84
 1225              	.L83:
 232:Device/Src/flash.c ****         break;
 1226              		.loc 1 232 13 is_stmt 1 view .LVU267
 1227 00da 0122     		movs	r2, #1
 1228              	.LVL121:
 232:Device/Src/flash.c ****         break;
 1229              		.loc 1 232 13 is_stmt 0 view .LVU268
 1230 00dc 00F13001 		add	r1, r0, #48
 1231              	.LVL122:
 232:Device/Src/flash.c ****         break;
 1232              		.loc 1 232 13 view .LVU269
 1233 00e0 2046     		mov	r0, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 29


 1234              	.LVL123:
 232:Device/Src/flash.c ****         break;
 1235              		.loc 1 232 13 view .LVU270
 1236 00e2 FFF7FEFF 		bl	flash_read_data
 1237              	.LVL124:
 233:Device/Src/flash.c ****         case TEMP_CONFIG:
 1238              		.loc 1 233 9 is_stmt 1 view .LVU271
 1239 00e6 CFE7     		b	.L68
 1240              	.LVL125:
 1241              	.L82:
 235:Device/Src/flash.c ****         break;
 1242              		.loc 1 235 13 view .LVU272
 1243 00e8 0122     		movs	r2, #1
 1244              	.LVL126:
 235:Device/Src/flash.c ****         break;
 1245              		.loc 1 235 13 is_stmt 0 view .LVU273
 1246 00ea 00F13101 		add	r1, r0, #49
 1247              	.LVL127:
 235:Device/Src/flash.c ****         break;
 1248              		.loc 1 235 13 view .LVU274
 1249 00ee 2046     		mov	r0, r4
 1250              	.LVL128:
 235:Device/Src/flash.c ****         break;
 1251              		.loc 1 235 13 view .LVU275
 1252 00f0 FFF7FEFF 		bl	flash_read_data
 1253              	.LVL129:
 236:Device/Src/flash.c ****         case START_TIME_HOT:
 1254              		.loc 1 236 9 is_stmt 1 view .LVU276
 1255 00f4 C8E7     		b	.L68
 1256              	.LVL130:
 1257              	.L81:
 238:Device/Src/flash.c ****             result->startTimeHot = buffer[0] * 256 + buffer[1];
 1258              		.loc 1 238 13 view .LVU277
 1259 00f6 0222     		movs	r2, #2
 1260              	.LVL131:
 238:Device/Src/flash.c ****             result->startTimeHot = buffer[0] * 256 + buffer[1];
 1261              		.loc 1 238 13 is_stmt 0 view .LVU278
 1262 00f8 01A9     		add	r1, sp, #4
 1263              	.LVL132:
 238:Device/Src/flash.c ****             result->startTimeHot = buffer[0] * 256 + buffer[1];
 1264              		.loc 1 238 13 view .LVU279
 1265 00fa 2046     		mov	r0, r4
 1266              	.LVL133:
 238:Device/Src/flash.c ****             result->startTimeHot = buffer[0] * 256 + buffer[1];
 1267              		.loc 1 238 13 view .LVU280
 1268 00fc FFF7FEFF 		bl	flash_read_data
 1269              	.LVL134:
 239:Device/Src/flash.c ****         break;
 1270              		.loc 1 239 13 is_stmt 1 view .LVU281
 239:Device/Src/flash.c ****         break;
 1271              		.loc 1 239 42 is_stmt 0 view .LVU282
 1272 0100 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 239:Device/Src/flash.c ****         break;
 1273              		.loc 1 239 60 view .LVU283
 1274 0104 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 239:Device/Src/flash.c ****         break;
 1275              		.loc 1 239 52 view .LVU284
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 30


 1276 0108 03EB0223 		add	r3, r3, r2, lsl #8
 239:Device/Src/flash.c ****         break;
 1277              		.loc 1 239 34 view .LVU285
 1278 010c 7386     		strh	r3, [r6, #50]	@ movhi
 240:Device/Src/flash.c ****         case START_TIME_COLD:
 1279              		.loc 1 240 9 is_stmt 1 view .LVU286
 1280 010e BBE7     		b	.L68
 1281              	.LVL135:
 1282              	.L80:
 242:Device/Src/flash.c ****             result->startTimeCold = buffer[0] * 256 + buffer[1];
 1283              		.loc 1 242 13 view .LVU287
 1284 0110 0222     		movs	r2, #2
 1285              	.LVL136:
 242:Device/Src/flash.c ****             result->startTimeCold = buffer[0] * 256 + buffer[1];
 1286              		.loc 1 242 13 is_stmt 0 view .LVU288
 1287 0112 01A9     		add	r1, sp, #4
 1288              	.LVL137:
 242:Device/Src/flash.c ****             result->startTimeCold = buffer[0] * 256 + buffer[1];
 1289              		.loc 1 242 13 view .LVU289
 1290 0114 2046     		mov	r0, r4
 1291              	.LVL138:
 242:Device/Src/flash.c ****             result->startTimeCold = buffer[0] * 256 + buffer[1];
 1292              		.loc 1 242 13 view .LVU290
 1293 0116 FFF7FEFF 		bl	flash_read_data
 1294              	.LVL139:
 243:Device/Src/flash.c ****         break;
 1295              		.loc 1 243 13 is_stmt 1 view .LVU291
 243:Device/Src/flash.c ****         break;
 1296              		.loc 1 243 43 is_stmt 0 view .LVU292
 1297 011a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 243:Device/Src/flash.c ****         break;
 1298              		.loc 1 243 61 view .LVU293
 1299 011e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 243:Device/Src/flash.c ****         break;
 1300              		.loc 1 243 53 view .LVU294
 1301 0122 03EB0223 		add	r3, r3, r2, lsl #8
 243:Device/Src/flash.c ****         break;
 1302              		.loc 1 243 35 view .LVU295
 1303 0126 B386     		strh	r3, [r6, #52]	@ movhi
 244:Device/Src/flash.c ****         case ERROR_TIME_HOT:
 1304              		.loc 1 244 9 is_stmt 1 view .LVU296
 1305 0128 AEE7     		b	.L68
 1306              	.LVL140:
 1307              	.L79:
 246:Device/Src/flash.c ****         break;
 1308              		.loc 1 246 13 view .LVU297
 1309 012a 0122     		movs	r2, #1
 1310              	.LVL141:
 246:Device/Src/flash.c ****         break;
 1311              		.loc 1 246 13 is_stmt 0 view .LVU298
 1312 012c 00F13601 		add	r1, r0, #54
 1313              	.LVL142:
 246:Device/Src/flash.c ****         break;
 1314              		.loc 1 246 13 view .LVU299
 1315 0130 2046     		mov	r0, r4
 1316              	.LVL143:
 246:Device/Src/flash.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 31


 1317              		.loc 1 246 13 view .LVU300
 1318 0132 FFF7FEFF 		bl	flash_read_data
 1319              	.LVL144:
 247:Device/Src/flash.c ****         case ERROR_TIME_COLD:
 1320              		.loc 1 247 9 is_stmt 1 view .LVU301
 1321 0136 A7E7     		b	.L68
 1322              	.LVL145:
 1323              	.L78:
 249:Device/Src/flash.c ****         break;
 1324              		.loc 1 249 13 view .LVU302
 1325 0138 0122     		movs	r2, #1
 1326              	.LVL146:
 249:Device/Src/flash.c ****         break;
 1327              		.loc 1 249 13 is_stmt 0 view .LVU303
 1328 013a 00F13701 		add	r1, r0, #55
 1329              	.LVL147:
 249:Device/Src/flash.c ****         break;
 1330              		.loc 1 249 13 view .LVU304
 1331 013e 2046     		mov	r0, r4
 1332              	.LVL148:
 249:Device/Src/flash.c ****         break;
 1333              		.loc 1 249 13 view .LVU305
 1334 0140 FFF7FEFF 		bl	flash_read_data
 1335              	.LVL149:
 250:Device/Src/flash.c ****         case CALCUL_FLAG:
 1336              		.loc 1 250 9 is_stmt 1 view .LVU306
 1337 0144 A0E7     		b	.L68
 1338              	.LVL150:
 1339              	.L77:
 252:Device/Src/flash.c ****         break;
 1340              		.loc 1 252 13 view .LVU307
 1341 0146 0122     		movs	r2, #1
 1342              	.LVL151:
 252:Device/Src/flash.c ****         break;
 1343              		.loc 1 252 13 is_stmt 0 view .LVU308
 1344 0148 00F13801 		add	r1, r0, #56
 1345              	.LVL152:
 252:Device/Src/flash.c ****         break;
 1346              		.loc 1 252 13 view .LVU309
 1347 014c 2046     		mov	r0, r4
 1348              	.LVL153:
 252:Device/Src/flash.c ****         break;
 1349              		.loc 1 252 13 view .LVU310
 1350 014e FFF7FEFF 		bl	flash_read_data
 1351              	.LVL154:
 253:Device/Src/flash.c ****         case TEMP_LOAD_FLAG:
 1352              		.loc 1 253 9 is_stmt 1 view .LVU311
 1353 0152 99E7     		b	.L68
 1354              	.LVL155:
 1355              	.L76:
 255:Device/Src/flash.c ****         break;
 1356              		.loc 1 255 13 view .LVU312
 1357 0154 0122     		movs	r2, #1
 1358              	.LVL156:
 255:Device/Src/flash.c ****         break;
 1359              		.loc 1 255 13 is_stmt 0 view .LVU313
 1360 0156 00F13901 		add	r1, r0, #57
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 32


 1361              	.LVL157:
 255:Device/Src/flash.c ****         break;
 1362              		.loc 1 255 13 view .LVU314
 1363 015a 2046     		mov	r0, r4
 1364              	.LVL158:
 255:Device/Src/flash.c ****         break;
 1365              		.loc 1 255 13 view .LVU315
 1366 015c FFF7FEFF 		bl	flash_read_data
 1367              	.LVL159:
 256:Device/Src/flash.c ****         case TEST_CENTER:
 1368              		.loc 1 256 9 is_stmt 1 view .LVU316
 1369 0160 92E7     		b	.L68
 1370              	.LVL160:
 1371              	.L75:
 258:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[0]), buffer);
 1372              		.loc 1 258 13 view .LVU317
 1373 0162 0422     		movs	r2, #4
 1374              	.LVL161:
 258:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[0]), buffer);
 1375              		.loc 1 258 13 is_stmt 0 view .LVU318
 1376 0164 0DEB0201 		add	r1, sp, r2
 1377              	.LVL162:
 258:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[0]), buffer);
 1378              		.loc 1 258 13 view .LVU319
 1379 0168 2046     		mov	r0, r4
 1380              	.LVL163:
 258:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[0]), buffer);
 1381              		.loc 1 258 13 view .LVU320
 1382 016a FFF7FEFF 		bl	flash_read_data
 1383              	.LVL164:
 259:Device/Src/flash.c ****             flash_read_data(address + 4, buffer, 4);
 1384              		.loc 1 259 13 is_stmt 1 view .LVU321
 1385 016e 01A9     		add	r1, sp, #4
 1386 0170 06F13C00 		add	r0, r6, #60
 1387 0174 FFF7FEFF 		bl	uint8_to_float
 1388              	.LVL165:
 260:Device/Src/flash.c ****             uint8_to_float(&(result->testCenter[1]), buffer);
 1389              		.loc 1 260 13 view .LVU322
 1390 0178 0422     		movs	r2, #4
 1391 017a 0DEB0201 		add	r1, sp, r2
 1392 017e A018     		adds	r0, r4, r2
 1393 0180 FFF7FEFF 		bl	flash_read_data
 1394              	.LVL166:
 261:Device/Src/flash.c ****         break;
 1395              		.loc 1 261 13 view .LVU323
 1396 0184 01A9     		add	r1, sp, #4
 1397 0186 06F14000 		add	r0, r6, #64
 1398 018a FFF7FEFF 		bl	uint8_to_float
 1399              	.LVL167:
 262:Device/Src/flash.c ****         case MACHINE_TEST_ALL:
 1400              		.loc 1 262 9 view .LVU324
 1401 018e 7BE7     		b	.L68
 1402              	.LVL168:
 1403              	.L73:
 264:Device/Src/flash.c ****             result->machine.Ivdd = buffer[0] * 256 + buffer[1];
 1404              		.loc 1 264 13 view .LVU325
 1405 0190 0222     		movs	r2, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 33


 1406              	.LVL169:
 264:Device/Src/flash.c ****             result->machine.Ivdd = buffer[0] * 256 + buffer[1];
 1407              		.loc 1 264 13 is_stmt 0 view .LVU326
 1408 0192 01A9     		add	r1, sp, #4
 1409              	.LVL170:
 264:Device/Src/flash.c ****             result->machine.Ivdd = buffer[0] * 256 + buffer[1];
 1410              		.loc 1 264 13 view .LVU327
 1411 0194 2046     		mov	r0, r4
 1412              	.LVL171:
 264:Device/Src/flash.c ****             result->machine.Ivdd = buffer[0] * 256 + buffer[1];
 1413              		.loc 1 264 13 view .LVU328
 1414 0196 FFF7FEFF 		bl	flash_read_data
 1415              	.LVL172:
 265:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 1416              		.loc 1 265 13 is_stmt 1 view .LVU329
 265:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 1417              		.loc 1 265 42 is_stmt 0 view .LVU330
 1418 019a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 265:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 1419              		.loc 1 265 60 view .LVU331
 1420 019e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 265:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 1421              		.loc 1 265 52 view .LVU332
 1422 01a2 03EB0223 		add	r3, r3, r2, lsl #8
 265:Device/Src/flash.c ****             flash_read_data(address + MACHINE_I_VBAT, buffer, 2);
 1423              		.loc 1 265 34 view .LVU333
 1424 01a6 A6F84430 		strh	r3, [r6, #68]	@ movhi
 266:Device/Src/flash.c ****             result->machine.Ivbat = buffer[0] * 256 + buffer[1];
 1425              		.loc 1 266 13 is_stmt 1 view .LVU334
 1426 01aa 0222     		movs	r2, #2
 1427 01ac 01A9     		add	r1, sp, #4
 1428 01ae A018     		adds	r0, r4, r2
 1429 01b0 FFF7FEFF 		bl	flash_read_data
 1430              	.LVL173:
 267:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 1431              		.loc 1 267 13 view .LVU335
 267:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 1432              		.loc 1 267 43 is_stmt 0 view .LVU336
 1433 01b4 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 267:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 1434              		.loc 1 267 61 view .LVU337
 1435 01b8 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 267:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 1436              		.loc 1 267 53 view .LVU338
 1437 01bc 03EB0223 		add	r3, r3, r2, lsl #8
 267:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_9, &(result->machine.config9), 1);
 1438              		.loc 1 267 35 view .LVU339
 1439 01c0 A6F84630 		strh	r3, [r6, #70]	@ movhi
 268:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CONFIG_C, &(result->machine.configC), 1);
 1440              		.loc 1 268 13 is_stmt 1 view .LVU340
 1441 01c4 0122     		movs	r2, #1
 1442 01c6 06F14801 		add	r1, r6, #72
 1443 01ca 201D     		adds	r0, r4, #4
 1444 01cc FFF7FEFF 		bl	flash_read_data
 1445              	.LVL174:
 269:Device/Src/flash.c ****             flash_read_data(address + MACHINE_SYSTEM_TEMP, &(result->machine.sysTemp), 1);
 1446              		.loc 1 269 13 view .LVU341
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 34


 1447 01d0 0122     		movs	r2, #1
 1448 01d2 06F14901 		add	r1, r6, #73
 1449 01d6 601D     		adds	r0, r4, #5
 1450 01d8 FFF7FEFF 		bl	flash_read_data
 1451              	.LVL175:
 270:Device/Src/flash.c ****             flash_read_data(address + MACHINE_RTC_TEMP, &(result->machine.rtcTemp), 1);
 1452              		.loc 1 270 13 view .LVU342
 1453 01dc 0122     		movs	r2, #1
 1454 01de 06F14A01 		add	r1, r6, #74
 1455 01e2 A01D     		adds	r0, r4, #6
 1456 01e4 FFF7FEFF 		bl	flash_read_data
 1457              	.LVL176:
 271:Device/Src/flash.c ****             flash_read_data(address + MACHINE_TEST_FREQ, buffer, 4);
 1458              		.loc 1 271 13 view .LVU343
 1459 01e8 0122     		movs	r2, #1
 1460 01ea 06F14B01 		add	r1, r6, #75
 1461 01ee E01D     		adds	r0, r4, #7
 1462 01f0 FFF7FEFF 		bl	flash_read_data
 1463              	.LVL177:
 272:Device/Src/flash.c ****             uint8_to_float(&(result->machine.testFreq), buffer);
 1464              		.loc 1 272 13 view .LVU344
 1465 01f4 0422     		movs	r2, #4
 1466 01f6 0DEB0201 		add	r1, sp, r2
 1467 01fa 04F10800 		add	r0, r4, #8
 1468 01fe FFF7FEFF 		bl	flash_read_data
 1469              	.LVL178:
 273:Device/Src/flash.c ****             flash_read_data(address + MACHINE_VBAT_2V5, buffer, 2);
 1470              		.loc 1 273 13 view .LVU345
 1471 0202 01A9     		add	r1, sp, #4
 1472 0204 06F14C00 		add	r0, r6, #76
 1473 0208 FFF7FEFF 		bl	uint8_to_float
 1474              	.LVL179:
 274:Device/Src/flash.c ****             result->machine.vbat_2V5 = buffer[0] * 256 + buffer[1];
 1475              		.loc 1 274 13 view .LVU346
 1476 020c 0222     		movs	r2, #2
 1477 020e 01A9     		add	r1, sp, #4
 1478 0210 04F10C00 		add	r0, r4, #12
 1479 0214 FFF7FEFF 		bl	flash_read_data
 1480              	.LVL180:
 275:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 1481              		.loc 1 275 13 view .LVU347
 275:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 1482              		.loc 1 275 46 is_stmt 0 view .LVU348
 1483 0218 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 275:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 1484              		.loc 1 275 64 view .LVU349
 1485 021c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 275:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 1486              		.loc 1 275 56 view .LVU350
 1487 0220 03EB0223 		add	r3, r3, r2, lsl #8
 275:Device/Src/flash.c ****             flash_read_data(address + MACHINE_CHARGE, buffer, 2);
 1488              		.loc 1 275 38 view .LVU351
 1489 0224 A6F85030 		strh	r3, [r6, #80]	@ movhi
 276:Device/Src/flash.c ****             result->machine.charge = buffer[0] * 256 + buffer[1];
 1490              		.loc 1 276 13 is_stmt 1 view .LVU352
 1491 0228 0222     		movs	r2, #2
 1492 022a 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 35


 1493 022c 04F10E00 		add	r0, r4, #14
 1494 0230 FFF7FEFF 		bl	flash_read_data
 1495              	.LVL181:
 277:Device/Src/flash.c ****         break;
 1496              		.loc 1 277 13 view .LVU353
 277:Device/Src/flash.c ****         break;
 1497              		.loc 1 277 44 is_stmt 0 view .LVU354
 1498 0234 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 277:Device/Src/flash.c ****         break;
 1499              		.loc 1 277 62 view .LVU355
 1500 0238 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 277:Device/Src/flash.c ****         break;
 1501              		.loc 1 277 54 view .LVU356
 1502 023c 03EB0223 		add	r3, r3, r2, lsl #8
 277:Device/Src/flash.c ****         break;
 1503              		.loc 1 277 36 view .LVU357
 1504 0240 A6F85230 		strh	r3, [r6, #82]	@ movhi
 278:Device/Src/flash.c ****         case CAP_CALCULATE:
 1505              		.loc 1 278 9 is_stmt 1 view .LVU358
 1506 0244 20E7     		b	.L68
 1507              	.LVL182:
 1508              	.L87:
 280:Device/Src/flash.c ****         break;
 1509              		.loc 1 280 13 view .LVU359
 1510 0246 9722     		movs	r2, #151
 1511              	.LVL183:
 280:Device/Src/flash.c ****         break;
 1512              		.loc 1 280 13 is_stmt 0 view .LVU360
 1513 0248 00F15401 		add	r1, r0, #84
 1514              	.LVL184:
 280:Device/Src/flash.c ****         break;
 1515              		.loc 1 280 13 view .LVU361
 1516 024c 2046     		mov	r0, r4
 1517              	.LVL185:
 280:Device/Src/flash.c ****         break;
 1518              		.loc 1 280 13 view .LVU362
 1519 024e FFF7FEFF 		bl	flash_read_data
 1520              	.LVL186:
 281:Device/Src/flash.c ****         case TEST_DATA_ALL:
 1521              		.loc 1 281 9 is_stmt 1 view .LVU363
 1522 0252 19E7     		b	.L68
 1523              	.LVL187:
 1524              	.L91:
 284:Device/Src/flash.c ****             }
 1525              		.loc 1 284 17 discriminator 3 view .LVU364
 1526 0254 A2B2     		uxth	r2, r4
 1527 0256 2946     		mov	r1, r5
 1528 0258 3046     		mov	r0, r6
 1529 025a FFF7FEFF 		bl	flash_test_data_read
 1530              	.LVL188:
 283:Device/Src/flash.c ****                 flash_test_data_read(result, rtcNumber, i);
 1531              		.loc 1 283 45 discriminator 3 view .LVU365
 283:Device/Src/flash.c ****                 flash_test_data_read(result, rtcNumber, i);
 1532              		.loc 1 283 46 is_stmt 0 discriminator 3 view .LVU366
 1533 025e 0134     		adds	r4, r4, #1
 1534              	.LVL189:
 1535              	.L88:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 36


 283:Device/Src/flash.c ****                 flash_test_data_read(result, rtcNumber, i);
 1536              		.loc 1 283 25 is_stmt 1 discriminator 1 view .LVU367
 283:Device/Src/flash.c ****                 flash_test_data_read(result, rtcNumber, i);
 1537              		.loc 1 283 13 is_stmt 0 discriminator 1 view .LVU368
 1538 0260 B4F5807F 		cmp	r4, #256
 1539 0264 F6DD     		ble	.L91
 1540 0266 0FE7     		b	.L68
 1541              		.cfi_endproc
 1542              	.LFE244:
 1544              		.section	.text.flash_test_data_write_add,"ax",%progbits
 1545              		.align	1
 1546              		.global	flash_test_data_write_add
 1547              		.syntax unified
 1548              		.thumb
 1549              		.thumb_func
 1551              	flash_test_data_write_add:
 1552              	.LVL190:
 1553              	.LFB245:
 290:Device/Src/flash.c **** 
 291:Device/Src/flash.c **** void flash_test_data_write_add(TestResult* result, uint8_t rtcNumber, TestResultList handle)
 292:Device/Src/flash.c **** {
 1554              		.loc 1 292 1 is_stmt 1 view -0
 1555              		.cfi_startproc
 1556              		@ args = 0, pretend = 0, frame = 24
 1557              		@ frame_needed = 0, uses_anonymous_args = 0
 1558              		.loc 1 292 1 is_stmt 0 view .LVU370
 1559 0000 70B5     		push	{r4, r5, r6, lr}
 1560              	.LCFI25:
 1561              		.cfi_def_cfa_offset 16
 1562              		.cfi_offset 4, -16
 1563              		.cfi_offset 5, -12
 1564              		.cfi_offset 6, -8
 1565              		.cfi_offset 14, -4
 1566 0002 86B0     		sub	sp, sp, #24
 1567              	.LCFI26:
 1568              		.cfi_def_cfa_offset 40
 293:Device/Src/flash.c ****     uint32_t address;
 1569              		.loc 1 293 5 is_stmt 1 view .LVU371
 294:Device/Src/flash.c ****     uint8_t buffer[4] = {0};
 1570              		.loc 1 294 5 view .LVU372
 1571              		.loc 1 294 13 is_stmt 0 view .LVU373
 1572 0004 0023     		movs	r3, #0
 1573 0006 0593     		str	r3, [sp, #20]
 295:Device/Src/flash.c ****     uint8_t machineBuffer[FALSH_MACHINE_DATA_LENGTH] = {0};
 1574              		.loc 1 295 5 is_stmt 1 view .LVU374
 1575              		.loc 1 295 13 is_stmt 0 view .LVU375
 1576 0008 0193     		str	r3, [sp, #4]
 1577 000a 0293     		str	r3, [sp, #8]
 1578 000c 0393     		str	r3, [sp, #12]
 1579 000e 0493     		str	r3, [sp, #16]
 296:Device/Src/flash.c ****     int i;
 1580              		.loc 1 296 5 is_stmt 1 view .LVU376
 297:Device/Src/flash.c ****     if (rtcNumber < 1 || rtcNumber > MAX_CHIP_NUMBER) {
 1581              		.loc 1 297 5 view .LVU377
 1582              		.loc 1 297 23 is_stmt 0 view .LVU378
 1583 0010 4B1E     		subs	r3, r1, #1
 1584 0012 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 37


 1585              		.loc 1 297 8 view .LVU379
 1586 0014 632B     		cmp	r3, #99
 1587 0016 3BD8     		bhi	.L96
 1588 0018 0646     		mov	r6, r0
 1589 001a 0D46     		mov	r5, r1
 298:Device/Src/flash.c ****         return;
 299:Device/Src/flash.c ****     }
 300:Device/Src/flash.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + handle;
 1590              		.loc 1 300 5 is_stmt 1 view .LVU380
 1591              		.loc 1 300 38 is_stmt 0 view .LVU381
 1592 001c CC1D     		adds	r4, r1, #7
 1593              		.loc 1 300 79 view .LVU382
 1594 001e 02EB4424 		add	r4, r2, r4, lsl #9
 1595              	.LVL191:
 301:Device/Src/flash.c ****     switch (handle) {
 1596              		.loc 1 301 5 is_stmt 1 view .LVU383
 1597 0022 422A     		cmp	r2, #66
 1598 0024 25D8     		bhi	.L99
 1599 0026 422A     		cmp	r2, #66
 1600 0028 32D8     		bhi	.L96
 1601 002a DFE802F0 		tbb	[pc, r2]
 1602              	.L102:
 1603 002e 2C       		.byte	(.L114-.L102)/2
 1604 002f 31       		.byte	(.L96-.L102)/2
 1605 0030 31       		.byte	(.L96-.L102)/2
 1606 0031 31       		.byte	(.L96-.L102)/2
 1607 0032 31       		.byte	(.L96-.L102)/2
 1608 0033 31       		.byte	(.L96-.L102)/2
 1609 0034 31       		.byte	(.L96-.L102)/2
 1610 0035 31       		.byte	(.L96-.L102)/2
 1611 0036 43       		.byte	(.L123-.L102)/2
 1612 0037 31       		.byte	(.L96-.L102)/2
 1613 0038 31       		.byte	(.L96-.L102)/2
 1614 0039 31       		.byte	(.L96-.L102)/2
 1615 003a 31       		.byte	(.L96-.L102)/2
 1616 003b 31       		.byte	(.L96-.L102)/2
 1617 003c 31       		.byte	(.L96-.L102)/2
 1618 003d 31       		.byte	(.L96-.L102)/2
 1619 003e 31       		.byte	(.L96-.L102)/2
 1620 003f 31       		.byte	(.L96-.L102)/2
 1621 0040 31       		.byte	(.L96-.L102)/2
 1622 0041 31       		.byte	(.L96-.L102)/2
 1623 0042 31       		.byte	(.L96-.L102)/2
 1624 0043 31       		.byte	(.L96-.L102)/2
 1625 0044 31       		.byte	(.L96-.L102)/2
 1626 0045 31       		.byte	(.L96-.L102)/2
 1627 0046 31       		.byte	(.L96-.L102)/2
 1628 0047 31       		.byte	(.L96-.L102)/2
 1629 0048 31       		.byte	(.L96-.L102)/2
 1630 0049 31       		.byte	(.L96-.L102)/2
 1631 004a 56       		.byte	(.L124-.L102)/2
 1632 004b 31       		.byte	(.L96-.L102)/2
 1633 004c 31       		.byte	(.L96-.L102)/2
 1634 004d 31       		.byte	(.L96-.L102)/2
 1635 004e 31       		.byte	(.L96-.L102)/2
 1636 004f 31       		.byte	(.L96-.L102)/2
 1637 0050 31       		.byte	(.L96-.L102)/2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 38


 1638 0051 31       		.byte	(.L96-.L102)/2
 1639 0052 31       		.byte	(.L96-.L102)/2
 1640 0053 31       		.byte	(.L96-.L102)/2
 1641 0054 31       		.byte	(.L96-.L102)/2
 1642 0055 31       		.byte	(.L96-.L102)/2
 1643 0056 31       		.byte	(.L96-.L102)/2
 1644 0057 31       		.byte	(.L96-.L102)/2
 1645 0058 31       		.byte	(.L96-.L102)/2
 1646 0059 31       		.byte	(.L96-.L102)/2
 1647 005a 31       		.byte	(.L96-.L102)/2
 1648 005b 31       		.byte	(.L96-.L102)/2
 1649 005c 31       		.byte	(.L96-.L102)/2
 1650 005d 31       		.byte	(.L96-.L102)/2
 1651 005e 58       		.byte	(.L111-.L102)/2
 1652 005f 5F       		.byte	(.L110-.L102)/2
 1653 0060 31       		.byte	(.L96-.L102)/2
 1654 0061 66       		.byte	(.L109-.L102)/2
 1655 0062 31       		.byte	(.L96-.L102)/2
 1656 0063 72       		.byte	(.L108-.L102)/2
 1657 0064 7E       		.byte	(.L107-.L102)/2
 1658 0065 85       		.byte	(.L106-.L102)/2
 1659 0066 8C       		.byte	(.L105-.L102)/2
 1660 0067 93       		.byte	(.L104-.L102)/2
 1661 0068 AC       		.byte	(.L125-.L102)/2
 1662 0069 31       		.byte	(.L96-.L102)/2
 1663 006a 31       		.byte	(.L96-.L102)/2
 1664 006b 31       		.byte	(.L96-.L102)/2
 1665 006c 31       		.byte	(.L96-.L102)/2
 1666 006d 31       		.byte	(.L96-.L102)/2
 1667 006e 31       		.byte	(.L96-.L102)/2
 1668 006f 31       		.byte	(.L96-.L102)/2
 1669 0070 AE       		.byte	(.L101-.L102)/2
 1670 0071 00       		.p2align 1
 1671              	.L99:
 1672 0072 B2F5807F 		cmp	r2, #256
 1673 0076 00F0CE80 		beq	.L115
 1674 007a 40F20113 		movw	r3, #257
 1675 007e 9A42     		cmp	r2, r3
 1676 0080 06D1     		bne	.L96
 1677 0082 0024     		movs	r4, #0
 1678              	.LVL192:
 1679              		.loc 1 301 5 is_stmt 0 view .LVU384
 1680 0084 D4E0     		b	.L116
 1681              	.LVL193:
 1682              	.L114:
 302:Device/Src/flash.c ****         case CHIP_ID:
 303:Device/Src/flash.c ****             flash_write_data(address, result->chipID, 8);
 1683              		.loc 1 303 13 is_stmt 1 view .LVU385
 1684 0086 0822     		movs	r2, #8
 1685              	.LVL194:
 1686              		.loc 1 303 13 is_stmt 0 view .LVU386
 1687 0088 0146     		mov	r1, r0
 1688              	.LVL195:
 1689              		.loc 1 303 13 view .LVU387
 1690 008a 2046     		mov	r0, r4
 1691              	.LVL196:
 1692              		.loc 1 303 13 view .LVU388
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 39


 1693 008c FFF7FEFF 		bl	flash_write_data
 1694              	.LVL197:
 304:Device/Src/flash.c ****         break;
 1695              		.loc 1 304 9 is_stmt 1 view .LVU389
 1696              	.L96:
 305:Device/Src/flash.c ****         case TEST_DOT_TEMP:
 306:Device/Src/flash.c ****             for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 307:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 308:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 309:Device/Src/flash.c ****                 address += 4;
 310:Device/Src/flash.c ****             }
 311:Device/Src/flash.c ****         break;
 312:Device/Src/flash.c ****         case TEST_DOT_CAP:
 313:Device/Src/flash.c ****             for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 314:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 315:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 316:Device/Src/flash.c ****                 address += 4;
 317:Device/Src/flash.c ****             }
 318:Device/Src/flash.c ****         break;
 319:Device/Src/flash.c ****         case SET_TEMP:
 320:Device/Src/flash.c ****             flash_write_data(address, &(result->setTemp), 1);
 321:Device/Src/flash.c ****         break;
 322:Device/Src/flash.c ****         case TEMP_CONFIG:
 323:Device/Src/flash.c ****             flash_write_data(address, &(result->tempConfig), 1);
 324:Device/Src/flash.c ****         break;
 325:Device/Src/flash.c ****         case START_TIME_HOT:
 326:Device/Src/flash.c ****             buffer[0] = result->startTimeHot / 256;
 327:Device/Src/flash.c ****             buffer[1] = result->startTimeHot % 256;
 328:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 329:Device/Src/flash.c ****         break;
 330:Device/Src/flash.c ****         case START_TIME_COLD:
 331:Device/Src/flash.c ****             buffer[0] = result->startTimeCold / 256;
 332:Device/Src/flash.c ****             buffer[1] = result->startTimeCold % 256;
 333:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 334:Device/Src/flash.c ****         break;
 335:Device/Src/flash.c ****         case ERROR_TIME_HOT:
 336:Device/Src/flash.c ****             flash_write_data(address, &(result->errorTimeHot), 1);
 337:Device/Src/flash.c ****         break;
 338:Device/Src/flash.c ****         case ERROR_TIME_COLD:
 339:Device/Src/flash.c ****             flash_write_data(address, &(result->errorTimeCold), 1);
 340:Device/Src/flash.c ****         break;
 341:Device/Src/flash.c ****         case CALCUL_FLAG:
 342:Device/Src/flash.c ****             flash_write_data(address, &(result->calculFlag), 1);
 343:Device/Src/flash.c ****         break;
 344:Device/Src/flash.c ****         case TEMP_LOAD_FLAG:
 345:Device/Src/flash.c ****             flash_write_data(address, &(result->tempLoadFlag), 1);
 346:Device/Src/flash.c ****         break;
 347:Device/Src/flash.c ****         case TEST_CENTER:
 348:Device/Src/flash.c ****             for (i = 0; i < 2; i++) {
 349:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 350:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 351:Device/Src/flash.c ****                 address += 4;
 352:Device/Src/flash.c ****             }
 353:Device/Src/flash.c ****         break;
 354:Device/Src/flash.c ****         case MACHINE_TEST_ALL:
 355:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD] = result->machine.Ivdd / 256;
 356:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD + 1] = result->machine.Ivdd % 256;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 40


 357:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT] = result->machine.Ivbat / 256;
 358:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT + 1] = result->machine.Ivbat % 256;
 359:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_9] = result->machine.config9;
 360:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_C] = result->machine.configC;
 361:Device/Src/flash.c ****             machineBuffer[MACHINE_SYSTEM_TEMP] = result->machine.sysTemp;
 362:Device/Src/flash.c ****             machineBuffer[MACHINE_RTC_TEMP] = result->machine.rtcTemp;
 363:Device/Src/flash.c ****             float_to_uint8(buffer, &(result->machine.testFreq));
 364:Device/Src/flash.c ****             for (i = 0; i < 4; i++) {
 365:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 366:Device/Src/flash.c ****             }
 367:Device/Src/flash.c ****             machineBuffer[MACHINE_VBAT_2V5] = result->machine.vbat_2V5 / 256;
 368:Device/Src/flash.c ****             machineBuffer[MACHINE_VBAT_2V5 + 1] = result->machine.vbat_2V5 % 256;
 369:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE] = result->machine.charge / 256;
 370:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE + 1] = result->machine.charge % 256;
 371:Device/Src/flash.c ****             flash_write_data(address, machineBuffer, FALSH_MACHINE_DATA_LENGTH);
 372:Device/Src/flash.c ****         break;
 373:Device/Src/flash.c ****         case CAP_CALCULATE:
 374:Device/Src/flash.c ****             flash_write_data(address, result->capCalcul, 151);
 375:Device/Src/flash.c ****         break;
 376:Device/Src/flash.c ****         case TEST_DATA_ALL:
 377:Device/Src/flash.c ****             for (i = 0; i <= CAP_CALCULATE; i++) {
 378:Device/Src/flash.c ****                 flash_test_data_write_add(result, rtcNumber, i);
 379:Device/Src/flash.c ****             }
 380:Device/Src/flash.c ****         break;
 381:Device/Src/flash.c ****         default: break;
 382:Device/Src/flash.c ****     }
 383:Device/Src/flash.c **** }
 1697              		.loc 1 383 1 is_stmt 0 view .LVU390
 1698 0090 06B0     		add	sp, sp, #24
 1699              	.LCFI27:
 1700              		.cfi_remember_state
 1701              		.cfi_def_cfa_offset 16
 1702              		@ sp needed
 1703 0092 70BD     		pop	{r4, r5, r6, pc}
 1704              	.LVL198:
 1705              	.L117:
 1706              	.LCFI28:
 1707              		.cfi_restore_state
 307:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 1708              		.loc 1 307 17 is_stmt 1 discriminator 3 view .LVU391
 1709 0094 A91C     		adds	r1, r5, #2
 1710 0096 06EB8101 		add	r1, r6, r1, lsl #2
 1711 009a 05A8     		add	r0, sp, #20
 1712 009c FFF7FEFF 		bl	float_to_uint8
 1713              	.LVL199:
 308:Device/Src/flash.c ****                 address += 4;
 1714              		.loc 1 308 17 discriminator 3 view .LVU392
 1715 00a0 0422     		movs	r2, #4
 1716 00a2 05A9     		add	r1, sp, #20
 1717 00a4 2046     		mov	r0, r4
 1718 00a6 FFF7FEFF 		bl	flash_write_data
 1719              	.LVL200:
 309:Device/Src/flash.c ****             }
 1720              		.loc 1 309 17 discriminator 3 view .LVU393
 309:Device/Src/flash.c ****             }
 1721              		.loc 1 309 25 is_stmt 0 discriminator 3 view .LVU394
 1722 00aa 0434     		adds	r4, r4, #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 41


 1723              	.LVL201:
 306:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 1724              		.loc 1 306 50 is_stmt 1 discriminator 3 view .LVU395
 306:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 1725              		.loc 1 306 51 is_stmt 0 discriminator 3 view .LVU396
 1726 00ac 0135     		adds	r5, r5, #1
 1727              	.LVL202:
 1728              	.L113:
 306:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 1729              		.loc 1 306 25 is_stmt 1 discriminator 1 view .LVU397
 306:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 1730              		.loc 1 306 13 is_stmt 0 discriminator 1 view .LVU398
 1731 00ae 042D     		cmp	r5, #4
 1732 00b0 F0DD     		ble	.L117
 306:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotTemp[i]));
 1733              		.loc 1 306 13 discriminator 1 view .LVU399
 1734 00b2 EDE7     		b	.L96
 1735              	.LVL203:
 1736              	.L123:
 301:Device/Src/flash.c ****         case CHIP_ID:
 1737              		.loc 1 301 5 view .LVU400
 1738 00b4 0025     		movs	r5, #0
 1739 00b6 FAE7     		b	.L113
 1740              	.LVL204:
 1741              	.L118:
 314:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 1742              		.loc 1 314 17 is_stmt 1 discriminator 3 view .LVU401
 1743 00b8 A91D     		adds	r1, r5, #6
 1744 00ba 06EB8101 		add	r1, r6, r1, lsl #2
 1745 00be 0431     		adds	r1, r1, #4
 1746 00c0 05A8     		add	r0, sp, #20
 1747 00c2 FFF7FEFF 		bl	float_to_uint8
 1748              	.LVL205:
 315:Device/Src/flash.c ****                 address += 4;
 1749              		.loc 1 315 17 discriminator 3 view .LVU402
 1750 00c6 0422     		movs	r2, #4
 1751 00c8 05A9     		add	r1, sp, #20
 1752 00ca 2046     		mov	r0, r4
 1753 00cc FFF7FEFF 		bl	flash_write_data
 1754              	.LVL206:
 316:Device/Src/flash.c ****             }
 1755              		.loc 1 316 17 discriminator 3 view .LVU403
 316:Device/Src/flash.c ****             }
 1756              		.loc 1 316 25 is_stmt 0 discriminator 3 view .LVU404
 1757 00d0 0434     		adds	r4, r4, #4
 1758              	.LVL207:
 313:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 1759              		.loc 1 313 50 is_stmt 1 discriminator 3 view .LVU405
 313:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 1760              		.loc 1 313 51 is_stmt 0 discriminator 3 view .LVU406
 1761 00d2 0135     		adds	r5, r5, #1
 1762              	.LVL208:
 1763              	.L112:
 313:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 1764              		.loc 1 313 25 is_stmt 1 discriminator 1 view .LVU407
 313:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 1765              		.loc 1 313 13 is_stmt 0 discriminator 1 view .LVU408
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 42


 1766 00d4 042D     		cmp	r5, #4
 1767 00d6 EFDD     		ble	.L118
 313:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testDotCap[i]));
 1768              		.loc 1 313 13 discriminator 1 view .LVU409
 1769 00d8 DAE7     		b	.L96
 1770              	.LVL209:
 1771              	.L124:
 301:Device/Src/flash.c ****         case CHIP_ID:
 1772              		.loc 1 301 5 view .LVU410
 1773 00da 0025     		movs	r5, #0
 1774 00dc FAE7     		b	.L112
 1775              	.L111:
 320:Device/Src/flash.c ****         break;
 1776              		.loc 1 320 13 is_stmt 1 view .LVU411
 1777 00de 0122     		movs	r2, #1
 1778              	.LVL210:
 320:Device/Src/flash.c ****         break;
 1779              		.loc 1 320 13 is_stmt 0 view .LVU412
 1780 00e0 00F13001 		add	r1, r0, #48
 1781              	.LVL211:
 320:Device/Src/flash.c ****         break;
 1782              		.loc 1 320 13 view .LVU413
 1783 00e4 2046     		mov	r0, r4
 1784              	.LVL212:
 320:Device/Src/flash.c ****         break;
 1785              		.loc 1 320 13 view .LVU414
 1786 00e6 FFF7FEFF 		bl	flash_write_data
 1787              	.LVL213:
 321:Device/Src/flash.c ****         case TEMP_CONFIG:
 1788              		.loc 1 321 9 is_stmt 1 view .LVU415
 1789 00ea D1E7     		b	.L96
 1790              	.LVL214:
 1791              	.L110:
 323:Device/Src/flash.c ****         break;
 1792              		.loc 1 323 13 view .LVU416
 1793 00ec 0122     		movs	r2, #1
 1794              	.LVL215:
 323:Device/Src/flash.c ****         break;
 1795              		.loc 1 323 13 is_stmt 0 view .LVU417
 1796 00ee 00F13101 		add	r1, r0, #49
 1797              	.LVL216:
 323:Device/Src/flash.c ****         break;
 1798              		.loc 1 323 13 view .LVU418
 1799 00f2 2046     		mov	r0, r4
 1800              	.LVL217:
 323:Device/Src/flash.c ****         break;
 1801              		.loc 1 323 13 view .LVU419
 1802 00f4 FFF7FEFF 		bl	flash_write_data
 1803              	.LVL218:
 324:Device/Src/flash.c ****         case START_TIME_HOT:
 1804              		.loc 1 324 9 is_stmt 1 view .LVU420
 1805 00f8 CAE7     		b	.L96
 1806              	.LVL219:
 1807              	.L109:
 326:Device/Src/flash.c ****             buffer[1] = result->startTimeHot % 256;
 1808              		.loc 1 326 13 view .LVU421
 326:Device/Src/flash.c ****             buffer[1] = result->startTimeHot % 256;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 43


 1809              		.loc 1 326 31 is_stmt 0 view .LVU422
 1810 00fa 438E     		ldrh	r3, [r0, #50]
 326:Device/Src/flash.c ****             buffer[1] = result->startTimeHot % 256;
 1811              		.loc 1 326 23 view .LVU423
 1812 00fc 1A0A     		lsrs	r2, r3, #8
 1813              	.LVL220:
 326:Device/Src/flash.c ****             buffer[1] = result->startTimeHot % 256;
 1814              		.loc 1 326 23 view .LVU424
 1815 00fe 8DF81420 		strb	r2, [sp, #20]
 327:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 1816              		.loc 1 327 13 is_stmt 1 view .LVU425
 327:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 1817              		.loc 1 327 23 is_stmt 0 view .LVU426
 1818 0102 8DF81530 		strb	r3, [sp, #21]
 328:Device/Src/flash.c ****         break;
 1819              		.loc 1 328 13 is_stmt 1 view .LVU427
 1820 0106 0222     		movs	r2, #2
 1821 0108 05A9     		add	r1, sp, #20
 1822              	.LVL221:
 328:Device/Src/flash.c ****         break;
 1823              		.loc 1 328 13 is_stmt 0 view .LVU428
 1824 010a 2046     		mov	r0, r4
 1825              	.LVL222:
 328:Device/Src/flash.c ****         break;
 1826              		.loc 1 328 13 view .LVU429
 1827 010c FFF7FEFF 		bl	flash_write_data
 1828              	.LVL223:
 329:Device/Src/flash.c ****         case START_TIME_COLD:
 1829              		.loc 1 329 9 is_stmt 1 view .LVU430
 1830 0110 BEE7     		b	.L96
 1831              	.LVL224:
 1832              	.L108:
 331:Device/Src/flash.c ****             buffer[1] = result->startTimeCold % 256;
 1833              		.loc 1 331 13 view .LVU431
 331:Device/Src/flash.c ****             buffer[1] = result->startTimeCold % 256;
 1834              		.loc 1 331 31 is_stmt 0 view .LVU432
 1835 0112 838E     		ldrh	r3, [r0, #52]
 331:Device/Src/flash.c ****             buffer[1] = result->startTimeCold % 256;
 1836              		.loc 1 331 23 view .LVU433
 1837 0114 1A0A     		lsrs	r2, r3, #8
 1838              	.LVL225:
 331:Device/Src/flash.c ****             buffer[1] = result->startTimeCold % 256;
 1839              		.loc 1 331 23 view .LVU434
 1840 0116 8DF81420 		strb	r2, [sp, #20]
 332:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 1841              		.loc 1 332 13 is_stmt 1 view .LVU435
 332:Device/Src/flash.c ****             flash_write_data(address, buffer, 2);
 1842              		.loc 1 332 23 is_stmt 0 view .LVU436
 1843 011a 8DF81530 		strb	r3, [sp, #21]
 333:Device/Src/flash.c ****         break;
 1844              		.loc 1 333 13 is_stmt 1 view .LVU437
 1845 011e 0222     		movs	r2, #2
 1846 0120 05A9     		add	r1, sp, #20
 1847              	.LVL226:
 333:Device/Src/flash.c ****         break;
 1848              		.loc 1 333 13 is_stmt 0 view .LVU438
 1849 0122 2046     		mov	r0, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 44


 1850              	.LVL227:
 333:Device/Src/flash.c ****         break;
 1851              		.loc 1 333 13 view .LVU439
 1852 0124 FFF7FEFF 		bl	flash_write_data
 1853              	.LVL228:
 334:Device/Src/flash.c ****         case ERROR_TIME_HOT:
 1854              		.loc 1 334 9 is_stmt 1 view .LVU440
 1855 0128 B2E7     		b	.L96
 1856              	.LVL229:
 1857              	.L107:
 336:Device/Src/flash.c ****         break;
 1858              		.loc 1 336 13 view .LVU441
 1859 012a 0122     		movs	r2, #1
 1860              	.LVL230:
 336:Device/Src/flash.c ****         break;
 1861              		.loc 1 336 13 is_stmt 0 view .LVU442
 1862 012c 00F13601 		add	r1, r0, #54
 1863              	.LVL231:
 336:Device/Src/flash.c ****         break;
 1864              		.loc 1 336 13 view .LVU443
 1865 0130 2046     		mov	r0, r4
 1866              	.LVL232:
 336:Device/Src/flash.c ****         break;
 1867              		.loc 1 336 13 view .LVU444
 1868 0132 FFF7FEFF 		bl	flash_write_data
 1869              	.LVL233:
 337:Device/Src/flash.c ****         case ERROR_TIME_COLD:
 1870              		.loc 1 337 9 is_stmt 1 view .LVU445
 1871 0136 ABE7     		b	.L96
 1872              	.LVL234:
 1873              	.L106:
 339:Device/Src/flash.c ****         break;
 1874              		.loc 1 339 13 view .LVU446
 1875 0138 0122     		movs	r2, #1
 1876              	.LVL235:
 339:Device/Src/flash.c ****         break;
 1877              		.loc 1 339 13 is_stmt 0 view .LVU447
 1878 013a 00F13701 		add	r1, r0, #55
 1879              	.LVL236:
 339:Device/Src/flash.c ****         break;
 1880              		.loc 1 339 13 view .LVU448
 1881 013e 2046     		mov	r0, r4
 1882              	.LVL237:
 339:Device/Src/flash.c ****         break;
 1883              		.loc 1 339 13 view .LVU449
 1884 0140 FFF7FEFF 		bl	flash_write_data
 1885              	.LVL238:
 340:Device/Src/flash.c ****         case CALCUL_FLAG:
 1886              		.loc 1 340 9 is_stmt 1 view .LVU450
 1887 0144 A4E7     		b	.L96
 1888              	.LVL239:
 1889              	.L105:
 342:Device/Src/flash.c ****         break;
 1890              		.loc 1 342 13 view .LVU451
 1891 0146 0122     		movs	r2, #1
 1892              	.LVL240:
 342:Device/Src/flash.c ****         break;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 45


 1893              		.loc 1 342 13 is_stmt 0 view .LVU452
 1894 0148 00F13801 		add	r1, r0, #56
 1895              	.LVL241:
 342:Device/Src/flash.c ****         break;
 1896              		.loc 1 342 13 view .LVU453
 1897 014c 2046     		mov	r0, r4
 1898              	.LVL242:
 342:Device/Src/flash.c ****         break;
 1899              		.loc 1 342 13 view .LVU454
 1900 014e FFF7FEFF 		bl	flash_write_data
 1901              	.LVL243:
 343:Device/Src/flash.c ****         case TEMP_LOAD_FLAG:
 1902              		.loc 1 343 9 is_stmt 1 view .LVU455
 1903 0152 9DE7     		b	.L96
 1904              	.LVL244:
 1905              	.L104:
 345:Device/Src/flash.c ****         break;
 1906              		.loc 1 345 13 view .LVU456
 1907 0154 0122     		movs	r2, #1
 1908              	.LVL245:
 345:Device/Src/flash.c ****         break;
 1909              		.loc 1 345 13 is_stmt 0 view .LVU457
 1910 0156 00F13901 		add	r1, r0, #57
 1911              	.LVL246:
 345:Device/Src/flash.c ****         break;
 1912              		.loc 1 345 13 view .LVU458
 1913 015a 2046     		mov	r0, r4
 1914              	.LVL247:
 345:Device/Src/flash.c ****         break;
 1915              		.loc 1 345 13 view .LVU459
 1916 015c FFF7FEFF 		bl	flash_write_data
 1917              	.LVL248:
 346:Device/Src/flash.c ****         case TEST_CENTER:
 1918              		.loc 1 346 9 is_stmt 1 view .LVU460
 1919 0160 96E7     		b	.L96
 1920              	.LVL249:
 1921              	.L119:
 349:Device/Src/flash.c ****                 flash_write_data(address, buffer, 4);
 1922              		.loc 1 349 17 discriminator 3 view .LVU461
 1923 0162 05F10E01 		add	r1, r5, #14
 1924 0166 06EB8101 		add	r1, r6, r1, lsl #2
 1925 016a 0431     		adds	r1, r1, #4
 1926 016c 05A8     		add	r0, sp, #20
 1927 016e FFF7FEFF 		bl	float_to_uint8
 1928              	.LVL250:
 350:Device/Src/flash.c ****                 address += 4;
 1929              		.loc 1 350 17 discriminator 3 view .LVU462
 1930 0172 0422     		movs	r2, #4
 1931 0174 05A9     		add	r1, sp, #20
 1932 0176 2046     		mov	r0, r4
 1933 0178 FFF7FEFF 		bl	flash_write_data
 1934              	.LVL251:
 351:Device/Src/flash.c ****             }
 1935              		.loc 1 351 17 discriminator 3 view .LVU463
 351:Device/Src/flash.c ****             }
 1936              		.loc 1 351 25 is_stmt 0 discriminator 3 view .LVU464
 1937 017c 0434     		adds	r4, r4, #4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 46


 1938              	.LVL252:
 348:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 1939              		.loc 1 348 32 is_stmt 1 discriminator 3 view .LVU465
 348:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 1940              		.loc 1 348 33 is_stmt 0 discriminator 3 view .LVU466
 1941 017e 0135     		adds	r5, r5, #1
 1942              	.LVL253:
 1943              	.L103:
 348:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 1944              		.loc 1 348 25 is_stmt 1 discriminator 1 view .LVU467
 348:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 1945              		.loc 1 348 13 is_stmt 0 discriminator 1 view .LVU468
 1946 0180 012D     		cmp	r5, #1
 1947 0182 EEDD     		ble	.L119
 348:Device/Src/flash.c ****                 float_to_uint8(buffer, &(result->testCenter[i]));
 1948              		.loc 1 348 13 discriminator 1 view .LVU469
 1949 0184 84E7     		b	.L96
 1950              	.LVL254:
 1951              	.L125:
 301:Device/Src/flash.c ****         case CHIP_ID:
 1952              		.loc 1 301 5 view .LVU470
 1953 0186 0025     		movs	r5, #0
 1954 0188 FAE7     		b	.L103
 1955              	.L101:
 355:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD + 1] = result->machine.Ivdd % 256;
 1956              		.loc 1 355 13 is_stmt 1 view .LVU471
 355:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD + 1] = result->machine.Ivdd % 256;
 1957              		.loc 1 355 59 is_stmt 0 view .LVU472
 1958 018a B0F84430 		ldrh	r3, [r0, #68]
 355:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD + 1] = result->machine.Ivdd % 256;
 1959              		.loc 1 355 42 view .LVU473
 1960 018e 1A0A     		lsrs	r2, r3, #8
 1961              	.LVL255:
 355:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VDD + 1] = result->machine.Ivdd % 256;
 1962              		.loc 1 355 42 view .LVU474
 1963 0190 8DF80420 		strb	r2, [sp, #4]
 356:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT] = result->machine.Ivbat / 256;
 1964              		.loc 1 356 13 is_stmt 1 view .LVU475
 356:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT] = result->machine.Ivbat / 256;
 1965              		.loc 1 356 46 is_stmt 0 view .LVU476
 1966 0194 8DF80530 		strb	r3, [sp, #5]
 357:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT + 1] = result->machine.Ivbat % 256;
 1967              		.loc 1 357 13 is_stmt 1 view .LVU477
 357:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT + 1] = result->machine.Ivbat % 256;
 1968              		.loc 1 357 60 is_stmt 0 view .LVU478
 1969 0198 B0F84630 		ldrh	r3, [r0, #70]
 357:Device/Src/flash.c ****             machineBuffer[MACHINE_I_VBAT + 1] = result->machine.Ivbat % 256;
 1970              		.loc 1 357 43 view .LVU479
 1971 019c 1A0A     		lsrs	r2, r3, #8
 1972 019e 8DF80620 		strb	r2, [sp, #6]
 358:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_9] = result->machine.config9;
 1973              		.loc 1 358 13 is_stmt 1 view .LVU480
 358:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_9] = result->machine.config9;
 1974              		.loc 1 358 47 is_stmt 0 view .LVU481
 1975 01a2 8DF80730 		strb	r3, [sp, #7]
 359:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_C] = result->machine.configC;
 1976              		.loc 1 359 13 is_stmt 1 view .LVU482
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 47


 359:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_C] = result->machine.configC;
 1977              		.loc 1 359 62 is_stmt 0 view .LVU483
 1978 01a6 90F84830 		ldrb	r3, [r0, #72]	@ zero_extendqisi2
 359:Device/Src/flash.c ****             machineBuffer[MACHINE_CONFIG_C] = result->machine.configC;
 1979              		.loc 1 359 45 view .LVU484
 1980 01aa 8DF80830 		strb	r3, [sp, #8]
 360:Device/Src/flash.c ****             machineBuffer[MACHINE_SYSTEM_TEMP] = result->machine.sysTemp;
 1981              		.loc 1 360 13 is_stmt 1 view .LVU485
 360:Device/Src/flash.c ****             machineBuffer[MACHINE_SYSTEM_TEMP] = result->machine.sysTemp;
 1982              		.loc 1 360 62 is_stmt 0 view .LVU486
 1983 01ae 90F84930 		ldrb	r3, [r0, #73]	@ zero_extendqisi2
 360:Device/Src/flash.c ****             machineBuffer[MACHINE_SYSTEM_TEMP] = result->machine.sysTemp;
 1984              		.loc 1 360 45 view .LVU487
 1985 01b2 8DF80930 		strb	r3, [sp, #9]
 361:Device/Src/flash.c ****             machineBuffer[MACHINE_RTC_TEMP] = result->machine.rtcTemp;
 1986              		.loc 1 361 13 is_stmt 1 view .LVU488
 361:Device/Src/flash.c ****             machineBuffer[MACHINE_RTC_TEMP] = result->machine.rtcTemp;
 1987              		.loc 1 361 65 is_stmt 0 view .LVU489
 1988 01b6 90F84A30 		ldrb	r3, [r0, #74]	@ zero_extendqisi2
 361:Device/Src/flash.c ****             machineBuffer[MACHINE_RTC_TEMP] = result->machine.rtcTemp;
 1989              		.loc 1 361 48 view .LVU490
 1990 01ba 8DF80A30 		strb	r3, [sp, #10]
 362:Device/Src/flash.c ****             float_to_uint8(buffer, &(result->machine.testFreq));
 1991              		.loc 1 362 13 is_stmt 1 view .LVU491
 362:Device/Src/flash.c ****             float_to_uint8(buffer, &(result->machine.testFreq));
 1992              		.loc 1 362 62 is_stmt 0 view .LVU492
 1993 01be 90F84B30 		ldrb	r3, [r0, #75]	@ zero_extendqisi2
 362:Device/Src/flash.c ****             float_to_uint8(buffer, &(result->machine.testFreq));
 1994              		.loc 1 362 45 view .LVU493
 1995 01c2 8DF80B30 		strb	r3, [sp, #11]
 363:Device/Src/flash.c ****             for (i = 0; i < 4; i++) {
 1996              		.loc 1 363 13 is_stmt 1 view .LVU494
 1997 01c6 00F14C01 		add	r1, r0, #76
 1998              	.LVL256:
 363:Device/Src/flash.c ****             for (i = 0; i < 4; i++) {
 1999              		.loc 1 363 13 is_stmt 0 view .LVU495
 2000 01ca 05A8     		add	r0, sp, #20
 2001              	.LVL257:
 363:Device/Src/flash.c ****             for (i = 0; i < 4; i++) {
 2002              		.loc 1 363 13 view .LVU496
 2003 01cc FFF7FEFF 		bl	float_to_uint8
 2004              	.LVL258:
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2005              		.loc 1 364 13 is_stmt 1 view .LVU497
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2006              		.loc 1 364 20 is_stmt 0 view .LVU498
 2007 01d0 0023     		movs	r3, #0
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2008              		.loc 1 364 13 view .LVU499
 2009 01d2 0AE0     		b	.L120
 2010              	.LVL259:
 2011              	.L121:
 365:Device/Src/flash.c ****             }
 2012              		.loc 1 365 16 is_stmt 1 discriminator 3 view .LVU500
 365:Device/Src/flash.c ****             }
 2013              		.loc 1 365 61 is_stmt 0 discriminator 3 view .LVU501
 2014 01d4 03F11801 		add	r1, r3, #24
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 48


 2015 01d8 6944     		add	r1, sp, r1
 2016 01da 11F8041C 		ldrb	r1, [r1, #-4]	@ zero_extendqisi2
 365:Device/Src/flash.c ****             }
 2017              		.loc 1 365 53 discriminator 3 view .LVU502
 2018 01de 03F12002 		add	r2, r3, #32
 2019 01e2 6A44     		add	r2, sp, r2
 2020 01e4 02F8141C 		strb	r1, [r2, #-20]
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2021              		.loc 1 364 32 is_stmt 1 discriminator 3 view .LVU503
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2022              		.loc 1 364 33 is_stmt 0 discriminator 3 view .LVU504
 2023 01e8 0133     		adds	r3, r3, #1
 2024              	.LVL260:
 2025              	.L120:
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2026              		.loc 1 364 25 is_stmt 1 discriminator 1 view .LVU505
 364:Device/Src/flash.c ****                machineBuffer[MACHINE_TEST_FREQ + i] = buffer[i]; 
 2027              		.loc 1 364 13 is_stmt 0 discriminator 1 view .LVU506
 2028 01ea 032B     		cmp	r3, #3
 2029 01ec F2DD     		ble	.L121
 367:Device/Src/flash.c ****             machineBuffer[MACHINE_VBAT_2V5 + 1] = result->machine.vbat_2V5 % 256;
 2030              		.loc 1 367 13 is_stmt 1 view .LVU507
 367:Device/Src/flash.c ****             machineBuffer[MACHINE_VBAT_2V5 + 1] = result->machine.vbat_2V5 % 256;
 2031              		.loc 1 367 62 is_stmt 0 view .LVU508
 2032 01ee B6F85030 		ldrh	r3, [r6, #80]
 2033              	.LVL261:
 367:Device/Src/flash.c ****             machineBuffer[MACHINE_VBAT_2V5 + 1] = result->machine.vbat_2V5 % 256;
 2034              		.loc 1 367 45 view .LVU509
 2035 01f2 1A0A     		lsrs	r2, r3, #8
 2036 01f4 8DF81020 		strb	r2, [sp, #16]
 368:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE] = result->machine.charge / 256;
 2037              		.loc 1 368 13 is_stmt 1 view .LVU510
 368:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE] = result->machine.charge / 256;
 2038              		.loc 1 368 49 is_stmt 0 view .LVU511
 2039 01f8 8DF81130 		strb	r3, [sp, #17]
 369:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE + 1] = result->machine.charge % 256;
 2040              		.loc 1 369 13 is_stmt 1 view .LVU512
 369:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE + 1] = result->machine.charge % 256;
 2041              		.loc 1 369 60 is_stmt 0 view .LVU513
 2042 01fc B6F85230 		ldrh	r3, [r6, #82]
 369:Device/Src/flash.c ****             machineBuffer[MACHINE_CHARGE + 1] = result->machine.charge % 256;
 2043              		.loc 1 369 43 view .LVU514
 2044 0200 1A0A     		lsrs	r2, r3, #8
 2045 0202 8DF81220 		strb	r2, [sp, #18]
 370:Device/Src/flash.c ****             flash_write_data(address, machineBuffer, FALSH_MACHINE_DATA_LENGTH);
 2046              		.loc 1 370 13 is_stmt 1 view .LVU515
 370:Device/Src/flash.c ****             flash_write_data(address, machineBuffer, FALSH_MACHINE_DATA_LENGTH);
 2047              		.loc 1 370 47 is_stmt 0 view .LVU516
 2048 0206 8DF81330 		strb	r3, [sp, #19]
 371:Device/Src/flash.c ****         break;
 2049              		.loc 1 371 13 is_stmt 1 view .LVU517
 2050 020a 1022     		movs	r2, #16
 2051 020c 01A9     		add	r1, sp, #4
 2052 020e 2046     		mov	r0, r4
 2053 0210 FFF7FEFF 		bl	flash_write_data
 2054              	.LVL262:
 372:Device/Src/flash.c ****         case CAP_CALCULATE:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 49


 2055              		.loc 1 372 9 view .LVU518
 2056 0214 3CE7     		b	.L96
 2057              	.LVL263:
 2058              	.L115:
 374:Device/Src/flash.c ****         break;
 2059              		.loc 1 374 13 view .LVU519
 2060 0216 9722     		movs	r2, #151
 2061              	.LVL264:
 374:Device/Src/flash.c ****         break;
 2062              		.loc 1 374 13 is_stmt 0 view .LVU520
 2063 0218 00F15401 		add	r1, r0, #84
 2064              	.LVL265:
 374:Device/Src/flash.c ****         break;
 2065              		.loc 1 374 13 view .LVU521
 2066 021c 2046     		mov	r0, r4
 2067              	.LVL266:
 374:Device/Src/flash.c ****         break;
 2068              		.loc 1 374 13 view .LVU522
 2069 021e FFF7FEFF 		bl	flash_write_data
 2070              	.LVL267:
 375:Device/Src/flash.c ****         case TEST_DATA_ALL:
 2071              		.loc 1 375 9 is_stmt 1 view .LVU523
 2072 0222 35E7     		b	.L96
 2073              	.LVL268:
 2074              	.L122:
 378:Device/Src/flash.c ****             }
 2075              		.loc 1 378 17 discriminator 3 view .LVU524
 2076 0224 A2B2     		uxth	r2, r4
 2077 0226 2946     		mov	r1, r5
 2078 0228 3046     		mov	r0, r6
 2079 022a FFF7FEFF 		bl	flash_test_data_write_add
 2080              	.LVL269:
 377:Device/Src/flash.c ****                 flash_test_data_write_add(result, rtcNumber, i);
 2081              		.loc 1 377 45 discriminator 3 view .LVU525
 377:Device/Src/flash.c ****                 flash_test_data_write_add(result, rtcNumber, i);
 2082              		.loc 1 377 46 is_stmt 0 discriminator 3 view .LVU526
 2083 022e 0134     		adds	r4, r4, #1
 2084              	.LVL270:
 2085              	.L116:
 377:Device/Src/flash.c ****                 flash_test_data_write_add(result, rtcNumber, i);
 2086              		.loc 1 377 25 is_stmt 1 discriminator 1 view .LVU527
 377:Device/Src/flash.c ****                 flash_test_data_write_add(result, rtcNumber, i);
 2087              		.loc 1 377 13 is_stmt 0 discriminator 1 view .LVU528
 2088 0230 B4F5807F 		cmp	r4, #256
 2089 0234 F6DD     		ble	.L122
 2090 0236 2BE7     		b	.L96
 2091              		.cfi_endproc
 2092              	.LFE245:
 2094              		.section	.text.flash_test_data_clear,"ax",%progbits
 2095              		.align	1
 2096              		.global	flash_test_data_clear
 2097              		.syntax unified
 2098              		.thumb
 2099              		.thumb_func
 2101              	flash_test_data_clear:
 2102              	.LVL271:
 2103              	.LFB246:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 50


 384:Device/Src/flash.c **** 
 385:Device/Src/flash.c **** #define CHIP_SECTOR_NUMBER     13//  100 / 8 = 12.5
 386:Device/Src/flash.c **** void flash_test_data_clear(FlashClearMode mode)
 387:Device/Src/flash.c **** {
 2104              		.loc 1 387 1 is_stmt 1 view -0
 2105              		.cfi_startproc
 2106              		@ args = 0, pretend = 0, frame = 0
 2107              		@ frame_needed = 0, uses_anonymous_args = 0
 2108              		.loc 1 387 1 is_stmt 0 view .LVU530
 2109 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2110              	.LCFI29:
 2111              		.cfi_def_cfa_offset 24
 2112              		.cfi_offset 4, -24
 2113              		.cfi_offset 5, -20
 2114              		.cfi_offset 6, -16
 2115              		.cfi_offset 7, -12
 2116              		.cfi_offset 8, -8
 2117              		.cfi_offset 14, -4
 2118 0004 0446     		mov	r4, r0
 388:Device/Src/flash.c ****     int i, j, k;
 2119              		.loc 1 388 5 is_stmt 1 view .LVU531
 389:Device/Src/flash.c ****     uint32_t address;
 2120              		.loc 1 389 5 view .LVU532
 390:Device/Src/flash.c ****     uint32_t range;
 2121              		.loc 1 390 5 view .LVU533
 391:Device/Src/flash.c **** 
 392:Device/Src/flash.c ****     for (k = 0; k < CHIP_SECTOR_NUMBER; k++) {
 2122              		.loc 1 392 5 view .LVU534
 2123              	.LVL272:
 2124              		.loc 1 392 12 is_stmt 0 view .LVU535
 2125 0006 0026     		movs	r6, #0
 2126              		.loc 1 392 5 view .LVU536
 2127 0008 8AE0     		b	.L129
 2128              	.LVL273:
 2129              	.L131:
 393:Device/Src/flash.c ****         memset(g_bufferSector, 0xff, SECTOR_SIZE);
 394:Device/Src/flash.c ****         address = TEST_RESULT_START_ADDR + SECTOR_SIZE * k;
 395:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 396:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2130              		.loc 1 396 13 is_stmt 1 discriminator 3 view .LVU537
 2131 000a 4FF48072 		mov	r2, #256
 2132 000e 4B49     		ldr	r1, .L156
 2133 0010 01EB0721 		add	r1, r1, r7, lsl #8
 2134 0014 05EB0720 		add	r0, r5, r7, lsl #8
 2135 0018 FFF7FEFF 		bl	flash_read_data
 2136              	.LVL274:
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2137              		.loc 1 395 42 discriminator 3 view .LVU538
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2138              		.loc 1 395 43 is_stmt 0 discriminator 3 view .LVU539
 2139 001c 0137     		adds	r7, r7, #1
 2140              	.LVL275:
 2141              	.L130:
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2142              		.loc 1 395 21 is_stmt 1 discriminator 1 view .LVU540
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2143              		.loc 1 395 9 is_stmt 0 discriminator 1 view .LVU541
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 51


 2144 001e 0F2F     		cmp	r7, #15
 2145 0020 F3DD     		ble	.L131
 397:Device/Src/flash.c ****         }
 398:Device/Src/flash.c ****         for (i = 0; i < (SECTOR_SIZE / TEST_RESULT_ONE_SIZE); i++) {//每个sector有8个芯片
 2146              		.loc 1 398 16 view .LVU542
 2147 0022 4FF0000E 		mov	lr, #0
 2148 0026 2EE0     		b	.L132
 2149              	.LVL276:
 2150              	.L138:
 399:Device/Src/flash.c ****             switch (mode) {
 400:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_1:
 401:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_3://-10度和60度两个点需要把中心电容对应的误差值清零
 402:Device/Src/flash.c ****                     range = i * TEST_RESULT_ONE_SIZE + TEST_CENTER + (mode / 2) * 4;
 2151              		.loc 1 402 21 is_stmt 1 view .LVU543
 2152              		.loc 1 402 33 is_stmt 0 view .LVU544
 2153 0028 4FEA4E22 		lsl	r2, lr, #9
 2154              		.loc 1 402 54 view .LVU545
 2155 002c 3A32     		adds	r2, r2, #58
 2156              		.loc 1 402 76 view .LVU546
 2157 002e 6308     		lsrs	r3, r4, #1
 2158              		.loc 1 402 68 view .LVU547
 2159 0030 02EB8302 		add	r2, r2, r3, lsl #2
 2160              	.LVL277:
 403:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2161              		.loc 1 403 21 is_stmt 1 view .LVU548
 2162              		.loc 1 403 28 is_stmt 0 view .LVU549
 2163 0034 0023     		movs	r3, #0
 2164              		.loc 1 403 21 view .LVU550
 2165 0036 04E0     		b	.L139
 2166              	.LVL278:
 2167              	.L140:
 404:Device/Src/flash.c ****                         g_bufferSector[range + j] = 0xff;
 2168              		.loc 1 404 25 is_stmt 1 discriminator 3 view .LVU551
 2169              		.loc 1 404 46 is_stmt 0 discriminator 3 view .LVU552
 2170 0038 9918     		adds	r1, r3, r2
 2171              		.loc 1 404 51 discriminator 3 view .LVU553
 2172 003a 4048     		ldr	r0, .L156
 2173 003c FF27     		movs	r7, #255
 2174 003e 4754     		strb	r7, [r0, r1]
 403:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2175              		.loc 1 403 40 is_stmt 1 discriminator 3 view .LVU554
 403:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2176              		.loc 1 403 41 is_stmt 0 discriminator 3 view .LVU555
 2177 0040 0133     		adds	r3, r3, #1
 2178              	.LVL279:
 2179              	.L139:
 403:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2180              		.loc 1 403 33 is_stmt 1 discriminator 1 view .LVU556
 403:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2181              		.loc 1 403 21 is_stmt 0 discriminator 1 view .LVU557
 2182 0042 032B     		cmp	r3, #3
 2183 0044 F8DD     		ble	.L140
 2184              	.LVL280:
 2185              	.L137:
 405:Device/Src/flash.c ****                     }
 406:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_0:
 407:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_2:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 52


 408:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_4:
 409:Device/Src/flash.c ****                     range = i * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + mode * 4;
 2186              		.loc 1 409 21 is_stmt 1 view .LVU558
 2187              		.loc 1 409 33 is_stmt 0 view .LVU559
 2188 0046 4FEA4E28 		lsl	r8, lr, #9
 2189              		.loc 1 409 54 view .LVU560
 2190 004a 08F10807 		add	r7, r8, #8
 2191              		.loc 1 409 77 view .LVU561
 2192 004e 4FEA840C 		lsl	ip, r4, #2
 2193              		.loc 1 409 70 view .LVU562
 2194 0052 07EB8407 		add	r7, r7, r4, lsl #2
 2195              	.LVL281:
 410:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2196              		.loc 1 410 21 is_stmt 1 view .LVU563
 2197              		.loc 1 410 28 is_stmt 0 view .LVU564
 2198 0056 0023     		movs	r3, #0
 2199              		.loc 1 410 21 view .LVU565
 2200 0058 04E0     		b	.L141
 2201              	.LVL282:
 2202              	.L142:
 411:Device/Src/flash.c ****                         g_bufferSector[range + j] = 0xff;
 2203              		.loc 1 411 25 is_stmt 1 discriminator 3 view .LVU566
 2204              		.loc 1 411 46 is_stmt 0 discriminator 3 view .LVU567
 2205 005a DA19     		adds	r2, r3, r7
 2206              		.loc 1 411 51 discriminator 3 view .LVU568
 2207 005c 3749     		ldr	r1, .L156
 2208 005e FF20     		movs	r0, #255
 2209 0060 8854     		strb	r0, [r1, r2]
 410:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2210              		.loc 1 410 40 is_stmt 1 discriminator 3 view .LVU569
 410:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2211              		.loc 1 410 41 is_stmt 0 discriminator 3 view .LVU570
 2212 0062 0133     		adds	r3, r3, #1
 2213              	.LVL283:
 2214              	.L141:
 410:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2215              		.loc 1 410 33 is_stmt 1 discriminator 1 view .LVU571
 410:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2216              		.loc 1 410 21 is_stmt 0 discriminator 1 view .LVU572
 2217 0064 032B     		cmp	r3, #3
 2218 0066 F8DD     		ble	.L142
 412:Device/Src/flash.c ****                     }
 413:Device/Src/flash.c ****                     range = i * TEST_RESULT_ONE_SIZE + TEST_DOT_CAP + mode * 4;
 2219              		.loc 1 413 21 is_stmt 1 view .LVU573
 2220              		.loc 1 413 54 is_stmt 0 view .LVU574
 2221 0068 08F11C08 		add	r8, r8, #28
 2222              		.loc 1 413 69 view .LVU575
 2223 006c C444     		add	ip, ip, r8
 2224              	.LVL284:
 414:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2225              		.loc 1 414 21 is_stmt 1 view .LVU576
 2226              		.loc 1 414 28 is_stmt 0 view .LVU577
 2227 006e 0023     		movs	r3, #0
 2228              		.loc 1 414 21 view .LVU578
 2229 0070 05E0     		b	.L143
 2230              	.LVL285:
 2231              	.L144:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 53


 415:Device/Src/flash.c ****                         g_bufferSector[range + j] = 0xff;
 2232              		.loc 1 415 25 is_stmt 1 discriminator 3 view .LVU579
 2233              		.loc 1 415 46 is_stmt 0 discriminator 3 view .LVU580
 2234 0072 03EB0C02 		add	r2, r3, ip
 2235              		.loc 1 415 51 discriminator 3 view .LVU581
 2236 0076 3149     		ldr	r1, .L156
 2237 0078 FF20     		movs	r0, #255
 2238 007a 8854     		strb	r0, [r1, r2]
 414:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2239              		.loc 1 414 40 is_stmt 1 discriminator 3 view .LVU582
 414:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2240              		.loc 1 414 41 is_stmt 0 discriminator 3 view .LVU583
 2241 007c 0133     		adds	r3, r3, #1
 2242              	.LVL286:
 2243              	.L143:
 414:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2244              		.loc 1 414 33 is_stmt 1 discriminator 1 view .LVU584
 414:Device/Src/flash.c ****                     for (j = 0; j < 4; j++) {
 2245              		.loc 1 414 21 is_stmt 0 discriminator 1 view .LVU585
 2246 007e 032B     		cmp	r3, #3
 2247 0080 F7DD     		ble	.L144
 2248              	.LVL287:
 2249              	.L133:
 398:Device/Src/flash.c ****             switch (mode) {
 2250              		.loc 1 398 63 is_stmt 1 discriminator 2 view .LVU586
 398:Device/Src/flash.c ****             switch (mode) {
 2251              		.loc 1 398 64 is_stmt 0 discriminator 2 view .LVU587
 2252 0082 0EF1010E 		add	lr, lr, #1
 2253              	.LVL288:
 2254              	.L132:
 398:Device/Src/flash.c ****             switch (mode) {
 2255              		.loc 1 398 21 is_stmt 1 discriminator 1 view .LVU588
 398:Device/Src/flash.c ****             switch (mode) {
 2256              		.loc 1 398 9 is_stmt 0 discriminator 1 view .LVU589
 2257 0086 BEF11F0F 		cmp	lr, #31
 2258 008a 31DC     		bgt	.L154
 399:Device/Src/flash.c ****                 case FLASH_CLEAR_DOT_1:
 2259              		.loc 1 399 13 is_stmt 1 view .LVU590
 2260 008c 062C     		cmp	r4, #6
 2261 008e F8D8     		bhi	.L133
 2262 0090 01A3     		adr	r3, .L135
 2263 0092 53F824F0 		ldr	pc, [r3, r4, lsl #2]
 2264 0096 00BF     		.p2align 2
 2265              	.L135:
 2266 0098 47000000 		.word	.L137+1
 2267 009c 29000000 		.word	.L138+1
 2268 00a0 47000000 		.word	.L137+1
 2269 00a4 29000000 		.word	.L138+1
 2270 00a8 47000000 		.word	.L137+1
 2271 00ac B5000000 		.word	.L136+1
 2272 00b0 D3000000 		.word	.L134+1
 2273              		.p2align 1
 2274              	.L136:
 416:Device/Src/flash.c ****                     }
 417:Device/Src/flash.c ****                 break;
 418:Device/Src/flash.c ****                 case FLASH_CLEAR_CALCUL:
 419:Device/Src/flash.c ****                     range = i * TEST_RESULT_ONE_SIZE + CAP_CALCULATE;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 54


 2275              		.loc 1 419 21 view .LVU591
 2276              		.loc 1 419 33 is_stmt 0 view .LVU592
 2277 00b4 4FEA4E2C 		lsl	ip, lr, #9
 2278              		.loc 1 419 54 view .LVU593
 2279 00b8 0CF5807C 		add	ip, ip, #256
 2280              	.LVL289:
 420:Device/Src/flash.c ****                     for (j = 0; j < 151; j++) {
 2281              		.loc 1 420 21 is_stmt 1 view .LVU594
 2282              		.loc 1 420 28 is_stmt 0 view .LVU595
 2283 00bc 0023     		movs	r3, #0
 2284              		.loc 1 420 21 view .LVU596
 2285 00be 05E0     		b	.L145
 2286              	.LVL290:
 2287              	.L146:
 421:Device/Src/flash.c ****                         g_bufferSector[range + j] = 0xff;
 2288              		.loc 1 421 25 is_stmt 1 discriminator 3 view .LVU597
 2289              		.loc 1 421 46 is_stmt 0 discriminator 3 view .LVU598
 2290 00c0 03EB0C02 		add	r2, r3, ip
 2291              		.loc 1 421 51 discriminator 3 view .LVU599
 2292 00c4 1D49     		ldr	r1, .L156
 2293 00c6 FF20     		movs	r0, #255
 2294 00c8 8854     		strb	r0, [r1, r2]
 420:Device/Src/flash.c ****                     for (j = 0; j < 151; j++) {
 2295              		.loc 1 420 42 is_stmt 1 discriminator 3 view .LVU600
 420:Device/Src/flash.c ****                     for (j = 0; j < 151; j++) {
 2296              		.loc 1 420 43 is_stmt 0 discriminator 3 view .LVU601
 2297 00ca 0133     		adds	r3, r3, #1
 2298              	.LVL291:
 2299              	.L145:
 420:Device/Src/flash.c ****                     for (j = 0; j < 151; j++) {
 2300              		.loc 1 420 33 is_stmt 1 discriminator 1 view .LVU602
 420:Device/Src/flash.c ****                     for (j = 0; j < 151; j++) {
 2301              		.loc 1 420 21 is_stmt 0 discriminator 1 view .LVU603
 2302 00cc 962B     		cmp	r3, #150
 2303 00ce F7DD     		ble	.L146
 2304 00d0 D7E7     		b	.L133
 2305              	.LVL292:
 2306              	.L134:
 422:Device/Src/flash.c ****                     }
 423:Device/Src/flash.c ****                 break;
 424:Device/Src/flash.c ****                 case FLASH_CLEAR_MACHINE:
 425:Device/Src/flash.c ****                     range = i * TEST_RESULT_ONE_SIZE + MACHINE_TEST_ALL;
 2307              		.loc 1 425 21 is_stmt 1 view .LVU604
 2308              		.loc 1 425 33 is_stmt 0 view .LVU605
 2309 00d2 4FEA4E2C 		lsl	ip, lr, #9
 2310              		.loc 1 425 54 view .LVU606
 2311 00d6 0CF1420C 		add	ip, ip, #66
 2312              	.LVL293:
 426:Device/Src/flash.c ****                     for (j = 0; j < FALSH_MACHINE_DATA_LENGTH; j++) {
 2313              		.loc 1 426 21 is_stmt 1 view .LVU607
 2314              		.loc 1 426 28 is_stmt 0 view .LVU608
 2315 00da 0023     		movs	r3, #0
 2316              		.loc 1 426 21 view .LVU609
 2317 00dc 05E0     		b	.L147
 2318              	.LVL294:
 2319              	.L148:
 427:Device/Src/flash.c ****                         g_bufferSector[range + j] = 0xff;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 55


 2320              		.loc 1 427 25 is_stmt 1 discriminator 3 view .LVU610
 2321              		.loc 1 427 46 is_stmt 0 discriminator 3 view .LVU611
 2322 00de 03EB0C02 		add	r2, r3, ip
 2323              		.loc 1 427 51 discriminator 3 view .LVU612
 2324 00e2 1649     		ldr	r1, .L156
 2325 00e4 FF20     		movs	r0, #255
 2326 00e6 8854     		strb	r0, [r1, r2]
 426:Device/Src/flash.c ****                     for (j = 0; j < FALSH_MACHINE_DATA_LENGTH; j++) {
 2327              		.loc 1 426 64 is_stmt 1 discriminator 3 view .LVU613
 426:Device/Src/flash.c ****                     for (j = 0; j < FALSH_MACHINE_DATA_LENGTH; j++) {
 2328              		.loc 1 426 65 is_stmt 0 discriminator 3 view .LVU614
 2329 00e8 0133     		adds	r3, r3, #1
 2330              	.LVL295:
 2331              	.L147:
 426:Device/Src/flash.c ****                     for (j = 0; j < FALSH_MACHINE_DATA_LENGTH; j++) {
 2332              		.loc 1 426 33 is_stmt 1 discriminator 1 view .LVU615
 426:Device/Src/flash.c ****                     for (j = 0; j < FALSH_MACHINE_DATA_LENGTH; j++) {
 2333              		.loc 1 426 21 is_stmt 0 discriminator 1 view .LVU616
 2334 00ea 0F2B     		cmp	r3, #15
 2335 00ec F7DD     		ble	.L148
 2336 00ee C8E7     		b	.L133
 2337              	.LVL296:
 2338              	.L154:
 428:Device/Src/flash.c ****                     }
 429:Device/Src/flash.c ****                 break;
 430:Device/Src/flash.c ****                 default: break;
 431:Device/Src/flash.c ****             }
 432:Device/Src/flash.c ****         }
 433:Device/Src/flash.c ****         flash_erase(address, 2);//erase the sector    
 2339              		.loc 1 433 9 is_stmt 1 view .LVU617
 2340 00f0 0221     		movs	r1, #2
 2341 00f2 2846     		mov	r0, r5
 2342 00f4 FFF7FEFF 		bl	flash_erase
 2343              	.LVL297:
 434:Device/Src/flash.c ****         HAL_Delay(20);
 2344              		.loc 1 434 9 view .LVU618
 2345 00f8 1420     		movs	r0, #20
 2346 00fa FFF7FEFF 		bl	HAL_Delay
 2347              	.LVL298:
 435:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2348              		.loc 1 435 9 view .LVU619
 2349              		.loc 1 435 16 is_stmt 0 view .LVU620
 2350 00fe 0027     		movs	r7, #0
 2351              		.loc 1 435 9 view .LVU621
 2352 0100 0CE0     		b	.L150
 2353              	.LVL299:
 2354              	.L151:
 436:Device/Src/flash.c ****             flash_write_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE
 2355              		.loc 1 436 13 is_stmt 1 discriminator 3 view .LVU622
 2356 0102 4FF48072 		mov	r2, #256
 2357 0106 0D49     		ldr	r1, .L156
 2358 0108 01EB0721 		add	r1, r1, r7, lsl #8
 2359 010c 05EB0720 		add	r0, r5, r7, lsl #8
 2360 0110 FFF7FEFF 		bl	flash_write_data
 2361              	.LVL300:
 437:Device/Src/flash.c ****             HAL_Delay(5);
 2362              		.loc 1 437 13 discriminator 3 view .LVU623
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 56


 2363 0114 0520     		movs	r0, #5
 2364 0116 FFF7FEFF 		bl	HAL_Delay
 2365              	.LVL301:
 435:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2366              		.loc 1 435 42 discriminator 3 view .LVU624
 435:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2367              		.loc 1 435 43 is_stmt 0 discriminator 3 view .LVU625
 2368 011a 0137     		adds	r7, r7, #1
 2369              	.LVL302:
 2370              	.L150:
 435:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2371              		.loc 1 435 21 is_stmt 1 discriminator 1 view .LVU626
 435:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2372              		.loc 1 435 9 is_stmt 0 discriminator 1 view .LVU627
 2373 011c 0F2F     		cmp	r7, #15
 2374 011e F0DD     		ble	.L151
 2375              	.LVL303:
 2376              	.L129:
 392:Device/Src/flash.c ****         memset(g_bufferSector, 0xff, SECTOR_SIZE);
 2377              		.loc 1 392 17 is_stmt 1 discriminator 1 view .LVU628
 392:Device/Src/flash.c ****         memset(g_bufferSector, 0xff, SECTOR_SIZE);
 2378              		.loc 1 392 5 is_stmt 0 discriminator 1 view .LVU629
 2379 0120 0C2E     		cmp	r6, #12
 2380 0122 09DC     		bgt	.L155
 393:Device/Src/flash.c ****         address = TEST_RESULT_START_ADDR + SECTOR_SIZE * k;
 2381              		.loc 1 393 9 is_stmt 1 view .LVU630
 2382 0124 4FF48052 		mov	r2, #4096
 2383 0128 FF21     		movs	r1, #255
 2384 012a 0448     		ldr	r0, .L156
 2385 012c FFF7FEFF 		bl	memset
 2386              	.LVL304:
 394:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2387              		.loc 1 394 9 view .LVU631
 394:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2388              		.loc 1 394 42 is_stmt 0 view .LVU632
 2389 0130 0136     		adds	r6, r6, #1
 2390              	.LVL305:
 394:Device/Src/flash.c ****         for (i = 0; i < PAGES_IN_SECTOR; i++) {
 2391              		.loc 1 394 42 view .LVU633
 2392 0132 3503     		lsls	r5, r6, #12
 2393              	.LVL306:
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2394              		.loc 1 395 9 is_stmt 1 view .LVU634
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2395              		.loc 1 395 16 is_stmt 0 view .LVU635
 2396 0134 0027     		movs	r7, #0
 395:Device/Src/flash.c ****             flash_read_data(address + (PAGE_SIZE * i), g_bufferSector + (PAGE_SIZE * i), PAGE_SIZE)
 2397              		.loc 1 395 9 view .LVU636
 2398 0136 72E7     		b	.L130
 2399              	.LVL307:
 2400              	.L155:
 438:Device/Src/flash.c ****         }
 439:Device/Src/flash.c ****     }
 440:Device/Src/flash.c ****     
 441:Device/Src/flash.c **** }
 2401              		.loc 1 441 1 view .LVU637
 2402 0138 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 57


 2403              	.LVL308:
 2404              	.L157:
 2405              		.loc 1 441 1 view .LVU638
 2406              		.align	2
 2407              	.L156:
 2408 013c 00000000 		.word	g_bufferSector
 2409              		.cfi_endproc
 2410              	.LFE246:
 2412              		.section	.rodata.test_data_printf.str1.4,"aMS",%progbits,1
 2413              		.align	2
 2414              	.LC3:
 2415 0000 49443A25 		.ascii	"ID:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 2415      30325825 
 2415      30325825 
 2415      30325825 
 2415      30325825 
 2416 0025 000000   		.align	2
 2417              	.LC4:
 2418 0028 63617020 		.ascii	"cap adjust tset:\012\000"
 2418      61646A75 
 2418      73742074 
 2418      7365743A 
 2418      0A00
 2419              		.global	__aeabi_f2d
 2420 003a 0000     		.align	2
 2421              	.LC5:
 2422 003c 5B252E31 		.ascii	"[%.1f, %.2f] \000"
 2422      662C2025 
 2422      2E32665D 
 2422      2000
 2423 004a 0000     		.align	2
 2424              	.LC6:
 2425 004c 0A00     		.ascii	"\012\000"
 2426 004e 0000     		.align	2
 2427              	.LC7:
 2428 0050 5B2D3130 		.ascii	"[-10C error]%.2fppm, [60C error]%.2fppm \012\000"
 2428      43206572 
 2428      726F725D 
 2428      252E3266 
 2428      70706D2C 
 2429 007a 0000     		.align	2
 2430              	.LC8:
 2431 007c 6167696E 		.ascii	"aging data:\012\000"
 2431      67206461 
 2431      74613A0A 
 2431      00
 2432 0089 000000   		.align	2
 2433              	.LC9:
 2434 008c 74657374 		.ascii	"test temp:%d, config9:%d\012\000"
 2434      2074656D 
 2434      703A2564 
 2434      2C20636F 
 2434      6E666967 
 2435 00a6 0000     		.align	2
 2436              	.LC10:
 2437 00a8 6D616368 		.ascii	"machine data:\012\000"
 2437      696E6520 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 58


 2437      64617461 
 2437      3A0A00
 2438 00b7 00       		.align	2
 2439              	.LC11:
 2440 00b8 49766464 		.ascii	"Ivdd:%dnA, Ivbat:%dnA\012\000"
 2440      3A25646E 
 2440      412C2049 
 2440      76626174 
 2440      3A25646E 
 2441 00cf 00       		.align	2
 2442              	.LC12:
 2443 00d0 636F6E66 		.ascii	"config9:%02X, configC:%02X\012\000"
 2443      6967393A 
 2443      25303258 
 2443      2C20636F 
 2443      6E666967 
 2444              		.align	2
 2445              	.LC13:
 2446 00ec 74656D70 		.ascii	"temp system:%dC, rtc:%dC\012\000"
 2446      20737973 
 2446      74656D3A 
 2446      2564432C 
 2446      20727463 
 2447 0106 0000     		.align	2
 2448              	.LC14:
 2449 0108 74657374 		.ascii	"test frequency:%fkHz\012\000"
 2449      20667265 
 2449      7175656E 
 2449      63793A25 
 2449      666B487A 
 2450 011e 0000     		.align	2
 2451              	.LC15:
 2452 0120 76626174 		.ascii	"vbat:%dmV, charge:%dmV\012\000"
 2452      3A25646D 
 2452      562C2063 
 2452      68617267 
 2452      653A2564 
 2453              		.align	2
 2454              	.LC16:
 2455 0138 63617020 		.ascii	"cap calculate:\000"
 2455      63616C63 
 2455      756C6174 
 2455      653A00
 2456 0147 00       		.align	2
 2457              	.LC17:
 2458 0148 0A5B2564 		.ascii	"\012[%d]\011\000"
 2458      5D0900
 2459 014f 00       		.align	2
 2460              	.LC18:
 2461 0150 25303258 		.ascii	"%02X \000"
 2461      2000
 2462              		.section	.text.test_data_printf,"ax",%progbits
 2463              		.align	1
 2464              		.global	test_data_printf
 2465              		.syntax unified
 2466              		.thumb
 2467              		.thumb_func
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 59


 2469              	test_data_printf:
 2470              	.LVL309:
 2471              	.LFB247:
 442:Device/Src/flash.c **** 
 443:Device/Src/flash.c **** 
 444:Device/Src/flash.c **** void test_data_printf(uint8_t mode, TestResult result) 
 445:Device/Src/flash.c **** {
 2472              		.loc 1 445 1 is_stmt 1 view -0
 2473              		.cfi_startproc
 2474              		@ args = 240, pretend = 16, frame = 0
 2475              		@ frame_needed = 0, uses_anonymous_args = 0
 2476              		.loc 1 445 1 is_stmt 0 view .LVU640
 2477 0000 84B0     		sub	sp, sp, #16
 2478              	.LCFI30:
 2479              		.cfi_def_cfa_offset 16
 2480 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 2481              	.LCFI31:
 2482              		.cfi_def_cfa_offset 36
 2483              		.cfi_offset 4, -36
 2484              		.cfi_offset 5, -32
 2485              		.cfi_offset 6, -28
 2486              		.cfi_offset 7, -24
 2487              		.cfi_offset 14, -20
 2488 0004 B9B0     		sub	sp, sp, #228
 2489              	.LCFI32:
 2490              		.cfi_def_cfa_offset 264
 2491 0006 3FAC     		add	r4, sp, #252
 2492 0008 84E80E00 		stm	r4, {r1, r2, r3}
 446:Device/Src/flash.c ****     int i;
 2493              		.loc 1 446 5 is_stmt 1 view .LVU641
 447:Device/Src/flash.c ****     uint8_t k;
 2494              		.loc 1 447 5 view .LVU642
 448:Device/Src/flash.c **** 		switch (mode) {
 2495              		.loc 1 448 3 view .LVU643
 2496 000c 0528     		cmp	r0, #5
 2497 000e 12D8     		bhi	.L158
 2498 0010 DFE800F0 		tbb	[pc, r0]
 2499              	.L161:
 2500 0014 16       		.byte	(.L173-.L161)/2
 2501 0015 18       		.byte	(.L165-.L161)/2
 2502 0016 31       		.byte	(.L164-.L161)/2
 2503 0017 64       		.byte	(.L163-.L161)/2
 2504 0018 6F       		.byte	(.L162-.L161)/2
 2505 0019 97       		.byte	(.L160-.L161)/2
 2506              	.LVL310:
 2507              		.p2align 1
 2508              	.L167:
 449:Device/Src/flash.c **** 			case 0://all printf
 450:Device/Src/flash.c ****                 for (k = 1; k < 6; k++) {
 451:Device/Src/flash.c ****                     test_data_printf(k, result);
 2509              		.loc 1 451 21 discriminator 3 view .LVU644
 2510 001a E022     		movs	r2, #224
 2511 001c 42A9     		add	r1, sp, #264
 2512 001e 6846     		mov	r0, sp
 2513 0020 FFF7FEFF 		bl	memcpy
 2514              	.LVL311:
 2515 0024 3FAB     		add	r3, sp, #252
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 60


 2516 0026 0ECB     		ldm	r3, {r1, r2, r3}
 2517 0028 2046     		mov	r0, r4
 2518 002a FFF7FEFF 		bl	test_data_printf
 2519              	.LVL312:
 450:Device/Src/flash.c ****                     test_data_printf(k, result);
 2520              		.loc 1 450 36 discriminator 3 view .LVU645
 450:Device/Src/flash.c ****                     test_data_printf(k, result);
 2521              		.loc 1 450 37 is_stmt 0 discriminator 3 view .LVU646
 2522 002e 0134     		adds	r4, r4, #1
 2523              	.LVL313:
 450:Device/Src/flash.c ****                     test_data_printf(k, result);
 2524              		.loc 1 450 37 discriminator 3 view .LVU647
 2525 0030 E4B2     		uxtb	r4, r4
 2526              	.LVL314:
 2527              	.L166:
 450:Device/Src/flash.c ****                     test_data_printf(k, result);
 2528              		.loc 1 450 29 is_stmt 1 discriminator 1 view .LVU648
 450:Device/Src/flash.c ****                     test_data_printf(k, result);
 2529              		.loc 1 450 17 is_stmt 0 discriminator 1 view .LVU649
 2530 0032 052C     		cmp	r4, #5
 2531 0034 F1D9     		bls	.L167
 2532              	.LVL315:
 2533              	.L158:
 452:Device/Src/flash.c ****                 }
 453:Device/Src/flash.c **** 			break;
 454:Device/Src/flash.c **** 			case 1:
 455:Device/Src/flash.c **** 				UsbPrintf("ID:%02X%02X%02X%02X%02X%02X%02X%02X\n", result.chipID[0], result.chipID[1], 
 456:Device/Src/flash.c **** 				result.chipID[2], result.chipID[3], result.chipID[4], result.chipID[5], result.chipID[6], resul
 457:Device/Src/flash.c **** 			break;
 458:Device/Src/flash.c **** 			case 2:
 459:Device/Src/flash.c **** 				UsbPrintf("cap adjust tset:\n");
 460:Device/Src/flash.c **** 				for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 461:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 462:Device/Src/flash.c **** 				}
 463:Device/Src/flash.c ****                 UsbPrintf("\n");
 464:Device/Src/flash.c **** 				UsbPrintf("[-10C error]%.2fppm, [60C error]%.2fppm \n", result.testCenter[0], result.testCenter
 465:Device/Src/flash.c **** 			break;
 466:Device/Src/flash.c **** 			case 3:
 467:Device/Src/flash.c **** 				UsbPrintf("aging data:\n");
 468:Device/Src/flash.c **** 				UsbPrintf("test temp:%d, config9:%d\n", result.setTemp, result.tempConfig);
 469:Device/Src/flash.c **** 				// UsbPrintf("start time cold:%dms, hot:%dms\n", result.startTimeCold, result.startTimeHot);
 470:Device/Src/flash.c **** 				// UsbPrintf("error time cold:%ds, hot:%ds\n", result.errorTimeCold, result.errorTimeHot);
 471:Device/Src/flash.c **** 			break;
 472:Device/Src/flash.c **** 			case 4:
 473:Device/Src/flash.c **** 				UsbPrintf("machine data:\n");
 474:Device/Src/flash.c **** 				UsbPrintf("Ivdd:%dnA, Ivbat:%dnA\n", result.machine.Ivdd, result.machine.Ivbat);
 475:Device/Src/flash.c **** 				UsbPrintf("config9:%02X, configC:%02X\n", result.machine.config9, result.machine.configC);
 476:Device/Src/flash.c **** 				UsbPrintf("temp system:%dC, rtc:%dC\n", result.machine.sysTemp, result.machine.rtcTemp);
 477:Device/Src/flash.c **** 				UsbPrintf("test frequency:%fkHz\n", result.machine.testFreq);
 478:Device/Src/flash.c **** 				UsbPrintf("vbat:%dmV, charge:%dmV\n", result.machine.vbat_2V5, result.machine.charge);
 479:Device/Src/flash.c **** 			break;
 480:Device/Src/flash.c **** 			case 5:
 481:Device/Src/flash.c **** 				UsbPrintf("cap calculate:");
 482:Device/Src/flash.c **** 				for (i = 0; i < 151; i++) {
 483:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 484:Device/Src/flash.c **** 					UsbPrintf("%02X ", result.capCalcul[i]);
 485:Device/Src/flash.c **** 				}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 61


 486:Device/Src/flash.c **** 			break;
 487:Device/Src/flash.c **** 			default:
 488:Device/Src/flash.c **** 			break;
 489:Device/Src/flash.c **** 		}
 490:Device/Src/flash.c **** 
 491:Device/Src/flash.c **** }
 2534              		.loc 1 491 1 view .LVU650
 2535 0036 39B0     		add	sp, sp, #228
 2536              	.LCFI33:
 2537              		.cfi_remember_state
 2538              		.cfi_def_cfa_offset 36
 2539              		@ sp needed
 2540 0038 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 2541              	.LCFI34:
 2542              		.cfi_restore 14
 2543              		.cfi_restore 7
 2544              		.cfi_restore 6
 2545              		.cfi_restore 5
 2546              		.cfi_restore 4
 2547              		.cfi_def_cfa_offset 16
 2548 003c 04B0     		add	sp, sp, #16
 2549              	.LCFI35:
 2550              		.cfi_def_cfa_offset 0
 2551 003e 7047     		bx	lr
 2552              	.LVL316:
 2553              	.L173:
 2554              	.LCFI36:
 2555              		.cfi_restore_state
 448:Device/Src/flash.c **** 			case 0://all printf
 2556              		.loc 1 448 3 view .LVU651
 2557 0040 0124     		movs	r4, #1
 2558 0042 F6E7     		b	.L166
 2559              	.L165:
 455:Device/Src/flash.c **** 				result.chipID[2], result.chipID[3], result.chipID[4], result.chipID[5], result.chipID[6], resul
 2560              		.loc 1 455 5 is_stmt 1 view .LVU652
 456:Device/Src/flash.c **** 			break;
 2561              		.loc 1 456 36 is_stmt 0 view .LVU653
 2562 0044 9DF8FF30 		ldrb	r3, [sp, #255]	@ zero_extendqisi2
 456:Device/Src/flash.c **** 			break;
 2563              		.loc 1 456 54 view .LVU654
 2564 0048 9DF80021 		ldrb	r2, [sp, #256]	@ zero_extendqisi2
 456:Device/Src/flash.c **** 			break;
 2565              		.loc 1 456 72 view .LVU655
 2566 004c 9DF80111 		ldrb	r1, [sp, #257]	@ zero_extendqisi2
 456:Device/Src/flash.c **** 			break;
 2567              		.loc 1 456 90 view .LVU656
 2568 0050 9DF80201 		ldrb	r0, [sp, #258]	@ zero_extendqisi2
 2569              	.LVL317:
 456:Device/Src/flash.c **** 			break;
 2570              		.loc 1 456 108 view .LVU657
 2571 0054 9DF80341 		ldrb	r4, [sp, #259]	@ zero_extendqisi2
 455:Device/Src/flash.c **** 				result.chipID[2], result.chipID[3], result.chipID[4], result.chipID[5], result.chipID[6], resul
 2572              		.loc 1 455 5 view .LVU658
 2573 0058 0494     		str	r4, [sp, #16]
 2574 005a 0390     		str	r0, [sp, #12]
 2575 005c 0291     		str	r1, [sp, #8]
 2576 005e 0192     		str	r2, [sp, #4]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 62


 2577 0060 0093     		str	r3, [sp]
 2578 0062 9DF8FE30 		ldrb	r3, [sp, #254]	@ zero_extendqisi2
 2579 0066 9DF8FD20 		ldrb	r2, [sp, #253]	@ zero_extendqisi2
 2580 006a 9DF8FC10 		ldrb	r1, [sp, #252]	@ zero_extendqisi2
 2581 006e 4548     		ldr	r0, .L175
 2582 0070 FFF7FEFF 		bl	UsbPrintf
 2583              	.LVL318:
 457:Device/Src/flash.c **** 			case 2:
 2584              		.loc 1 457 4 is_stmt 1 view .LVU659
 2585 0074 DFE7     		b	.L158
 2586              	.LVL319:
 2587              	.L164:
 459:Device/Src/flash.c **** 				for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 2588              		.loc 1 459 5 view .LVU660
 2589 0076 4448     		ldr	r0, .L175+4
 2590              	.LVL320:
 459:Device/Src/flash.c **** 				for (i = 0; i < MAX_TEST_DOT_NUMBER; i++) {
 2591              		.loc 1 459 5 is_stmt 0 view .LVU661
 2592 0078 FFF7FEFF 		bl	UsbPrintf
 2593              	.LVL321:
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2594              		.loc 1 460 5 is_stmt 1 view .LVU662
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2595              		.loc 1 460 12 is_stmt 0 view .LVU663
 2596 007c 0024     		movs	r4, #0
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2597              		.loc 1 460 5 view .LVU664
 2598 007e 18E0     		b	.L168
 2599              	.LVL322:
 2600              	.L169:
 461:Device/Src/flash.c **** 				}
 2601              		.loc 1 461 6 is_stmt 1 discriminator 3 view .LVU665
 461:Device/Src/flash.c **** 				}
 2602              		.loc 1 461 51 is_stmt 0 discriminator 3 view .LVU666
 2603 0080 A31C     		adds	r3, r4, #2
 2604 0082 3EAA     		add	r2, sp, #248
 2605 0084 02EB8303 		add	r3, r2, r3, lsl #2
 461:Device/Src/flash.c **** 				}
 2606              		.loc 1 461 73 discriminator 3 view .LVU667
 2607 0088 A21D     		adds	r2, r4, #6
 2608 008a 3EA9     		add	r1, sp, #248
 2609 008c 01EB8202 		add	r2, r1, r2, lsl #2
 2610 0090 9568     		ldr	r5, [r2, #8]	@ float
 461:Device/Src/flash.c **** 				}
 2611              		.loc 1 461 6 discriminator 3 view .LVU668
 2612 0092 5868     		ldr	r0, [r3, #4]	@ float
 2613 0094 FFF7FEFF 		bl	__aeabi_f2d
 2614              	.LVL323:
 2615 0098 0646     		mov	r6, r0
 2616 009a 0F46     		mov	r7, r1
 2617 009c 2846     		mov	r0, r5	@ float
 2618 009e FFF7FEFF 		bl	__aeabi_f2d
 2619              	.LVL324:
 2620 00a2 CDE90001 		strd	r0, [sp]
 2621 00a6 3246     		mov	r2, r6
 2622 00a8 3B46     		mov	r3, r7
 2623 00aa 3848     		ldr	r0, .L175+8
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 63


 2624 00ac FFF7FEFF 		bl	UsbPrintf
 2625              	.LVL325:
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2626              		.loc 1 460 42 is_stmt 1 discriminator 3 view .LVU669
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2627              		.loc 1 460 43 is_stmt 0 discriminator 3 view .LVU670
 2628 00b0 0134     		adds	r4, r4, #1
 2629              	.LVL326:
 2630              	.L168:
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2631              		.loc 1 460 17 is_stmt 1 discriminator 1 view .LVU671
 460:Device/Src/flash.c **** 					UsbPrintf("[%.1f, %.2f] ", result.testDotTemp[i], result.testDotCap[i]);
 2632              		.loc 1 460 5 is_stmt 0 discriminator 1 view .LVU672
 2633 00b2 042C     		cmp	r4, #4
 2634 00b4 E4DD     		ble	.L169
 463:Device/Src/flash.c **** 				UsbPrintf("[-10C error]%.2fppm, [60C error]%.2fppm \n", result.testCenter[0], result.testCenter
 2635              		.loc 1 463 17 is_stmt 1 view .LVU673
 2636 00b6 3648     		ldr	r0, .L175+12
 2637 00b8 FFF7FEFF 		bl	UsbPrintf
 2638              	.LVL327:
 464:Device/Src/flash.c **** 			break;
 2639              		.loc 1 464 5 view .LVU674
 2640 00bc 4E98     		ldr	r0, [sp, #312]	@ float
 2641 00be FFF7FEFF 		bl	__aeabi_f2d
 2642              	.LVL328:
 2643 00c2 0446     		mov	r4, r0
 2644              	.LVL329:
 464:Device/Src/flash.c **** 			break;
 2645              		.loc 1 464 5 is_stmt 0 view .LVU675
 2646 00c4 0D46     		mov	r5, r1
 2647 00c6 4F98     		ldr	r0, [sp, #316]	@ float
 2648 00c8 FFF7FEFF 		bl	__aeabi_f2d
 2649              	.LVL330:
 2650 00cc CDE90001 		strd	r0, [sp]
 2651 00d0 2246     		mov	r2, r4
 2652 00d2 2B46     		mov	r3, r5
 2653 00d4 2F48     		ldr	r0, .L175+16
 2654 00d6 FFF7FEFF 		bl	UsbPrintf
 2655              	.LVL331:
 465:Device/Src/flash.c **** 			case 3:
 2656              		.loc 1 465 4 is_stmt 1 view .LVU676
 2657 00da ACE7     		b	.L158
 2658              	.LVL332:
 2659              	.L163:
 467:Device/Src/flash.c **** 				UsbPrintf("test temp:%d, config9:%d\n", result.setTemp, result.tempConfig);
 2660              		.loc 1 467 5 view .LVU677
 2661 00dc 2E48     		ldr	r0, .L175+20
 2662              	.LVL333:
 467:Device/Src/flash.c **** 				UsbPrintf("test temp:%d, config9:%d\n", result.setTemp, result.tempConfig);
 2663              		.loc 1 467 5 is_stmt 0 view .LVU678
 2664 00de FFF7FEFF 		bl	UsbPrintf
 2665              	.LVL334:
 468:Device/Src/flash.c **** 				// UsbPrintf("start time cold:%dms, hot:%dms\n", result.startTimeCold, result.startTimeHot);
 2666              		.loc 1 468 5 is_stmt 1 view .LVU679
 2667 00e2 9DF82D21 		ldrb	r2, [sp, #301]	@ zero_extendqisi2
 2668 00e6 9DF82C11 		ldrb	r1, [sp, #300]	@ zero_extendqisi2
 2669 00ea 2C48     		ldr	r0, .L175+24
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 64


 2670 00ec FFF7FEFF 		bl	UsbPrintf
 2671              	.LVL335:
 471:Device/Src/flash.c **** 			case 4:
 2672              		.loc 1 471 4 view .LVU680
 2673 00f0 A1E7     		b	.L158
 2674              	.LVL336:
 2675              	.L162:
 473:Device/Src/flash.c **** 				UsbPrintf("Ivdd:%dnA, Ivbat:%dnA\n", result.machine.Ivdd, result.machine.Ivbat);
 2676              		.loc 1 473 5 view .LVU681
 2677 00f2 2B48     		ldr	r0, .L175+28
 2678              	.LVL337:
 473:Device/Src/flash.c **** 				UsbPrintf("Ivdd:%dnA, Ivbat:%dnA\n", result.machine.Ivdd, result.machine.Ivbat);
 2679              		.loc 1 473 5 is_stmt 0 view .LVU682
 2680 00f4 FFF7FEFF 		bl	UsbPrintf
 2681              	.LVL338:
 474:Device/Src/flash.c **** 				UsbPrintf("config9:%02X, configC:%02X\n", result.machine.config9, result.machine.configC);
 2682              		.loc 1 474 5 is_stmt 1 view .LVU683
 2683 00f8 BDF84221 		ldrh	r2, [sp, #322]
 2684 00fc BDF84011 		ldrh	r1, [sp, #320]
 2685 0100 2848     		ldr	r0, .L175+32
 2686 0102 FFF7FEFF 		bl	UsbPrintf
 2687              	.LVL339:
 475:Device/Src/flash.c **** 				UsbPrintf("temp system:%dC, rtc:%dC\n", result.machine.sysTemp, result.machine.rtcTemp);
 2688              		.loc 1 475 5 view .LVU684
 2689 0106 9DF84521 		ldrb	r2, [sp, #325]	@ zero_extendqisi2
 2690 010a 9DF84411 		ldrb	r1, [sp, #324]	@ zero_extendqisi2
 2691 010e 2648     		ldr	r0, .L175+36
 2692 0110 FFF7FEFF 		bl	UsbPrintf
 2693              	.LVL340:
 476:Device/Src/flash.c **** 				UsbPrintf("test frequency:%fkHz\n", result.machine.testFreq);
 2694              		.loc 1 476 5 view .LVU685
 2695 0114 9DF84721 		ldrb	r2, [sp, #327]	@ zero_extendqisi2
 2696 0118 9DF84611 		ldrb	r1, [sp, #326]	@ zero_extendqisi2
 2697 011c 2348     		ldr	r0, .L175+40
 2698 011e FFF7FEFF 		bl	UsbPrintf
 2699              	.LVL341:
 477:Device/Src/flash.c **** 				UsbPrintf("vbat:%dmV, charge:%dmV\n", result.machine.vbat_2V5, result.machine.charge);
 2700              		.loc 1 477 5 view .LVU686
 2701 0122 5298     		ldr	r0, [sp, #328]	@ float
 2702 0124 FFF7FEFF 		bl	__aeabi_f2d
 2703              	.LVL342:
 2704 0128 0246     		mov	r2, r0
 2705 012a 0B46     		mov	r3, r1
 2706 012c 2048     		ldr	r0, .L175+44
 2707 012e FFF7FEFF 		bl	UsbPrintf
 2708              	.LVL343:
 478:Device/Src/flash.c **** 			break;
 2709              		.loc 1 478 5 view .LVU687
 2710 0132 BDF84E21 		ldrh	r2, [sp, #334]
 2711 0136 BDF84C11 		ldrh	r1, [sp, #332]
 2712 013a 1E48     		ldr	r0, .L175+48
 2713 013c FFF7FEFF 		bl	UsbPrintf
 2714              	.LVL344:
 479:Device/Src/flash.c **** 			case 5:
 2715              		.loc 1 479 4 view .LVU688
 2716 0140 79E7     		b	.L158
 2717              	.LVL345:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 65


 2718              	.L160:
 481:Device/Src/flash.c **** 				for (i = 0; i < 151; i++) {
 2719              		.loc 1 481 5 view .LVU689
 2720 0142 1D48     		ldr	r0, .L175+52
 2721              	.LVL346:
 481:Device/Src/flash.c **** 				for (i = 0; i < 151; i++) {
 2722              		.loc 1 481 5 is_stmt 0 view .LVU690
 2723 0144 FFF7FEFF 		bl	UsbPrintf
 2724              	.LVL347:
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2725              		.loc 1 482 5 is_stmt 1 view .LVU691
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2726              		.loc 1 482 12 is_stmt 0 view .LVU692
 2727 0148 0024     		movs	r4, #0
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2728              		.loc 1 482 5 view .LVU693
 2729 014a 08E0     		b	.L170
 2730              	.LVL348:
 2731              	.L171:
 484:Device/Src/flash.c **** 				}
 2732              		.loc 1 484 6 is_stmt 1 discriminator 2 view .LVU694
 484:Device/Src/flash.c **** 				}
 2733              		.loc 1 484 41 is_stmt 0 discriminator 2 view .LVU695
 2734 014c 04F1F803 		add	r3, r4, #248
 2735 0150 6B44     		add	r3, sp, r3
 484:Device/Src/flash.c **** 				}
 2736              		.loc 1 484 6 discriminator 2 view .LVU696
 2737 0152 93F85810 		ldrb	r1, [r3, #88]	@ zero_extendqisi2
 2738 0156 1948     		ldr	r0, .L175+56
 2739 0158 FFF7FEFF 		bl	UsbPrintf
 2740              	.LVL349:
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2741              		.loc 1 482 26 is_stmt 1 discriminator 2 view .LVU697
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2742              		.loc 1 482 27 is_stmt 0 discriminator 2 view .LVU698
 2743 015c 0134     		adds	r4, r4, #1
 2744              	.LVL350:
 2745              	.L170:
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2746              		.loc 1 482 17 is_stmt 1 discriminator 1 view .LVU699
 482:Device/Src/flash.c **** 					if (i % 20 == 0) { UsbPrintf("\n[%d]\t", i);}
 2747              		.loc 1 482 5 is_stmt 0 discriminator 1 view .LVU700
 2748 015e 962C     		cmp	r4, #150
 2749 0160 3FF769AF 		bgt	.L158
 483:Device/Src/flash.c **** 					UsbPrintf("%02X ", result.capCalcul[i]);
 2750              		.loc 1 483 6 is_stmt 1 view .LVU701
 483:Device/Src/flash.c **** 					UsbPrintf("%02X ", result.capCalcul[i]);
 2751              		.loc 1 483 12 is_stmt 0 view .LVU702
 2752 0164 164A     		ldr	r2, .L175+60
 2753 0166 82FB0432 		smull	r3, r2, r2, r4
 2754 016a E317     		asrs	r3, r4, #31
 2755 016c C3EBE203 		rsb	r3, r3, r2, asr #3
 2756 0170 03EB8303 		add	r3, r3, r3, lsl #2
 483:Device/Src/flash.c **** 					UsbPrintf("%02X ", result.capCalcul[i]);
 2757              		.loc 1 483 9 view .LVU703
 2758 0174 B4EB830F 		cmp	r4, r3, lsl #2
 2759 0178 E8D1     		bne	.L171
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 66


 483:Device/Src/flash.c **** 					UsbPrintf("%02X ", result.capCalcul[i]);
 2760              		.loc 1 483 25 is_stmt 1 discriminator 1 view .LVU704
 2761 017a 2146     		mov	r1, r4
 2762 017c 1148     		ldr	r0, .L175+64
 2763 017e FFF7FEFF 		bl	UsbPrintf
 2764              	.LVL351:
 2765 0182 E3E7     		b	.L171
 2766              	.L176:
 2767              		.align	2
 2768              	.L175:
 2769 0184 00000000 		.word	.LC3
 2770 0188 28000000 		.word	.LC4
 2771 018c 3C000000 		.word	.LC5
 2772 0190 4C000000 		.word	.LC6
 2773 0194 50000000 		.word	.LC7
 2774 0198 7C000000 		.word	.LC8
 2775 019c 8C000000 		.word	.LC9
 2776 01a0 A8000000 		.word	.LC10
 2777 01a4 B8000000 		.word	.LC11
 2778 01a8 D0000000 		.word	.LC12
 2779 01ac EC000000 		.word	.LC13
 2780 01b0 08010000 		.word	.LC14
 2781 01b4 20010000 		.word	.LC15
 2782 01b8 38010000 		.word	.LC16
 2783 01bc 50010000 		.word	.LC18
 2784 01c0 67666666 		.word	1717986919
 2785 01c4 48010000 		.word	.LC17
 2786              		.cfi_endproc
 2787              	.LFE247:
 2789              		.section	.text.SaveStringToFlash,"ax",%progbits
 2790              		.align	1
 2791              		.global	SaveStringToFlash
 2792              		.syntax unified
 2793              		.thumb
 2794              		.thumb_func
 2796              	SaveStringToFlash:
 2797              	.LVL352:
 2798              	.LFB248:
 492:Device/Src/flash.c **** 
 493:Device/Src/flash.c **** //---------------------------MCU flash start------------------------------------------
 494:Device/Src/flash.c **** 
 495:Device/Src/flash.c **** void SaveStringToFlash(char* s, uint32_t addr)
 496:Device/Src/flash.c **** {
 2799              		.loc 1 496 1 view -0
 2800              		.cfi_startproc
 2801              		@ args = 0, pretend = 0, frame = 0
 2802              		@ frame_needed = 0, uses_anonymous_args = 0
 2803              		.loc 1 496 1 is_stmt 0 view .LVU706
 2804 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2805              	.LCFI37:
 2806              		.cfi_def_cfa_offset 24
 2807              		.cfi_offset 4, -24
 2808              		.cfi_offset 5, -20
 2809              		.cfi_offset 6, -16
 2810              		.cfi_offset 7, -12
 2811              		.cfi_offset 8, -8
 2812              		.cfi_offset 14, -4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 67


 2813 0004 8046     		mov	r8, r0
 2814 0006 0F46     		mov	r7, r1
 497:Device/Src/flash.c **** 	int length = strlen(s);
 2815              		.loc 1 497 2 is_stmt 1 view .LVU707
 2816              		.loc 1 497 15 is_stmt 0 view .LVU708
 2817 0008 FFF7FEFF 		bl	strlen
 2818              	.LVL353:
 498:Device/Src/flash.c **** 	uint16_t j;
 2819              		.loc 1 498 2 is_stmt 1 view .LVU709
 499:Device/Src/flash.c **** 	uint32_t data = 0;
 2820              		.loc 1 499 2 view .LVU710
 500:Device/Src/flash.c **** 	uint32_t address = addr;
 2821              		.loc 1 500 2 view .LVU711
 501:Device/Src/flash.c **** 	if (length <= 0) {return;}
 2822              		.loc 1 501 2 view .LVU712
 2823              		.loc 1 501 5 is_stmt 0 view .LVU713
 2824 000c 061E     		subs	r6, r0, #0
 2825 000e 40DD     		ble	.L177
 502:Device/Src/flash.c **** 
 503:Device/Src/flash.c **** 	HAL_FLASH_Unlock();
 2826              		.loc 1 503 2 is_stmt 1 view .LVU714
 2827 0010 FFF7FEFF 		bl	HAL_FLASH_Unlock
 2828              	.LVL354:
 504:Device/Src/flash.c **** 	for (j = 0; j < length; j += 4) {
 2829              		.loc 1 504 2 view .LVU715
 499:Device/Src/flash.c **** 	uint32_t address = addr;
 2830              		.loc 1 499 11 is_stmt 0 view .LVU716
 2831 0014 0025     		movs	r5, #0
 2832              		.loc 1 504 9 view .LVU717
 2833 0016 2C46     		mov	r4, r5
 2834              		.loc 1 504 2 view .LVU718
 2835 0018 1DE0     		b	.L179
 2836              	.LVL355:
 2837              	.L180:
 505:Device/Src/flash.c **** 		if (j + 4 <= length) {
 506:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 507:Device/Src/flash.c **** 		} else {
 508:Device/Src/flash.c **** 			if (length == j + 1) { 
 2838              		.loc 1 508 4 is_stmt 1 view .LVU719
 2839              		.loc 1 508 20 is_stmt 0 view .LVU720
 2840 001a 591C     		adds	r1, r3, #1
 2841              		.loc 1 508 7 view .LVU721
 2842 001c B142     		cmp	r1, r6
 2843 001e 0FD0     		beq	.L186
 509:Device/Src/flash.c **** 				data = s[j];
 510:Device/Src/flash.c **** 			} else if (length == j + 2) { 
 2844              		.loc 1 510 11 is_stmt 1 view .LVU722
 2845              		.loc 1 510 27 is_stmt 0 view .LVU723
 2846 0020 0233     		adds	r3, r3, #2
 2847              		.loc 1 510 14 view .LVU724
 2848 0022 B342     		cmp	r3, r6
 2849 0024 2BD0     		beq	.L187
 511:Device/Src/flash.c **** 				data =  s[j] + ((uint32_t)s[j + 1] << 8);
 512:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2850              		.loc 1 512 11 is_stmt 1 view .LVU725
 2851              		.loc 1 512 14 is_stmt 0 view .LVU726
 2852 0026 B242     		cmp	r2, r6
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 68


 2853 0028 0CD1     		bne	.L181
 513:Device/Src/flash.c **** 				data =  s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16);
 2854              		.loc 1 513 5 is_stmt 1 view .LVU727
 2855              		.loc 1 513 14 is_stmt 0 view .LVU728
 2856 002a 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 2857              	.LVL356:
 2858              		.loc 1 513 32 view .LVU729
 2859 002e 08EB0403 		add	r3, r8, r4
 2860 0032 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 2861              		.loc 1 513 18 view .LVU730
 2862 0034 05EB0225 		add	r5, r5, r2, lsl #8
 2863              		.loc 1 513 60 view .LVU731
 2864 0038 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2865              		.loc 1 513 10 view .LVU732
 2866 003a 05EB0345 		add	r5, r5, r3, lsl #16
 2867              	.LVL357:
 2868              		.loc 1 513 10 view .LVU733
 2869 003e 01E0     		b	.L181
 2870              	.L186:
 509:Device/Src/flash.c **** 				data = s[j];
 2871              		.loc 1 509 5 is_stmt 1 view .LVU734
 509:Device/Src/flash.c **** 				data = s[j];
 2872              		.loc 1 509 13 is_stmt 0 view .LVU735
 2873 0040 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 2874              	.LVL358:
 2875              	.L181:
 514:Device/Src/flash.c **** 			} 
 515:Device/Src/flash.c **** 		}
 516:Device/Src/flash.c **** 		HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD, address, data);
 2876              		.loc 1 516 3 is_stmt 1 discriminator 2 view .LVU736
 2877 0044 2A46     		mov	r2, r5
 2878 0046 0023     		movs	r3, #0
 2879 0048 3946     		mov	r1, r7
 2880 004a 0220     		movs	r0, #2
 2881 004c FFF7FEFF 		bl	HAL_FLASH_Program
 2882              	.LVL359:
 517:Device/Src/flash.c **** 		address += 4;
 2883              		.loc 1 517 3 discriminator 2 view .LVU737
 2884              		.loc 1 517 11 is_stmt 0 discriminator 2 view .LVU738
 2885 0050 0437     		adds	r7, r7, #4
 2886              	.LVL360:
 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2887              		.loc 1 504 26 is_stmt 1 discriminator 2 view .LVU739
 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2888              		.loc 1 504 28 is_stmt 0 discriminator 2 view .LVU740
 2889 0052 0434     		adds	r4, r4, #4
 2890              	.LVL361:
 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2891              		.loc 1 504 28 discriminator 2 view .LVU741
 2892 0054 A4B2     		uxth	r4, r4
 2893              	.LVL362:
 2894              	.L179:
 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2895              		.loc 1 504 14 is_stmt 1 discriminator 1 view .LVU742
 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2896              		.loc 1 504 16 is_stmt 0 discriminator 1 view .LVU743
 2897 0056 2346     		mov	r3, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 69


 504:Device/Src/flash.c **** 		if (j + 4 <= length) {
 2898              		.loc 1 504 2 discriminator 1 view .LVU744
 2899 0058 B442     		cmp	r4, r6
 2900 005a 18DA     		bge	.L188
 505:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 2901              		.loc 1 505 3 is_stmt 1 view .LVU745
 505:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 2902              		.loc 1 505 13 is_stmt 0 view .LVU746
 2903 005c E21C     		adds	r2, r4, #3
 505:Device/Src/flash.c **** 			data = s[j] + ((uint32_t)s[j + 1] << 8) + ((uint32_t)s[j + 2] << 16)+ ((uint32_t)s[j + 3] << 24)
 2904              		.loc 1 505 6 view .LVU747
 2905 005e B242     		cmp	r2, r6
 2906 0060 DBDA     		bge	.L180
 506:Device/Src/flash.c **** 		} else {
 2907              		.loc 1 506 4 is_stmt 1 view .LVU748
 506:Device/Src/flash.c **** 		} else {
 2908              		.loc 1 506 12 is_stmt 0 view .LVU749
 2909 0062 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 2910              	.LVL363:
 506:Device/Src/flash.c **** 		} else {
 2911              		.loc 1 506 30 view .LVU750
 2912 0066 08EB0403 		add	r3, r8, r4
 2913 006a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 506:Device/Src/flash.c **** 		} else {
 2914              		.loc 1 506 16 view .LVU751
 2915 006c 05EB0225 		add	r5, r5, r2, lsl #8
 506:Device/Src/flash.c **** 		} else {
 2916              		.loc 1 506 58 view .LVU752
 2917 0070 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 506:Device/Src/flash.c **** 		} else {
 2918              		.loc 1 506 44 view .LVU753
 2919 0072 05EB0245 		add	r5, r5, r2, lsl #16
 506:Device/Src/flash.c **** 		} else {
 2920              		.loc 1 506 86 view .LVU754
 2921 0076 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 506:Device/Src/flash.c **** 		} else {
 2922              		.loc 1 506 9 view .LVU755
 2923 0078 05EB0365 		add	r5, r5, r3, lsl #24
 2924              	.LVL364:
 506:Device/Src/flash.c **** 		} else {
 2925              		.loc 1 506 9 view .LVU756
 2926 007c E2E7     		b	.L181
 2927              	.L187:
 511:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2928              		.loc 1 511 5 is_stmt 1 view .LVU757
 511:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2929              		.loc 1 511 14 is_stmt 0 view .LVU758
 2930 007e 18F80450 		ldrb	r5, [r8, r4]	@ zero_extendqisi2
 2931              	.LVL365:
 511:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2932              		.loc 1 511 32 view .LVU759
 2933 0082 08EB0403 		add	r3, r8, r4
 2934 0086 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 511:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2935              		.loc 1 511 10 view .LVU760
 2936 0088 05EB0325 		add	r5, r5, r3, lsl #8
 2937              	.LVL366:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 70


 511:Device/Src/flash.c **** 			} else if (length == j + 3) { 
 2938              		.loc 1 511 10 view .LVU761
 2939 008c DAE7     		b	.L181
 2940              	.L188:
 518:Device/Src/flash.c **** 	}
 519:Device/Src/flash.c **** 	HAL_FLASH_Lock();
 2941              		.loc 1 519 2 is_stmt 1 view .LVU762
 2942 008e FFF7FEFF 		bl	HAL_FLASH_Lock
 2943              	.LVL367:
 2944              	.L177:
 520:Device/Src/flash.c **** }
 2945              		.loc 1 520 1 is_stmt 0 view .LVU763
 2946 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2947              		.loc 1 520 1 view .LVU764
 2948              		.cfi_endproc
 2949              	.LFE248:
 2951              		.section	.text.GetStringFromFlash,"ax",%progbits
 2952              		.align	1
 2953              		.global	GetStringFromFlash
 2954              		.syntax unified
 2955              		.thumb
 2956              		.thumb_func
 2958              	GetStringFromFlash:
 2959              	.LVL368:
 2960              	.LFB249:
 521:Device/Src/flash.c **** void GetStringFromFlash(char* target, uint16_t length, uint32_t addr)
 522:Device/Src/flash.c **** {
 2961              		.loc 1 522 1 is_stmt 1 view -0
 2962              		.cfi_startproc
 2963              		@ args = 0, pretend = 0, frame = 0
 2964              		@ frame_needed = 0, uses_anonymous_args = 0
 2965              		@ link register save eliminated.
 523:Device/Src/flash.c **** 	uint16_t i;
 2966              		.loc 1 523 2 view .LVU766
 524:Device/Src/flash.c **** 	uint32_t value;
 2967              		.loc 1 524 2 view .LVU767
 525:Device/Src/flash.c **** 
 526:Device/Src/flash.c **** 	for (i = 0; i < length; i++) {
 2968              		.loc 1 526 2 view .LVU768
 2969              		.loc 1 526 9 is_stmt 0 view .LVU769
 2970 0000 0023     		movs	r3, #0
 2971              	.LVL369:
 2972              		.loc 1 526 14 is_stmt 1 view .LVU770
 2973              		.loc 1 526 2 is_stmt 0 view .LVU771
 2974 0002 8B42     		cmp	r3, r1
 2975 0004 11D2     		bcs	.L199
 522:Device/Src/flash.c **** 	uint16_t i;
 2976              		.loc 1 522 1 view .LVU772
 2977 0006 10B4     		push	{r4}
 2978              	.LCFI38:
 2979              		.cfi_def_cfa_offset 4
 2980              		.cfi_offset 4, -4
 2981              	.L194:
 527:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 2982              		.loc 1 527 3 is_stmt 1 view .LVU773
 2983              		.loc 1 527 28 is_stmt 0 view .LVU774
 2984 0008 9C46     		mov	ip, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 71


 2985              		.loc 1 527 11 view .LVU775
 2986 000a 9C5C     		ldrb	r4, [r3, r2]	@ zero_extendqisi2
 2987              	.LVL370:
 528:Device/Src/flash.c **** 		if (value == 0xff || value == 0) {
 2988              		.loc 1 528 3 is_stmt 1 view .LVU776
 2989              		.loc 1 528 6 is_stmt 0 view .LVU777
 2990 000c FF2C     		cmp	r4, #255
 2991 000e 06D0     		beq	.L191
 2992              		.loc 1 528 21 discriminator 1 view .LVU778
 2993 0010 2CB1     		cbz	r4, .L191
 529:Device/Src/flash.c **** 			target[i] = 0;
 530:Device/Src/flash.c **** 			break;
 531:Device/Src/flash.c **** 		}
 532:Device/Src/flash.c **** 		target[i] = value;
 2994              		.loc 1 532 3 is_stmt 1 discriminator 2 view .LVU779
 2995              		.loc 1 532 13 is_stmt 0 discriminator 2 view .LVU780
 2996 0012 C454     		strb	r4, [r0, r3]
 526:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 2997              		.loc 1 526 26 is_stmt 1 discriminator 2 view .LVU781
 526:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 2998              		.loc 1 526 27 is_stmt 0 discriminator 2 view .LVU782
 2999 0014 0133     		adds	r3, r3, #1
 3000              	.LVL371:
 526:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 3001              		.loc 1 526 27 discriminator 2 view .LVU783
 3002 0016 9BB2     		uxth	r3, r3
 3003              	.LVL372:
 526:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 3004              		.loc 1 526 14 is_stmt 1 discriminator 2 view .LVU784
 526:Device/Src/flash.c **** 		value = *(uint8_t*)(addr + i);
 3005              		.loc 1 526 2 is_stmt 0 discriminator 2 view .LVU785
 3006 0018 8B42     		cmp	r3, r1
 3007 001a F5D3     		bcc	.L194
 3008 001c 02E0     		b	.L189
 3009              	.L191:
 529:Device/Src/flash.c **** 			target[i] = 0;
 3010              		.loc 1 529 4 is_stmt 1 view .LVU786
 529:Device/Src/flash.c **** 			target[i] = 0;
 3011              		.loc 1 529 14 is_stmt 0 view .LVU787
 3012 001e 0023     		movs	r3, #0
 3013              	.LVL373:
 529:Device/Src/flash.c **** 			target[i] = 0;
 3014              		.loc 1 529 14 view .LVU788
 3015 0020 00F80C30 		strb	r3, [r0, ip]
 530:Device/Src/flash.c **** 		}
 3016              		.loc 1 530 4 is_stmt 1 view .LVU789
 3017              	.L189:
 533:Device/Src/flash.c **** 	}
 534:Device/Src/flash.c **** }
 3018              		.loc 1 534 1 is_stmt 0 view .LVU790
 3019 0024 5DF8044B 		ldr	r4, [sp], #4
 3020              	.LCFI39:
 3021              		.cfi_restore 4
 3022              		.cfi_def_cfa_offset 0
 3023              	.LVL374:
 3024              		.loc 1 534 1 view .LVU791
 3025 0028 7047     		bx	lr
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 72


 3026              	.LVL375:
 3027              	.L199:
 3028              		.loc 1 534 1 view .LVU792
 3029 002a 7047     		bx	lr
 3030              		.cfi_endproc
 3031              	.LFE249:
 3033              		.section	.text.ClearBsnFlash,"ax",%progbits
 3034              		.align	1
 3035              		.global	ClearBsnFlash
 3036              		.syntax unified
 3037              		.thumb
 3038              		.thumb_func
 3040              	ClearBsnFlash:
 3041              	.LFB250:
 535:Device/Src/flash.c **** 
 536:Device/Src/flash.c **** void ClearBsnFlash(void)
 537:Device/Src/flash.c **** {
 3042              		.loc 1 537 1 is_stmt 1 view -0
 3043              		.cfi_startproc
 3044              		@ args = 0, pretend = 0, frame = 24
 3045              		@ frame_needed = 0, uses_anonymous_args = 0
 3046 0000 10B5     		push	{r4, lr}
 3047              	.LCFI40:
 3048              		.cfi_def_cfa_offset 8
 3049              		.cfi_offset 4, -8
 3050              		.cfi_offset 14, -4
 3051 0002 86B0     		sub	sp, sp, #24
 3052              	.LCFI41:
 3053              		.cfi_def_cfa_offset 32
 538:Device/Src/flash.c **** 	FLASH_EraseInitTypeDef EraseInitStruct = {0};
 3054              		.loc 1 538 2 view .LVU794
 3055              		.loc 1 538 25 is_stmt 0 view .LVU795
 3056 0004 0024     		movs	r4, #0
 3057 0006 0194     		str	r4, [sp, #4]
 3058 0008 0294     		str	r4, [sp, #8]
 3059 000a 0394     		str	r4, [sp, #12]
 3060 000c 0494     		str	r4, [sp, #16]
 3061 000e 0594     		str	r4, [sp, #20]
 539:Device/Src/flash.c **** 	uint32_t PageError = 0;
 3062              		.loc 1 539 2 is_stmt 1 view .LVU796
 3063              		.loc 1 539 11 is_stmt 0 view .LVU797
 3064 0010 0094     		str	r4, [sp]
 540:Device/Src/flash.c **** 	HAL_FLASH_Unlock();
 3065              		.loc 1 540 2 is_stmt 1 view .LVU798
 3066 0012 FFF7FEFF 		bl	HAL_FLASH_Unlock
 3067              	.LVL376:
 541:Device/Src/flash.c **** 	
 542:Device/Src/flash.c **** 	EraseInitStruct.TypeErase   = FLASH_TYPEERASE_SECTORS;
 3068              		.loc 1 542 2 view .LVU799
 3069              		.loc 1 542 30 is_stmt 0 view .LVU800
 3070 0016 0194     		str	r4, [sp, #4]
 543:Device/Src/flash.c **** 	EraseInitStruct.Sector      = BSN_IN_SECTOR;
 3071              		.loc 1 543 2 is_stmt 1 view .LVU801
 3072              		.loc 1 543 30 is_stmt 0 view .LVU802
 3073 0018 0723     		movs	r3, #7
 3074 001a 0393     		str	r3, [sp, #12]
 544:Device/Src/flash.c **** 	EraseInitStruct.NbSectors   = 1;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 73


 3075              		.loc 1 544 2 is_stmt 1 view .LVU803
 3076              		.loc 1 544 30 is_stmt 0 view .LVU804
 3077 001c 0123     		movs	r3, #1
 3078 001e 0493     		str	r3, [sp, #16]
 545:Device/Src/flash.c **** 	HAL_FLASHEx_Erase(&EraseInitStruct, &PageError);
 3079              		.loc 1 545 2 is_stmt 1 view .LVU805
 3080 0020 6946     		mov	r1, sp
 3081 0022 01A8     		add	r0, sp, #4
 3082 0024 FFF7FEFF 		bl	HAL_FLASHEx_Erase
 3083              	.LVL377:
 546:Device/Src/flash.c **** 
 547:Device/Src/flash.c **** 	HAL_FLASH_Lock();
 3084              		.loc 1 547 2 view .LVU806
 3085 0028 FFF7FEFF 		bl	HAL_FLASH_Lock
 3086              	.LVL378:
 548:Device/Src/flash.c **** }
 3087              		.loc 1 548 1 is_stmt 0 view .LVU807
 3088 002c 06B0     		add	sp, sp, #24
 3089              	.LCFI42:
 3090              		.cfi_def_cfa_offset 8
 3091              		@ sp needed
 3092 002e 10BD     		pop	{r4, pc}
 3093              		.cfi_endproc
 3094              	.LFE250:
 3096              		.global	g_bufferSector
 3097              		.global	read_addr
 3098              		.global	write_addr
 3099              		.global	enable_write
 3100              		.global	check_addr
 3101              		.global	w25x_read_id
 3102              		.section	.rodata
 3103              		.align	2
 3104              		.set	.LANCHOR1,. + 0
 3105              	.LC0:
 3106 0000 00000000 		.ascii	"\000\000\000\000\000"
 3106      00
 3107 0005 000000   		.space	3
 3108              	.LC2:
 3109 0008 0000     		.ascii	"\000\000"
 3110 000a 00       		.space	1
 3111              		.section	.bss.g_bufferSector,"aw",%nobits
 3112              		.align	2
 3115              	g_bufferSector:
 3116 0000 00000000 		.space	4096
 3116      00000000 
 3116      00000000 
 3116      00000000 
 3116      00000000 
 3117              		.section	.data.check_addr,"aw"
 3118              		.set	.LANCHOR0,. + 0
 3121              	check_addr:
 3122 0000 05       		.byte	5
 3123              		.section	.data.enable_write,"aw"
 3124              		.set	.LANCHOR3,. + 0
 3127              	enable_write:
 3128 0000 06       		.byte	6
 3129              		.section	.data.read_addr,"aw"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 74


 3130              		.set	.LANCHOR5,. + 0
 3133              	read_addr:
 3134 0000 03       		.byte	3
 3135              		.section	.data.w25x_read_id,"aw"
 3136              		.set	.LANCHOR2,. + 0
 3139              	w25x_read_id:
 3140 0000 90       		.byte	-112
 3141              		.section	.data.write_addr,"aw"
 3142              		.set	.LANCHOR4,. + 0
 3145              	write_addr:
 3146 0000 02       		.byte	2
 3147              		.text
 3148              	.Letext0:
 3149              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 3150              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 3151              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 3152              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3153              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3154              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3155              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_flash_ex.h"
 3156              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 3157              		.file 10 "Device/Inc/flash.h"
 3158              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_flash.h"
 3159              		.file 12 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
 3160              		.file 13 "Core/Inc/main.h"
 3161              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3162              		.file 15 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 75


DEFINED SYMBOLS
                            *ABS*:00000000 flash.c
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:20     .text.CheckBusy:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:26     .text.CheckBusy:00000000 CheckBusy
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:121    .text.CheckBusy:00000064 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:128    .rodata.flash_device_id.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:132    .text.flash_device_id:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:138    .text.flash_device_id:00000000 flash_device_id
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:217    .text.flash_device_id:00000064 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:226    .text.address_32_to_8:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:232    .text.address_32_to_8:00000000 address_32_to_8
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:270    .text.flash_erase:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:276    .text.flash_erase:00000000 flash_erase
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:417    .text.flash_erase:000000b0 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:425    .text.flash_write_data:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:431    .text.flash_write_data:00000000 flash_write_data
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:578    .text.flash_write_data:000000b8 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:587    .text.flash_read_data:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:593    .text.flash_read_data:00000000 flash_read_data
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:704    .text.flash_read_data:00000084 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:712    .text.float_to_uint8:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:718    .text.float_to_uint8:00000000 float_to_uint8
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:761    .text.uint8_to_float:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:767    .text.uint8_to_float:00000000 uint8_to_float
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:824    .text.flash_test_flag_manage:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:830    .text.flash_test_flag_manage:00000000 flash_test_flag_manage
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1001   .text.flash_test_data_read:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1007   .text.flash_test_data_read:00000000 flash_test_data_read
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1053   .text.flash_test_data_read:00000026 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1545   .text.flash_test_data_write_add:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1551   .text.flash_test_data_write_add:00000000 flash_test_data_write_add
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1603   .text.flash_test_data_write_add:0000002e $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2095   .text.flash_test_data_clear:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2101   .text.flash_test_data_clear:00000000 flash_test_data_clear
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2266   .text.flash_test_data_clear:00000098 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2273   .text.flash_test_data_clear:000000b4 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2408   .text.flash_test_data_clear:0000013c $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3115   .bss.g_bufferSector:00000000 g_bufferSector
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2413   .rodata.test_data_printf.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2463   .text.test_data_printf:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2469   .text.test_data_printf:00000000 test_data_printf
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2500   .text.test_data_printf:00000014 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2507   .text.test_data_printf:0000001a $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2769   .text.test_data_printf:00000184 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2790   .text.SaveStringToFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2796   .text.SaveStringToFlash:00000000 SaveStringToFlash
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2952   .text.GetStringFromFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:2958   .text.GetStringFromFlash:00000000 GetStringFromFlash
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3034   .text.ClearBsnFlash:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3040   .text.ClearBsnFlash:00000000 ClearBsnFlash
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3133   .data.read_addr:00000000 read_addr
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3145   .data.write_addr:00000000 write_addr
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3127   .data.enable_write:00000000 enable_write
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3121   .data.check_addr:00000000 check_addr
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3139   .data.w25x_read_id:00000000 w25x_read_id
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3103   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:3112   .bss.g_bufferSector:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s 			page 76


C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1120   .text.flash_test_data_read:00000069 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1120   .text.flash_test_data_read:0000006a $t
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1670   .text.flash_test_data_write_add:00000071 $d
C:\Users\86158\AppData\Local\Temp\ccEPZ5oY.s:1670   .text.flash_test_data_write_add:00000072 $t

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
HAL_Delay
hspi1
UsbPrintf
memset
__aeabi_f2d
memcpy
strlen
HAL_FLASH_Unlock
HAL_FLASH_Program
HAL_FLASH_Lock
HAL_FLASHEx_Erase
