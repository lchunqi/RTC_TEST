ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"manager.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.manager_set_mode,"ax",%progbits
  20              		.align	1
  21              		.global	manager_set_mode
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	manager_set_mode:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "App/Src/manager.c"
   1:App/Src/manager.c **** #include "main.h"
   2:App/Src/manager.c **** #include "manager.h"
   3:App/Src/manager.c **** #include "current.h"
   4:App/Src/manager.c **** #include "voltage.h"
   5:App/Src/manager.c **** #include "temp.h"
   6:App/Src/manager.c **** #include "flash.h"
   7:App/Src/manager.c **** #include "log.h"
   8:App/Src/manager.c **** #include "task.h"
   9:App/Src/manager.c **** #include "rtc.h"
  10:App/Src/manager.c **** #include "calculate.h"
  11:App/Src/manager.c **** #include <string.h>
  12:App/Src/manager.c **** #include "power.h"
  13:App/Src/manager.c **** #include "drv_wave1006.h"
  14:App/Src/manager.c **** 
  15:App/Src/manager.c **** #define SD8800_CENTER_TEMP_UP                   30//30℃
  16:App/Src/manager.c **** #define SD8800_CENTER_TEMP_DOWN                 15//15℃
  17:App/Src/manager.c **** 
  18:App/Src/manager.c **** typedef struct {
  19:App/Src/manager.c ****     uint8_t number;
  20:App/Src/manager.c ****     float temp[MAX_CHIP_NUMBER];
  21:App/Src/manager.c ****     float cap[MAX_CHIP_NUMBER];
  22:App/Src/manager.c ****     uint8_t flag[MAX_CHIP_NUMBER];
  23:App/Src/manager.c **** }TestOneData;
  24:App/Src/manager.c **** 
  25:App/Src/manager.c **** static uint8_t g_testMode = FREE_MODE;
  26:App/Src/manager.c **** CapAdjust g_capAdjust = {0};
  27:App/Src/manager.c **** static TestOneData g_oneData = {0};
  28:App/Src/manager.c **** uint8_t g_testFlag[MAX_CHIP_NUMBER] = {0};
  29:App/Src/manager.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 2


  30:App/Src/manager.c **** void manager_set_mode(uint8_t mode)
  31:App/Src/manager.c **** {
  30              		.loc 1 31 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  32:App/Src/manager.c ****     g_testMode = mode;
  35              		.loc 1 32 5 view .LVU1
  36              		.loc 1 32 16 is_stmt 0 view .LVU2
  37 0000 014B     		ldr	r3, .L2
  38 0002 1870     		strb	r0, [r3]
  33:App/Src/manager.c **** }
  39              		.loc 1 33 1 view .LVU3
  40 0004 7047     		bx	lr
  41              	.L3:
  42 0006 00BF     		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE235:
  48              		.section	.text.manager_get_mode,"ax",%progbits
  49              		.align	1
  50              		.global	manager_get_mode
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	manager_get_mode:
  56              	.LFB236:
  34:App/Src/manager.c **** 
  35:App/Src/manager.c **** uint8_t manager_get_mode(void)
  36:App/Src/manager.c **** {
  57              		.loc 1 36 1 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  37:App/Src/manager.c ****     return g_testMode;
  62              		.loc 1 37 5 view .LVU5
  38:App/Src/manager.c **** }
  63              		.loc 1 38 1 is_stmt 0 view .LVU6
  64 0000 014B     		ldr	r3, .L5
  65 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  66 0004 7047     		bx	lr
  67              	.L6:
  68 0006 00BF     		.align	2
  69              	.L5:
  70 0008 00000000 		.word	.LANCHOR0
  71              		.cfi_endproc
  72              	.LFE236:
  74              		.section	.text.system_voltage_test,"ax",%progbits
  75              		.align	1
  76              		.global	system_voltage_test
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	system_voltage_test:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 3


  82              	.LFB237:
  39:App/Src/manager.c **** 
  40:App/Src/manager.c **** 
  41:App/Src/manager.c **** uint8_t system_voltage_test(void)
  42:App/Src/manager.c **** {
  83              		.loc 1 42 1 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  43:App/Src/manager.c ****     // uint8_t mode;
  44:App/Src/manager.c **** 	// uint32_t voltage;
  45:App/Src/manager.c ****     uint8_t result = 0;
  88              		.loc 1 45 5 view .LVU8
  89              	.LVL1:
  46:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_SW) * 3300 * 4.6 / 4096;
  47:App/Src/manager.c **** 	// log_printf("vdd_sw:%dmV,", voltage);
  48:App/Src/manager.c ****     // if (voltage > 2000) {
  49:App/Src/manager.c ****     //     mode = 1;
  50:App/Src/manager.c ****     // } else {
  51:App/Src/manager.c ****     //     mode = 0;
  52:App/Src/manager.c ****     // }
  53:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_3V3) * 3300 * 4.6 / 4096;
  54:App/Src/manager.c **** 	// log_printf("3.3V:%dmV,", voltage);
  55:App/Src/manager.c ****     // if (mode == 0 && voltage < 3100 && voltage > 3500) {result++;}
  56:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_5V) * 3300 * 4.6 / 4096;
  57:App/Src/manager.c **** 	// log_printf("5V:%dmV,", voltage);
  58:App/Src/manager.c ****     // if (mode == 1 && voltage < 4600 && voltage > 5400) {result++;}
  59:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_9V) * 3300 * 4.6 / 4096;
  60:App/Src/manager.c **** 	// log_printf("9V:%dmV,", voltage);
  61:App/Src/manager.c ****     // if (voltage < 9000) {
  62:App/Src/manager.c ****     //     result += 10;
  63:App/Src/manager.c ****     // }
  64:App/Src/manager.c **** 	// voltage = ststem_voltage(CHANNEL_6V5) * 3300 * 4.6 / 4096;
  65:App/Src/manager.c **** 	// log_printf("6.5V:%dmV\n", voltage);
  66:App/Src/manager.c ****     // if (voltage < 6250 || voltage > 6750) {
  67:App/Src/manager.c ****     //     result += 100;
  68:App/Src/manager.c ****     // }
  69:App/Src/manager.c ****     return result;
  90              		.loc 1 69 5 view .LVU9
  70:App/Src/manager.c **** } 
  91              		.loc 1 70 1 is_stmt 0 view .LVU10
  92 0000 0020     		movs	r0, #0
  93 0002 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE237:
  97              		.global	__aeabi_f2d
  98              		.section	.rodata.system_manage_temp.str1.4,"aMS",%progbits,1
  99              		.align	2
 100              	.LC0:
 101 0000 74656D70 		.ascii	"temp1 value %.1fC\012\000"
 101      31207661 
 101      6C756520 
 101      252E3166 
 101      430A00
 102 0013 00       		.align	2
 103              	.LC1:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 4


 104 0014 63686563 		.ascii	"check system temp is error, test stop.\012\000"
 104      6B207379 
 104      7374656D 
 104      2074656D 
 104      70206973 
 105              		.align	2
 106              	.LC2:
 107 003c 6D657373 		.ascii	"message:\317\265\315\263\316\302\266\310\263\254\267"
 107      6167653A 
 107      CFB5CDB3 
 107      CEC2B6C8 
 107      B3ACB7
 108 004f B6CEA70A 		.ascii	"\266\316\247\012\000"
 108      00
 109              		.align	2
 110              	.LC3:
 111 0054 74656D70 		.ascii	"temp offset:chip%d\012\000"
 111      206F6666 
 111      7365743A 
 111      63686970 
 111      25640A00 
 112              		.align	2
 113              	.LC4:
 114 0068 68697374 		.ascii	"history success!\012\000"
 114      6F727920 
 114      73756363 
 114      65737321 
 114      0A00
 115 007a 0000     		.align	2
 116              	.LC5:
 117 007c 656E7465 		.ascii	"enter testmode fail\012\000"
 117      72207465 
 117      73746D6F 
 117      64652066 
 117      61696C0A 
 118 0091 000000   		.align	2
 119              	.LC6:
 120 0094 74656D70 		.ascii	"temp adc: %.1f, offset:%d\012\000"
 120      20616463 
 120      3A20252E 
 120      31662C20 
 120      6F666673 
 121 00af 00       		.align	2
 122              	.LC7:
 123 00b0 73797374 		.ascii	"system set rtc group temp config end.\012\000"
 123      656D2073 
 123      65742072 
 123      74632067 
 123      726F7570 
 124              		.section	.text.system_manage_temp,"ax",%progbits
 125              		.align	1
 126              		.global	system_manage_temp
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	system_manage_temp:
 132              	.LFB238:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 5


  71:App/Src/manager.c **** 
  72:App/Src/manager.c **** int system_manage_temp(void)
  73:App/Src/manager.c **** {
 133              		.loc 1 73 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 320
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 138              	.LCFI0:
 139              		.cfi_def_cfa_offset 36
 140              		.cfi_offset 4, -36
 141              		.cfi_offset 5, -32
 142              		.cfi_offset 6, -28
 143              		.cfi_offset 7, -24
 144              		.cfi_offset 8, -20
 145              		.cfi_offset 9, -16
 146              		.cfi_offset 10, -12
 147              		.cfi_offset 11, -8
 148              		.cfi_offset 14, -4
 149 0004 2DED028B 		vpush.64	{d8}
 150              	.LCFI1:
 151              		.cfi_def_cfa_offset 44
 152              		.cfi_offset 80, -44
 153              		.cfi_offset 81, -40
 154 0008 D3B0     		sub	sp, sp, #332
 155              	.LCFI2:
 156              		.cfi_def_cfa_offset 376
  74:App/Src/manager.c **** 	float temp;
 157              		.loc 1 74 2 view .LVU12
  75:App/Src/manager.c ****     int i;
 158              		.loc 1 75 5 view .LVU13
  76:App/Src/manager.c ****     float rtc_temp;
 159              		.loc 1 76 5 view .LVU14
  77:App/Src/manager.c ****     uint8_t config[MAX_CHIP_NUMBER] = {0};
 160              		.loc 1 77 5 view .LVU15
 161              		.loc 1 77 13 is_stmt 0 view .LVU16
 162 000a 0024     		movs	r4, #0
 163 000c 3D94     		str	r4, [sp, #244]
 164 000e 5022     		movs	r2, #80
 165 0010 2146     		mov	r1, r4
 166 0012 3EA8     		add	r0, sp, #248
 167 0014 FFF7FEFF 		bl	memset
 168              	.LVL2:
  78:App/Src/manager.c ****     // uint8_t flag[MAX_CHIP_NUMBER] = {0};
  79:App/Src/manager.c ****     uint8_t stepCount;
 169              		.loc 1 79 5 is_stmt 1 view .LVU17
  80:App/Src/manager.c ****     TestResult tempTest = {0};
 170              		.loc 1 80 5 view .LVU18
 171              		.loc 1 80 16 is_stmt 0 view .LVU19
 172 0018 EC22     		movs	r2, #236
 173 001a 2146     		mov	r1, r4
 174 001c 02A8     		add	r0, sp, #8
 175 001e FFF7FEFF 		bl	memset
 176              	.LVL3:
  81:App/Src/manager.c **** 
  82:App/Src/manager.c **** //step 1: read system temp ship, and check system voltage ok
  83:App/Src/manager.c **** 	temp = temp_read_value(1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 6


 177              		.loc 1 83 2 is_stmt 1 view .LVU20
 178              		.loc 1 83 9 is_stmt 0 view .LVU21
 179 0022 0120     		movs	r0, #1
 180 0024 FFF7FEFF 		bl	temp_read_value
 181              	.LVL4:
 182 0028 B0EE408A 		vmov.f32	s16, s0
 183              	.LVL5:
  84:App/Src/manager.c ****     log_printf("temp1 value %.1fC\n", temp);
 184              		.loc 1 84 5 is_stmt 1 view .LVU22
 185 002c 10EE100A 		vmov	r0, s0
 186 0030 FFF7FEFF 		bl	__aeabi_f2d
 187              	.LVL6:
 188              		.loc 1 84 5 is_stmt 0 view .LVU23
 189 0034 0446     		mov	r4, r0
 190 0036 0D46     		mov	r5, r1
 191 0038 584E     		ldr	r6, .L24
 192 003a 0246     		mov	r2, r0
 193 003c 0B46     		mov	r3, r1
 194 003e 3046     		mov	r0, r6
 195 0040 FFF7FEFF 		bl	log_printf
 196              	.LVL7:
  85:App/Src/manager.c ****     UsbPrintf("temp1 value %.1fC\n", temp);
 197              		.loc 1 85 5 is_stmt 1 view .LVU24
 198 0044 2246     		mov	r2, r4
 199 0046 2B46     		mov	r3, r5
 200 0048 3046     		mov	r0, r6
 201 004a FFF7FEFF 		bl	UsbPrintf
 202              	.LVL8:
  86:App/Src/manager.c ****     if (temp > SD8800_CENTER_TEMP_UP || temp < SD8800_CENTER_TEMP_DOWN) {
 203              		.loc 1 86 5 view .LVU25
 204              		.loc 1 86 8 is_stmt 0 view .LVU26
 205 004e F3EE0E7A 		vmov.f32	s15, #3.0e+1
 206 0052 B4EEE78A 		vcmpe.f32	s16, s15
 207 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 208 005a 0FDC     		bgt	.L9
 209              		.loc 1 86 38 discriminator 1 view .LVU27
 210 005c F2EE0E7A 		vmov.f32	s15, #1.5e+1
 211 0060 B4EEE78A 		vcmpe.f32	s16, s15
 212 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 213 0068 08D4     		bmi	.L9
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
  88:App/Src/manager.c ****         UsbPrintf("check system temp is error, test stop.\n");
  89:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
  90:App/Src/manager.c ****         return -1;
  91:App/Src/manager.c ****     } 
  92:App/Src/manager.c ****     // if (system_voltage_test() > 0) {
  93:App/Src/manager.c ****     //     log_printf("check system votage is error, test stop.\n");
  94:App/Src/manager.c ****     //     UsbPrintf("check system voltage is error, test stop.\n");
  95:App/Src/manager.c ****     //     ControlPrintf("message:板件电压超范围\n");
  96:App/Src/manager.c ****     //     return -2;
  97:App/Src/manager.c ****     // }
  98:App/Src/manager.c **** //step 2: read rtc group config and check, read rtc group temp, calculate group temp config
  99:App/Src/manager.c ****     // ControlPrintf("message:正在计算config\n");
 100:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_READ);
 214              		.loc 1 100 5 is_stmt 1 view .LVU28
 215 006a 0022     		movs	r2, #0
 216 006c 1146     		mov	r1, r2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 7


 217 006e 4C48     		ldr	r0, .L24+4
 218 0070 FFF7FEFF 		bl	flash_test_flag_manage
 219              	.LVL9:
 101:App/Src/manager.c ****     stepCount = 0;
 220              		.loc 1 101 5 view .LVU29
 102:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 221              		.loc 1 102 5 view .LVU30
 101:App/Src/manager.c ****     stepCount = 0;
 222              		.loc 1 101 15 is_stmt 0 view .LVU31
 223 0074 4FF0000A 		mov	r10, #0
 224              		.loc 1 102 12 view .LVU32
 225 0078 5446     		mov	r4, r10
 226              		.loc 1 102 5 view .LVU33
 227 007a 1FE0     		b	.L13
 228              	.LVL10:
 229              	.L9:
  87:App/Src/manager.c ****         log_printf("check system temp is error, test stop.\n");
 230              		.loc 1 87 9 is_stmt 1 view .LVU34
 231 007c 494C     		ldr	r4, .L24+8
 232 007e 2046     		mov	r0, r4
 233 0080 FFF7FEFF 		bl	log_printf
 234              	.LVL11:
  88:App/Src/manager.c ****         ControlPrintf("message:系统温度超范围\n");
 235              		.loc 1 88 9 view .LVU35
 236 0084 2046     		mov	r0, r4
 237 0086 FFF7FEFF 		bl	UsbPrintf
 238              	.LVL12:
  89:App/Src/manager.c ****         return -1;
 239              		.loc 1 89 9 view .LVU36
 240 008a 4748     		ldr	r0, .L24+12
 241 008c FFF7FEFF 		bl	ControlPrintf
 242              	.LVL13:
  90:App/Src/manager.c ****     } 
 243              		.loc 1 90 9 view .LVU37
  90:App/Src/manager.c ****     } 
 244              		.loc 1 90 16 is_stmt 0 view .LVU38
 245 0090 4FF0FF30 		mov	r0, #-1
 246 0094 7DE0     		b	.L8
 247              	.LVL14:
 248              	.L22:
 103:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 104:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 105:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 106:App/Src/manager.c ****             UsbPrintf("history success!\n");
 249              		.loc 1 106 13 is_stmt 1 view .LVU39
 250 0096 4548     		ldr	r0, .L24+16
 251 0098 FFF7FEFF 		bl	UsbPrintf
 252              	.LVL15:
 107:App/Src/manager.c ****             stepCount++;
 253              		.loc 1 107 13 view .LVU40
 254              		.loc 1 107 22 is_stmt 0 view .LVU41
 255 009c 0AF1010A 		add	r10, r10, #1
 256              	.LVL16:
 257              		.loc 1 107 22 view .LVU42
 258 00a0 5FFA8AFA 		uxtb	r10, r10
 259              	.LVL17:
 108:App/Src/manager.c ****             continue;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 8


 260              		.loc 1 108 13 is_stmt 1 view .LVU43
 261 00a4 09E0     		b	.L15
 262              	.L23:
 109:App/Src/manager.c ****         }
 110:App/Src/manager.c **** 	    temp = temp_read_value(1);
 111:App/Src/manager.c ****         tempTest.setTemp = temp;
 112:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 113:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 114:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 263              		.loc 1 114 13 view .LVU44
 264 00a6 2846     		mov	r0, r5
 265 00a8 FFF7FEFF 		bl	rtc_1006_exit_testmode
 266              	.LVL18:
 115:App/Src/manager.c **** 	        UsbPrintf("enter testmode fail\n");
 267              		.loc 1 115 10 view .LVU45
 268 00ac 4048     		ldr	r0, .L24+20
 269 00ae FFF7FEFF 		bl	UsbPrintf
 270              	.LVL19:
 116:App/Src/manager.c ****             continue;
 271              		.loc 1 116 13 view .LVU46
 272 00b2 02E0     		b	.L15
 273              	.LVL20:
 274              	.L17:
 117:App/Src/manager.c ****         }
 118:App/Src/manager.c ****         HAL_Delay(1);
 119:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 120:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 121:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 122:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 123:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 124:App/Src/manager.c ****             g_testFlag[i] = 1;
 125:App/Src/manager.c ****             stepCount++;
 126:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 127:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 128:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 129:App/Src/manager.c ****         }
 130:App/Src/manager.c ****         rtc_1006_exit_testmode(i + 1);
 275              		.loc 1 130 9 view .LVU47
 276 00b4 2846     		mov	r0, r5
 277 00b6 FFF7FEFF 		bl	rtc_1006_exit_testmode
 278              	.LVL21:
 279              	.L15:
  73:App/Src/manager.c **** 	float temp;
 280              		.loc 1 73 1 is_stmt 0 discriminator 1 view .LVU48
 281 00ba 3446     		mov	r4, r6
 282              	.LVL22:
 283              	.L13:
 102:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 284              		.loc 1 102 17 is_stmt 1 discriminator 1 view .LVU49
 102:App/Src/manager.c **** 	    UsbPrintf("temp offset:chip%d\n", i + 1);
 285              		.loc 1 102 5 is_stmt 0 discriminator 1 view .LVU50
 286 00bc 532C     		cmp	r4, #83
 287 00be 5FDC     		bgt	.L21
 103:App/Src/manager.c **** 	    log_printf("temp offset:chip%d\n", i + 1);
 288              		.loc 1 103 6 is_stmt 1 view .LVU51
 289 00c0 661C     		adds	r6, r4, #1
 290 00c2 3C4D     		ldr	r5, .L24+24
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 9


 291 00c4 3146     		mov	r1, r6
 292 00c6 2846     		mov	r0, r5
 293 00c8 FFF7FEFF 		bl	UsbPrintf
 294              	.LVL23:
 104:App/Src/manager.c ****         if (g_testFlag[i] == 1) {
 295              		.loc 1 104 6 view .LVU52
 296 00cc 3146     		mov	r1, r6
 297 00ce 2846     		mov	r0, r5
 298 00d0 FFF7FEFF 		bl	log_printf
 299              	.LVL24:
 105:App/Src/manager.c ****             UsbPrintf("history success!\n");
 300              		.loc 1 105 9 view .LVU53
 105:App/Src/manager.c ****             UsbPrintf("history success!\n");
 301              		.loc 1 105 23 is_stmt 0 view .LVU54
 302 00d4 324B     		ldr	r3, .L24+4
 303 00d6 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 105:App/Src/manager.c ****             UsbPrintf("history success!\n");
 304              		.loc 1 105 12 view .LVU55
 305 00d8 012B     		cmp	r3, #1
 306 00da DCD0     		beq	.L22
 110:App/Src/manager.c ****         tempTest.setTemp = temp;
 307              		.loc 1 110 6 is_stmt 1 view .LVU56
 110:App/Src/manager.c ****         tempTest.setTemp = temp;
 308              		.loc 1 110 13 is_stmt 0 view .LVU57
 309 00dc 0120     		movs	r0, #1
 310 00de FFF7FEFF 		bl	temp_read_value
 311              	.LVL25:
 312 00e2 B0EE408A 		vmov.f32	s16, s0
 313              	.LVL26:
 111:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 314              		.loc 1 111 9 is_stmt 1 view .LVU58
 111:App/Src/manager.c **** 	    rtc_group_power(i + 1, POWER_I2C);
 315              		.loc 1 111 26 is_stmt 0 view .LVU59
 316 00e6 FCEEC07A 		vcvt.u32.f32	s15, s0
 317 00ea 17EE903A 		vmov	r3, s15	@ int
 318 00ee 8DF83830 		strb	r3, [sp, #56]
 112:App/Src/manager.c ****         if (rtc_1006_set_testmode(i + 1) != I2C_OK) { 
 319              		.loc 1 112 6 is_stmt 1 view .LVU60
 320 00f2 651C     		adds	r5, r4, #1
 321 00f4 EDB2     		uxtb	r5, r5
 322 00f6 0121     		movs	r1, #1
 323 00f8 2846     		mov	r0, r5
 324 00fa FFF7FEFF 		bl	rtc_group_power
 325              	.LVL27:
 113:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 326              		.loc 1 113 9 view .LVU61
 113:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 327              		.loc 1 113 13 is_stmt 0 view .LVU62
 328 00fe 2846     		mov	r0, r5
 329 0100 FFF7FEFF 		bl	rtc_1006_set_testmode
 330              	.LVL28:
 113:App/Src/manager.c ****             rtc_1006_exit_testmode(i + 1);
 331              		.loc 1 113 12 view .LVU63
 332 0104 0028     		cmp	r0, #0
 333 0106 CED1     		bne	.L23
 118:App/Src/manager.c ****         rtc_temp = system_get_rtc_temp(); 
 334              		.loc 1 118 9 is_stmt 1 view .LVU64
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 10


 335 0108 0120     		movs	r0, #1
 336 010a FFF7FEFF 		bl	HAL_Delay
 337              	.LVL29:
 119:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 338              		.loc 1 119 9 view .LVU65
 119:App/Src/manager.c ****         config[i] = rtc_convert_temp_offset(rtc_temp, temp);
 339              		.loc 1 119 20 is_stmt 0 view .LVU66
 340 010e FFF7FEFF 		bl	system_get_rtc_temp
 341              	.LVL30:
 342 0112 10EE108A 		vmov	r8, s0
 343              	.LVL31:
 120:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 344              		.loc 1 120 9 is_stmt 1 view .LVU67
 120:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 345              		.loc 1 120 21 is_stmt 0 view .LVU68
 346 0116 F0EE480A 		vmov.f32	s1, s16
 347 011a FFF7FEFF 		bl	rtc_convert_temp_offset
 348              	.LVL32:
 349 011e 0746     		mov	r7, r0
 120:App/Src/manager.c ****         UsbPrintf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 350              		.loc 1 120 19 view .LVU69
 351 0120 04F5A473 		add	r3, r4, #328
 352 0124 6B44     		add	r3, sp, r3
 353 0126 03F8540C 		strb	r0, [r3, #-84]
 121:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 354              		.loc 1 121 9 is_stmt 1 view .LVU70
 355 012a 4046     		mov	r0, r8	@ float
 356 012c FFF7FEFF 		bl	__aeabi_f2d
 357              	.LVL33:
 358 0130 8046     		mov	r8, r0
 359              	.LVL34:
 121:App/Src/manager.c ****         log_printf("temp adc: %.1f, offset:%d\n", rtc_temp, config[i]);
 360              		.loc 1 121 9 is_stmt 0 view .LVU71
 361 0132 8946     		mov	r9, r1
 362 0134 DFF884B0 		ldr	fp, .L24+32
 363 0138 0097     		str	r7, [sp]
 364 013a 0246     		mov	r2, r0
 365 013c 0B46     		mov	r3, r1
 366 013e 5846     		mov	r0, fp
 367 0140 FFF7FEFF 		bl	UsbPrintf
 368              	.LVL35:
 122:App/Src/manager.c ****         if (config[i] >= 60 && config[i] <= 140) {
 369              		.loc 1 122 9 is_stmt 1 view .LVU72
 370 0144 0097     		str	r7, [sp]
 371 0146 4246     		mov	r2, r8
 372 0148 4B46     		mov	r3, r9
 373 014a 5846     		mov	r0, fp
 374 014c FFF7FEFF 		bl	log_printf
 375              	.LVL36:
 123:App/Src/manager.c ****             g_testFlag[i] = 1;
 376              		.loc 1 123 9 view .LVU73
 123:App/Src/manager.c ****             g_testFlag[i] = 1;
 377              		.loc 1 123 29 is_stmt 0 view .LVU74
 378 0150 A7F13C03 		sub	r3, r7, #60
 379 0154 DBB2     		uxtb	r3, r3
 123:App/Src/manager.c ****             g_testFlag[i] = 1;
 380              		.loc 1 123 12 view .LVU75
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 11


 381 0156 502B     		cmp	r3, #80
 382 0158 ACD8     		bhi	.L17
 124:App/Src/manager.c ****             stepCount++;
 383              		.loc 1 124 13 is_stmt 1 view .LVU76
 124:App/Src/manager.c ****             stepCount++;
 384              		.loc 1 124 27 is_stmt 0 view .LVU77
 385 015a 114B     		ldr	r3, .L24+4
 386 015c 0122     		movs	r2, #1
 387 015e 1A55     		strb	r2, [r3, r4]
 125:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 388              		.loc 1 125 13 is_stmt 1 view .LVU78
 125:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 389              		.loc 1 125 22 is_stmt 0 view .LVU79
 390 0160 9244     		add	r10, r10, r2
 391              	.LVL37:
 125:App/Src/manager.c ****             tempTest.tempConfig = config[i];
 392              		.loc 1 125 22 view .LVU80
 393 0162 5FFA8AFA 		uxtb	r10, r10
 394              	.LVL38:
 126:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 395              		.loc 1 126 13 is_stmt 1 view .LVU81
 126:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, SET_TEMP);
 396              		.loc 1 126 33 is_stmt 0 view .LVU82
 397 0166 8DF83970 		strb	r7, [sp, #57]
 127:App/Src/manager.c ****             flash_test_data_write_add(&tempTest, i + 1, TEMP_CONFIG);
 398              		.loc 1 127 13 is_stmt 1 view .LVU83
 399 016a 3022     		movs	r2, #48
 400 016c 2946     		mov	r1, r5
 401 016e 02A8     		add	r0, sp, #8
 402 0170 FFF7FEFF 		bl	flash_test_data_write_add
 403              	.LVL39:
 128:App/Src/manager.c ****         }
 404              		.loc 1 128 13 view .LVU84
 405 0174 3122     		movs	r2, #49
 406 0176 2946     		mov	r1, r5
 407 0178 02A8     		add	r0, sp, #8
 408 017a FFF7FEFF 		bl	flash_test_data_write_add
 409              	.LVL40:
 410 017e 99E7     		b	.L17
 411              	.L21:
 131:App/Src/manager.c ****     }
 132:App/Src/manager.c ****     
 133:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMP, FLASH_FLAG_WRITE_ADD);
 412              		.loc 1 133 5 view .LVU85
 413 0180 0122     		movs	r2, #1
 414 0182 0021     		movs	r1, #0
 415 0184 0648     		ldr	r0, .L24+4
 416 0186 FFF7FEFF 		bl	flash_test_flag_manage
 417              	.LVL41:
 134:App/Src/manager.c ****     UsbPrintf("system set rtc group temp config end.\n");
 418              		.loc 1 134 5 view .LVU86
 419 018a 0B48     		ldr	r0, .L24+28
 420 018c FFF7FEFF 		bl	UsbPrintf
 421              	.LVL42:
 135:App/Src/manager.c ****     return stepCount;
 422              		.loc 1 135 5 view .LVU87
 423              		.loc 1 135 12 is_stmt 0 view .LVU88
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 12


 424 0190 5046     		mov	r0, r10
 425              	.LVL43:
 426              	.L8:
 136:App/Src/manager.c **** }
 427              		.loc 1 136 1 view .LVU89
 428 0192 53B0     		add	sp, sp, #332
 429              	.LCFI3:
 430              		.cfi_def_cfa_offset 44
 431              		@ sp needed
 432 0194 BDEC028B 		vldm	sp!, {d8}
 433              	.LCFI4:
 434              		.cfi_restore 80
 435              		.cfi_restore 81
 436              		.cfi_def_cfa_offset 36
 437              	.LVL44:
 438              		.loc 1 136 1 view .LVU90
 439 0198 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 440              	.L25:
 441              		.align	2
 442              	.L24:
 443 019c 00000000 		.word	.LC0
 444 01a0 00000000 		.word	.LANCHOR1
 445 01a4 14000000 		.word	.LC1
 446 01a8 3C000000 		.word	.LC2
 447 01ac 68000000 		.word	.LC4
 448 01b0 7C000000 		.word	.LC5
 449 01b4 54000000 		.word	.LC3
 450 01b8 B0000000 		.word	.LC7
 451 01bc 94000000 		.word	.LC6
 452              		.cfi_endproc
 453              	.LFE238:
 455              		.section	.rodata.system_manage_download_cap.str1.4,"aMS",%progbits,1
 456              		.align	2
 457              	.LC8:
 458 0000 63686970 		.ascii	"chip %d history success\012\000"
 458      20256420 
 458      68697374 
 458      6F727920 
 458      73756363 
 459 0019 000000   		.align	2
 460              	.LC9:
 461 001c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:success\012\000"
 461      6D626572 
 461      3A256420 
 461      63686970 
 461      4E616D65 
 462 0045 000000   		.align	2
 463              	.LC10:
 464 0048 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:fail\012\000"
 464      6D626572 
 464      3A256420 
 464      63686970 
 464      4E616D65 
 465              		.section	.text.system_manage_download_cap,"ax",%progbits
 466              		.align	1
 467              		.global	system_manage_download_cap
 468              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 13


 469              		.thumb
 470              		.thumb_func
 472              	system_manage_download_cap:
 473              	.LFB239:
 137:App/Src/manager.c **** 
 138:App/Src/manager.c **** 
 139:App/Src/manager.c **** //下载函数
 140:App/Src/manager.c **** //先做下载前的检查工作
 141:App/Src/manager.c **** //最后调用download_temp_cap函数去烧录
 142:App/Src/manager.c **** int system_manage_download_cap(void)
 143:App/Src/manager.c **** {
 474              		.loc 1 143 1 is_stmt 1 view -0
 475              		.cfi_startproc
 476              		@ args = 0, pretend = 0, frame = 0
 477              		@ frame_needed = 0, uses_anonymous_args = 0
 478 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 479              	.LCFI5:
 480              		.cfi_def_cfa_offset 24
 481              		.cfi_offset 3, -24
 482              		.cfi_offset 4, -20
 483              		.cfi_offset 5, -16
 484              		.cfi_offset 6, -12
 485              		.cfi_offset 7, -8
 486              		.cfi_offset 14, -4
 144:App/Src/manager.c ****     int i;
 487              		.loc 1 144 5 view .LVU92
 145:App/Src/manager.c ****     int count = 0;
 488              		.loc 1 145 5 view .LVU93
 489              	.LVL45:
 146:App/Src/manager.c ****     
 147:App/Src/manager.c ****     memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 490              		.loc 1 147 5 view .LVU94
 491 0002 234C     		ldr	r4, .L36
 492 0004 5422     		movs	r2, #84
 493 0006 FF21     		movs	r1, #255
 494 0008 2046     		mov	r0, r4
 495 000a FFF7FEFF 		bl	memset
 496              	.LVL46:
 148:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_READ);
 497              		.loc 1 148 5 view .LVU95
 498 000e 0022     		movs	r2, #0
 499 0010 0321     		movs	r1, #3
 500 0012 2046     		mov	r0, r4
 501 0014 FFF7FEFF 		bl	flash_test_flag_manage
 502              	.LVL47:
 149:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 503              		.loc 1 149 5 view .LVU96
 145:App/Src/manager.c ****     
 504              		.loc 1 145 9 is_stmt 0 view .LVU97
 505 0018 0025     		movs	r5, #0
 506              		.loc 1 149 12 view .LVU98
 507 001a 2C46     		mov	r4, r5
 508              		.loc 1 149 5 view .LVU99
 509 001c 1AE0     		b	.L27
 510              	.LVL48:
 511              	.L35:
 150:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 14


 151:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 512              		.loc 1 151 13 is_stmt 1 view .LVU100
 513 001e 661C     		adds	r6, r4, #1
 514 0020 1C4F     		ldr	r7, .L36+4
 515 0022 3146     		mov	r1, r6
 516 0024 3846     		mov	r0, r7
 517 0026 FFF7FEFF 		bl	log_printf
 518              	.LVL49:
 152:App/Src/manager.c ****             UsbPrintf("chip %d history success\n", i + 1);
 519              		.loc 1 152 13 view .LVU101
 520 002a 3146     		mov	r1, r6
 521 002c 3846     		mov	r0, r7
 522 002e FFF7FEFF 		bl	UsbPrintf
 523              	.LVL50:
 153:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 524              		.loc 1 153 4 view .LVU102
 525 0032 3246     		mov	r2, r6
 526 0034 2946     		mov	r1, r5
 527 0036 1848     		ldr	r0, .L36+8
 528 0038 FFF7FEFF 		bl	ControlPrintf
 529              	.LVL51:
 154:App/Src/manager.c ****             count++;
 530              		.loc 1 154 13 view .LVU103
 531              		.loc 1 154 18 is_stmt 0 view .LVU104
 532 003c 0135     		adds	r5, r5, #1
 533              	.LVL52:
 155:App/Src/manager.c ****             continue;
 534              		.loc 1 155 13 is_stmt 1 view .LVU105
 535 003e 08E0     		b	.L29
 536              	.L30:
 156:App/Src/manager.c ****         }
 157:App/Src/manager.c **** 
 158:App/Src/manager.c ****         if (sd8800_write_otp(i + 1) != 0) {
 159:App/Src/manager.c ****             count++;
 160:App/Src/manager.c ****             g_testFlag[i] = '1';
 161:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 162:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 163:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:fail\n", count, i + 1);
 537              		.loc 1 163 4 view .LVU106
 538 0040 621C     		adds	r2, r4, #1
 539 0042 2946     		mov	r1, r5
 540 0044 1548     		ldr	r0, .L36+12
 541 0046 FFF7FEFF 		bl	ControlPrintf
 542              	.LVL53:
 543              	.L31:
 164:App/Src/manager.c ****         }
 165:App/Src/manager.c **** 
 166:App/Src/manager.c ****         HAL_Delay(500);
 544              		.loc 1 166 9 view .LVU107
 545 004a 4FF4FA70 		mov	r0, #500
 546 004e FFF7FEFF 		bl	HAL_Delay
 547              	.LVL54:
 548              	.L29:
 149:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 549              		.loc 1 149 38 discriminator 2 view .LVU108
 149:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 550              		.loc 1 149 39 is_stmt 0 discriminator 2 view .LVU109
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 15


 551 0052 0134     		adds	r4, r4, #1
 552              	.LVL55:
 553              	.L27:
 149:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 554              		.loc 1 149 17 is_stmt 1 discriminator 1 view .LVU110
 149:App/Src/manager.c ****         if (g_testFlag[i] == '1') {
 555              		.loc 1 149 5 is_stmt 0 discriminator 1 view .LVU111
 556 0054 532C     		cmp	r4, #83
 557 0056 13DC     		bgt	.L34
 150:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 558              		.loc 1 150 9 is_stmt 1 view .LVU112
 150:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 559              		.loc 1 150 23 is_stmt 0 view .LVU113
 560 0058 0D4B     		ldr	r3, .L36
 561 005a 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 150:App/Src/manager.c ****             log_printf("chip %d history success\n", i + 1);
 562              		.loc 1 150 12 view .LVU114
 563 005c 312B     		cmp	r3, #49
 564 005e DED0     		beq	.L35
 158:App/Src/manager.c ****             count++;
 565              		.loc 1 158 9 is_stmt 1 view .LVU115
 158:App/Src/manager.c ****             count++;
 566              		.loc 1 158 13 is_stmt 0 view .LVU116
 567 0060 601C     		adds	r0, r4, #1
 568 0062 C0B2     		uxtb	r0, r0
 569 0064 FFF7FEFF 		bl	sd8800_write_otp
 570              	.LVL56:
 158:App/Src/manager.c ****             count++;
 571              		.loc 1 158 12 view .LVU117
 572 0068 0028     		cmp	r0, #0
 573 006a E9D0     		beq	.L30
 159:App/Src/manager.c ****             g_testFlag[i] = '1';
 574              		.loc 1 159 13 is_stmt 1 view .LVU118
 159:App/Src/manager.c ****             g_testFlag[i] = '1';
 575              		.loc 1 159 18 is_stmt 0 view .LVU119
 576 006c 0135     		adds	r5, r5, #1
 577              	.LVL57:
 160:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 578              		.loc 1 160 13 is_stmt 1 view .LVU120
 160:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:success\n", count, i + 1);
 579              		.loc 1 160 27 is_stmt 0 view .LVU121
 580 006e 084B     		ldr	r3, .L36
 581 0070 3122     		movs	r2, #49
 582 0072 1A55     		strb	r2, [r3, r4]
 161:App/Src/manager.c ****         } else {//只对本次烧写成功的做记录，失败的不改写，留待重复尝试烧写
 583              		.loc 1 161 4 is_stmt 1 view .LVU122
 584 0074 621C     		adds	r2, r4, #1
 585 0076 2946     		mov	r1, r5
 586 0078 0748     		ldr	r0, .L36+8
 587 007a FFF7FEFF 		bl	ControlPrintf
 588              	.LVL58:
 589 007e E4E7     		b	.L31
 590              	.L34:
 167:App/Src/manager.c ****     }
 168:App/Src/manager.c ****     
 169:App/Src/manager.c ****     flash_test_flag_manage(g_testFlag, FLAG_TEMPLOAD, FLASH_FLAG_WRITE_ADD);
 591              		.loc 1 169 5 view .LVU123
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 16


 592 0080 0122     		movs	r2, #1
 593 0082 0321     		movs	r1, #3
 594 0084 0248     		ldr	r0, .L36
 595 0086 FFF7FEFF 		bl	flash_test_flag_manage
 596              	.LVL59:
 170:App/Src/manager.c ****     return count;
 597              		.loc 1 170 5 view .LVU124
 171:App/Src/manager.c **** }
 598              		.loc 1 171 1 is_stmt 0 view .LVU125
 599 008a 2846     		mov	r0, r5
 600 008c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 601              	.LVL60:
 602              	.L37:
 603              		.loc 1 171 1 view .LVU126
 604 008e 00BF     		.align	2
 605              	.L36:
 606 0090 00000000 		.word	.LANCHOR1
 607 0094 00000000 		.word	.LC8
 608 0098 1C000000 		.word	.LC9
 609 009c 48000000 		.word	.LC10
 610              		.cfi_endproc
 611              	.LFE239:
 613              		.section	.rodata.system_set_int.str1.4,"aMS",%progbits,1
 614              		.align	2
 615              	.LC11:
 616 0000 74657374 		.ascii	"test chip %d\012\000"
 616      20636869 
 616      70202564 
 616      0A00
 617              		.section	.text.system_set_int,"ax",%progbits
 618              		.align	1
 619              		.global	system_set_int
 620              		.syntax unified
 621              		.thumb
 622              		.thumb_func
 624              	system_set_int:
 625              	.LVL61:
 626              	.LFB240:
 172:App/Src/manager.c **** 
 173:App/Src/manager.c **** void system_set_int(uint8_t channel)
 174:App/Src/manager.c **** {
 627              		.loc 1 174 1 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
 631              		.loc 1 174 1 is_stmt 0 view .LVU128
 632 0000 38B5     		push	{r3, r4, r5, lr}
 633              	.LCFI6:
 634              		.cfi_def_cfa_offset 16
 635              		.cfi_offset 3, -16
 636              		.cfi_offset 4, -12
 637              		.cfi_offset 5, -8
 638              		.cfi_offset 14, -4
 639 0002 0446     		mov	r4, r0
 175:App/Src/manager.c ****     static int lastChannel = -1;
 640              		.loc 1 175 5 is_stmt 1 view .LVU129
 176:App/Src/manager.c ****     // int i;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 17


 177:App/Src/manager.c ****     UsbPrintf("test chip %d\n", channel);
 641              		.loc 1 177 5 view .LVU130
 642 0004 124D     		ldr	r5, .L44
 643 0006 0146     		mov	r1, r0
 644 0008 2846     		mov	r0, r5
 645              	.LVL62:
 646              		.loc 1 177 5 is_stmt 0 view .LVU131
 647 000a FFF7FEFF 		bl	UsbPrintf
 648              	.LVL63:
 178:App/Src/manager.c ****     log_printf("test chip %d\n", channel);
 649              		.loc 1 178 5 is_stmt 1 view .LVU132
 650 000e 2146     		mov	r1, r4
 651 0010 2846     		mov	r0, r5
 652 0012 FFF7FEFF 		bl	log_printf
 653              	.LVL64:
 179:App/Src/manager.c ****     // if (lastChannel == -1) {//启动的初始状态
 180:App/Src/manager.c ****     // //可能存在瞬间断电重启的可能，此时RTC可能没掉电,寄存器数值还保留
 181:App/Src/manager.c ****     //     rtc_group_power(1, POWER_I2C);
 182:App/Src/manager.c ****     //     HAL_Delay(200);
 183:App/Src/manager.c ****     //     for (i = 1; i <= MAX_CHIP_NUMBER; i++) {
 184:App/Src/manager.c ****     //         rtc_group_power(i, POWER_I2C);
 185:App/Src/manager.c ****     //         rtc_disable_int();
 186:App/Src/manager.c ****     //     }
 187:App/Src/manager.c ****     // } else 
 188:App/Src/manager.c ****     if (lastChannel > 0) {
 654              		.loc 1 188 5 view .LVU133
 655              		.loc 1 188 21 is_stmt 0 view .LVU134
 656 0016 0F4B     		ldr	r3, .L44+4
 657 0018 1868     		ldr	r0, [r3]
 658              		.loc 1 188 8 view .LVU135
 659 001a 0028     		cmp	r0, #0
 660 001c 03DC     		bgt	.L42
 661              	.L39:
 189:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 190:App/Src/manager.c ****         rtc_disable_int();
 191:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
 192:App/Src/manager.c ****     }
 193:App/Src/manager.c ****     
 194:App/Src/manager.c ****     if (channel != 0) {
 662              		.loc 1 194 5 is_stmt 1 view .LVU136
 663              		.loc 1 194 8 is_stmt 0 view .LVU137
 664 001e 64B9     		cbnz	r4, .L43
 665              	.L40:
 195:App/Src/manager.c ****         rtc_group_power(channel, POWER_I2C);
 196:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 197:App/Src/manager.c ****         rtc_out_4096();
 198:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 199:App/Src/manager.c ****     } 
 200:App/Src/manager.c ****     lastChannel = channel;
 666              		.loc 1 200 5 is_stmt 1 view .LVU138
 667              		.loc 1 200 17 is_stmt 0 view .LVU139
 668 0020 0C4B     		ldr	r3, .L44+4
 669 0022 1C60     		str	r4, [r3]
 201:App/Src/manager.c **** }
 670              		.loc 1 201 1 view .LVU140
 671 0024 38BD     		pop	{r3, r4, r5, pc}
 672              	.L42:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 18


 189:App/Src/manager.c ****         rtc_group_power(lastChannel, POWER_I2C);
 673              		.loc 1 189 9 is_stmt 1 view .LVU141
 674 0026 0121     		movs	r1, #1
 675 0028 C0B2     		uxtb	r0, r0
 676 002a FFF7FEFF 		bl	rtc_group_power
 677              	.LVL65:
 190:App/Src/manager.c ****         rtc_1006_exit_testmode(channel);
 678              		.loc 1 190 9 view .LVU142
 679 002e FFF7FEFF 		bl	rtc_disable_int
 680              	.LVL66:
 191:App/Src/manager.c ****     }
 681              		.loc 1 191 9 view .LVU143
 682 0032 2046     		mov	r0, r4
 683 0034 FFF7FEFF 		bl	rtc_1006_exit_testmode
 684              	.LVL67:
 685 0038 F1E7     		b	.L39
 686              	.L43:
 195:App/Src/manager.c ****         rtc_1006_set_testmode(channel);
 687              		.loc 1 195 9 view .LVU144
 688 003a 0121     		movs	r1, #1
 689 003c 2046     		mov	r0, r4
 690 003e FFF7FEFF 		bl	rtc_group_power
 691              	.LVL68:
 196:App/Src/manager.c ****         rtc_out_4096();
 692              		.loc 1 196 9 view .LVU145
 693 0042 2046     		mov	r0, r4
 694 0044 FFF7FEFF 		bl	rtc_1006_set_testmode
 695              	.LVL69:
 197:App/Src/manager.c ****         // rtc_set_int_channel(channel);
 696              		.loc 1 197 9 view .LVU146
 697 0048 FFF7FEFF 		bl	rtc_out_4096
 698              	.LVL70:
 699 004c E8E7     		b	.L40
 700              	.L45:
 701 004e 00BF     		.align	2
 702              	.L44:
 703 0050 00000000 		.word	.LC11
 704 0054 00000000 		.word	.LANCHOR2
 705              		.cfi_endproc
 706              	.LFE240:
 708              		.section	.text.check_system_temp,"ax",%progbits
 709              		.align	1
 710              		.global	check_system_temp
 711              		.syntax unified
 712              		.thumb
 713              		.thumb_func
 715              	check_system_temp:
 716              	.LFB241:
 202:App/Src/manager.c **** 
 203:App/Src/manager.c **** int check_system_temp(void)
 204:App/Src/manager.c **** {
 717              		.loc 1 204 1 view -0
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 0
 720              		@ frame_needed = 0, uses_anonymous_args = 0
 721 0000 08B5     		push	{r3, lr}
 722              	.LCFI7:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 19


 723              		.cfi_def_cfa_offset 8
 724              		.cfi_offset 3, -8
 725              		.cfi_offset 14, -4
 205:App/Src/manager.c ****     float temp;
 726              		.loc 1 205 5 view .LVU148
 206:App/Src/manager.c ****     temp = temp_read_value(1);
 727              		.loc 1 206 5 view .LVU149
 728              		.loc 1 206 12 is_stmt 0 view .LVU150
 729 0002 0120     		movs	r0, #1
 730 0004 FFF7FEFF 		bl	temp_read_value
 731              	.LVL71:
 207:App/Src/manager.c ****     int num = 100;
 732              		.loc 1 207 5 is_stmt 1 view .LVU151
 208:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 733              		.loc 1 208 5 view .LVU152
 734              		.loc 1 208 8 is_stmt 0 view .LVU153
 735 0008 DFED297A 		vldr.32	s15, .L70
 736 000c B4EEE70A 		vcmpe.f32	s0, s15
 737 0010 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 738 0014 06DB     		blt	.L47
 739              		.loc 1 208 21 discriminator 1 view .LVU154
 740 0016 DFED277A 		vldr.32	s15, .L70+4
 741 001a B4EEE70A 		vcmpe.f32	s0, s15
 742 001e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 743 0022 39D9     		bls	.L57
 744              	.L47:
 209:App/Src/manager.c ****         num = TEST_RTC_TEMP_F40;
 210:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 745              		.loc 1 210 12 is_stmt 1 view .LVU155
 746              		.loc 1 210 15 is_stmt 0 view .LVU156
 747 0024 FAEE0E7A 		vmov.f32	s15, #-1.5e+1
 748 0028 B4EEE70A 		vcmpe.f32	s0, s15
 749 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 750 0030 06DB     		blt	.L50
 751              		.loc 1 210 28 discriminator 1 view .LVU157
 752 0032 F9EE047A 		vmov.f32	s15, #-5.0e+0
 753 0036 B4EEE70A 		vcmpe.f32	s0, s15
 754 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 755 003e 2DD9     		bls	.L58
 756              	.L50:
 211:App/Src/manager.c ****         num = TEST_RTC_TEMP_F10;
 212:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 757              		.loc 1 212 13 is_stmt 1 view .LVU158
 758              		.loc 1 212 16 is_stmt 0 view .LVU159
 759 0040 F3EE047A 		vmov.f32	s15, #2.0e+1
 760 0044 B4EEE70A 		vcmpe.f32	s0, s15
 761 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 762 004c 06DB     		blt	.L52
 763              		.loc 1 212 28 discriminator 1 view .LVU160
 764 004e DFED1A7A 		vldr.32	s15, .L70+8
 765 0052 B4EEE70A 		vcmpe.f32	s0, s15
 766 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 767 005a 21D9     		bls	.L59
 768              	.L52:
 213:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z29;
 214:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 769              		.loc 1 214 12 is_stmt 1 view .LVU161
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 20


 770              		.loc 1 214 15 is_stmt 0 view .LVU162
 771 005c DFED177A 		vldr.32	s15, .L70+12
 772 0060 B4EEE70A 		vcmpe.f32	s0, s15
 773 0064 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 774 0068 06DB     		blt	.L54
 775              		.loc 1 214 27 discriminator 1 view .LVU163
 776 006a DFED157A 		vldr.32	s15, .L70+16
 777 006e B4EEE70A 		vcmpe.f32	s0, s15
 778 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 779 0076 15D9     		bls	.L60
 780              	.L54:
 215:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z60;
 216:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 781              		.loc 1 216 12 is_stmt 1 view .LVU164
 782              		.loc 1 216 15 is_stmt 0 view .LVU165
 783 0078 DFED127A 		vldr.32	s15, .L70+20
 784 007c B4EEE70A 		vcmpe.f32	s0, s15
 785 0080 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 786 0084 10DB     		blt	.L68
 787              		.loc 1 216 27 discriminator 1 view .LVU166
 788 0086 DFED107A 		vldr.32	s15, .L70+24
 789 008a B4EEE70A 		vcmpe.f32	s0, s15
 790 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 791 0092 0BD9     		bls	.L62
 207:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 792              		.loc 1 207 9 view .LVU167
 793 0094 6420     		movs	r0, #100
 794 0096 00E0     		b	.L46
 795              	.L57:
 209:App/Src/manager.c ****     } else if (-15 <= temp && temp <= -5) {
 796              		.loc 1 209 13 view .LVU168
 797 0098 0020     		movs	r0, #0
 798              	.LVL72:
 799              	.L46:
 217:App/Src/manager.c ****         num = TEST_RTC_TEMP_Z85;
 218:App/Src/manager.c ****     }
 219:App/Src/manager.c ****     return num;
 220:App/Src/manager.c **** }
 800              		.loc 1 220 1 view .LVU169
 801 009a 08BD     		pop	{r3, pc}
 802              	.LVL73:
 803              	.L58:
 211:App/Src/manager.c ****     } else  if (20 <= temp && temp <= 40) {
 804              		.loc 1 211 13 view .LVU170
 805 009c 0120     		movs	r0, #1
 806 009e FCE7     		b	.L46
 807              	.L59:
 213:App/Src/manager.c ****     } else if (55 <= temp && temp <= 65) {
 808              		.loc 1 213 13 view .LVU171
 809 00a0 0220     		movs	r0, #2
 810 00a2 FAE7     		b	.L46
 811              	.L60:
 215:App/Src/manager.c ****     } else if (80 <= temp && temp <= 90) {
 812              		.loc 1 215 13 view .LVU172
 813 00a4 0320     		movs	r0, #3
 814 00a6 F8E7     		b	.L46
 815              	.L68:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 21


 207:App/Src/manager.c ****     if (-45 <= temp && temp <= -35) {
 816              		.loc 1 207 9 view .LVU173
 817 00a8 6420     		movs	r0, #100
 818 00aa F6E7     		b	.L46
 819              	.L62:
 217:App/Src/manager.c ****     }
 820              		.loc 1 217 13 view .LVU174
 821 00ac 0420     		movs	r0, #4
 822              	.LVL74:
 219:App/Src/manager.c **** }
 823              		.loc 1 219 5 is_stmt 1 view .LVU175
 219:App/Src/manager.c **** }
 824              		.loc 1 219 12 is_stmt 0 view .LVU176
 825 00ae F4E7     		b	.L46
 826              	.L71:
 827              		.align	2
 828              	.L70:
 829 00b0 000034C2 		.word	-1036779520
 830 00b4 00000CC2 		.word	-1039400960
 831 00b8 00002042 		.word	1109393408
 832 00bc 00005C42 		.word	1113325568
 833 00c0 00008242 		.word	1115815936
 834 00c4 0000A042 		.word	1117782016
 835 00c8 0000B442 		.word	1119092736
 836              		.cfi_endproc
 837              	.LFE241:
 839              		.section	.text.systm_cap_save_buffer,"ax",%progbits
 840              		.align	1
 841              		.global	systm_cap_save_buffer
 842              		.syntax unified
 843              		.thumb
 844              		.thumb_func
 846              	systm_cap_save_buffer:
 847              	.LVL75:
 848              	.LFB242:
 221:App/Src/manager.c **** 
 222:App/Src/manager.c **** 
 223:App/Src/manager.c **** void systm_cap_save_buffer(uint8_t rtcNumber, float testTemp, float testCap)
 224:App/Src/manager.c **** {
 849              		.loc 1 224 1 is_stmt 1 view -0
 850              		.cfi_startproc
 851              		@ args = 0, pretend = 0, frame = 0
 852              		@ frame_needed = 0, uses_anonymous_args = 0
 853              		@ link register save eliminated.
 225:App/Src/manager.c ****     int i;
 854              		.loc 1 225 5 view .LVU178
 226:App/Src/manager.c **** 
 227:App/Src/manager.c ****     if (rtcNumber == 0) {
 855              		.loc 1 227 5 view .LVU179
 856              		.loc 1 227 8 is_stmt 0 view .LVU180
 857 0000 0346     		mov	r3, r0
 858 0002 C8B1     		cbz	r0, .L77
 228:App/Src/manager.c ****         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 229:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 230:App/Src/manager.c ****         }
 231:App/Src/manager.c ****     } else {
 232:App/Src/manager.c ****         g_oneData.flag[rtcNumber - 1] = CAP_ADJUST_SUCCESS;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 22


 859              		.loc 1 232 9 is_stmt 1 view .LVU181
 860              		.loc 1 232 34 is_stmt 0 view .LVU182
 861 0004 411E     		subs	r1, r0, #1
 862              		.loc 1 232 39 view .LVU183
 863 0006 0D4A     		ldr	r2, .L79
 864 0008 5018     		adds	r0, r2, r1
 865              	.LVL76:
 866              		.loc 1 232 39 view .LVU184
 867 000a 4FF0020C 		mov	ip, #2
 868 000e 80F8A4C2 		strb	ip, [r0, #676]
 233:App/Src/manager.c ****         g_oneData.temp[rtcNumber - 1] = testTemp;
 869              		.loc 1 233 9 is_stmt 1 view .LVU185
 870              		.loc 1 233 39 is_stmt 0 view .LVU186
 871 0012 02EB8101 		add	r1, r2, r1, lsl #2
 872 0016 81ED010A 		vstr.32	s0, [r1, #4]
 234:App/Src/manager.c ****         g_oneData.cap[rtcNumber - 1] = testCap;
 873              		.loc 1 234 9 is_stmt 1 view .LVU187
 874              		.loc 1 234 38 is_stmt 0 view .LVU188
 875 001a 5333     		adds	r3, r3, #83
 876 001c 02EB8303 		add	r3, r2, r3, lsl #2
 877 0020 C3ED010A 		vstr.32	s1, [r3, #4]
 235:App/Src/manager.c ****     }
 236:App/Src/manager.c **** }
 878              		.loc 1 236 1 view .LVU189
 879 0024 7047     		bx	lr
 880              	.LVL77:
 881              	.L75:
 229:App/Src/manager.c ****         }
 882              		.loc 1 229 12 is_stmt 1 discriminator 3 view .LVU190
 229:App/Src/manager.c ****         }
 883              		.loc 1 229 30 is_stmt 0 discriminator 3 view .LVU191
 884 0026 054A     		ldr	r2, .L79
 885 0028 1A44     		add	r2, r2, r3
 886 002a 0021     		movs	r1, #0
 887 002c 82F8A412 		strb	r1, [r2, #676]
 228:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 888              		.loc 1 228 42 is_stmt 1 discriminator 3 view .LVU192
 228:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 889              		.loc 1 228 43 is_stmt 0 discriminator 3 view .LVU193
 890 0030 0133     		adds	r3, r3, #1
 891              	.LVL78:
 892              	.L73:
 228:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 893              		.loc 1 228 21 is_stmt 1 discriminator 1 view .LVU194
 228:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 894              		.loc 1 228 9 is_stmt 0 discriminator 1 view .LVU195
 895 0032 532B     		cmp	r3, #83
 896 0034 F7DD     		ble	.L75
 897 0036 7047     		bx	lr
 898              	.LVL79:
 899              	.L77:
 228:App/Src/manager.c ****            g_oneData.flag[i] = CAP_ADJUST_DEFAULT;
 900              		.loc 1 228 16 view .LVU196
 901 0038 0023     		movs	r3, #0
 902 003a FAE7     		b	.L73
 903              	.L80:
 904              		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 23


 905              	.L79:
 906 003c 00000000 		.word	.LANCHOR3
 907              		.cfi_endproc
 908              	.LFE242:
 910              		.section	.text.system_check_test_dot,"ax",%progbits
 911              		.align	1
 912              		.global	system_check_test_dot
 913              		.syntax unified
 914              		.thumb
 915              		.thumb_func
 917              	system_check_test_dot:
 918              	.LVL80:
 919              	.LFB243:
 237:App/Src/manager.c **** 
 238:App/Src/manager.c **** uint8_t system_check_test_dot(uint8_t rtcNumber, uint8_t testNumber)
 239:App/Src/manager.c **** {
 920              		.loc 1 239 1 is_stmt 1 view -0
 921              		.cfi_startproc
 922              		@ args = 0, pretend = 0, frame = 8
 923              		@ frame_needed = 0, uses_anonymous_args = 0
 924              		.loc 1 239 1 is_stmt 0 view .LVU198
 925 0000 00B5     		push	{lr}
 926              	.LCFI8:
 927              		.cfi_def_cfa_offset 4
 928              		.cfi_offset 14, -4
 929 0002 83B0     		sub	sp, sp, #12
 930              	.LCFI9:
 931              		.cfi_def_cfa_offset 16
 932 0004 0B46     		mov	r3, r1
 240:App/Src/manager.c ****     uint32_t address;
 933              		.loc 1 240 5 is_stmt 1 view .LVU199
 241:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 934              		.loc 1 241 5 view .LVU200
 935              		.loc 1 241 13 is_stmt 0 view .LVU201
 936 0006 0022     		movs	r2, #0
 937 0008 0192     		str	r2, [sp, #4]
 242:App/Src/manager.c ****     
 243:App/Src/manager.c ****     address = TEST_RESULT_START_ADDR + (rtcNumber - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + tes
 938              		.loc 1 243 5 is_stmt 1 view .LVU202
 939              		.loc 1 243 38 is_stmt 0 view .LVU203
 940 000a 0730     		adds	r0, r0, #7
 941              	.LVL81:
 942              		.loc 1 243 38 view .LVU204
 943 000c 4002     		lsls	r0, r0, #9
 944              		.loc 1 243 79 view .LVU205
 945 000e 0830     		adds	r0, r0, #8
 946              	.LVL82:
 244:App/Src/manager.c ****     flash_read_data(address, buffer, 4);
 947              		.loc 1 244 5 is_stmt 1 view .LVU206
 948 0010 0422     		movs	r2, #4
 949 0012 0DEB0201 		add	r1, sp, r2
 950              	.LVL83:
 951              		.loc 1 244 5 is_stmt 0 view .LVU207
 952 0016 00EB8300 		add	r0, r0, r3, lsl #2
 953              	.LVL84:
 954              		.loc 1 244 5 view .LVU208
 955 001a FFF7FEFF 		bl	flash_read_data
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 24


 956              	.LVL85:
 245:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 957              		.loc 1 245 5 is_stmt 1 view .LVU209
 958              		.loc 1 245 15 is_stmt 0 view .LVU210
 959 001e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 960              		.loc 1 245 8 view .LVU211
 961 0022 FF2B     		cmp	r3, #255
 962 0024 0DD1     		bne	.L83
 963              		.loc 1 245 36 discriminator 2 view .LVU212
 964 0026 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 965              		.loc 1 245 27 discriminator 2 view .LVU213
 966 002a FF2B     		cmp	r3, #255
 967 002c 0DD1     		bne	.L84
 968              		.loc 1 245 57 discriminator 4 view .LVU214
 969 002e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 970              		.loc 1 245 48 discriminator 4 view .LVU215
 971 0032 FF2B     		cmp	r3, #255
 972 0034 0BD1     		bne	.L85
 973              		.loc 1 245 78 discriminator 6 view .LVU216
 974 0036 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 975              		.loc 1 245 69 discriminator 6 view .LVU217
 976 003a FF2B     		cmp	r3, #255
 977 003c 09D1     		bne	.L86
 246:App/Src/manager.c ****     return 0;
 978              		.loc 1 246 12 view .LVU218
 979 003e 0020     		movs	r0, #0
 980 0040 00E0     		b	.L82
 981              	.L83:
 245:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 982              		.loc 1 245 100 view .LVU219
 983 0042 0120     		movs	r0, #1
 984              	.L82:
 247:App/Src/manager.c **** }
 985              		.loc 1 247 1 view .LVU220
 986 0044 03B0     		add	sp, sp, #12
 987              	.LCFI10:
 988              		.cfi_remember_state
 989              		.cfi_def_cfa_offset 4
 990              		@ sp needed
 991 0046 5DF804FB 		ldr	pc, [sp], #4
 992              	.L84:
 993              	.LCFI11:
 994              		.cfi_restore_state
 245:App/Src/manager.c ****     if (buffer[0] != 0xff || buffer[1] != 0xff || buffer[2] != 0xff || buffer[3] != 0xff) { return 
 995              		.loc 1 245 100 view .LVU221
 996 004a 0120     		movs	r0, #1
 997 004c FAE7     		b	.L82
 998              	.L85:
 999 004e 0120     		movs	r0, #1
 1000 0050 F8E7     		b	.L82
 1001              	.L86:
 1002 0052 0120     		movs	r0, #1
 1003 0054 F6E7     		b	.L82
 1004              		.cfi_endproc
 1005              	.LFE243:
 1007              		.section	.text.system_cap_write_flash,"ax",%progbits
 1008              		.align	1
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 25


 1009              		.global	system_cap_write_flash
 1010              		.syntax unified
 1011              		.thumb
 1012              		.thumb_func
 1014              	system_cap_write_flash:
 1015              	.LFB244:
 248:App/Src/manager.c **** 
 249:App/Src/manager.c **** void system_cap_write_flash(void)
 250:App/Src/manager.c **** {
 1016              		.loc 1 250 1 is_stmt 1 view -0
 1017              		.cfi_startproc
 1018              		@ args = 0, pretend = 0, frame = 8
 1019              		@ frame_needed = 0, uses_anonymous_args = 0
 1020 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1021              	.LCFI12:
 1022              		.cfi_def_cfa_offset 20
 1023              		.cfi_offset 4, -20
 1024              		.cfi_offset 5, -16
 1025              		.cfi_offset 6, -12
 1026              		.cfi_offset 7, -8
 1027              		.cfi_offset 14, -4
 1028 0002 83B0     		sub	sp, sp, #12
 1029              	.LCFI13:
 1030              		.cfi_def_cfa_offset 32
 251:App/Src/manager.c ****     uint32_t address;
 1031              		.loc 1 251 5 view .LVU223
 252:App/Src/manager.c ****     uint8_t buffer[4] = {0};
 1032              		.loc 1 252 5 view .LVU224
 1033              		.loc 1 252 13 is_stmt 0 view .LVU225
 1034 0004 0024     		movs	r4, #0
 1035 0006 0194     		str	r4, [sp, #4]
 253:App/Src/manager.c ****     int i;
 1036              		.loc 1 253 5 is_stmt 1 view .LVU226
 254:App/Src/manager.c **** 
 255:App/Src/manager.c ****     for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1037              		.loc 1 255 5 view .LVU227
 1038              	.LVL86:
 1039              		.loc 1 255 5 is_stmt 0 view .LVU228
 1040 0008 00E0     		b	.L89
 1041              	.LVL87:
 1042              	.L90:
 1043              		.loc 1 255 38 is_stmt 1 discriminator 2 view .LVU229
 1044              		.loc 1 255 39 is_stmt 0 discriminator 2 view .LVU230
 1045 000a 0134     		adds	r4, r4, #1
 1046              	.LVL88:
 1047              	.L89:
 1048              		.loc 1 255 17 is_stmt 1 discriminator 1 view .LVU231
 1049              		.loc 1 255 5 is_stmt 0 discriminator 1 view .LVU232
 1050 000c 532C     		cmp	r4, #83
 1051 000e 3BDC     		bgt	.L93
 256:App/Src/manager.c ****         if (g_oneData.flag[i] != CAP_ADJUST_SUCCESS) { continue; }//测试不成功，不会写入flash
 1052              		.loc 1 256 9 is_stmt 1 view .LVU233
 1053              		.loc 1 256 27 is_stmt 0 view .LVU234
 1054 0010 1E4B     		ldr	r3, .L94
 1055 0012 2344     		add	r3, r3, r4
 1056 0014 93F8A432 		ldrb	r3, [r3, #676]	@ zero_extendqisi2
 1057              		.loc 1 256 12 view .LVU235
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 26


 1058 0018 022B     		cmp	r3, #2
 1059 001a F6D1     		bne	.L90
 257:App/Src/manager.c ****         if (system_check_test_dot(i + 1, g_oneData.number) > 0) { continue; }//防止重复测试不会更新
 1060              		.loc 1 257 9 is_stmt 1 view .LVU236
 1061              		.loc 1 257 13 is_stmt 0 view .LVU237
 1062 001c 601C     		adds	r0, r4, #1
 1063 001e 1B4B     		ldr	r3, .L94
 1064 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1065 0022 C0B2     		uxtb	r0, r0
 1066 0024 FFF7FEFF 		bl	system_check_test_dot
 1067              	.LVL89:
 1068              		.loc 1 257 12 view .LVU238
 1069 0028 0028     		cmp	r0, #0
 1070 002a EED1     		bne	.L90
 258:App/Src/manager.c ****         // HAL_Delay(1);
 259:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_TEMP + g_oneData.num
 1071              		.loc 1 259 9 is_stmt 1 view .LVU239
 1072              		.loc 1 259 42 is_stmt 0 view .LVU240
 1073 002c 04F10805 		add	r5, r4, #8
 1074 0030 6D02     		lsls	r5, r5, #9
 1075              		.loc 1 259 69 view .LVU241
 1076 0032 05F10807 		add	r7, r5, #8
 1077              		.loc 1 259 96 view .LVU242
 1078 0036 154E     		ldr	r6, .L94
 1079 0038 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1080              		.loc 1 259 85 view .LVU243
 1081 003a 07EB8307 		add	r7, r7, r3, lsl #2
 1082              	.LVL90:
 260:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.temp[i]);
 1083              		.loc 1 260 9 is_stmt 1 view .LVU244
 1084 003e 06EB8401 		add	r1, r6, r4, lsl #2
 1085 0042 0431     		adds	r1, r1, #4
 1086 0044 01A8     		add	r0, sp, #4
 1087 0046 FFF7FEFF 		bl	float_to_uint8
 1088              	.LVL91:
 261:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1089              		.loc 1 261 9 view .LVU245
 1090 004a 0422     		movs	r2, #4
 1091 004c 0DEB0201 		add	r1, sp, r2
 1092 0050 3846     		mov	r0, r7
 1093 0052 FFF7FEFF 		bl	flash_write_data
 1094              	.LVL92:
 262:App/Src/manager.c ****         HAL_Delay(5);
 1095              		.loc 1 262 9 view .LVU246
 1096 0056 0520     		movs	r0, #5
 1097 0058 FFF7FEFF 		bl	HAL_Delay
 1098              	.LVL93:
 263:App/Src/manager.c ****         address = TEST_RESULT_START_ADDR + i * TEST_RESULT_ONE_SIZE + TEST_DOT_CAP + g_oneData.numb
 1099              		.loc 1 263 9 view .LVU247
 1100              		.loc 1 263 69 is_stmt 0 view .LVU248
 1101 005c 1C35     		adds	r5, r5, #28
 1102              		.loc 1 263 95 view .LVU249
 1103 005e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1104              		.loc 1 263 84 view .LVU250
 1105 0060 05EB8305 		add	r5, r5, r3, lsl #2
 1106              	.LVL94:
 264:App/Src/manager.c ****         float_to_uint8(buffer, &g_oneData.cap[i]);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 27


 1107              		.loc 1 264 9 is_stmt 1 view .LVU251
 1108 0064 04F15401 		add	r1, r4, #84
 1109 0068 06EB8101 		add	r1, r6, r1, lsl #2
 1110 006c 0431     		adds	r1, r1, #4
 1111 006e 01A8     		add	r0, sp, #4
 1112 0070 FFF7FEFF 		bl	float_to_uint8
 1113              	.LVL95:
 265:App/Src/manager.c ****         flash_write_data(address, buffer, 4);
 1114              		.loc 1 265 9 view .LVU252
 1115 0074 0422     		movs	r2, #4
 1116 0076 0DEB0201 		add	r1, sp, r2
 1117 007a 2846     		mov	r0, r5
 1118 007c FFF7FEFF 		bl	flash_write_data
 1119              	.LVL96:
 266:App/Src/manager.c ****         HAL_Delay(5);
 1120              		.loc 1 266 9 view .LVU253
 1121 0080 0520     		movs	r0, #5
 1122 0082 FFF7FEFF 		bl	HAL_Delay
 1123              	.LVL97:
 1124 0086 C0E7     		b	.L90
 1125              	.LVL98:
 1126              	.L93:
 267:App/Src/manager.c ****     }
 268:App/Src/manager.c **** }
 1127              		.loc 1 268 1 is_stmt 0 view .LVU254
 1128 0088 03B0     		add	sp, sp, #12
 1129              	.LCFI14:
 1130              		.cfi_def_cfa_offset 20
 1131              		@ sp needed
 1132 008a F0BD     		pop	{r4, r5, r6, r7, pc}
 1133              	.LVL99:
 1134              	.L95:
 1135              		.loc 1 268 1 view .LVU255
 1136              		.align	2
 1137              	.L94:
 1138 008c 00000000 		.word	.LANCHOR3
 1139              		.cfi_endproc
 1140              	.LFE244:
 1142              		.section	.rodata.system_tool_calculate_sec.str1.4,"aMS",%progbits,1
 1143              		.align	2
 1144              	.LC12:
 1145 0000 1F1C1F1E 		.ascii	"\037\034\037\036\037\036\037\037\036\037\036\037\000"
 1145      1F1E1F1F 
 1145      1E1F1E1F 
 1145      00
 1146              		.section	.text.system_tool_calculate_sec,"ax",%progbits
 1147              		.align	1
 1148              		.global	system_tool_calculate_sec
 1149              		.syntax unified
 1150              		.thumb
 1151              		.thumb_func
 1153              	system_tool_calculate_sec:
 1154              	.LFB245:
 269:App/Src/manager.c **** //计算基于2000年以后的时间秒
 270:App/Src/manager.c **** int system_tool_calculate_sec(RealTime time)
 271:App/Src/manager.c **** {
 1155              		.loc 1 271 1 is_stmt 1 view -0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 28


 1156              		.cfi_startproc
 1157              		@ args = 0, pretend = 0, frame = 24
 1158              		@ frame_needed = 0, uses_anonymous_args = 0
 1159              		@ link register save eliminated.
 1160 0000 86B0     		sub	sp, sp, #24
 1161              	.LCFI15:
 1162              		.cfi_def_cfa_offset 24
 1163 0002 6B46     		mov	r3, sp
 1164 0004 83E80300 		stm	r3, {r0, r1}
 272:App/Src/manager.c ****     int number;
 1165              		.loc 1 272 5 view .LVU257
 273:App/Src/manager.c ****     uint8_t dayInMon[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 1166              		.loc 1 273 5 view .LVU258
 1167              		.loc 1 273 13 is_stmt 0 view .LVU259
 1168 0008 244B     		ldr	r3, .L106
 1169 000a 93E80700 		ldm	r3, {r0, r1, r2}
 1170 000e 06AB     		add	r3, sp, #24
 1171 0010 03E90700 		stmdb	r3, {r0, r1, r2}
 274:App/Src/manager.c ****     uint8_t i;
 1172              		.loc 1 274 5 is_stmt 1 view .LVU260
 275:App/Src/manager.c ****     int day = 0; 
 1173              		.loc 1 275 5 view .LVU261
 1174              	.LVL100:
 276:App/Src/manager.c ****     if (time.year >= 100 || time.year == 0) {
 1175              		.loc 1 276 5 view .LVU262
 1176              		.loc 1 276 13 is_stmt 0 view .LVU263
 1177 0014 9DF800C0 		ldrb	ip, [sp]	@ zero_extendqisi2
 1178              		.loc 1 276 26 view .LVU264
 1179 0018 0CF1FF33 		add	r3, ip, #-1
 1180 001c DBB2     		uxtb	r3, r3
 1181              		.loc 1 276 8 view .LVU265
 1182 001e 622B     		cmp	r3, #98
 1183 0020 1BD8     		bhi	.L103
 277:App/Src/manager.c ****         day = 0;
 278:App/Src/manager.c ****     } else {
 279:App/Src/manager.c ****         day = 365 * time.year + ((time.year - 1) / 4);//补足闰年的天数
 1184              		.loc 1 279 9 is_stmt 1 view .LVU266
 1185              		.loc 1 279 19 is_stmt 0 view .LVU267
 1186 0022 40F26D10 		movw	r0, #365
 1187 0026 00FB0CF0 		mul	r0, r0, ip
 1188              		.loc 1 279 50 view .LVU268
 1189 002a BCF10103 		subs	r3, ip, #1
 1190 002e 12D4     		bmi	.L105
 1191              	.L98:
 1192              		.loc 1 279 13 view .LVU269
 1193 0030 00EBA300 		add	r0, r0, r3, asr #2
 1194              	.LVL101:
 1195              	.L97:
 277:App/Src/manager.c ****         day = 0;
 1196              		.loc 1 277 13 discriminator 1 view .LVU270
 1197 0034 0023     		movs	r3, #0
 1198              	.L99:
 1199              	.LVL102:
 280:App/Src/manager.c ****     }
 281:App/Src/manager.c ****     for (i = 0; i < 12; i++) {
 1200              		.loc 1 281 17 is_stmt 1 discriminator 1 view .LVU271
 1201              		.loc 1 281 5 is_stmt 0 discriminator 1 view .LVU272
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 29


 1202 0036 0B2B     		cmp	r3, #11
 1203 0038 11D8     		bhi	.L100
 282:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1204              		.loc 1 282 9 is_stmt 1 view .LVU273
 1205              		.loc 1 282 16 is_stmt 0 view .LVU274
 1206 003a 5A1C     		adds	r2, r3, #1
 1207              		.loc 1 282 28 view .LVU275
 1208 003c 9DF80110 		ldrb	r1, [sp, #1]	@ zero_extendqisi2
 1209              		.loc 1 282 12 view .LVU276
 1210 0040 8A42     		cmp	r2, r1
 1211 0042 0CD0     		beq	.L100
 283:App/Src/manager.c ****         day += dayInMon[i];
 1212              		.loc 1 283 9 is_stmt 1 discriminator 2 view .LVU277
 1213              		.loc 1 283 24 is_stmt 0 discriminator 2 view .LVU278
 1214 0044 03F11802 		add	r2, r3, #24
 1215 0048 6A44     		add	r2, sp, r2
 1216 004a 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
 1217              		.loc 1 283 13 discriminator 2 view .LVU279
 1218 004e 1044     		add	r0, r0, r2
 1219              	.LVL103:
 281:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1220              		.loc 1 281 25 is_stmt 1 discriminator 2 view .LVU280
 281:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1221              		.loc 1 281 26 is_stmt 0 discriminator 2 view .LVU281
 1222 0050 0133     		adds	r3, r3, #1
 1223              	.LVL104:
 281:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1224              		.loc 1 281 26 discriminator 2 view .LVU282
 1225 0052 DBB2     		uxtb	r3, r3
 1226              	.LVL105:
 281:App/Src/manager.c ****         if ((i + 1) == time.mon) { break; }
 1227              		.loc 1 281 26 discriminator 2 view .LVU283
 1228 0054 EFE7     		b	.L99
 1229              	.LVL106:
 1230              	.L105:
 279:App/Src/manager.c ****     }
 1231              		.loc 1 279 50 view .LVU284
 1232 0056 0333     		adds	r3, r3, #3
 1233 0058 EAE7     		b	.L98
 1234              	.L103:
 277:App/Src/manager.c ****     } else {
 1235              		.loc 1 277 13 view .LVU285
 1236 005a 0020     		movs	r0, #0
 1237 005c EAE7     		b	.L97
 1238              	.LVL107:
 1239              	.L100:
 284:App/Src/manager.c ****     }
 285:App/Src/manager.c ****     day += time.day; 
 1240              		.loc 1 285 5 is_stmt 1 view .LVU286
 1241              		.loc 1 285 16 is_stmt 0 view .LVU287
 1242 005e 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 1243              	.LVL108:
 1244              		.loc 1 285 9 view .LVU288
 1245 0062 1844     		add	r0, r0, r3
 1246              	.LVL109:
 286:App/Src/manager.c ****     if ((time.year % 4) == 0 && time.mon >= 3) {
 1247              		.loc 1 286 5 is_stmt 1 view .LVU289
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 30


 1248              		.loc 1 286 8 is_stmt 0 view .LVU290
 1249 0064 1CF0030F 		tst	ip, #3
 1250 0068 04D1     		bne	.L102
 1251              		.loc 1 286 37 discriminator 1 view .LVU291
 1252 006a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1253              		.loc 1 286 30 discriminator 1 view .LVU292
 1254 006e 022B     		cmp	r3, #2
 1255 0070 00D9     		bls	.L102
 287:App/Src/manager.c ****         day += 1;       //闰月＋1
 1256              		.loc 1 287 9 is_stmt 1 view .LVU293
 1257              		.loc 1 287 13 is_stmt 0 view .LVU294
 1258 0072 0130     		adds	r0, r0, #1
 1259              	.LVL110:
 1260              	.L102:
 288:App/Src/manager.c ****     }
 289:App/Src/manager.c ****     number = time.sec + (uint32_t)time.min * 60 + (uint32_t)time.hour * 3600 + day * 24 * 3600;
 1261              		.loc 1 289 5 is_stmt 1 view .LVU295
 1262              		.loc 1 289 18 is_stmt 0 view .LVU296
 1263 0074 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 1264              		.loc 1 289 65 view .LVU297
 1265 0078 9DF803C0 		ldrb	ip, [sp, #3]	@ zero_extendqisi2
 1266              		.loc 1 289 39 view .LVU298
 1267 007c 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 1268              		.loc 1 289 44 view .LVU299
 1269 0080 C2EB0212 		rsb	r2, r2, r2, lsl #4
 1270 0084 9300     		lsls	r3, r2, #2
 1271              		.loc 1 289 49 view .LVU300
 1272 0086 4FF46162 		mov	r2, #3600
 1273 008a 02FB0C33 		mla	r3, r2, ip, r3
 1274 008e 0B44     		add	r3, r3, r1
 1275              	.LVL111:
 290:App/Src/manager.c ****     return number;
 1276              		.loc 1 290 5 is_stmt 1 view .LVU301
 291:App/Src/manager.c **** }
 1277              		.loc 1 291 1 is_stmt 0 view .LVU302
 1278 0090 034A     		ldr	r2, .L106+4
 1279 0092 02FB0030 		mla	r0, r2, r0, r3
 1280              	.LVL112:
 1281              		.loc 1 291 1 view .LVU303
 1282 0096 06B0     		add	sp, sp, #24
 1283              	.LCFI16:
 1284              		.cfi_def_cfa_offset 0
 1285              		@ sp needed
 1286 0098 7047     		bx	lr
 1287              	.L107:
 1288 009a 00BF     		.align	2
 1289              	.L106:
 1290 009c 00000000 		.word	.LC12
 1291 00a0 80510100 		.word	86400
 1292              		.cfi_endproc
 1293              	.LFE245:
 1295              		.section	.rodata.system_manage_test_mode.str1.4,"aMS",%progbits,1
 1296              		.align	2
 1297              	.LC13:
 1298 0000 67726F75 		.ascii	"group i2c test:\000"
 1298      70206932 
 1298      63207465 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 31


 1298      73743A00 
 1299              		.align	2
 1300              	.LC14:
 1301 0010 0A00     		.ascii	"\012\000"
 1302 0012 0000     		.align	2
 1303              	.LC15:
 1304 0014 310900   		.ascii	"1\011\000"
 1305 0017 00       		.align	2
 1306              	.LC16:
 1307 0018 300900   		.ascii	"0\011\000"
 1308 001b 00       		.align	2
 1309              	.LC17:
 1310 001c 0A6F6B20 		.ascii	"\012ok sum:%d\012\000"
 1310      73756D3A 
 1310      25640A00 
 1311              		.align	2
 1312              	.LC18:
 1313 0028 73756363 		.ascii	"success count:%d\012\000"
 1313      65737320 
 1313      636F756E 
 1313      743A2564 
 1313      0A00
 1314 003a 0000     		.align	2
 1315              	.LC19:
 1316 003c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\262\342\312\324\315"
 1316      6D626572 
 1316      3A256420 
 1316      63686970 
 1316      4E616D65 
 1317 0061 EAB3C90A 		.ascii	"\352\263\311\012\000"
 1317      00
 1318 0066 0000     		.align	2
 1319              	.LC20:
 1320 0068 73797374 		.ascii	"system temp:%.2f, test dot:%d\012\000"
 1320      656D2074 
 1320      656D703A 
 1320      252E3266 
 1320      2C207465 
 1321 0087 00       		.align	2
 1322              	.LC21:
 1323 0088 73797374 		.ascii	"system temp can't test!\012\000"
 1323      656D2074 
 1323      656D7020 
 1323      63616E27 
 1323      74207465 
 1324 00a1 000000   		.align	2
 1325              	.LC22:
 1326 00a4 73797374 		.ascii	"system temp %.2f can't test!\012\000"
 1326      656D2074 
 1326      656D7020 
 1326      252E3266 
 1326      2063616E 
 1327 00c2 0000     		.align	2
 1328              	.LC23:
 1329 00c4 6F6B4E75 		.ascii	"okNumber:%d message:\265\245\265\343\262\342\312\324"
 1329      6D626572 
 1329      3A256420 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 32


 1329      6D657373 
 1329      6167653A 
 1330 00e0 CDEAB3C9 		.ascii	"\315\352\263\311\012\000"
 1330      0A00
 1331 00e6 0000     		.align	2
 1332              	.LC24:
 1333 00e8 63617020 		.ascii	"cap adjust test end.\012\000"
 1333      61646A75 
 1333      73742074 
 1333      65737420 
 1333      656E642E 
 1334 00fe 0000     		.align	2
 1335              	.LC25:
 1336 0100 63686970 		.ascii	"chipTemp:%d chipName:%d message:OK\012\000"
 1336      54656D70 
 1336      3A256420 
 1336      63686970 
 1336      4E616D65 
 1337              		.align	2
 1338              	.LC26:
 1339 0124 636F756E 		.ascii	"count:%d, temp:%.1f, cap:%.2f\012\000"
 1339      743A2564 
 1339      2C207465 
 1339      6D703A25 
 1339      2E31662C 
 1340 0143 00       		.align	2
 1341              	.LC27:
 1342 0144 63686970 		.ascii	"chipName:%d message:fail!\012\000"
 1342      4E616D65 
 1342      3A256420 
 1342      6D657373 
 1342      6167653A 
 1343 015f 00       		.align	2
 1344              	.LC28:
 1345 0160 73797374 		.ascii	"system temp test cover!\012\000"
 1345      656D2074 
 1345      656D7020 
 1345      74657374 
 1345      20636F76 
 1346 0179 000000   		.align	2
 1347              	.LC29:
 1348 017c 63616C63 		.ascii	"calculate success number %d\012\000"
 1348      756C6174 
 1348      65207375 
 1348      63636573 
 1348      73206E75 
 1349 0199 000000   		.align	2
 1350              	.LC30:
 1351 019c 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\274\306\313\343\315"
 1351      6D626572 
 1351      3A256420 
 1351      63686970 
 1351      4E616D65 
 1352 01c1 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1352      A10A00
 1353              		.align	2
 1354              	.LC31:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 33


 1355 01c8 646F776E 		.ascii	"download success number %d\012\000"
 1355      6C6F6164 
 1355      20737563 
 1355      63657373 
 1355      206E756D 
 1356              		.align	2
 1357              	.LC32:
 1358 01e4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\311\325\302\274\315"
 1358      6D626572 
 1358      3A256420 
 1358      63686970 
 1358      4E616D65 
 1359 0209 EAB3C9A3 		.ascii	"\352\263\311\243\241\012\000"
 1359      A10A00
 1360              		.align	2
 1361              	.LC33:
 1362 0210 25642073 		.ascii	"%d sync success\012\000"
 1362      796E6320 
 1362      73756363 
 1362      6573730A 
 1362      00
 1363 0221 000000   		.align	2
 1364              	.LC34:
 1365 0224 25642073 		.ascii	"%d sync i2c error\012\000"
 1365      796E6320 
 1365      69326320 
 1365      6572726F 
 1365      720A00
 1366 0237 00       		.align	2
 1367              	.LC35:
 1368 0238 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\315\254\262\275\312"
 1368      6D626572 
 1368      3A256420 
 1368      63686970 
 1368      4E616D65 
 1369 025d B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1369      EAB3C90A 
 1369      00
 1370 0266 0000     		.align	2
 1371              	.LC36:
 1372 0268 73796E63 		.ascii	"sync end\012\000"
 1372      20656E64 
 1372      0A00
 1373 0272 0000     		.align	2
 1374              	.LC37:
 1375 0274 63686970 		.ascii	"chip%d time:%d, all number:%d\012\000"
 1375      25642074 
 1375      696D653A 
 1375      25642C20 
 1375      616C6C20 
 1376 0293 00       		.align	2
 1377              	.LC38:
 1378 0294 25642069 		.ascii	"%d i2c error\012\000"
 1378      32632065 
 1378      72726F72 
 1378      0A00
 1379 02a2 0000     		.align	2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 34


 1380              	.LC39:
 1381 02a4 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\320\243\321\351\312"
 1381      6D626572 
 1381      3A256420 
 1381      63686970 
 1381      4E616D65 
 1382 02c9 B1BCE4CD 		.ascii	"\261\274\344\315\352\263\311\012\000"
 1382      EAB3C90A 
 1382      00
 1383 02d2 0000     		.align	2
 1384              	.LC40:
 1385 02d4 63686563 		.ascii	"check end\012\000"
 1385      6B20656E 
 1385      640A00
 1386 02df 00       		.align	2
 1387              	.LC41:
 1388 02e0 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:OK\012\000"
 1388      6D626572 
 1388      3A256420 
 1388      63686970 
 1388      4E616D65 
 1389              		.align	2
 1390              	.LC42:
 1391 0304 63686970 		.ascii	"chipName:%d message:fail\012\000"
 1391      4E616D65 
 1391      3A256420 
 1391      6D657373 
 1391      6167653A 
 1392 031e 0000     		.align	2
 1393              	.LC43:
 1394 0320 6D657373 		.ascii	"message:\262\342\312\324\315\352\263\311\012\000"
 1394      6167653A 
 1394      B2E2CAD4 
 1394      CDEAB3C9 
 1394      0A00
 1395              		.section	.text.system_manage_test_mode,"ax",%progbits
 1396              		.align	1
 1397              		.global	system_manage_test_mode
 1398              		.syntax unified
 1399              		.thumb
 1400              		.thumb_func
 1402              	system_manage_test_mode:
 1403              	.LFB246:
 292:App/Src/manager.c **** 
 293:App/Src/manager.c **** void system_manage_test_mode(void)
 294:App/Src/manager.c **** {
 1404              		.loc 1 294 1 is_stmt 1 view -0
 1405              		.cfi_startproc
 1406              		@ args = 0, pretend = 0, frame = 16
 1407              		@ frame_needed = 0, uses_anonymous_args = 0
 1408 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1409              	.LCFI17:
 1410              		.cfi_def_cfa_offset 24
 1411              		.cfi_offset 4, -24
 1412              		.cfi_offset 5, -20
 1413              		.cfi_offset 6, -16
 1414              		.cfi_offset 7, -12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 35


 1415              		.cfi_offset 8, -8
 1416              		.cfi_offset 14, -4
 1417 0004 86B0     		sub	sp, sp, #24
 1418              	.LCFI18:
 1419              		.cfi_def_cfa_offset 48
 295:App/Src/manager.c ****     int result;
 1420              		.loc 1 295 5 view .LVU305
 296:App/Src/manager.c ****     static uint8_t state = 0;
 1421              		.loc 1 296 5 view .LVU306
 297:App/Src/manager.c ****     static uint8_t count = 0;
 1422              		.loc 1 297 5 view .LVU307
 298:App/Src/manager.c ****     int i;
 1423              		.loc 1 298 5 view .LVU308
 299:App/Src/manager.c ****     RealTime sysTime = {0};
 1424              		.loc 1 299 5 view .LVU309
 1425              		.loc 1 299 14 is_stmt 0 view .LVU310
 1426 0006 0023     		movs	r3, #0
 1427 0008 0493     		str	r3, [sp, #16]
 1428 000a 0593     		str	r3, [sp, #20]
 300:App/Src/manager.c ****     RealTime rtcTime = {0};
 1429              		.loc 1 300 5 is_stmt 1 view .LVU311
 1430              		.loc 1 300 14 is_stmt 0 view .LVU312
 1431 000c 0293     		str	r3, [sp, #8]
 1432 000e 0393     		str	r3, [sp, #12]
 301:App/Src/manager.c ****     switch (g_testMode) {
 1433              		.loc 1 301 5 is_stmt 1 view .LVU313
 1434 0010 B34B     		ldr	r3, .L182
 1435 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1436 0014 0B2B     		cmp	r3, #11
 1437 0016 12D8     		bhi	.L108
 1438 0018 DFE813F0 		tbh	[pc, r3, lsl #1]
 1439              	.L111:
 1440 001c 0C00     		.2byte	(.L122-.L111)/2
 1441 001e 1400     		.2byte	(.L121-.L111)/2
 1442 0020 5700     		.2byte	(.L120-.L111)/2
 1443 0022 6900     		.2byte	(.L119-.L111)/2
 1444 0024 3601     		.2byte	(.L118-.L111)/2
 1445 0026 A901     		.2byte	(.L117-.L111)/2
 1446 0028 D401     		.2byte	(.L116-.L111)/2
 1447 002a E901     		.2byte	(.L115-.L111)/2
 1448 002c 2702     		.2byte	(.L114-.L111)/2
 1449 002e 7C02     		.2byte	(.L113-.L111)/2
 1450 0030 D902     		.2byte	(.L169-.L111)/2
 1451 0032 DB02     		.2byte	(.L110-.L111)/2
 1452              		.p2align 1
 1453              	.L122:
 302:App/Src/manager.c ****         case FREE_MODE:// free mode
 303:App/Src/manager.c ****             state = 0;
 1454              		.loc 1 303 13 view .LVU314
 1455              		.loc 1 303 19 is_stmt 0 view .LVU315
 1456 0034 0023     		movs	r3, #0
 1457 0036 AB4A     		ldr	r2, .L182+4
 1458 0038 1370     		strb	r3, [r2]
 304:App/Src/manager.c ****             count = 0;
 1459              		.loc 1 304 13 is_stmt 1 view .LVU316
 1460              		.loc 1 304 19 is_stmt 0 view .LVU317
 1461 003a AB4A     		ldr	r2, .L182+8
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 36


 1462 003c 1370     		strb	r3, [r2]
 305:App/Src/manager.c ****         break;
 1463              		.loc 1 305 9 is_stmt 1 view .LVU318
 1464              	.L108:
 306:App/Src/manager.c ****         case  FREQ_CONNECT:
 307:App/Src/manager.c ****             // if (command_freq_test(count) != 0) {
 308:App/Src/manager.c ****             //     count++;
 309:App/Src/manager.c ****             //     if (count > MAX_CHIP_NUMBER) {
 310:App/Src/manager.c ****             //         ControlPrintf("message:测试完成！\n");
 311:App/Src/manager.c ****             //         g_testMode = FREE_MODE;
 312:App/Src/manager.c ****             //     }
 313:App/Src/manager.c ****             // }
 314:App/Src/manager.c ****             count = 0;
 315:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 316:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 317:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 318:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 319:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 320:App/Src/manager.c ****                 HAL_Delay(10);
 321:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 322:App/Src/manager.c ****                     UsbPrintf("1\t");
 323:App/Src/manager.c ****                     count++;
 324:App/Src/manager.c ****                 } else {
 325:App/Src/manager.c ****                     UsbPrintf("0\t");
 326:App/Src/manager.c ****                 }
 327:App/Src/manager.c ****             }
 328:App/Src/manager.c ****             UsbPrintf("\nok sum:%d\n", count);
 329:App/Src/manager.c ****             g_testMode = FREE_MODE;
 330:App/Src/manager.c ****         break;
 331:App/Src/manager.c ****         case TEMP_TEST:
 332:App/Src/manager.c ****             result = system_manage_temp();
 333:App/Src/manager.c ****             g_testMode = FREE_MODE;
 334:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 335:App/Src/manager.c ****             if (result > 0) {
 336:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 337:App/Src/manager.c ****             }
 338:App/Src/manager.c ****         break;
 339:App/Src/manager.c ****         case CAP_ADJUST://调整电容以使得该温度点的误差最小
 340:App/Src/manager.c ****             switch (state) {
 341:App/Src/manager.c ****                 case 0:
 342:App/Src/manager.c ****                     count = 0;
 343:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 344:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 345:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 346:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 347:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 348:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 349:App/Src/manager.c ****                     } else {
 350:App/Src/manager.c ****                         state = 1;
 351:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 352:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 353:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 354:App/Src/manager.c ****                     }
 355:App/Src/manager.c ****                 break;
 356:App/Src/manager.c ****                 case 1:
 357:App/Src/manager.c ****                     count++;
 358:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 37


 359:App/Src/manager.c ****                     // if (count <= 42) {
 360:App/Src/manager.c ****                         if (system_check_test_dot(count, g_oneData.number) > 0) { break; }
 361:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 362:App/Src/manager.c ****                         g_capAdjust.count = count;
 363:App/Src/manager.c ****                         system_set_int(count);
 364:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 365:App/Src/manager.c ****                         state = 2;
 366:App/Src/manager.c ****                     } else {
 367:App/Src/manager.c ****                         system_cap_write_flash();//write flash
 368:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 369:App/Src/manager.c ****                         result = 0;
 370:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 371:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 372:App/Src/manager.c ****                         }
 373:App/Src/manager.c ****                         ControlPrintf("okNumber:%d message:单点测试完成\n", result, count);
 374:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 375:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 376:App/Src/manager.c ****                     }
 377:App/Src/manager.c ****                 break;
 378:App/Src/manager.c ****                 case 2:
 379:App/Src/manager.c ****                     if (g_capAdjust.flag != CAP_ADJUST_DEFAULT) {//只要状态改变，就进行下一个芯片测
 380:App/Src/manager.c ****                         state = 1;
 381:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 382:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 383:App/Src/manager.c ****                             systm_cap_save_buffer(count, g_capAdjust.temp, g_capAdjust.cap);// save
 384:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 385:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 386:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 387:App/Src/manager.c ****                             // } else {
 388:App/Src/manager.c ****                             //     UsbPrintf("check rtc%d temp fail\n", count);
 389:App/Src/manager.c ****                             //     ControlPrintf("chipName:%d message:fail!\n", count);
 390:App/Src/manager.c ****                             // }
 391:App/Src/manager.c ****                         } else {
 392:App/Src/manager.c ****                             ControlPrintf("chipName:%d message:fail!\n", count);
 393:App/Src/manager.c ****                         }
 394:App/Src/manager.c ****                     }
 395:App/Src/manager.c ****                 break;
 396:App/Src/manager.c ****                 default:break;
 397:App/Src/manager.c ****             }
 398:App/Src/manager.c ****         break;
 399:App/Src/manager.c ****         case CAP_ADJUST_COVER:
 400:App/Src/manager.c ****             g_oneData.number = check_system_temp();
 401:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 402:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 403:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 404:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 405:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 406:App/Src/manager.c ****             } else {
 407:App/Src/manager.c ****                 UsbPrintf("system temp test cover!\n");
 408:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 409:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 410:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 411:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 412:App/Src/manager.c ****                 }
 413:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_COVER);
 414:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 415:App/Src/manager.c ****             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 38


 416:App/Src/manager.c ****         break;
 417:App/Src/manager.c ****         case CALCULATE:
 418:App/Src/manager.c ****             count = 0;
 419:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 420:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 421:App/Src/manager.c ****                     count++;
 422:App/Src/manager.c ****                     g_testFlag[i] = '1';
 423:App/Src/manager.c ****                 } else {
 424:App/Src/manager.c ****                     g_testFlag[i] = 0xff;
 425:App/Src/manager.c ****                 }
 426:App/Src/manager.c ****             }
 427:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_CALCULATE, FLASH_FLAG_WRITE_ADD);
 428:App/Src/manager.c ****             g_testMode = FREE_MODE;
 429:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 430:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 431:App/Src/manager.c ****         break;
 432:App/Src/manager.c ****         case CAP_DOWNLOAD:
 433:App/Src/manager.c ****             result = system_manage_download_cap();
 434:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 435:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 436:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 437:App/Src/manager.c ****             g_testMode = FREE_MODE;
 438:App/Src/manager.c ****         break;
 439:App/Src/manager.c ****         case SYNC_RTC_TIME:
 440:App/Src/manager.c ****             system_get_real_time(&sysTime);
 441:App/Src/manager.c ****             count = 0;
 442:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 443:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 444:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 445:App/Src/manager.c ****                     count++;
 446:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 447:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 448:App/Src/manager.c ****                 } else {
 449:App/Src/manager.c ****                     log_printf("%d sync i2c error\n", i + 1);
 450:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 451:App/Src/manager.c ****                 }
 452:App/Src/manager.c ****             }
 453:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:同步时间完成\n", count, MAX_CHIP_NUMBER);
 454:App/Src/manager.c ****             log_printf("sync end\n");
 455:App/Src/manager.c ****             UsbPrintf("sync end\n");
 456:App/Src/manager.c ****             g_testMode = FREE_MODE;
 457:App/Src/manager.c ****         break;
 458:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 459:App/Src/manager.c ****             system_get_real_time(&sysTime);
 460:App/Src/manager.c ****             count = 0;
 461:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 462:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 463:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 464:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 465:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 466:App/Src/manager.c ****                         count++;
 467:App/Src/manager.c ****                     } 
 468:App/Src/manager.c ****                     log_printf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 469:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 470:App/Src/manager.c ****                 } else {
 471:App/Src/manager.c ****                     log_printf("%d i2c error\n", i + 1);
 472:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 39


 473:App/Src/manager.c ****                 }
 474:App/Src/manager.c ****             }
 475:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:校验时间完成\n", count, MAX_CHIP_NUMBER);
 476:App/Src/manager.c ****             log_printf("check end\n");
 477:App/Src/manager.c ****             UsbPrintf("check end\n");
 478:App/Src/manager.c ****             g_testMode = FREE_MODE;
 479:App/Src/manager.c ****         break;
 480:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 481:App/Src/manager.c ****             if (count == 0) {
 482:App/Src/manager.c ****                 count = 1;
 483:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 484:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 485:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 486:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 487:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 488:App/Src/manager.c ****                     if (result > 0) {
 489:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 490:App/Src/manager.c ****                         result = 0;
 491:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 492:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 493:App/Src/manager.c ****                         }
 494:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 495:App/Src/manager.c ****                     } else {
 496:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;
 497:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 498:App/Src/manager.c ****                     }
 499:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 500:App/Src/manager.c ****                         count++;
 501:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 502:App/Src/manager.c ****                     } else {
 503:App/Src/manager.c ****                         count = 0;
 504:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 505:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 506:App/Src/manager.c ****                         break;
 507:App/Src/manager.c ****                     }
 508:App/Src/manager.c ****                 }
 509:App/Src/manager.c ****             }
 510:App/Src/manager.c ****         break;
 511:App/Src/manager.c ****         case MACHINE_COVER://先清空，测试后写入
 512:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 513:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 514:App/Src/manager.c ****             }
 515:App/Src/manager.c ****             flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_COVER);
 516:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 517:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 518:App/Src/manager.c ****             count = 0;
 519:App/Src/manager.c ****         break;
 520:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 521:App/Src/manager.c ****             if (count == 0 || count > MAX_CHIP_NUMBER) {
 522:App/Src/manager.c ****                 count = 1;
 523:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 524:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 525:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 526:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 527:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 528:App/Src/manager.c ****                     if (result > 0) {
 529:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 40


 530:App/Src/manager.c ****                         result = 0;
 531:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 532:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 533:App/Src/manager.c ****                         }
 534:App/Src/manager.c ****                         ControlPrintf("okNumber:%d chipName:%d message:OK\n",result, count);
 535:App/Src/manager.c ****                     } else {
 536:App/Src/manager.c ****                         g_testFlag[count - 1] = 0xff;//相当于不写入数据
 537:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 538:App/Src/manager.c ****                     }
 539:App/Src/manager.c ****                     if (count < MAX_CHIP_NUMBER) {
 540:App/Src/manager.c ****                         count++;
 541:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 542:App/Src/manager.c ****                     } else {
 543:App/Src/manager.c ****                         count = 0;
 544:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 545:App/Src/manager.c ****                         result = 0;
 546:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 547:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 548:App/Src/manager.c ****                         }
 549:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 550:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 551:App/Src/manager.c ****                     }
 552:App/Src/manager.c ****                 }
 553:App/Src/manager.c ****             }
 554:App/Src/manager.c ****         break;
 555:App/Src/manager.c ****         default: break;
 556:App/Src/manager.c ****     }
 557:App/Src/manager.c **** }
 1465              		.loc 1 557 1 is_stmt 0 view .LVU319
 1466 003e 06B0     		add	sp, sp, #24
 1467              	.LCFI19:
 1468              		.cfi_remember_state
 1469              		.cfi_def_cfa_offset 24
 1470              		@ sp needed
 1471 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1472              	.L121:
 1473              	.LCFI20:
 1474              		.cfi_restore_state
 314:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1475              		.loc 1 314 13 is_stmt 1 view .LVU320
 314:App/Src/manager.c ****             UsbPrintf("group i2c test:");
 1476              		.loc 1 314 19 is_stmt 0 view .LVU321
 1477 0044 0024     		movs	r4, #0
 1478 0046 A84B     		ldr	r3, .L182+8
 1479 0048 1C70     		strb	r4, [r3]
 315:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1480              		.loc 1 315 13 is_stmt 1 view .LVU322
 1481 004a A848     		ldr	r0, .L182+12
 1482 004c FFF7FEFF 		bl	UsbPrintf
 1483              	.LVL113:
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1484              		.loc 1 316 13 view .LVU323
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1485              		.loc 1 316 13 is_stmt 0 view .LVU324
 1486 0050 07E0     		b	.L123
 1487              	.LVL114:
 1488              	.L172:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 41


 317:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1489              		.loc 1 317 36 is_stmt 1 discriminator 1 view .LVU325
 1490 0052 A748     		ldr	r0, .L182+16
 1491 0054 FFF7FEFF 		bl	UsbPrintf
 1492              	.LVL115:
 1493 0058 11E0     		b	.L124
 1494              	.L125:
 325:App/Src/manager.c ****                 }
 1495              		.loc 1 325 21 view .LVU326
 1496 005a A648     		ldr	r0, .L182+20
 1497 005c FFF7FEFF 		bl	UsbPrintf
 1498              	.LVL116:
 1499              	.L126:
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1500              		.loc 1 316 46 discriminator 2 view .LVU327
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1501              		.loc 1 316 47 is_stmt 0 discriminator 2 view .LVU328
 1502 0060 0134     		adds	r4, r4, #1
 1503              	.LVL117:
 1504              	.L123:
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1505              		.loc 1 316 25 is_stmt 1 discriminator 1 view .LVU329
 316:App/Src/manager.c ****                 if (i % 14 == 0) { UsbPrintf("\n"); }
 1506              		.loc 1 316 13 is_stmt 0 discriminator 1 view .LVU330
 1507 0062 532C     		cmp	r4, #83
 1508 0064 28DC     		bgt	.L171
 317:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1509              		.loc 1 317 17 is_stmt 1 view .LVU331
 317:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1510              		.loc 1 317 23 is_stmt 0 view .LVU332
 1511 0066 A44B     		ldr	r3, .L182+24
 1512 0068 83FB0423 		smull	r2, r3, r3, r4
 1513 006c 1A19     		adds	r2, r3, r4
 1514 006e E317     		asrs	r3, r4, #31
 1515 0070 C3EBE203 		rsb	r3, r3, r2, asr #3
 1516 0074 C3EBC303 		rsb	r3, r3, r3, lsl #3
 317:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 1517              		.loc 1 317 20 view .LVU333
 1518 0078 B4EB430F 		cmp	r4, r3, lsl #1
 1519 007c E9D0     		beq	.L172
 1520              	.L124:
 318:App/Src/manager.c ****                 rtc_set_channel(i + 1, RTC_INIT_1006);
 1521              		.loc 1 318 17 is_stmt 1 view .LVU334
 1522 007e 651C     		adds	r5, r4, #1
 1523 0080 EDB2     		uxtb	r5, r5
 1524 0082 0121     		movs	r1, #1
 1525 0084 2846     		mov	r0, r5
 1526 0086 FFF7FEFF 		bl	rtc_group_power
 1527              	.LVL118:
 319:App/Src/manager.c ****                 HAL_Delay(10);
 1528              		.loc 1 319 17 view .LVU335
 1529 008a 0321     		movs	r1, #3
 1530 008c 2846     		mov	r0, r5
 1531 008e FFF7FEFF 		bl	rtc_set_channel
 1532              	.LVL119:
 320:App/Src/manager.c ****                 if (rtc_read_multi_bytes(RTC_3900_ADDRESS, 0x00, &state, 1)== I2C_OK) {
 1533              		.loc 1 320 17 view .LVU336
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 42


 1534 0092 0A20     		movs	r0, #10
 1535 0094 FFF7FEFF 		bl	HAL_Delay
 1536              	.LVL120:
 321:App/Src/manager.c ****                     UsbPrintf("1\t");
 1537              		.loc 1 321 17 view .LVU337
 321:App/Src/manager.c ****                     UsbPrintf("1\t");
 1538              		.loc 1 321 21 is_stmt 0 view .LVU338
 1539 0098 0123     		movs	r3, #1
 1540 009a 924A     		ldr	r2, .L182+4
 1541 009c 0021     		movs	r1, #0
 1542 009e 6420     		movs	r0, #100
 1543 00a0 FFF7FEFF 		bl	rtc_read_multi_bytes
 1544              	.LVL121:
 321:App/Src/manager.c ****                     UsbPrintf("1\t");
 1545              		.loc 1 321 20 view .LVU339
 1546 00a4 0028     		cmp	r0, #0
 1547 00a6 D8D1     		bne	.L125
 322:App/Src/manager.c ****                     count++;
 1548              		.loc 1 322 21 is_stmt 1 view .LVU340
 1549 00a8 9448     		ldr	r0, .L182+28
 1550 00aa FFF7FEFF 		bl	UsbPrintf
 1551              	.LVL122:
 323:App/Src/manager.c ****                 } else {
 1552              		.loc 1 323 21 view .LVU341
 323:App/Src/manager.c ****                 } else {
 1553              		.loc 1 323 26 is_stmt 0 view .LVU342
 1554 00ae 8E4A     		ldr	r2, .L182+8
 1555 00b0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1556 00b2 0133     		adds	r3, r3, #1
 1557 00b4 1370     		strb	r3, [r2]
 1558 00b6 D3E7     		b	.L126
 1559              	.L171:
 328:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1560              		.loc 1 328 13 is_stmt 1 view .LVU343
 1561 00b8 8B4B     		ldr	r3, .L182+8
 1562 00ba 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1563 00bc 9048     		ldr	r0, .L182+32
 1564 00be FFF7FEFF 		bl	UsbPrintf
 1565              	.LVL123:
 329:App/Src/manager.c ****         break;
 1566              		.loc 1 329 13 view .LVU344
 329:App/Src/manager.c ****         break;
 1567              		.loc 1 329 24 is_stmt 0 view .LVU345
 1568 00c2 874B     		ldr	r3, .L182
 1569 00c4 0022     		movs	r2, #0
 1570 00c6 1A70     		strb	r2, [r3]
 330:App/Src/manager.c ****         case TEMP_TEST:
 1571              		.loc 1 330 9 is_stmt 1 view .LVU346
 1572 00c8 B9E7     		b	.L108
 1573              	.LVL124:
 1574              	.L120:
 332:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1575              		.loc 1 332 13 view .LVU347
 332:App/Src/manager.c ****             g_testMode = FREE_MODE;
 1576              		.loc 1 332 22 is_stmt 0 view .LVU348
 1577 00ca FFF7FEFF 		bl	system_manage_temp
 1578              	.LVL125:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 43


 1579 00ce 0446     		mov	r4, r0
 1580              	.LVL126:
 333:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1581              		.loc 1 333 13 is_stmt 1 view .LVU349
 333:App/Src/manager.c ****             UsbPrintf("success count:%d\n", result);
 1582              		.loc 1 333 24 is_stmt 0 view .LVU350
 1583 00d0 834B     		ldr	r3, .L182
 1584 00d2 0022     		movs	r2, #0
 1585 00d4 1A70     		strb	r2, [r3]
 334:App/Src/manager.c ****             if (result > 0) {
 1586              		.loc 1 334 13 is_stmt 1 view .LVU351
 1587 00d6 0146     		mov	r1, r0
 1588 00d8 8A48     		ldr	r0, .L182+36
 1589              	.LVL127:
 334:App/Src/manager.c ****             if (result > 0) {
 1590              		.loc 1 334 13 is_stmt 0 view .LVU352
 1591 00da FFF7FEFF 		bl	UsbPrintf
 1592              	.LVL128:
 335:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1593              		.loc 1 335 13 is_stmt 1 view .LVU353
 335:App/Src/manager.c ****                 ControlPrintf("okNumber:%d chipName:%d message:测试完成\n", result, MAX_CHIP_NUMBER
 1594              		.loc 1 335 16 is_stmt 0 view .LVU354
 1595 00de 002C     		cmp	r4, #0
 1596 00e0 ADDD     		ble	.L108
 336:App/Src/manager.c ****             }
 1597              		.loc 1 336 17 is_stmt 1 view .LVU355
 1598 00e2 5422     		movs	r2, #84
 1599 00e4 2146     		mov	r1, r4
 1600 00e6 8848     		ldr	r0, .L182+40
 1601 00e8 FFF7FEFF 		bl	ControlPrintf
 1602              	.LVL129:
 1603 00ec A7E7     		b	.L108
 1604              	.LVL130:
 1605              	.L119:
 340:App/Src/manager.c ****                 case 0:
 1606              		.loc 1 340 13 view .LVU356
 1607 00ee 7D4B     		ldr	r3, .L182+4
 1608 00f0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1609 00f2 012B     		cmp	r3, #1
 1610 00f4 45D0     		beq	.L128
 1611 00f6 022B     		cmp	r3, #2
 1612 00f8 00F08380 		beq	.L129
 1613 00fc 002B     		cmp	r3, #0
 1614 00fe 9ED1     		bne	.L108
 342:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1615              		.loc 1 342 21 view .LVU357
 342:App/Src/manager.c ****                     g_oneData.number = check_system_temp();
 1616              		.loc 1 342 27 is_stmt 0 view .LVU358
 1617 0100 794B     		ldr	r3, .L182+8
 1618 0102 0022     		movs	r2, #0
 1619 0104 1A70     		strb	r2, [r3]
 343:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1620              		.loc 1 343 21 is_stmt 1 view .LVU359
 343:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1621              		.loc 1 343 40 is_stmt 0 view .LVU360
 1622 0106 FFF7FEFF 		bl	check_system_temp
 1623              	.LVL131:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 44


 343:App/Src/manager.c ****                     UsbPrintf("system temp:%.2f, test dot:%d\n", temp_read_value(1), g_oneData.numb
 1624              		.loc 1 343 38 view .LVU361
 1625 010a 804C     		ldr	r4, .L182+44
 1626 010c 2070     		strb	r0, [r4]
 344:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1627              		.loc 1 344 21 is_stmt 1 view .LVU362
 344:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1628              		.loc 1 344 66 is_stmt 0 view .LVU363
 1629 010e 0120     		movs	r0, #1
 1630 0110 FFF7FEFF 		bl	temp_read_value
 1631              	.LVL132:
 1632 0114 10EE100A 		vmov	r0, s0
 344:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1633              		.loc 1 344 95 view .LVU364
 1634 0118 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
 344:App/Src/manager.c ****                     if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1635              		.loc 1 344 21 view .LVU365
 1636 011a FFF7FEFF 		bl	__aeabi_f2d
 1637              	.LVL133:
 1638 011e 0246     		mov	r2, r0
 1639 0120 0B46     		mov	r3, r1
 1640 0122 0095     		str	r5, [sp]
 1641 0124 7A48     		ldr	r0, .L182+48
 1642 0126 FFF7FEFF 		bl	UsbPrintf
 1643              	.LVL134:
 345:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1644              		.loc 1 345 21 is_stmt 1 view .LVU366
 345:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1645              		.loc 1 345 34 is_stmt 0 view .LVU367
 1646 012a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 345:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1647              		.loc 1 345 24 view .LVU368
 1648 012c 042B     		cmp	r3, #4
 1649 012e 12D9     		bls	.L130
 346:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1650              		.loc 1 346 25 is_stmt 1 view .LVU369
 346:App/Src/manager.c ****                         UsbPrintf("system temp can't test!\n");
 1651              		.loc 1 346 36 is_stmt 0 view .LVU370
 1652 0130 6B4B     		ldr	r3, .L182
 1653 0132 0022     		movs	r2, #0
 1654 0134 1A70     		strb	r2, [r3]
 347:App/Src/manager.c ****                         log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1655              		.loc 1 347 25 is_stmt 1 view .LVU371
 1656 0136 7748     		ldr	r0, .L182+52
 1657 0138 FFF7FEFF 		bl	UsbPrintf
 1658              	.LVL135:
 348:App/Src/manager.c ****                     } else {
 1659              		.loc 1 348 25 view .LVU372
 348:App/Src/manager.c ****                     } else {
 1660              		.loc 1 348 70 is_stmt 0 view .LVU373
 1661 013c 0120     		movs	r0, #1
 1662 013e FFF7FEFF 		bl	temp_read_value
 1663              	.LVL136:
 1664 0142 10EE100A 		vmov	r0, s0
 348:App/Src/manager.c ****                     } else {
 1665              		.loc 1 348 25 view .LVU374
 1666 0146 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 45


 1667              	.LVL137:
 1668 014a 0246     		mov	r2, r0
 1669 014c 0B46     		mov	r3, r1
 1670 014e 7248     		ldr	r0, .L182+56
 1671 0150 FFF7FEFF 		bl	log_printf
 1672              	.LVL138:
 1673 0154 73E7     		b	.L108
 1674              	.L130:
 350:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1675              		.loc 1 350 25 is_stmt 1 view .LVU375
 350:App/Src/manager.c ****                         systm_cap_save_buffer(0, 0, 0);//init buffer
 1676              		.loc 1 350 31 is_stmt 0 view .LVU376
 1677 0156 0125     		movs	r5, #1
 1678 0158 624B     		ldr	r3, .L182+4
 1679 015a 1D70     		strb	r5, [r3]
 351:App/Src/manager.c ****                         memset(g_testFlag, 0xff, MAX_CHIP_NUMBER);
 1680              		.loc 1 351 25 is_stmt 1 view .LVU377
 1681 015c 9FED6F0A 		vldr.32	s0, .L182+60
 1682 0160 F0EE400A 		vmov.f32	s1, s0
 1683 0164 0020     		movs	r0, #0
 1684 0166 FFF7FEFF 		bl	systm_cap_save_buffer
 1685              	.LVL139:
 352:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1686              		.loc 1 352 25 view .LVU378
 1687 016a 6D4C     		ldr	r4, .L182+64
 1688 016c 5422     		movs	r2, #84
 1689 016e FF21     		movs	r1, #255
 1690 0170 2046     		mov	r0, r4
 1691 0172 FFF7FEFF 		bl	memset
 1692              	.LVL140:
 353:App/Src/manager.c ****                     }
 1693              		.loc 1 353 25 view .LVU379
 1694 0176 0022     		movs	r2, #0
 1695 0178 2946     		mov	r1, r5
 1696 017a 2046     		mov	r0, r4
 1697 017c FFF7FEFF 		bl	flash_test_flag_manage
 1698              	.LVL141:
 1699 0180 5DE7     		b	.L108
 1700              	.L128:
 357:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1701              		.loc 1 357 21 view .LVU380
 357:App/Src/manager.c ****                     if (count <= MAX_CHIP_NUMBER) {
 1702              		.loc 1 357 26 is_stmt 0 view .LVU381
 1703 0182 594B     		ldr	r3, .L182+8
 1704 0184 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1705 0186 0130     		adds	r0, r0, #1
 1706 0188 C0B2     		uxtb	r0, r0
 1707 018a 1870     		strb	r0, [r3]
 358:App/Src/manager.c ****                     // if (count <= 42) {
 1708              		.loc 1 358 21 is_stmt 1 view .LVU382
 358:App/Src/manager.c ****                     // if (count <= 42) {
 1709              		.loc 1 358 24 is_stmt 0 view .LVU383
 1710 018c 5428     		cmp	r0, #84
 1711 018e 15D8     		bhi	.L131
 360:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 1712              		.loc 1 360 25 is_stmt 1 view .LVU384
 360:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 46


 1713              		.loc 1 360 29 is_stmt 0 view .LVU385
 1714 0190 5E4B     		ldr	r3, .L182+44
 1715 0192 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1716 0194 FFF7FEFF 		bl	system_check_test_dot
 1717              	.LVL142:
 360:App/Src/manager.c ****                         g_capAdjust.flag = CAP_ADJUST_DEFAULT;
 1718              		.loc 1 360 28 view .LVU386
 1719 0198 0028     		cmp	r0, #0
 1720 019a 7FF450AF 		bne	.L108
 361:App/Src/manager.c ****                         g_capAdjust.count = count;
 1721              		.loc 1 361 25 is_stmt 1 view .LVU387
 361:App/Src/manager.c ****                         g_capAdjust.count = count;
 1722              		.loc 1 361 42 is_stmt 0 view .LVU388
 1723 019e 614B     		ldr	r3, .L182+68
 1724 01a0 0022     		movs	r2, #0
 1725 01a2 1A70     		strb	r2, [r3]
 362:App/Src/manager.c ****                         system_set_int(count);
 1726              		.loc 1 362 25 is_stmt 1 view .LVU389
 362:App/Src/manager.c ****                         system_set_int(count);
 1727              		.loc 1 362 43 is_stmt 0 view .LVU390
 1728 01a4 504A     		ldr	r2, .L182+8
 1729 01a6 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 1730 01a8 1874     		strb	r0, [r3, #16]
 363:App/Src/manager.c ****                         rtc_freq_test(FREQ_TEST_STARTING);
 1731              		.loc 1 363 25 is_stmt 1 view .LVU391
 1732 01aa FFF7FEFF 		bl	system_set_int
 1733              	.LVL143:
 364:App/Src/manager.c ****                         state = 2;
 1734              		.loc 1 364 25 view .LVU392
 1735 01ae 0120     		movs	r0, #1
 1736 01b0 FFF7FEFF 		bl	rtc_freq_test
 1737              	.LVL144:
 365:App/Src/manager.c ****                     } else {
 1738              		.loc 1 365 25 view .LVU393
 365:App/Src/manager.c ****                     } else {
 1739              		.loc 1 365 31 is_stmt 0 view .LVU394
 1740 01b4 4B4B     		ldr	r3, .L182+4
 1741 01b6 0222     		movs	r2, #2
 1742 01b8 1A70     		strb	r2, [r3]
 1743 01ba 40E7     		b	.L108
 1744              	.L131:
 367:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_WRITE_ADD);
 1745              		.loc 1 367 25 is_stmt 1 view .LVU395
 1746 01bc FFF7FEFF 		bl	system_cap_write_flash
 1747              	.LVL145:
 368:App/Src/manager.c ****                         result = 0;
 1748              		.loc 1 368 25 view .LVU396
 1749 01c0 0122     		movs	r2, #1
 1750 01c2 1146     		mov	r1, r2
 1751 01c4 5648     		ldr	r0, .L182+64
 1752 01c6 FFF7FEFF 		bl	flash_test_flag_manage
 1753              	.LVL146:
 369:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1754              		.loc 1 369 25 view .LVU397
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1755              		.loc 1 370 25 view .LVU398
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 47


 1756              		.loc 1 370 32 is_stmt 0 view .LVU399
 1757 01ca 0023     		movs	r3, #0
 369:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1758              		.loc 1 369 32 view .LVU400
 1759 01cc 1946     		mov	r1, r3
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1760              		.loc 1 370 25 view .LVU401
 1761 01ce 00E0     		b	.L132
 1762              	.LVL147:
 1763              	.L133:
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1764              		.loc 1 370 58 is_stmt 1 discriminator 2 view .LVU402
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1765              		.loc 1 370 59 is_stmt 0 discriminator 2 view .LVU403
 1766 01d0 0133     		adds	r3, r3, #1
 1767              	.LVL148:
 1768              	.L132:
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1769              		.loc 1 370 37 is_stmt 1 discriminator 1 view .LVU404
 370:App/Src/manager.c ****                             if ((g_testFlag[i] & (0x01 << g_oneData.number)) == 0) { result++; }
 1770              		.loc 1 370 25 is_stmt 0 discriminator 1 view .LVU405
 1771 01d2 532B     		cmp	r3, #83
 1772 01d4 09DC     		bgt	.L173
 371:App/Src/manager.c ****                         }
 1773              		.loc 1 371 29 is_stmt 1 view .LVU406
 371:App/Src/manager.c ****                         }
 1774              		.loc 1 371 44 is_stmt 0 view .LVU407
 1775 01d6 524A     		ldr	r2, .L182+64
 1776 01d8 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 371:App/Src/manager.c ****                         }
 1777              		.loc 1 371 68 view .LVU408
 1778 01da 4C48     		ldr	r0, .L182+44
 1779 01dc 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 371:App/Src/manager.c ****                         }
 1780              		.loc 1 371 78 view .LVU409
 1781 01de 0241     		asrs	r2, r2, r0
 371:App/Src/manager.c ****                         }
 1782              		.loc 1 371 32 view .LVU410
 1783 01e0 12F0010F 		tst	r2, #1
 1784 01e4 F4D1     		bne	.L133
 371:App/Src/manager.c ****                         }
 1785              		.loc 1 371 86 is_stmt 1 discriminator 1 view .LVU411
 371:App/Src/manager.c ****                         }
 1786              		.loc 1 371 92 is_stmt 0 discriminator 1 view .LVU412
 1787 01e6 0131     		adds	r1, r1, #1
 1788              	.LVL149:
 371:App/Src/manager.c ****                         }
 1789              		.loc 1 371 92 discriminator 1 view .LVU413
 1790 01e8 F2E7     		b	.L133
 1791              	.L173:
 373:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1792              		.loc 1 373 25 is_stmt 1 view .LVU414
 1793 01ea 3F4B     		ldr	r3, .L182+8
 1794              	.LVL150:
 373:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 1795              		.loc 1 373 25 is_stmt 0 view .LVU415
 1796 01ec 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 48


 1797 01ee 4E48     		ldr	r0, .L182+72
 1798 01f0 FFF7FEFF 		bl	ControlPrintf
 1799              	.LVL151:
 374:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1800              		.loc 1 374 25 is_stmt 1 view .LVU416
 374:App/Src/manager.c ****                         UsbPrintf("cap adjust test end.\n");
 1801              		.loc 1 374 36 is_stmt 0 view .LVU417
 1802 01f4 3A4B     		ldr	r3, .L182
 1803 01f6 0022     		movs	r2, #0
 1804 01f8 1A70     		strb	r2, [r3]
 375:App/Src/manager.c ****                     }
 1805              		.loc 1 375 25 is_stmt 1 view .LVU418
 1806 01fa 4C48     		ldr	r0, .L182+76
 1807 01fc FFF7FEFF 		bl	UsbPrintf
 1808              	.LVL152:
 1809 0200 1DE7     		b	.L108
 1810              	.L129:
 379:App/Src/manager.c ****                         state = 1;
 1811              		.loc 1 379 21 view .LVU419
 379:App/Src/manager.c ****                         state = 1;
 1812              		.loc 1 379 36 is_stmt 0 view .LVU420
 1813 0202 484B     		ldr	r3, .L182+68
 1814 0204 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 379:App/Src/manager.c ****                         state = 1;
 1815              		.loc 1 379 24 view .LVU421
 1816 0206 002B     		cmp	r3, #0
 1817 0208 3FF419AF 		beq	.L108
 380:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1818              		.loc 1 380 25 is_stmt 1 view .LVU422
 380:App/Src/manager.c ****                         if (g_capAdjust.flag == CAP_ADJUST_SUCCESS) {//先进行1次数据校验，若校验不
 1819              		.loc 1 380 31 is_stmt 0 view .LVU423
 1820 020c 354A     		ldr	r2, .L182+4
 1821 020e 0121     		movs	r1, #1
 1822 0210 1170     		strb	r1, [r2]
 381:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 1823              		.loc 1 381 25 is_stmt 1 view .LVU424
 381:App/Src/manager.c ****                             // if (check_rtc_temp_success(count, g_oneData.number, g_capAdjust.temp
 1824              		.loc 1 381 28 is_stmt 0 view .LVU425
 1825 0212 022B     		cmp	r3, #2
 1826 0214 05D0     		beq	.L174
 392:App/Src/manager.c ****                         }
 1827              		.loc 1 392 29 is_stmt 1 view .LVU426
 1828 0216 344B     		ldr	r3, .L182+8
 1829 0218 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1830 021a 4548     		ldr	r0, .L182+80
 1831 021c FFF7FEFF 		bl	ControlPrintf
 1832              	.LVL153:
 1833 0220 0DE7     		b	.L108
 1834              	.L174:
 383:App/Src/manager.c ****                             ControlPrintf("chipTemp:%d chipName:%d message:OK\n", (int)g_capAdjust.
 1835              		.loc 1 383 29 view .LVU427
 1836 0222 404C     		ldr	r4, .L182+68
 1837 0224 304D     		ldr	r5, .L182+8
 1838 0226 D4ED010A 		vldr.32	s1, [r4, #4]
 1839 022a 94ED020A 		vldr.32	s0, [r4, #8]
 1840 022e 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1841 0230 FFF7FEFF 		bl	systm_cap_save_buffer
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 49


 1842              	.LVL154:
 384:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1843              		.loc 1 384 29 view .LVU428
 384:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1844              		.loc 1 384 99 is_stmt 0 view .LVU429
 1845 0234 D4ED027A 		vldr.32	s15, [r4, #8]
 384:App/Src/manager.c ****                             UsbPrintf("count:%d, temp:%.1f, cap:%.2f\n", count, g_capAdjust.temp, g
 1846              		.loc 1 384 29 view .LVU430
 1847 0238 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 1848 023a FDEEE77A 		vcvt.s32.f32	s15, s15
 1849 023e 17EE901A 		vmov	r1, s15	@ int
 1850 0242 3C48     		ldr	r0, .L182+84
 1851 0244 FFF7FEFF 		bl	ControlPrintf
 1852              	.LVL155:
 385:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1853              		.loc 1 385 29 is_stmt 1 view .LVU431
 385:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1854              		.loc 1 385 110 is_stmt 0 view .LVU432
 1855 0248 D4F80480 		ldr	r8, [r4, #4]	@ float
 385:App/Src/manager.c ****                             g_testFlag[count - 1] &= (~(0x01 << g_oneData.number));//对某一个芯片的
 1856              		.loc 1 385 29 view .LVU433
 1857 024c A068     		ldr	r0, [r4, #8]	@ float
 1858 024e FFF7FEFF 		bl	__aeabi_f2d
 1859              	.LVL156:
 1860 0252 0646     		mov	r6, r0
 1861 0254 0F46     		mov	r7, r1
 1862 0256 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 1863 0258 4046     		mov	r0, r8	@ float
 1864 025a FFF7FEFF 		bl	__aeabi_f2d
 1865              	.LVL157:
 1866 025e CDE90001 		strd	r0, [sp]
 1867 0262 3246     		mov	r2, r6
 1868 0264 3B46     		mov	r3, r7
 1869 0266 2146     		mov	r1, r4
 1870 0268 3348     		ldr	r0, .L182+88
 1871 026a FFF7FEFF 		bl	UsbPrintf
 1872              	.LVL158:
 386:App/Src/manager.c ****                             // } else {
 1873              		.loc 1 386 29 is_stmt 1 view .LVU434
 386:App/Src/manager.c ****                             // } else {
 1874              		.loc 1 386 51 is_stmt 0 view .LVU435
 1875 026e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1876 0270 013B     		subs	r3, r3, #1
 386:App/Src/manager.c ****                             // } else {
 1877              		.loc 1 386 74 view .LVU436
 1878 0272 264A     		ldr	r2, .L182+44
 1879 0274 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 386:App/Src/manager.c ****                             // } else {
 1880              		.loc 1 386 62 view .LVU437
 1881 0276 0122     		movs	r2, #1
 1882 0278 02FA01F1 		lsl	r1, r2, r1
 386:App/Src/manager.c ****                             // } else {
 1883              		.loc 1 386 51 view .LVU438
 1884 027c 2848     		ldr	r0, .L182+64
 1885 027e C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 1886 0280 22EA0102 		bic	r2, r2, r1
 1887 0284 C254     		strb	r2, [r0, r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 50


 1888 0286 DAE6     		b	.L108
 1889              	.L118:
 400:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1890              		.loc 1 400 13 is_stmt 1 view .LVU439
 400:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1891              		.loc 1 400 32 is_stmt 0 view .LVU440
 1892 0288 FFF7FEFF 		bl	check_system_temp
 1893              	.LVL159:
 400:App/Src/manager.c ****             if (g_oneData.number > TEST_RTC_TEMP_Z85) {
 1894              		.loc 1 400 30 view .LVU441
 1895 028c C3B2     		uxtb	r3, r0
 1896 028e 1F4A     		ldr	r2, .L182+44
 1897 0290 1370     		strb	r3, [r2]
 401:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1898              		.loc 1 401 13 is_stmt 1 view .LVU442
 401:App/Src/manager.c ****                 g_testMode = FREE_MODE;
 1899              		.loc 1 401 16 is_stmt 0 view .LVU443
 1900 0292 042B     		cmp	r3, #4
 1901 0294 15D9     		bls	.L136
 402:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1902              		.loc 1 402 17 is_stmt 1 view .LVU444
 402:App/Src/manager.c ****                 UsbPrintf("system temp can't test!\n");
 1903              		.loc 1 402 28 is_stmt 0 view .LVU445
 1904 0296 124B     		ldr	r3, .L182
 1905 0298 0022     		movs	r2, #0
 1906 029a 1A70     		strb	r2, [r3]
 403:App/Src/manager.c ****                 ControlPrintf("message:系统温度超范围\n");
 1907              		.loc 1 403 17 is_stmt 1 view .LVU446
 1908 029c 1D48     		ldr	r0, .L182+52
 1909 029e FFF7FEFF 		bl	UsbPrintf
 1910              	.LVL160:
 404:App/Src/manager.c ****                 log_printf("system temp %.2f can't test!\n", temp_read_value(1));
 1911              		.loc 1 404 17 view .LVU447
 1912 02a2 2648     		ldr	r0, .L182+92
 1913 02a4 FFF7FEFF 		bl	ControlPrintf
 1914              	.LVL161:
 405:App/Src/manager.c ****             } else {
 1915              		.loc 1 405 17 view .LVU448
 405:App/Src/manager.c ****             } else {
 1916              		.loc 1 405 62 is_stmt 0 view .LVU449
 1917 02a8 0120     		movs	r0, #1
 1918 02aa FFF7FEFF 		bl	temp_read_value
 1919              	.LVL162:
 1920 02ae 10EE100A 		vmov	r0, s0
 405:App/Src/manager.c ****             } else {
 1921              		.loc 1 405 17 view .LVU450
 1922 02b2 FFF7FEFF 		bl	__aeabi_f2d
 1923              	.LVL163:
 1924 02b6 0246     		mov	r2, r0
 1925 02b8 0B46     		mov	r3, r1
 1926 02ba 1748     		ldr	r0, .L182+56
 1927 02bc FFF7FEFF 		bl	log_printf
 1928              	.LVL164:
 1929 02c0 BDE6     		b	.L108
 1930              	.L136:
 407:App/Src/manager.c ****                 flash_test_data_clear(g_oneData.number + FLASH_CLEAR_DOT_0);
 1931              		.loc 1 407 17 is_stmt 1 view .LVU451
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 51


 1932 02c2 1F48     		ldr	r0, .L182+96
 1933 02c4 FFF7FEFF 		bl	UsbPrintf
 1934              	.LVL165:
 408:App/Src/manager.c ****                 flash_test_flag_manage(g_testFlag, FLAG_TEST_DOT, FLASH_FLAG_READ);
 1935              		.loc 1 408 17 view .LVU452
 1936 02c8 104B     		ldr	r3, .L182+44
 1937 02ca 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1938 02cc FFF7FEFF 		bl	flash_test_data_clear
 1939              	.LVL166:
 409:App/Src/manager.c ****                 for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 1940              		.loc 1 409 17 view .LVU453
 1941 02d0 0022     		movs	r2, #0
 1942 02d2 0121     		movs	r1, #1
 1943 02d4 1248     		ldr	r0, .L182+64
 1944 02d6 FFF7FEFF 		bl	flash_test_flag_manage
 1945              	.LVL167:
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1946              		.loc 1 410 17 view .LVU454
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1947              		.loc 1 410 24 is_stmt 0 view .LVU455
 1948 02da 0023     		movs	r3, #0
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1949              		.loc 1 410 17 view .LVU456
 1950 02dc 3CE0     		b	.L137
 1951              	.L183:
 1952 02de 00BF     		.align	2
 1953              	.L182:
 1954 02e0 00000000 		.word	.LANCHOR0
 1955 02e4 00000000 		.word	.LANCHOR4
 1956 02e8 00000000 		.word	.LANCHOR5
 1957 02ec 00000000 		.word	.LC13
 1958 02f0 10000000 		.word	.LC14
 1959 02f4 18000000 		.word	.LC16
 1960 02f8 93244992 		.word	-1840700269
 1961 02fc 14000000 		.word	.LC15
 1962 0300 1C000000 		.word	.LC17
 1963 0304 28000000 		.word	.LC18
 1964 0308 3C000000 		.word	.LC19
 1965 030c 00000000 		.word	.LANCHOR3
 1966 0310 68000000 		.word	.LC20
 1967 0314 88000000 		.word	.LC21
 1968 0318 A4000000 		.word	.LC22
 1969 031c 00000000 		.word	0
 1970 0320 00000000 		.word	.LANCHOR1
 1971 0324 00000000 		.word	.LANCHOR6
 1972 0328 C4000000 		.word	.LC23
 1973 032c E8000000 		.word	.LC24
 1974 0330 44010000 		.word	.LC27
 1975 0334 00010000 		.word	.LC25
 1976 0338 24010000 		.word	.LC26
 1977 033c 3C000000 		.word	.LC2
 1978 0340 60010000 		.word	.LC28
 1979              	.LVL168:
 1980              	.L138:
 411:App/Src/manager.c ****                 }
 1981              		.loc 1 411 21 is_stmt 1 discriminator 3 view .LVU457
 411:App/Src/manager.c ****                 }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 52


 1982              		.loc 1 411 56 is_stmt 0 discriminator 3 view .LVU458
 1983 0344 B34A     		ldr	r2, .L184
 1984 0346 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 411:App/Src/manager.c ****                 }
 1985              		.loc 1 411 44 discriminator 3 view .LVU459
 1986 0348 0122     		movs	r2, #1
 1987 034a 02FA01F1 		lsl	r1, r2, r1
 411:App/Src/manager.c ****                 }
 1988              		.loc 1 411 35 discriminator 3 view .LVU460
 1989 034e B248     		ldr	r0, .L184+4
 1990 0350 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 1991 0352 0A43     		orrs	r2, r2, r1
 1992 0354 C254     		strb	r2, [r0, r3]
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1993              		.loc 1 410 50 is_stmt 1 discriminator 3 view .LVU461
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1994              		.loc 1 410 51 is_stmt 0 discriminator 3 view .LVU462
 1995 0356 0133     		adds	r3, r3, #1
 1996              	.LVL169:
 1997              	.L137:
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1998              		.loc 1 410 29 is_stmt 1 discriminator 1 view .LVU463
 410:App/Src/manager.c ****                     g_testFlag[i] |= (0x01 << g_oneData.number);
 1999              		.loc 1 410 17 is_stmt 0 discriminator 1 view .LVU464
 2000 0358 532B     		cmp	r3, #83
 2001 035a F3DD     		ble	.L138
 413:App/Src/manager.c ****                 g_testMode = CAP_ADJUST;
 2002              		.loc 1 413 17 is_stmt 1 view .LVU465
 2003 035c 0222     		movs	r2, #2
 2004 035e 0121     		movs	r1, #1
 2005 0360 AD48     		ldr	r0, .L184+4
 2006 0362 FFF7FEFF 		bl	flash_test_flag_manage
 2007              	.LVL170:
 414:App/Src/manager.c ****             }
 2008              		.loc 1 414 17 view .LVU466
 414:App/Src/manager.c ****             }
 2009              		.loc 1 414 28 is_stmt 0 view .LVU467
 2010 0366 AD4B     		ldr	r3, .L184+8
 2011 0368 0322     		movs	r2, #3
 2012 036a 1A70     		strb	r2, [r3]
 2013 036c 67E6     		b	.L108
 2014              	.L117:
 418:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2015              		.loc 1 418 13 is_stmt 1 view .LVU468
 418:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2016              		.loc 1 418 19 is_stmt 0 view .LVU469
 2017 036e 0024     		movs	r4, #0
 2018 0370 AB4B     		ldr	r3, .L184+12
 2019 0372 1C70     		strb	r4, [r3]
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2020              		.loc 1 419 13 is_stmt 1 view .LVU470
 2021              	.LVL171:
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2022              		.loc 1 419 13 is_stmt 0 view .LVU471
 2023 0374 03E0     		b	.L139
 2024              	.LVL172:
 2025              	.L140:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 53


 424:App/Src/manager.c ****                 }
 2026              		.loc 1 424 21 is_stmt 1 view .LVU472
 424:App/Src/manager.c ****                 }
 2027              		.loc 1 424 35 is_stmt 0 view .LVU473
 2028 0376 A84B     		ldr	r3, .L184+4
 2029 0378 FF22     		movs	r2, #255
 2030 037a 1A55     		strb	r2, [r3, r4]
 2031              	.L141:
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2032              		.loc 1 419 46 is_stmt 1 discriminator 2 view .LVU474
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2033              		.loc 1 419 47 is_stmt 0 discriminator 2 view .LVU475
 2034 037c 0134     		adds	r4, r4, #1
 2035              	.LVL173:
 2036              	.L139:
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2037              		.loc 1 419 25 is_stmt 1 discriminator 1 view .LVU476
 419:App/Src/manager.c ****                 if (sd8800_calcul_cap(i + 1) != 0) {
 2038              		.loc 1 419 13 is_stmt 0 discriminator 1 view .LVU477
 2039 037e 532C     		cmp	r4, #83
 2040 0380 0DDC     		bgt	.L175
 420:App/Src/manager.c ****                     count++;
 2041              		.loc 1 420 17 is_stmt 1 view .LVU478
 420:App/Src/manager.c ****                     count++;
 2042              		.loc 1 420 21 is_stmt 0 view .LVU479
 2043 0382 601C     		adds	r0, r4, #1
 2044 0384 C0B2     		uxtb	r0, r0
 2045 0386 FFF7FEFF 		bl	sd8800_calcul_cap
 2046              	.LVL174:
 420:App/Src/manager.c ****                     count++;
 2047              		.loc 1 420 20 view .LVU480
 2048 038a 0028     		cmp	r0, #0
 2049 038c F3D0     		beq	.L140
 421:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2050              		.loc 1 421 21 is_stmt 1 view .LVU481
 421:App/Src/manager.c ****                     g_testFlag[i] = '1';
 2051              		.loc 1 421 26 is_stmt 0 view .LVU482
 2052 038e A44A     		ldr	r2, .L184+12
 2053 0390 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2054 0392 0133     		adds	r3, r3, #1
 2055 0394 1370     		strb	r3, [r2]
 422:App/Src/manager.c ****                 } else {
 2056              		.loc 1 422 21 is_stmt 1 view .LVU483
 422:App/Src/manager.c ****                 } else {
 2057              		.loc 1 422 35 is_stmt 0 view .LVU484
 2058 0396 A04B     		ldr	r3, .L184+4
 2059 0398 3122     		movs	r2, #49
 2060 039a 1A55     		strb	r2, [r3, r4]
 2061 039c EEE7     		b	.L141
 2062              	.L175:
 427:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2063              		.loc 1 427 13 is_stmt 1 view .LVU485
 2064 039e 0122     		movs	r2, #1
 2065 03a0 0221     		movs	r1, #2
 2066 03a2 9D48     		ldr	r0, .L184+4
 2067 03a4 FFF7FEFF 		bl	flash_test_flag_manage
 2068              	.LVL175:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 54


 428:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2069              		.loc 1 428 13 view .LVU486
 428:App/Src/manager.c ****             UsbPrintf("calculate success number %d\n", count);
 2070              		.loc 1 428 24 is_stmt 0 view .LVU487
 2071 03a8 9C4B     		ldr	r3, .L184+8
 2072 03aa 0022     		movs	r2, #0
 2073 03ac 1A70     		strb	r2, [r3]
 429:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2074              		.loc 1 429 13 is_stmt 1 view .LVU488
 2075 03ae 9C4C     		ldr	r4, .L184+12
 2076              	.LVL176:
 429:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:计算完成！\n", count, MAX_CHIP_NUMBER);
 2077              		.loc 1 429 13 is_stmt 0 view .LVU489
 2078 03b0 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2079 03b2 9C48     		ldr	r0, .L184+16
 2080 03b4 FFF7FEFF 		bl	UsbPrintf
 2081              	.LVL177:
 430:App/Src/manager.c ****         break;
 2082              		.loc 1 430 4 is_stmt 1 view .LVU490
 2083 03b8 5422     		movs	r2, #84
 2084 03ba 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2085 03bc 9A48     		ldr	r0, .L184+20
 2086 03be FFF7FEFF 		bl	ControlPrintf
 2087              	.LVL178:
 431:App/Src/manager.c ****         case CAP_DOWNLOAD:
 2088              		.loc 1 431 9 view .LVU491
 2089 03c2 3CE6     		b	.L108
 2090              	.L116:
 433:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2091              		.loc 1 433 13 view .LVU492
 433:App/Src/manager.c ****             UsbPrintf("download success number %d\n", result);
 2092              		.loc 1 433 22 is_stmt 0 view .LVU493
 2093 03c4 FFF7FEFF 		bl	system_manage_download_cap
 2094              	.LVL179:
 2095 03c8 0446     		mov	r4, r0
 2096              	.LVL180:
 434:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 2097              		.loc 1 434 13 is_stmt 1 view .LVU494
 2098 03ca 984D     		ldr	r5, .L184+24
 2099 03cc 0146     		mov	r1, r0
 2100 03ce 2846     		mov	r0, r5
 2101              	.LVL181:
 434:App/Src/manager.c ****             log_printf("download success number %d\n", result);
 2102              		.loc 1 434 13 is_stmt 0 view .LVU495
 2103 03d0 FFF7FEFF 		bl	UsbPrintf
 2104              	.LVL182:
 435:App/Src/manager.c **** 			ControlPrintf("okNumber:%d chipName:%d message:烧录完成！\n", result, MAX_CHIP_NUMBER);
 2105              		.loc 1 435 13 is_stmt 1 view .LVU496
 2106 03d4 2146     		mov	r1, r4
 2107 03d6 2846     		mov	r0, r5
 2108 03d8 FFF7FEFF 		bl	log_printf
 2109              	.LVL183:
 436:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2110              		.loc 1 436 4 view .LVU497
 2111 03dc 5422     		movs	r2, #84
 2112 03de 2146     		mov	r1, r4
 2113 03e0 9348     		ldr	r0, .L184+28
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 55


 2114 03e2 FFF7FEFF 		bl	ControlPrintf
 2115              	.LVL184:
 437:App/Src/manager.c ****         break;
 2116              		.loc 1 437 13 view .LVU498
 437:App/Src/manager.c ****         break;
 2117              		.loc 1 437 24 is_stmt 0 view .LVU499
 2118 03e6 8D4B     		ldr	r3, .L184+8
 2119 03e8 0022     		movs	r2, #0
 2120 03ea 1A70     		strb	r2, [r3]
 438:App/Src/manager.c ****         case SYNC_RTC_TIME:
 2121              		.loc 1 438 9 is_stmt 1 view .LVU500
 2122 03ec 27E6     		b	.L108
 2123              	.LVL185:
 2124              	.L115:
 440:App/Src/manager.c ****             count = 0;
 2125              		.loc 1 440 13 view .LVU501
 2126 03ee 04A8     		add	r0, sp, #16
 2127 03f0 FFF7FEFF 		bl	system_get_real_time
 2128              	.LVL186:
 441:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2129              		.loc 1 441 13 view .LVU502
 441:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2130              		.loc 1 441 19 is_stmt 0 view .LVU503
 2131 03f4 0024     		movs	r4, #0
 2132 03f6 8A4B     		ldr	r3, .L184+12
 2133 03f8 1C70     		strb	r4, [r3]
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2134              		.loc 1 442 13 is_stmt 1 view .LVU504
 2135              	.LVL187:
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2136              		.loc 1 442 13 is_stmt 0 view .LVU505
 2137 03fa 0AE0     		b	.L143
 2138              	.LVL188:
 2139              	.L144:
 449:App/Src/manager.c ****                     UsbPrintf("%d sync i2c error\n", i + 1);
 2140              		.loc 1 449 21 is_stmt 1 view .LVU506
 2141 03fc 651C     		adds	r5, r4, #1
 2142 03fe 8D4E     		ldr	r6, .L184+32
 2143 0400 2946     		mov	r1, r5
 2144 0402 3046     		mov	r0, r6
 2145 0404 FFF7FEFF 		bl	log_printf
 2146              	.LVL189:
 450:App/Src/manager.c ****                 }
 2147              		.loc 1 450 21 view .LVU507
 2148 0408 2946     		mov	r1, r5
 2149 040a 3046     		mov	r0, r6
 2150 040c FFF7FEFF 		bl	UsbPrintf
 2151              	.LVL190:
 2152              	.L145:
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2153              		.loc 1 442 46 discriminator 2 view .LVU508
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2154              		.loc 1 442 47 is_stmt 0 discriminator 2 view .LVU509
 2155 0410 0134     		adds	r4, r4, #1
 2156              	.LVL191:
 2157              	.L143:
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 56


 2158              		.loc 1 442 25 is_stmt 1 discriminator 1 view .LVU510
 442:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2159              		.loc 1 442 13 is_stmt 0 discriminator 1 view .LVU511
 2160 0412 532C     		cmp	r4, #83
 2161 0414 18DC     		bgt	.L176
 443:App/Src/manager.c ****                 if (rtc_write_date(&sysTime) == I2C_OK) {
 2162              		.loc 1 443 17 is_stmt 1 view .LVU512
 2163 0416 601C     		adds	r0, r4, #1
 2164 0418 0121     		movs	r1, #1
 2165 041a C0B2     		uxtb	r0, r0
 2166 041c FFF7FEFF 		bl	rtc_group_power
 2167              	.LVL192:
 444:App/Src/manager.c ****                     count++;
 2168              		.loc 1 444 17 view .LVU513
 444:App/Src/manager.c ****                     count++;
 2169              		.loc 1 444 21 is_stmt 0 view .LVU514
 2170 0420 04A8     		add	r0, sp, #16
 2171 0422 FFF7FEFF 		bl	rtc_write_date
 2172              	.LVL193:
 444:App/Src/manager.c ****                     count++;
 2173              		.loc 1 444 20 view .LVU515
 2174 0426 0028     		cmp	r0, #0
 2175 0428 E8D1     		bne	.L144
 445:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2176              		.loc 1 445 21 is_stmt 1 view .LVU516
 445:App/Src/manager.c ****                     log_printf("%d sync success\n", i + 1);
 2177              		.loc 1 445 26 is_stmt 0 view .LVU517
 2178 042a 7D4A     		ldr	r2, .L184+12
 2179 042c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2180 042e 0133     		adds	r3, r3, #1
 2181 0430 1370     		strb	r3, [r2]
 446:App/Src/manager.c ****                     UsbPrintf("%d sync success\n", i + 1);
 2182              		.loc 1 446 21 is_stmt 1 view .LVU518
 2183 0432 651C     		adds	r5, r4, #1
 2184 0434 804E     		ldr	r6, .L184+36
 2185 0436 2946     		mov	r1, r5
 2186 0438 3046     		mov	r0, r6
 2187 043a FFF7FEFF 		bl	log_printf
 2188              	.LVL194:
 447:App/Src/manager.c ****                 } else {
 2189              		.loc 1 447 21 view .LVU519
 2190 043e 2946     		mov	r1, r5
 2191 0440 3046     		mov	r0, r6
 2192 0442 FFF7FEFF 		bl	UsbPrintf
 2193              	.LVL195:
 2194 0446 E3E7     		b	.L145
 2195              	.L176:
 453:App/Src/manager.c ****             log_printf("sync end\n");
 2196              		.loc 1 453 4 view .LVU520
 2197 0448 5422     		movs	r2, #84
 2198 044a 754B     		ldr	r3, .L184+12
 2199 044c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2200 044e 7B48     		ldr	r0, .L184+40
 2201 0450 FFF7FEFF 		bl	ControlPrintf
 2202              	.LVL196:
 454:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2203              		.loc 1 454 13 view .LVU521
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 57


 2204 0454 7A4C     		ldr	r4, .L184+44
 2205              	.LVL197:
 454:App/Src/manager.c ****             UsbPrintf("sync end\n");
 2206              		.loc 1 454 13 is_stmt 0 view .LVU522
 2207 0456 2046     		mov	r0, r4
 2208 0458 FFF7FEFF 		bl	log_printf
 2209              	.LVL198:
 455:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2210              		.loc 1 455 13 is_stmt 1 view .LVU523
 2211 045c 2046     		mov	r0, r4
 2212 045e FFF7FEFF 		bl	UsbPrintf
 2213              	.LVL199:
 456:App/Src/manager.c ****         break;
 2214              		.loc 1 456 13 view .LVU524
 456:App/Src/manager.c ****         break;
 2215              		.loc 1 456 24 is_stmt 0 view .LVU525
 2216 0462 6E4B     		ldr	r3, .L184+8
 2217 0464 0022     		movs	r2, #0
 2218 0466 1A70     		strb	r2, [r3]
 457:App/Src/manager.c ****         case CHECK_ERROR_TIME:
 2219              		.loc 1 457 9 is_stmt 1 view .LVU526
 2220 0468 E9E5     		b	.L108
 2221              	.L114:
 459:App/Src/manager.c ****             count = 0;
 2222              		.loc 1 459 13 view .LVU527
 2223 046a 04A8     		add	r0, sp, #16
 2224 046c FFF7FEFF 		bl	system_get_real_time
 2225              	.LVL200:
 460:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2226              		.loc 1 460 13 view .LVU528
 460:App/Src/manager.c ****             for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2227              		.loc 1 460 19 is_stmt 0 view .LVU529
 2228 0470 0026     		movs	r6, #0
 2229 0472 6B4B     		ldr	r3, .L184+12
 2230 0474 1E70     		strb	r6, [r3]
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2231              		.loc 1 461 13 is_stmt 1 view .LVU530
 2232              	.LVL201:
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2233              		.loc 1 461 13 is_stmt 0 view .LVU531
 2234 0476 12E0     		b	.L147
 2235              	.LVL202:
 2236              	.L149:
 468:App/Src/manager.c ****                     UsbPrintf("chip%d time:%d, all number:%d\n", i + 1, result, count);
 2237              		.loc 1 468 21 is_stmt 1 view .LVU532
 2238 0478 751C     		adds	r5, r6, #1
 2239 047a DFF8A481 		ldr	r8, .L184+12
 2240 047e 714F     		ldr	r7, .L184+48
 2241 0480 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2242 0484 2246     		mov	r2, r4
 2243 0486 2946     		mov	r1, r5
 2244 0488 3846     		mov	r0, r7
 2245 048a FFF7FEFF 		bl	log_printf
 2246              	.LVL203:
 469:App/Src/manager.c ****                 } else {
 2247              		.loc 1 469 21 view .LVU533
 2248 048e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 58


 2249 0492 2246     		mov	r2, r4
 2250 0494 2946     		mov	r1, r5
 2251 0496 3846     		mov	r0, r7
 2252 0498 FFF7FEFF 		bl	UsbPrintf
 2253              	.LVL204:
 2254              	.L150:
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2255              		.loc 1 461 46 discriminator 2 view .LVU534
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2256              		.loc 1 461 47 is_stmt 0 discriminator 2 view .LVU535
 2257 049c 0136     		adds	r6, r6, #1
 2258              	.LVL205:
 2259              	.L147:
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2260              		.loc 1 461 25 is_stmt 1 discriminator 1 view .LVU536
 461:App/Src/manager.c ****                 rtc_group_power(i + 1, POWER_I2C);
 2261              		.loc 1 461 13 is_stmt 0 discriminator 1 view .LVU537
 2262 049e 532E     		cmp	r6, #83
 2263 04a0 27DC     		bgt	.L177
 462:App/Src/manager.c ****                 if (rtc_read_date(&rtcTime) == I2C_OK) {
 2264              		.loc 1 462 17 is_stmt 1 view .LVU538
 2265 04a2 701C     		adds	r0, r6, #1
 2266 04a4 0121     		movs	r1, #1
 2267 04a6 C0B2     		uxtb	r0, r0
 2268 04a8 FFF7FEFF 		bl	rtc_group_power
 2269              	.LVL206:
 463:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2270              		.loc 1 463 17 view .LVU539
 463:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2271              		.loc 1 463 21 is_stmt 0 view .LVU540
 2272 04ac 02A8     		add	r0, sp, #8
 2273 04ae FFF7FEFF 		bl	rtc_read_date
 2274              	.LVL207:
 463:App/Src/manager.c ****                     result = system_tool_calculate_sec(sysTime) - system_tool_calculate_sec(rtcTime
 2275              		.loc 1 463 20 view .LVU541
 2276 04b2 98B9     		cbnz	r0, .L148
 464:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2277              		.loc 1 464 21 is_stmt 1 view .LVU542
 464:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2278              		.loc 1 464 30 is_stmt 0 view .LVU543
 2279 04b4 06AB     		add	r3, sp, #24
 2280 04b6 13E90300 		ldmdb	r3, {r0, r1}
 2281 04ba FFF7FEFF 		bl	system_tool_calculate_sec
 2282              	.LVL208:
 2283 04be 0446     		mov	r4, r0
 464:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2284              		.loc 1 464 67 view .LVU544
 2285 04c0 02AB     		add	r3, sp, #8
 2286 04c2 93E80300 		ldm	r3, {r0, r1}
 2287 04c6 FFF7FEFF 		bl	system_tool_calculate_sec
 2288              	.LVL209:
 464:App/Src/manager.c ****                     if (-5 <= result && result <= 5) {
 2289              		.loc 1 464 28 view .LVU545
 2290 04ca 241A     		subs	r4, r4, r0
 2291              	.LVL210:
 465:App/Src/manager.c ****                         count++;
 2292              		.loc 1 465 21 is_stmt 1 view .LVU546
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 59


 465:App/Src/manager.c ****                         count++;
 2293              		.loc 1 465 38 is_stmt 0 view .LVU547
 2294 04cc 631D     		adds	r3, r4, #5
 465:App/Src/manager.c ****                         count++;
 2295              		.loc 1 465 24 view .LVU548
 2296 04ce 0A2B     		cmp	r3, #10
 2297 04d0 D2D8     		bhi	.L149
 466:App/Src/manager.c ****                     } 
 2298              		.loc 1 466 25 is_stmt 1 view .LVU549
 466:App/Src/manager.c ****                     } 
 2299              		.loc 1 466 30 is_stmt 0 view .LVU550
 2300 04d2 534A     		ldr	r2, .L184+12
 2301 04d4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2302 04d6 0133     		adds	r3, r3, #1
 2303 04d8 1370     		strb	r3, [r2]
 2304 04da CDE7     		b	.L149
 2305              	.LVL211:
 2306              	.L148:
 471:App/Src/manager.c ****                     UsbPrintf("%d i2c error\n", i + 1);
 2307              		.loc 1 471 21 is_stmt 1 view .LVU551
 2308 04dc 741C     		adds	r4, r6, #1
 2309 04de 5A4D     		ldr	r5, .L184+52
 2310 04e0 2146     		mov	r1, r4
 2311 04e2 2846     		mov	r0, r5
 2312 04e4 FFF7FEFF 		bl	log_printf
 2313              	.LVL212:
 472:App/Src/manager.c ****                 }
 2314              		.loc 1 472 21 view .LVU552
 2315 04e8 2146     		mov	r1, r4
 2316 04ea 2846     		mov	r0, r5
 2317 04ec FFF7FEFF 		bl	UsbPrintf
 2318              	.LVL213:
 2319 04f0 D4E7     		b	.L150
 2320              	.L177:
 475:App/Src/manager.c ****             log_printf("check end\n");
 2321              		.loc 1 475 4 view .LVU553
 2322 04f2 5422     		movs	r2, #84
 2323 04f4 4A4B     		ldr	r3, .L184+12
 2324 04f6 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2325 04f8 5448     		ldr	r0, .L184+56
 2326 04fa FFF7FEFF 		bl	ControlPrintf
 2327              	.LVL214:
 476:App/Src/manager.c ****             UsbPrintf("check end\n");
 2328              		.loc 1 476 13 view .LVU554
 2329 04fe 544C     		ldr	r4, .L184+60
 2330 0500 2046     		mov	r0, r4
 2331 0502 FFF7FEFF 		bl	log_printf
 2332              	.LVL215:
 477:App/Src/manager.c ****             g_testMode = FREE_MODE;
 2333              		.loc 1 477 13 view .LVU555
 2334 0506 2046     		mov	r0, r4
 2335 0508 FFF7FEFF 		bl	UsbPrintf
 2336              	.LVL216:
 478:App/Src/manager.c ****         break;
 2337              		.loc 1 478 13 view .LVU556
 478:App/Src/manager.c ****         break;
 2338              		.loc 1 478 24 is_stmt 0 view .LVU557
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 60


 2339 050c 434B     		ldr	r3, .L184+8
 2340 050e 0022     		movs	r2, #0
 2341 0510 1A70     		strb	r2, [r3]
 479:App/Src/manager.c ****         case MACHINE_TEST://仅测试，不写入
 2342              		.loc 1 479 9 is_stmt 1 view .LVU558
 2343 0512 94E5     		b	.L108
 2344              	.LVL217:
 2345              	.L113:
 481:App/Src/manager.c ****                 count = 1;
 2346              		.loc 1 481 13 view .LVU559
 481:App/Src/manager.c ****                 count = 1;
 2347              		.loc 1 481 23 is_stmt 0 view .LVU560
 2348 0514 424B     		ldr	r3, .L184+12
 2349 0516 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 481:App/Src/manager.c ****                 count = 1;
 2350              		.loc 1 481 16 view .LVU561
 2351 0518 98B1     		cbz	r0, .L178
 484:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2352              		.loc 1 484 20 is_stmt 1 view .LVU562
 484:App/Src/manager.c ****                 result = system_machine_test_one(count, 0);
 2353              		.loc 1 484 23 is_stmt 0 view .LVU563
 2354 051a 5428     		cmp	r0, #84
 2355 051c 3FF68FAD 		bhi	.L108
 485:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2356              		.loc 1 485 17 is_stmt 1 view .LVU564
 485:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2357              		.loc 1 485 26 is_stmt 0 view .LVU565
 2358 0520 0021     		movs	r1, #0
 2359 0522 FFF7FEFF 		bl	system_machine_test_one
 2360              	.LVL218:
 486:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2361              		.loc 1 486 17 is_stmt 1 view .LVU566
 486:App/Src/manager.c ****                     // ControlPrintf("chip %d is %d", count, result);
 2362              		.loc 1 486 20 is_stmt 0 view .LVU567
 2363 0526 0028     		cmp	r0, #0
 2364 0528 3FF489AD 		beq	.L108
 488:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2365              		.loc 1 488 21 is_stmt 1 view .LVU568
 488:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2366              		.loc 1 488 24 is_stmt 0 view .LVU569
 2367 052c 0028     		cmp	r0, #0
 2368 052e 26DD     		ble	.L153
 489:App/Src/manager.c ****                         result = 0;
 2369              		.loc 1 489 25 is_stmt 1 view .LVU570
 489:App/Src/manager.c ****                         result = 0;
 2370              		.loc 1 489 42 is_stmt 0 view .LVU571
 2371 0530 3B4B     		ldr	r3, .L184+12
 2372 0532 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2373 0534 531E     		subs	r3, r2, #1
 489:App/Src/manager.c ****                         result = 0;
 2374              		.loc 1 489 47 view .LVU572
 2375 0536 3849     		ldr	r1, .L184+4
 2376 0538 3120     		movs	r0, #49
 2377              	.LVL219:
 489:App/Src/manager.c ****                         result = 0;
 2378              		.loc 1 489 47 view .LVU573
 2379 053a C854     		strb	r0, [r1, r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 61


 490:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2380              		.loc 1 490 25 is_stmt 1 view .LVU574
 2381              	.LVL220:
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2382              		.loc 1 491 25 view .LVU575
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2383              		.loc 1 491 32 is_stmt 0 view .LVU576
 2384 053c 0023     		movs	r3, #0
 490:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2385              		.loc 1 490 32 view .LVU577
 2386 053e 1946     		mov	r1, r3
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2387              		.loc 1 491 25 view .LVU578
 2388 0540 06E0     		b	.L154
 2389              	.LVL221:
 2390              	.L178:
 482:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2391              		.loc 1 482 17 is_stmt 1 view .LVU579
 482:App/Src/manager.c ****                 system_machine_test_one(count, 1);
 2392              		.loc 1 482 23 is_stmt 0 view .LVU580
 2393 0542 0120     		movs	r0, #1
 2394 0544 1870     		strb	r0, [r3]
 483:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2395              		.loc 1 483 17 is_stmt 1 view .LVU581
 2396 0546 0146     		mov	r1, r0
 2397 0548 FFF7FEFF 		bl	system_machine_test_one
 2398              	.LVL222:
 2399 054c 77E5     		b	.L108
 2400              	.LVL223:
 2401              	.L155:
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2402              		.loc 1 491 58 discriminator 2 view .LVU582
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2403              		.loc 1 491 59 is_stmt 0 discriminator 2 view .LVU583
 2404 054e 0133     		adds	r3, r3, #1
 2405              	.LVL224:
 2406              	.L154:
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2407              		.loc 1 491 37 is_stmt 1 discriminator 1 view .LVU584
 491:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2408              		.loc 1 491 25 is_stmt 0 discriminator 1 view .LVU585
 2409 0550 532B     		cmp	r3, #83
 2410 0552 05DC     		bgt	.L179
 492:App/Src/manager.c ****                         }
 2411              		.loc 1 492 29 is_stmt 1 view .LVU586
 492:App/Src/manager.c ****                         }
 2412              		.loc 1 492 43 is_stmt 0 view .LVU587
 2413 0554 3048     		ldr	r0, .L184+4
 2414 0556 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 492:App/Src/manager.c ****                         }
 2415              		.loc 1 492 32 view .LVU588
 2416 0558 3128     		cmp	r0, #49
 2417 055a F8D1     		bne	.L155
 492:App/Src/manager.c ****                         }
 2418              		.loc 1 492 57 is_stmt 1 discriminator 1 view .LVU589
 492:App/Src/manager.c ****                         }
 2419              		.loc 1 492 63 is_stmt 0 discriminator 1 view .LVU590
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 62


 2420 055c 0131     		adds	r1, r1, #1
 2421              	.LVL225:
 492:App/Src/manager.c ****                         }
 2422              		.loc 1 492 63 discriminator 1 view .LVU591
 2423 055e F6E7     		b	.L155
 2424              	.L179:
 494:App/Src/manager.c ****                     } else {
 2425              		.loc 1 494 25 is_stmt 1 view .LVU592
 2426 0560 3C48     		ldr	r0, .L184+64
 2427 0562 FFF7FEFF 		bl	ControlPrintf
 2428              	.LVL226:
 2429              	.L157:
 499:App/Src/manager.c ****                         count++;
 2430              		.loc 1 499 21 view .LVU593
 499:App/Src/manager.c ****                         count++;
 2431              		.loc 1 499 31 is_stmt 0 view .LVU594
 2432 0566 2E4B     		ldr	r3, .L184+12
 2433 0568 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 499:App/Src/manager.c ****                         count++;
 2434              		.loc 1 499 24 view .LVU595
 2435 056a 532B     		cmp	r3, #83
 2436 056c 11D8     		bhi	.L158
 500:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2437              		.loc 1 500 25 is_stmt 1 view .LVU596
 500:App/Src/manager.c ****                         system_machine_test_one(count, 1);
 2438              		.loc 1 500 30 is_stmt 0 view .LVU597
 2439 056e 0133     		adds	r3, r3, #1
 2440 0570 D8B2     		uxtb	r0, r3
 2441 0572 2B4B     		ldr	r3, .L184+12
 2442 0574 1870     		strb	r0, [r3]
 501:App/Src/manager.c ****                     } else {
 2443              		.loc 1 501 25 is_stmt 1 view .LVU598
 2444 0576 0121     		movs	r1, #1
 2445 0578 FFF7FEFF 		bl	system_machine_test_one
 2446              	.LVL227:
 2447 057c 5FE5     		b	.L108
 2448              	.LVL228:
 2449              	.L153:
 496:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2450              		.loc 1 496 25 view .LVU599
 496:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2451              		.loc 1 496 42 is_stmt 0 view .LVU600
 2452 057e 284B     		ldr	r3, .L184+12
 2453 0580 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2454 0582 4B1E     		subs	r3, r1, #1
 496:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2455              		.loc 1 496 47 view .LVU601
 2456 0584 244A     		ldr	r2, .L184+4
 2457 0586 FF20     		movs	r0, #255
 2458              	.LVL229:
 496:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2459              		.loc 1 496 47 view .LVU602
 2460 0588 D054     		strb	r0, [r2, r3]
 497:App/Src/manager.c ****                     }
 2461              		.loc 1 497 25 is_stmt 1 view .LVU603
 2462 058a 3348     		ldr	r0, .L184+68
 2463 058c FFF7FEFF 		bl	ControlPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 63


 2464              	.LVL230:
 2465 0590 E9E7     		b	.L157
 2466              	.L158:
 503:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2467              		.loc 1 503 25 view .LVU604
 503:App/Src/manager.c ****                         ControlPrintf("message:测试完成\n");
 2468              		.loc 1 503 31 is_stmt 0 view .LVU605
 2469 0592 0024     		movs	r4, #0
 2470 0594 224B     		ldr	r3, .L184+12
 2471 0596 1C70     		strb	r4, [r3]
 504:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2472              		.loc 1 504 25 is_stmt 1 view .LVU606
 2473 0598 3048     		ldr	r0, .L184+72
 2474 059a FFF7FEFF 		bl	ControlPrintf
 2475              	.LVL231:
 505:App/Src/manager.c ****                         break;
 2476              		.loc 1 505 25 view .LVU607
 505:App/Src/manager.c ****                         break;
 2477              		.loc 1 505 36 is_stmt 0 view .LVU608
 2478 059e 1F4B     		ldr	r3, .L184+8
 2479 05a0 1C70     		strb	r4, [r3]
 506:App/Src/manager.c ****                     }
 2480              		.loc 1 506 25 is_stmt 1 view .LVU609
 2481 05a2 4CE5     		b	.L108
 2482              	.LVL232:
 2483              	.L159:
 513:App/Src/manager.c ****             }
 2484              		.loc 1 513 17 discriminator 3 view .LVU610
 513:App/Src/manager.c ****             }
 2485              		.loc 1 513 31 is_stmt 0 discriminator 3 view .LVU611
 2486 05a4 1C4A     		ldr	r2, .L184+4
 2487 05a6 FF21     		movs	r1, #255
 2488 05a8 D154     		strb	r1, [r2, r3]
 512:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2489              		.loc 1 512 46 is_stmt 1 discriminator 3 view .LVU612
 512:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2490              		.loc 1 512 47 is_stmt 0 discriminator 3 view .LVU613
 2491 05aa 0133     		adds	r3, r3, #1
 2492              	.LVL233:
 2493              	.L112:
 512:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2494              		.loc 1 512 25 is_stmt 1 discriminator 1 view .LVU614
 512:App/Src/manager.c ****                 g_testFlag[i] = 0xff;
 2495              		.loc 1 512 13 is_stmt 0 discriminator 1 view .LVU615
 2496 05ac 532B     		cmp	r3, #83
 2497 05ae F9DD     		ble	.L159
 515:App/Src/manager.c ****             flash_test_data_clear(FLASH_CLEAR_MACHINE);
 2498              		.loc 1 515 13 is_stmt 1 view .LVU616
 2499 05b0 0222     		movs	r2, #2
 2500 05b2 0421     		movs	r1, #4
 2501 05b4 1848     		ldr	r0, .L184+4
 2502 05b6 FFF7FEFF 		bl	flash_test_flag_manage
 2503              	.LVL234:
 516:App/Src/manager.c ****             g_testMode = MACHINE_WRITE;
 2504              		.loc 1 516 13 view .LVU617
 2505 05ba 0620     		movs	r0, #6
 2506 05bc FFF7FEFF 		bl	flash_test_data_clear
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 64


 2507              	.LVL235:
 517:App/Src/manager.c ****             count = 0;
 2508              		.loc 1 517 13 view .LVU618
 517:App/Src/manager.c ****             count = 0;
 2509              		.loc 1 517 24 is_stmt 0 view .LVU619
 2510 05c0 164B     		ldr	r3, .L184+8
 2511 05c2 0B22     		movs	r2, #11
 2512 05c4 1A70     		strb	r2, [r3]
 518:App/Src/manager.c ****         break;
 2513              		.loc 1 518 13 is_stmt 1 view .LVU620
 518:App/Src/manager.c ****         break;
 2514              		.loc 1 518 19 is_stmt 0 view .LVU621
 2515 05c6 164B     		ldr	r3, .L184+12
 2516 05c8 0022     		movs	r2, #0
 2517 05ca 1A70     		strb	r2, [r3]
 519:App/Src/manager.c ****         case MACHINE_WRITE://测试后写入
 2518              		.loc 1 519 9 is_stmt 1 view .LVU622
 2519 05cc 37E5     		b	.L108
 2520              	.L169:
 301:App/Src/manager.c ****         case FREE_MODE:// free mode
 2521              		.loc 1 301 5 is_stmt 0 view .LVU623
 2522 05ce 0023     		movs	r3, #0
 2523 05d0 ECE7     		b	.L112
 2524              	.L110:
 521:App/Src/manager.c ****                 count = 1;
 2525              		.loc 1 521 13 is_stmt 1 view .LVU624
 521:App/Src/manager.c ****                 count = 1;
 2526              		.loc 1 521 28 is_stmt 0 view .LVU625
 2527 05d2 134B     		ldr	r3, .L184+12
 2528 05d4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2529 05d6 431E     		subs	r3, r0, #1
 2530 05d8 DBB2     		uxtb	r3, r3
 521:App/Src/manager.c ****                 count = 1;
 2531              		.loc 1 521 16 view .LVU626
 2532 05da 532B     		cmp	r3, #83
 2533 05dc 13D8     		bhi	.L180
 524:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2534              		.loc 1 524 20 is_stmt 1 view .LVU627
 524:App/Src/manager.c ****                 result = system_machine_write_one(count, 0);
 2535              		.loc 1 524 23 is_stmt 0 view .LVU628
 2536 05de 5428     		cmp	r0, #84
 2537 05e0 3FF62DAD 		bhi	.L108
 525:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2538              		.loc 1 525 17 is_stmt 1 view .LVU629
 525:App/Src/manager.c ****                 if (result != 0) {//不为0才表示测试结束
 2539              		.loc 1 525 26 is_stmt 0 view .LVU630
 2540 05e4 0021     		movs	r1, #0
 2541 05e6 FFF7FEFF 		bl	system_machine_write_one
 2542              	.LVL236:
 526:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2543              		.loc 1 526 17 is_stmt 1 view .LVU631
 526:App/Src/manager.c ****                     // ControlPrintf("chip:%d is %d", count, result);
 2544              		.loc 1 526 20 is_stmt 0 view .LVU632
 2545 05ea 0028     		cmp	r0, #0
 2546 05ec 3FF427AD 		beq	.L108
 528:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2547              		.loc 1 528 21 is_stmt 1 view .LVU633
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 65


 528:App/Src/manager.c ****                         g_testFlag[count - 1] = '1';
 2548              		.loc 1 528 24 is_stmt 0 view .LVU634
 2549 05f0 0028     		cmp	r0, #0
 2550 05f2 4DDD     		ble	.L161
 529:App/Src/manager.c ****                         result = 0;
 2551              		.loc 1 529 25 is_stmt 1 view .LVU635
 529:App/Src/manager.c ****                         result = 0;
 2552              		.loc 1 529 42 is_stmt 0 view .LVU636
 2553 05f4 0A4B     		ldr	r3, .L184+12
 2554 05f6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2555 05f8 531E     		subs	r3, r2, #1
 529:App/Src/manager.c ****                         result = 0;
 2556              		.loc 1 529 47 view .LVU637
 2557 05fa 0749     		ldr	r1, .L184+4
 2558 05fc 3120     		movs	r0, #49
 2559              	.LVL237:
 529:App/Src/manager.c ****                         result = 0;
 2560              		.loc 1 529 47 view .LVU638
 2561 05fe C854     		strb	r0, [r1, r3]
 530:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2562              		.loc 1 530 25 is_stmt 1 view .LVU639
 2563              	.LVL238:
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2564              		.loc 1 531 25 view .LVU640
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2565              		.loc 1 531 32 is_stmt 0 view .LVU641
 2566 0600 0023     		movs	r3, #0
 530:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2567              		.loc 1 530 32 view .LVU642
 2568 0602 1946     		mov	r1, r3
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2569              		.loc 1 531 25 view .LVU643
 2570 0604 2DE0     		b	.L162
 2571              	.LVL239:
 2572              	.L180:
 522:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2573              		.loc 1 522 17 is_stmt 1 view .LVU644
 522:App/Src/manager.c ****                 system_machine_write_one(count, 1);
 2574              		.loc 1 522 23 is_stmt 0 view .LVU645
 2575 0606 0120     		movs	r0, #1
 2576 0608 054B     		ldr	r3, .L184+12
 2577 060a 1870     		strb	r0, [r3]
 523:App/Src/manager.c ****             } else if (count <= MAX_CHIP_NUMBER) {
 2578              		.loc 1 523 17 is_stmt 1 view .LVU646
 2579 060c 0146     		mov	r1, r0
 2580 060e FFF7FEFF 		bl	system_machine_write_one
 2581              	.LVL240:
 2582 0612 14E5     		b	.L108
 2583              	.L185:
 2584              		.align	2
 2585              	.L184:
 2586 0614 00000000 		.word	.LANCHOR3
 2587 0618 00000000 		.word	.LANCHOR1
 2588 061c 00000000 		.word	.LANCHOR0
 2589 0620 00000000 		.word	.LANCHOR5
 2590 0624 7C010000 		.word	.LC29
 2591 0628 9C010000 		.word	.LC30
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 66


 2592 062c C8010000 		.word	.LC31
 2593 0630 E4010000 		.word	.LC32
 2594 0634 24020000 		.word	.LC34
 2595 0638 10020000 		.word	.LC33
 2596 063c 38020000 		.word	.LC35
 2597 0640 68020000 		.word	.LC36
 2598 0644 74020000 		.word	.LC37
 2599 0648 94020000 		.word	.LC38
 2600 064c A4020000 		.word	.LC39
 2601 0650 D4020000 		.word	.LC40
 2602 0654 E0020000 		.word	.LC41
 2603 0658 04030000 		.word	.LC42
 2604 065c 20030000 		.word	.LC43
 2605              	.LVL241:
 2606              	.L163:
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2607              		.loc 1 531 58 discriminator 2 view .LVU647
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2608              		.loc 1 531 59 is_stmt 0 discriminator 2 view .LVU648
 2609 0660 0133     		adds	r3, r3, #1
 2610              	.LVL242:
 2611              	.L162:
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2612              		.loc 1 531 37 is_stmt 1 discriminator 1 view .LVU649
 531:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2613              		.loc 1 531 25 is_stmt 0 discriminator 1 view .LVU650
 2614 0662 532B     		cmp	r3, #83
 2615 0664 05DC     		bgt	.L181
 532:App/Src/manager.c ****                         }
 2616              		.loc 1 532 29 is_stmt 1 view .LVU651
 532:App/Src/manager.c ****                         }
 2617              		.loc 1 532 43 is_stmt 0 view .LVU652
 2618 0666 1948     		ldr	r0, .L186
 2619 0668 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 532:App/Src/manager.c ****                         }
 2620              		.loc 1 532 32 view .LVU653
 2621 066a 3128     		cmp	r0, #49
 2622 066c F8D1     		bne	.L163
 532:App/Src/manager.c ****                         }
 2623              		.loc 1 532 57 is_stmt 1 discriminator 1 view .LVU654
 532:App/Src/manager.c ****                         }
 2624              		.loc 1 532 63 is_stmt 0 discriminator 1 view .LVU655
 2625 066e 0131     		adds	r1, r1, #1
 2626              	.LVL243:
 532:App/Src/manager.c ****                         }
 2627              		.loc 1 532 63 discriminator 1 view .LVU656
 2628 0670 F6E7     		b	.L163
 2629              	.L181:
 534:App/Src/manager.c ****                     } else {
 2630              		.loc 1 534 25 is_stmt 1 view .LVU657
 2631 0672 1748     		ldr	r0, .L186+4
 2632 0674 FFF7FEFF 		bl	ControlPrintf
 2633              	.LVL244:
 2634              	.L165:
 539:App/Src/manager.c ****                         count++;
 2635              		.loc 1 539 21 view .LVU658
 539:App/Src/manager.c ****                         count++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 67


 2636              		.loc 1 539 31 is_stmt 0 view .LVU659
 2637 0678 164B     		ldr	r3, .L186+8
 2638 067a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 539:App/Src/manager.c ****                         count++;
 2639              		.loc 1 539 24 view .LVU660
 2640 067c 532B     		cmp	r3, #83
 2641 067e 11D8     		bhi	.L166
 540:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2642              		.loc 1 540 25 is_stmt 1 view .LVU661
 540:App/Src/manager.c ****                         system_machine_write_one(count, 1);
 2643              		.loc 1 540 30 is_stmt 0 view .LVU662
 2644 0680 0133     		adds	r3, r3, #1
 2645 0682 D8B2     		uxtb	r0, r3
 2646 0684 134B     		ldr	r3, .L186+8
 2647 0686 1870     		strb	r0, [r3]
 541:App/Src/manager.c ****                     } else {
 2648              		.loc 1 541 25 is_stmt 1 view .LVU663
 2649 0688 0121     		movs	r1, #1
 2650 068a FFF7FEFF 		bl	system_machine_write_one
 2651              	.LVL245:
 2652 068e D6E4     		b	.L108
 2653              	.LVL246:
 2654              	.L161:
 536:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2655              		.loc 1 536 25 view .LVU664
 536:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2656              		.loc 1 536 42 is_stmt 0 view .LVU665
 2657 0690 104B     		ldr	r3, .L186+8
 2658 0692 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2659 0694 4B1E     		subs	r3, r1, #1
 536:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2660              		.loc 1 536 47 view .LVU666
 2661 0696 0D4A     		ldr	r2, .L186
 2662 0698 FF20     		movs	r0, #255
 2663              	.LVL247:
 536:App/Src/manager.c ****                         ControlPrintf("chipName:%d message:fail\n", count);
 2664              		.loc 1 536 47 view .LVU667
 2665 069a D054     		strb	r0, [r2, r3]
 537:App/Src/manager.c ****                     }
 2666              		.loc 1 537 25 is_stmt 1 view .LVU668
 2667 069c 0E48     		ldr	r0, .L186+12
 2668 069e FFF7FEFF 		bl	ControlPrintf
 2669              	.LVL248:
 2670 06a2 E9E7     		b	.L165
 2671              	.L166:
 543:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2672              		.loc 1 543 25 view .LVU669
 543:App/Src/manager.c ****                         flash_test_flag_manage(g_testFlag, FLAG_MACHINE, FLASH_FLAG_WRITE_ADD);
 2673              		.loc 1 543 31 is_stmt 0 view .LVU670
 2674 06a4 0024     		movs	r4, #0
 2675 06a6 0B4B     		ldr	r3, .L186+8
 2676 06a8 1C70     		strb	r4, [r3]
 544:App/Src/manager.c ****                         result = 0;
 2677              		.loc 1 544 25 is_stmt 1 view .LVU671
 2678 06aa 0122     		movs	r2, #1
 2679 06ac 0421     		movs	r1, #4
 2680 06ae 0748     		ldr	r0, .L186
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 68


 2681 06b0 FFF7FEFF 		bl	flash_test_flag_manage
 2682              	.LVL249:
 545:App/Src/manager.c ****                         for (i = 0; i < MAX_CHIP_NUMBER; i++) {
 2683              		.loc 1 545 25 view .LVU672
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2684              		.loc 1 546 25 view .LVU673
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2685              		.loc 1 546 32 is_stmt 0 view .LVU674
 2686 06b4 2346     		mov	r3, r4
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2687              		.loc 1 546 25 view .LVU675
 2688 06b6 00E0     		b	.L167
 2689              	.LVL250:
 2690              	.L168:
 547:App/Src/manager.c ****                         }
 2691              		.loc 1 547 29 is_stmt 1 view .LVU676
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2692              		.loc 1 546 58 view .LVU677
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2693              		.loc 1 546 59 is_stmt 0 view .LVU678
 2694 06b8 0133     		adds	r3, r3, #1
 2695              	.LVL251:
 2696              	.L167:
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2697              		.loc 1 546 37 is_stmt 1 discriminator 1 view .LVU679
 546:App/Src/manager.c ****                             if (g_testFlag[i] == '1') { result++; }
 2698              		.loc 1 546 25 is_stmt 0 discriminator 1 view .LVU680
 2699 06ba 532B     		cmp	r3, #83
 2700 06bc FCDD     		ble	.L168
 549:App/Src/manager.c ****                         g_testMode = FREE_MODE;
 2701              		.loc 1 549 25 is_stmt 1 view .LVU681
 2702 06be 0748     		ldr	r0, .L186+16
 2703 06c0 FFF7FEFF 		bl	ControlPrintf
 2704              	.LVL252:
 550:App/Src/manager.c ****                     }
 2705              		.loc 1 550 25 view .LVU682
 550:App/Src/manager.c ****                     }
 2706              		.loc 1 550 36 is_stmt 0 view .LVU683
 2707 06c4 064B     		ldr	r3, .L186+20
 2708 06c6 0022     		movs	r2, #0
 2709 06c8 1A70     		strb	r2, [r3]
 2710              		.loc 1 557 1 view .LVU684
 2711 06ca B8E4     		b	.L108
 2712              	.L187:
 2713              		.align	2
 2714              	.L186:
 2715 06cc 00000000 		.word	.LANCHOR1
 2716 06d0 E0020000 		.word	.LC41
 2717 06d4 00000000 		.word	.LANCHOR5
 2718 06d8 04030000 		.word	.LC42
 2719 06dc 20030000 		.word	.LC43
 2720 06e0 00000000 		.word	.LANCHOR0
 2721              		.cfi_endproc
 2722              	.LFE246:
 2724              		.global	g_testFlag
 2725              		.global	g_capAdjust
 2726              		.section	.bss.count.0,"aw",%nobits
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 69


 2727              		.set	.LANCHOR5,. + 0
 2730              	count.0:
 2731 0000 00       		.space	1
 2732              		.section	.bss.g_capAdjust,"aw",%nobits
 2733              		.align	2
 2734              		.set	.LANCHOR6,. + 0
 2737              	g_capAdjust:
 2738 0000 00000000 		.space	20
 2738      00000000 
 2738      00000000 
 2738      00000000 
 2738      00000000 
 2739              		.section	.bss.g_oneData,"aw",%nobits
 2740              		.align	2
 2741              		.set	.LANCHOR3,. + 0
 2744              	g_oneData:
 2745 0000 00000000 		.space	760
 2745      00000000 
 2745      00000000 
 2745      00000000 
 2745      00000000 
 2746              		.section	.bss.g_testFlag,"aw",%nobits
 2747              		.align	2
 2748              		.set	.LANCHOR1,. + 0
 2751              	g_testFlag:
 2752 0000 00000000 		.space	84
 2752      00000000 
 2752      00000000 
 2752      00000000 
 2752      00000000 
 2753              		.section	.bss.g_testMode,"aw",%nobits
 2754              		.set	.LANCHOR0,. + 0
 2757              	g_testMode:
 2758 0000 00       		.space	1
 2759              		.section	.bss.state.1,"aw",%nobits
 2760              		.set	.LANCHOR4,. + 0
 2763              	state.1:
 2764 0000 00       		.space	1
 2765              		.section	.data.lastChannel.2,"aw"
 2766              		.align	2
 2767              		.set	.LANCHOR2,. + 0
 2770              	lastChannel.2:
 2771 0000 FFFFFFFF 		.word	-1
 2772              		.text
 2773              	.Letext0:
 2774              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 2775              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2776              		.file 4 "Core/Inc/main.h"
 2777              		.file 5 "App/Inc/manager.h"
 2778              		.file 6 "Device/Inc/flash.h"
 2779              		.file 7 "Drivers/User_Driver/Inc/soft_i2c.h"
 2780              		.file 8 "Drivers/User_Driver/Inc/rtc_i2c.h"
 2781              		.file 9 "App/Inc/calculate.h"
 2782              		.file 10 "Device/Inc/power.h"
 2783              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2784              		.file 12 "Device/Inc/temp.h"
 2785              		.file 13 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\string.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 70


 2786              		.file 14 "App/Inc/task.h"
 2787              		.file 15 "Device/Inc/drv_wave1006.h"
 2788              		.file 16 "Device/Inc/rtc.h"
 2789              		.file 17 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 71


DEFINED SYMBOLS
                            *ABS*:00000000 manager.c
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:20     .text.manager_set_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:26     .text.manager_set_mode:00000000 manager_set_mode
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:44     .text.manager_set_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:49     .text.manager_get_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:55     .text.manager_get_mode:00000000 manager_get_mode
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:70     .text.manager_get_mode:00000008 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:75     .text.system_voltage_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:81     .text.system_voltage_test:00000000 system_voltage_test
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:99     .rodata.system_manage_temp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:125    .text.system_manage_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:131    .text.system_manage_temp:00000000 system_manage_temp
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:443    .text.system_manage_temp:0000019c $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:456    .rodata.system_manage_download_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:466    .text.system_manage_download_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:472    .text.system_manage_download_cap:00000000 system_manage_download_cap
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:606    .text.system_manage_download_cap:00000090 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:614    .rodata.system_set_int.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:618    .text.system_set_int:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:624    .text.system_set_int:00000000 system_set_int
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:703    .text.system_set_int:00000050 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:709    .text.check_system_temp:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:715    .text.check_system_temp:00000000 check_system_temp
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:829    .text.check_system_temp:000000b0 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:840    .text.systm_cap_save_buffer:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:846    .text.systm_cap_save_buffer:00000000 systm_cap_save_buffer
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:906    .text.systm_cap_save_buffer:0000003c $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:911    .text.system_check_test_dot:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:917    .text.system_check_test_dot:00000000 system_check_test_dot
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1008   .text.system_cap_write_flash:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1014   .text.system_cap_write_flash:00000000 system_cap_write_flash
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1138   .text.system_cap_write_flash:0000008c $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1143   .rodata.system_tool_calculate_sec.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1147   .text.system_tool_calculate_sec:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1153   .text.system_tool_calculate_sec:00000000 system_tool_calculate_sec
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1290   .text.system_tool_calculate_sec:0000009c $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1296   .rodata.system_manage_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1396   .text.system_manage_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1402   .text.system_manage_test_mode:00000000 system_manage_test_mode
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1440   .text.system_manage_test_mode:0000001c $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1452   .text.system_manage_test_mode:00000034 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1954   .text.system_manage_test_mode:000002e0 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:1983   .text.system_manage_test_mode:00000344 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2586   .text.system_manage_test_mode:00000614 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2609   .text.system_manage_test_mode:00000660 $t
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2715   .text.system_manage_test_mode:000006cc $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2751   .bss.g_testFlag:00000000 g_testFlag
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2737   .bss.g_capAdjust:00000000 g_capAdjust
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2730   .bss.count.0:00000000 count.0
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2731   .bss.count.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2733   .bss.g_capAdjust:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2740   .bss.g_oneData:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2744   .bss.g_oneData:00000000 g_oneData
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2747   .bss.g_testFlag:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2757   .bss.g_testMode:00000000 g_testMode
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2758   .bss.g_testMode:00000000 $d
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s 			page 72


C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2763   .bss.state.1:00000000 state.1
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2764   .bss.state.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2766   .data.lastChannel.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc6hnoUx.s:2770   .data.lastChannel.2:00000000 lastChannel.2

UNDEFINED SYMBOLS
__aeabi_f2d
memset
temp_read_value
log_printf
UsbPrintf
flash_test_flag_manage
ControlPrintf
rtc_1006_exit_testmode
rtc_group_power
rtc_1006_set_testmode
HAL_Delay
system_get_rtc_temp
rtc_convert_temp_offset
flash_test_data_write_add
sd8800_write_otp
rtc_disable_int
rtc_out_4096
flash_read_data
float_to_uint8
flash_write_data
rtc_set_channel
rtc_read_multi_bytes
rtc_freq_test
flash_test_data_clear
sd8800_calcul_cap
system_get_real_time
rtc_write_date
rtc_read_date
system_machine_test_one
system_machine_write_one
