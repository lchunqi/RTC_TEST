ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"drv_wave1006.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.otp_prg_power_ctrl,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	otp_prg_power_ctrl:
  26              	.LVL0:
  27              	.LFB236:
  28              		.file 1 "Device/Src/drv_wave1006.c"
   1:Device/Src/drv_wave1006.c **** /*
   2:Device/Src/drv_wave1006.c ****  *  drivers  wave1006
   3:Device/Src/drv_wave1006.c ****  * Copyright (C) 2022 shenzhen wave
   4:Device/Src/drv_wave1006.c ****  * version:v1.0.0--2023-2-12
   5:Device/Src/drv_wave1006.c ****  * This program is free software; you can redistribute it and/or modify
   6:Device/Src/drv_wave1006.c ****  *  Driver for wave1006 RTC 
   7:Device/Src/drv_wave1006.c ****  */
   8:Device/Src/drv_wave1006.c **** #include "drv_wave1006.h"
   9:Device/Src/drv_wave1006.c **** #include "rtc_i2c.h"
  10:Device/Src/drv_wave1006.c **** #include "power.h"
  11:Device/Src/drv_wave1006.c **** #include "calculate.h"
  12:Device/Src/drv_wave1006.c **** #include "rtc.h"
  13:Device/Src/drv_wave1006.c **** #include "flash.h"
  14:Device/Src/drv_wave1006.c **** #define BIT(x)  (1 << x)
  15:Device/Src/drv_wave1006.c **** 
  16:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_RESET_SEQ1          0x00
  17:Device/Src/drv_wave1006.c **** /*enable write protect sequence*/
  18:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ1         0x54
  19:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ2         0x28
  20:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ3         0x5C
  21:Device/Src/drv_wave1006.c **** 
  22:Device/Src/drv_wave1006.c **** /*disable write protect sequence*/
  23:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ1        0x70
  24:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ2        0x0C
  25:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ3        0x38
  26:Device/Src/drv_wave1006.c **** 
  27:Device/Src/drv_wave1006.c **** 
  28:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd3068_config;     //otp_config.c中定义的烧写基本结构体
  29:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8825_config;
  30:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8800_config;     
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 2


  31:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8810_config;
  32:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8804_config;
  33:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8931_config;
  34:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8939_config;
  35:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8200_config;
  36:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8840_config;
  37:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8902_config;
  38:Device/Src/drv_wave1006.c **** 
  39:Device/Src/drv_wave1006.c **** #if (VERSION_SELECT == VERSION_SD8804)
  40:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8804_config = {
  41:Device/Src/drv_wave1006.c **** 	0,         		//otp_wp_config
  42:Device/Src/drv_wave1006.c **** 	1,         		//test_wp_config
  43:Device/Src/drv_wave1006.c **** 	DEV_SD8804,		//device_type_config 
  44:Device/Src/drv_wave1006.c **** 	0,         		//hour_12_config          		// no support 12 hour
  45:Device/Src/drv_wave1006.c **** 	1,         		//week_encode_config   	  		//00-06 as sunday-monday
  46:Device/Src/drv_wave1006.c **** 	2,         		//freq_en_config    	    		//use one bit enbale control
  47:Device/Src/drv_wave1006.c **** 	PKG_SD8804,		//package_type_config 注意与PKG_RX8804区别
  48:Device/Src/drv_wave1006.c **** 	1,         		//ae_polarity_config  	 			//1 is alarm enable
  49:Device/Src/drv_wave1006.c **** 	0,         		//week_day_alarm_config 			//both week and day can select alarm
  50:Device/Src/drv_wave1006.c **** 	0,         		//wada_polarity_config  			//if the "week_day_alarm config" as 1,this bit not use
  51:Device/Src/drv_wave1006.c **** 	1,         		//week_alarm_config     			//every bit represent a day
  52:Device/Src/drv_wave1006.c **** 	0x1e,      		//alarm_valid_config    			//second -year can alarm
  53:Device/Src/drv_wave1006.c **** 	2,         		//ae_disable_config     			//when all alarm is disable, alarm is close
  54:Device/Src/drv_wave1006.c **** 	1,         		//timer_freq_source_config		//use 2 bit select timer frequency source 
  55:Device/Src/drv_wave1006.c **** 	1,				 //id_support_config
  56:Device/Src/drv_wave1006.c **** 	1, 				 //timer_pause_support_config	//not support timer pause
  57:Device/Src/drv_wave1006.c ****   	1, 				 //timer_reset_support_config	//not support timer reset
  58:Device/Src/drv_wave1006.c **** 	1,				 //int_out_sel_config					//use INTS1:0 bits select alarm or freq output
  59:Device/Src/drv_wave1006.c ****   	0,				 //int_out_rst_config					//int output high when flag clear or int is disable
  60:Device/Src/drv_wave1006.c ****   	1, 				 //wp_type_config							//use three wp bit
  61:Device/Src/drv_wave1006.c **** 	0, 				 //time_rst_support_config		//not support time power on reset
  62:Device/Src/drv_wave1006.c **** 	0, 				 //group2_alarm_support_config//not support group2 alarm
  63:Device/Src/drv_wave1006.c **** 	0, 				 //reg_addr_reset_config			//read and write stop addr is reset
  64:Device/Src/drv_wave1006.c **** 	1, 				 //time_update_support_config	//not support time update
  65:Device/Src/drv_wave1006.c **** 	112,       		//temp_offset_config  				//温度偏移值
  66:Device/Src/drv_wave1006.c **** 	0,				 //digtal_comp_sel_config			//1:load form otp, 0:load form reg 
  67:Device/Src/drv_wave1006.c **** 	0x32,			 //device_addr_config 
  68:Device/Src/drv_wave1006.c **** 	0,				 //alarm_ext_config						//not support alarm extend
  69:Device/Src/drv_wave1006.c **** 	0,				 //timer_ext_config						//not support timer extend
  70:Device/Src/drv_wave1006.c **** 	1,				 //event_support_config 			//support event extend
  71:Device/Src/drv_wave1006.c **** 	1,				 //pps_support_config					//support 1 pps extend
  72:Device/Src/drv_wave1006.c **** 	1,				 //temp_comp_support_config		//1：支持温补   0：不支持温补
  73:Device/Src/drv_wave1006.c **** 	1,				 //digtal_comp_ext_config	    //support digtal extend,digtal_comp_sel_config must this bit h
  74:Device/Src/drv_wave1006.c **** 	1,				 //ram_ext_config							//not support ram extend
  75:Device/Src/drv_wave1006.c **** 	1,				 //sub_second_ext_config 			//support sub second extend
  76:Device/Src/drv_wave1006.c **** 	0,				 //charge_ext_config					//1:支持扩展充电  0:不支持扩展充电
  77:Device/Src/drv_wave1006.c **** 	0,				 //bat_val_ext_config
  78:Device/Src/drv_wave1006.c **** 	1,				 //rst_out_support_config //检测复位功能总开关
  79:Device/Src/drv_wave1006.c **** 	0,				 //temp_alarm_ext_config
  80:Device/Src/drv_wave1006.c **** 	1,				 //temp_val_ext_config
  81:Device/Src/drv_wave1006.c **** 	5,  			 //rule_temp_adj_config
  82:Device/Src/drv_wave1006.c ****   	3,				 //rule_bat_adj_config
  83:Device/Src/drv_wave1006.c **** 	3,				 //osc_cap_sel_config1        //封装电容选择值2024.03.1
  84:Device/Src/drv_wave1006.c **** 	1,    		 	//adjust_temp_1_3_ppm_config	//3ppm
  85:Device/Src/drv_wave1006.c **** 	1,				 //en_bat_pulldown_config     //有BAT脚的配置为0,没有BAT脚的配置为1通过内部200k下拉到地
  86:Device/Src/drv_wave1006.c **** 	0x19f7,		 	//osc_config_config					//13'b00_010_1001_0111; 
  87:Device/Src/drv_wave1006.c **** 	0,				 //spi_freq_en_config					//not support
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 3


  88:Device/Src/drv_wave1006.c **** 	0,				 //vol_sel_config
  89:Device/Src/drv_wave1006.c **** 	1, 				 //freq_src_config						//use 4 bit select frequency
  90:Device/Src/drv_wave1006.c **** 	0, 				 //k32_support_config					// support 32k alone output
  91:Device/Src/drv_wave1006.c **** 	0,				 //fout_open_drain_config
  92:Device/Src/drv_wave1006.c **** 	0,				 //sout_open_drain_config
  93:Device/Src/drv_wave1006.c **** 	3,				 //comp_period_config
  94:Device/Src/drv_wave1006.c **** 	3,				 //rst_time_config
  95:Device/Src/drv_wave1006.c **** 	0,			 	 //adjust_25_config
  96:Device/Src/drv_wave1006.c **** 	0,				 //spi_mode_config
  97:Device/Src/drv_wave1006.c **** 	0,				 //bus_select_config					//i2c
  98:Device/Src/drv_wave1006.c **** 	0, 				 //en_charge_config						//1:支持充电  0:不支持充电
  99:Device/Src/drv_wave1006.c **** 	0x177f, 	   //osc_start_config	  				//13'b00_010_0001_0011
 100:Device/Src/drv_wave1006.c **** 	3,				 //charge_vol_adj_config
 101:Device/Src/drv_wave1006.c **** 	1,				 //timer_rst_out_config    
 102:Device/Src/drv_wave1006.c **** }; 
 103:Device/Src/drv_wave1006.c **** #else
 104:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8800_config = {
 105:Device/Src/drv_wave1006.c **** 	0,         //otp_wp_config
 106:Device/Src/drv_wave1006.c **** 	1,         //test_wp_config
 107:Device/Src/drv_wave1006.c **** 	DEV_SD8800,//device_type_config 
 108:Device/Src/drv_wave1006.c **** 	0,         //hour_12_config          		// no support 12 hour
 109:Device/Src/drv_wave1006.c **** 	1,         //week_encode_config   	  		//00-06 as sunday-monday
 110:Device/Src/drv_wave1006.c **** 	2,         //freq_en_config    	    		//use one bit enbale control
 111:Device/Src/drv_wave1006.c **** 	PKG_SD8800,//package_type_config
 112:Device/Src/drv_wave1006.c **** 	1,         //ae_polarity_config  	 			//1 is alarm enable
 113:Device/Src/drv_wave1006.c **** 	0,         //week_day_alarm_config 			//both week and day can select alarm
 114:Device/Src/drv_wave1006.c **** 	0,         //wada_polarity_config  			//if the "week_day_alarm config" as 1,this bit not use
 115:Device/Src/drv_wave1006.c **** 	1,         //week_alarm_config     			//every bit represent a day
 116:Device/Src/drv_wave1006.c **** 	0x1e,      //alarm_valid_config    			//second -year can alarm
 117:Device/Src/drv_wave1006.c **** 	2,         //ae_disable_config     			//when all alarm is disable, alarm is close
 118:Device/Src/drv_wave1006.c **** 	1,         //timer_freq_source_config		//use 2 bit select timer frequency source 
 119:Device/Src/drv_wave1006.c **** 	1,				 //id_support_config
 120:Device/Src/drv_wave1006.c **** 	0, 				 //timer_pause_support_config	//not support timer pause
 121:Device/Src/drv_wave1006.c ****   	0, 				 //timer_reset_support_config	//not support timer reset
 122:Device/Src/drv_wave1006.c **** 	1,				 //int_out_sel_config					//use INTS1:0 bits select alarm or freq output
 123:Device/Src/drv_wave1006.c ****   	0,				 //int_out_rst_config					//int output high when flag clear or int is disable
 124:Device/Src/drv_wave1006.c ****   	1, 				 //wp_type_config							//use three wp bit
 125:Device/Src/drv_wave1006.c **** 	0, 				 //time_rst_support_config		//not support time power on reset
 126:Device/Src/drv_wave1006.c **** 	0, 				 //group2_alarm_support_config//not support group2 alarm
 127:Device/Src/drv_wave1006.c **** 	0, 				 //reg_addr_reset_config			//read and write stop addr is reset
 128:Device/Src/drv_wave1006.c **** 	1, 				 //time_update_support_config	//not support time update
 129:Device/Src/drv_wave1006.c **** 	112,       //temp_offset_config  				//温度偏移值
 130:Device/Src/drv_wave1006.c **** 	0,				 //digtal_comp_sel_config			//1:load form otp, 0:load form reg 
 131:Device/Src/drv_wave1006.c **** 	0x32,			 //device_addr_config 
 132:Device/Src/drv_wave1006.c **** 	0,				 //alarm_ext_config						//not support alarm extend
 133:Device/Src/drv_wave1006.c **** 	0,				 //timer_ext_config						//not support timer extend
 134:Device/Src/drv_wave1006.c **** 	1,				 //event_support_config 			//support event extend
 135:Device/Src/drv_wave1006.c **** 	1,				 //pps_support_config					//support 1 pps extend
 136:Device/Src/drv_wave1006.c **** 	1,				 //temp_comp_support_config		//1：支持温补   0：不支持温补
 137:Device/Src/drv_wave1006.c **** 	1,				 //digtal_comp_ext_config	    //support digtal extend,digtal_comp_sel_config must this bit h
 138:Device/Src/drv_wave1006.c **** 	1,				 //ram_ext_config							//not support ram extend
 139:Device/Src/drv_wave1006.c **** 	1,				 //sub_second_ext_config 			//support sub second extend
 140:Device/Src/drv_wave1006.c **** 	1,				 //charge_ext_config					//1:支持扩展充电  0:不支持扩展充电
 141:Device/Src/drv_wave1006.c **** 	1,				 //bat_val_ext_config
 142:Device/Src/drv_wave1006.c **** 	0,				 //rst_out_support_config 
 143:Device/Src/drv_wave1006.c **** 	0,				 //temp_alarm_ext_config
 144:Device/Src/drv_wave1006.c **** 	1,				 //temp_val_ext_config
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 4


 145:Device/Src/drv_wave1006.c **** 	5,  			 //rule_temp_adj_config
 146:Device/Src/drv_wave1006.c ****   	3,				 //rule_bat_adj_config
 147:Device/Src/drv_wave1006.c **** 	3,				 //osc_cap_sel_config1        //封装电容选择值2024.03.1
 148:Device/Src/drv_wave1006.c **** 	1,    		 //adjust_temp_1_3_ppm_config	//3ppm
 149:Device/Src/drv_wave1006.c **** 	0,				 //en_bat_pulldown_config     //有BAT脚的配置为0,没有BAT脚的配置为1通过内部200k下拉到地
 150:Device/Src/drv_wave1006.c **** 	0x19f7,		 //osc_config_config					//13'b00_010_1001_0111; 
 151:Device/Src/drv_wave1006.c **** 	0,				 //spi_freq_en_config					//not support
 152:Device/Src/drv_wave1006.c **** 	0,				 //vol_sel_config
 153:Device/Src/drv_wave1006.c **** 	1, 				 //freq_src_config						//use 4 bit select frequency
 154:Device/Src/drv_wave1006.c **** 	0, 				 //k32_support_config					// support 32k alone output
 155:Device/Src/drv_wave1006.c **** 	0,				 //fout_open_drain_config
 156:Device/Src/drv_wave1006.c **** 	0,				 //sout_open_drain_config
 157:Device/Src/drv_wave1006.c **** 	0,				 //comp_period_config
 158:Device/Src/drv_wave1006.c **** 	0,				 //rst_time_config
 159:Device/Src/drv_wave1006.c **** 	0,			 	 //adjust_25_config
 160:Device/Src/drv_wave1006.c **** 	0,				 //spi_mode_config
 161:Device/Src/drv_wave1006.c **** 	0,				 //bus_select_config					//i2c
 162:Device/Src/drv_wave1006.c **** 	1, 				 //en_charge_config						//1:支持充电  0:不支持充电
 163:Device/Src/drv_wave1006.c **** 	0x177f, 	   //osc_start_config	  				//13'b00_010_0001_0011
 164:Device/Src/drv_wave1006.c **** 	3,				 //charge_vol_adj_config
 165:Device/Src/drv_wave1006.c **** 	0,				 //timer_rst_out_config    
 166:Device/Src/drv_wave1006.c **** }; 
 167:Device/Src/drv_wave1006.c **** #endif
 168:Device/Src/drv_wave1006.c **** 
 169:Device/Src/drv_wave1006.c **** uint8_t g_dev_id[40];
 170:Device/Src/drv_wave1006.c **** wave1006_temp_arg_t g_temp_arg[TEMP_ADC_LENGTH]; //-60~184
 171:Device/Src/drv_wave1006.c **** 
 172:Device/Src/drv_wave1006.c **** 
 173:Device/Src/drv_wave1006.c **** int g_digtal_adj[TEMP_ADC_LENGTH] = {0};
 174:Device/Src/drv_wave1006.c **** float g_cap_val[TEMP_ADC_LENGTH] = { 0};
 175:Device/Src/drv_wave1006.c **** uint16_t g_offset = 0;
 176:Device/Src/drv_wave1006.c **** uint16_t g_csn = 2401;
 177:Device/Src/drv_wave1006.c **** 
 178:Device/Src/drv_wave1006.c **** 
 179:Device/Src/drv_wave1006.c **** typedef struct  
 180:Device/Src/drv_wave1006.c **** {
 181:Device/Src/drv_wave1006.c **** 	unsigned char device_type;
 182:Device/Src/drv_wave1006.c **** 	wave1006_test_mode_e test_mode;    
 183:Device/Src/drv_wave1006.c **** } wave1006_state_t;    		//测试模式选择
 184:Device/Src/drv_wave1006.c **** 
 185:Device/Src/drv_wave1006.c **** wave1006_state_t g_wave1006_state = {0, WAVE1006_NORMAL_MODE};
 186:Device/Src/drv_wave1006.c **** 
 187:Device/Src/drv_wave1006.c **** 
 188:Device/Src/drv_wave1006.c **** wave1006_exit_code_e get_device_addr(wave1006_dev_e dev, unsigned char *dev_addr)
 189:Device/Src/drv_wave1006.c **** {
 190:Device/Src/drv_wave1006.c **** 	switch (dev)
 191:Device/Src/drv_wave1006.c **** 	{
 192:Device/Src/drv_wave1006.c **** 		case DEV_SD3068:
 193:Device/Src/drv_wave1006.c **** 		case DEV_SD8800:
 194:Device/Src/drv_wave1006.c **** 		case DEV_SD8810:
 195:Device/Src/drv_wave1006.c **** 		case DEV_SD8804:	
 196:Device/Src/drv_wave1006.c **** 			*dev_addr = 0x64;
 197:Device/Src/drv_wave1006.c **** 			break;
 198:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 199:Device/Src/drv_wave1006.c **** 		case DEV_SD8939:
 200:Device/Src/drv_wave1006.c **** 		case DEV_SD8200://BQ32000
 201:Device/Src/drv_wave1006.c **** 			*dev_addr = 0xd0;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 5


 202:Device/Src/drv_wave1006.c **** 			break;
 203:Device/Src/drv_wave1006.c **** 		default:
 204:Device/Src/drv_wave1006.c **** 			return WAVE1006_EXIT_ARG_ERR;
 205:Device/Src/drv_wave1006.c **** 			break;
 206:Device/Src/drv_wave1006.c **** 	}
 207:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 208:Device/Src/drv_wave1006.c **** }
 209:Device/Src/drv_wave1006.c **** 
 210:Device/Src/drv_wave1006.c **** /*
 211:Device/Src/drv_wave1006.c **** *Function: otp_prg_power_ctrl
 212:Device/Src/drv_wave1006.c **** *Description: 
 213:Device/Src/drv_wave1006.c **** *Input: enbale:otp power enable;vol_sel:otp voltage input,0:5V,1:8.5V
 214:Device/Src/drv_wave1006.c **** *Output: 
 215:Device/Src/drv_wave1006.c **** *Return: 
 216:Device/Src/drv_wave1006.c **** *Others:
 217:Device/Src/drv_wave1006.c **** */       //OTP编程电源控制
 218:Device/Src/drv_wave1006.c **** static void otp_prg_power_ctrl(unsigned char enbale)
 219:Device/Src/drv_wave1006.c **** {
  29              		.loc 1 219 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 219 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 220:Device/Src/drv_wave1006.c **** 	if (enbale == 1) {
  39              		.loc 1 220 2 is_stmt 1 view .LVU2
  40              		.loc 1 220 5 is_stmt 0 view .LVU3
  41 0002 0128     		cmp	r0, #1
  42 0004 04D0     		beq	.L5
 221:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
 222:Device/Src/drv_wave1006.c **** 	} else {
 223:Device/Src/drv_wave1006.c **** 		rtc_otp_power(5);  //读otp电压
  43              		.loc 1 223 3 is_stmt 1 view .LVU4
  44 0006 B1EE040A 		vmov.f32	s0, #5.0e+0
  45 000a FFF7FEFF 		bl	rtc_otp_power
  46              	.LVL1:
  47              	.L1:
 224:Device/Src/drv_wave1006.c **** 	}
 225:Device/Src/drv_wave1006.c **** }
  48              		.loc 1 225 1 is_stmt 0 view .LVU5
  49 000e 08BD     		pop	{r3, pc}
  50              	.LVL2:
  51              	.L5:
 221:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  52              		.loc 1 221 3 is_stmt 1 view .LVU6
  53 0010 B2EE010A 		vmov.f32	s0, #8.5e+0
  54 0014 FFF7FEFF 		bl	rtc_otp_power
  55              	.LVL3:
 221:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.5); //烧录otp电压
  56              		.loc 1 221 3 is_stmt 0 view .LVU7
  57 0018 F9E7     		b	.L1
  58              		.cfi_endproc
  59              	.LFE236:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 6


  61              		.section	.text.get_device_addr,"ax",%progbits
  62              		.align	1
  63              		.global	get_device_addr
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	get_device_addr:
  69              	.LVL4:
  70              	.LFB235:
 189:Device/Src/drv_wave1006.c **** 	switch (dev)
  71              		.loc 1 189 1 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
 190:Device/Src/drv_wave1006.c **** 	{
  76              		.loc 1 190 2 view .LVU9
  77 0000 0828     		cmp	r0, #8
  78 0002 0ED8     		bhi	.L11
  79 0004 DFE800F0 		tbb	[pc, r0]
  80              	.L9:
  81 0008 05       		.byte	(.L10-.L9)/2
  82 0009 0D       		.byte	(.L11-.L9)/2
  83 000a 05       		.byte	(.L10-.L9)/2
  84 000b 05       		.byte	(.L10-.L9)/2
  85 000c 05       		.byte	(.L10-.L9)/2
  86 000d 09       		.byte	(.L8-.L9)/2
  87 000e 09       		.byte	(.L8-.L9)/2
  88 000f 0D       		.byte	(.L11-.L9)/2
  89 0010 09       		.byte	(.L8-.L9)/2
  90 0011 00       		.p2align 1
  91              	.L10:
 196:Device/Src/drv_wave1006.c **** 			break;
  92              		.loc 1 196 4 view .LVU10
 196:Device/Src/drv_wave1006.c **** 			break;
  93              		.loc 1 196 14 is_stmt 0 view .LVU11
  94 0012 6423     		movs	r3, #100
  95 0014 0B70     		strb	r3, [r1]
 197:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
  96              		.loc 1 197 4 is_stmt 1 view .LVU12
 207:Device/Src/drv_wave1006.c **** }
  97              		.loc 1 207 9 is_stmt 0 view .LVU13
  98 0016 0020     		movs	r0, #0
  99              	.LVL5:
 197:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 100              		.loc 1 197 4 view .LVU14
 101 0018 7047     		bx	lr
 102              	.LVL6:
 103              	.L8:
 201:Device/Src/drv_wave1006.c **** 			break;
 104              		.loc 1 201 4 is_stmt 1 view .LVU15
 201:Device/Src/drv_wave1006.c **** 			break;
 105              		.loc 1 201 14 is_stmt 0 view .LVU16
 106 001a D023     		movs	r3, #208
 107 001c 0B70     		strb	r3, [r1]
 202:Device/Src/drv_wave1006.c **** 		default:
 108              		.loc 1 202 4 is_stmt 1 view .LVU17
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 7


 207:Device/Src/drv_wave1006.c **** }
 109              		.loc 1 207 9 is_stmt 0 view .LVU18
 110 001e 0020     		movs	r0, #0
 111              	.LVL7:
 202:Device/Src/drv_wave1006.c **** 		default:
 112              		.loc 1 202 4 view .LVU19
 113 0020 7047     		bx	lr
 114              	.LVL8:
 115              	.L11:
 190:Device/Src/drv_wave1006.c **** 	{
 116              		.loc 1 190 2 view .LVU20
 117 0022 6FF00100 		mvn	r0, #1
 118              	.LVL9:
 208:Device/Src/drv_wave1006.c **** 
 119              		.loc 1 208 1 view .LVU21
 120 0026 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE235:
 124              		.section	.text.drv_wave1006_read_reg,"ax",%progbits
 125              		.align	1
 126              		.global	drv_wave1006_read_reg
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	drv_wave1006_read_reg:
 132              	.LVL10:
 133              	.LFB238:
 226:Device/Src/drv_wave1006.c **** /*Function: wave1006_write_enable_seq
 227:Device/Src/drv_wave1006.c **** *Description: 
 228:Device/Src/drv_wave1006.c **** *Input:
 229:Device/Src/drv_wave1006.c **** *Output: 
 230:Device/Src/drv_wave1006.c **** *Return: 
 231:Device/Src/drv_wave1006.c **** *Others:
 232:Device/Src/drv_wave1006.c **** */
 233:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_enable_seq(wave1006_dev_e dev)
 234:Device/Src/drv_wave1006.c **** {
 235:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 236:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 237:Device/Src/drv_wave1006.c **** 	
 238:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(dev, WAVE1006_REG_CTR1, 2,  buf);
 239:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 240:Device/Src/drv_wave1006.c **** 		return ret;
 241:Device/Src/drv_wave1006.c **** 
 242:Device/Src/drv_wave1006.c **** 	buf[1] |=  BIT(7);
 243:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 244:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 245:Device/Src/drv_wave1006.c **** 		return ret;
 246:Device/Src/drv_wave1006.c **** 
 247:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(2);
 248:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 249:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 250:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 251:Device/Src/drv_wave1006.c **** 		return ret;
 252:Device/Src/drv_wave1006.c **** 	
 253:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 254:Device/Src/drv_wave1006.c **** }
 255:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 8


 256:Device/Src/drv_wave1006.c **** /**
 257:Device/Src/drv_wave1006.c ****  * @brief wave1006 read reg
 258:Device/Src/drv_wave1006.c ****  * 
 259:Device/Src/drv_wave1006.c ****  */
 260:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_read_reg(wave1006_dev_e dev, unsigned char reg, unsigned char len
 261:Device/Src/drv_wave1006.c **** {
 134              		.loc 1 261 1 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 8
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		.loc 1 261 1 is_stmt 0 view .LVU23
 139 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 140              	.LCFI1:
 141              		.cfi_def_cfa_offset 20
 142              		.cfi_offset 4, -20
 143              		.cfi_offset 5, -16
 144              		.cfi_offset 6, -12
 145              		.cfi_offset 7, -8
 146              		.cfi_offset 14, -4
 147 0002 83B0     		sub	sp, sp, #12
 148              	.LCFI2:
 149              		.cfi_def_cfa_offset 32
 150 0004 0C46     		mov	r4, r1
 151 0006 1646     		mov	r6, r2
 152 0008 1D46     		mov	r5, r3
 262:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 153              		.loc 1 262 2 is_stmt 1 view .LVU24
 263:Device/Src/drv_wave1006.c **** 
 264:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) {
 154              		.loc 1 264 2 view .LVU25
 155              		.loc 1 264 6 is_stmt 0 view .LVU26
 156 000a 0DF10701 		add	r1, sp, #7
 157              	.LVL11:
 158              		.loc 1 264 6 view .LVU27
 159 000e FFF7FEFF 		bl	get_device_addr
 160              	.LVL12:
 161              		.loc 1 264 5 view .LVU28
 162 0012 58B9     		cbnz	r0, .L14
 163 0014 0746     		mov	r7, r0
 265:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 266:Device/Src/drv_wave1006.c **** 	} 
 267:Device/Src/drv_wave1006.c **** 	if (rtc_read_multi_bytes(dev_addr, reg, buf, length) != I2C_OK) {
 164              		.loc 1 267 2 is_stmt 1 view .LVU29
 165              		.loc 1 267 6 is_stmt 0 view .LVU30
 166 0016 3346     		mov	r3, r6
 167 0018 2A46     		mov	r2, r5
 168 001a 2146     		mov	r1, r4
 169 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 170 0020 FFF7FEFF 		bl	rtc_read_multi_bytes
 171              	.LVL13:
 172              		.loc 1 267 5 view .LVU31
 173 0024 28B9     		cbnz	r0, .L17
 174              	.L13:
 268:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 269:Device/Src/drv_wave1006.c **** 	}
 270:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 271:Device/Src/drv_wave1006.c **** } 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 9


 175              		.loc 1 271 1 view .LVU32
 176 0026 3846     		mov	r0, r7
 177 0028 03B0     		add	sp, sp, #12
 178              	.LCFI3:
 179              		.cfi_remember_state
 180              		.cfi_def_cfa_offset 20
 181              		@ sp needed
 182 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 183              	.LVL14:
 184              	.L14:
 185              	.LCFI4:
 186              		.cfi_restore_state
 265:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 187              		.loc 1 265 10 view .LVU33
 188 002c 6FF00107 		mvn	r7, #1
 189 0030 F9E7     		b	.L13
 190              	.L17:
 268:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 191              		.loc 1 268 10 view .LVU34
 192 0032 4FF0FF37 		mov	r7, #-1
 193 0036 F6E7     		b	.L13
 194              		.cfi_endproc
 195              	.LFE238:
 197              		.section	.text.drv_wave1006_write_reg,"ax",%progbits
 198              		.align	1
 199              		.global	drv_wave1006_write_reg
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 204              	drv_wave1006_write_reg:
 205              	.LVL15:
 206              	.LFB239:
 272:Device/Src/drv_wave1006.c **** 
 273:Device/Src/drv_wave1006.c **** /**
 274:Device/Src/drv_wave1006.c ****  * @brief wave1006 write register
 275:Device/Src/drv_wave1006.c ****  * 
 276:Device/Src/drv_wave1006.c ****  */
 277:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_write_reg(wave1006_dev_e dev, unsigned char reg, unsigned char le
 278:Device/Src/drv_wave1006.c **** {
 207              		.loc 1 278 1 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 8
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		.loc 1 278 1 is_stmt 0 view .LVU36
 212 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 213              	.LCFI5:
 214              		.cfi_def_cfa_offset 20
 215              		.cfi_offset 4, -20
 216              		.cfi_offset 5, -16
 217              		.cfi_offset 6, -12
 218              		.cfi_offset 7, -8
 219              		.cfi_offset 14, -4
 220 0002 83B0     		sub	sp, sp, #12
 221              	.LCFI6:
 222              		.cfi_def_cfa_offset 32
 223 0004 0C46     		mov	r4, r1
 224 0006 1646     		mov	r6, r2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 10


 225 0008 1D46     		mov	r5, r3
 279:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 226              		.loc 1 279 2 is_stmt 1 view .LVU37
 280:Device/Src/drv_wave1006.c **** 
 281:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) 
 227              		.loc 1 281 2 view .LVU38
 228              		.loc 1 281 6 is_stmt 0 view .LVU39
 229 000a 0DF10701 		add	r1, sp, #7
 230              	.LVL16:
 231              		.loc 1 281 6 view .LVU40
 232 000e FFF7FEFF 		bl	get_device_addr
 233              	.LVL17:
 234              		.loc 1 281 5 view .LVU41
 235 0012 58B9     		cbnz	r0, .L20
 236 0014 0746     		mov	r7, r0
 282:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 283:Device/Src/drv_wave1006.c **** 	if (rtc_write_multi_bytes(dev_addr, reg, buf, length) != I2C_OK)
 237              		.loc 1 283 2 is_stmt 1 view .LVU42
 238              		.loc 1 283 6 is_stmt 0 view .LVU43
 239 0016 3346     		mov	r3, r6
 240 0018 2A46     		mov	r2, r5
 241 001a 2146     		mov	r1, r4
 242 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 243 0020 FFF7FEFF 		bl	rtc_write_multi_bytes
 244              	.LVL18:
 245              		.loc 1 283 5 view .LVU44
 246 0024 28B9     		cbnz	r0, .L23
 247              	.L19:
 284:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 285:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 286:Device/Src/drv_wave1006.c **** }
 248              		.loc 1 286 1 view .LVU45
 249 0026 3846     		mov	r0, r7
 250 0028 03B0     		add	sp, sp, #12
 251              	.LCFI7:
 252              		.cfi_remember_state
 253              		.cfi_def_cfa_offset 20
 254              		@ sp needed
 255 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 256              	.LVL19:
 257              	.L20:
 258              	.LCFI8:
 259              		.cfi_restore_state
 282:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 260              		.loc 1 282 10 view .LVU46
 261 002c 6FF00107 		mvn	r7, #1
 262 0030 F9E7     		b	.L19
 263              	.L23:
 284:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 264              		.loc 1 284 10 view .LVU47
 265 0032 4FF0FF37 		mov	r7, #-1
 266 0036 F6E7     		b	.L19
 267              		.cfi_endproc
 268              	.LFE239:
 270              		.section	.text.wave1006_write_enable_seq,"ax",%progbits
 271              		.align	1
 272              		.syntax unified
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 11


 273              		.thumb
 274              		.thumb_func
 276              	wave1006_write_enable_seq:
 277              	.LVL20:
 278              	.LFB237:
 234:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 279              		.loc 1 234 1 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 8
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 234:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 283              		.loc 1 234 1 is_stmt 0 view .LVU49
 284 0000 10B5     		push	{r4, lr}
 285              	.LCFI9:
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 4, -8
 288              		.cfi_offset 14, -4
 289 0002 82B0     		sub	sp, sp, #8
 290              	.LCFI10:
 291              		.cfi_def_cfa_offset 16
 292 0004 0446     		mov	r4, r0
 235:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 293              		.loc 1 235 2 is_stmt 1 view .LVU50
 236:Device/Src/drv_wave1006.c **** 	
 294              		.loc 1 236 2 view .LVU51
 238:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 295              		.loc 1 238 2 view .LVU52
 238:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 296              		.loc 1 238 8 is_stmt 0 view .LVU53
 297 0006 01AB     		add	r3, sp, #4
 298 0008 0222     		movs	r2, #2
 299 000a 0F21     		movs	r1, #15
 300 000c FFF7FEFF 		bl	drv_wave1006_read_reg
 301              	.LVL21:
 239:Device/Src/drv_wave1006.c **** 		return ret;
 302              		.loc 1 239 2 is_stmt 1 view .LVU54
 239:Device/Src/drv_wave1006.c **** 		return ret;
 303              		.loc 1 239 5 is_stmt 0 view .LVU55
 304 0010 0346     		mov	r3, r0
 305 0012 10B1     		cbz	r0, .L27
 306              	.LVL22:
 307              	.L25:
 254:Device/Src/drv_wave1006.c **** 
 308              		.loc 1 254 1 view .LVU56
 309 0014 1846     		mov	r0, r3
 310 0016 02B0     		add	sp, sp, #8
 311              	.LCFI11:
 312              		.cfi_remember_state
 313              		.cfi_def_cfa_offset 8
 314              		@ sp needed
 315 0018 10BD     		pop	{r4, pc}
 316              	.LVL23:
 317              	.L27:
 318              	.LCFI12:
 319              		.cfi_restore_state
 242:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 320              		.loc 1 242 2 is_stmt 1 view .LVU57
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 12


 242:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR2, 1,  &buf[1]);
 321              		.loc 1 242 9 is_stmt 0 view .LVU58
 322 001a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 323 001e 63F07F03 		orn	r3, r3, #127
 324 0022 8DF80530 		strb	r3, [sp, #5]
 243:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 325              		.loc 1 243 2 is_stmt 1 view .LVU59
 243:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 326              		.loc 1 243 8 is_stmt 0 view .LVU60
 327 0026 0DF10503 		add	r3, sp, #5
 328 002a 0122     		movs	r2, #1
 329 002c 1021     		movs	r1, #16
 330 002e 2046     		mov	r0, r4
 331              	.LVL24:
 243:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 332              		.loc 1 243 8 view .LVU61
 333 0030 FFF7FEFF 		bl	drv_wave1006_write_reg
 334              	.LVL25:
 244:Device/Src/drv_wave1006.c **** 		return ret;
 335              		.loc 1 244 2 is_stmt 1 view .LVU62
 244:Device/Src/drv_wave1006.c **** 		return ret;
 336              		.loc 1 244 5 is_stmt 0 view .LVU63
 337 0034 0346     		mov	r3, r0
 338 0036 0028     		cmp	r0, #0
 339 0038 ECD1     		bne	.L25
 247:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 340              		.loc 1 247 2 is_stmt 1 view .LVU64
 247:Device/Src/drv_wave1006.c **** 	buf[0] |=  BIT(7);
 341              		.loc 1 247 9 is_stmt 0 view .LVU65
 342 003a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 343 003e 43F00403 		orr	r3, r3, #4
 344 0042 8DF80430 		strb	r3, [sp, #4]
 248:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 345              		.loc 1 248 2 is_stmt 1 view .LVU66
 248:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(dev, WAVE1006_REG_CTR1, 1,  &buf[0]);
 346              		.loc 1 248 9 is_stmt 0 view .LVU67
 347 0046 63F07F03 		orn	r3, r3, #127
 348 004a 8DF80430 		strb	r3, [sp, #4]
 249:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 349              		.loc 1 249 2 is_stmt 1 view .LVU68
 249:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 350              		.loc 1 249 8 is_stmt 0 view .LVU69
 351 004e 01AB     		add	r3, sp, #4
 352 0050 0122     		movs	r2, #1
 353 0052 0F21     		movs	r1, #15
 354 0054 2046     		mov	r0, r4
 355              	.LVL26:
 249:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 356              		.loc 1 249 8 view .LVU70
 357 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 358              	.LVL27:
 359 005a 0346     		mov	r3, r0
 360              	.LVL28:
 250:Device/Src/drv_wave1006.c **** 		return ret;
 361              		.loc 1 250 2 is_stmt 1 view .LVU71
 362 005c DAE7     		b	.L25
 363              		.cfi_endproc
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 13


 364              	.LFE237:
 366              		.section	.text.wave1006_read_otp_single,"ax",%progbits
 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 372              	wave1006_read_otp_single:
 373              	.LVL29:
 374              	.LFB246:
 287:Device/Src/drv_wave1006.c **** 
 288:Device/Src/drv_wave1006.c **** 
 289:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_enter_test_mode(wave1006_test_mode_e mode)     //烧写1006时使用
 290:Device/Src/drv_wave1006.c **** {
 291:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 292:Device/Src/drv_wave1006.c **** 
 293:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 294:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 295:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 296:Device/Src/drv_wave1006.c **** 	{
 297:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 298:Device/Src/drv_wave1006.c **** 	}
 299:Device/Src/drv_wave1006.c **** 
 300:Device/Src/drv_wave1006.c **** 	/*2.set test mode*/
 301:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 302:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 303:Device/Src/drv_wave1006.c **** 	{
 304:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 305:Device/Src/drv_wave1006.c **** 	}
 306:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 307:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 308:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 309:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 310:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 311:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 312:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 313:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 314:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 315:Device/Src/drv_wave1006.c **** 	{
 316:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 317:Device/Src/drv_wave1006.c **** 	}
 318:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 319:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 320:Device/Src/drv_wave1006.c **** }
 321:Device/Src/drv_wave1006.c **** 
 322:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_enter_test_mode(wave1006_test_mode_e mode)
 323:Device/Src/drv_wave1006.c **** {
 324:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 325:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 326:Device/Src/drv_wave1006.c **** 
 327:Device/Src/drv_wave1006.c **** 	wave1006_write_enable_seq(DEV_SD3068);
 328:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 329:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 330:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 331:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 332:Device/Src/drv_wave1006.c **** 		return ret;
 333:Device/Src/drv_wave1006.c **** 	
 334:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 14


 335:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 336:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 337:Device/Src/drv_wave1006.c **** 		return ret;
 338:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 339:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 340:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 341:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 342:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 343:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 344:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 345:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 346:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 347:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 348:Device/Src/drv_wave1006.c **** 		return ret;
 349:Device/Src/drv_wave1006.c **** 	/*wait 40ms*/
 350:Device/Src/drv_wave1006.c **** //	HAL_Delay((40);
 351:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 352:Device/Src/drv_wave1006.c **** 	HAL_Delay(1000);
 353:Device/Src/drv_wave1006.c **** 	
 354:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, buf);
 355:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 356:Device/Src/drv_wave1006.c **** 		return ret;
 357:Device/Src/drv_wave1006.c **** 	if((buf[0] & BIT(3)) != 0)
 358:Device/Src/drv_wave1006.c **** 	{
 359:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode success!\r\n");
 360:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 361:Device/Src/drv_wave1006.c **** 	}
 362:Device/Src/drv_wave1006.c **** 	else
 363:Device/Src/drv_wave1006.c **** 	{
 364:Device/Src/drv_wave1006.c **** 		UsbPrintf("Enter test mode faild!\r\n");
 365:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 366:Device/Src/drv_wave1006.c **** 	}
 367:Device/Src/drv_wave1006.c **** //	g_wave1006_state.test_mode = mode;
 368:Device/Src/drv_wave1006.c **** }
 369:Device/Src/drv_wave1006.c **** 
 370:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_get_test_flag(void)
 371:Device/Src/drv_wave1006.c **** {
 372:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 373:Device/Src/drv_wave1006.c **** 	
 374:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 375:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 376:Device/Src/drv_wave1006.c **** 	}
 377:Device/Src/drv_wave1006.c **** 	
 378:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 379:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 380:Device/Src/drv_wave1006.c **** 	} else {
 381:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 382:Device/Src/drv_wave1006.c **** 	}
 383:Device/Src/drv_wave1006.c **** }
 384:Device/Src/drv_wave1006.c **** 
 385:Device/Src/drv_wave1006.c **** wave1006_exit_code_e sd3031_get_test_flag(void)
 386:Device/Src/drv_wave1006.c **** {
 387:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 388:Device/Src/drv_wave1006.c **** 	
 389:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf) != WAVE1006_EXIT_OK) {
 390:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 391:Device/Src/drv_wave1006.c **** 	}
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 15


 392:Device/Src/drv_wave1006.c **** 	
 393:Device/Src/drv_wave1006.c **** 	if ((buf & BIT(3)) == 0) {
 394:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 395:Device/Src/drv_wave1006.c **** 	} else {
 396:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 397:Device/Src/drv_wave1006.c **** 	}
 398:Device/Src/drv_wave1006.c **** }
 399:Device/Src/drv_wave1006.c **** 
 400:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_osc_config_set(wave1006_osc_config_t *config)
 401:Device/Src/drv_wave1006.c **** {
 402:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 403:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 404:Device/Src/drv_wave1006.c **** 
 405:Device/Src/drv_wave1006.c **** 	/*RAM24:osc_config[7:0]; RAM25[4:0]:osc_config[12:8]*/
 406:Device/Src/drv_wave1006.c **** 	buf[0] = ((config->osc_vref_adj & 0x01)<< 7) | (config->vol_cure_adj << 5) | (config->osc_res_adju
 407:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 408:Device/Src/drv_wave1006.c **** 	
 409:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 23, 2, &buf[0]);
 410:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 411:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 412:Device/Src/drv_wave1006.c **** 	if (wave1006_enter_test_mode(WAVE1006_TEST_OSC) != WAVE1006_EXIT_OK) {
 413:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 414:Device/Src/drv_wave1006.c **** 	}
 415:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 416:Device/Src/drv_wave1006.c **** }
 417:Device/Src/drv_wave1006.c **** 
 418:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_otp_single(unsigned short addr, unsigned short Data)
 419:Device/Src/drv_wave1006.c **** {
 420:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 421:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 422:Device/Src/drv_wave1006.c **** 
 423:Device/Src/drv_wave1006.c **** 	//set addr
 424:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 425:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 426:Device/Src/drv_wave1006.c **** 	//set Data
 427:Device/Src/drv_wave1006.c **** 	buf[2] = Data & 0xff;
 428:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 429:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 430:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 431:Device/Src/drv_wave1006.c **** 			return ret;
 432:Device/Src/drv_wave1006.c **** 	//pwe=1
 433:Device/Src/drv_wave1006.c **** 	buf[0] = 0xb2;
 434:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 435:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 436:Device/Src/drv_wave1006.c **** 			return ret;
 437:Device/Src/drv_wave1006.c **** 		//delay 100us
 438:Device/Src/drv_wave1006.c **** 	//pwe=0
 439:Device/Src/drv_wave1006.c **** 	buf[0] = 0xa2;
 440:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 441:Device/Src/drv_wave1006.c **** 	return ret;
 442:Device/Src/drv_wave1006.c **** }
 443:Device/Src/drv_wave1006.c **** 
 444:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_read_otp_single(unsigned short addr, unsigned short *Data)
 445:Device/Src/drv_wave1006.c **** {
 375              		.loc 1 445 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 16


 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379              		.loc 1 445 1 is_stmt 0 view .LVU73
 380 0000 10B5     		push	{r4, lr}
 381              	.LCFI13:
 382              		.cfi_def_cfa_offset 8
 383              		.cfi_offset 4, -8
 384              		.cfi_offset 14, -4
 385 0002 82B0     		sub	sp, sp, #8
 386              	.LCFI14:
 387              		.cfi_def_cfa_offset 16
 388 0004 0C46     		mov	r4, r1
 446:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 389              		.loc 1 446 2 is_stmt 1 view .LVU74
 447:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 390              		.loc 1 447 2 view .LVU75
 448:Device/Src/drv_wave1006.c **** 
 449:Device/Src/drv_wave1006.c **** 	/*set addr*/
 450:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 391              		.loc 1 450 2 view .LVU76
 392              		.loc 1 450 9 is_stmt 0 view .LVU77
 393 0006 8DF80400 		strb	r0, [sp, #4]
 451:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 394              		.loc 1 451 2 is_stmt 1 view .LVU78
 395              		.loc 1 451 23 is_stmt 0 view .LVU79
 396 000a C0F30120 		ubfx	r0, r0, #8, #2
 397              	.LVL30:
 398              		.loc 1 451 9 view .LVU80
 399 000e 8DF80500 		strb	r0, [sp, #5]
 452:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 2, &buf[0]);
 400              		.loc 1 452 2 is_stmt 1 view .LVU81
 401              		.loc 1 452 8 is_stmt 0 view .LVU82
 402 0012 01AB     		add	r3, sp, #4
 403 0014 0222     		movs	r2, #2
 404 0016 2E21     		movs	r1, #46
 405              	.LVL31:
 406              		.loc 1 452 8 view .LVU83
 407 0018 0020     		movs	r0, #0
 408 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 409              	.LVL32:
 453:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 410              		.loc 1 453 2 is_stmt 1 view .LVU84
 411              		.loc 1 453 5 is_stmt 0 view .LVU85
 412 001e 0346     		mov	r3, r0
 413 0020 10B1     		cbz	r0, .L31
 414              	.LVL33:
 415              	.L29:
 454:Device/Src/drv_wave1006.c **** 		return ret;
 455:Device/Src/drv_wave1006.c **** 	/*prd=1*/
 456:Device/Src/drv_wave1006.c **** 	buf[0] = 0xc0;
 457:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 458:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 459:Device/Src/drv_wave1006.c **** 		return ret;
 460:Device/Src/drv_wave1006.c **** 	/*prd=0*/
 461:Device/Src/drv_wave1006.c **** 	buf[0] = 0x80;
 462:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 463:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 464:Device/Src/drv_wave1006.c **** 		return ret;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 17


 465:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 4, 2, buf);
 466:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 467:Device/Src/drv_wave1006.c **** 	return ret;
 468:Device/Src/drv_wave1006.c **** }
 416              		.loc 1 468 1 view .LVU86
 417 0022 1846     		mov	r0, r3
 418 0024 02B0     		add	sp, sp, #8
 419              	.LCFI15:
 420              		.cfi_remember_state
 421              		.cfi_def_cfa_offset 8
 422              		@ sp needed
 423 0026 10BD     		pop	{r4, pc}
 424              	.LVL34:
 425              	.L31:
 426              	.LCFI16:
 427              		.cfi_restore_state
 456:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 428              		.loc 1 456 2 is_stmt 1 view .LVU87
 456:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 429              		.loc 1 456 9 is_stmt 0 view .LVU88
 430 0028 C023     		movs	r3, #192
 431 002a 8DF80430 		strb	r3, [sp, #4]
 457:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 432              		.loc 1 457 2 is_stmt 1 view .LVU89
 457:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 433              		.loc 1 457 8 is_stmt 0 view .LVU90
 434 002e 01AB     		add	r3, sp, #4
 435 0030 0122     		movs	r2, #1
 436 0032 2D21     		movs	r1, #45
 437 0034 FFF7FEFF 		bl	drv_wave1006_write_reg
 438              	.LVL35:
 458:Device/Src/drv_wave1006.c **** 		return ret;
 439              		.loc 1 458 2 is_stmt 1 view .LVU91
 458:Device/Src/drv_wave1006.c **** 		return ret;
 440              		.loc 1 458 5 is_stmt 0 view .LVU92
 441 0038 0346     		mov	r3, r0
 442 003a 0028     		cmp	r0, #0
 443 003c F1D1     		bne	.L29
 461:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 444              		.loc 1 461 2 is_stmt 1 view .LVU93
 461:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 445              		.loc 1 461 9 is_stmt 0 view .LVU94
 446 003e 8023     		movs	r3, #128
 447 0040 8DF80430 		strb	r3, [sp, #4]
 462:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 448              		.loc 1 462 2 is_stmt 1 view .LVU95
 462:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 449              		.loc 1 462 8 is_stmt 0 view .LVU96
 450 0044 01AB     		add	r3, sp, #4
 451 0046 0122     		movs	r2, #1
 452 0048 2D21     		movs	r1, #45
 453 004a FFF7FEFF 		bl	drv_wave1006_write_reg
 454              	.LVL36:
 463:Device/Src/drv_wave1006.c **** 		return ret;
 455              		.loc 1 463 2 is_stmt 1 view .LVU97
 463:Device/Src/drv_wave1006.c **** 		return ret;
 456              		.loc 1 463 5 is_stmt 0 view .LVU98
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 18


 457 004e 0346     		mov	r3, r0
 458 0050 0028     		cmp	r0, #0
 459 0052 E6D1     		bne	.L29
 465:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 460              		.loc 1 465 2 is_stmt 1 view .LVU99
 465:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 461              		.loc 1 465 8 is_stmt 0 view .LVU100
 462 0054 01AB     		add	r3, sp, #4
 463 0056 0222     		movs	r2, #2
 464 0058 3021     		movs	r1, #48
 465 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 466              	.LVL37:
 465:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 467              		.loc 1 465 8 view .LVU101
 468 005e 0346     		mov	r3, r0
 469              	.LVL38:
 466:Device/Src/drv_wave1006.c **** 	return ret;
 470              		.loc 1 466 2 is_stmt 1 view .LVU102
 466:Device/Src/drv_wave1006.c **** 	return ret;
 471              		.loc 1 466 15 is_stmt 0 view .LVU103
 472 0060 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 466:Device/Src/drv_wave1006.c **** 	return ret;
 473              		.loc 1 466 27 view .LVU104
 474 0064 1202     		lsls	r2, r2, #8
 475 0066 02F47C52 		and	r2, r2, #16128
 466:Device/Src/drv_wave1006.c **** 	return ret;
 476              		.loc 1 466 38 view .LVU105
 477 006a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 466:Device/Src/drv_wave1006.c **** 	return ret;
 478              		.loc 1 466 33 view .LVU106
 479 006e 0A43     		orrs	r2, r2, r1
 466:Device/Src/drv_wave1006.c **** 	return ret;
 480              		.loc 1 466 8 view .LVU107
 481 0070 2280     		strh	r2, [r4]	@ movhi
 467:Device/Src/drv_wave1006.c **** }
 482              		.loc 1 467 2 is_stmt 1 view .LVU108
 467:Device/Src/drv_wave1006.c **** }
 483              		.loc 1 467 9 is_stmt 0 view .LVU109
 484 0072 D6E7     		b	.L29
 485              		.cfi_endproc
 486              	.LFE246:
 488              		.section	.text.wave1006_write_otp_single,"ax",%progbits
 489              		.align	1
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 494              	wave1006_write_otp_single:
 495              	.LVL39:
 496              	.LFB245:
 419:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 497              		.loc 1 419 1 is_stmt 1 view -0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 8
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 419:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 501              		.loc 1 419 1 is_stmt 0 view .LVU111
 502 0000 00B5     		push	{lr}
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 19


 503              	.LCFI17:
 504              		.cfi_def_cfa_offset 4
 505              		.cfi_offset 14, -4
 506 0002 83B0     		sub	sp, sp, #12
 507              	.LCFI18:
 508              		.cfi_def_cfa_offset 16
 420:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 509              		.loc 1 420 2 is_stmt 1 view .LVU112
 421:Device/Src/drv_wave1006.c **** 
 510              		.loc 1 421 2 view .LVU113
 424:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 511              		.loc 1 424 2 view .LVU114
 424:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 512              		.loc 1 424 9 is_stmt 0 view .LVU115
 513 0004 8DF80400 		strb	r0, [sp, #4]
 425:Device/Src/drv_wave1006.c **** 	//set Data
 514              		.loc 1 425 2 is_stmt 1 view .LVU116
 425:Device/Src/drv_wave1006.c **** 	//set Data
 515              		.loc 1 425 23 is_stmt 0 view .LVU117
 516 0008 C0F30120 		ubfx	r0, r0, #8, #2
 517              	.LVL40:
 425:Device/Src/drv_wave1006.c **** 	//set Data
 518              		.loc 1 425 9 view .LVU118
 519 000c 8DF80500 		strb	r0, [sp, #5]
 427:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 520              		.loc 1 427 2 is_stmt 1 view .LVU119
 427:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 521              		.loc 1 427 9 is_stmt 0 view .LVU120
 522 0010 8DF80610 		strb	r1, [sp, #6]
 428:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 523              		.loc 1 428 2 is_stmt 1 view .LVU121
 428:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 524              		.loc 1 428 23 is_stmt 0 view .LVU122
 525 0014 C1F30521 		ubfx	r1, r1, #8, #6
 526              	.LVL41:
 428:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 527              		.loc 1 428 9 view .LVU123
 528 0018 8DF80710 		strb	r1, [sp, #7]
 429:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 529              		.loc 1 429 3 is_stmt 1 view .LVU124
 429:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 530              		.loc 1 429 9 is_stmt 0 view .LVU125
 531 001c 01AB     		add	r3, sp, #4
 532 001e 0422     		movs	r2, #4
 533 0020 2E21     		movs	r1, #46
 534 0022 0020     		movs	r0, #0
 535 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 536              	.LVL42:
 430:Device/Src/drv_wave1006.c **** 			return ret;
 537              		.loc 1 430 3 is_stmt 1 view .LVU126
 430:Device/Src/drv_wave1006.c **** 			return ret;
 538              		.loc 1 430 6 is_stmt 0 view .LVU127
 539 0028 0346     		mov	r3, r0
 540 002a 18B1     		cbz	r0, .L35
 541              	.LVL43:
 542              	.L33:
 442:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 20


 543              		.loc 1 442 1 view .LVU128
 544 002c 1846     		mov	r0, r3
 545 002e 03B0     		add	sp, sp, #12
 546              	.LCFI19:
 547              		.cfi_remember_state
 548              		.cfi_def_cfa_offset 4
 549              		@ sp needed
 550 0030 5DF804FB 		ldr	pc, [sp], #4
 551              	.LVL44:
 552              	.L35:
 553              	.LCFI20:
 554              		.cfi_restore_state
 433:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 555              		.loc 1 433 2 is_stmt 1 view .LVU129
 433:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 556              		.loc 1 433 9 is_stmt 0 view .LVU130
 557 0034 B223     		movs	r3, #178
 558 0036 8DF80430 		strb	r3, [sp, #4]
 434:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 559              		.loc 1 434 3 is_stmt 1 view .LVU131
 434:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 560              		.loc 1 434 9 is_stmt 0 view .LVU132
 561 003a 01AB     		add	r3, sp, #4
 562 003c 0122     		movs	r2, #1
 563 003e 2D21     		movs	r1, #45
 564 0040 FFF7FEFF 		bl	drv_wave1006_write_reg
 565              	.LVL45:
 435:Device/Src/drv_wave1006.c **** 			return ret;
 566              		.loc 1 435 3 is_stmt 1 view .LVU133
 435:Device/Src/drv_wave1006.c **** 			return ret;
 567              		.loc 1 435 6 is_stmt 0 view .LVU134
 568 0044 0346     		mov	r3, r0
 569 0046 0028     		cmp	r0, #0
 570 0048 F0D1     		bne	.L33
 439:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 571              		.loc 1 439 2 is_stmt 1 view .LVU135
 439:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 572              		.loc 1 439 9 is_stmt 0 view .LVU136
 573 004a A223     		movs	r3, #162
 574 004c 8DF80430 		strb	r3, [sp, #4]
 440:Device/Src/drv_wave1006.c **** 	return ret;
 575              		.loc 1 440 2 is_stmt 1 view .LVU137
 440:Device/Src/drv_wave1006.c **** 	return ret;
 576              		.loc 1 440 8 is_stmt 0 view .LVU138
 577 0050 01AB     		add	r3, sp, #4
 578 0052 0122     		movs	r2, #1
 579 0054 2D21     		movs	r1, #45
 580 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 581              	.LVL46:
 440:Device/Src/drv_wave1006.c **** 	return ret;
 582              		.loc 1 440 8 view .LVU139
 583 005a 0346     		mov	r3, r0
 584              	.LVL47:
 441:Device/Src/drv_wave1006.c **** }
 585              		.loc 1 441 2 is_stmt 1 view .LVU140
 441:Device/Src/drv_wave1006.c **** }
 586              		.loc 1 441 9 is_stmt 0 view .LVU141
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 21


 587 005c E6E7     		b	.L33
 588              		.cfi_endproc
 589              	.LFE245:
 591              		.section	.text.wave1006_enter_test_mode,"ax",%progbits
 592              		.align	1
 593              		.global	wave1006_enter_test_mode
 594              		.syntax unified
 595              		.thumb
 596              		.thumb_func
 598              	wave1006_enter_test_mode:
 599              	.LVL48:
 600              	.LFB240:
 290:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 601              		.loc 1 290 1 is_stmt 1 view -0
 602              		.cfi_startproc
 603              		@ args = 0, pretend = 0, frame = 8
 604              		@ frame_needed = 0, uses_anonymous_args = 0
 290:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 605              		.loc 1 290 1 is_stmt 0 view .LVU143
 606 0000 10B5     		push	{r4, lr}
 607              	.LCFI21:
 608              		.cfi_def_cfa_offset 8
 609              		.cfi_offset 4, -8
 610              		.cfi_offset 14, -4
 611 0002 82B0     		sub	sp, sp, #8
 612              	.LCFI22:
 613              		.cfi_def_cfa_offset 16
 614 0004 0446     		mov	r4, r0
 291:Device/Src/drv_wave1006.c **** 
 615              		.loc 1 291 2 is_stmt 1 view .LVU144
 294:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 616              		.loc 1 294 2 view .LVU145
 294:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 617              		.loc 1 294 9 is_stmt 0 view .LVU146
 618 0006 0420     		movs	r0, #4
 619              	.LVL49:
 294:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 620              		.loc 1 294 9 view .LVU147
 621 0008 8DF80000 		strb	r0, [sp]
 295:Device/Src/drv_wave1006.c **** 	{
 622              		.loc 1 295 2 is_stmt 1 view .LVU148
 295:Device/Src/drv_wave1006.c **** 	{
 623              		.loc 1 295 5 is_stmt 0 view .LVU149
 624 000c 6B46     		mov	r3, sp
 625 000e 0122     		movs	r2, #1
 626 0010 FD21     		movs	r1, #253
 627 0012 FFF7FEFF 		bl	drv_wave1006_write_reg
 628              	.LVL50:
 295:Device/Src/drv_wave1006.c **** 	{
 629              		.loc 1 295 4 view .LVU150
 630 0016 40BB     		cbnz	r0, .L38
 301:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 631              		.loc 1 301 2 is_stmt 1 view .LVU151
 301:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START, 1, &buf[0]) != WAVE1006_EXIT_OK
 632              		.loc 1 301 9 is_stmt 0 view .LVU152
 633 0018 8DF80040 		strb	r4, [sp]
 302:Device/Src/drv_wave1006.c **** 	{
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 22


 634              		.loc 1 302 2 is_stmt 1 view .LVU153
 302:Device/Src/drv_wave1006.c **** 	{
 635              		.loc 1 302 5 is_stmt 0 view .LVU154
 636 001c 6B46     		mov	r3, sp
 637 001e 0122     		movs	r2, #1
 638 0020 2C21     		movs	r1, #44
 639 0022 0420     		movs	r0, #4
 640 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 641              	.LVL51:
 302:Device/Src/drv_wave1006.c **** 	{
 642              		.loc 1 302 4 view .LVU155
 643 0028 10BB     		cbnz	r0, .L39
 307:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 644              		.loc 1 307 2 is_stmt 1 view .LVU156
 307:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 645              		.loc 1 307 9 is_stmt 0 view .LVU157
 646 002a 6C23     		movs	r3, #108
 647 002c 8DF80030 		strb	r3, [sp]
 308:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 648              		.loc 1 308 2 is_stmt 1 view .LVU158
 308:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 649              		.loc 1 308 9 is_stmt 0 view .LVU159
 650 0030 8DF80130 		strb	r3, [sp, #1]
 309:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 651              		.loc 1 309 2 is_stmt 1 view .LVU160
 309:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 652              		.loc 1 309 9 is_stmt 0 view .LVU161
 653 0034 3C23     		movs	r3, #60
 654 0036 8DF80230 		strb	r3, [sp, #2]
 310:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 655              		.loc 1 310 2 is_stmt 1 view .LVU162
 310:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 656              		.loc 1 310 9 is_stmt 0 view .LVU163
 657 003a 0722     		movs	r2, #7
 658 003c 8DF80320 		strb	r2, [sp, #3]
 311:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 659              		.loc 1 311 2 is_stmt 1 view .LVU164
 311:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 660              		.loc 1 311 9 is_stmt 0 view .LVU165
 661 0040 8DF80430 		strb	r3, [sp, #4]
 312:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 662              		.loc 1 312 2 is_stmt 1 view .LVU166
 312:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 663              		.loc 1 312 9 is_stmt 0 view .LVU167
 664 0044 1C23     		movs	r3, #28
 665 0046 8DF80530 		strb	r3, [sp, #5]
 313:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 666              		.loc 1 313 2 is_stmt 1 view .LVU168
 313:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 667              		.loc 1 313 9 is_stmt 0 view .LVU169
 668 004a CC23     		movs	r3, #204
 669 004c 8DF80630 		strb	r3, [sp, #6]
 314:Device/Src/drv_wave1006.c **** 	{
 670              		.loc 1 314 2 is_stmt 1 view .LVU170
 314:Device/Src/drv_wave1006.c **** 	{
 671              		.loc 1 314 5 is_stmt 0 view .LVU171
 672 0050 6B46     		mov	r3, sp
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 23


 673 0052 0021     		movs	r1, #0
 674 0054 0420     		movs	r0, #4
 675 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 676              	.LVL52:
 314:Device/Src/drv_wave1006.c **** 	{
 677              		.loc 1 314 4 view .LVU172
 678 005a 0446     		mov	r4, r0
 679 005c 58B9     		cbnz	r0, .L40
 318:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 680              		.loc 1 318 2 is_stmt 1 view .LVU173
 681 005e 6420     		movs	r0, #100
 682 0060 FFF7FEFF 		bl	HAL_Delay
 683              	.LVL53:
 319:Device/Src/drv_wave1006.c **** }
 684              		.loc 1 319 2 view .LVU174
 685              	.L37:
 320:Device/Src/drv_wave1006.c **** 
 686              		.loc 1 320 1 is_stmt 0 view .LVU175
 687 0064 2046     		mov	r0, r4
 688 0066 02B0     		add	sp, sp, #8
 689              	.LCFI23:
 690              		.cfi_remember_state
 691              		.cfi_def_cfa_offset 8
 692              		@ sp needed
 693 0068 10BD     		pop	{r4, pc}
 694              	.L38:
 695              	.LCFI24:
 696              		.cfi_restore_state
 297:Device/Src/drv_wave1006.c **** 	}
 697              		.loc 1 297 10 view .LVU176
 698 006a 6FF00104 		mvn	r4, #1
 699 006e F9E7     		b	.L37
 700              	.L39:
 304:Device/Src/drv_wave1006.c **** 	}
 701              		.loc 1 304 10 view .LVU177
 702 0070 6FF00104 		mvn	r4, #1
 703 0074 F6E7     		b	.L37
 704              	.L40:
 316:Device/Src/drv_wave1006.c **** 	}
 705              		.loc 1 316 10 view .LVU178
 706 0076 6FF00104 		mvn	r4, #1
 707 007a F3E7     		b	.L37
 708              		.cfi_endproc
 709              	.LFE240:
 711              		.section	.rodata.sd3031_enter_test_mode.str1.4,"aMS",%progbits,1
 712              		.align	2
 713              	.LC0:
 714 0000 456E7465 		.ascii	"Enter test mode success!\015\012\000"
 714      72207465 
 714      7374206D 
 714      6F646520 
 714      73756363 
 715 001b 00       		.align	2
 716              	.LC1:
 717 001c 456E7465 		.ascii	"Enter test mode faild!\015\012\000"
 717      72207465 
 717      7374206D 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 24


 717      6F646520 
 717      6661696C 
 718              		.section	.text.sd3031_enter_test_mode,"ax",%progbits
 719              		.align	1
 720              		.global	sd3031_enter_test_mode
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 725              	sd3031_enter_test_mode:
 726              	.LVL54:
 727              	.LFB241:
 323:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 728              		.loc 1 323 1 is_stmt 1 view -0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 8
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 323:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 732              		.loc 1 323 1 is_stmt 0 view .LVU180
 733 0000 30B5     		push	{r4, r5, lr}
 734              	.LCFI25:
 735              		.cfi_def_cfa_offset 12
 736              		.cfi_offset 4, -12
 737              		.cfi_offset 5, -8
 738              		.cfi_offset 14, -4
 739 0002 83B0     		sub	sp, sp, #12
 740              	.LCFI26:
 741              		.cfi_def_cfa_offset 24
 742 0004 0446     		mov	r4, r0
 324:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 743              		.loc 1 324 2 is_stmt 1 view .LVU181
 325:Device/Src/drv_wave1006.c **** 
 744              		.loc 1 325 2 view .LVU182
 327:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 745              		.loc 1 327 2 view .LVU183
 746 0006 0020     		movs	r0, #0
 747              	.LVL55:
 327:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 748              		.loc 1 327 2 is_stmt 0 view .LVU184
 749 0008 FFF7FEFF 		bl	wave1006_write_enable_seq
 750              	.LVL56:
 329:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 751              		.loc 1 329 2 is_stmt 1 view .LVU185
 329:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_EXTEND, 1, &buf[0]);
 752              		.loc 1 329 9 is_stmt 0 view .LVU186
 753 000c 0423     		movs	r3, #4
 754 000e 8DF80030 		strb	r3, [sp]
 330:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 755              		.loc 1 330 2 is_stmt 1 view .LVU187
 330:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 756              		.loc 1 330 8 is_stmt 0 view .LVU188
 757 0012 6B46     		mov	r3, sp
 758 0014 0122     		movs	r2, #1
 759 0016 FD21     		movs	r1, #253
 760 0018 0020     		movs	r0, #0
 761 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 762              	.LVL57:
 331:Device/Src/drv_wave1006.c **** 		return ret;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 25


 763              		.loc 1 331 2 is_stmt 1 view .LVU189
 331:Device/Src/drv_wave1006.c **** 		return ret;
 764              		.loc 1 331 5 is_stmt 0 view .LVU190
 765 001e 0546     		mov	r5, r0
 766 0020 10B1     		cbz	r0, .L46
 767              	.LVL58:
 768              	.L43:
 368:Device/Src/drv_wave1006.c **** 
 769              		.loc 1 368 1 view .LVU191
 770 0022 2846     		mov	r0, r5
 771 0024 03B0     		add	sp, sp, #12
 772              	.LCFI27:
 773              		.cfi_remember_state
 774              		.cfi_def_cfa_offset 12
 775              		@ sp needed
 776 0026 30BD     		pop	{r4, r5, pc}
 777              	.LVL59:
 778              	.L46:
 779              	.LCFI28:
 780              		.cfi_restore_state
 334:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 781              		.loc 1 334 2 is_stmt 1 view .LVU192
 334:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START, 1, &buf[0]);
 782              		.loc 1 334 9 is_stmt 0 view .LVU193
 783 0028 8DF80040 		strb	r4, [sp]
 335:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 784              		.loc 1 335 2 is_stmt 1 view .LVU194
 335:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 785              		.loc 1 335 8 is_stmt 0 view .LVU195
 786 002c 6B46     		mov	r3, sp
 787 002e 0122     		movs	r2, #1
 788 0030 2C21     		movs	r1, #44
 789 0032 FFF7FEFF 		bl	drv_wave1006_write_reg
 790              	.LVL60:
 336:Device/Src/drv_wave1006.c **** 		return ret;
 791              		.loc 1 336 2 is_stmt 1 view .LVU196
 336:Device/Src/drv_wave1006.c **** 		return ret;
 792              		.loc 1 336 5 is_stmt 0 view .LVU197
 793 0036 0546     		mov	r5, r0
 794 0038 0028     		cmp	r0, #0
 795 003a F2D1     		bne	.L43
 339:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 796              		.loc 1 339 2 is_stmt 1 view .LVU198
 339:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 797              		.loc 1 339 9 is_stmt 0 view .LVU199
 798 003c 6C23     		movs	r3, #108
 799 003e 8DF80030 		strb	r3, [sp]
 340:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 800              		.loc 1 340 2 is_stmt 1 view .LVU200
 340:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 801              		.loc 1 340 9 is_stmt 0 view .LVU201
 802 0042 8DF80130 		strb	r3, [sp, #1]
 341:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 803              		.loc 1 341 2 is_stmt 1 view .LVU202
 341:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 804              		.loc 1 341 9 is_stmt 0 view .LVU203
 805 0046 3C23     		movs	r3, #60
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 26


 806 0048 8DF80230 		strb	r3, [sp, #2]
 342:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 807              		.loc 1 342 2 is_stmt 1 view .LVU204
 342:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 808              		.loc 1 342 9 is_stmt 0 view .LVU205
 809 004c 0722     		movs	r2, #7
 810 004e 8DF80320 		strb	r2, [sp, #3]
 343:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 811              		.loc 1 343 2 is_stmt 1 view .LVU206
 343:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 812              		.loc 1 343 9 is_stmt 0 view .LVU207
 813 0052 8DF80430 		strb	r3, [sp, #4]
 344:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 814              		.loc 1 344 2 is_stmt 1 view .LVU208
 344:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 815              		.loc 1 344 9 is_stmt 0 view .LVU209
 816 0056 1C23     		movs	r3, #28
 817 0058 8DF80530 		strb	r3, [sp, #5]
 345:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 818              		.loc 1 345 2 is_stmt 1 view .LVU210
 345:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_SEC, 7, &buf[0]);
 819              		.loc 1 345 9 is_stmt 0 view .LVU211
 820 005c CC23     		movs	r3, #204
 821 005e 8DF80630 		strb	r3, [sp, #6]
 346:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 822              		.loc 1 346 2 is_stmt 1 view .LVU212
 346:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 823              		.loc 1 346 8 is_stmt 0 view .LVU213
 824 0062 6B46     		mov	r3, sp
 825 0064 0021     		movs	r1, #0
 826 0066 0846     		mov	r0, r1
 827              	.LVL61:
 346:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 828              		.loc 1 346 8 view .LVU214
 829 0068 FFF7FEFF 		bl	drv_wave1006_write_reg
 830              	.LVL62:
 347:Device/Src/drv_wave1006.c **** 		return ret;
 831              		.loc 1 347 2 is_stmt 1 view .LVU215
 347:Device/Src/drv_wave1006.c **** 		return ret;
 832              		.loc 1 347 5 is_stmt 0 view .LVU216
 833 006c 0546     		mov	r5, r0
 834 006e 0028     		cmp	r0, #0
 835 0070 D7D1     		bne	.L43
 352:Device/Src/drv_wave1006.c **** 	
 836              		.loc 1 352 2 is_stmt 1 view .LVU217
 837 0072 4FF47A70 		mov	r0, #1000
 838              	.LVL63:
 352:Device/Src/drv_wave1006.c **** 	
 839              		.loc 1 352 2 is_stmt 0 view .LVU218
 840 0076 FFF7FEFF 		bl	HAL_Delay
 841              	.LVL64:
 354:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 842              		.loc 1 354 2 is_stmt 1 view .LVU219
 354:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 843              		.loc 1 354 8 is_stmt 0 view .LVU220
 844 007a 6B46     		mov	r3, sp
 845 007c 0122     		movs	r2, #1
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 27


 846 007e FD21     		movs	r1, #253
 847 0080 0020     		movs	r0, #0
 848 0082 FFF7FEFF 		bl	drv_wave1006_read_reg
 849              	.LVL65:
 355:Device/Src/drv_wave1006.c **** 		return ret;
 850              		.loc 1 355 2 is_stmt 1 view .LVU221
 355:Device/Src/drv_wave1006.c **** 		return ret;
 851              		.loc 1 355 5 is_stmt 0 view .LVU222
 852 0086 0546     		mov	r5, r0
 853 0088 0028     		cmp	r0, #0
 854 008a CAD1     		bne	.L43
 357:Device/Src/drv_wave1006.c **** 	{
 855              		.loc 1 357 2 is_stmt 1 view .LVU223
 357:Device/Src/drv_wave1006.c **** 	{
 856              		.loc 1 357 9 is_stmt 0 view .LVU224
 857 008c 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 357:Device/Src/drv_wave1006.c **** 	{
 858              		.loc 1 357 4 view .LVU225
 859 0090 13F0080F 		tst	r3, #8
 860 0094 03D0     		beq	.L44
 359:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 861              		.loc 1 359 3 is_stmt 1 view .LVU226
 862 0096 0548     		ldr	r0, .L47
 863              	.LVL66:
 359:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_OK;
 864              		.loc 1 359 3 is_stmt 0 view .LVU227
 865 0098 FFF7FEFF 		bl	UsbPrintf
 866              	.LVL67:
 360:Device/Src/drv_wave1006.c **** 	}
 867              		.loc 1 360 3 is_stmt 1 view .LVU228
 360:Device/Src/drv_wave1006.c **** 	}
 868              		.loc 1 360 10 is_stmt 0 view .LVU229
 869 009c C1E7     		b	.L43
 870              	.LVL68:
 871              	.L44:
 364:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 872              		.loc 1 364 3 is_stmt 1 view .LVU230
 873 009e 0448     		ldr	r0, .L47+4
 874              	.LVL69:
 364:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 875              		.loc 1 364 3 is_stmt 0 view .LVU231
 876 00a0 FFF7FEFF 		bl	UsbPrintf
 877              	.LVL70:
 365:Device/Src/drv_wave1006.c **** 	}
 878              		.loc 1 365 3 is_stmt 1 view .LVU232
 365:Device/Src/drv_wave1006.c **** 	}
 879              		.loc 1 365 10 is_stmt 0 view .LVU233
 880 00a4 6FF00205 		mvn	r5, #2
 881 00a8 BBE7     		b	.L43
 882              	.L48:
 883 00aa 00BF     		.align	2
 884              	.L47:
 885 00ac 00000000 		.word	.LC0
 886 00b0 1C000000 		.word	.LC1
 887              		.cfi_endproc
 888              	.LFE241:
 890              		.section	.text.wave1006_get_test_flag,"ax",%progbits
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 28


 891              		.align	1
 892              		.global	wave1006_get_test_flag
 893              		.syntax unified
 894              		.thumb
 895              		.thumb_func
 897              	wave1006_get_test_flag:
 898              	.LFB242:
 371:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 899              		.loc 1 371 1 is_stmt 1 view -0
 900              		.cfi_startproc
 901              		@ args = 0, pretend = 0, frame = 8
 902              		@ frame_needed = 0, uses_anonymous_args = 0
 903 0000 00B5     		push	{lr}
 904              	.LCFI29:
 905              		.cfi_def_cfa_offset 4
 906              		.cfi_offset 14, -4
 907 0002 83B0     		sub	sp, sp, #12
 908              	.LCFI30:
 909              		.cfi_def_cfa_offset 16
 372:Device/Src/drv_wave1006.c **** 	
 910              		.loc 1 372 2 view .LVU235
 374:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 911              		.loc 1 374 2 view .LVU236
 374:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 912              		.loc 1 374 6 is_stmt 0 view .LVU237
 913 0004 0DF10703 		add	r3, sp, #7
 914 0008 0122     		movs	r2, #1
 915 000a FD21     		movs	r1, #253
 916 000c 0420     		movs	r0, #4
 917 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 918              	.LVL71:
 374:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 919              		.loc 1 374 5 view .LVU238
 920 0012 50B9     		cbnz	r0, .L51
 378:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 921              		.loc 1 378 2 is_stmt 1 view .LVU239
 378:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 922              		.loc 1 378 11 is_stmt 0 view .LVU240
 923 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 378:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 924              		.loc 1 378 5 view .LVU241
 925 0018 13F0080F 		tst	r3, #8
 926 001c 02D0     		beq	.L53
 927              	.L50:
 383:Device/Src/drv_wave1006.c **** 
 928              		.loc 1 383 1 view .LVU242
 929 001e 03B0     		add	sp, sp, #12
 930              	.LCFI31:
 931              		.cfi_remember_state
 932              		.cfi_def_cfa_offset 4
 933              		@ sp needed
 934 0020 5DF804FB 		ldr	pc, [sp], #4
 935              	.L53:
 936              	.LCFI32:
 937              		.cfi_restore_state
 379:Device/Src/drv_wave1006.c **** 	} else {
 938              		.loc 1 379 10 view .LVU243
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 29


 939 0024 6FF00100 		mvn	r0, #1
 940 0028 F9E7     		b	.L50
 941              	.L51:
 375:Device/Src/drv_wave1006.c **** 	}
 942              		.loc 1 375 10 view .LVU244
 943 002a 6FF00100 		mvn	r0, #1
 944 002e F6E7     		b	.L50
 945              		.cfi_endproc
 946              	.LFE242:
 948              		.section	.text.sd3031_get_test_flag,"ax",%progbits
 949              		.align	1
 950              		.global	sd3031_get_test_flag
 951              		.syntax unified
 952              		.thumb
 953              		.thumb_func
 955              	sd3031_get_test_flag:
 956              	.LFB243:
 386:Device/Src/drv_wave1006.c **** 	uint8_t buf;
 957              		.loc 1 386 1 is_stmt 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 8
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961 0000 00B5     		push	{lr}
 962              	.LCFI33:
 963              		.cfi_def_cfa_offset 4
 964              		.cfi_offset 14, -4
 965 0002 83B0     		sub	sp, sp, #12
 966              	.LCFI34:
 967              		.cfi_def_cfa_offset 16
 387:Device/Src/drv_wave1006.c **** 	
 968              		.loc 1 387 2 view .LVU246
 389:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 969              		.loc 1 389 2 view .LVU247
 389:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 970              		.loc 1 389 6 is_stmt 0 view .LVU248
 971 0004 0DF10703 		add	r3, sp, #7
 972 0008 0122     		movs	r2, #1
 973 000a FD21     		movs	r1, #253
 974 000c 0020     		movs	r0, #0
 975 000e FFF7FEFF 		bl	drv_wave1006_read_reg
 976              	.LVL72:
 389:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 977              		.loc 1 389 5 view .LVU249
 978 0012 50B9     		cbnz	r0, .L56
 393:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 979              		.loc 1 393 2 is_stmt 1 view .LVU250
 393:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 980              		.loc 1 393 11 is_stmt 0 view .LVU251
 981 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 393:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 982              		.loc 1 393 5 view .LVU252
 983 0018 13F0080F 		tst	r3, #8
 984 001c 02D0     		beq	.L58
 985              	.L55:
 398:Device/Src/drv_wave1006.c **** 
 986              		.loc 1 398 1 view .LVU253
 987 001e 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 30


 988              	.LCFI35:
 989              		.cfi_remember_state
 990              		.cfi_def_cfa_offset 4
 991              		@ sp needed
 992 0020 5DF804FB 		ldr	pc, [sp], #4
 993              	.L58:
 994              	.LCFI36:
 995              		.cfi_restore_state
 394:Device/Src/drv_wave1006.c **** 	} else {
 996              		.loc 1 394 10 view .LVU254
 997 0024 6FF00100 		mvn	r0, #1
 998 0028 F9E7     		b	.L55
 999              	.L56:
 390:Device/Src/drv_wave1006.c **** 	}
 1000              		.loc 1 390 10 view .LVU255
 1001 002a 6FF00100 		mvn	r0, #1
 1002 002e F6E7     		b	.L55
 1003              		.cfi_endproc
 1004              	.LFE243:
 1006              		.section	.text.wave1006_osc_config_set,"ax",%progbits
 1007              		.align	1
 1008              		.global	wave1006_osc_config_set
 1009              		.syntax unified
 1010              		.thumb
 1011              		.thumb_func
 1013              	wave1006_osc_config_set:
 1014              	.LVL73:
 1015              	.LFB244:
 401:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1016              		.loc 1 401 1 is_stmt 1 view -0
 1017              		.cfi_startproc
 1018              		@ args = 0, pretend = 0, frame = 8
 1019              		@ frame_needed = 0, uses_anonymous_args = 0
 401:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 1020              		.loc 1 401 1 is_stmt 0 view .LVU257
 1021 0000 00B5     		push	{lr}
 1022              	.LCFI37:
 1023              		.cfi_def_cfa_offset 4
 1024              		.cfi_offset 14, -4
 1025 0002 83B0     		sub	sp, sp, #12
 1026              	.LCFI38:
 1027              		.cfi_def_cfa_offset 16
 402:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 1028              		.loc 1 402 2 is_stmt 1 view .LVU258
 403:Device/Src/drv_wave1006.c **** 
 1029              		.loc 1 403 2 view .LVU259
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1030              		.loc 1 406 2 view .LVU260
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1031              		.loc 1 406 19 is_stmt 0 view .LVU261
 1032 0004 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 1033 0006 C2F30111 		ubfx	r1, r2, #4, #2
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1034              		.loc 1 406 56 view .LVU262
 1035 000a 9309     		lsrs	r3, r2, #6
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1036              		.loc 1 406 71 view .LVU263
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 31


 1037 000c 5B01     		lsls	r3, r3, #5
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1038              		.loc 1 406 47 view .LVU264
 1039 000e 43EAC113 		orr	r3, r3, r1, lsl #7
 1040 0012 5BB2     		sxtb	r3, r3
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1041              		.loc 1 406 86 view .LVU265
 1042 0014 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 1043 0016 01F00300 		and	r0, r1, #3
 1044              	.LVL74:
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1045              		.loc 1 406 77 view .LVU266
 1046 001a 43EAC003 		orr	r3, r3, r0, lsl #3
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1047              		.loc 1 406 135 view .LVU267
 1048 001e 01F00400 		and	r0, r1, #4
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1049              		.loc 1 406 109 view .LVU268
 1050 0022 0343     		orrs	r3, r3, r0
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1051              		.loc 1 406 150 view .LVU269
 1052 0024 C1F3C000 		ubfx	r0, r1, #3, #1
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1053              		.loc 1 406 141 view .LVU270
 1054 0028 43EA4003 		orr	r3, r3, r0, lsl #1
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1055              		.loc 1 406 173 view .LVU271
 1056 002c C1F30011 		ubfx	r1, r1, #4, #1
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1057              		.loc 1 406 165 view .LVU272
 1058 0030 0B43     		orrs	r3, r3, r1
 406:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 1059              		.loc 1 406 9 view .LVU273
 1060 0032 8DF80430 		strb	r3, [sp, #4]
 407:Device/Src/drv_wave1006.c **** 	
 1061              		.loc 1 407 2 is_stmt 1 view .LVU274
 407:Device/Src/drv_wave1006.c **** 	
 1062              		.loc 1 407 18 is_stmt 0 view .LVU275
 1063 0036 02F00101 		and	r1, r2, #1
 407:Device/Src/drv_wave1006.c **** 	
 1064              		.loc 1 407 43 view .LVU276
 1065 003a C2F34003 		ubfx	r3, r2, #1, #1
 407:Device/Src/drv_wave1006.c **** 	
 1066              		.loc 1 407 50 view .LVU277
 1067 003e DB00     		lsls	r3, r3, #3
 407:Device/Src/drv_wave1006.c **** 	
 1068              		.loc 1 407 34 view .LVU278
 1069 0040 43EA0113 		orr	r3, r3, r1, lsl #4
 407:Device/Src/drv_wave1006.c **** 	
 1070              		.loc 1 407 79 view .LVU279
 1071 0044 02F00C01 		and	r1, r2, #12
 407:Device/Src/drv_wave1006.c **** 	
 1072              		.loc 1 407 56 view .LVU280
 1073 0048 0B43     		orrs	r3, r3, r1
 407:Device/Src/drv_wave1006.c **** 	
 1074              		.loc 1 407 116 view .LVU281
 1075 004a C2F34012 		ubfx	r2, r2, #5, #1
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 32


 407:Device/Src/drv_wave1006.c **** 	
 1076              		.loc 1 407 85 view .LVU282
 1077 004e 1343     		orrs	r3, r3, r2
 407:Device/Src/drv_wave1006.c **** 	
 1078              		.loc 1 407 9 view .LVU283
 1079 0050 8DF80530 		strb	r3, [sp, #5]
 409:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1080              		.loc 1 409 2 is_stmt 1 view .LVU284
 409:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 1081              		.loc 1 409 8 is_stmt 0 view .LVU285
 1082 0054 01AB     		add	r3, sp, #4
 1083 0056 0222     		movs	r2, #2
 1084 0058 4321     		movs	r1, #67
 1085 005a 0420     		movs	r0, #4
 1086 005c FFF7FEFF 		bl	drv_wave1006_write_reg
 1087              	.LVL75:
 410:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1088              		.loc 1 410 2 is_stmt 1 view .LVU286
 410:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 1089              		.loc 1 410 5 is_stmt 0 view .LVU287
 1090 0060 10B1     		cbz	r0, .L63
 1091              	.L60:
 416:Device/Src/drv_wave1006.c **** 
 1092              		.loc 1 416 1 view .LVU288
 1093 0062 03B0     		add	sp, sp, #12
 1094              	.LCFI39:
 1095              		.cfi_remember_state
 1096              		.cfi_def_cfa_offset 4
 1097              		@ sp needed
 1098 0064 5DF804FB 		ldr	pc, [sp], #4
 1099              	.LVL76:
 1100              	.L63:
 1101              	.LCFI40:
 1102              		.cfi_restore_state
 412:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1103              		.loc 1 412 2 is_stmt 1 view .LVU289
 412:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1104              		.loc 1 412 6 is_stmt 0 view .LVU290
 1105 0068 0420     		movs	r0, #4
 1106 006a FFF7FEFF 		bl	wave1006_enter_test_mode
 1107              	.LVL77:
 412:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1108              		.loc 1 412 5 view .LVU291
 1109 006e 0028     		cmp	r0, #0
 1110 0070 F7D0     		beq	.L60
 413:Device/Src/drv_wave1006.c **** 	}
 1111              		.loc 1 413 10 view .LVU292
 1112 0072 6FF00200 		mvn	r0, #2
 1113 0076 F4E7     		b	.L60
 1114              		.cfi_endproc
 1115              	.LFE244:
 1117              		.section	.rodata.wave1006_write_otp.str1.4,"aMS",%progbits,1
 1118              		.align	2
 1119              	.LC3:
 1120 0000 53544152 		.ascii	"START WRITE ALL OTP!\015\012\000"
 1120      54205752 
 1120      49544520 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 33


 1120      414C4C20 
 1120      4F545021 
 1121 0017 00       		.align	2
 1122              	.LC4:
 1123 0018 77726974 		.ascii	"write reg error in test mode\012\000"
 1123      65207265 
 1123      67206572 
 1123      726F7220 
 1123      696E2074 
 1124 0036 0000     		.align	2
 1125              	.LC5:
 1126 0038 2F2A2A2A 		.ascii	"/**************************** WRITE OTP ***********"
 1126      2A2A2A2A 
 1126      2A2A2A2A 
 1126      2A2A2A2A 
 1126      2A2A2A2A 
 1127 006b 2A2A2A2A 		.ascii	"*********************/\015\012\000"
 1127      2A2A2A2A 
 1127      2A2A2A2A 
 1127      2A2A2A2A 
 1127      2A2A2A2A 
 1128              		.align	2
 1129              	.LC6:
 1130 0084 6F747020 		.ascii	"otp addr0:%hx\015\012\000"
 1130      61646472 
 1130      303A2568 
 1130      780D0A00 
 1131              		.align	2
 1132              	.LC7:
 1133 0094 6F747020 		.ascii	"otp addr1:%hx\015\012\000"
 1133      61646472 
 1133      313A2568 
 1133      780D0A00 
 1134              		.align	2
 1135              	.LC8:
 1136 00a4 6F747020 		.ascii	"otp addr2:%hx\015\012\000"
 1136      61646472 
 1136      323A2568 
 1136      780D0A00 
 1137              		.align	2
 1138              	.LC9:
 1139 00b4 6F747020 		.ascii	"otp addr3:%hx\015\012\000"
 1139      61646472 
 1139      333A2568 
 1139      780D0A00 
 1140              		.align	2
 1141              	.LC10:
 1142 00c4 6F747020 		.ascii	"otp addr4:%hx\015\012\000"
 1142      61646472 
 1142      343A2568 
 1142      780D0A00 
 1143              		.align	2
 1144              	.LC11:
 1145 00d4 6F747020 		.ascii	"otp addr5:%hx\015\012\000"
 1145      61646472 
 1145      353A2568 
 1145      780D0A00 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 34


 1146              		.align	2
 1147              	.LC12:
 1148 00e4 6F747020 		.ascii	"otp addr6:%hx\015\012\000"
 1148      61646472 
 1148      363A2568 
 1148      780D0A00 
 1149              		.align	2
 1150              	.LC13:
 1151 00f4 6F747020 		.ascii	"otp addr7:%hx\015\012\000"
 1151      61646472 
 1151      373A2568 
 1151      780D0A00 
 1152              		.align	2
 1153              	.LC14:
 1154 0104 6F747020 		.ascii	"otp addr8:%hx\015\012\000"
 1154      61646472 
 1154      383A2568 
 1154      780D0A00 
 1155              		.align	2
 1156              	.LC15:
 1157 0114 6F747020 		.ascii	"otp addr9:%hx\015\012\000"
 1157      61646472 
 1157      393A2568 
 1157      780D0A00 
 1158              		.align	2
 1159              	.LC16:
 1160 0124 6F747020 		.ascii	"otp addra:%hx\015\012\000"
 1160      61646472 
 1160      613A2568 
 1160      780D0A00 
 1161              		.align	2
 1162              	.LC17:
 1163 0134 6F747020 		.ascii	"otp addrb:%hx\015\012\000"
 1163      61646472 
 1163      623A2568 
 1163      780D0A00 
 1164              		.align	2
 1165              	.LC18:
 1166 0144 6F747020 		.ascii	"otp addrc:%hx\015\012\000"
 1166      61646472 
 1166      633A2568 
 1166      780D0A00 
 1167              		.align	2
 1168              	.LC19:
 1169 0154 6F747020 		.ascii	"otp addrd:%hx\015\012\000"
 1169      61646472 
 1169      643A2568 
 1169      780D0A00 
 1170              		.align	2
 1171              	.LC20:
 1172 0164 6F747020 		.ascii	"otp addre:%hx\015\012\000"
 1172      61646472 
 1172      653A2568 
 1172      780D0A00 
 1173              		.align	2
 1174              	.LC21:
 1175 0174 6F747020 		.ascii	"otp addrf:%hx\015\012\000"
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 35


 1175      61646472 
 1175      663A2568 
 1175      780D0A00 
 1176              		.align	2
 1177              	.LC22:
 1178 0184 2F2A2A2A 		.ascii	"/**************************** READ OTP ************"
 1178      2A2A2A2A 
 1178      2A2A2A2A 
 1178      2A2A2A2A 
 1178      2A2A2A2A 
 1179 01b7 2A2A2A2A 		.ascii	"********************/\015\012\000"
 1179      2A2A2A2A 
 1179      2A2A2A2A 
 1179      2A2A2A2A 
 1179      2A2A2A2A 
 1180 01cf 00       		.align	2
 1181              	.LC23:
 1182 01d0 49442063 		.ascii	"ID check sum:%06X\012\000"
 1182      6865636B 
 1182      2073756D 
 1182      3A253036 
 1182      580A00
 1183 01e3 00       		.align	2
 1184              	.LC24:
 1185 01e4 6D657373 		.ascii	"message:8800 OK, %06X\012\000"
 1185      6167653A 
 1185      38383030 
 1185      204F4B2C 
 1185      20253036 
 1186 01fb 00       		.align	2
 1187              	.LC25:
 1188 01fc 77726974 		.ascii	"write otp is successful! %lx: cal=%lx\015\012\000"
 1188      65206F74 
 1188      70206973 
 1188      20737563 
 1188      63657373 
 1189              		.align	2
 1190              	.LC26:
 1191 0224 77726974 		.ascii	"write check is err %lx: cal=%lx\015\012\000"
 1191      65206368 
 1191      65636B20 
 1191      69732065 
 1191      72722025 
 1192              		.section	.text.wave1006_write_otp,"ax",%progbits
 1193              		.align	1
 1194              		.global	wave1006_write_otp
 1195              		.syntax unified
 1196              		.thumb
 1197              		.thumb_func
 1199              	wave1006_write_otp:
 1200              	.LVL78:
 1201              	.LFB247:
 469:Device/Src/drv_wave1006.c **** 
 470:Device/Src/drv_wave1006.c **** 
 471:Device/Src/drv_wave1006.c **** //配置为SD3031烧写为不同型号
 472:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp(wave1006_otp_arg_t const *config_arg,  unsigned char const 
 473:Device/Src/drv_wave1006.c **** {
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 36


 1202              		.loc 1 473 1 is_stmt 1 view -0
 1203              		.cfi_startproc
 1204              		@ args = 0, pretend = 0, frame = 48
 1205              		@ frame_needed = 0, uses_anonymous_args = 0
 1206              		.loc 1 473 1 is_stmt 0 view .LVU294
 1207 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1208              	.LCFI41:
 1209              		.cfi_def_cfa_offset 28
 1210              		.cfi_offset 4, -28
 1211              		.cfi_offset 5, -24
 1212              		.cfi_offset 6, -20
 1213              		.cfi_offset 7, -16
 1214              		.cfi_offset 8, -12
 1215              		.cfi_offset 9, -8
 1216              		.cfi_offset 14, -4
 1217 0004 8DB0     		sub	sp, sp, #52
 1218              	.LCFI42:
 1219              		.cfi_def_cfa_offset 80
 1220 0006 0446     		mov	r4, r0
 1221 0008 8946     		mov	r9, r1
 1222 000a 1546     		mov	r5, r2
 1223 000c 1F46     		mov	r7, r3
 474:Device/Src/drv_wave1006.c **** 	uint16_t i;
 1224              		.loc 1 474 2 is_stmt 1 view .LVU295
 475:Device/Src/drv_wave1006.c **** 	uint8_t buf1;
 1225              		.loc 1 475 2 view .LVU296
 476:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0};
 1226              		.loc 1 476 2 view .LVU297
 1227              		.loc 1 476 10 is_stmt 0 view .LVU298
 1228 000e E74B     		ldr	r3, .L84
 1229              	.LVL79:
 1230              		.loc 1 476 10 view .LVU299
 1231 0010 93E80300 		ldm	r3, {r0, r1}
 1232              	.LVL80:
 1233              		.loc 1 476 10 view .LVU300
 1234 0014 0A90     		str	r0, [sp, #40]
 1235 0016 8DF82C10 		strb	r1, [sp, #44]
 477:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 1236              		.loc 1 477 2 is_stmt 1 view .LVU301
 478:Device/Src/drv_wave1006.c **** 	uint16_t otp_buf[16]  = {0};
 1237              		.loc 1 478 2 view .LVU302
 1238              		.loc 1 478 11 is_stmt 0 view .LVU303
 1239 001a 2022     		movs	r2, #32
 1240              	.LVL81:
 1241              		.loc 1 478 11 view .LVU304
 1242 001c 0021     		movs	r1, #0
 1243 001e 01A8     		add	r0, sp, #4
 1244 0020 FFF7FEFF 		bl	memset
 1245              	.LVL82:
 479:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_wr = 0;     //写数据校验缓存
 1246              		.loc 1 479 2 is_stmt 1 view .LVU305
 480:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_rd = 0;		 //读数据校验缓存
 1247              		.loc 1 480 2 view .LVU306
 481:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 1248              		.loc 1 481 2 view .LVU307
 482:Device/Src/drv_wave1006.c **** 	uint32_t sum = 0;
 1249              		.loc 1 482 2 view .LVU308
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 37


 483:Device/Src/drv_wave1006.c **** 
 484:Device/Src/drv_wave1006.c **** 	UsbPrintf("START WRITE ALL OTP!\r\n");
 1250              		.loc 1 484 2 view .LVU309
 1251 0024 E248     		ldr	r0, .L84+4
 1252 0026 FFF7FEFF 		bl	UsbPrintf
 1253              	.LVL83:
 485:Device/Src/drv_wave1006.c **** 	rtc_group_power(rtcNumber, POWER_CAP_TEST);
 1254              		.loc 1 485 2 view .LVU310
 1255 002a 0421     		movs	r1, #4
 1256 002c 3846     		mov	r0, r7
 1257 002e FFF7FEFF 		bl	rtc_group_power
 1258              	.LVL84:
 486:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 1259              		.loc 1 486 2 view .LVU311
 1260 0032 0121     		movs	r1, #1
 1261 0034 3846     		mov	r0, r7
 1262 0036 FFF7FEFF 		bl	rtc_set_channel
 1263              	.LVL85:
 487:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 1264              		.loc 1 487 2 view .LVU312
 1265 003a 6420     		movs	r0, #100
 1266 003c FFF7FEFF 		bl	HAL_Delay
 1267              	.LVL86:
 488:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 1268              		.loc 1 488 2 view .LVU313
 1269              		.loc 1 488 7 is_stmt 0 view .LVU314
 1270 0040 4023     		movs	r3, #64
 1271 0042 8DF82F30 		strb	r3, [sp, #47]
 489:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 1272              		.loc 1 489 2 is_stmt 1 view .LVU315
 1273              		.loc 1 489 5 is_stmt 0 view .LVU316
 1274 0046 0DF12F03 		add	r3, sp, #47
 1275 004a 0122     		movs	r2, #1
 1276 004c 1121     		movs	r1, #17
 1277 004e 0420     		movs	r0, #4
 1278 0050 FFF7FEFF 		bl	drv_wave1006_write_reg
 1279              	.LVL87:
 1280              		.loc 1 489 4 view .LVU317
 1281 0054 0028     		cmp	r0, #0
 1282 0056 40F05D84 		bne	.L75
 490:Device/Src/drv_wave1006.c **** 	{
 491:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 492:Device/Src/drv_wave1006.c **** 	}
 493:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 1283              		.loc 1 493 2 is_stmt 1 view .LVU318
 1284              		.loc 1 493 5 is_stmt 0 view .LVU319
 1285 005a 0DF12F03 		add	r3, sp, #47
 1286 005e 0122     		movs	r2, #1
 1287 0060 4021     		movs	r1, #64
 1288 0062 0420     		movs	r0, #4
 1289 0064 FFF7FEFF 		bl	drv_wave1006_read_reg
 1290              	.LVL88:
 1291              		.loc 1 493 4 view .LVU320
 1292 0068 0028     		cmp	r0, #0
 1293 006a 40F05684 		bne	.L76
 494:Device/Src/drv_wave1006.c **** 	{
 495:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 38


 496:Device/Src/drv_wave1006.c **** 	}
 497:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 1294              		.loc 1 497 2 is_stmt 1 view .LVU321
 1295              		.loc 1 497 7 is_stmt 0 view .LVU322
 1296 006e 9DF82F30 		ldrb	r3, [sp, #47]	@ zero_extendqisi2
 1297 0072 03F0F003 		and	r3, r3, #240
 1298 0076 8DF82F30 		strb	r3, [sp, #47]
 498:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0C;//根据pad配置表，编号12为3031
 1299              		.loc 1 498 2 is_stmt 1 view .LVU323
 1300              		.loc 1 498 7 is_stmt 0 view .LVU324
 1301 007a 43F00C03 		orr	r3, r3, #12
 1302 007e 8DF82F30 		strb	r3, [sp, #47]
 499:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 1303              		.loc 1 499 2 is_stmt 1 view .LVU325
 1304              		.loc 1 499 5 is_stmt 0 view .LVU326
 1305 0082 0DF12F03 		add	r3, sp, #47
 1306 0086 0122     		movs	r2, #1
 1307 0088 4021     		movs	r1, #64
 1308 008a 0420     		movs	r0, #4
 1309 008c FFF7FEFF 		bl	drv_wave1006_write_reg
 1310              	.LVL89:
 1311              		.loc 1 499 4 view .LVU327
 1312 0090 0028     		cmp	r0, #0
 1313 0092 40F04584 		bne	.L77
 500:Device/Src/drv_wave1006.c **** 	{
 501:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 502:Device/Src/drv_wave1006.c **** 	}
 503:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 504:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 1314              		.loc 1 504 2 is_stmt 1 view .LVU328
 1315              		.loc 1 504 5 is_stmt 0 view .LVU329
 1316 0096 0AAB     		add	r3, sp, #40
 1317 0098 0522     		movs	r2, #5
 1318 009a 2D21     		movs	r1, #45
 1319 009c 0420     		movs	r0, #4
 1320 009e FFF7FEFF 		bl	drv_wave1006_write_reg
 1321              	.LVL90:
 1322              		.loc 1 504 4 view .LVU330
 1323 00a2 0028     		cmp	r0, #0
 1324 00a4 40F03F84 		bne	.L78
 505:Device/Src/drv_wave1006.c **** 	{
 506:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 507:Device/Src/drv_wave1006.c **** 	}
 508:Device/Src/drv_wave1006.c **** 		
 509:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 1325              		.loc 1 509 2 is_stmt 1 view .LVU331
 1326              		.loc 1 509 5 is_stmt 0 view .LVU332
 1327 00a8 3020     		movs	r0, #48
 1328 00aa FFF7FEFF 		bl	wave1006_enter_test_mode
 1329              	.LVL91:
 1330              		.loc 1 509 4 view .LVU333
 1331 00ae 0028     		cmp	r0, #0
 1332 00b0 40F03C84 		bne	.L79
 510:Device/Src/drv_wave1006.c **** 	{
 511:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 512:Device/Src/drv_wave1006.c **** 	}
 513:Device/Src/drv_wave1006.c ****  
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 39


 514:Device/Src/drv_wave1006.c ****     /*switch i2c prot, io6 =5V*/
 515:Device/Src/drv_wave1006.c ****  	rtc_set_channel(rtcNumber, RTC_SD3031);//切换pad引脚
 1333              		.loc 1 515 3 is_stmt 1 view .LVU334
 1334 00b4 0221     		movs	r1, #2
 1335 00b6 3846     		mov	r0, r7
 1336 00b8 FFF7FEFF 		bl	rtc_set_channel
 1337              	.LVL92:
 516:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1338              		.loc 1 516 2 view .LVU335
 1339 00bc 0A20     		movs	r0, #10
 1340 00be FFF7FEFF 		bl	HAL_Delay
 1341              	.LVL93:
 517:Device/Src/drv_wave1006.c ****   	buf[0] = 0x80;
 1342              		.loc 1 517 4 view .LVU336
 1343              		.loc 1 517 11 is_stmt 0 view .LVU337
 1344 00c2 8023     		movs	r3, #128
 1345 00c4 8DF82830 		strb	r3, [sp, #40]
 518:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0])!= WAVE1006_EXI
 1346              		.loc 1 518 2 is_stmt 1 view .LVU338
 1347              		.loc 1 518 6 is_stmt 0 view .LVU339
 1348 00c8 0AAB     		add	r3, sp, #40
 1349 00ca 0122     		movs	r2, #1
 1350 00cc 2D21     		movs	r1, #45
 1351 00ce 0420     		movs	r0, #4
 1352 00d0 FFF7FEFF 		bl	drv_wave1006_write_reg
 1353              	.LVL94:
 1354              		.loc 1 518 5 view .LVU340
 1355 00d4 8046     		mov	r8, r0
 1356 00d6 0028     		cmp	r0, #0
 1357 00d8 40F04582 		bne	.L81
 519:Device/Src/drv_wave1006.c **** 		UsbPrintf("write reg error in test mode\n");
 520:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 521:Device/Src/drv_wave1006.c **** 	}
 522:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 523:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 1358              		.loc 1 523 3 is_stmt 1 view .LVU341
 1359              		.loc 1 523 10 is_stmt 0 view .LVU342
 1360 00dc 8223     		movs	r3, #130
 1361 00de 8DF82830 		strb	r3, [sp, #40]
 524:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1362              		.loc 1 524 3 is_stmt 1 view .LVU343
 1363 00e2 0AAB     		add	r3, sp, #40
 1364 00e4 0122     		movs	r2, #1
 1365 00e6 2D21     		movs	r1, #45
 1366 00e8 0420     		movs	r0, #4
 1367 00ea FFF7FEFF 		bl	drv_wave1006_write_reg
 1368              	.LVL95:
 525:Device/Src/drv_wave1006.c **** //    pprog = 1
 526:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 1369              		.loc 1 526 3 view .LVU344
 1370              		.loc 1 526 10 is_stmt 0 view .LVU345
 1371 00ee A223     		movs	r3, #162
 1372 00f0 8DF82830 		strb	r3, [sp, #40]
 527:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1373              		.loc 1 527 3 is_stmt 1 view .LVU346
 1374 00f4 0AAB     		add	r3, sp, #40
 1375 00f6 0122     		movs	r2, #1
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 40


 1376 00f8 2D21     		movs	r1, #45
 1377 00fa 0420     		movs	r0, #4
 1378 00fc FFF7FEFF 		bl	drv_wave1006_write_reg
 1379              	.LVL96:
 528:Device/Src/drv_wave1006.c **** 
 529:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** WRITE OTP ********************************/\r\n");
 1380              		.loc 1 529 2 view .LVU347
 1381 0100 AC48     		ldr	r0, .L84+8
 1382 0102 FFF7FEFF 		bl	UsbPrintf
 1383              	.LVL97:
 530:Device/Src/drv_wave1006.c ****  	rtc_otp_power(8.5);
 1384              		.loc 1 530 3 view .LVU348
 1385 0106 B2EE010A 		vmov.f32	s0, #8.5e+0
 1386 010a FFF7FEFF 		bl	rtc_otp_power
 1387              	.LVL98:
 531:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_15, GPIO_PIN_RESET);//SDA 拉高
 1388              		.loc 1 531 2 view .LVU349
 1389 010e 0022     		movs	r2, #0
 1390 0110 4FF40041 		mov	r1, #32768
 1391 0114 A848     		ldr	r0, .L84+12
 1392 0116 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1393              	.LVL99:
 532:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_SET);//VCE切换
 1394              		.loc 1 532 2 view .LVU350
 1395 011a A84E     		ldr	r6, .L84+16
 1396 011c 0122     		movs	r2, #1
 1397 011e 4021     		movs	r1, #64
 1398 0120 3046     		mov	r0, r6
 1399 0122 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1400              	.LVL100:
 533:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_0, GPIO_PIN_SET);//VCE释放
 1401              		.loc 1 533 2 view .LVU351
 1402 0126 0122     		movs	r2, #1
 1403 0128 1146     		mov	r1, r2
 1404 012a 3046     		mov	r0, r6
 1405 012c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1406              	.LVL101:
 534:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1407              		.loc 1 534 2 view .LVU352
 1408 0130 0A20     		movs	r0, #10
 1409 0132 FFF7FEFF 		bl	HAL_Delay
 1410              	.LVL102:
 535:Device/Src/drv_wave1006.c **** 
 536:Device/Src/drv_wave1006.c **** //    start write otp
 537:Device/Src/drv_wave1006.c **** 	otp_temp =  0x3ffc | (config_arg->test_wp_config << 1) | config_arg->otp_wp_config;
 1411              		.loc 1 537 2 view .LVU353
 1412              		.loc 1 537 34 is_stmt 0 view .LVU354
 1413 0136 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1414              		.loc 1 537 51 view .LVU355
 1415 0138 03F00206 		and	r6, r3, #2
 1416              		.loc 1 537 21 view .LVU356
 1417 013c 46F47F56 		orr	r6, r6, #16320
 1418 0140 46F03C06 		orr	r6, r6, #60
 1419              		.loc 1 537 69 view .LVU357
 1420 0144 03F00103 		and	r3, r3, #1
 1421              		.loc 1 537 57 view .LVU358
 1422 0148 1E43     		orrs	r6, r6, r3
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 41


 1423              		.loc 1 537 11 view .LVU359
 1424 014a ADF82660 		strh	r6, [sp, #38]	@ movhi
 538:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1425              		.loc 1 538 2 is_stmt 1 view .LVU360
 1426              	.LVL103:
 539:Device/Src/drv_wave1006.c ****   wave1006_write_otp_single(0, otp_temp);// addr 0
 1427              		.loc 1 539 3 view .LVU361
 1428 014e 3146     		mov	r1, r6
 1429 0150 0020     		movs	r0, #0
 1430 0152 FFF7FEFF 		bl	wave1006_write_otp_single
 1431              	.LVL104:
 540:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr0:%hx\r\n", otp_temp);
 1432              		.loc 1 540 2 view .LVU362
 1433 0156 BDF82610 		ldrh	r1, [sp, #38]
 1434 015a 9948     		ldr	r0, .L84+20
 1435 015c FFF7FEFF 		bl	UsbPrintf
 1436              	.LVL105:
 541:Device/Src/drv_wave1006.c **** 
 542:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->package_type_config << 10) | (config_arg->freq_en_config << 7) | (config_a
 1437              		.loc 1 542 2 view .LVU363
 1438              		.loc 1 542 24 is_stmt 0 view .LVU364
 1439 0160 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1440 0162 02F00F02 		and	r2, r2, #15
 1441              		.loc 1 542 66 view .LVU365
 1442 0166 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1443 0168 C3F38201 		ubfx	r1, r3, #2, #3
 1444              		.loc 1 542 83 view .LVU366
 1445 016c C901     		lsls	r1, r1, #7
 1446              		.loc 1 542 53 view .LVU367
 1447 016e 41EA8221 		orr	r1, r1, r2, lsl #10
 1448              		.loc 1 542 102 view .LVU368
 1449 0172 03F00303 		and	r3, r3, #3
 1450              		.loc 1 542 89 view .LVU369
 1451 0176 41EA4311 		orr	r1, r1, r3, lsl #5
 1452              		.loc 1 542 142 view .LVU370
 1453 017a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1454 017c C3F38012 		ubfx	r2, r3, #6, #1
 1455              		.loc 1 542 129 view .LVU371
 1456 0180 41EA0211 		orr	r1, r1, r2, lsl #4
 543:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1457              		.loc 1 543 13 view .LVU372
 1458 0184 C3F38303 		ubfx	r3, r3, #2, #4
 542:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1459              		.loc 1 542 165 view .LVU373
 1460 0188 1943     		orrs	r1, r1, r3
 542:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1461              		.loc 1 542 11 view .LVU374
 1462 018a ADF82610 		strh	r1, [sp, #38]	@ movhi
 544:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1463              		.loc 1 544 2 is_stmt 1 view .LVU375
 1464              		.loc 1 544 15 is_stmt 0 view .LVU376
 1465 018e 0E44     		add	r6, r6, r1
 1466              	.LVL106:
 545:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(1, otp_temp);
 1467              		.loc 1 545 2 is_stmt 1 view .LVU377
 1468 0190 0120     		movs	r0, #1
 1469 0192 FFF7FEFF 		bl	wave1006_write_otp_single
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 42


 1470              	.LVL107:
 546:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr1:%hx\r\n", otp_temp);
 1471              		.loc 1 546 2 view .LVU378
 1472 0196 BDF82610 		ldrh	r1, [sp, #38]
 1473 019a 8A48     		ldr	r0, .L84+24
 1474 019c FFF7FEFF 		bl	UsbPrintf
 1475              	.LVL108:
 547:Device/Src/drv_wave1006.c **** 
 548:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->timer_freq_source_config & 0x01) << 13) | (config_arg->ae_disable_config 
 1476              		.loc 1 548 2 view .LVU379
 1477              		.loc 1 548 25 is_stmt 0 view .LVU380
 1478 01a0 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1479 01a2 C3F38101 		ubfx	r1, r3, #2, #2
 1480              		.loc 1 548 60 view .LVU381
 1481 01a6 4903     		lsls	r1, r1, #13
 1482 01a8 01F40051 		and	r1, r1, #8192
 1483              		.loc 1 548 80 view .LVU382
 1484 01ac 03F00303 		and	r3, r3, #3
 1485              		.loc 1 548 67 view .LVU383
 1486 01b0 41EAC321 		orr	r1, r1, r3, lsl #11
 1487              		.loc 1 548 120 view .LVU384
 1488 01b4 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 1489 01b6 03F07F03 		and	r3, r3, #127
 1490              		.loc 1 548 107 view .LVU385
 1491 01ba 41EA0311 		orr	r1, r1, r3, lsl #4
 549:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1492              		.loc 1 549 14 view .LVU386
 1493 01be A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 1494 01c0 DA09     		lsrs	r2, r3, #7
 548:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1495              		.loc 1 548 147 view .LVU387
 1496 01c2 41EAC201 		orr	r1, r1, r2, lsl #3
 1497              		.loc 1 549 53 view .LVU388
 1498 01c6 C3F38012 		ubfx	r2, r3, #6, #1
 1499              		.loc 1 549 40 view .LVU389
 1500 01ca 41EA8201 		orr	r1, r1, r2, lsl #2
 1501              		.loc 1 549 96 view .LVU390
 1502 01ce C3F34012 		ubfx	r2, r3, #5, #1
 1503              		.loc 1 549 82 view .LVU391
 1504 01d2 41EA4201 		orr	r1, r1, r2, lsl #1
 1505              		.loc 1 549 138 view .LVU392
 1506 01d6 C3F30013 		ubfx	r3, r3, #4, #1
 1507              		.loc 1 549 126 view .LVU393
 1508 01da 1943     		orrs	r1, r1, r3
 548:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1509              		.loc 1 548 11 view .LVU394
 1510 01dc ADF82610 		strh	r1, [sp, #38]	@ movhi
 550:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1511              		.loc 1 550 2 is_stmt 1 view .LVU395
 1512              		.loc 1 550 15 is_stmt 0 view .LVU396
 1513 01e0 0E44     		add	r6, r6, r1
 1514              	.LVL109:
 551:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(2, otp_temp);
 1515              		.loc 1 551 2 is_stmt 1 view .LVU397
 1516 01e2 0220     		movs	r0, #2
 1517 01e4 FFF7FEFF 		bl	wave1006_write_otp_single
 1518              	.LVL110:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 43


 552:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr2:%hx\r\n", otp_temp);
 1519              		.loc 1 552 2 view .LVU398
 1520 01e8 BDF82610 		ldrh	r1, [sp, #38]
 1521 01ec 7648     		ldr	r0, .L84+28
 1522 01ee FFF7FEFF 		bl	UsbPrintf
 1523              	.LVL111:
 553:Device/Src/drv_wave1006.c **** 
 554:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->time_update_support_config << 13) | (config_arg->reg_addr_reset_config << 
 1524              		.loc 1 554 2 view .LVU399
 1525              		.loc 1 554 24 is_stmt 0 view .LVU400
 1526 01f2 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 1527 01f4 C3F38002 		ubfx	r2, r3, #2, #1
 1528              		.loc 1 554 73 view .LVU401
 1529 01f8 03F00301 		and	r1, r3, #3
 1530              		.loc 1 554 97 view .LVU402
 1531 01fc C902     		lsls	r1, r1, #11
 1532              		.loc 1 554 60 view .LVU403
 1533 01fe 41EA4231 		orr	r1, r1, r2, lsl #13
 1534              		.loc 1 554 117 view .LVU404
 1535 0202 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 1536 0204 C3F38012 		ubfx	r2, r3, #6, #1
 1537              		.loc 1 554 104 view .LVU405
 1538 0208 41EA8221 		orr	r1, r1, r2, lsl #10
 555:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1539              		.loc 1 555 14 view .LVU406
 1540 020c C3F34012 		ubfx	r2, r3, #5, #1
 554:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1541              		.loc 1 554 154 view .LVU407
 1542 0210 41EA4221 		orr	r1, r1, r2, lsl #9
 1543              		.loc 1 555 59 view .LVU408
 1544 0214 C3F30012 		ubfx	r2, r3, #4, #1
 1545              		.loc 1 555 46 view .LVU409
 1546 0218 41EA0221 		orr	r1, r1, r2, lsl #8
 1547              		.loc 1 555 95 view .LVU410
 1548 021c C3F3C002 		ubfx	r2, r3, #3, #1
 1549              		.loc 1 555 82 view .LVU411
 1550 0220 41EAC211 		orr	r1, r1, r2, lsl #7
 1551              		.loc 1 555 136 view .LVU412
 1552 0224 03F00703 		and	r3, r3, #7
 1553              		.loc 1 555 122 view .LVU413
 1554 0228 41EA0311 		orr	r1, r1, r3, lsl #4
 556:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1555              		.loc 1 556 14 view .LVU414
 1556 022c 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 555:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1557              		.loc 1 555 163 view .LVU415
 1558 022e 41EAC301 		orr	r1, r1, r3, lsl #3
 1559              		.loc 1 556 62 view .LVU416
 1560 0232 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1561 0234 C3F34012 		ubfx	r2, r3, #5, #1
 1562              		.loc 1 556 49 view .LVU417
 1563 0238 41EA8201 		orr	r1, r1, r2, lsl #2
 1564              		.loc 1 556 110 view .LVU418
 1565 023c C3F30012 		ubfx	r2, r3, #4, #1
 1566              		.loc 1 556 97 view .LVU419
 1567 0240 41EA4201 		orr	r1, r1, r2, lsl #1
 557:Device/Src/drv_wave1006.c **** 		((config_arg->timer_freq_source_config >> 1) & 0x01);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 44


 1568              		.loc 1 557 48 view .LVU420
 1569 0244 C3F3C003 		ubfx	r3, r3, #3, #1
 556:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1570              		.loc 1 556 136 view .LVU421
 1571 0248 1943     		orrs	r1, r1, r3
 554:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1572              		.loc 1 554 11 view .LVU422
 1573 024a ADF82610 		strh	r1, [sp, #38]	@ movhi
 558:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1574              		.loc 1 558 2 is_stmt 1 view .LVU423
 1575              		.loc 1 558 15 is_stmt 0 view .LVU424
 1576 024e 0E44     		add	r6, r6, r1
 1577              	.LVL112:
 559:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(3, otp_temp);
 1578              		.loc 1 559 2 is_stmt 1 view .LVU425
 1579 0250 0320     		movs	r0, #3
 1580 0252 FFF7FEFF 		bl	wave1006_write_otp_single
 1581              	.LVL113:
 560:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr3:%hx\r\n", otp_temp);
 1582              		.loc 1 560 2 view .LVU426
 1583 0256 BDF82610 		ldrh	r1, [sp, #38]
 1584 025a 5C48     		ldr	r0, .L84+32
 1585 025c FFF7FEFF 		bl	UsbPrintf
 1586              	.LVL114:
 561:Device/Src/drv_wave1006.c **** 	
 562:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->device_addr_config & 0x0f) << 10) | (config_arg->digtal_comp_sel_config <
 1587              		.loc 1 562 2 view .LVU427
 1588              		.loc 1 562 25 is_stmt 0 view .LVU428
 1589 0260 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1590 0262 5908     		lsrs	r1, r3, #1
 1591              		.loc 1 562 54 view .LVU429
 1592 0264 8902     		lsls	r1, r1, #10
 1593 0266 01F47051 		and	r1, r1, #15360
 1594              		.loc 1 562 74 view .LVU430
 1595 026a 03F00103 		and	r3, r3, #1
 1596              		.loc 1 562 61 view .LVU431
 1597 026e 41EA4321 		orr	r1, r1, r3, lsl #9
 1598              		.loc 1 562 105 view .LVU432
 1599 0272 41F48071 		orr	r1, r1, #256
 1600              		.loc 1 562 128 view .LVU433
 1601 0276 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 1602              		.loc 1 562 116 view .LVU434
 1603 0278 1943     		orrs	r1, r1, r3
 1604              		.loc 1 562 11 view .LVU435
 1605 027a ADF82610 		strh	r1, [sp, #38]	@ movhi
 563:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1606              		.loc 1 563 2 is_stmt 1 view .LVU436
 1607              		.loc 1 563 15 is_stmt 0 view .LVU437
 1608 027e 0E44     		add	r6, r6, r1
 1609              	.LVL115:
 564:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(4, otp_temp);
 1610              		.loc 1 564 2 is_stmt 1 view .LVU438
 1611 0280 0420     		movs	r0, #4
 1612 0282 FFF7FEFF 		bl	wave1006_write_otp_single
 1613              	.LVL116:
 565:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr4:%hx\r\n", otp_temp);
 1614              		.loc 1 565 2 view .LVU439
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 45


 1615 0286 BDF82610 		ldrh	r1, [sp, #38]
 1616 028a 5148     		ldr	r0, .L84+36
 1617 028c FFF7FEFF 		bl	UsbPrintf
 1618              	.LVL117:
 566:Device/Src/drv_wave1006.c **** 
 567:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->rst_out_support_config << 13) | (config_arg->bat_val_ext_config << 12) | (
 1619              		.loc 1 567 2 view .LVU440
 1620              		.loc 1 567 24 is_stmt 0 view .LVU441
 1621 0290 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1622 0292 C3F38002 		ubfx	r2, r3, #2, #1
 1623              		.loc 1 567 69 view .LVU442
 1624 0296 C3F34001 		ubfx	r1, r3, #1, #1
 1625              		.loc 1 567 90 view .LVU443
 1626 029a 0903     		lsls	r1, r1, #12
 1627              		.loc 1 567 56 view .LVU444
 1628 029c 41EA4231 		orr	r1, r1, r2, lsl #13
 1629              		.loc 1 567 110 view .LVU445
 1630 02a0 03F00103 		and	r3, r3, #1
 1631              		.loc 1 567 97 view .LVU446
 1632 02a4 41EAC321 		orr	r1, r1, r3, lsl #11
 568:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1633              		.loc 1 568 14 view .LVU447
 1634 02a8 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1635 02aa DA09     		lsrs	r2, r3, #7
 567:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1636              		.loc 1 567 137 view .LVU448
 1637 02ac 41EA8221 		orr	r1, r1, r2, lsl #10
 1638              		.loc 1 568 58 view .LVU449
 1639 02b0 C3F38012 		ubfx	r2, r3, #6, #1
 1640              		.loc 1 568 45 view .LVU450
 1641 02b4 41EA4221 		orr	r1, r1, r2, lsl #9
 1642              		.loc 1 568 94 view .LVU451
 1643 02b8 C3F34012 		ubfx	r2, r3, #5, #1
 1644              		.loc 1 568 81 view .LVU452
 1645 02bc 41EA0221 		orr	r1, r1, r2, lsl #8
 569:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1646              		.loc 1 569 14 view .LVU453
 1647 02c0 C3F30012 		ubfx	r2, r3, #4, #1
 568:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1648              		.loc 1 568 125 view .LVU454
 1649 02c4 41EAC211 		orr	r1, r1, r2, lsl #7
 1650              		.loc 1 569 60 view .LVU455
 1651 02c8 C3F3C002 		ubfx	r2, r3, #3, #1
 1652              		.loc 1 569 47 view .LVU456
 1653 02cc 41EA8211 		orr	r1, r1, r2, lsl #6
 1654              		.loc 1 569 101 view .LVU457
 1655 02d0 C3F38002 		ubfx	r2, r3, #2, #1
 1656              		.loc 1 569 88 view .LVU458
 1657 02d4 41EA4211 		orr	r1, r1, r2, lsl #5
 570:Device/Src/drv_wave1006.c **** 		(config_arg->timer_ext_config << 4) | (config_arg->alarm_ext_config << 3) | ((config_arg->device_
 1658              		.loc 1 570 14 view .LVU459
 1659 02d8 C3F34002 		ubfx	r2, r3, #1, #1
 569:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1660              		.loc 1 569 130 view .LVU460
 1661 02dc 41EA0211 		orr	r1, r1, r2, lsl #4
 1662              		.loc 1 570 52 view .LVU461
 1663 02e0 03F00103 		and	r3, r3, #1
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 46


 1664              		.loc 1 570 39 view .LVU462
 1665 02e4 41EAC301 		orr	r1, r1, r3, lsl #3
 1666              		.loc 1 570 91 view .LVU463
 1667 02e8 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1668              		.loc 1 570 77 view .LVU464
 1669 02ea 41EA5311 		orr	r1, r1, r3, lsr #5
 567:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1670              		.loc 1 567 11 view .LVU465
 1671 02ee ADF82610 		strh	r1, [sp, #38]	@ movhi
 571:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1672              		.loc 1 571 2 is_stmt 1 view .LVU466
 1673              		.loc 1 571 15 is_stmt 0 view .LVU467
 1674 02f2 0E44     		add	r6, r6, r1
 1675              	.LVL118:
 572:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(5, otp_temp);
 1676              		.loc 1 572 2 is_stmt 1 view .LVU468
 1677 02f4 0520     		movs	r0, #5
 1678 02f6 FFF7FEFF 		bl	wave1006_write_otp_single
 1679              	.LVL119:
 573:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr5:%hx\r\n", otp_temp);
 1680              		.loc 1 573 2 view .LVU469
 1681 02fa BDF82610 		ldrh	r1, [sp, #38]
 1682 02fe 3548     		ldr	r0, .L84+40
 1683 0300 FFF7FEFF 		bl	UsbPrintf
 1684              	.LVL120:
 574:Device/Src/drv_wave1006.c **** 
 575:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config & 0x03) << 12) | (config_arg->en_bat_pulldown_config <<
 1685              		.loc 1 575 2 view .LVU470
 1686              		.loc 1 575 25 is_stmt 0 view .LVU471
 1687 0304 E189     		ldrh	r1, [r4, #14]
 1688 0306 C1F30C01 		ubfx	r1, r1, #0, #13
 1689              		.loc 1 575 53 view .LVU472
 1690 030a 0903     		lsls	r1, r1, #12
 1691 030c 01F44051 		and	r1, r1, #12288
 1692              		.loc 1 575 73 view .LVU473
 1693 0310 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1694 0312 C3F38012 		ubfx	r2, r3, #6, #1
 1695              		.loc 1 575 60 view .LVU474
 1696 0316 41EAC221 		orr	r1, r1, r2, lsl #11
 1697              		.loc 1 575 118 view .LVU475
 1698 031a C3F34012 		ubfx	r2, r3, #5, #1
 1699              		.loc 1 575 105 view .LVU476
 1700 031e 41EA8221 		orr	r1, r1, r2, lsl #10
 576:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1701              		.loc 1 576 14 view .LVU477
 1702 0322 C3F3C102 		ubfx	r2, r3, #3, #2
 575:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1703              		.loc 1 575 154 view .LVU478
 1704 0326 41EA0221 		orr	r1, r1, r2, lsl #8
 1705              		.loc 1 576 56 view .LVU479
 1706 032a 03F00703 		and	r3, r3, #7
 1707              		.loc 1 576 42 view .LVU480
 1708 032e 41EA4311 		orr	r1, r1, r3, lsl #5
 1709              		.loc 1 576 96 view .LVU481
 1710 0332 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1711 0334 5A09     		lsrs	r2, r3, #5
 1712              		.loc 1 576 84 view .LVU482
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 47


 1713 0336 41EA8201 		orr	r1, r1, r2, lsl #2
 1714              		.loc 1 576 139 view .LVU483
 1715 033a C3F30012 		ubfx	r2, r3, #4, #1
 1716              		.loc 1 576 125 view .LVU484
 1717 033e 41EA4201 		orr	r1, r1, r2, lsl #1
 577:Device/Src/drv_wave1006.c **** 		config_arg->temp_alarm_ext_config;
 1718              		.loc 1 577 13 view .LVU485
 1719 0342 C3F3C003 		ubfx	r3, r3, #3, #1
 576:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1720              		.loc 1 576 167 view .LVU486
 1721 0346 1943     		orrs	r1, r1, r3
 575:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1722              		.loc 1 575 11 view .LVU487
 1723 0348 ADF82610 		strh	r1, [sp, #38]	@ movhi
 578:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1724              		.loc 1 578 2 is_stmt 1 view .LVU488
 1725              		.loc 1 578 15 is_stmt 0 view .LVU489
 1726 034c 0E44     		add	r6, r6, r1
 1727              	.LVL121:
 579:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(6, otp_temp);
 1728              		.loc 1 579 2 is_stmt 1 view .LVU490
 1729 034e 0620     		movs	r0, #6
 1730 0350 FFF7FEFF 		bl	wave1006_write_otp_single
 1731              	.LVL122:
 580:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr6:%hx\r\n", otp_temp);
 1732              		.loc 1 580 2 view .LVU491
 1733 0354 BDF82610 		ldrh	r1, [sp, #38]
 1734 0358 1F48     		ldr	r0, .L84+44
 1735 035a FFF7FEFF 		bl	UsbPrintf
 1736              	.LVL123:
 581:Device/Src/drv_wave1006.c **** 
 582:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config << 6) & 0x3f00 ) | id[0];
 1737              		.loc 1 582 2 view .LVU492
 1738              		.loc 1 582 25 is_stmt 0 view .LVU493
 1739 035e E189     		ldrh	r1, [r4, #14]
 1740 0360 C1F30C01 		ubfx	r1, r1, #0, #13
 1741              		.loc 1 582 45 view .LVU494
 1742 0364 8901     		lsls	r1, r1, #6
 1743              		.loc 1 582 51 view .LVU495
 1744 0366 01F47C51 		and	r1, r1, #16128
 1745              		.loc 1 582 66 view .LVU496
 1746 036a 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 1747              		.loc 1 582 62 view .LVU497
 1748 036e 1943     		orrs	r1, r1, r3
 1749              		.loc 1 582 11 view .LVU498
 1750 0370 ADF82610 		strh	r1, [sp, #38]	@ movhi
 583:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1751              		.loc 1 583 2 is_stmt 1 view .LVU499
 1752              		.loc 1 583 15 is_stmt 0 view .LVU500
 1753 0374 0E44     		add	r6, r6, r1
 1754              	.LVL124:
 584:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(7, otp_temp);
 1755              		.loc 1 584 2 is_stmt 1 view .LVU501
 1756 0376 0720     		movs	r0, #7
 1757 0378 FFF7FEFF 		bl	wave1006_write_otp_single
 1758              	.LVL125:
 585:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr7:%hx\r\n", otp_temp);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 48


 1759              		.loc 1 585 2 view .LVU502
 1760 037c BDF82610 		ldrh	r1, [sp, #38]
 1761 0380 1648     		ldr	r0, .L84+48
 1762 0382 FFF7FEFF 		bl	UsbPrintf
 1763              	.LVL126:
 586:Device/Src/drv_wave1006.c **** 
 587:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->spi_freq_en_config << 13) | (config_arg->osc_config_config & 0x1f00 ) | id
 1764              		.loc 1 587 2 view .LVU503
 1765              		.loc 1 587 24 is_stmt 0 view .LVU504
 1766 0386 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 1767 0388 C3F34013 		ubfx	r3, r3, #5, #1
 1768              		.loc 1 587 65 view .LVU505
 1769 038c E189     		ldrh	r1, [r4, #14]
 1770              		.loc 1 587 85 view .LVU506
 1771 038e 01F4F851 		and	r1, r1, #7936
 1772              		.loc 1 587 52 view .LVU507
 1773 0392 41EA4331 		orr	r1, r1, r3, lsl #13
 1774              		.loc 1 587 100 view .LVU508
 1775 0396 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1776              		.loc 1 587 96 view .LVU509
 1777 039a 1943     		orrs	r1, r1, r3
 1778              		.loc 1 587 11 view .LVU510
 1779 039c ADF82610 		strh	r1, [sp, #38]	@ movhi
 588:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1780              		.loc 1 588 2 is_stmt 1 view .LVU511
 1781              		.loc 1 588 15 is_stmt 0 view .LVU512
 1782 03a0 0E44     		add	r6, r6, r1
 1783              	.LVL127:
 589:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(8, otp_temp);
 1784              		.loc 1 589 2 is_stmt 1 view .LVU513
 1785 03a2 0820     		movs	r0, #8
 1786 03a4 FFF7FEFF 		bl	wave1006_write_otp_single
 1787              	.LVL128:
 1788 03a8 1AE0     		b	.L85
 1789              	.L86:
 1790 03aa 00BF     		.align	2
 1791              	.L84:
 1792 03ac 00000000 		.word	.LANCHOR0
 1793 03b0 00000000 		.word	.LC3
 1794 03b4 38000000 		.word	.LC5
 1795 03b8 00040240 		.word	1073873920
 1796 03bc 00100240 		.word	1073876992
 1797 03c0 84000000 		.word	.LC6
 1798 03c4 94000000 		.word	.LC7
 1799 03c8 A4000000 		.word	.LC8
 1800 03cc B4000000 		.word	.LC9
 1801 03d0 C4000000 		.word	.LC10
 1802 03d4 D4000000 		.word	.LC11
 1803 03d8 E4000000 		.word	.LC12
 1804 03dc F4000000 		.word	.LC13
 1805              	.L85:
 590:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr8:%hx\r\n", otp_temp);
 1806              		.loc 1 590 2 view .LVU514
 1807 03e0 BDF82610 		ldrh	r1, [sp, #38]
 1808 03e4 A248     		ldr	r0, .L87
 1809 03e6 FFF7FEFF 		bl	UsbPrintf
 1810              	.LVL129:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 49


 591:Device/Src/drv_wave1006.c **** 
 592:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->freq_src_config & 0x03) << 12) | (config_arg->vol_sel_config << 8) | id[2
 1811              		.loc 1 592 2 view .LVU515
 1812              		.loc 1 592 25 is_stmt 0 view .LVU516
 1813 03ea 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1814 03ec C3F30211 		ubfx	r1, r3, #4, #3
 1815              		.loc 1 592 51 view .LVU517
 1816 03f0 0903     		lsls	r1, r1, #12
 1817 03f2 01F44051 		and	r1, r1, #12288
 1818              		.loc 1 592 71 view .LVU518
 1819 03f6 03F00F03 		and	r3, r3, #15
 1820              		.loc 1 592 58 view .LVU519
 1821 03fa 41EA0321 		orr	r1, r1, r3, lsl #8
 1822              		.loc 1 592 98 view .LVU520
 1823 03fe 99F80230 		ldrb	r3, [r9, #2]	@ zero_extendqisi2
 1824              		.loc 1 592 94 view .LVU521
 1825 0402 1943     		orrs	r1, r1, r3
 1826              		.loc 1 592 11 view .LVU522
 1827 0404 ADF82610 		strh	r1, [sp, #38]	@ movhi
 593:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1828              		.loc 1 593 2 is_stmt 1 view .LVU523
 1829              		.loc 1 593 15 is_stmt 0 view .LVU524
 1830 0408 0E44     		add	r6, r6, r1
 1831              	.LVL130:
 594:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(9, otp_temp);
 1832              		.loc 1 594 2 is_stmt 1 view .LVU525
 1833 040a 0920     		movs	r0, #9
 1834 040c FFF7FEFF 		bl	wave1006_write_otp_single
 1835              	.LVL131:
 595:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr9:%hx\r\n", otp_temp);
 1836              		.loc 1 595 2 view .LVU526
 1837 0410 BDF82610 		ldrh	r1, [sp, #38]
 1838 0414 9748     		ldr	r0, .L87+4
 1839 0416 FFF7FEFF 		bl	UsbPrintf
 1840              	.LVL132:
 596:Device/Src/drv_wave1006.c **** 	
 597:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->comp_period_config  << 12) | (config_arg->sout_open_drain_config << 11) | 
 1841              		.loc 1 597 2 view .LVU527
 1842              		.loc 1 597 24 is_stmt 0 view .LVU528
 1843 041a 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1844 041c C3F38102 		ubfx	r2, r3, #2, #2
 1845              		.loc 1 597 66 view .LVU529
 1846 0420 C3F34001 		ubfx	r1, r3, #1, #1
 1847              		.loc 1 597 91 view .LVU530
 1848 0424 C902     		lsls	r1, r1, #11
 1849              		.loc 1 597 53 view .LVU531
 1850 0426 41EA0231 		orr	r1, r1, r2, lsl #12
 1851              		.loc 1 597 111 view .LVU532
 1852 042a 03F00103 		and	r3, r3, #1
 1853              		.loc 1 597 98 view .LVU533
 1854 042e 41EA8321 		orr	r1, r1, r3, lsl #10
 598:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1855              		.loc 1 598 14 view .LVU534
 1856 0432 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1857 0434 DA09     		lsrs	r2, r3, #7
 597:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1858              		.loc 1 597 143 view .LVU535
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 50


 1859 0436 41EA4221 		orr	r1, r1, r2, lsl #9
 1860              		.loc 1 598 55 view .LVU536
 1861 043a C3F30213 		ubfx	r3, r3, #4, #3
 1862              		.loc 1 598 81 view .LVU537
 1863 043e 9B01     		lsls	r3, r3, #6
 1864 0440 03F48073 		and	r3, r3, #256
 1865              		.loc 1 598 41 view .LVU538
 1866 0444 1943     		orrs	r1, r1, r3
 1867              		.loc 1 598 91 view .LVU539
 1868 0446 99F80330 		ldrb	r3, [r9, #3]	@ zero_extendqisi2
 1869              		.loc 1 598 87 view .LVU540
 1870 044a 1943     		orrs	r1, r1, r3
 597:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1871              		.loc 1 597 11 view .LVU541
 1872 044c ADF82610 		strh	r1, [sp, #38]	@ movhi
 599:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1873              		.loc 1 599 2 is_stmt 1 view .LVU542
 1874              		.loc 1 599 15 is_stmt 0 view .LVU543
 1875 0450 0E44     		add	r6, r6, r1
 1876              	.LVL133:
 600:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(10, otp_temp);
 1877              		.loc 1 600 2 is_stmt 1 view .LVU544
 1878 0452 0A20     		movs	r0, #10
 1879 0454 FFF7FEFF 		bl	wave1006_write_otp_single
 1880              	.LVL134:
 601:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addra:%hx\r\n", otp_temp);
 1881              		.loc 1 601 2 view .LVU545
 1882 0458 BDF82610 		ldrh	r1, [sp, #38]
 1883 045c 8648     		ldr	r0, .L87+8
 1884 045e FFF7FEFF 		bl	UsbPrintf
 1885              	.LVL135:
 602:Device/Src/drv_wave1006.c **** 
 603:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->adjust_25_config & 0x0f) << 10) | (config_arg->rst_time_config << 8) | id
 1886              		.loc 1 603 2 view .LVU546
 1887              		.loc 1 603 25 is_stmt 0 view .LVU547
 1888 0462 A17C     		ldrb	r1, [r4, #18]	@ zero_extendqisi2
 1889 0464 01F07F01 		and	r1, r1, #127
 1890              		.loc 1 603 52 view .LVU548
 1891 0468 8902     		lsls	r1, r1, #10
 1892 046a 01F47051 		and	r1, r1, #15360
 1893              		.loc 1 603 72 view .LVU549
 1894 046e 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1895 0470 C3F30113 		ubfx	r3, r3, #4, #2
 1896              		.loc 1 603 59 view .LVU550
 1897 0474 41EA0321 		orr	r1, r1, r3, lsl #8
 1898              		.loc 1 603 100 view .LVU551
 1899 0478 99F80430 		ldrb	r3, [r9, #4]	@ zero_extendqisi2
 1900              		.loc 1 603 96 view .LVU552
 1901 047c 1943     		orrs	r1, r1, r3
 1902              		.loc 1 603 11 view .LVU553
 1903 047e ADF82610 		strh	r1, [sp, #38]	@ movhi
 604:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1904              		.loc 1 604 2 is_stmt 1 view .LVU554
 1905              		.loc 1 604 15 is_stmt 0 view .LVU555
 1906 0482 0E44     		add	r6, r6, r1
 1907              	.LVL136:
 605:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(11, otp_temp);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 51


 1908              		.loc 1 605 2 is_stmt 1 view .LVU556
 1909 0484 0B20     		movs	r0, #11
 1910 0486 FFF7FEFF 		bl	wave1006_write_otp_single
 1911              	.LVL137:
 606:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrb:%hx\r\n", otp_temp);
 1912              		.loc 1 606 2 view .LVU557
 1913 048a BDF82610 		ldrh	r1, [sp, #38]
 1914 048e 7B48     		ldr	r0, .L87+12
 1915 0490 FFF7FEFF 		bl	UsbPrintf
 1916              	.LVL138:
 607:Device/Src/drv_wave1006.c **** 
 608:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->bus_select_config << 13) | (1 << 12) | (config_arg->spi_mode_config << 11)
 1917              		.loc 1 608 2 view .LVU558
 1918              		.loc 1 608 24 is_stmt 0 view .LVU559
 1919 0494 E17C     		ldrb	r1, [r4, #19]	@ zero_extendqisi2
 1920 0496 01F00101 		and	r1, r1, #1
 1921              		.loc 1 608 44 view .LVU560
 1922 049a 4903     		lsls	r1, r1, #13
 1923              		.loc 1 608 51 view .LVU561
 1924 049c 41F48051 		orr	r1, r1, #4096
 1925              		.loc 1 608 76 view .LVU562
 1926 04a0 A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 1927 04a2 DA09     		lsrs	r2, r3, #7
 1928              		.loc 1 608 63 view .LVU563
 1929 04a4 41EAC221 		orr	r1, r1, r2, lsl #11
 1930              		.loc 1 608 115 view .LVU564
 1931 04a8 03F07F03 		and	r3, r3, #127
 1932              		.loc 1 608 134 view .LVU565
 1933 04ac 1B01     		lsls	r3, r3, #4
 1934              		.loc 1 608 140 view .LVU566
 1935 04ae 03F4E063 		and	r3, r3, #1792
 1936              		.loc 1 608 101 view .LVU567
 1937 04b2 1943     		orrs	r1, r1, r3
 1938              		.loc 1 608 153 view .LVU568
 1939 04b4 99F80530 		ldrb	r3, [r9, #5]	@ zero_extendqisi2
 1940              		.loc 1 608 149 view .LVU569
 1941 04b8 1943     		orrs	r1, r1, r3
 1942              		.loc 1 608 11 view .LVU570
 1943 04ba ADF82610 		strh	r1, [sp, #38]	@ movhi
 609:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1944              		.loc 1 609 2 is_stmt 1 view .LVU571
 1945              		.loc 1 609 15 is_stmt 0 view .LVU572
 1946 04be 0E44     		add	r6, r6, r1
 1947              	.LVL139:
 610:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(12, otp_temp);
 1948              		.loc 1 610 2 is_stmt 1 view .LVU573
 1949 04c0 0C20     		movs	r0, #12
 1950 04c2 FFF7FEFF 		bl	wave1006_write_otp_single
 1951              	.LVL140:
 611:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrc:%hx\r\n", otp_temp);
 1952              		.loc 1 611 2 view .LVU574
 1953 04c6 BDF82610 		ldrh	r1, [sp, #38]
 1954 04ca 6D48     		ldr	r0, .L87+16
 1955 04cc FFF7FEFF 		bl	UsbPrintf
 1956              	.LVL141:
 612:Device/Src/drv_wave1006.c **** 
 613:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 9) & 0x3e00) | (config_arg->en_charge_config << 8) | 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 52


 1957              		.loc 1 613 2 view .LVU575
 1958              		.loc 1 613 25 is_stmt 0 view .LVU576
 1959 04d0 A18A     		ldrh	r1, [r4, #20]
 1960 04d2 C1F30C01 		ubfx	r1, r1, #0, #13
 1961              		.loc 1 613 44 view .LVU577
 1962 04d6 4902     		lsls	r1, r1, #9
 1963              		.loc 1 613 50 view .LVU578
 1964 04d8 01F47851 		and	r1, r1, #15872
 1965              		.loc 1 613 73 view .LVU579
 1966 04dc E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 1967 04de C3F34003 		ubfx	r3, r3, #1, #1
 1968              		.loc 1 613 60 view .LVU580
 1969 04e2 41EA0321 		orr	r1, r1, r3, lsl #8
 1970              		.loc 1 613 102 view .LVU581
 1971 04e6 99F80630 		ldrb	r3, [r9, #6]	@ zero_extendqisi2
 1972              		.loc 1 613 98 view .LVU582
 1973 04ea 1943     		orrs	r1, r1, r3
 1974              		.loc 1 613 11 view .LVU583
 1975 04ec ADF82610 		strh	r1, [sp, #38]	@ movhi
 614:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1976              		.loc 1 614 2 is_stmt 1 view .LVU584
 1977              		.loc 1 614 15 is_stmt 0 view .LVU585
 1978 04f0 0E44     		add	r6, r6, r1
 1979              	.LVL142:
 615:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(13, otp_temp);
 1980              		.loc 1 615 2 is_stmt 1 view .LVU586
 1981 04f2 0D20     		movs	r0, #13
 1982 04f4 FFF7FEFF 		bl	wave1006_write_otp_single
 1983              	.LVL143:
 616:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrd:%hx\r\n", otp_temp);
 1984              		.loc 1 616 2 view .LVU587
 1985 04f8 BDF82610 		ldrh	r1, [sp, #38]
 1986 04fc 6148     		ldr	r0, .L87+20
 1987 04fe FFF7FEFF 		bl	UsbPrintf
 1988              	.LVL144:
 617:Device/Src/drv_wave1006.c **** 
 618:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 3) & 0x3f00) | id[7];
 1989              		.loc 1 618 2 view .LVU588
 1990              		.loc 1 618 25 is_stmt 0 view .LVU589
 1991 0502 A18A     		ldrh	r1, [r4, #20]
 1992 0504 C1F30C01 		ubfx	r1, r1, #0, #13
 1993              		.loc 1 618 44 view .LVU590
 1994 0508 C900     		lsls	r1, r1, #3
 1995              		.loc 1 618 50 view .LVU591
 1996 050a 01F47C51 		and	r1, r1, #16128
 1997              		.loc 1 618 64 view .LVU592
 1998 050e 99F80730 		ldrb	r3, [r9, #7]	@ zero_extendqisi2
 1999              		.loc 1 618 60 view .LVU593
 2000 0512 1943     		orrs	r1, r1, r3
 2001              		.loc 1 618 11 view .LVU594
 2002 0514 ADF82610 		strh	r1, [sp, #38]	@ movhi
 619:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 2003              		.loc 1 619 2 is_stmt 1 view .LVU595
 2004              		.loc 1 619 15 is_stmt 0 view .LVU596
 2005 0518 0E44     		add	r6, r6, r1
 2006              	.LVL145:
 620:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(14, otp_temp);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 53


 2007              		.loc 1 620 2 is_stmt 1 view .LVU597
 2008 051a 0E20     		movs	r0, #14
 2009 051c FFF7FEFF 		bl	wave1006_write_otp_single
 2010              	.LVL146:
 621:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addre:%hx\r\n", otp_temp);
 2011              		.loc 1 621 2 view .LVU598
 2012 0520 BDF82610 		ldrh	r1, [sp, #38]
 2013 0524 5848     		ldr	r0, .L87+24
 2014 0526 FFF7FEFF 		bl	UsbPrintf
 2015              	.LVL147:
 622:Device/Src/drv_wave1006.c **** 
 623:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->timer_rst_out_config << 13)  | (config_arg->charge_vol_adj_config << 10) |
 2016              		.loc 1 623 2 view .LVU599
 2017              		.loc 1 623 24 is_stmt 0 view .LVU600
 2018 052a A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 2019 052c 03F00103 		and	r3, r3, #1
 2020              		.loc 1 623 68 view .LVU601
 2021 0530 617D     		ldrb	r1, [r4, #21]	@ zero_extendqisi2
 2022 0532 4909     		lsrs	r1, r1, #5
 2023              		.loc 1 623 92 view .LVU602
 2024 0534 8902     		lsls	r1, r1, #10
 2025              		.loc 1 623 55 view .LVU603
 2026 0536 41EA4331 		orr	r1, r1, r3, lsl #13
 2027              		.loc 1 623 113 view .LVU604
 2028 053a A38A     		ldrh	r3, [r4, #20]
 2029              		.loc 1 623 132 view .LVU605
 2030 053c C3F3C903 		ubfx	r3, r3, #3, #10
 2031              		.loc 1 623 138 view .LVU606
 2032 0540 03F44073 		and	r3, r3, #768
 2033              		.loc 1 623 99 view .LVU607
 2034 0544 1943     		orrs	r1, r1, r3
 2035              		.loc 1 623 151 view .LVU608
 2036 0546 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 2037              		.loc 1 623 147 view .LVU609
 2038 054a 1943     		orrs	r1, r1, r3
 2039              		.loc 1 623 11 view .LVU610
 2040 054c ADF82610 		strh	r1, [sp, #38]	@ movhi
 624:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 2041              		.loc 1 624 2 is_stmt 1 view .LVU611
 2042              		.loc 1 624 15 is_stmt 0 view .LVU612
 2043 0550 0E44     		add	r6, r6, r1
 2044              	.LVL148:
 625:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(15, otp_temp);
 2045              		.loc 1 625 2 is_stmt 1 view .LVU613
 2046 0552 0F20     		movs	r0, #15
 2047 0554 FFF7FEFF 		bl	wave1006_write_otp_single
 2048              	.LVL149:
 626:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrf:%hx\r\n", otp_temp);
 2049              		.loc 1 626 2 view .LVU614
 2050 0558 BDF82610 		ldrh	r1, [sp, #38]
 2051 055c 4B48     		ldr	r0, .L87+28
 2052 055e FFF7FEFF 		bl	UsbPrintf
 2053              	.LVL150:
 627:Device/Src/drv_wave1006.c **** 
 628:Device/Src/drv_wave1006.c **** 	for (i = 16; i < 47; i++)
 2054              		.loc 1 628 2 view .LVU615
 2055              		.loc 1 628 9 is_stmt 0 view .LVU616
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 54


 2056 0562 1024     		movs	r4, #16
 2057              	.LVL151:
 2058              		.loc 1 628 2 view .LVU617
 2059 0564 13E0     		b	.L67
 2060              	.LVL152:
 2061              	.L81:
 519:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2062              		.loc 1 519 3 is_stmt 1 view .LVU618
 2063 0566 4A48     		ldr	r0, .L87+32
 2064 0568 FFF7FEFF 		bl	UsbPrintf
 2065              	.LVL153:
 520:Device/Src/drv_wave1006.c **** 	}
 2066              		.loc 1 520 3 view .LVU619
 520:Device/Src/drv_wave1006.c **** 	}
 2067              		.loc 1 520 10 is_stmt 0 view .LVU620
 2068 056c 6FF00208 		mvn	r8, #2
 2069 0570 3EE1     		b	.L65
 2070              	.LVL154:
 2071              	.L68:
 629:Device/Src/drv_wave1006.c **** 	{
 630:Device/Src/drv_wave1006.c **** 		otp_temp = 0x3f00 | id[9+i-16];
 2072              		.loc 1 630 3 is_stmt 1 discriminator 3 view .LVU621
 2073              		.loc 1 630 25 is_stmt 0 discriminator 3 view .LVU622
 2074 0572 09EB0403 		add	r3, r9, r4
 2075 0576 13F8071C 		ldrb	r1, [r3, #-7]	@ zero_extendqisi2
 2076              		.loc 1 630 21 discriminator 3 view .LVU623
 2077 057a 41F47C51 		orr	r1, r1, #16128
 2078              		.loc 1 630 12 discriminator 3 view .LVU624
 2079 057e ADF82610 		strh	r1, [sp, #38]	@ movhi
 631:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2080              		.loc 1 631 3 is_stmt 1 discriminator 3 view .LVU625
 2081              		.loc 1 631 16 is_stmt 0 discriminator 3 view .LVU626
 2082 0582 0E44     		add	r6, r6, r1
 2083              	.LVL155:
 632:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2084              		.loc 1 632 3 is_stmt 1 discriminator 3 view .LVU627
 2085 0584 2046     		mov	r0, r4
 2086 0586 FFF7FEFF 		bl	wave1006_write_otp_single
 2087              	.LVL156:
 628:Device/Src/drv_wave1006.c **** 	{
 2088              		.loc 1 628 23 discriminator 3 view .LVU628
 628:Device/Src/drv_wave1006.c **** 	{
 2089              		.loc 1 628 24 is_stmt 0 discriminator 3 view .LVU629
 2090 058a 0134     		adds	r4, r4, #1
 2091              	.LVL157:
 628:Device/Src/drv_wave1006.c **** 	{
 2092              		.loc 1 628 24 discriminator 3 view .LVU630
 2093 058c A4B2     		uxth	r4, r4
 2094              	.LVL158:
 2095              	.L67:
 628:Device/Src/drv_wave1006.c **** 	{
 2096              		.loc 1 628 15 is_stmt 1 discriminator 1 view .LVU631
 628:Device/Src/drv_wave1006.c **** 	{
 2097              		.loc 1 628 2 is_stmt 0 discriminator 1 view .LVU632
 2098 058e 2E2C     		cmp	r4, #46
 2099 0590 EFD9     		bls	.L68
 633:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 55


 634:Device/Src/drv_wave1006.c **** 	}
 635:Device/Src/drv_wave1006.c **** 	check_sum_wr += 0x3fff;
 2100              		.loc 1 635 2 is_stmt 1 view .LVU633
 2101              		.loc 1 635 15 is_stmt 0 view .LVU634
 2102 0592 06F57F56 		add	r6, r6, #16320
 2103              	.LVL159:
 2104              		.loc 1 635 15 view .LVU635
 2105 0596 3F36     		adds	r6, r6, #63
 2106              	.LVL160:
 636:Device/Src/drv_wave1006.c **** //	write temp value
 637:Device/Src/drv_wave1006.c **** 	for (i = 48; i < 1024 ; i = i + 2)
 2107              		.loc 1 637 2 is_stmt 1 view .LVU636
 2108              		.loc 1 637 9 is_stmt 0 view .LVU637
 2109 0598 3024     		movs	r4, #48
 2110              		.loc 1 637 2 view .LVU638
 2111 059a 26E0     		b	.L69
 2112              	.LVL161:
 2113              	.L70:
 638:Device/Src/drv_wave1006.c **** 	{
 639:Device/Src/drv_wave1006.c **** 		otp_temp = ((temp_arg->temp_adj & 0x07) << 11) | (temp_arg->cap_com << 6) | (temp_arg->cap_in << 
 2114              		.loc 1 639 3 is_stmt 1 discriminator 3 view .LVU639
 2115              		.loc 1 639 24 is_stmt 0 discriminator 3 view .LVU640
 2116 059c A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2117              		.loc 1 639 43 discriminator 3 view .LVU641
 2118 059e C902     		lsls	r1, r1, #11
 2119 05a0 01F46051 		and	r1, r1, #14336
 2120              		.loc 1 639 61 discriminator 3 view .LVU642
 2121 05a4 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 2122 05a6 03F01F02 		and	r2, r3, #31
 2123              		.loc 1 639 50 discriminator 3 view .LVU643
 2124 05aa 41EA8211 		orr	r1, r1, r2, lsl #6
 2125              		.loc 1 639 88 discriminator 3 view .LVU644
 2126 05ae 5B09     		lsrs	r3, r3, #5
 2127              		.loc 1 639 77 discriminator 3 view .LVU645
 2128 05b0 41EAC301 		orr	r1, r1, r3, lsl #3
 2129              		.loc 1 639 113 discriminator 3 view .LVU646
 2130 05b4 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2131 05b6 03F00703 		and	r3, r3, #7
 2132              		.loc 1 639 103 discriminator 3 view .LVU647
 2133 05ba 1943     		orrs	r1, r1, r3
 2134              		.loc 1 639 12 discriminator 3 view .LVU648
 2135 05bc ADF82610 		strh	r1, [sp, #38]	@ movhi
 640:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2136              		.loc 1 640 3 is_stmt 1 discriminator 3 view .LVU649
 2137              		.loc 1 640 16 is_stmt 0 discriminator 3 view .LVU650
 2138 05c0 0E44     		add	r6, r6, r1
 2139              	.LVL162:
 641:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 2140              		.loc 1 641 3 is_stmt 1 discriminator 3 view .LVU651
 2141 05c2 2046     		mov	r0, r4
 2142 05c4 FFF7FEFF 		bl	wave1006_write_otp_single
 2143              	.LVL163:
 642:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i, otp_temp);
 643:Device/Src/drv_wave1006.c **** 
 644:Device/Src/drv_wave1006.c **** 		otp_temp = (temp_arg->temp_val << 5) | (temp_arg->temp_adj >> 3);
 2144              		.loc 1 644 3 discriminator 3 view .LVU652
 2145              		.loc 1 644 23 is_stmt 0 discriminator 3 view .LVU653
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 56


 2146 05c8 A988     		ldrh	r1, [r5, #4]
 2147 05ca C1F30803 		ubfx	r3, r1, #0, #9
 2148              		.loc 1 644 51 discriminator 3 view .LVU654
 2149 05ce A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 2150              		.loc 1 644 40 discriminator 3 view .LVU655
 2151 05d0 C908     		lsrs	r1, r1, #3
 2152 05d2 41EA4311 		orr	r1, r1, r3, lsl #5
 2153              		.loc 1 644 12 discriminator 3 view .LVU656
 2154 05d6 ADF82610 		strh	r1, [sp, #38]	@ movhi
 645:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 2155              		.loc 1 645 3 is_stmt 1 discriminator 3 view .LVU657
 2156              		.loc 1 645 16 is_stmt 0 discriminator 3 view .LVU658
 2157 05da 0E44     		add	r6, r6, r1
 2158              	.LVL164:
 646:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i + 1, otp_temp);
 2159              		.loc 1 646 3 is_stmt 1 discriminator 3 view .LVU659
 2160 05dc 601C     		adds	r0, r4, #1
 2161 05de 80B2     		uxth	r0, r0
 2162 05e0 FFF7FEFF 		bl	wave1006_write_otp_single
 2163              	.LVL165:
 647:Device/Src/drv_wave1006.c **** 		// UsbPrintf("otp addr%hx:%hx\r\n",i + 1, otp_temp);
 648:Device/Src/drv_wave1006.c **** 		temp_arg++;    //温补数据指向下一个字节
 2164              		.loc 1 648 3 discriminator 3 view .LVU660
 2165              		.loc 1 648 11 is_stmt 0 discriminator 3 view .LVU661
 2166 05e4 0635     		adds	r5, r5, #6
 2167              	.LVL166:
 637:Device/Src/drv_wave1006.c **** 	{
 2168              		.loc 1 637 26 is_stmt 1 discriminator 3 view .LVU662
 637:Device/Src/drv_wave1006.c **** 	{
 2169              		.loc 1 637 28 is_stmt 0 discriminator 3 view .LVU663
 2170 05e6 0234     		adds	r4, r4, #2
 2171              	.LVL167:
 637:Device/Src/drv_wave1006.c **** 	{
 2172              		.loc 1 637 28 discriminator 3 view .LVU664
 2173 05e8 A4B2     		uxth	r4, r4
 2174              	.LVL168:
 2175              	.L69:
 637:Device/Src/drv_wave1006.c **** 	{
 2176              		.loc 1 637 15 is_stmt 1 discriminator 1 view .LVU665
 637:Device/Src/drv_wave1006.c **** 	{
 2177              		.loc 1 637 2 is_stmt 0 discriminator 1 view .LVU666
 2178 05ea B4F5806F 		cmp	r4, #1024
 2179 05ee D5D3     		bcc	.L70
 649:Device/Src/drv_wave1006.c **** 	}
 650:Device/Src/drv_wave1006.c **** 	wr_pos = i;
 2180              		.loc 1 650 2 is_stmt 1 view .LVU667
 2181              	.LVL169:
 651:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ OTP ********************************/\r\n");
 2182              		.loc 1 651 2 view .LVU668
 2183 05f0 2848     		ldr	r0, .L87+36
 2184 05f2 FFF7FEFF 		bl	UsbPrintf
 2185              	.LVL170:
 652:Device/Src/drv_wave1006.c **** //	write otp is complete, switch i2c prot, io6 =5V
 653:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  
 2186              		.loc 1 653 2 view .LVU669
 2187 05f6 B1EE040A 		vmov.f32	s0, #5.0e+0
 2188 05fa FFF7FEFF 		bl	rtc_otp_power
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 57


 2189              	.LVL171:
 654:Device/Src/drv_wave1006.c **** //  pprog = 0 
 655:Device/Src/drv_wave1006.c ****     buf[0] = 0x82;
 2190              		.loc 1 655 5 view .LVU670
 2191              		.loc 1 655 12 is_stmt 0 view .LVU671
 2192 05fe 8223     		movs	r3, #130
 2193 0600 8DF82830 		strb	r3, [sp, #40]
 656:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2194              		.loc 1 656 2 is_stmt 1 view .LVU672
 2195 0604 0AAB     		add	r3, sp, #40
 2196 0606 0122     		movs	r2, #1
 2197 0608 2D21     		movs	r1, #45
 2198 060a 0020     		movs	r0, #0
 2199 060c FFF7FEFF 		bl	drv_wave1006_write_reg
 2200              	.LVL172:
 657:Device/Src/drv_wave1006.c **** //    ptm=000
 658:Device/Src/drv_wave1006.c ****     buf[0] = 0x80;
 2201              		.loc 1 658 5 view .LVU673
 2202              		.loc 1 658 12 is_stmt 0 view .LVU674
 2203 0610 8023     		movs	r3, #128
 2204 0612 8DF82830 		strb	r3, [sp, #40]
 659:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2205              		.loc 1 659 2 is_stmt 1 view .LVU675
 2206 0616 0AAB     		add	r3, sp, #40
 2207 0618 0122     		movs	r2, #1
 2208 061a 2D21     		movs	r1, #45
 2209 061c 0020     		movs	r0, #0
 2210 061e FFF7FEFF 		bl	drv_wave1006_write_reg
 2211              	.LVL173:
 660:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 661:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2212              		.loc 1 661 5 view .LVU676
 2213              		.loc 1 661 12 is_stmt 0 view .LVU677
 2214 0622 0025     		movs	r5, #0
 2215              	.LVL174:
 2216              		.loc 1 661 12 view .LVU678
 2217 0624 8DF82850 		strb	r5, [sp, #40]
 662:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2218              		.loc 1 662 5 is_stmt 1 view .LVU679
 2219              		.loc 1 662 12 is_stmt 0 view .LVU680
 2220 0628 8DF82950 		strb	r5, [sp, #41]
 663:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2221              		.loc 1 663 5 is_stmt 1 view .LVU681
 2222              		.loc 1 663 12 is_stmt 0 view .LVU682
 2223 062c 8DF82A50 		strb	r5, [sp, #42]
 664:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2224              		.loc 1 664 5 is_stmt 1 view .LVU683
 2225              		.loc 1 664 12 is_stmt 0 view .LVU684
 2226 0630 8DF82B50 		strb	r5, [sp, #43]
 665:Device/Src/drv_wave1006.c ****     drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2227              		.loc 1 665 5 is_stmt 1 view .LVU685
 2228 0634 0AAB     		add	r3, sp, #40
 2229 0636 0422     		movs	r2, #4
 2230 0638 2D21     		movs	r1, #45
 2231 063a 2846     		mov	r0, r5
 2232 063c FFF7FEFF 		bl	drv_wave1006_write_reg
 2233              	.LVL175:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 58


 666:Device/Src/drv_wave1006.c **** 	// UsbPrintf("wr_pos = %hx\r\n",wr_pos);
 667:Device/Src/drv_wave1006.c **** //	check write value
 668:Device/Src/drv_wave1006.c **** 	for (i = 0; i < wr_pos; i++)
 2234              		.loc 1 668 2 view .LVU686
 480:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 2235              		.loc 1 480 11 is_stmt 0 view .LVU687
 2236 0640 A946     		mov	r9, r5
 2237              	.LVL176:
 2238              		.loc 1 668 2 view .LVU688
 2239 0642 06E0     		b	.L71
 2240              	.LVL177:
 2241              	.L83:
 669:Device/Src/drv_wave1006.c **** 	{
 670:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 671:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 672:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 673:Device/Src/drv_wave1006.c **** 		{
 674:Device/Src/drv_wave1006.c **** 			otp_buf[i] = otp_temp;
 2242              		.loc 1 674 4 is_stmt 1 view .LVU689
 2243              		.loc 1 674 15 is_stmt 0 view .LVU690
 2244 0644 0CAB     		add	r3, sp, #48
 2245 0646 03EB4503 		add	r3, r3, r5, lsl #1
 2246 064a 23F82C2C 		strh	r2, [r3, #-44]	@ movhi
 2247              	.L72:
 668:Device/Src/drv_wave1006.c **** 	{
 2248              		.loc 1 668 26 is_stmt 1 discriminator 2 view .LVU691
 668:Device/Src/drv_wave1006.c **** 	{
 2249              		.loc 1 668 27 is_stmt 0 discriminator 2 view .LVU692
 2250 064e 0135     		adds	r5, r5, #1
 2251              	.LVL178:
 668:Device/Src/drv_wave1006.c **** 	{
 2252              		.loc 1 668 27 discriminator 2 view .LVU693
 2253 0650 ADB2     		uxth	r5, r5
 2254              	.LVL179:
 2255              	.L71:
 668:Device/Src/drv_wave1006.c **** 	{
 2256              		.loc 1 668 14 is_stmt 1 discriminator 1 view .LVU694
 668:Device/Src/drv_wave1006.c **** 	{
 2257              		.loc 1 668 2 is_stmt 0 discriminator 1 view .LVU695
 2258 0652 AC42     		cmp	r4, r5
 2259 0654 20D9     		bls	.L82
 670:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 2260              		.loc 1 670 3 is_stmt 1 view .LVU696
 2261 0656 0DF12601 		add	r1, sp, #38
 2262 065a 2846     		mov	r0, r5
 2263 065c FFF7FEFF 		bl	wave1006_read_otp_single
 2264              	.LVL180:
 671:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 2265              		.loc 1 671 3 view .LVU697
 671:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 2266              		.loc 1 671 16 is_stmt 0 view .LVU698
 2267 0660 BDF82620 		ldrh	r2, [sp, #38]
 2268 0664 9144     		add	r9, r9, r2
 2269              	.LVL181:
 672:Device/Src/drv_wave1006.c **** 		{
 2270              		.loc 1 672 3 is_stmt 1 view .LVU699
 672:Device/Src/drv_wave1006.c **** 		{
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 59


 2271              		.loc 1 672 13 is_stmt 0 view .LVU700
 2272 0666 6B1E     		subs	r3, r5, #1
 2273 0668 9BB2     		uxth	r3, r3
 672:Device/Src/drv_wave1006.c **** 		{
 2274              		.loc 1 672 5 view .LVU701
 2275 066a 0E2B     		cmp	r3, #14
 2276 066c EFD8     		bhi	.L72
 2277 066e E9E7     		b	.L83
 2278              	.L88:
 2279              		.align	2
 2280              	.L87:
 2281 0670 04010000 		.word	.LC14
 2282 0674 14010000 		.word	.LC15
 2283 0678 24010000 		.word	.LC16
 2284 067c 34010000 		.word	.LC17
 2285 0680 44010000 		.word	.LC18
 2286 0684 54010000 		.word	.LC19
 2287 0688 64010000 		.word	.LC20
 2288 068c 74010000 		.word	.LC21
 2289 0690 18000000 		.word	.LC4
 2290 0694 84010000 		.word	.LC22
 2291              	.L82:
 675:Device/Src/drv_wave1006.c **** 		}
 676:Device/Src/drv_wave1006.c **** 		// UsbPrintf("read otp addr%hx:%hx\r\n",i, otp_temp);
 677:Device/Src/drv_wave1006.c **** 	}
 678:Device/Src/drv_wave1006.c **** 	
 679:Device/Src/drv_wave1006.c **** 	//准备写入校验结果
 680:Device/Src/drv_wave1006.c **** 	rtc_otp_power(8.5);
 2292              		.loc 1 680 2 is_stmt 1 view .LVU702
 2293 0698 B2EE010A 		vmov.f32	s0, #8.5e+0
 2294 069c FFF7FEFF 		bl	rtc_otp_power
 2295              	.LVL182:
 681:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 2296              		.loc 1 681 2 view .LVU703
 2297 06a0 0A20     		movs	r0, #10
 2298 06a2 FFF7FEFF 		bl	HAL_Delay
 2299              	.LVL183:
 682:Device/Src/drv_wave1006.c **** 	if (check_sum_rd == check_sum_wr) {
 2300              		.loc 1 682 2 view .LVU704
 2301              		.loc 1 682 5 is_stmt 0 view .LVU705
 2302 06a6 4E45     		cmp	r6, r9
 2303 06a8 40F0A680 		bne	.L74
 683:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 2304              		.loc 1 683 3 is_stmt 1 view .LVU706
 2305              		.loc 1 683 23 is_stmt 0 view .LVU707
 2306 06ac BDF80640 		ldrh	r4, [sp, #6]
 2307              	.LVL184:
 2308              		.loc 1 683 33 view .LVU708
 2309 06b0 A109     		lsrs	r1, r4, #6
 2310 06b2 01F0F001 		and	r1, r1, #240
 2311              		.loc 1 683 12 view .LVU709
 2312 06b6 ADF82610 		strh	r1, [sp, #38]	@ movhi
 684:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x05;                             //写入封装形式并写入校验成功标志
 2313              		.loc 1 684 3 is_stmt 1 view .LVU710
 2314              		.loc 1 684 12 is_stmt 0 view .LVU711
 2315 06ba 41F00501 		orr	r1, r1, #5
 2316 06be ADF82610 		strh	r1, [sp, #38]	@ movhi
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 60


 685:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 2317              		.loc 1 685 3 is_stmt 1 view .LVU712
 2318 06c2 1020     		movs	r0, #16
 2319 06c4 FFF7FEFF 		bl	wave1006_write_otp_single
 2320              	.LVL185:
 686:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           //写入产品型号和晶振型号
 2321              		.loc 1 686 3 view .LVU713
 2322              		.loc 1 686 33 is_stmt 0 view .LVU714
 2323 06c8 2101     		lsls	r1, r4, #4
 2324 06ca 89B2     		uxth	r1, r1
 2325              		.loc 1 686 12 view .LVU715
 2326 06cc ADF82610 		strh	r1, [sp, #38]	@ movhi
 687:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2327              		.loc 1 687 3 is_stmt 1 view .LVU716
 2328 06d0 1120     		movs	r0, #17
 2329 06d2 FFF7FEFF 		bl	wave1006_write_otp_single
 2330              	.LVL186:
 688:Device/Src/drv_wave1006.c **** 		
 689:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[1] + otp_buf[2] +otp_buf[5]);
 2331              		.loc 1 689 3 view .LVU717
 2332              		.loc 1 689 31 is_stmt 0 view .LVU718
 2333 06d6 BDF80830 		ldrh	r3, [sp, #8]
 2334              		.loc 1 689 22 view .LVU719
 2335 06da 2344     		add	r3, r3, r4
 2336              		.loc 1 689 43 view .LVU720
 2337 06dc BDF80E20 		ldrh	r2, [sp, #14]
 2338              		.loc 1 689 35 view .LVU721
 2339 06e0 1344     		add	r3, r3, r2
 2340              	.LVL187:
 690:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2341              		.loc 1 690 3 is_stmt 1 view .LVU722
 2342              		.loc 1 690 18 is_stmt 0 view .LVU723
 2343 06e2 BDF80A20 		ldrh	r2, [sp, #10]
 2344              		.loc 1 690 22 view .LVU724
 2345 06e6 22F00802 		bic	r2, r2, #8
 2346 06ea 9204     		lsls	r2, r2, #18
 2347 06ec 920C     		lsrs	r2, r2, #18
 2348              		.loc 1 690 7 view .LVU725
 2349 06ee 1344     		add	r3, r3, r2
 2350              	.LVL188:
 691:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2351              		.loc 1 691 3 is_stmt 1 view .LVU726
 2352              		.loc 1 691 18 is_stmt 0 view .LVU727
 2353 06f0 BDF80C10 		ldrh	r1, [sp, #12]
 2354              		.loc 1 691 22 view .LVU728
 2355 06f4 01F47851 		and	r1, r1, #15872
 2356              		.loc 1 691 7 view .LVU729
 2357 06f8 1944     		add	r1, r1, r3
 2358              	.LVL189:
 692:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2359              		.loc 1 692 3 is_stmt 1 view .LVU730
 2360              		.loc 1 692 18 is_stmt 0 view .LVU731
 2361 06fa BDF81030 		ldrh	r3, [sp, #16]
 2362              		.loc 1 692 22 view .LVU732
 2363 06fe 23F47F73 		bic	r3, r3, #1020
 2364 0702 9B04     		lsls	r3, r3, #18
 2365 0704 9B0C     		lsrs	r3, r3, #18
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 61


 2366              		.loc 1 692 7 view .LVU733
 2367 0706 1944     		add	r1, r1, r3
 2368              	.LVL190:
 693:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2369              		.loc 1 693 3 is_stmt 1 view .LVU734
 2370              		.loc 1 693 18 is_stmt 0 view .LVU735
 2371 0708 BDF81230 		ldrh	r3, [sp, #18]
 2372              		.loc 1 693 22 view .LVU736
 2373 070c 03F47C53 		and	r3, r3, #16128
 2374              		.loc 1 693 7 view .LVU737
 2375 0710 0B44     		add	r3, r3, r1
 2376              	.LVL191:
 694:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2377              		.loc 1 694 3 is_stmt 1 view .LVU738
 2378              		.loc 1 694 18 is_stmt 0 view .LVU739
 2379 0712 BDF81410 		ldrh	r1, [sp, #20]
 2380              		.loc 1 694 22 view .LVU740
 2381 0716 01F47C51 		and	r1, r1, #16128
 2382              		.loc 1 694 7 view .LVU741
 2383 071a 1944     		add	r1, r1, r3
 2384              	.LVL192:
 695:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2385              		.loc 1 695 3 is_stmt 1 view .LVU742
 2386              		.loc 1 695 18 is_stmt 0 view .LVU743
 2387 071c BDF81630 		ldrh	r3, [sp, #22]
 2388              		.loc 1 695 22 view .LVU744
 2389 0720 03F47C53 		and	r3, r3, #16128
 2390              		.loc 1 695 7 view .LVU745
 2391 0724 1944     		add	r1, r1, r3
 2392              	.LVL193:
 696:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2393              		.loc 1 696 3 is_stmt 1 view .LVU746
 2394              		.loc 1 696 18 is_stmt 0 view .LVU747
 2395 0726 BDF81830 		ldrh	r3, [sp, #24]
 2396              		.loc 1 696 23 view .LVU748
 2397 072a 03F47C53 		and	r3, r3, #16128
 2398              		.loc 1 696 7 view .LVU749
 2399 072e 0B44     		add	r3, r3, r1
 2400              	.LVL194:
 697:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2401              		.loc 1 697 3 is_stmt 1 view .LVU750
 2402              		.loc 1 697 18 is_stmt 0 view .LVU751
 2403 0730 BDF81A10 		ldrh	r1, [sp, #26]
 2404              		.loc 1 697 23 view .LVU752
 2405 0734 01F47C51 		and	r1, r1, #16128
 2406              		.loc 1 697 7 view .LVU753
 2407 0738 1944     		add	r1, r1, r3
 2408              	.LVL195:
 698:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2409              		.loc 1 698 3 is_stmt 1 view .LVU754
 2410              		.loc 1 698 18 is_stmt 0 view .LVU755
 2411 073a BDF81C30 		ldrh	r3, [sp, #28]
 2412              		.loc 1 698 23 view .LVU756
 2413 073e 03F47C53 		and	r3, r3, #16128
 2414              		.loc 1 698 7 view .LVU757
 2415 0742 1944     		add	r1, r1, r3
 2416              	.LVL196:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 62


 699:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2417              		.loc 1 699 3 is_stmt 1 view .LVU758
 2418              		.loc 1 699 18 is_stmt 0 view .LVU759
 2419 0744 BDF81E30 		ldrh	r3, [sp, #30]
 2420              		.loc 1 699 23 view .LVU760
 2421 0748 03F47C53 		and	r3, r3, #16128
 2422              		.loc 1 699 7 view .LVU761
 2423 074c 0B44     		add	r3, r3, r1
 2424              	.LVL197:
 700:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2425              		.loc 1 700 3 is_stmt 1 view .LVU762
 2426              		.loc 1 700 18 is_stmt 0 view .LVU763
 2427 074e BDF82010 		ldrh	r1, [sp, #32]
 2428              		.loc 1 700 23 view .LVU764
 2429 0752 01F47C51 		and	r1, r1, #16128
 2430              		.loc 1 700 7 view .LVU765
 2431 0756 1944     		add	r1, r1, r3
 2432              	.LVL198:
 701:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2433              		.loc 1 701 3 is_stmt 1 view .LVU766
 2434              		.loc 1 701 18 is_stmt 0 view .LVU767
 2435 0758 BDF82240 		ldrh	r4, [sp, #34]
 2436              		.loc 1 701 23 view .LVU768
 2437 075c 04F47C54 		and	r4, r4, #16128
 2438              		.loc 1 701 7 view .LVU769
 2439 0760 0C44     		add	r4, r4, r1
 2440              	.LVL199:
 702:Device/Src/drv_wave1006.c **** 		
 703:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 2441              		.loc 1 703 3 is_stmt 1 view .LVU770
 2442              		.loc 1 703 19 is_stmt 0 view .LVU771
 2443 0762 C9B2     		uxtb	r1, r1
 2444              		.loc 1 703 12 view .LVU772
 2445 0764 ADF82610 		strh	r1, [sp, #38]	@ movhi
 704:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2446              		.loc 1 704 3 is_stmt 1 view .LVU773
 2447 0768 1220     		movs	r0, #18
 2448 076a FFF7FEFF 		bl	wave1006_write_otp_single
 2449              	.LVL200:
 705:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 2450              		.loc 1 705 3 view .LVU774
 2451              		.loc 1 705 26 is_stmt 0 view .LVU775
 2452 076e C4F30721 		ubfx	r1, r4, #8, #8
 2453              		.loc 1 705 12 view .LVU776
 2454 0772 ADF82610 		strh	r1, [sp, #38]	@ movhi
 706:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2455              		.loc 1 706 3 is_stmt 1 view .LVU777
 2456 0776 1320     		movs	r0, #19
 2457 0778 FFF7FEFF 		bl	wave1006_write_otp_single
 2458              	.LVL201:
 707:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 2459              		.loc 1 707 3 view .LVU778
 2460              		.loc 1 707 27 is_stmt 0 view .LVU779
 2461 077c C4F30741 		ubfx	r1, r4, #16, #8
 2462              		.loc 1 707 12 view .LVU780
 2463 0780 ADF82610 		strh	r1, [sp, #38]	@ movhi
 708:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);	
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 63


 2464              		.loc 1 708 3 is_stmt 1 view .LVU781
 2465 0784 1420     		movs	r0, #20
 2466 0786 FFF7FEFF 		bl	wave1006_write_otp_single
 2467              	.LVL202:
 709:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              	//写入保护位
 2468              		.loc 1 709 3 view .LVU782
 2469 078a 43F6FE71 		movw	r1, #16382
 2470 078e 0020     		movs	r0, #0
 2471 0790 FFF7FEFF 		bl	wave1006_write_otp_single
 2472              	.LVL203:
 710:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2473              		.loc 1 710 3 view .LVU783
 2474 0794 674D     		ldr	r5, .L89
 2475              	.LVL204:
 2476              		.loc 1 710 3 is_stmt 0 view .LVU784
 2477 0796 2146     		mov	r1, r4
 2478 0798 2846     		mov	r0, r5
 2479 079a FFF7FEFF 		bl	UsbPrintf
 2480              	.LVL205:
 711:Device/Src/drv_wave1006.c **** 		log_printf("ID check sum:%06X\n", sum);
 2481              		.loc 1 711 3 is_stmt 1 view .LVU785
 2482 079e 2146     		mov	r1, r4
 2483 07a0 2846     		mov	r0, r5
 2484 07a2 FFF7FEFF 		bl	log_printf
 2485              	.LVL206:
 712:Device/Src/drv_wave1006.c **** #if (VERSION_SELECT == VERSION_SD8801)
 713:Device/Src/drv_wave1006.c **** 		ControlPrintf("message:8801 OK, %06X\n", sum);
 714:Device/Src/drv_wave1006.c **** #elif (VERSION_SELECT == VERSION_SD8804)
 715:Device/Src/drv_wave1006.c **** 		ControlPrintf("message:8804 OK, %06X\n", sum);
 716:Device/Src/drv_wave1006.c **** #else
 717:Device/Src/drv_wave1006.c **** 		ControlPrintf("message:8800 OK, %06X\n", sum);
 2486              		.loc 1 717 3 view .LVU786
 2487 07a6 2146     		mov	r1, r4
 2488 07a8 6348     		ldr	r0, .L89+4
 2489 07aa FFF7FEFF 		bl	ControlPrintf
 2490              	.LVL207:
 718:Device/Src/drv_wave1006.c **** #endif
 719:Device/Src/drv_wave1006.c **** 	} else {
 720:Device/Src/drv_wave1006.c **** 		UsbPrintf("write check is err %lx: cal=%lx\r\n", check_sum_rd, check_sum_wr);
 721:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 722:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                   //写入封装形式并写入校验成功标志
 723:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 724:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           		//写入产品型号和晶振型号
 725:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 726:Device/Src/drv_wave1006.c **** 		
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[1] + otp_buf[2] + otp_buf[5]);
 728:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 729:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 730:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 731:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 732:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 733:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 734:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 735:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 736:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 737:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 738:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 64


 739:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 740:Device/Src/drv_wave1006.c **** 
 741:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 742:Device/Src/drv_wave1006.c **** 		log_printf("ID check sum:%06X\n", sum);
 743:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 744:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 745:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 746:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 747:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 748:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 749:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              //写入保护位
 750:Device/Src/drv_wave1006.c **** 		rtc_otp_power(3.3);
 751:Device/Src/drv_wave1006.c **** 		HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5V关闭的开关
 752:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 753:Device/Src/drv_wave1006.c **** 	}
 754:Device/Src/drv_wave1006.c ****  	rtc_otp_power(3.3);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数,否则只是烧写好，
 2491              		.loc 1 754 3 view .LVU787
 2492 07ae 9FED630A 		vldr.32	s0, .L89+8
 2493 07b2 FFF7FEFF 		bl	rtc_otp_power
 2494              	.LVL208:
 755:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 2495              		.loc 1 755 2 view .LVU788
 2496 07b6 6420     		movs	r0, #100
 2497 07b8 FFF7FEFF 		bl	HAL_Delay
 2498              	.LVL209:
 756:Device/Src/drv_wave1006.c **** 	UsbPrintf("write otp is successful! %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);	
 2499              		.loc 1 756 2 view .LVU789
 2500 07bc 3246     		mov	r2, r6
 2501 07be 4946     		mov	r1, r9
 2502 07c0 5F48     		ldr	r0, .L89+12
 2503 07c2 FFF7FEFF 		bl	UsbPrintf
 2504              	.LVL210:
 757:Device/Src/drv_wave1006.c **** 	
 758:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_INIT_1006);
 2505              		.loc 1 758 2 view .LVU790
 2506 07c6 0121     		movs	r1, #1
 2507 07c8 3846     		mov	r0, r7
 2508 07ca FFF7FEFF 		bl	rtc_set_channel
 2509              	.LVL211:
 759:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET);//VCE关闭
 2510              		.loc 1 759 2 view .LVU791
 2511 07ce 5D4C     		ldr	r4, .L89+16
 2512              	.LVL212:
 2513              		.loc 1 759 2 is_stmt 0 view .LVU792
 2514 07d0 0022     		movs	r2, #0
 2515 07d2 4021     		movs	r1, #64
 2516 07d4 2046     		mov	r0, r4
 2517 07d6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2518              	.LVL213:
 760:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_0, GPIO_PIN_RESET);//
 2519              		.loc 1 760 2 is_stmt 1 view .LVU793
 2520 07da 0022     		movs	r2, #0
 2521 07dc 0121     		movs	r1, #1
 2522 07de 2046     		mov	r0, r4
 2523 07e0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2524              	.LVL214:
 761:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_15, GPIO_PIN_RESET);//SDA 拉高
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 65


 2525              		.loc 1 761 2 view .LVU794
 2526 07e4 0022     		movs	r2, #0
 2527 07e6 4FF40041 		mov	r1, #32768
 2528 07ea 5748     		ldr	r0, .L89+20
 2529 07ec FFF7FEFF 		bl	HAL_GPIO_WritePin
 2530              	.LVL215:
 762:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2531              		.loc 1 762 2 view .LVU795
 2532              	.L65:
 763:Device/Src/drv_wave1006.c **** }
 2533              		.loc 1 763 1 is_stmt 0 view .LVU796
 2534 07f0 4046     		mov	r0, r8
 2535 07f2 0DB0     		add	sp, sp, #52
 2536              	.LCFI43:
 2537              		.cfi_remember_state
 2538              		.cfi_def_cfa_offset 28
 2539              		@ sp needed
 2540 07f4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2541              	.LVL216:
 2542              	.L74:
 2543              	.LCFI44:
 2544              		.cfi_restore_state
 720:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 2545              		.loc 1 720 3 is_stmt 1 view .LVU797
 2546 07f8 3246     		mov	r2, r6
 2547 07fa 4946     		mov	r1, r9
 2548 07fc 5348     		ldr	r0, .L89+24
 2549 07fe FFF7FEFF 		bl	UsbPrintf
 2550              	.LVL217:
 721:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                   //写入封装形式并写入校验成功标志
 2551              		.loc 1 721 3 view .LVU798
 721:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                   //写入封装形式并写入校验成功标志
 2552              		.loc 1 721 23 is_stmt 0 view .LVU799
 2553 0802 BDF80640 		ldrh	r4, [sp, #6]
 2554              	.LVL218:
 721:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                   //写入封装形式并写入校验成功标志
 2555              		.loc 1 721 33 view .LVU800
 2556 0806 A109     		lsrs	r1, r4, #6
 2557 0808 01F0F001 		and	r1, r1, #240
 721:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                   //写入封装形式并写入校验成功标志
 2558              		.loc 1 721 12 view .LVU801
 2559 080c ADF82610 		strh	r1, [sp, #38]	@ movhi
 722:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 2560              		.loc 1 722 3 is_stmt 1 view .LVU802
 722:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 2561              		.loc 1 722 12 is_stmt 0 view .LVU803
 2562 0810 41F00A01 		orr	r1, r1, #10
 2563 0814 ADF82610 		strh	r1, [sp, #38]	@ movhi
 723:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           		//写入产品型号和晶振型号
 2564              		.loc 1 723 3 is_stmt 1 view .LVU804
 2565 0818 1020     		movs	r0, #16
 2566 081a FFF7FEFF 		bl	wave1006_write_otp_single
 2567              	.LVL219:
 724:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2568              		.loc 1 724 3 view .LVU805
 724:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2569              		.loc 1 724 33 is_stmt 0 view .LVU806
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 66


 2570 081e 2101     		lsls	r1, r4, #4
 2571 0820 89B2     		uxth	r1, r1
 724:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2572              		.loc 1 724 12 view .LVU807
 2573 0822 ADF82610 		strh	r1, [sp, #38]	@ movhi
 725:Device/Src/drv_wave1006.c **** 		
 2574              		.loc 1 725 3 is_stmt 1 view .LVU808
 2575 0826 1120     		movs	r0, #17
 2576 0828 FFF7FEFF 		bl	wave1006_write_otp_single
 2577              	.LVL220:
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2578              		.loc 1 727 3 view .LVU809
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2579              		.loc 1 727 31 is_stmt 0 view .LVU810
 2580 082c BDF80830 		ldrh	r3, [sp, #8]
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2581              		.loc 1 727 22 view .LVU811
 2582 0830 2344     		add	r3, r3, r4
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2583              		.loc 1 727 44 view .LVU812
 2584 0832 BDF80E20 		ldrh	r2, [sp, #14]
 727:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2585              		.loc 1 727 35 view .LVU813
 2586 0836 1344     		add	r3, r3, r2
 2587              	.LVL221:
 728:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2588              		.loc 1 728 3 is_stmt 1 view .LVU814
 728:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2589              		.loc 1 728 18 is_stmt 0 view .LVU815
 2590 0838 BDF80A20 		ldrh	r2, [sp, #10]
 728:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2591              		.loc 1 728 22 view .LVU816
 2592 083c 22F00802 		bic	r2, r2, #8
 2593 0840 9204     		lsls	r2, r2, #18
 2594 0842 920C     		lsrs	r2, r2, #18
 728:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2595              		.loc 1 728 7 view .LVU817
 2596 0844 1344     		add	r3, r3, r2
 2597              	.LVL222:
 729:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2598              		.loc 1 729 3 is_stmt 1 view .LVU818
 729:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2599              		.loc 1 729 18 is_stmt 0 view .LVU819
 2600 0846 BDF80C40 		ldrh	r4, [sp, #12]
 729:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2601              		.loc 1 729 22 view .LVU820
 2602 084a 04F47854 		and	r4, r4, #15872
 729:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2603              		.loc 1 729 7 view .LVU821
 2604 084e 2344     		add	r3, r3, r4
 2605              	.LVL223:
 730:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2606              		.loc 1 730 3 is_stmt 1 view .LVU822
 730:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2607              		.loc 1 730 18 is_stmt 0 view .LVU823
 2608 0850 BDF81040 		ldrh	r4, [sp, #16]
 730:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 67


 2609              		.loc 1 730 22 view .LVU824
 2610 0854 24F47F74 		bic	r4, r4, #1020
 2611 0858 A404     		lsls	r4, r4, #18
 2612 085a A40C     		lsrs	r4, r4, #18
 730:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2613              		.loc 1 730 7 view .LVU825
 2614 085c 1C44     		add	r4, r4, r3
 2615              	.LVL224:
 731:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2616              		.loc 1 731 3 is_stmt 1 view .LVU826
 731:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2617              		.loc 1 731 18 is_stmt 0 view .LVU827
 2618 085e BDF81230 		ldrh	r3, [sp, #18]
 731:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2619              		.loc 1 731 22 view .LVU828
 2620 0862 03F47C53 		and	r3, r3, #16128
 731:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2621              		.loc 1 731 7 view .LVU829
 2622 0866 1C44     		add	r4, r4, r3
 2623              	.LVL225:
 732:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2624              		.loc 1 732 3 is_stmt 1 view .LVU830
 732:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2625              		.loc 1 732 18 is_stmt 0 view .LVU831
 2626 0868 BDF81430 		ldrh	r3, [sp, #20]
 732:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2627              		.loc 1 732 22 view .LVU832
 2628 086c 03F47C53 		and	r3, r3, #16128
 732:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2629              		.loc 1 732 7 view .LVU833
 2630 0870 2344     		add	r3, r3, r4
 2631              	.LVL226:
 733:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2632              		.loc 1 733 3 is_stmt 1 view .LVU834
 733:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2633              		.loc 1 733 18 is_stmt 0 view .LVU835
 2634 0872 BDF81640 		ldrh	r4, [sp, #22]
 733:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2635              		.loc 1 733 22 view .LVU836
 2636 0876 04F47C54 		and	r4, r4, #16128
 733:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2637              		.loc 1 733 7 view .LVU837
 2638 087a 1C44     		add	r4, r4, r3
 2639              	.LVL227:
 734:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2640              		.loc 1 734 3 is_stmt 1 view .LVU838
 734:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2641              		.loc 1 734 18 is_stmt 0 view .LVU839
 2642 087c BDF81830 		ldrh	r3, [sp, #24]
 734:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2643              		.loc 1 734 23 view .LVU840
 2644 0880 03F47C53 		and	r3, r3, #16128
 734:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2645              		.loc 1 734 7 view .LVU841
 2646 0884 1C44     		add	r4, r4, r3
 2647              	.LVL228:
 735:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 68


 2648              		.loc 1 735 3 is_stmt 1 view .LVU842
 735:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2649              		.loc 1 735 18 is_stmt 0 view .LVU843
 2650 0886 BDF81A30 		ldrh	r3, [sp, #26]
 735:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2651              		.loc 1 735 23 view .LVU844
 2652 088a 03F47C53 		and	r3, r3, #16128
 735:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2653              		.loc 1 735 7 view .LVU845
 2654 088e 2344     		add	r3, r3, r4
 2655              	.LVL229:
 736:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2656              		.loc 1 736 3 is_stmt 1 view .LVU846
 736:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2657              		.loc 1 736 18 is_stmt 0 view .LVU847
 2658 0890 BDF81C40 		ldrh	r4, [sp, #28]
 736:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2659              		.loc 1 736 23 view .LVU848
 2660 0894 04F47C54 		and	r4, r4, #16128
 736:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2661              		.loc 1 736 7 view .LVU849
 2662 0898 1C44     		add	r4, r4, r3
 2663              	.LVL230:
 737:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2664              		.loc 1 737 3 is_stmt 1 view .LVU850
 737:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2665              		.loc 1 737 18 is_stmt 0 view .LVU851
 2666 089a BDF81E30 		ldrh	r3, [sp, #30]
 737:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2667              		.loc 1 737 23 view .LVU852
 2668 089e 03F47C53 		and	r3, r3, #16128
 737:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2669              		.loc 1 737 7 view .LVU853
 2670 08a2 1C44     		add	r4, r4, r3
 2671              	.LVL231:
 738:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2672              		.loc 1 738 3 is_stmt 1 view .LVU854
 738:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2673              		.loc 1 738 18 is_stmt 0 view .LVU855
 2674 08a4 BDF82030 		ldrh	r3, [sp, #32]
 738:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2675              		.loc 1 738 23 view .LVU856
 2676 08a8 03F47C53 		and	r3, r3, #16128
 738:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2677              		.loc 1 738 7 view .LVU857
 2678 08ac 2344     		add	r3, r3, r4
 2679              	.LVL232:
 739:Device/Src/drv_wave1006.c **** 
 2680              		.loc 1 739 3 is_stmt 1 view .LVU858
 739:Device/Src/drv_wave1006.c **** 
 2681              		.loc 1 739 18 is_stmt 0 view .LVU859
 2682 08ae BDF82240 		ldrh	r4, [sp, #34]
 739:Device/Src/drv_wave1006.c **** 
 2683              		.loc 1 739 23 view .LVU860
 2684 08b2 04F47C54 		and	r4, r4, #16128
 739:Device/Src/drv_wave1006.c **** 
 2685              		.loc 1 739 7 view .LVU861
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 69


 2686 08b6 1C44     		add	r4, r4, r3
 2687              	.LVL233:
 741:Device/Src/drv_wave1006.c **** 		log_printf("ID check sum:%06X\n", sum);
 2688              		.loc 1 741 3 is_stmt 1 view .LVU862
 2689 08b8 1E4D     		ldr	r5, .L89
 2690              	.LVL234:
 741:Device/Src/drv_wave1006.c **** 		log_printf("ID check sum:%06X\n", sum);
 2691              		.loc 1 741 3 is_stmt 0 view .LVU863
 2692 08ba 2146     		mov	r1, r4
 2693 08bc 2846     		mov	r0, r5
 2694 08be FFF7FEFF 		bl	UsbPrintf
 2695              	.LVL235:
 742:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 2696              		.loc 1 742 3 is_stmt 1 view .LVU864
 2697 08c2 2146     		mov	r1, r4
 2698 08c4 2846     		mov	r0, r5
 2699 08c6 FFF7FEFF 		bl	log_printf
 2700              	.LVL236:
 743:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2701              		.loc 1 743 3 view .LVU865
 743:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2702              		.loc 1 743 19 is_stmt 0 view .LVU866
 2703 08ca E1B2     		uxtb	r1, r4
 743:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2704              		.loc 1 743 12 view .LVU867
 2705 08cc ADF82610 		strh	r1, [sp, #38]	@ movhi
 744:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 2706              		.loc 1 744 3 is_stmt 1 view .LVU868
 2707 08d0 1220     		movs	r0, #18
 2708 08d2 FFF7FEFF 		bl	wave1006_write_otp_single
 2709              	.LVL237:
 745:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2710              		.loc 1 745 3 view .LVU869
 745:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2711              		.loc 1 745 26 is_stmt 0 view .LVU870
 2712 08d6 C4F30721 		ubfx	r1, r4, #8, #8
 745:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2713              		.loc 1 745 12 view .LVU871
 2714 08da ADF82610 		strh	r1, [sp, #38]	@ movhi
 746:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 2715              		.loc 1 746 3 is_stmt 1 view .LVU872
 2716 08de 1320     		movs	r0, #19
 2717 08e0 FFF7FEFF 		bl	wave1006_write_otp_single
 2718              	.LVL238:
 747:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2719              		.loc 1 747 3 view .LVU873
 747:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2720              		.loc 1 747 27 is_stmt 0 view .LVU874
 2721 08e4 C4F30741 		ubfx	r1, r4, #16, #8
 747:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2722              		.loc 1 747 12 view .LVU875
 2723 08e8 ADF82610 		strh	r1, [sp, #38]	@ movhi
 748:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              //写入保护位
 2724              		.loc 1 748 3 is_stmt 1 view .LVU876
 2725 08ec 1420     		movs	r0, #20
 2726 08ee FFF7FEFF 		bl	wave1006_write_otp_single
 2727              	.LVL239:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 70


 749:Device/Src/drv_wave1006.c **** 		rtc_otp_power(3.3);
 2728              		.loc 1 749 3 view .LVU877
 2729 08f2 43F6FE71 		movw	r1, #16382
 2730 08f6 0020     		movs	r0, #0
 2731 08f8 FFF7FEFF 		bl	wave1006_write_otp_single
 2732              	.LVL240:
 750:Device/Src/drv_wave1006.c **** 		HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5V关闭的开关
 2733              		.loc 1 750 3 view .LVU878
 2734 08fc 9FED0F0A 		vldr.32	s0, .L89+8
 2735 0900 FFF7FEFF 		bl	rtc_otp_power
 2736              	.LVL241:
 751:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2737              		.loc 1 751 3 view .LVU879
 2738 0904 0022     		movs	r2, #0
 2739 0906 4021     		movs	r1, #64
 2740 0908 0E48     		ldr	r0, .L89+16
 2741 090a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2742              	.LVL242:
 752:Device/Src/drv_wave1006.c **** 	}
 2743              		.loc 1 752 3 view .LVU880
 752:Device/Src/drv_wave1006.c **** 	}
 2744              		.loc 1 752 10 is_stmt 0 view .LVU881
 2745 090e 6FF00208 		mvn	r8, #2
 2746 0912 6DE7     		b	.L65
 2747              	.LVL243:
 2748              	.L75:
 491:Device/Src/drv_wave1006.c **** 	}
 2749              		.loc 1 491 10 view .LVU882
 2750 0914 6FF00208 		mvn	r8, #2
 2751 0918 6AE7     		b	.L65
 2752              	.L76:
 495:Device/Src/drv_wave1006.c **** 	}
 2753              		.loc 1 495 10 view .LVU883
 2754 091a 6FF00208 		mvn	r8, #2
 2755 091e 67E7     		b	.L65
 2756              	.L77:
 501:Device/Src/drv_wave1006.c **** 	}
 2757              		.loc 1 501 10 view .LVU884
 2758 0920 6FF00208 		mvn	r8, #2
 2759 0924 64E7     		b	.L65
 2760              	.L78:
 506:Device/Src/drv_wave1006.c **** 	}
 2761              		.loc 1 506 10 view .LVU885
 2762 0926 6FF00208 		mvn	r8, #2
 2763 092a 61E7     		b	.L65
 2764              	.L79:
 511:Device/Src/drv_wave1006.c **** 	}
 2765              		.loc 1 511 10 view .LVU886
 2766 092c 6FF00208 		mvn	r8, #2
 2767 0930 5EE7     		b	.L65
 2768              	.L90:
 2769 0932 00BF     		.align	2
 2770              	.L89:
 2771 0934 D0010000 		.word	.LC23
 2772 0938 E4010000 		.word	.LC24
 2773 093c 33335340 		.word	1079194419
 2774 0940 FC010000 		.word	.LC25
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 71


 2775 0944 00100240 		.word	1073876992
 2776 0948 00040240 		.word	1073873920
 2777 094c 24020000 		.word	.LC26
 2778              		.cfi_endproc
 2779              	.LFE247:
 2781              		.section	.rodata.wave1006_write_otp_one.str1.4,"aMS",%progbits,1
 2782              		.align	2
 2783              	.LC27:
 2784 0000 4F50454E 		.ascii	"OPEN WRITE ONE!\015\012\000"
 2784      20575249 
 2784      5445204F 
 2784      4E45210D 
 2784      0A00
 2785 0012 0000     		.align	2
 2786              	.LC28:
 2787 0014 2C00     		.ascii	",\000"
 2788 0016 0000     		.align	2
 2789              	.LC29:
 2790 0018 45584954 		.ascii	"EXIT I2C_OK!\015\012\000"
 2790      20493243 
 2790      5F4F4B21 
 2790      0D0A00
 2791              		.section	.text.wave1006_write_otp_one,"ax",%progbits
 2792              		.align	1
 2793              		.global	wave1006_write_otp_one
 2794              		.syntax unified
 2795              		.thumb
 2796              		.thumb_func
 2798              	wave1006_write_otp_one:
 2799              	.LVL244:
 2800              	.LFB248:
 764:Device/Src/drv_wave1006.c **** 
 765:Device/Src/drv_wave1006.c **** 
 766:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp_one(char *str)
 767:Device/Src/drv_wave1006.c **** {
 2801              		.loc 1 767 1 is_stmt 1 view -0
 2802              		.cfi_startproc
 2803              		@ args = 0, pretend = 0, frame = 24
 2804              		@ frame_needed = 0, uses_anonymous_args = 0
 2805              		.loc 1 767 1 is_stmt 0 view .LVU888
 2806 0000 70B5     		push	{r4, r5, r6, lr}
 2807              	.LCFI45:
 2808              		.cfi_def_cfa_offset 16
 2809              		.cfi_offset 4, -16
 2810              		.cfi_offset 5, -12
 2811              		.cfi_offset 6, -8
 2812              		.cfi_offset 14, -4
 2813 0002 86B0     		sub	sp, sp, #24
 2814              	.LCFI46:
 2815              		.cfi_def_cfa_offset 40
 2816 0004 0446     		mov	r4, r0
 768:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0}, buf1;
 2817              		.loc 1 768 2 is_stmt 1 view .LVU889
 2818              		.loc 1 768 10 is_stmt 0 view .LVU890
 2819 0006 634B     		ldr	r3, .L101
 2820 0008 93E80300 		ldm	r3, {r0, r1}
 2821              	.LVL245:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 72


 2822              		.loc 1 768 10 view .LVU891
 2823 000c 0490     		str	r0, [sp, #16]
 2824 000e 8DF81410 		strb	r1, [sp, #20]
 769:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 2825              		.loc 1 769 2 is_stmt 1 view .LVU892
 770:Device/Src/drv_wave1006.c **** 	int Addr = 0,Data = 0;
 2826              		.loc 1 770 2 view .LVU893
 2827              		.loc 1 770 6 is_stmt 0 view .LVU894
 2828 0012 0023     		movs	r3, #0
 2829 0014 0293     		str	r3, [sp, #8]
 2830              		.loc 1 770 15 view .LVU895
 2831 0016 0193     		str	r3, [sp, #4]
 771:Device/Src/drv_wave1006.c **** 	
 772:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN WRITE ONE!\r\n");
 2832              		.loc 1 772 2 is_stmt 1 view .LVU896
 2833 0018 5F48     		ldr	r0, .L101+4
 2834 001a FFF7FEFF 		bl	UsbPrintf
 2835              	.LVL246:
 773:Device/Src/drv_wave1006.c **** 	CharToInt(str, 6, &Addr);
 2836              		.loc 1 773 2 view .LVU897
 2837 001e 02AA     		add	r2, sp, #8
 2838 0020 0621     		movs	r1, #6
 2839 0022 2046     		mov	r0, r4
 2840 0024 FFF7FEFF 		bl	CharToInt
 2841              	.LVL247:
 774:Device/Src/drv_wave1006.c **** 	CharToInt(str, strSearch(str, ","), &Data);
 2842              		.loc 1 774 2 view .LVU898
 2843              		.loc 1 774 17 is_stmt 0 view .LVU899
 2844 0028 5C49     		ldr	r1, .L101+8
 2845 002a 2046     		mov	r0, r4
 2846 002c FFF7FEFF 		bl	strSearch
 2847              	.LVL248:
 2848              		.loc 1 774 2 view .LVU900
 2849 0030 01AA     		add	r2, sp, #4
 2850 0032 C1B2     		uxtb	r1, r0
 2851 0034 2046     		mov	r0, r4
 2852 0036 FFF7FEFF 		bl	CharToInt
 2853              	.LVL249:
 775:Device/Src/drv_wave1006.c **** 	
 776:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2854              		.loc 1 776 2 is_stmt 1 view .LVU901
 2855 003a B1EE040A 		vmov.f32	s0, #5.0e+0
 2856 003e FFF7FEFF 		bl	rtc_otp_power
 2857              	.LVL250:
 777:Device/Src/drv_wave1006.c **** 	HAL_Delay(2000);
 2858              		.loc 1 777 2 view .LVU902
 2859 0042 4FF4FA60 		mov	r0, #2000
 2860 0046 FFF7FEFF 		bl	HAL_Delay
 2861              	.LVL251:
 778:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2862              		.loc 1 778 2 view .LVU903
 2863              		.loc 1 778 7 is_stmt 0 view .LVU904
 2864 004a 4023     		movs	r3, #64
 2865 004c 8DF80F30 		strb	r3, [sp, #15]
 779:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2866              		.loc 1 779 2 is_stmt 1 view .LVU905
 2867              		.loc 1 779 5 is_stmt 0 view .LVU906
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 73


 2868 0050 0DF10F03 		add	r3, sp, #15
 2869 0054 0122     		movs	r2, #1
 2870 0056 1121     		movs	r1, #17
 2871 0058 0420     		movs	r0, #4
 2872 005a FFF7FEFF 		bl	drv_wave1006_write_reg
 2873              	.LVL252:
 2874              		.loc 1 779 4 view .LVU907
 2875 005e 0028     		cmp	r0, #0
 2876 0060 40F08580 		bne	.L93
 780:Device/Src/drv_wave1006.c **** 	{
 781:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 782:Device/Src/drv_wave1006.c **** 	}
 783:Device/Src/drv_wave1006.c **** 	
 784:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 2877              		.loc 1 784 2 is_stmt 1 view .LVU908
 2878              		.loc 1 784 5 is_stmt 0 view .LVU909
 2879 0064 0DF10F03 		add	r3, sp, #15
 2880 0068 0122     		movs	r2, #1
 2881 006a 4021     		movs	r1, #64
 2882 006c 0420     		movs	r0, #4
 2883 006e FFF7FEFF 		bl	drv_wave1006_read_reg
 2884              	.LVL253:
 2885              		.loc 1 784 4 view .LVU910
 2886 0072 0028     		cmp	r0, #0
 2887 0074 7ED1     		bne	.L94
 785:Device/Src/drv_wave1006.c **** 	{
 786:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 787:Device/Src/drv_wave1006.c **** 	}
 788:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2888              		.loc 1 788 2 is_stmt 1 view .LVU911
 2889              		.loc 1 788 7 is_stmt 0 view .LVU912
 2890 0076 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 2891 007a 03F0F003 		and	r3, r3, #240
 2892 007e 8DF80F30 		strb	r3, [sp, #15]
 789:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0c;
 2893              		.loc 1 789 2 is_stmt 1 view .LVU913
 2894              		.loc 1 789 7 is_stmt 0 view .LVU914
 2895 0082 43F00C03 		orr	r3, r3, #12
 2896 0086 8DF80F30 		strb	r3, [sp, #15]
 790:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2897              		.loc 1 790 2 is_stmt 1 view .LVU915
 2898              		.loc 1 790 5 is_stmt 0 view .LVU916
 2899 008a 0DF10F03 		add	r3, sp, #15
 2900 008e 0122     		movs	r2, #1
 2901 0090 4021     		movs	r1, #64
 2902 0092 0420     		movs	r0, #4
 2903 0094 FFF7FEFF 		bl	drv_wave1006_write_reg
 2904              	.LVL254:
 2905              		.loc 1 790 4 view .LVU917
 2906 0098 0028     		cmp	r0, #0
 2907 009a 6ED1     		bne	.L95
 791:Device/Src/drv_wave1006.c **** 	{
 792:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 793:Device/Src/drv_wave1006.c **** 	}
 794:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 795:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2908              		.loc 1 795 2 is_stmt 1 view .LVU918
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 74


 2909              		.loc 1 795 5 is_stmt 0 view .LVU919
 2910 009c 04AB     		add	r3, sp, #16
 2911 009e 0522     		movs	r2, #5
 2912 00a0 2D21     		movs	r1, #45
 2913 00a2 0420     		movs	r0, #4
 2914 00a4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2915              	.LVL255:
 2916              		.loc 1 795 4 view .LVU920
 2917 00a8 0028     		cmp	r0, #0
 2918 00aa 69D1     		bne	.L96
 796:Device/Src/drv_wave1006.c **** 	{
 797:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 798:Device/Src/drv_wave1006.c **** 	}
 799:Device/Src/drv_wave1006.c **** 		
 800:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2919              		.loc 1 800 2 is_stmt 1 view .LVU921
 2920              		.loc 1 800 5 is_stmt 0 view .LVU922
 2921 00ac 3020     		movs	r0, #48
 2922 00ae FFF7FEFF 		bl	wave1006_enter_test_mode
 2923              	.LVL256:
 2924              		.loc 1 800 4 view .LVU923
 2925 00b2 0646     		mov	r6, r0
 2926 00b4 0028     		cmp	r0, #0
 2927 00b6 66D1     		bne	.L97
 801:Device/Src/drv_wave1006.c **** 	{
 802:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 803:Device/Src/drv_wave1006.c **** 	}
 804:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 805:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2928              		.loc 1 805 3 is_stmt 1 view .LVU924
 2929              		.loc 1 805 10 is_stmt 0 view .LVU925
 2930 00b8 8024     		movs	r4, #128
 2931              	.LVL257:
 2932              		.loc 1 805 10 view .LVU926
 2933 00ba 8DF81040 		strb	r4, [sp, #16]
 806:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2934              		.loc 1 806 2 is_stmt 1 view .LVU927
 2935 00be 04AB     		add	r3, sp, #16
 2936 00c0 0122     		movs	r2, #1
 2937 00c2 2D21     		movs	r1, #45
 2938 00c4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2939              	.LVL258:
 807:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 808:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2940              		.loc 1 808 3 view .LVU928
 2941              		.loc 1 808 10 is_stmt 0 view .LVU929
 2942 00c8 8225     		movs	r5, #130
 2943 00ca 8DF81050 		strb	r5, [sp, #16]
 809:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2944              		.loc 1 809 3 is_stmt 1 view .LVU930
 2945 00ce 04AB     		add	r3, sp, #16
 2946 00d0 0122     		movs	r2, #1
 2947 00d2 2D21     		movs	r1, #45
 2948 00d4 0020     		movs	r0, #0
 2949 00d6 FFF7FEFF 		bl	drv_wave1006_write_reg
 2950              	.LVL259:
 810:Device/Src/drv_wave1006.c ****     /*pprog = 1*/
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 75


 811:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 2951              		.loc 1 811 3 view .LVU931
 2952              		.loc 1 811 10 is_stmt 0 view .LVU932
 2953 00da A223     		movs	r3, #162
 2954 00dc 8DF81030 		strb	r3, [sp, #16]
 812:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2955              		.loc 1 812 3 is_stmt 1 view .LVU933
 2956 00e0 04AB     		add	r3, sp, #16
 2957 00e2 0122     		movs	r2, #1
 2958 00e4 2D21     		movs	r1, #45
 2959 00e6 0020     		movs	r0, #0
 2960 00e8 FFF7FEFF 		bl	drv_wave1006_write_reg
 2961              	.LVL260:
 813:Device/Src/drv_wave1006.c ****     /*io6 =8.5V*/
 814:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(1);
 2962              		.loc 1 814 2 view .LVU934
 2963 00ec 0120     		movs	r0, #1
 2964 00ee FFF7FEFF 		bl	otp_prg_power_ctrl
 2965              	.LVL261:
 815:Device/Src/drv_wave1006.c ****     /*start write otp*/
 816:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(Addr, Data);
 2966              		.loc 1 816 2 view .LVU935
 2967 00f2 BDF80410 		ldrh	r1, [sp, #4]
 2968 00f6 BDF80800 		ldrh	r0, [sp, #8]
 2969 00fa FFF7FEFF 		bl	wave1006_write_otp_single
 2970              	.LVL262:
 817:Device/Src/drv_wave1006.c **** 	/*write otp is complete, switch i2c prot, io6 =5V*/
 818:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    
 2971              		.loc 1 818 2 view .LVU936
 2972 00fe 0020     		movs	r0, #0
 2973 0100 FFF7FEFF 		bl	otp_prg_power_ctrl
 2974              	.LVL263:
 819:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 820:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2975              		.loc 1 820 3 view .LVU937
 2976              		.loc 1 820 10 is_stmt 0 view .LVU938
 2977 0104 8DF81050 		strb	r5, [sp, #16]
 821:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2978              		.loc 1 821 2 is_stmt 1 view .LVU939
 2979 0108 04AB     		add	r3, sp, #16
 2980 010a 0122     		movs	r2, #1
 2981 010c 2D21     		movs	r1, #45
 2982 010e 0020     		movs	r0, #0
 2983 0110 FFF7FEFF 		bl	drv_wave1006_write_reg
 2984              	.LVL264:
 822:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 823:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2985              		.loc 1 823 3 view .LVU940
 2986              		.loc 1 823 10 is_stmt 0 view .LVU941
 2987 0114 8DF81040 		strb	r4, [sp, #16]
 824:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2988              		.loc 1 824 2 is_stmt 1 view .LVU942
 2989 0118 04AB     		add	r3, sp, #16
 2990 011a 0122     		movs	r2, #1
 2991 011c 2D21     		movs	r1, #45
 2992 011e 0020     		movs	r0, #0
 2993 0120 FFF7FEFF 		bl	drv_wave1006_write_reg
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 76


 2994              	.LVL265:
 825:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 826:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2995              		.loc 1 826 5 view .LVU943
 2996              		.loc 1 826 12 is_stmt 0 view .LVU944
 2997 0124 0020     		movs	r0, #0
 2998 0126 8DF81000 		strb	r0, [sp, #16]
 827:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2999              		.loc 1 827 5 is_stmt 1 view .LVU945
 3000              		.loc 1 827 12 is_stmt 0 view .LVU946
 3001 012a 8DF81100 		strb	r0, [sp, #17]
 828:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 3002              		.loc 1 828 5 is_stmt 1 view .LVU947
 3003              		.loc 1 828 12 is_stmt 0 view .LVU948
 3004 012e 8DF81200 		strb	r0, [sp, #18]
 829:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 3005              		.loc 1 829 5 is_stmt 1 view .LVU949
 3006              		.loc 1 829 12 is_stmt 0 view .LVU950
 3007 0132 8DF81300 		strb	r0, [sp, #19]
 830:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 3008              		.loc 1 830 3 is_stmt 1 view .LVU951
 3009 0136 04AB     		add	r3, sp, #16
 3010 0138 0422     		movs	r2, #4
 3011 013a 2D21     		movs	r1, #45
 3012 013c FFF7FEFF 		bl	drv_wave1006_write_reg
 3013              	.LVL266:
 831:Device/Src/drv_wave1006.c **** 	/*check write value*/
 832:Device/Src/drv_wave1006.c **** 	wave1006_read_otp_single(Addr, &otp_temp);
 3014              		.loc 1 832 2 view .LVU952
 3015 0140 03A9     		add	r1, sp, #12
 3016 0142 BDF80800 		ldrh	r0, [sp, #8]
 3017 0146 FFF7FEFF 		bl	wave1006_read_otp_single
 3018              	.LVL267:
 833:Device/Src/drv_wave1006.c **** 	// UsbPrintf("read otp addr%hx:%hx\r\n",Addr, otp_temp);
 834:Device/Src/drv_wave1006.c **** 	
 835:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 836:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 3019              		.loc 1 836 2 view .LVU953
 3020 014a B1EE040A 		vmov.f32	s0, #5.0e+0
 3021 014e FFF7FEFF 		bl	rtc_otp_power
 3022              	.LVL268:
 837:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 3023              		.loc 1 837 2 view .LVU954
 3024 0152 C820     		movs	r0, #200
 3025 0154 FFF7FEFF 		bl	HAL_Delay
 3026              	.LVL269:
 838:Device/Src/drv_wave1006.c **** 	
 839:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 3027              		.loc 1 839 2 view .LVU955
 3028 0158 1148     		ldr	r0, .L101+12
 3029 015a FFF7FEFF 		bl	UsbPrintf
 3030              	.LVL270:
 840:Device/Src/drv_wave1006.c **** 	if (otp_temp != Data)
 3031              		.loc 1 840 2 view .LVU956
 3032              		.loc 1 840 15 is_stmt 0 view .LVU957
 3033 015e BDF80C20 		ldrh	r2, [sp, #12]
 3034 0162 019B     		ldr	r3, [sp, #4]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 77


 3035              		.loc 1 840 5 view .LVU958
 3036 0164 9A42     		cmp	r2, r3
 3037 0166 11D1     		bne	.L100
 3038              	.L92:
 841:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 842:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 843:Device/Src/drv_wave1006.c **** }
 3039              		.loc 1 843 1 view .LVU959
 3040 0168 3046     		mov	r0, r6
 3041 016a 06B0     		add	sp, sp, #24
 3042              	.LCFI47:
 3043              		.cfi_remember_state
 3044              		.cfi_def_cfa_offset 16
 3045              		@ sp needed
 3046 016c 70BD     		pop	{r4, r5, r6, pc}
 3047              	.LVL271:
 3048              	.L93:
 3049              	.LCFI48:
 3050              		.cfi_restore_state
 781:Device/Src/drv_wave1006.c **** 	}
 3051              		.loc 1 781 10 view .LVU960
 3052 016e 6FF00206 		mvn	r6, #2
 3053 0172 F9E7     		b	.L92
 3054              	.L94:
 786:Device/Src/drv_wave1006.c **** 	}
 3055              		.loc 1 786 10 view .LVU961
 3056 0174 6FF00206 		mvn	r6, #2
 3057 0178 F6E7     		b	.L92
 3058              	.L95:
 792:Device/Src/drv_wave1006.c **** 	}
 3059              		.loc 1 792 10 view .LVU962
 3060 017a 6FF00206 		mvn	r6, #2
 3061 017e F3E7     		b	.L92
 3062              	.L96:
 797:Device/Src/drv_wave1006.c **** 	}
 3063              		.loc 1 797 10 view .LVU963
 3064 0180 6FF00206 		mvn	r6, #2
 3065 0184 F0E7     		b	.L92
 3066              	.L97:
 802:Device/Src/drv_wave1006.c **** 	}
 3067              		.loc 1 802 10 view .LVU964
 3068 0186 6FF00206 		mvn	r6, #2
 3069 018a EDE7     		b	.L92
 3070              	.LVL272:
 3071              	.L100:
 841:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 3072              		.loc 1 841 10 view .LVU965
 3073 018c 6FF00206 		mvn	r6, #2
 3074 0190 EAE7     		b	.L92
 3075              	.L102:
 3076 0192 00BF     		.align	2
 3077              	.L101:
 3078 0194 00000000 		.word	.LANCHOR0
 3079 0198 00000000 		.word	.LC27
 3080 019c 14000000 		.word	.LC28
 3081 01a0 18000000 		.word	.LC29
 3082              		.cfi_endproc
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 78


 3083              	.LFE248:
 3085              		.section	.rodata.wave1006_read_otp.str1.4,"aMS",%progbits,1
 3086              		.align	2
 3087              	.LC30:
 3088 0000 4F50454E 		.ascii	"OPEN READ!\015\012\000"
 3088      20524541 
 3088      44210D0A 
 3088      00
 3089 000d 000000   		.align	2
 3090              	.LC31:
 3091 0010 2F2A2A2A 		.ascii	"/**************************** READ ALL OTP ********"
 3091      2A2A2A2A 
 3091      2A2A2A2A 
 3091      2A2A2A2A 
 3091      2A2A2A2A 
 3092 0043 2A2A2A2A 		.ascii	"************************/\015\012\000"
 3092      2A2A2A2A 
 3092      2A2A2A2A 
 3092      2A2A2A2A 
 3092      2A2A2A2A 
 3093 005f 00       		.align	2
 3094              	.LC32:
 3095 0060 61646472 		.ascii	"addr%x:%hx\015\012\000"
 3095      25783A25 
 3095      68780D0A 
 3095      00
 3096              		.section	.text.wave1006_read_otp,"ax",%progbits
 3097              		.align	1
 3098              		.global	wave1006_read_otp
 3099              		.syntax unified
 3100              		.thumb
 3101              		.thumb_func
 3103              	wave1006_read_otp:
 3104              	.LFB249:
 844:Device/Src/drv_wave1006.c **** 
 845:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_read_otp(void)
 846:Device/Src/drv_wave1006.c **** {
 3105              		.loc 1 846 1 is_stmt 1 view -0
 3106              		.cfi_startproc
 3107              		@ args = 0, pretend = 0, frame = 16
 3108              		@ frame_needed = 0, uses_anonymous_args = 0
 3109 0000 30B5     		push	{r4, r5, lr}
 3110              	.LCFI49:
 3111              		.cfi_def_cfa_offset 12
 3112              		.cfi_offset 4, -12
 3113              		.cfi_offset 5, -8
 3114              		.cfi_offset 14, -4
 3115 0002 85B0     		sub	sp, sp, #20
 3116              	.LCFI50:
 3117              		.cfi_def_cfa_offset 32
 847:Device/Src/drv_wave1006.c **** 	uint16_t i;
 3118              		.loc 1 847 2 view .LVU967
 848:Device/Src/drv_wave1006.c **** 	uint8_t  buf[5]={0,0,0,0,0},buf1;
 3119              		.loc 1 848 2 view .LVU968
 3120              		.loc 1 848 11 is_stmt 0 view .LVU969
 3121 0004 514B     		ldr	r3, .L113
 3122 0006 93E80300 		ldm	r3, {r0, r1}
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 79


 3123 000a 0290     		str	r0, [sp, #8]
 3124 000c 8DF80C10 		strb	r1, [sp, #12]
 849:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp = 0;
 3125              		.loc 1 849 2 is_stmt 1 view .LVU970
 3126              		.loc 1 849 11 is_stmt 0 view .LVU971
 3127 0010 0023     		movs	r3, #0
 3128 0012 ADF80430 		strh	r3, [sp, #4]	@ movhi
 850:Device/Src/drv_wave1006.c **** 
 851:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN READ!\r\n");
 3129              		.loc 1 851 2 is_stmt 1 view .LVU972
 3130 0016 4E48     		ldr	r0, .L113+4
 3131 0018 FFF7FEFF 		bl	UsbPrintf
 3132              	.LVL273:
 852:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 3133              		.loc 1 852 2 view .LVU973
 3134 001c B1EE040A 		vmov.f32	s0, #5.0e+0
 3135 0020 FFF7FEFF 		bl	rtc_otp_power
 3136              	.LVL274:
 853:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 3137              		.loc 1 853 2 view .LVU974
 3138 0024 C820     		movs	r0, #200
 3139 0026 FFF7FEFF 		bl	HAL_Delay
 3140              	.LVL275:
 854:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 3141              		.loc 1 854 2 view .LVU975
 3142              		.loc 1 854 7 is_stmt 0 view .LVU976
 3143 002a 4023     		movs	r3, #64
 3144 002c 8DF80730 		strb	r3, [sp, #7]
 855:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 3145              		.loc 1 855 2 is_stmt 1 view .LVU977
 3146              		.loc 1 855 5 is_stmt 0 view .LVU978
 3147 0030 0DF10703 		add	r3, sp, #7
 3148 0034 0122     		movs	r2, #1
 3149 0036 1121     		movs	r1, #17
 3150 0038 0420     		movs	r0, #4
 3151 003a FFF7FEFF 		bl	drv_wave1006_write_reg
 3152              	.LVL276:
 3153              		.loc 1 855 4 view .LVU979
 3154 003e 0028     		cmp	r0, #0
 3155 0040 74D1     		bne	.L107
 856:Device/Src/drv_wave1006.c **** 	{
 857:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 858:Device/Src/drv_wave1006.c **** 	}
 859:Device/Src/drv_wave1006.c **** 	
 860:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 3156              		.loc 1 860 2 is_stmt 1 view .LVU980
 3157              		.loc 1 860 5 is_stmt 0 view .LVU981
 3158 0042 0DF10703 		add	r3, sp, #7
 3159 0046 0122     		movs	r2, #1
 3160 0048 4021     		movs	r1, #64
 3161 004a 0420     		movs	r0, #4
 3162 004c FFF7FEFF 		bl	drv_wave1006_read_reg
 3163              	.LVL277:
 3164              		.loc 1 860 4 view .LVU982
 3165 0050 0028     		cmp	r0, #0
 3166 0052 6ED1     		bne	.L108
 861:Device/Src/drv_wave1006.c **** 	{
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 80


 862:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 863:Device/Src/drv_wave1006.c **** 	}
 864:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 3167              		.loc 1 864 2 is_stmt 1 view .LVU983
 3168              		.loc 1 864 7 is_stmt 0 view .LVU984
 3169 0054 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3170 0058 03F0F003 		and	r3, r3, #240
 3171 005c 8DF80730 		strb	r3, [sp, #7]
 865:Device/Src/drv_wave1006.c **** 	buf1 |= 0x0c;
 3172              		.loc 1 865 2 is_stmt 1 view .LVU985
 3173              		.loc 1 865 7 is_stmt 0 view .LVU986
 3174 0060 43F00C03 		orr	r3, r3, #12
 3175 0064 8DF80730 		strb	r3, [sp, #7]
 866:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 3176              		.loc 1 866 2 is_stmt 1 view .LVU987
 3177              		.loc 1 866 5 is_stmt 0 view .LVU988
 3178 0068 0DF10703 		add	r3, sp, #7
 3179 006c 0122     		movs	r2, #1
 3180 006e 4021     		movs	r1, #64
 3181 0070 0420     		movs	r0, #4
 3182 0072 FFF7FEFF 		bl	drv_wave1006_write_reg
 3183              	.LVL278:
 3184              		.loc 1 866 4 view .LVU989
 3185 0076 0028     		cmp	r0, #0
 3186 0078 5ED1     		bne	.L109
 867:Device/Src/drv_wave1006.c **** 	{
 868:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 869:Device/Src/drv_wave1006.c **** 	}
 870:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 871:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 3187              		.loc 1 871 2 is_stmt 1 view .LVU990
 3188              		.loc 1 871 5 is_stmt 0 view .LVU991
 3189 007a 02AB     		add	r3, sp, #8
 3190 007c 0522     		movs	r2, #5
 3191 007e 2D21     		movs	r1, #45
 3192 0080 0420     		movs	r0, #4
 3193 0082 FFF7FEFF 		bl	drv_wave1006_write_reg
 3194              	.LVL279:
 3195              		.loc 1 871 4 view .LVU992
 3196 0086 0028     		cmp	r0, #0
 3197 0088 59D1     		bne	.L110
 872:Device/Src/drv_wave1006.c **** 	{
 873:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 874:Device/Src/drv_wave1006.c **** 	}
 875:Device/Src/drv_wave1006.c **** 		
 876:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 3198              		.loc 1 876 2 is_stmt 1 view .LVU993
 3199              		.loc 1 876 5 is_stmt 0 view .LVU994
 3200 008a 3020     		movs	r0, #48
 3201 008c FFF7FEFF 		bl	wave1006_enter_test_mode
 3202              	.LVL280:
 3203              		.loc 1 876 4 view .LVU995
 3204 0090 0546     		mov	r5, r0
 3205 0092 0028     		cmp	r0, #0
 3206 0094 56D1     		bne	.L111
 877:Device/Src/drv_wave1006.c **** 	{
 878:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 81


 879:Device/Src/drv_wave1006.c **** 	}
 880:Device/Src/drv_wave1006.c **** 	
 881:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    //IO6加5V电压
 3207              		.loc 1 881 2 is_stmt 1 view .LVU996
 3208 0096 FFF7FEFF 		bl	otp_prg_power_ctrl
 3209              	.LVL281:
 882:Device/Src/drv_wave1006.c **** 	             
 883:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 884:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 3210              		.loc 1 884 3 view .LVU997
 3211              		.loc 1 884 10 is_stmt 0 view .LVU998
 3212 009a 8024     		movs	r4, #128
 3213 009c 8DF80840 		strb	r4, [sp, #8]
 885:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 3214              		.loc 1 885 2 is_stmt 1 view .LVU999
 3215 00a0 02AB     		add	r3, sp, #8
 3216 00a2 0122     		movs	r2, #1
 3217 00a4 2D21     		movs	r1, #45
 3218 00a6 0020     		movs	r0, #0
 3219 00a8 FFF7FEFF 		bl	drv_wave1006_write_reg
 3220              	.LVL282:
 886:Device/Src/drv_wave1006.c ****     
 887:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 888:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 3221              		.loc 1 888 3 view .LVU1000
 3222              		.loc 1 888 10 is_stmt 0 view .LVU1001
 3223 00ac 8223     		movs	r3, #130
 3224 00ae 8DF80830 		strb	r3, [sp, #8]
 889:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 3225              		.loc 1 889 2 is_stmt 1 view .LVU1002
 3226 00b2 02AB     		add	r3, sp, #8
 3227 00b4 0122     		movs	r2, #1
 3228 00b6 2D21     		movs	r1, #45
 3229 00b8 0020     		movs	r0, #0
 3230 00ba FFF7FEFF 		bl	drv_wave1006_write_reg
 3231              	.LVL283:
 890:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 891:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 3232              		.loc 1 891 3 view .LVU1003
 3233              		.loc 1 891 10 is_stmt 0 view .LVU1004
 3234 00be 8DF80840 		strb	r4, [sp, #8]
 892:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 3235              		.loc 1 892 2 is_stmt 1 view .LVU1005
 3236 00c2 02AB     		add	r3, sp, #8
 3237 00c4 0122     		movs	r2, #1
 3238 00c6 2D21     		movs	r1, #45
 3239 00c8 0020     		movs	r0, #0
 3240 00ca FFF7FEFF 		bl	drv_wave1006_write_reg
 3241              	.LVL284:
 893:Device/Src/drv_wave1006.c ****     /*pa=0, Data*/
 894:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 3242              		.loc 1 894 5 view .LVU1006
 3243              		.loc 1 894 12 is_stmt 0 view .LVU1007
 3244 00ce 0024     		movs	r4, #0
 3245 00d0 8DF80840 		strb	r4, [sp, #8]
 895:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 3246              		.loc 1 895 5 is_stmt 1 view .LVU1008
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 82


 3247              		.loc 1 895 12 is_stmt 0 view .LVU1009
 3248 00d4 8DF80940 		strb	r4, [sp, #9]
 896:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 3249              		.loc 1 896 5 is_stmt 1 view .LVU1010
 3250              		.loc 1 896 12 is_stmt 0 view .LVU1011
 3251 00d8 8DF80A40 		strb	r4, [sp, #10]
 897:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 3252              		.loc 1 897 5 is_stmt 1 view .LVU1012
 3253              		.loc 1 897 12 is_stmt 0 view .LVU1013
 3254 00dc 8DF80B40 		strb	r4, [sp, #11]
 898:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 3255              		.loc 1 898 3 is_stmt 1 view .LVU1014
 3256 00e0 02AB     		add	r3, sp, #8
 3257 00e2 0422     		movs	r2, #4
 3258 00e4 2D21     		movs	r1, #45
 3259 00e6 2046     		mov	r0, r4
 3260 00e8 FFF7FEFF 		bl	drv_wave1006_write_reg
 3261              	.LVL285:
 899:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ ALL OTP ********************************/\r\n");
 3262              		.loc 1 899 2 view .LVU1015
 3263 00ec 1948     		ldr	r0, .L113+8
 3264 00ee FFF7FEFF 		bl	UsbPrintf
 3265              	.LVL286:
 900:Device/Src/drv_wave1006.c **** 	/*check write value*/
 901:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 1024; i++)
 3266              		.loc 1 901 2 view .LVU1016
 3267              		.loc 1 901 2 is_stmt 0 view .LVU1017
 3268 00f2 0BE0     		b	.L105
 3269              	.LVL287:
 3270              	.L106:
 902:Device/Src/drv_wave1006.c **** 	{
 903:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 3271              		.loc 1 903 3 is_stmt 1 discriminator 3 view .LVU1018
 3272 00f4 01A9     		add	r1, sp, #4
 3273 00f6 2046     		mov	r0, r4
 3274 00f8 FFF7FEFF 		bl	wave1006_read_otp_single
 3275              	.LVL288:
 904:Device/Src/drv_wave1006.c **** 		UsbPrintf("addr%x:%hx\r\n",i, otp_temp);
 3276              		.loc 1 904 3 discriminator 3 view .LVU1019
 3277 00fc BDF80420 		ldrh	r2, [sp, #4]
 3278 0100 2146     		mov	r1, r4
 3279 0102 1548     		ldr	r0, .L113+12
 3280 0104 FFF7FEFF 		bl	UsbPrintf
 3281              	.LVL289:
 901:Device/Src/drv_wave1006.c **** 	{
 3282              		.loc 1 901 24 discriminator 3 view .LVU1020
 901:Device/Src/drv_wave1006.c **** 	{
 3283              		.loc 1 901 25 is_stmt 0 discriminator 3 view .LVU1021
 3284 0108 0134     		adds	r4, r4, #1
 3285              	.LVL290:
 901:Device/Src/drv_wave1006.c **** 	{
 3286              		.loc 1 901 25 discriminator 3 view .LVU1022
 3287 010a A4B2     		uxth	r4, r4
 3288              	.LVL291:
 3289              	.L105:
 901:Device/Src/drv_wave1006.c **** 	{
 3290              		.loc 1 901 14 is_stmt 1 discriminator 1 view .LVU1023
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 83


 901:Device/Src/drv_wave1006.c **** 	{
 3291              		.loc 1 901 2 is_stmt 0 discriminator 1 view .LVU1024
 3292 010c B4F5806F 		cmp	r4, #1024
 3293 0110 F0D3     		bcc	.L106
 905:Device/Src/drv_wave1006.c **** 	}
 906:Device/Src/drv_wave1006.c **** 	
 907:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 908:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 3294              		.loc 1 908 2 is_stmt 1 view .LVU1025
 3295 0112 B1EE040A 		vmov.f32	s0, #5.0e+0
 3296 0116 FFF7FEFF 		bl	rtc_otp_power
 3297              	.LVL292:
 909:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 3298              		.loc 1 909 2 view .LVU1026
 3299 011a C820     		movs	r0, #200
 3300 011c FFF7FEFF 		bl	HAL_Delay
 3301              	.LVL293:
 910:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 3302              		.loc 1 910 2 view .LVU1027
 3303 0120 0E48     		ldr	r0, .L113+16
 3304 0122 FFF7FEFF 		bl	UsbPrintf
 3305              	.LVL294:
 911:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 3306              		.loc 1 911 2 view .LVU1028
 3307              	.L104:
 912:Device/Src/drv_wave1006.c **** }
 3308              		.loc 1 912 1 is_stmt 0 view .LVU1029
 3309 0126 2846     		mov	r0, r5
 3310 0128 05B0     		add	sp, sp, #20
 3311              	.LCFI51:
 3312              		.cfi_remember_state
 3313              		.cfi_def_cfa_offset 12
 3314              		@ sp needed
 3315 012a 30BD     		pop	{r4, r5, pc}
 3316              	.L107:
 3317              	.LCFI52:
 3318              		.cfi_restore_state
 857:Device/Src/drv_wave1006.c **** 	}
 3319              		.loc 1 857 10 view .LVU1030
 3320 012c 6FF00205 		mvn	r5, #2
 3321 0130 F9E7     		b	.L104
 3322              	.L108:
 862:Device/Src/drv_wave1006.c **** 	}
 3323              		.loc 1 862 10 view .LVU1031
 3324 0132 6FF00205 		mvn	r5, #2
 3325 0136 F6E7     		b	.L104
 3326              	.L109:
 868:Device/Src/drv_wave1006.c **** 	}
 3327              		.loc 1 868 10 view .LVU1032
 3328 0138 6FF00205 		mvn	r5, #2
 3329 013c F3E7     		b	.L104
 3330              	.L110:
 873:Device/Src/drv_wave1006.c **** 	}
 3331              		.loc 1 873 10 view .LVU1033
 3332 013e 6FF00205 		mvn	r5, #2
 3333 0142 F0E7     		b	.L104
 3334              	.L111:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 84


 878:Device/Src/drv_wave1006.c **** 	}
 3335              		.loc 1 878 10 view .LVU1034
 3336 0144 6FF00205 		mvn	r5, #2
 3337 0148 EDE7     		b	.L104
 3338              	.L114:
 3339 014a 00BF     		.align	2
 3340              	.L113:
 3341 014c 00000000 		.word	.LANCHOR0
 3342 0150 00000000 		.word	.LC30
 3343 0154 10000000 		.word	.LC31
 3344 0158 60000000 		.word	.LC32
 3345 015c 18000000 		.word	.LC29
 3346              		.cfi_endproc
 3347              	.LFE249:
 3349              		.section	.rodata.rtc_calculate_cap.str1.4,"aMS",%progbits,1
 3350              		.align	2
 3351              	.LC33:
 3352 0000 63616C63 		.ascii	"calculate cap error\012\000"
 3352      756C6174 
 3352      65206361 
 3352      70206572 
 3352      726F720A 
 3353              		.section	.text.rtc_calculate_cap,"ax",%progbits
 3354              		.align	1
 3355              		.global	rtc_calculate_cap
 3356              		.syntax unified
 3357              		.thumb
 3358              		.thumb_func
 3360              	rtc_calculate_cap:
 3361              	.LVL295:
 3362              	.LFB250:
 913:Device/Src/drv_wave1006.c **** 
 914:Device/Src/drv_wave1006.c **** uint8_t rtc_calculate_cap(uint8_t channel)
 915:Device/Src/drv_wave1006.c **** {
 3363              		.loc 1 915 1 is_stmt 1 view -0
 3364              		.cfi_startproc
 3365              		@ args = 0, pretend = 0, frame = 0
 3366              		@ frame_needed = 0, uses_anonymous_args = 0
 3367              		.loc 1 915 1 is_stmt 0 view .LVU1036
 3368 0000 38B5     		push	{r3, r4, r5, lr}
 3369              	.LCFI53:
 3370              		.cfi_def_cfa_offset 16
 3371              		.cfi_offset 3, -16
 3372              		.cfi_offset 4, -12
 3373              		.cfi_offset 5, -8
 3374              		.cfi_offset 14, -4
 916:Device/Src/drv_wave1006.c **** 	int i;
 3375              		.loc 1 916 2 is_stmt 1 view .LVU1037
 917:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) { 
 3376              		.loc 1 917 2 view .LVU1038
 3377              	.LVL296:
 3378              		.loc 1 917 9 is_stmt 0 view .LVU1039
 3379 0002 0023     		movs	r3, #0
 3380              		.loc 1 917 2 view .LVU1040
 3381 0004 09E0     		b	.L116
 3382              	.LVL297:
 3383              	.L117:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 85


 918:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 3384              		.loc 1 918 3 is_stmt 1 discriminator 3 view .LVU1041
 3385              		.loc 1 918 16 is_stmt 0 discriminator 3 view .LVU1042
 3386 0006 0F4A     		ldr	r2, .L122
 3387 0008 02EB8302 		add	r2, r2, r3, lsl #2
 3388 000c 0021     		movs	r1, #0
 3389 000e 1160     		str	r1, [r2]	@ float
 919:Device/Src/drv_wave1006.c **** 		g_digtal_adj[i] = 0;
 3390              		.loc 1 919 3 is_stmt 1 discriminator 3 view .LVU1043
 3391              		.loc 1 919 19 is_stmt 0 discriminator 3 view .LVU1044
 3392 0010 0D4A     		ldr	r2, .L122+4
 3393 0012 0021     		movs	r1, #0
 3394 0014 42F82310 		str	r1, [r2, r3, lsl #2]
 917:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) { 
 3395              		.loc 1 917 35 is_stmt 1 discriminator 3 view .LVU1045
 917:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) { 
 3396              		.loc 1 917 36 is_stmt 0 discriminator 3 view .LVU1046
 3397 0018 0133     		adds	r3, r3, #1
 3398              	.LVL298:
 3399              	.L116:
 917:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) { 
 3400              		.loc 1 917 14 is_stmt 1 discriminator 1 view .LVU1047
 917:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) { 
 3401              		.loc 1 917 2 is_stmt 0 discriminator 1 view .LVU1048
 3402 001a B3F5F47F 		cmp	r3, #488
 3403 001e F2DB     		blt	.L117
 920:Device/Src/drv_wave1006.c **** 	}
 921:Device/Src/drv_wave1006.c **** 
 922:Device/Src/drv_wave1006.c **** 	if (calculate_wave1006_temp_cap(channel, g_cap_val, g_digtal_adj, &g_offset) == 0) {
 3404              		.loc 1 922 2 is_stmt 1 view .LVU1049
 3405              		.loc 1 922 6 is_stmt 0 view .LVU1050
 3406 0020 0A4B     		ldr	r3, .L122+8
 3407              	.LVL299:
 3408              		.loc 1 922 6 view .LVU1051
 3409 0022 094A     		ldr	r2, .L122+4
 3410 0024 0749     		ldr	r1, .L122
 3411 0026 FFF7FEFF 		bl	calculate_wave1006_temp_cap
 3412              	.LVL300:
 3413              		.loc 1 922 5 view .LVU1052
 3414 002a 0446     		mov	r4, r0
 3415 002c 10B1     		cbz	r0, .L121
 923:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 924:Device/Src/drv_wave1006.c **** 		log_printf("calculate cap error\n");
 925:Device/Src/drv_wave1006.c **** 		return 0;
 926:Device/Src/drv_wave1006.c **** 	}
 927:Device/Src/drv_wave1006.c **** 	return 1;
 3416              		.loc 1 927 9 view .LVU1053
 3417 002e 0124     		movs	r4, #1
 3418              	.L118:
 928:Device/Src/drv_wave1006.c **** 
 929:Device/Src/drv_wave1006.c **** }
 3419              		.loc 1 929 1 view .LVU1054
 3420 0030 2046     		mov	r0, r4
 3421 0032 38BD     		pop	{r3, r4, r5, pc}
 3422              	.L121:
 923:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 3423              		.loc 1 923 3 is_stmt 1 view .LVU1055
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 86


 3424 0034 064D     		ldr	r5, .L122+12
 3425 0036 2846     		mov	r0, r5
 3426 0038 FFF7FEFF 		bl	UsbPrintf
 3427              	.LVL301:
 924:Device/Src/drv_wave1006.c **** 		return 0;
 3428              		.loc 1 924 3 view .LVU1056
 3429 003c 2846     		mov	r0, r5
 3430 003e FFF7FEFF 		bl	log_printf
 3431              	.LVL302:
 925:Device/Src/drv_wave1006.c **** 	}
 3432              		.loc 1 925 3 view .LVU1057
 925:Device/Src/drv_wave1006.c **** 	}
 3433              		.loc 1 925 10 is_stmt 0 view .LVU1058
 3434 0042 F5E7     		b	.L118
 3435              	.L123:
 3436              		.align	2
 3437              	.L122:
 3438 0044 00000000 		.word	.LANCHOR1
 3439 0048 00000000 		.word	.LANCHOR2
 3440 004c 00000000 		.word	.LANCHOR3
 3441 0050 00000000 		.word	.LC33
 3442              		.cfi_endproc
 3443              	.LFE250:
 3445              		.section	.rodata.sd8800_write_otp.str1.4,"aMS",%progbits,1
 3446              		.align	2
 3447              	.LC34:
 3448 0000 64617465 		.ascii	"date error, check ID error\012\000"
 3448      20657272 
 3448      6F722C20 
 3448      63686563 
 3448      6B204944 
 3449              		.align	2
 3450              	.LC35:
 3451 001c 62736E20 		.ascii	"bsn %d error, check ID error\012\000"
 3451      25642065 
 3451      72726F72 
 3451      2C206368 
 3451      65636B20 
 3452 003a 0000     		.align	2
 3453              	.LC36:
 3454 003c 63736E20 		.ascii	"csn %d error, check ID error\012\000"
 3454      25642065 
 3454      72726F72 
 3454      2C206368 
 3454      65636B20 
 3455 005a 0000     		.align	2
 3456              	.LC37:
 3457 005c 72746320 		.ascii	"rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 3457      25642069 
 3457      643A2530 
 3457      32582530 
 3457      32582530 
 3458              		.global	__aeabi_i2d
 3459              		.global	__aeabi_dmul
 3460              		.global	__aeabi_dadd
 3461              		.global	__aeabi_d2uiz
 3462              		.align	2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 87


 3463              	.LC38:
 3464 0088 2A2A2A2A 		.ascii	"*************** WRITE SD8800 SD8801************\015"
 3464      2A2A2A2A 
 3464      2A2A2A2A 
 3464      2A2A2A20 
 3464      57524954 
 3465 00b8 0A00     		.ascii	"\012\000"
 3466              		.section	.text.sd8800_write_otp,"ax",%progbits
 3467              		.align	1
 3468              		.global	sd8800_write_otp
 3469              		.syntax unified
 3470              		.thumb
 3471              		.thumb_func
 3473              	sd8800_write_otp:
 3474              	.LVL303:
 3475              	.LFB251:
 930:Device/Src/drv_wave1006.c **** 
 931:Device/Src/drv_wave1006.c **** #if (VERSION_SELECT == VERSION_SD8804)
 932:Device/Src/drv_wave1006.c **** uint8_t sd8804_write_otp(uint8_t channel)
 933:Device/Src/drv_wave1006.c **** {
 934:Device/Src/drv_wave1006.c **** 	int i;
 935:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 936:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 937:Device/Src/drv_wave1006.c **** 	int num_adj = 0;
 938:Device/Src/drv_wave1006.c **** 	char bsn[BSN_LENGTH + 1] = {0};
 939:Device/Src/drv_wave1006.c **** 	int number = 0;
 940:Device/Src/drv_wave1006.c **** 
 941:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 942:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 29 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 943:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 944:Device/Src/drv_wave1006.c **** 		return 0;
 945:Device/Src/drv_wave1006.c **** 	}
 946:Device/Src/drv_wave1006.c **** 	GetStringFromFlash(bsn, BSN_LENGTH + 1, BSN_ADDR);
 947:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 948:Device/Src/drv_wave1006.c **** 	if (number < 1 || number > 9999) {
 949:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 950:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 951:Device/Src/drv_wave1006.c **** 		return 0;
 952:Device/Src/drv_wave1006.c **** 	}
 953:Device/Src/drv_wave1006.c **** 	if (g_csn <= 2401 || number > 9999) {
 954:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 955:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 956:Device/Src/drv_wave1006.c **** 		return 0;
 957:Device/Src/drv_wave1006.c **** 	}
 958:Device/Src/drv_wave1006.c **** 	if (rtc_calculate_cap(channel) == 0) { return 0;}
 959:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
 960:Device/Src/drv_wave1006.c **** 	g_sd8804_config.temp_offset_config = g_offset;			 //温度偏移值，不同芯片不一样
 961:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 962:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 963:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 964:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 965:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 966:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 967:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 968:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 969:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 970:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 88


 971:Device/Src/drv_wave1006.c **** 	
 972:Device/Src/drv_wave1006.c **** 	
 973:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) {
 974:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 975:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 976:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 977:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 978:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 979:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 980:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 981:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 982:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 983:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 984:Device/Src/drv_wave1006.c **** 		} else {
 985:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
 986:Device/Src/drv_wave1006.c **** 		}
 987:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val = (i - 120);//
 988:Device/Src/drv_wave1006.c **** 	}
 989:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD8804 ************\r\n");
 990:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8804_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 991:Device/Src/drv_wave1006.c **** 		return 0;
 992:Device/Src/drv_wave1006.c **** 	}
 993:Device/Src/drv_wave1006.c **** 	return 1;
 994:Device/Src/drv_wave1006.c **** }
 995:Device/Src/drv_wave1006.c **** #else
 996:Device/Src/drv_wave1006.c **** uint8_t sd8800_write_otp(uint8_t channel)
 997:Device/Src/drv_wave1006.c **** {
 3476              		.loc 1 997 1 is_stmt 1 view -0
 3477              		.cfi_startproc
 3478              		@ args = 0, pretend = 0, frame = 40
 3479              		@ frame_needed = 0, uses_anonymous_args = 0
 3480              		.loc 1 997 1 is_stmt 0 view .LVU1060
 3481 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3482              	.LCFI54:
 3483              		.cfi_def_cfa_offset 36
 3484              		.cfi_offset 4, -36
 3485              		.cfi_offset 5, -32
 3486              		.cfi_offset 6, -28
 3487              		.cfi_offset 7, -24
 3488              		.cfi_offset 8, -20
 3489              		.cfi_offset 9, -16
 3490              		.cfi_offset 10, -12
 3491              		.cfi_offset 11, -8
 3492              		.cfi_offset 14, -4
 3493 0004 91B0     		sub	sp, sp, #68
 3494              	.LCFI55:
 3495              		.cfi_def_cfa_offset 104
 3496 0006 0446     		mov	r4, r0
 998:Device/Src/drv_wave1006.c **** 	int i;
 3497              		.loc 1 998 2 is_stmt 1 view .LVU1061
 999:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 3498              		.loc 1 999 2 view .LVU1062
 3499              		.loc 1 999 10 is_stmt 0 view .LVU1063
 3500 0008 0023     		movs	r3, #0
 3501 000a ADF83C30 		strh	r3, [sp, #60]	@ movhi
1000:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 3502              		.loc 1 1000 2 is_stmt 1 view .LVU1064
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 89


 3503              		.loc 1 1000 11 is_stmt 0 view .LVU1065
 3504 000e 0D93     		str	r3, [sp, #52]
 3505 0010 0E93     		str	r3, [sp, #56]
1001:Device/Src/drv_wave1006.c **** 	int num_adj = 0;
 3506              		.loc 1 1001 2 is_stmt 1 view .LVU1066
 3507              	.LVL304:
1002:Device/Src/drv_wave1006.c **** 	char bsn[BSN_LENGTH + 1] = {0};
 3508              		.loc 1 1002 2 view .LVU1067
 3509              		.loc 1 1002 7 is_stmt 0 view .LVU1068
 3510 0012 0A93     		str	r3, [sp, #40]
 3511 0014 0B93     		str	r3, [sp, #44]
 3512 0016 8DF83030 		strb	r3, [sp, #48]
1003:Device/Src/drv_wave1006.c **** 	int number = 0;
 3513              		.loc 1 1003 2 is_stmt 1 view .LVU1069
 3514              		.loc 1 1003 6 is_stmt 0 view .LVU1070
 3515 001a 0993     		str	r3, [sp, #36]
1004:Device/Src/drv_wave1006.c **** 
1005:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 3516              		.loc 1 1005 2 is_stmt 1 view .LVU1071
 3517 001c 0DA8     		add	r0, sp, #52
 3518              	.LVL305:
 3519              		.loc 1 1005 2 is_stmt 0 view .LVU1072
 3520 001e FFF7FEFF 		bl	system_get_real_time
 3521              	.LVL306:
1006:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 29 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 3522              		.loc 1 1006 2 is_stmt 1 view .LVU1073
 3523              		.loc 1 1006 10 is_stmt 0 view .LVU1074
 3524 0022 9DF83430 		ldrb	r3, [sp, #52]	@ zero_extendqisi2
 3525              		.loc 1 1006 21 view .LVU1075
 3526 0026 183B     		subs	r3, r3, #24
 3527 0028 DBB2     		uxtb	r3, r3
 3528              		.loc 1 1006 5 view .LVU1076
 3529 002a 052B     		cmp	r3, #5
 3530 002c 09D8     		bhi	.L125
 3531              		.loc 1 1006 46 discriminator 1 view .LVU1077
 3532 002e 9DF83530 		ldrb	r3, [sp, #53]	@ zero_extendqisi2
 3533              		.loc 1 1006 39 discriminator 1 view .LVU1078
 3534 0032 33B1     		cbz	r3, .L125
 3535              		.loc 1 1006 55 discriminator 2 view .LVU1079
 3536 0034 0C2B     		cmp	r3, #12
 3537 0036 04D8     		bhi	.L125
 3538              		.loc 1 1006 79 discriminator 3 view .LVU1080
 3539 0038 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
 3540              		.loc 1 1006 72 discriminator 3 view .LVU1081
 3541 003c 0BB1     		cbz	r3, .L125
 3542              		.loc 1 1006 88 discriminator 4 view .LVU1082
 3543 003e 1F2B     		cmp	r3, #31
 3544 0040 0AD9     		bls	.L126
 3545              	.L125:
1007:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3546              		.loc 1 1007 3 is_stmt 1 view .LVU1083
 3547 0042 C94C     		ldr	r4, .L139+16
 3548 0044 2046     		mov	r0, r4
 3549 0046 FFF7FEFF 		bl	UsbPrintf
 3550              	.LVL307:
1008:Device/Src/drv_wave1006.c **** 		log_printf("date error, check ID error\n");
 3551              		.loc 1 1008 3 view .LVU1084
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 90


 3552 004a 2046     		mov	r0, r4
 3553 004c FFF7FEFF 		bl	log_printf
 3554              	.LVL308:
1009:Device/Src/drv_wave1006.c **** 		return 0;
 3555              		.loc 1 1009 3 view .LVU1085
 3556              		.loc 1 1009 10 is_stmt 0 view .LVU1086
 3557 0050 0020     		movs	r0, #0
 3558              	.LVL309:
 3559              	.L127:
1010:Device/Src/drv_wave1006.c **** 	}
1011:Device/Src/drv_wave1006.c **** 	GetStringFromFlash(bsn, BSN_LENGTH + 1, BSN_ADDR);
1012:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
1013:Device/Src/drv_wave1006.c **** 	if (number < 1 || number > 9999) {
1014:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
1015:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
1016:Device/Src/drv_wave1006.c **** 		return 0;
1017:Device/Src/drv_wave1006.c **** 	}
1018:Device/Src/drv_wave1006.c **** 	if (g_csn <= 2401 || number > 9999) {
1019:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
1020:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
1021:Device/Src/drv_wave1006.c **** 		return 0;
1022:Device/Src/drv_wave1006.c **** 	}
1023:Device/Src/drv_wave1006.c **** 	if (rtc_calculate_cap(channel) == 0) { return 0;}
1024:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
1025:Device/Src/drv_wave1006.c **** 	g_sd8800_config.temp_offset_config = g_offset;			 //温度偏移值，不同芯片不一样
1026:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
1027:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
1028:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
1030:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
1031:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
1033:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
1034:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
1035:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
1036:Device/Src/drv_wave1006.c **** 	
1037:Device/Src/drv_wave1006.c **** 	
1038:Device/Src/drv_wave1006.c **** 	for (i = 0; i < TEMP_ADC_LENGTH; i++) {
1039:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
1041:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
1042:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
1043:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
1044:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
1045:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
1046:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
1047:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
1048:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
1049:Device/Src/drv_wave1006.c **** 		} else {
1050:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
1051:Device/Src/drv_wave1006.c **** 		}
1052:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val =(i - 120) / 2 * 3.218 + 187.9;   //SD8800特有规则
1053:Device/Src/drv_wave1006.c **** 	}
1054:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD8800 SD8801************\r\n");
1055:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8800_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
1056:Device/Src/drv_wave1006.c **** 		return 0;
1057:Device/Src/drv_wave1006.c **** 	}
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 91


1058:Device/Src/drv_wave1006.c **** 	return 1;
1059:Device/Src/drv_wave1006.c **** }
 3560              		.loc 1 1059 1 view .LVU1087
 3561 0052 11B0     		add	sp, sp, #68
 3562              	.LCFI56:
 3563              		.cfi_remember_state
 3564              		.cfi_def_cfa_offset 36
 3565              		@ sp needed
 3566 0054 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3567              	.LVL310:
 3568              	.L126:
 3569              	.LCFI57:
 3570              		.cfi_restore_state
1011:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 3571              		.loc 1 1011 2 is_stmt 1 view .LVU1088
 3572 0058 C44A     		ldr	r2, .L139+20
 3573 005a 0921     		movs	r1, #9
 3574 005c 0AA8     		add	r0, sp, #40
 3575 005e FFF7FEFF 		bl	GetStringFromFlash
 3576              	.LVL311:
1012:Device/Src/drv_wave1006.c **** 	if (number < 1 || number > 9999) {
 3577              		.loc 1 1012 2 view .LVU1089
 3578 0062 09AA     		add	r2, sp, #36
 3579 0064 0421     		movs	r1, #4
 3580 0066 0AA8     		add	r0, sp, #40
 3581 0068 FFF7FEFF 		bl	CharToInt
 3582              	.LVL312:
1013:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3583              		.loc 1 1013 2 view .LVU1090
1013:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3584              		.loc 1 1013 17 is_stmt 0 view .LVU1091
 3585 006c 0999     		ldr	r1, [sp, #36]
 3586 006e 4A1E     		subs	r2, r1, #1
1013:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3587              		.loc 1 1013 5 view .LVU1092
 3588 0070 42F20E73 		movw	r3, #9998
 3589 0074 9A42     		cmp	r2, r3
 3590 0076 13D8     		bhi	.L137
1018:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3591              		.loc 1 1018 2 is_stmt 1 view .LVU1093
1018:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3592              		.loc 1 1018 12 is_stmt 0 view .LVU1094
 3593 0078 BD4B     		ldr	r3, .L139+24
 3594 007a 1A88     		ldrh	r2, [r3]
1018:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3595              		.loc 1 1018 5 view .LVU1095
 3596 007c 40F66113 		movw	r3, #2401
 3597 0080 9A42     		cmp	r2, r3
 3598 0082 03D9     		bls	.L129
1018:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3599              		.loc 1 1018 20 discriminator 1 view .LVU1096
 3600 0084 42F20F73 		movw	r3, #9999
 3601 0088 9942     		cmp	r1, r3
 3602 008a 13DD     		ble	.L130
 3603              	.L129:
1019:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 3604              		.loc 1 1019 3 is_stmt 1 view .LVU1097
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 92


 3605 008c B94C     		ldr	r4, .L139+28
 3606 008e 2046     		mov	r0, r4
 3607 0090 FFF7FEFF 		bl	UsbPrintf
 3608              	.LVL313:
1020:Device/Src/drv_wave1006.c **** 		return 0;
 3609              		.loc 1 1020 3 view .LVU1098
 3610 0094 0999     		ldr	r1, [sp, #36]
 3611 0096 2046     		mov	r0, r4
 3612 0098 FFF7FEFF 		bl	log_printf
 3613              	.LVL314:
1021:Device/Src/drv_wave1006.c **** 	}
 3614              		.loc 1 1021 3 view .LVU1099
1021:Device/Src/drv_wave1006.c **** 	}
 3615              		.loc 1 1021 10 is_stmt 0 view .LVU1100
 3616 009c 0020     		movs	r0, #0
 3617 009e D8E7     		b	.L127
 3618              	.L137:
1014:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 3619              		.loc 1 1014 3 is_stmt 1 view .LVU1101
 3620 00a0 B54C     		ldr	r4, .L139+32
 3621 00a2 2046     		mov	r0, r4
 3622 00a4 FFF7FEFF 		bl	UsbPrintf
 3623              	.LVL315:
1015:Device/Src/drv_wave1006.c **** 		return 0;
 3624              		.loc 1 1015 3 view .LVU1102
 3625 00a8 0999     		ldr	r1, [sp, #36]
 3626 00aa 2046     		mov	r0, r4
 3627 00ac FFF7FEFF 		bl	log_printf
 3628              	.LVL316:
1016:Device/Src/drv_wave1006.c **** 	}
 3629              		.loc 1 1016 3 view .LVU1103
1016:Device/Src/drv_wave1006.c **** 	}
 3630              		.loc 1 1016 10 is_stmt 0 view .LVU1104
 3631 00b0 0020     		movs	r0, #0
 3632 00b2 CEE7     		b	.L127
 3633              	.L130:
1023:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
 3634              		.loc 1 1023 2 is_stmt 1 view .LVU1105
1023:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
 3635              		.loc 1 1023 6 is_stmt 0 view .LVU1106
 3636 00b4 2046     		mov	r0, r4
 3637 00b6 FFF7FEFF 		bl	rtc_calculate_cap
 3638              	.LVL317:
1023:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD3031   烧写保护位		
 3639              		.loc 1 1023 5 view .LVU1107
 3640 00ba 0028     		cmp	r0, #0
 3641 00bc C9D0     		beq	.L127
1025:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 3642              		.loc 1 1025 2 is_stmt 1 view .LVU1108
1025:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 3643              		.loc 1 1025 37 is_stmt 0 view .LVU1109
 3644 00be AF4B     		ldr	r3, .L139+36
 3645 00c0 1A88     		ldrh	r2, [r3]
 3646 00c2 AF4B     		ldr	r3, .L139+40
 3647 00c4 1A72     		strb	r2, [r3, #8]
1026:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3648              		.loc 1 1026 2 is_stmt 1 view .LVU1110
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 93


1026:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3649              		.loc 1 1026 22 is_stmt 0 view .LVU1111
 3650 00c6 9DF83420 		ldrb	r2, [sp, #52]	@ zero_extendqisi2
1026:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3651              		.loc 1 1026 45 view .LVU1112
 3652 00ca AE49     		ldr	r1, .L139+44
 3653 00cc A1FB0203 		umull	r0, r3, r1, r2
 3654 00d0 DD08     		lsrs	r5, r3, #3
 3655 00d2 A1FB0560 		umull	r6, r0, r1, r5
 3656 00d6 C008     		lsrs	r0, r0, #3
 3657 00d8 00EB8000 		add	r0, r0, r0, lsl #2
 3658 00dc A5EB4003 		sub	r3, r5, r0, lsl #1
 3659 00e0 05EB8505 		add	r5, r5, r5, lsl #2
 3660 00e4 A2EB4502 		sub	r2, r2, r5, lsl #1
 3661 00e8 02EB0313 		add	r3, r2, r3, lsl #4
 3662 00ec DAB2     		uxtb	r2, r3
1026:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3663              		.loc 1 1026 14 view .LVU1113
 3664 00ee DFF8B8E2 		ldr	lr, .L139+80
 3665 00f2 8EF80020 		strb	r2, [lr]
1027:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3666              		.loc 1 1027 2 is_stmt 1 view .LVU1114
1027:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3667              		.loc 1 1027 22 is_stmt 0 view .LVU1115
 3668 00f6 9DF83500 		ldrb	r0, [sp, #53]	@ zero_extendqisi2
1027:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3669              		.loc 1 1027 44 view .LVU1116
 3670 00fa A1FB0053 		umull	r5, r3, r1, r0
 3671 00fe DE08     		lsrs	r6, r3, #3
 3672 0100 A1FB0675 		umull	r7, r5, r1, r6
 3673 0104 ED08     		lsrs	r5, r5, #3
 3674 0106 05EB8505 		add	r5, r5, r5, lsl #2
 3675 010a A6EB4503 		sub	r3, r6, r5, lsl #1
 3676 010e 06EB8606 		add	r6, r6, r6, lsl #2
 3677 0112 A0EB4600 		sub	r0, r0, r6, lsl #1
 3678 0116 00EB0313 		add	r3, r0, r3, lsl #4
 3679 011a DBB2     		uxtb	r3, r3
 3680 011c 0693     		str	r3, [sp, #24]
1027:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3681              		.loc 1 1027 14 view .LVU1117
 3682 011e 8EF80130 		strb	r3, [lr, #1]
1028:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3683              		.loc 1 1028 2 is_stmt 1 view .LVU1118
1028:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3684              		.loc 1 1028 22 is_stmt 0 view .LVU1119
 3685 0122 9DF83650 		ldrb	r5, [sp, #54]	@ zero_extendqisi2
1028:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3686              		.loc 1 1028 44 view .LVU1120
 3687 0126 A1FB0560 		umull	r6, r0, r1, r5
 3688 012a C708     		lsrs	r7, r0, #3
 3689 012c A1FB07C6 		umull	ip, r6, r1, r7
 3690 0130 F608     		lsrs	r6, r6, #3
 3691 0132 06EB8606 		add	r6, r6, r6, lsl #2
 3692 0136 A7EB4600 		sub	r0, r7, r6, lsl #1
 3693 013a 07EB8707 		add	r7, r7, r7, lsl #2
 3694 013e A5EB4705 		sub	r5, r5, r7, lsl #1
 3695 0142 05EB0010 		add	r0, r5, r0, lsl #4
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 94


 3696 0146 C0B2     		uxtb	r0, r0
1028:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3697              		.loc 1 1028 14 view .LVU1121
 3698 0148 0790     		str	r0, [sp, #28]
 3699 014a 8EF80200 		strb	r0, [lr, #2]
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3700              		.loc 1 1029 2 is_stmt 1 view .LVU1122
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3701              		.loc 1 1029 25 is_stmt 0 view .LVU1123
 3702 014e 099E     		ldr	r6, [sp, #36]
 3703 0150 8D4F     		ldr	r7, .L139+48
 3704 0152 87FB0650 		smull	r5, r0, r7, r6
 3705 0156 4FEAE679 		asr	r9, r6, #31
 3706 015a C9EBA010 		rsb	r0, r9, r0, asr #6
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3707              		.loc 1 1029 33 view .LVU1124
 3708 015e DFF84C82 		ldr	r8, .L139+84
 3709 0162 88FB00C5 		smull	ip, r5, r8, r0
 3710 0166 4FEAE07C 		asr	ip, r0, #31
 3711 016a CCEBA50C 		rsb	ip, ip, r5, asr #2
 3712 016e 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3713 0172 A0EB4C0C 		sub	ip, r0, ip, lsl #1
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3714              		.loc 1 1029 55 view .LVU1125
 3715 0176 8548     		ldr	r0, .L139+52
 3716 0178 80FB065A 		smull	r5, r10, r0, r6
 3717 017c C9EB6A1A 		rsb	r10, r9, r10, asr #5
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3718              		.loc 1 1029 62 view .LVU1126
 3719 0180 88FB0A5B 		smull	r5, fp, r8, r10
 3720 0184 4FEAEA75 		asr	r5, r10, #31
 3721 0188 C5EBAB05 		rsb	r5, r5, fp, asr #2
 3722 018c 05EB8505 		add	r5, r5, r5, lsl #2
 3723 0190 AAEB4505 		sub	r5, r10, r5, lsl #1
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3724              		.loc 1 1029 44 view .LVU1127
 3725 0194 05EB0C15 		add	r5, r5, ip, lsl #4
 3726 0198 EDB2     		uxtb	r5, r5
1029:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3727              		.loc 1 1029 14 view .LVU1128
 3728 019a 8EF80350 		strb	r5, [lr, #3]
1030:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3729              		.loc 1 1030 2 is_stmt 1 view .LVU1129
1030:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3730              		.loc 1 1030 41 is_stmt 0 view .LVU1130
 3731 019e DFF8D0C1 		ldr	ip, .L139+24
 3732 01a2 BCF800C0 		ldrh	ip, [ip]
 3733 01a6 A7FB0CA7 		umull	r10, r7, r7, ip
 3734 01aa BF09     		lsrs	r7, r7, #6
 3735 01ac A1FB07BA 		umull	fp, r10, r1, r7
 3736 01b0 4FEADA0A 		lsr	r10, r10, #3
 3737 01b4 0AEB8A0A 		add	r10, r10, r10, lsl #2
 3738 01b8 A7EB4A07 		sub	r7, r7, r10, lsl #1
 3739 01bc A0FB0CA0 		umull	r10, r0, r0, ip
 3740 01c0 4009     		lsrs	r0, r0, #5
 3741 01c2 A1FB00BA 		umull	fp, r10, r1, r0
 3742 01c6 4FEADA0A 		lsr	r10, r10, #3
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 95


 3743 01ca 0AEB8A0A 		add	r10, r10, r10, lsl #2
 3744 01ce A0EB4A00 		sub	r0, r0, r10, lsl #1
 3745 01d2 00EB0710 		add	r0, r0, r7, lsl #4
 3746 01d6 C0B2     		uxtb	r0, r0
1030:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x22;//		
 3747              		.loc 1 1030 14 view .LVU1131
 3748 01d8 8EF80400 		strb	r0, [lr, #4]
1031:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3749              		.loc 1 1031 2 is_stmt 1 view .LVU1132
1031:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3750              		.loc 1 1031 39 is_stmt 0 view .LVU1133
 3751 01dc A1FB0C7A 		umull	r7, r10, r1, ip
 3752 01e0 4FEADA03 		lsr	r3, r10, #3
 3753 01e4 A1FB03B7 		umull	fp, r7, r1, r3
 3754 01e8 FF08     		lsrs	r7, r7, #3
 3755 01ea 07EB8707 		add	r7, r7, r7, lsl #2
 3756 01ee A3EB4707 		sub	r7, r3, r7, lsl #1
 3757 01f2 03EB830B 		add	fp, r3, r3, lsl #2
 3758 01f6 ACEB4B0C 		sub	ip, ip, fp, lsl #1
 3759 01fa 0CEB0717 		add	r7, ip, r7, lsl #4
 3760 01fe FFB2     		uxtb	r7, r7
1031:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3761              		.loc 1 1031 14 view .LVU1134
 3762 0200 8EF80570 		strb	r7, [lr, #5]
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3763              		.loc 1 1032 2 is_stmt 1 view .LVU1135
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3764              		.loc 1 1032 25 is_stmt 0 view .LVU1136
 3765 0204 88FB06AC 		smull	r10, ip, r8, r6
 3766 0208 C9EBAC09 		rsb	r9, r9, ip, asr #2
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3767              		.loc 1 1032 31 view .LVU1137
 3768 020c 88FB09C8 		smull	ip, r8, r8, r9
 3769 0210 4FEAE97C 		asr	ip, r9, #31
 3770 0214 CCEBA80C 		rsb	ip, ip, r8, asr #2
 3771 0218 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3772 021c A9EB4C0C 		sub	ip, r9, ip, lsl #1
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3773              		.loc 1 1032 53 view .LVU1138
 3774 0220 09EB8909 		add	r9, r9, r9, lsl #2
 3775 0224 A6EB4906 		sub	r6, r6, r9, lsl #1
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3776              		.loc 1 1032 42 view .LVU1139
 3777 0228 06EB0C16 		add	r6, r6, ip, lsl #4
 3778 022c F6B2     		uxtb	r6, r6
1032:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3779              		.loc 1 1032 14 view .LVU1140
 3780 022e 8EF80660 		strb	r6, [lr, #6]
1033:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3781              		.loc 1 1033 2 is_stmt 1 view .LVU1141
1033:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3782              		.loc 1 1033 43 is_stmt 0 view .LVU1142
 3783 0232 A1FB04C8 		umull	ip, r8, r1, r4
 3784 0236 4FEAD80C 		lsr	ip, r8, #3
 3785 023a A1FB0C91 		umull	r9, r1, r1, ip
 3786 023e C908     		lsrs	r1, r1, #3
 3787 0240 01EB8101 		add	r1, r1, r1, lsl #2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 96


 3788 0244 ACEB4108 		sub	r8, ip, r1, lsl #1
 3789 0248 0CEB8C01 		add	r1, ip, ip, lsl #2
 3790 024c A4EB4101 		sub	r1, r4, r1, lsl #1
 3791 0250 01EB0811 		add	r1, r1, r8, lsl #4
 3792 0254 C9B2     		uxtb	r1, r1
1033:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3793              		.loc 1 1033 14 view .LVU1143
 3794 0256 8EF80710 		strb	r1, [lr, #7]
1034:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3795              		.loc 1 1034 2 is_stmt 1 view .LVU1144
 3796 025a 0591     		str	r1, [sp, #20]
 3797 025c 0496     		str	r6, [sp, #16]
 3798 025e 0397     		str	r7, [sp, #12]
 3799 0260 0290     		str	r0, [sp, #8]
 3800 0262 0195     		str	r5, [sp, #4]
 3801 0264 0798     		ldr	r0, [sp, #28]
 3802 0266 0090     		str	r0, [sp]
 3803 0268 069B     		ldr	r3, [sp, #24]
 3804 026a 2146     		mov	r1, r4
 3805 026c 4848     		ldr	r0, .L139+56
 3806 026e FFF7FEFF 		bl	log_printf
 3807              	.LVL318:
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3808              		.loc 1 1038 2 view .LVU1145
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3809              		.loc 1 1038 9 is_stmt 0 view .LVU1146
 3810 0272 0025     		movs	r5, #0
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3811              		.loc 1 1038 2 view .LVU1147
 3812 0274 23E0     		b	.L131
 3813              	.LVL319:
 3814              	.L132:
1050:Device/Src/drv_wave1006.c **** 		}
 3815              		.loc 1 1050 4 is_stmt 1 view .LVU1148
1050:Device/Src/drv_wave1006.c **** 		}
 3816              		.loc 1 1050 27 is_stmt 0 view .LVU1149
 3817 0276 05EB4503 		add	r3, r5, r5, lsl #1
 3818 027a 464A     		ldr	r2, .L139+60
 3819 027c 02EB4303 		add	r3, r2, r3, lsl #1
 3820 0280 0022     		movs	r2, #0
 3821 0282 9A70     		strb	r2, [r3, #2]
 3822              	.L133:
1052:Device/Src/drv_wave1006.c **** 	}
 3823              		.loc 1 1052 3 is_stmt 1 discriminator 2 view .LVU1150
1052:Device/Src/drv_wave1006.c **** 	}
 3824              		.loc 1 1052 30 is_stmt 0 discriminator 2 view .LVU1151
 3825 0284 A5F17800 		sub	r0, r5, #120
1052:Device/Src/drv_wave1006.c **** 	}
 3826              		.loc 1 1052 37 discriminator 2 view .LVU1152
 3827 0288 00EBD070 		add	r0, r0, r0, lsr #31
1052:Device/Src/drv_wave1006.c **** 	}
 3828              		.loc 1 1052 41 discriminator 2 view .LVU1153
 3829 028c 4010     		asrs	r0, r0, #1
 3830 028e FFF7FEFF 		bl	__aeabi_i2d
 3831              	.LVL320:
 3832 0292 31A3     		adr	r3, .L139
 3833 0294 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 97


 3834 0298 FFF7FEFF 		bl	__aeabi_dmul
 3835              	.LVL321:
1052:Device/Src/drv_wave1006.c **** 	}
 3836              		.loc 1 1052 49 discriminator 2 view .LVU1154
 3837 029c 30A3     		adr	r3, .L139+8
 3838 029e D3E90023 		ldrd	r2, [r3]
 3839 02a2 FFF7FEFF 		bl	__aeabi_dadd
 3840              	.LVL322:
1052:Device/Src/drv_wave1006.c **** 	}
 3841              		.loc 1 1052 26 discriminator 2 view .LVU1155
 3842 02a6 05EB4503 		add	r3, r5, r5, lsl #1
 3843 02aa 3A4E     		ldr	r6, .L139+60
 3844 02ac 06EB4306 		add	r6, r6, r3, lsl #1
 3845 02b0 FFF7FEFF 		bl	__aeabi_d2uiz
 3846              	.LVL323:
 3847 02b4 B388     		ldrh	r3, [r6, #4]
 3848 02b6 60F30803 		bfi	r3, r0, #0, #9
 3849 02ba B380     		strh	r3, [r6, #4]	@ movhi
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3850              		.loc 1 1038 35 is_stmt 1 discriminator 2 view .LVU1156
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3851              		.loc 1 1038 36 is_stmt 0 discriminator 2 view .LVU1157
 3852 02bc 0135     		adds	r5, r5, #1
 3853              	.LVL324:
 3854              	.L131:
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3855              		.loc 1 1038 14 is_stmt 1 discriminator 1 view .LVU1158
1038:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3856              		.loc 1 1038 2 is_stmt 0 discriminator 1 view .LVU1159
 3857 02be B5F5F47F 		cmp	r5, #488
 3858 02c2 3ADA     		bge	.L138
1039:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3859              		.loc 1 1039 3 is_stmt 1 view .LVU1160
1039:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3860              		.loc 1 1039 39 is_stmt 0 view .LVU1161
 3861 02c4 344B     		ldr	r3, .L139+64
 3862 02c6 03EB8503 		add	r3, r3, r5, lsl #2
 3863 02ca D3ED007A 		vldr.32	s15, [r3]
1039:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3864              		.loc 1 1039 3 view .LVU1162
 3865 02ce FCEEE77A 		vcvt.u32.f32	s15, s15
 3866 02d2 0FA9     		add	r1, sp, #60
 3867 02d4 17EE903A 		vmov	r3, s15	@ int
 3868 02d8 98B2     		uxth	r0, r3
 3869 02da FFF7FEFF 		bl	cap_list_to_uint
 3870              	.LVL325:
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3871              		.loc 1 1040 3 is_stmt 1 view .LVU1163
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3872              		.loc 1 1040 36 is_stmt 0 view .LVU1164
 3873 02de 9DF83D30 		ldrb	r3, [sp, #61]	@ zero_extendqisi2
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3874              		.loc 1 1040 48 view .LVU1165
 3875 02e2 9B00     		lsls	r3, r3, #2
 3876 02e4 03F01C03 		and	r3, r3, #28
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3877              		.loc 1 1040 64 view .LVU1166
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 98


 3878 02e8 9DF83C10 		ldrb	r1, [sp, #60]	@ zero_extendqisi2
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3879              		.loc 1 1040 54 view .LVU1167
 3880 02ec 43EA9113 		orr	r3, r3, r1, lsr #6
1040:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3881              		.loc 1 1040 26 view .LVU1168
 3882 02f0 284A     		ldr	r2, .L139+60
 3883 02f2 05EB4506 		add	r6, r5, r5, lsl #1
 3884 02f6 7000     		lsls	r0, r6, #1
 3885 02f8 02EB4607 		add	r7, r2, r6, lsl #1
 3886 02fc 12F81660 		ldrb	r6, [r2, r6, lsl #1]	@ zero_extendqisi2
 3887 0300 63F30406 		bfi	r6, r3, #0, #5
 3888 0304 1654     		strb	r6, [r2, r0]
1041:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3889              		.loc 1 1041 3 is_stmt 1 view .LVU1169
1041:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3890              		.loc 1 1041 44 is_stmt 0 view .LVU1170
 3891 0306 C1F3C206 		ubfx	r6, r1, #3, #3
1041:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3892              		.loc 1 1041 25 view .LVU1171
 3893 030a 135C     		ldrb	r3, [r2, r0]	@ zero_extendqisi2
 3894 030c 66F34713 		bfi	r3, r6, #5, #3
 3895 0310 1354     		strb	r3, [r2, r0]
1042:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3896              		.loc 1 1042 3 is_stmt 1 view .LVU1172
1042:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3897              		.loc 1 1042 26 is_stmt 0 view .LVU1173
 3898 0312 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 3899 0314 61F30203 		bfi	r3, r1, #0, #3
 3900 0318 7B70     		strb	r3, [r7, #1]
1043:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3901              		.loc 1 1043 3 is_stmt 1 view .LVU1174
1043:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3902              		.loc 1 1043 19 is_stmt 0 view .LVU1175
 3903 031a 204B     		ldr	r3, .L139+68
 3904 031c 53F82520 		ldr	r2, [r3, r5, lsl #2]
1043:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3905              		.loc 1 1043 6 view .LVU1176
 3906 0320 002A     		cmp	r2, #0
 3907 0322 A8DA     		bge	.L132
1044:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3908              		.loc 1 1044 4 is_stmt 1 view .LVU1177
1044:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3909              		.loc 1 1044 31 is_stmt 0 view .LVU1178
 3910 0324 1E4B     		ldr	r3, .L139+72
 3911 0326 83FB0213 		smull	r1, r3, r3, r2
 3912              	.LVL326:
1045:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 3913              		.loc 1 1045 4 is_stmt 1 view .LVU1179
1046:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3914              		.loc 1 1046 4 view .LVU1180
1046:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3915              		.loc 1 1046 12 is_stmt 0 view .LVU1181
 3916 032a A3EBE273 		sub	r3, r3, r2, asr #31
 3917              	.LVL327:
1046:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3918              		.loc 1 1046 12 view .LVU1182
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 99


 3919 032e 03F07F03 		and	r3, r3, #127
 3920              	.LVL328:
1047:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3921              		.loc 1 1047 4 is_stmt 1 view .LVU1183
1047:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3922              		.loc 1 1047 12 is_stmt 0 view .LVU1184
 3923 0332 43F0C003 		orr	r3, r3, #192
 3924              	.LVL329:
1048:Device/Src/drv_wave1006.c **** 		} else {
 3925              		.loc 1 1048 4 is_stmt 1 view .LVU1185
1048:Device/Src/drv_wave1006.c **** 		} else {
 3926              		.loc 1 1048 27 is_stmt 0 view .LVU1186
 3927 0336 BB70     		strb	r3, [r7, #2]
 3928 0338 A4E7     		b	.L133
 3929              	.LVL330:
 3930              	.L138:
1054:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8800_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 3931              		.loc 1 1054 2 is_stmt 1 view .LVU1187
 3932 033a 1A48     		ldr	r0, .L139+76
 3933 033c FFF7FEFF 		bl	UsbPrintf
 3934              	.LVL331:
1055:Device/Src/drv_wave1006.c **** 		return 0;
 3935              		.loc 1 1055 2 view .LVU1188
1055:Device/Src/drv_wave1006.c **** 		return 0;
 3936              		.loc 1 1055 6 is_stmt 0 view .LVU1189
 3937 0340 2346     		mov	r3, r4
 3938 0342 144A     		ldr	r2, .L139+60
 3939 0344 1849     		ldr	r1, .L139+80
 3940 0346 0E48     		ldr	r0, .L139+40
 3941 0348 FFF7FEFF 		bl	wave1006_write_otp
 3942              	.LVL332:
1055:Device/Src/drv_wave1006.c **** 		return 0;
 3943              		.loc 1 1055 5 view .LVU1190
 3944 034c 08B9     		cbnz	r0, .L135
1058:Device/Src/drv_wave1006.c **** }
 3945              		.loc 1 1058 9 view .LVU1191
 3946 034e 0120     		movs	r0, #1
 3947 0350 7FE6     		b	.L127
 3948              	.L135:
1056:Device/Src/drv_wave1006.c **** 	}
 3949              		.loc 1 1056 10 view .LVU1192
 3950 0352 0020     		movs	r0, #0
 3951 0354 7DE6     		b	.L127
 3952              	.L140:
 3953 0356 00BF     		.align	3
 3954              	.L139:
 3955 0358 5839B4C8 		.word	-927712936
 3956 035c 76BE0940 		.word	1074380406
 3957 0360 CDCCCCCC 		.word	-858993459
 3958 0364 CC7C6740 		.word	1080523980
 3959 0368 00000000 		.word	.LC34
 3960 036c 00000608 		.word	134610944
 3961 0370 00000000 		.word	.LANCHOR4
 3962 0374 3C000000 		.word	.LC36
 3963 0378 1C000000 		.word	.LC35
 3964 037c 00000000 		.word	.LANCHOR3
 3965 0380 00000000 		.word	.LANCHOR5
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 100


 3966 0384 CDCCCCCC 		.word	-858993459
 3967 0388 D34D6210 		.word	274877907
 3968 038c 1F85EB51 		.word	1374389535
 3969 0390 5C000000 		.word	.LC37
 3970 0394 00000000 		.word	.LANCHOR7
 3971 0398 00000000 		.word	.LANCHOR1
 3972 039c 00000000 		.word	.LANCHOR2
 3973 03a0 56555555 		.word	1431655766
 3974 03a4 88000000 		.word	.LC38
 3975 03a8 00000000 		.word	.LANCHOR6
 3976 03ac 67666666 		.word	1717986919
 3977              		.cfi_endproc
 3978              	.LFE251:
 3980              		.global	g_wave1006_state
 3981              		.global	g_csn
 3982              		.global	g_offset
 3983              		.global	g_cap_val
 3984              		.global	g_digtal_adj
 3985              		.global	g_temp_arg
 3986              		.global	g_dev_id
 3987              		.global	g_sd8800_config
 3988              		.section	.rodata
 3989              		.align	2
 3990              		.set	.LANCHOR0,. + 0
 3991              	.LC2:
 3992 0000 00000000 		.ascii	"\000\000\000\000\000"
 3992      00
 3993              		.section	.bss.g_cap_val,"aw",%nobits
 3994              		.align	2
 3995              		.set	.LANCHOR1,. + 0
 3998              	g_cap_val:
 3999 0000 00000000 		.space	1952
 3999      00000000 
 3999      00000000 
 3999      00000000 
 3999      00000000 
 4000              		.section	.bss.g_dev_id,"aw",%nobits
 4001              		.align	2
 4002              		.set	.LANCHOR6,. + 0
 4005              	g_dev_id:
 4006 0000 00000000 		.space	40
 4006      00000000 
 4006      00000000 
 4006      00000000 
 4006      00000000 
 4007              		.section	.bss.g_digtal_adj,"aw",%nobits
 4008              		.align	2
 4009              		.set	.LANCHOR2,. + 0
 4012              	g_digtal_adj:
 4013 0000 00000000 		.space	1952
 4013      00000000 
 4013      00000000 
 4013      00000000 
 4013      00000000 
 4014              		.section	.bss.g_offset,"aw",%nobits
 4015              		.align	1
 4016              		.set	.LANCHOR3,. + 0
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 101


 4019              	g_offset:
 4020 0000 0000     		.space	2
 4021              		.section	.bss.g_temp_arg,"aw",%nobits
 4022              		.align	2
 4023              		.set	.LANCHOR7,. + 0
 4026              	g_temp_arg:
 4027 0000 00000000 		.space	2928
 4027      00000000 
 4027      00000000 
 4027      00000000 
 4027      00000000 
 4028              		.section	.bss.g_wave1006_state,"aw",%nobits
 4029              		.align	2
 4032              	g_wave1006_state:
 4033 0000 0000     		.space	2
 4034              		.section	.data.g_csn,"aw"
 4035              		.align	1
 4036              		.set	.LANCHOR4,. + 0
 4039              	g_csn:
 4040 0000 6109     		.short	2401
 4041              		.section	.data.g_sd8800_config,"aw"
 4042              		.align	2
 4043              		.set	.LANCHOR5,. + 0
 4046              	g_sd8800_config:
 4047 0000 0A       		.byte	10
 4048 0001 09       		.byte	9
 4049 0002 98       		.byte	152
 4050 0003 1E       		.byte	30
 4051 0004 16       		.byte	22
 4052 0005 00       		.byte	0
 4053 0006 11       		.byte	17
 4054 0007 04       		.byte	4
 4055 0008 70       		.byte	112
 4056 0009 64       		.byte	100
 4057 000a FC       		.byte	252
 4058 000b B3       		.byte	179
 4059 000c 3B       		.byte	59
 4060 000d 00       		.space	1
 4061 000e F7       		.byte	247
 4062 000f 19       		.byte	25
 4063 0010 10       		.byte	16
 4064 0011 00       		.byte	0
 4065 0012 00       		.byte	0
 4066 0013 02       		.byte	2
 4067 0014 7F       		.byte	127
 4068 0015 77       		.byte	119
 4069 0016 00       		.byte	0
 4070 0017 00       		.space	1
 4071              		.text
 4072              	.Letext0:
 4073              		.file 2 "d:\\mingw\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 4074              		.file 3 "d:\\mingw\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 4075              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 4076              		.file 5 "Core/Inc/main.h"
 4077              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 4078              		.file 7 "Device/Inc/drv_wave1006.h"
 4079              		.file 8 "Drivers/User_Driver/Inc/soft_i2c.h"
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 102


 4080              		.file 9 "Drivers/User_Driver/Inc/rtc_i2c.h"
 4081              		.file 10 "Device/Inc/power.h"
 4082              		.file 11 "Device/Inc/flash.h"
 4083              		.file 12 "Device/Inc/rtc.h"
 4084              		.file 13 "App/Inc/calculate.h"
 4085              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 4086              		.file 15 "<built-in>"
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 103


DEFINED SYMBOLS
                            *ABS*:00000000 drv_wave1006.c
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:20     .text.otp_prg_power_ctrl:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:25     .text.otp_prg_power_ctrl:00000000 otp_prg_power_ctrl
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:62     .text.get_device_addr:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:68     .text.get_device_addr:00000000 get_device_addr
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:81     .text.get_device_addr:00000008 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:125    .text.drv_wave1006_read_reg:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:131    .text.drv_wave1006_read_reg:00000000 drv_wave1006_read_reg
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:198    .text.drv_wave1006_write_reg:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:204    .text.drv_wave1006_write_reg:00000000 drv_wave1006_write_reg
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:271    .text.wave1006_write_enable_seq:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:276    .text.wave1006_write_enable_seq:00000000 wave1006_write_enable_seq
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:367    .text.wave1006_read_otp_single:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:372    .text.wave1006_read_otp_single:00000000 wave1006_read_otp_single
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:489    .text.wave1006_write_otp_single:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:494    .text.wave1006_write_otp_single:00000000 wave1006_write_otp_single
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:592    .text.wave1006_enter_test_mode:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:598    .text.wave1006_enter_test_mode:00000000 wave1006_enter_test_mode
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:712    .rodata.sd3031_enter_test_mode.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:719    .text.sd3031_enter_test_mode:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:725    .text.sd3031_enter_test_mode:00000000 sd3031_enter_test_mode
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:885    .text.sd3031_enter_test_mode:000000ac $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:891    .text.wave1006_get_test_flag:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:897    .text.wave1006_get_test_flag:00000000 wave1006_get_test_flag
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:949    .text.sd3031_get_test_flag:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:955    .text.sd3031_get_test_flag:00000000 sd3031_get_test_flag
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1007   .text.wave1006_osc_config_set:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1013   .text.wave1006_osc_config_set:00000000 wave1006_osc_config_set
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1118   .rodata.wave1006_write_otp.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1193   .text.wave1006_write_otp:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1199   .text.wave1006_write_otp:00000000 wave1006_write_otp
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1792   .text.wave1006_write_otp:000003ac $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:1807   .text.wave1006_write_otp:000003e0 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2281   .text.wave1006_write_otp:00000670 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2293   .text.wave1006_write_otp:00000698 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2771   .text.wave1006_write_otp:00000934 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2782   .rodata.wave1006_write_otp_one.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2792   .text.wave1006_write_otp_one:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:2798   .text.wave1006_write_otp_one:00000000 wave1006_write_otp_one
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3078   .text.wave1006_write_otp_one:00000194 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3086   .rodata.wave1006_read_otp.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3097   .text.wave1006_read_otp:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3103   .text.wave1006_read_otp:00000000 wave1006_read_otp
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3341   .text.wave1006_read_otp:0000014c $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3350   .rodata.rtc_calculate_cap.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3354   .text.rtc_calculate_cap:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3360   .text.rtc_calculate_cap:00000000 rtc_calculate_cap
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3438   .text.rtc_calculate_cap:00000044 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3446   .rodata.sd8800_write_otp.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3467   .text.sd8800_write_otp:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3473   .text.sd8800_write_otp:00000000 sd8800_write_otp
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3955   .text.sd8800_write_otp:00000358 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4032   .bss.g_wave1006_state:00000000 g_wave1006_state
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4039   .data.g_csn:00000000 g_csn
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4019   .bss.g_offset:00000000 g_offset
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3998   .bss.g_cap_val:00000000 g_cap_val
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s 			page 104


C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4012   .bss.g_digtal_adj:00000000 g_digtal_adj
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4026   .bss.g_temp_arg:00000000 g_temp_arg
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4005   .bss.g_dev_id:00000000 g_dev_id
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4046   .data.g_sd8800_config:00000000 g_sd8800_config
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3989   .rodata:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:3994   .bss.g_cap_val:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4001   .bss.g_dev_id:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4008   .bss.g_digtal_adj:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4015   .bss.g_offset:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4022   .bss.g_temp_arg:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4029   .bss.g_wave1006_state:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4035   .data.g_csn:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:4042   .data.g_sd8800_config:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:90     .text.get_device_addr:00000011 $d
C:\Users\84759\AppData\Local\Temp\ccjeKx2d.s:90     .text.get_device_addr:00000012 $t

UNDEFINED SYMBOLS
rtc_otp_power
rtc_read_multi_bytes
rtc_write_multi_bytes
HAL_Delay
UsbPrintf
memset
rtc_group_power
rtc_set_channel
HAL_GPIO_WritePin
log_printf
ControlPrintf
CharToInt
strSearch
calculate_wave1006_temp_cap
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2uiz
system_get_real_time
GetStringFromFlash
cap_list_to_uint
