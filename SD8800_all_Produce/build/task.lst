ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.system_time_update,"ax",%progbits
  20              		.align	1
  21              		.global	system_time_update
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	system_time_update:
  27              	.LFB235:
  28              		.file 1 "App/Src/task.c"
   1:App/Src/task.c **** #include "main.h"
   2:App/Src/task.c **** #include "task.h"
   3:App/Src/task.c **** #include "manager.h"
   4:App/Src/task.c **** #include "rtc.h"
   5:App/Src/task.c **** #include "temp.h"
   6:App/Src/task.c **** #include "math.h"
   7:App/Src/task.c **** #include "power.h"
   8:App/Src/task.c **** #include "current.h"
   9:App/Src/task.c **** #include "flash.h"
  10:App/Src/task.c **** #include "calculate.h"
  11:App/Src/task.c **** 
  12:App/Src/task.c **** RealTime g_realTime = {0};
  13:App/Src/task.c **** FrequencyData g_lastFreq = {0};
  14:App/Src/task.c **** extern CapAdjust g_capAdjust;
  15:App/Src/task.c **** TestResult g_machineTest = {0};
  16:App/Src/task.c **** 
  17:App/Src/task.c **** 
  18:App/Src/task.c **** 
  19:App/Src/task.c **** void system_time_update(void)
  20:App/Src/task.c **** {
  29              		.loc 1 20 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 3, -16
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 2


  39              		.cfi_offset 14, -4
  21:App/Src/task.c ****     static uint32_t lastTick = 0;
  40              		.loc 1 21 5 view .LVU1
  22:App/Src/task.c **** 
  23:App/Src/task.c ****     g_realTime.tick += HAL_GetTick() - lastTick;
  41              		.loc 1 23 5 view .LVU2
  42              		.loc 1 23 24 is_stmt 0 view .LVU3
  43 0002 FFF7FEFF 		bl	HAL_GetTick
  44              	.LVL0:
  45              		.loc 1 23 38 view .LVU4
  46 0006 264D     		ldr	r5, .L9
  47 0008 2B68     		ldr	r3, [r5]
  48 000a C01A     		subs	r0, r0, r3
  49              		.loc 1 23 21 view .LVU5
  50 000c 254C     		ldr	r4, .L9+4
  51 000e E388     		ldrh	r3, [r4, #6]
  52 0010 1844     		add	r0, r0, r3
  53 0012 E080     		strh	r0, [r4, #6]	@ movhi
  24:App/Src/task.c ****     lastTick = HAL_GetTick();
  54              		.loc 1 24 5 is_stmt 1 view .LVU6
  55              		.loc 1 24 16 is_stmt 0 view .LVU7
  56 0014 FFF7FEFF 		bl	HAL_GetTick
  57              	.LVL1:
  58              		.loc 1 24 14 view .LVU8
  59 0018 2860     		str	r0, [r5]
  25:App/Src/task.c ****     if (g_realTime.tick < 1000) {
  60              		.loc 1 25 5 is_stmt 1 view .LVU9
  61              		.loc 1 25 19 is_stmt 0 view .LVU10
  62 001a E388     		ldrh	r3, [r4, #6]
  63              		.loc 1 25 8 view .LVU11
  64 001c B3F57A7F 		cmp	r3, #1000
  65 0020 3AD3     		bcc	.L1
  26:App/Src/task.c ****         return;
  27:App/Src/task.c ****     }
  28:App/Src/task.c ****     g_realTime.tick -= 1000;
  66              		.loc 1 28 5 is_stmt 1 view .LVU12
  67              		.loc 1 28 21 is_stmt 0 view .LVU13
  68 0022 A3F57A73 		sub	r3, r3, #1000
  69 0026 E380     		strh	r3, [r4, #6]	@ movhi
  29:App/Src/task.c ****     g_realTime.sec++;
  70              		.loc 1 29 5 is_stmt 1 view .LVU14
  71              		.loc 1 29 15 is_stmt 0 view .LVU15
  72 0028 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
  73              		.loc 1 29 19 view .LVU16
  74 002a 0133     		adds	r3, r3, #1
  75 002c DBB2     		uxtb	r3, r3
  76 002e 6371     		strb	r3, [r4, #5]
  30:App/Src/task.c ****     if (g_realTime.sec >= 60) {
  77              		.loc 1 30 5 is_stmt 1 view .LVU17
  78              		.loc 1 30 8 is_stmt 0 view .LVU18
  79 0030 3B2B     		cmp	r3, #59
  80 0032 31D9     		bls	.L1
  31:App/Src/task.c ****         g_realTime.sec = 0;
  81              		.loc 1 31 9 is_stmt 1 view .LVU19
  82              		.loc 1 31 24 is_stmt 0 view .LVU20
  83 0034 0023     		movs	r3, #0
  84 0036 6371     		strb	r3, [r4, #5]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 3


  32:App/Src/task.c ****         g_realTime.min++;
  85              		.loc 1 32 9 is_stmt 1 view .LVU21
  86              		.loc 1 32 19 is_stmt 0 view .LVU22
  87 0038 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
  88              		.loc 1 32 23 view .LVU23
  89 003a 0133     		adds	r3, r3, #1
  90 003c DBB2     		uxtb	r3, r3
  91 003e 2371     		strb	r3, [r4, #4]
  33:App/Src/task.c ****         if (g_realTime.min >= 60) {
  92              		.loc 1 33 9 is_stmt 1 view .LVU24
  93              		.loc 1 33 12 is_stmt 0 view .LVU25
  94 0040 3B2B     		cmp	r3, #59
  95 0042 29D9     		bls	.L1
  34:App/Src/task.c ****             g_realTime.min = 0;
  96              		.loc 1 34 13 is_stmt 1 view .LVU26
  97              		.loc 1 34 28 is_stmt 0 view .LVU27
  98 0044 0023     		movs	r3, #0
  99 0046 2371     		strb	r3, [r4, #4]
  35:App/Src/task.c ****             g_realTime.hour++;
 100              		.loc 1 35 13 is_stmt 1 view .LVU28
 101              		.loc 1 35 23 is_stmt 0 view .LVU29
 102 0048 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 103              		.loc 1 35 28 view .LVU30
 104 004a 0133     		adds	r3, r3, #1
 105 004c DBB2     		uxtb	r3, r3
 106 004e E370     		strb	r3, [r4, #3]
  36:App/Src/task.c ****             if (g_realTime.hour >= 24) {
 107              		.loc 1 36 13 is_stmt 1 view .LVU31
 108              		.loc 1 36 16 is_stmt 0 view .LVU32
 109 0050 172B     		cmp	r3, #23
 110 0052 21D9     		bls	.L1
  37:App/Src/task.c ****                 g_realTime.hour = 0;
 111              		.loc 1 37 17 is_stmt 1 view .LVU33
 112              		.loc 1 37 33 is_stmt 0 view .LVU34
 113 0054 0022     		movs	r2, #0
 114 0056 E270     		strb	r2, [r4, #3]
  38:App/Src/task.c ****                 g_realTime.day++;
 115              		.loc 1 38 17 is_stmt 1 view .LVU35
 116              		.loc 1 38 27 is_stmt 0 view .LVU36
 117 0058 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 118              		.loc 1 38 31 view .LVU37
 119 005a 0132     		adds	r2, r2, #1
 120 005c D2B2     		uxtb	r2, r2
 121 005e A270     		strb	r2, [r4, #2]
  39:App/Src/task.c ****                 if ((g_realTime.mon == 2 && g_realTime.day >= 29) || 
 122              		.loc 1 39 17 is_stmt 1 view .LVU38
 123              		.loc 1 39 32 is_stmt 0 view .LVU39
 124 0060 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 125              		.loc 1 39 20 view .LVU40
 126 0062 022B     		cmp	r3, #2
 127 0064 19D0     		beq	.L8
 128              	.L3:
 129              		.loc 1 39 67 discriminator 3 view .LVU41
 130 0066 042B     		cmp	r3, #4
 131 0068 05D0     		beq	.L5
  40:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 132              		.loc 1 40 43 view .LVU42
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 4


 133 006a 062B     		cmp	r3, #6
 134 006c 03D0     		beq	.L5
 135              		.loc 1 40 66 discriminator 2 view .LVU43
 136 006e 092B     		cmp	r3, #9
 137 0070 01D0     		beq	.L5
 138              		.loc 1 40 89 discriminator 4 view .LVU44
 139 0072 0B2B     		cmp	r3, #11
 140 0074 01D1     		bne	.L6
 141              	.L5:
 142              		.loc 1 40 114 discriminator 5 view .LVU45
 143 0076 1E2A     		cmp	r2, #30
 144 0078 01D8     		bhi	.L4
 145              	.L6:
  41:App/Src/task.c ****                     || g_realTime.day >= 32) {//不考虑闰年了，每小时会有信息校正过来
 146              		.loc 1 41 21 view .LVU46
 147 007a 1F2A     		cmp	r2, #31
 148 007c 0CD9     		bls	.L1
 149              	.L4:
  42:App/Src/task.c ****                     g_realTime.mon++;
 150              		.loc 1 42 21 is_stmt 1 view .LVU47
 151              		.loc 1 42 35 is_stmt 0 view .LVU48
 152 007e 0133     		adds	r3, r3, #1
 153 0080 DBB2     		uxtb	r3, r3
 154 0082 084A     		ldr	r2, .L9+4
 155 0084 5370     		strb	r3, [r2, #1]
  43:App/Src/task.c ****                     g_realTime.day = 1;
 156              		.loc 1 43 21 is_stmt 1 view .LVU49
 157              		.loc 1 43 36 is_stmt 0 view .LVU50
 158 0086 0121     		movs	r1, #1
 159 0088 9170     		strb	r1, [r2, #2]
  44:App/Src/task.c ****                     if (g_realTime.mon >= 13) {
 160              		.loc 1 44 21 is_stmt 1 view .LVU51
 161              		.loc 1 44 24 is_stmt 0 view .LVU52
 162 008a 0C2B     		cmp	r3, #12
 163 008c 04D9     		bls	.L1
  45:App/Src/task.c ****                         g_realTime.mon = 1;
 164              		.loc 1 45 25 is_stmt 1 view .LVU53
 165              		.loc 1 45 40 is_stmt 0 view .LVU54
 166 008e 1346     		mov	r3, r2
 167 0090 5170     		strb	r1, [r2, #1]
  46:App/Src/task.c ****                         g_realTime.year++;
 168              		.loc 1 46 25 is_stmt 1 view .LVU55
 169              		.loc 1 46 35 is_stmt 0 view .LVU56
 170 0092 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 171              		.loc 1 46 40 view .LVU57
 172 0094 0A44     		add	r2, r2, r1
 173 0096 1A70     		strb	r2, [r3]
 174              	.L1:
  47:App/Src/task.c ****                     }
  48:App/Src/task.c ****                 }
  49:App/Src/task.c ****             }
  50:App/Src/task.c ****         }
  51:App/Src/task.c ****     }
  52:App/Src/task.c **** }
 175              		.loc 1 52 1 view .LVU58
 176 0098 38BD     		pop	{r3, r4, r5, pc}
 177              	.L8:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 5


  39:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 178              		.loc 1 39 42 discriminator 1 view .LVU59
 179 009a 1C2A     		cmp	r2, #28
 180 009c EFD8     		bhi	.L4
 181 009e E2E7     		b	.L3
 182              	.L10:
 183              		.align	2
 184              	.L9:
 185 00a0 00000000 		.word	.LANCHOR0
 186 00a4 00000000 		.word	.LANCHOR1
 187              		.cfi_endproc
 188              	.LFE235:
 190              		.section	.rodata.system_set_real_time.str1.4,"aMS",%progbits,1
 191              		.align	2
 192              	.LC0:
 193 0000 0A636F6D 		.ascii	"\012command set time, 20%d/%d/%d %d:%d:%d\012\000"
 193      6D616E64 
 193      20736574 
 193      2074696D 
 193      652C2032 
 194              		.section	.text.system_set_real_time,"ax",%progbits
 195              		.align	1
 196              		.global	system_set_real_time
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	system_set_real_time:
 202              	.LFB236:
  53:App/Src/task.c **** 
  54:App/Src/task.c **** void system_set_real_time(RealTime time)
  55:App/Src/task.c **** {
 203              		.loc 1 55 1 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 8
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207 0000 70B5     		push	{r4, r5, r6, lr}
 208              	.LCFI1:
 209              		.cfi_def_cfa_offset 16
 210              		.cfi_offset 4, -16
 211              		.cfi_offset 5, -12
 212              		.cfi_offset 6, -8
 213              		.cfi_offset 14, -4
 214 0002 86B0     		sub	sp, sp, #24
 215              	.LCFI2:
 216              		.cfi_def_cfa_offset 40
 217 0004 06AB     		add	r3, sp, #24
 218 0006 03E90300 		stmdb	r3, {r0, r1}
  56:App/Src/task.c ****     g_realTime.tick = 0;
 219              		.loc 1 56 5 view .LVU61
 220              		.loc 1 56 21 is_stmt 0 view .LVU62
 221 000a 0E48     		ldr	r0, .L13
 222 000c 0023     		movs	r3, #0
 223 000e C380     		strh	r3, [r0, #6]	@ movhi
  57:App/Src/task.c ****     g_realTime.sec = time.sec;
 224              		.loc 1 57 5 is_stmt 1 view .LVU63
 225              		.loc 1 57 26 is_stmt 0 view .LVU64
 226 0010 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 6


 227              		.loc 1 57 20 view .LVU65
 228 0014 4671     		strb	r6, [r0, #5]
  58:App/Src/task.c ****     g_realTime.min = time.min;
 229              		.loc 1 58 5 is_stmt 1 view .LVU66
 230              		.loc 1 58 26 is_stmt 0 view .LVU67
 231 0016 9DF81450 		ldrb	r5, [sp, #20]	@ zero_extendqisi2
 232              		.loc 1 58 20 view .LVU68
 233 001a 0571     		strb	r5, [r0, #4]
  59:App/Src/task.c ****     g_realTime.hour = time.hour;
 234              		.loc 1 59 5 is_stmt 1 view .LVU69
 235              		.loc 1 59 27 is_stmt 0 view .LVU70
 236 001c 9DF81340 		ldrb	r4, [sp, #19]	@ zero_extendqisi2
 237              		.loc 1 59 21 view .LVU71
 238 0020 C470     		strb	r4, [r0, #3]
  60:App/Src/task.c ****     g_realTime.day = time.day;
 239              		.loc 1 60 5 is_stmt 1 view .LVU72
 240              		.loc 1 60 26 is_stmt 0 view .LVU73
 241 0022 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 242              		.loc 1 60 20 view .LVU74
 243 0026 8370     		strb	r3, [r0, #2]
  61:App/Src/task.c ****     g_realTime.mon = time.mon;
 244              		.loc 1 61 5 is_stmt 1 view .LVU75
 245              		.loc 1 61 26 is_stmt 0 view .LVU76
 246 0028 9DF81120 		ldrb	r2, [sp, #17]	@ zero_extendqisi2
 247              		.loc 1 61 20 view .LVU77
 248 002c 4270     		strb	r2, [r0, #1]
  62:App/Src/task.c ****     g_realTime.year = time.year;
 249              		.loc 1 62 5 is_stmt 1 view .LVU78
 250              		.loc 1 62 27 is_stmt 0 view .LVU79
 251 002e 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 252              		.loc 1 62 21 view .LVU80
 253 0032 0170     		strb	r1, [r0]
  63:App/Src/task.c **** 	log_printf("\ncommand set time, 20%d/%d/%d %d:%d:%d\n", 
 254              		.loc 1 63 2 is_stmt 1 view .LVU81
 255 0034 0296     		str	r6, [sp, #8]
 256 0036 0195     		str	r5, [sp, #4]
 257 0038 0094     		str	r4, [sp]
 258 003a 0348     		ldr	r0, .L13+4
 259 003c FFF7FEFF 		bl	log_printf
 260              	.LVL2:
  64:App/Src/task.c ****     g_realTime.year, g_realTime.mon, g_realTime.day, g_realTime.hour, g_realTime.min, g_realTime.se
  65:App/Src/task.c **** }
 261              		.loc 1 65 1 is_stmt 0 view .LVU82
 262 0040 06B0     		add	sp, sp, #24
 263              	.LCFI3:
 264              		.cfi_def_cfa_offset 16
 265              		@ sp needed
 266 0042 70BD     		pop	{r4, r5, r6, pc}
 267              	.L14:
 268              		.align	2
 269              	.L13:
 270 0044 00000000 		.word	.LANCHOR1
 271 0048 00000000 		.word	.LC0
 272              		.cfi_endproc
 273              	.LFE236:
 275              		.section	.text.system_get_real_time,"ax",%progbits
 276              		.align	1
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 7


 277              		.global	system_get_real_time
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 282              	system_get_real_time:
 283              	.LVL3:
 284              	.LFB237:
  66:App/Src/task.c **** 
  67:App/Src/task.c **** void system_get_real_time(RealTime* time)
  68:App/Src/task.c **** {
 285              		.loc 1 68 1 is_stmt 1 view -0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              		@ link register save eliminated.
  69:App/Src/task.c ****     time->sec = g_realTime.sec;
 290              		.loc 1 69 5 view .LVU84
 291              		.loc 1 69 27 is_stmt 0 view .LVU85
 292 0000 064B     		ldr	r3, .L16
 293 0002 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 294              		.loc 1 69 15 view .LVU86
 295 0004 4271     		strb	r2, [r0, #5]
  70:App/Src/task.c ****     time->min = g_realTime.min;
 296              		.loc 1 70 5 is_stmt 1 view .LVU87
 297              		.loc 1 70 27 is_stmt 0 view .LVU88
 298 0006 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 299              		.loc 1 70 15 view .LVU89
 300 0008 0271     		strb	r2, [r0, #4]
  71:App/Src/task.c ****     time->hour = g_realTime.hour;
 301              		.loc 1 71 5 is_stmt 1 view .LVU90
 302              		.loc 1 71 28 is_stmt 0 view .LVU91
 303 000a DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 304              		.loc 1 71 16 view .LVU92
 305 000c C270     		strb	r2, [r0, #3]
  72:App/Src/task.c ****     time->day = g_realTime.day;
 306              		.loc 1 72 5 is_stmt 1 view .LVU93
 307              		.loc 1 72 27 is_stmt 0 view .LVU94
 308 000e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 309              		.loc 1 72 15 view .LVU95
 310 0010 8270     		strb	r2, [r0, #2]
  73:App/Src/task.c ****     time->mon = g_realTime.mon;
 311              		.loc 1 73 5 is_stmt 1 view .LVU96
 312              		.loc 1 73 27 is_stmt 0 view .LVU97
 313 0012 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 314              		.loc 1 73 15 view .LVU98
 315 0014 4270     		strb	r2, [r0, #1]
  74:App/Src/task.c ****     time->year = g_realTime.year;
 316              		.loc 1 74 5 is_stmt 1 view .LVU99
 317              		.loc 1 74 28 is_stmt 0 view .LVU100
 318 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 319              		.loc 1 74 16 view .LVU101
 320 0018 0370     		strb	r3, [r0]
  75:App/Src/task.c **** }
 321              		.loc 1 75 1 view .LVU102
 322 001a 7047     		bx	lr
 323              	.L17:
 324              		.align	2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 8


 325              	.L16:
 326 001c 00000000 		.word	.LANCHOR1
 327              		.cfi_endproc
 328              	.LFE237:
 330              		.global	__aeabi_f2d
 331              		.global	__aeabi_dmul
 332              		.global	__aeabi_dsub
 333              		.global	__aeabi_dcmpgt
 334              		.global	__aeabi_dcmplt
 335              		.global	__aeabi_dadd
 336              		.section	.rodata.rtc_freq_save.str1.4,"aMS",%progbits,1
 337              		.align	2
 338              	.LC1:
 339 0000 73756363 		.ascii	"success, temp:%.2f, best cap:%.2f, min ppm %.2f\012"
 339      6573732C 
 339      2074656D 
 339      703A252E 
 339      32662C20 
 340 0030 00       		.ascii	"\000"
 341 0031 000000   		.align	2
 342              	.LC2:
 343 0034 63686563 		.ascii	"check rtc temp error, temp:%.2f\012\000"
 343      6B207274 
 343      63207465 
 343      6D702065 
 343      72726F72 
 344 0055 000000   		.align	2
 345              	.LC3:
 346 0058 6572726F 		.ascii	"error and stop, temp:%.2f, best cap:%.2f, min ppm %"
 346      7220616E 
 346      64207374 
 346      6F702C20 
 346      74656D70 
 347 008b 2E32660A 		.ascii	".2f\012\000"
 347      00
 348              		.section	.text.rtc_freq_save,"ax",%progbits
 349              		.align	1
 350              		.global	rtc_freq_save
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 355              	rtc_freq_save:
 356              	.LVL4:
 357              	.LFB239:
  76:App/Src/task.c **** 
  77:App/Src/task.c **** void system_manage(void)
  78:App/Src/task.c **** {
  79:App/Src/task.c ****     static uint32_t systemTick = 0;
  80:App/Src/task.c **** 
  81:App/Src/task.c ****     systemTick++;
  82:App/Src/task.c ****     // if (systemTick % 100 == 0) {
  83:App/Src/task.c ****     //     LedHeart();
  84:App/Src/task.c ****     // }
  85:App/Src/task.c ****     if (systemTick % 100 == 0) {
  86:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
  87:App/Src/task.c ****     }
  88:App/Src/task.c ****     if (systemTick % 20 == 0) {
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 9


  89:App/Src/task.c ****         system_manage_test_mode();
  90:App/Src/task.c ****     }
  91:App/Src/task.c ****     if (systemTick % 200 == 0) {//系统本地走时
  92:App/Src/task.c ****         system_time_update();
  93:App/Src/task.c ****     }
  94:App/Src/task.c ****     // if (systemTick % 50 == 0) {//临时命令
  95:App/Src/task.c ****     //     command_freq_test(0);
  96:App/Src/task.c ****     // }
  97:App/Src/task.c ****     if (systemTick % 4000 == 0) {
  98:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
  99:App/Src/task.c ****     }
 100:App/Src/task.c **** }
 101:App/Src/task.c **** 
 102:App/Src/task.c **** 
 103:App/Src/task.c **** void rtc_freq_save(uint8_t mode,  float cap, float ppm)
 104:App/Src/task.c **** {
 358              		.loc 1 104 1 is_stmt 1 view -0
 359              		.cfi_startproc
 360              		@ args = 0, pretend = 0, frame = 8
 361              		@ frame_needed = 0, uses_anonymous_args = 0
 362              		.loc 1 104 1 is_stmt 0 view .LVU104
 363 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 364              	.LCFI4:
 365              		.cfi_def_cfa_offset 36
 366              		.cfi_offset 4, -36
 367              		.cfi_offset 5, -32
 368              		.cfi_offset 6, -28
 369              		.cfi_offset 7, -24
 370              		.cfi_offset 8, -20
 371              		.cfi_offset 9, -16
 372              		.cfi_offset 10, -12
 373              		.cfi_offset 11, -8
 374              		.cfi_offset 14, -4
 375 0004 2DED028B 		vpush.64	{d8}
 376              	.LCFI5:
 377              		.cfi_def_cfa_offset 44
 378              		.cfi_offset 80, -44
 379              		.cfi_offset 81, -40
 380 0008 87B0     		sub	sp, sp, #28
 381              	.LCFI6:
 382              		.cfi_def_cfa_offset 72
 383 000a 0446     		mov	r4, r0
 384 000c 10EE105A 		vmov	r5, s0
 385 0010 10EE90AA 		vmov	r10, s1
 105:App/Src/task.c ****     float temp, rtcTemp = 0, centerTemp;
 386              		.loc 1 105 5 is_stmt 1 view .LVU105
 387              	.LVL5:
 106:App/Src/task.c ****     uint32_t address;
 388              		.loc 1 106 5 view .LVU106
 107:App/Src/task.c ****     uint8_t buffer[4] = {0};
 389              		.loc 1 107 5 view .LVU107
 390              		.loc 1 107 13 is_stmt 0 view .LVU108
 391 0014 0023     		movs	r3, #0
 392 0016 0493     		str	r3, [sp, #16]
 108:App/Src/task.c ****     uint8_t check = 0;
 393              		.loc 1 108 5 is_stmt 1 view .LVU109
 394              	.LVL6:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 10


 109:App/Src/task.c **** 
 110:App/Src/task.c ****     address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TE
 395              		.loc 1 110 5 view .LVU110
 396              		.loc 1 110 52 is_stmt 0 view .LVU111
 397 0018 824B     		ldr	r3, .L36
 398 001a 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 399              		.loc 1 110 38 view .LVU112
 400 001c 0733     		adds	r3, r3, #7
 401 001e 5B02     		lsls	r3, r3, #9
 402              	.LVL7:
 111:App/Src/task.c ****     flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 403              		.loc 1 111 5 is_stmt 1 view .LVU113
 404 0020 0422     		movs	r2, #4
 405 0022 04A9     		add	r1, sp, #16
 406 0024 03F11000 		add	r0, r3, #16
 407              	.LVL8:
 408              		.loc 1 111 5 is_stmt 0 view .LVU114
 409 0028 FFF7FEFF 		bl	flash_read_data
 410              	.LVL9:
 112:App/Src/task.c ****     uint8_to_float(&centerTemp, buffer);//类型转换为float
 411              		.loc 1 112 5 is_stmt 1 view .LVU115
 412 002c 04A9     		add	r1, sp, #16
 413 002e 05A8     		add	r0, sp, #20
 414 0030 FFF7FEFF 		bl	uint8_to_float
 415              	.LVL10:
 113:App/Src/task.c ****     if (mode == CAP_ADJUST_SUCCESS) {
 416              		.loc 1 113 5 view .LVU116
 417              		.loc 1 113 8 is_stmt 0 view .LVU117
 418 0034 022C     		cmp	r4, #2
 419 0036 07D0     		beq	.L34
 420              	.LVL11:
 421              	.L19:
 114:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 115:App/Src/task.c ****         // rtcTemp = system_get_rtc_temp();
 116:App/Src/task.c ****         rtcTemp =  g_capAdjust.temp;
 117:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 118:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 119:App/Src/task.c ****                 check = 1;
 120:App/Src/task.c ****             } 
 121:App/Src/task.c ****         } else {
 122:App/Src/task.c ****             if ((centerTemp - rtcTemp) * 0.5 > (25.0 - temp - 8) && (centerTemp - rtcTemp) * 0.5 < 
 123:App/Src/task.c ****                 check = 1;
 124:App/Src/task.c ****             } 
 125:App/Src/task.c ****         }
 126:App/Src/task.c ****         if (check == 1) {
 127:App/Src/task.c ****         // g_capAdjust.flag = CAP_ADJUST_SUCCESS;  等待中心温度点计算
 128:App/Src/task.c ****             g_capAdjust.cap = cap;
 129:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 130:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 131:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 132:App/Src/task.c ****         } else {
 133:App/Src/task.c ****             g_capAdjust.flag = CAP_ADJUST_ERROR;
 134:App/Src/task.c ****             g_capAdjust.cap = 0;
 135:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 136:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", g_capAdjust.temp);
 137:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", g_capAdjust.temp);
 138:App/Src/task.c ****         }
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 11


 139:App/Src/task.c ****     } 
 140:App/Src/task.c **** 
 141:App/Src/task.c ****     if (mode == CAP_ADJUST_ERROR) {
 422              		.loc 1 141 5 is_stmt 1 view .LVU118
 423              		.loc 1 141 8 is_stmt 0 view .LVU119
 424 0038 012C     		cmp	r4, #1
 425 003a 00F0C280 		beq	.L35
 426              	.L18:
 142:App/Src/task.c ****         g_capAdjust.flag = CAP_ADJUST_ERROR;
 143:App/Src/task.c ****         g_capAdjust.cap = 0;
 144:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 145:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 146:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 147:App/Src/task.c ****     }
 148:App/Src/task.c **** }
 427              		.loc 1 148 1 view .LVU120
 428 003e 07B0     		add	sp, sp, #28
 429              	.LCFI7:
 430              		.cfi_remember_state
 431              		.cfi_def_cfa_offset 44
 432              		@ sp needed
 433 0040 BDEC028B 		vldm	sp!, {d8}
 434              	.LCFI8:
 435              		.cfi_restore 80
 436              		.cfi_restore 81
 437              		.cfi_def_cfa_offset 36
 438 0044 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 439              	.LVL12:
 440              	.L34:
 441              	.LCFI9:
 442              		.cfi_restore_state
 114:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 443              		.loc 1 114 9 is_stmt 1 view .LVU121
 114:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 444              		.loc 1 114 16 is_stmt 0 view .LVU122
 445 0048 0120     		movs	r0, #1
 446 004a FFF7FEFF 		bl	temp_read_value
 447              	.LVL13:
 448 004e B0EE408A 		vmov.f32	s16, s0
 449              	.LVL14:
 116:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 450              		.loc 1 116 9 is_stmt 1 view .LVU123
 116:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 451              		.loc 1 116 17 is_stmt 0 view .LVU124
 452 0052 744B     		ldr	r3, .L36
 453 0054 D3F808B0 		ldr	fp, [r3, #8]	@ float
 454              	.LVL15:
 117:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 455              		.loc 1 117 9 is_stmt 1 view .LVU125
 117:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 456              		.loc 1 117 12 is_stmt 0 view .LVU126
 457 0058 DFED737A 		vldr.32	s15, .L36+4
 458 005c B4EEE70A 		vcmpe.f32	s0, s15
 459 0060 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 460 0064 41D5     		bpl	.L20
 117:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 461              		.loc 1 117 23 discriminator 1 view .LVU127
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 12


 462 0066 F2EE0E7A 		vmov.f32	s15, #1.5e+1
 463 006a B4EEE70A 		vcmpe.f32	s0, s15
 464 006e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 465 0072 3ADD     		ble	.L20
 118:App/Src/task.c ****                 check = 1;
 466              		.loc 1 118 13 is_stmt 1 view .LVU128
 118:App/Src/task.c ****                 check = 1;
 467              		.loc 1 118 26 is_stmt 0 view .LVU129
 468 0074 5846     		mov	r0, fp	@ float
 469 0076 FFF7FEFF 		bl	__aeabi_f2d
 470              	.LVL16:
 118:App/Src/task.c ****                 check = 1;
 471              		.loc 1 118 26 view .LVU130
 472 007a 0022     		movs	r2, #0
 473 007c 6B4B     		ldr	r3, .L36+8
 474 007e FFF7FEFF 		bl	__aeabi_dmul
 475              	.LVL17:
 476 0082 0646     		mov	r6, r0
 477 0084 0F46     		mov	r7, r1
 118:App/Src/task.c ****                 check = 1;
 478              		.loc 1 118 32 view .LVU131
 479 0086 18EE100A 		vmov	r0, s16
 480 008a FFF7FEFF 		bl	__aeabi_f2d
 481              	.LVL18:
 482 008e 0246     		mov	r2, r0
 483 0090 0B46     		mov	r3, r1
 484 0092 3046     		mov	r0, r6
 485 0094 3946     		mov	r1, r7
 486 0096 FFF7FEFF 		bl	__aeabi_dsub
 487              	.LVL19:
 488 009a 0646     		mov	r6, r0
 489 009c 0F46     		mov	r7, r1
 118:App/Src/task.c ****                 check = 1;
 490              		.loc 1 118 16 view .LVU132
 491 009e 0022     		movs	r2, #0
 492 00a0 634B     		ldr	r3, .L36+12
 493 00a2 FFF7FEFF 		bl	__aeabi_dcmpgt
 494              	.LVL20:
 495 00a6 38B1     		cbz	r0, .L23
 118:App/Src/task.c ****                 check = 1;
 496              		.loc 1 118 45 discriminator 1 view .LVU133
 497 00a8 0022     		movs	r2, #0
 498 00aa 624B     		ldr	r3, .L36+16
 499 00ac 3046     		mov	r0, r6
 500 00ae 3946     		mov	r1, r7
 501 00b0 FFF7FEFF 		bl	__aeabi_dcmplt
 502              	.LVL21:
 503 00b4 0028     		cmp	r0, #0
 504 00b6 4ED1     		bne	.L25
 505              	.L23:
 506              	.LVL22:
 133:App/Src/task.c ****             g_capAdjust.cap = 0;
 507              		.loc 1 133 13 is_stmt 1 view .LVU134
 133:App/Src/task.c ****             g_capAdjust.cap = 0;
 508              		.loc 1 133 30 is_stmt 0 view .LVU135
 509 00b8 5A4D     		ldr	r5, .L36
 510              	.LVL23:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 13


 133:App/Src/task.c ****             g_capAdjust.cap = 0;
 511              		.loc 1 133 30 view .LVU136
 512 00ba 0123     		movs	r3, #1
 513 00bc 2B70     		strb	r3, [r5]
 134:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 514              		.loc 1 134 13 is_stmt 1 view .LVU137
 134:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 515              		.loc 1 134 29 is_stmt 0 view .LVU138
 516 00be 0023     		movs	r3, #0
 517 00c0 6B60     		str	r3, [r5, #4]	@ float
 135:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", g_capAdjust.temp);
 518              		.loc 1 135 13 is_stmt 1 view .LVU139
 135:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", g_capAdjust.temp);
 519              		.loc 1 135 29 is_stmt 0 view .LVU140
 520 00c2 5D4B     		ldr	r3, .L36+20
 521 00c4 EB60     		str	r3, [r5, #12]	@ float
 136:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", g_capAdjust.temp);
 522              		.loc 1 136 13 is_stmt 1 view .LVU141
 523 00c6 5846     		mov	r0, fp	@ float
 524 00c8 FFF7FEFF 		bl	__aeabi_f2d
 525              	.LVL24:
 526 00cc 0246     		mov	r2, r0
 527 00ce 0B46     		mov	r3, r1
 528 00d0 5A4E     		ldr	r6, .L36+24
 529 00d2 3046     		mov	r0, r6
 530 00d4 FFF7FEFF 		bl	UsbPrintf
 531              	.LVL25:
 137:App/Src/task.c ****         }
 532              		.loc 1 137 13 view .LVU142
 533 00d8 A868     		ldr	r0, [r5, #8]	@ float
 534 00da FFF7FEFF 		bl	__aeabi_f2d
 535              	.LVL26:
 536 00de 0246     		mov	r2, r0
 537 00e0 0B46     		mov	r3, r1
 538 00e2 3046     		mov	r0, r6
 539 00e4 FFF7FEFF 		bl	log_printf
 540              	.LVL27:
 541 00e8 A6E7     		b	.L19
 542              	.LVL28:
 543              	.L20:
 122:App/Src/task.c ****                 check = 1;
 544              		.loc 1 122 13 view .LVU143
 122:App/Src/task.c ****                 check = 1;
 545              		.loc 1 122 29 is_stmt 0 view .LVU144
 546 00ea DDED057A 		vldr.32	s15, [sp, #20]
 547 00ee 07EE10BA 		vmov	s14, fp
 548 00f2 77EEC77A 		vsub.f32	s15, s15, s14
 549 00f6 17EE900A 		vmov	r0, s15
 550 00fa FFF7FEFF 		bl	__aeabi_f2d
 551              	.LVL29:
 122:App/Src/task.c ****                 check = 1;
 552              		.loc 1 122 40 view .LVU145
 553 00fe 0022     		movs	r2, #0
 554 0100 4A4B     		ldr	r3, .L36+8
 555 0102 FFF7FEFF 		bl	__aeabi_dmul
 556              	.LVL30:
 557 0106 0646     		mov	r6, r0
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 14


 558 0108 0F46     		mov	r7, r1
 122:App/Src/task.c ****                 check = 1;
 559              		.loc 1 122 54 view .LVU146
 560 010a 18EE100A 		vmov	r0, s16
 561 010e FFF7FEFF 		bl	__aeabi_f2d
 562              	.LVL31:
 563 0112 0246     		mov	r2, r0
 564 0114 0B46     		mov	r3, r1
 565 0116 0020     		movs	r0, #0
 566 0118 4949     		ldr	r1, .L36+28
 567 011a FFF7FEFF 		bl	__aeabi_dsub
 568              	.LVL32:
 569 011e 8046     		mov	r8, r0
 570 0120 8946     		mov	r9, r1
 122:App/Src/task.c ****                 check = 1;
 571              		.loc 1 122 61 view .LVU147
 572 0122 0022     		movs	r2, #0
 573 0124 474B     		ldr	r3, .L36+32
 574 0126 FFF7FEFF 		bl	__aeabi_dsub
 575              	.LVL33:
 576 012a 0246     		mov	r2, r0
 577 012c 0B46     		mov	r3, r1
 122:App/Src/task.c ****                 check = 1;
 578              		.loc 1 122 16 view .LVU148
 579 012e 3046     		mov	r0, r6
 580 0130 3946     		mov	r1, r7
 581 0132 FFF7FEFF 		bl	__aeabi_dcmpgt
 582              	.LVL34:
 583 0136 0028     		cmp	r0, #0
 584 0138 BED0     		beq	.L23
 122:App/Src/task.c ****                 check = 1;
 585              		.loc 1 122 113 discriminator 1 view .LVU149
 586 013a 0022     		movs	r2, #0
 587 013c 414B     		ldr	r3, .L36+32
 588 013e 4046     		mov	r0, r8
 589 0140 4946     		mov	r1, r9
 590 0142 FFF7FEFF 		bl	__aeabi_dadd
 591              	.LVL35:
 592 0146 0246     		mov	r2, r0
 593 0148 0B46     		mov	r3, r1
 122:App/Src/task.c ****                 check = 1;
 594              		.loc 1 122 66 discriminator 1 view .LVU150
 595 014a 3046     		mov	r0, r6
 596 014c 3946     		mov	r1, r7
 597 014e FFF7FEFF 		bl	__aeabi_dcmplt
 598              	.LVL36:
 599 0152 0028     		cmp	r0, #0
 600 0154 B0D0     		beq	.L23
 601              	.L25:
 602              	.LVL37:
 128:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 603              		.loc 1 128 13 is_stmt 1 view .LVU151
 128:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 604              		.loc 1 128 29 is_stmt 0 view .LVU152
 605 0156 DFF8CC80 		ldr	r8, .L36
 606 015a C8F80450 		str	r5, [r8, #4]	@ float
 129:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 15


 607              		.loc 1 129 13 is_stmt 1 view .LVU153
 129:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 608              		.loc 1 129 29 is_stmt 0 view .LVU154
 609 015e C8F80CA0 		str	r10, [r8, #12]	@ float
 130:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 610              		.loc 1 130 13 is_stmt 1 view .LVU155
 611 0162 5846     		mov	r0, fp	@ float
 612 0164 FFF7FEFF 		bl	__aeabi_f2d
 613              	.LVL38:
 614 0168 0646     		mov	r6, r0
 615 016a 0F46     		mov	r7, r1
 616 016c DFF8E090 		ldr	r9, .L36+44
 617 0170 5046     		mov	r0, r10	@ float
 618 0172 FFF7FEFF 		bl	__aeabi_f2d
 619              	.LVL39:
 620 0176 CDE90201 		strd	r0, [sp, #8]
 621 017a 2846     		mov	r0, r5	@ float
 622 017c FFF7FEFF 		bl	__aeabi_f2d
 623              	.LVL40:
 624 0180 CDE90001 		strd	r0, [sp]
 625 0184 3246     		mov	r2, r6
 626 0186 3B46     		mov	r3, r7
 627 0188 4846     		mov	r0, r9
 628 018a FFF7FEFF 		bl	UsbPrintf
 629              	.LVL41:
 131:App/Src/task.c ****         } else {
 630              		.loc 1 131 13 view .LVU156
 131:App/Src/task.c ****         } else {
 631              		.loc 1 131 106 is_stmt 0 view .LVU157
 632 018e D8F80450 		ldr	r5, [r8, #4]	@ float
 633              	.LVL42:
 131:App/Src/task.c ****         } else {
 634              		.loc 1 131 124 view .LVU158
 635 0192 D8F80CA0 		ldr	r10, [r8, #12]	@ float
 636              	.LVL43:
 131:App/Src/task.c ****         } else {
 637              		.loc 1 131 13 view .LVU159
 638 0196 D8F80800 		ldr	r0, [r8, #8]	@ float
 639 019a FFF7FEFF 		bl	__aeabi_f2d
 640              	.LVL44:
 641 019e 0646     		mov	r6, r0
 642 01a0 0F46     		mov	r7, r1
 643 01a2 5046     		mov	r0, r10	@ float
 644 01a4 FFF7FEFF 		bl	__aeabi_f2d
 645              	.LVL45:
 646 01a8 CDE90201 		strd	r0, [sp, #8]
 647 01ac 2846     		mov	r0, r5	@ float
 648 01ae FFF7FEFF 		bl	__aeabi_f2d
 649              	.LVL46:
 650 01b2 CDE90001 		strd	r0, [sp]
 651 01b6 3246     		mov	r2, r6
 652 01b8 3B46     		mov	r3, r7
 653 01ba 4846     		mov	r0, r9
 654 01bc FFF7FEFF 		bl	log_printf
 655              	.LVL47:
 656 01c0 3AE7     		b	.L19
 657              	.LVL48:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 16


 658              	.L35:
 142:App/Src/task.c ****         g_capAdjust.cap = 0;
 659              		.loc 1 142 9 is_stmt 1 view .LVU160
 142:App/Src/task.c ****         g_capAdjust.cap = 0;
 660              		.loc 1 142 26 is_stmt 0 view .LVU161
 661 01c2 184C     		ldr	r4, .L36
 662 01c4 0123     		movs	r3, #1
 663 01c6 2370     		strb	r3, [r4]
 143:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 664              		.loc 1 143 9 is_stmt 1 view .LVU162
 143:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 665              		.loc 1 143 25 is_stmt 0 view .LVU163
 666 01c8 0023     		movs	r3, #0
 667 01ca 6360     		str	r3, [r4, #4]	@ float
 144:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 668              		.loc 1 144 9 is_stmt 1 view .LVU164
 144:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 669              		.loc 1 144 25 is_stmt 0 view .LVU165
 670 01cc 1A4B     		ldr	r3, .L36+20
 671 01ce E360     		str	r3, [r4, #12]	@ float
 145:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 672              		.loc 1 145 9 is_stmt 1 view .LVU166
 673 01d0 A068     		ldr	r0, [r4, #8]	@ float
 674 01d2 FFF7FEFF 		bl	__aeabi_f2d
 675              	.LVL49:
 676 01d6 0246     		mov	r2, r0
 677 01d8 0B46     		mov	r3, r1
 678 01da 1B4E     		ldr	r6, .L36+36
 679 01dc 0020     		movs	r0, #0
 680 01de 1B49     		ldr	r1, .L36+40
 681 01e0 CDE90201 		strd	r0, [sp, #8]
 682 01e4 0020     		movs	r0, #0
 683 01e6 0021     		movs	r1, #0
 684 01e8 CDE90001 		strd	r0, [sp]
 685 01ec 3046     		mov	r0, r6
 686 01ee FFF7FEFF 		bl	UsbPrintf
 687              	.LVL50:
 146:App/Src/task.c ****     }
 688              		.loc 1 146 9 view .LVU167
 146:App/Src/task.c ****     }
 689              		.loc 1 146 109 is_stmt 0 view .LVU168
 690 01f2 6768     		ldr	r7, [r4, #4]	@ float
 146:App/Src/task.c ****     }
 691              		.loc 1 146 127 view .LVU169
 692 01f4 D4F80C80 		ldr	r8, [r4, #12]	@ float
 146:App/Src/task.c ****     }
 693              		.loc 1 146 9 view .LVU170
 694 01f8 A068     		ldr	r0, [r4, #8]	@ float
 695 01fa FFF7FEFF 		bl	__aeabi_f2d
 696              	.LVL51:
 697 01fe 0446     		mov	r4, r0
 698 0200 0D46     		mov	r5, r1
 699 0202 4046     		mov	r0, r8	@ float
 700 0204 FFF7FEFF 		bl	__aeabi_f2d
 701              	.LVL52:
 702 0208 CDE90201 		strd	r0, [sp, #8]
 703 020c 3846     		mov	r0, r7	@ float
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 17


 704 020e FFF7FEFF 		bl	__aeabi_f2d
 705              	.LVL53:
 706 0212 CDE90001 		strd	r0, [sp]
 707 0216 2246     		mov	r2, r4
 708 0218 2B46     		mov	r3, r5
 709 021a 3046     		mov	r0, r6
 710 021c FFF7FEFF 		bl	log_printf
 711              	.LVL54:
 712              		.loc 1 148 1 view .LVU171
 713 0220 0DE7     		b	.L18
 714              	.L37:
 715 0222 00BF     		.align	2
 716              	.L36:
 717 0224 00000000 		.word	g_capAdjust
 718 0228 00000C42 		.word	1108082688
 719 022c 0000E03F 		.word	1071644672
 720 0230 00805140 		.word	1079083008
 721 0234 00406040 		.word	1080049664
 722 0238 00007A44 		.word	1148846080
 723 023c 34000000 		.word	.LC2
 724 0240 00003940 		.word	1077477376
 725 0244 00002040 		.word	1075838976
 726 0248 58000000 		.word	.LC3
 727 024c 00408F40 		.word	1083129856
 728 0250 00000000 		.word	.LC1
 729              		.cfi_endproc
 730              	.LFE239:
 732              		.section	.rodata.rtc_freq_test.str1.4,"aMS",%progbits,1
 733              		.align	2
 734              	.LC4:
 735 0000 73797374 		.ascii	"system temp:%.1f set init cap %.0f, adjust start..."
 735      656D2074 
 735      656D703A 
 735      252E3166 
 735      20736574 
 736 0033 0A00     		.ascii	"\012\000"
 737 0035 000000   		.align	2
 738              	.LC5:
 739 0038 63617020 		.ascii	"cap adjust fail, i2c error\012\000"
 739      61646A75 
 739      73742066 
 739      61696C2C 
 739      20693263 
 740              		.align	2
 741              	.LC6:
 742 0054 3A4D4541 		.ascii	":MEAS?\012\000"
 742      533F0A00 
 743              		.align	2
 744              	.LC7:
 745 005c 6361705B 		.ascii	"cap[%.1f], %fHz, %.2fppm\012\000"
 745      252E3166 
 745      5D2C2025 
 745      66487A2C 
 745      20252E32 
 746              		.global	__aeabi_d2f
 747 0076 0000     		.align	2
 748              	.LC8:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 18


 749 0078 64657669 		.ascii	"device no response\012\000"
 749      6365206E 
 749      6F207265 
 749      73706F6E 
 749      73650A00 
 750              		.align	2
 751              	.LC9:
 752 008c 63656E74 		.ascii	"center cap in %.1f : %.2fppm\012\000"
 752      65722063 
 752      61702069 
 752      6E20252E 
 752      3166203A 
 753              		.section	.text.rtc_freq_test,"ax",%progbits
 754              		.align	1
 755              		.global	rtc_freq_test
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 760              	rtc_freq_test:
 761              	.LVL55:
 762              	.LFB240:
 149:App/Src/task.c ****  
 150:App/Src/task.c **** 
 151:App/Src/task.c **** void rtc_freq_test(int mode)//调节电容测试
 152:App/Src/task.c **** {
 763              		.loc 1 152 1 is_stmt 1 view -0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 16
 766              		@ frame_needed = 0, uses_anonymous_args = 0
 767              		.loc 1 152 1 is_stmt 0 view .LVU173
 768 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 769              	.LCFI10:
 770              		.cfi_def_cfa_offset 24
 771              		.cfi_offset 4, -24
 772              		.cfi_offset 5, -20
 773              		.cfi_offset 6, -16
 774              		.cfi_offset 7, -12
 775              		.cfi_offset 8, -8
 776              		.cfi_offset 14, -4
 777 0004 2DED028B 		vpush.64	{d8}
 778              	.LCFI11:
 779              		.cfi_def_cfa_offset 32
 780              		.cfi_offset 80, -32
 781              		.cfi_offset 81, -28
 782 0008 88B0     		sub	sp, sp, #32
 783              	.LCFI12:
 784              		.cfi_def_cfa_offset 64
 153:App/Src/task.c ****     static int testState = 0;
 785              		.loc 1 153 5 is_stmt 1 view .LVU174
 154:App/Src/task.c ****     static uint8_t responseCount = 0;
 786              		.loc 1 154 5 view .LVU175
 155:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 787              		.loc 1 155 5 view .LVU176
 156:App/Src/task.c ****     float temp, ppm;
 788              		.loc 1 156 5 view .LVU177
 157:App/Src/task.c **** 	uint8_t cap[2] = {0};
 789              		.loc 1 157 2 view .LVU178
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 19


 790              		.loc 1 157 10 is_stmt 0 view .LVU179
 791 000a 0023     		movs	r3, #0
 792 000c ADF81830 		strh	r3, [sp, #24]	@ movhi
 158:App/Src/task.c ****     static float lastCap = 11;
 793              		.loc 1 158 5 is_stmt 1 view .LVU180
 159:App/Src/task.c ****     static float minPpm = 1000;
 794              		.loc 1 159 5 view .LVU181
 160:App/Src/task.c ****     static float minCap = 0;
 795              		.loc 1 160 5 view .LVU182
 161:App/Src/task.c ****     static uint8_t adjustCount = 0;
 796              		.loc 1 161 5 view .LVU183
 162:App/Src/task.c ****     uint32_t address;
 797              		.loc 1 162 5 view .LVU184
 163:App/Src/task.c ****     uint8_t buffer[4] = {0xff};
 798              		.loc 1 163 5 view .LVU185
 799              		.loc 1 163 13 is_stmt 0 view .LVU186
 800 0010 FF23     		movs	r3, #255
 801 0012 0593     		str	r3, [sp, #20]
 164:App/Src/task.c **** 
 165:App/Src/task.c ****     if (mode == FREQ_TEST_STARTING) {
 802              		.loc 1 165 5 is_stmt 1 view .LVU187
 803              		.loc 1 165 8 is_stmt 0 view .LVU188
 804 0014 0128     		cmp	r0, #1
 805 0016 0CD0     		beq	.L108
 166:App/Src/task.c ****         testState = 1;
 167:App/Src/task.c ****         return;
 168:App/Src/task.c ****     }
 169:App/Src/task.c **** 
 170:App/Src/task.c ****     switch (testState) {
 806              		.loc 1 170 5 is_stmt 1 view .LVU189
 807 0018 B04B     		ldr	r3, .L114
 808 001a 1B68     		ldr	r3, [r3]
 809 001c 013B     		subs	r3, r3, #1
 810 001e 052B     		cmp	r3, #5
 811 0020 0AD8     		bhi	.L38
 812 0022 DFE813F0 		tbh	[pc, r3, lsl #1]
 813              	.L43:
 814 0026 0E00     		.2byte	(.L48-.L43)/2
 815 0028 5600     		.2byte	(.L47-.L43)/2
 816 002a 6600     		.2byte	(.L46-.L43)/2
 817 002c EE01     		.2byte	(.L45-.L43)/2
 818 002e 4202     		.2byte	(.L44-.L43)/2
 819 0030 5302     		.2byte	(.L42-.L43)/2
 820              		.p2align 1
 821              	.L108:
 166:App/Src/task.c ****         testState = 1;
 822              		.loc 1 166 9 view .LVU190
 166:App/Src/task.c ****         testState = 1;
 823              		.loc 1 166 19 is_stmt 0 view .LVU191
 824 0032 AA4B     		ldr	r3, .L114
 825 0034 0122     		movs	r2, #1
 826 0036 1A60     		str	r2, [r3]
 167:App/Src/task.c ****     }
 827              		.loc 1 167 9 is_stmt 1 view .LVU192
 828              	.LVL56:
 829              	.L38:
 171:App/Src/task.c ****         case 0:  break;
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 20


 172:App/Src/task.c ****         case 1:
 173:App/Src/task.c ****             temp = temp_read_value(1);// read system temp
 174:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 175:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 176:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 177:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 178:App/Src/task.c ****                 log_printf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 179:App/Src/task.c ****                 minPpm = 1000;
 180:App/Src/task.c ****                 testState = 2;
 181:App/Src/task.c ****                 adjustCount = 1;
 182:App/Src/task.c ****             } else {
 183:App/Src/task.c ****                 UsbPrintf("cap adjust fail, i2c error\n");
 184:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 185:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 186:App/Src/task.c ****                 testState = 0;
 187:App/Src/task.c ****             }
 188:App/Src/task.c ****         break;
 189:App/Src/task.c ****         case 2:
 190:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 191:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 192:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 193:App/Src/task.c ****             responseCount = 0;
 194:App/Src/task.c ****             testState = 3;
 195:App/Src/task.c ****         break;
 196:App/Src/task.c ****         case 3:
 197:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 198:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 199:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 200:App/Src/task.c ****                 log_printf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 201:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 202:App/Src/task.c ****                     testState = 4;
 203:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 204:App/Src/task.c ****                     break;
 205:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 206:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 207:App/Src/task.c ****                         minPpm = ppm;
 208:App/Src/task.c ****                         minCap = lastCap;
 209:App/Src/task.c ****                     }
 210:App/Src/task.c ****                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
 211:App/Src/task.c ****                         testState = 4;
 212:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 213:App/Src/task.c ****                         break;
 214:App/Src/task.c ****                     }
 215:App/Src/task.c ****                 } else {
 216:App/Src/task.c ****                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_LIST
 217:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 218:App/Src/task.c ****                         testState = 0;
 219:App/Src/task.c ****                         break;
 220:App/Src/task.c ****                     } 
 221:App/Src/task.c ****                 }
 222:App/Src/task.c ****                 if (fabs(ppm) < fabs(minPpm)) {
 223:App/Src/task.c ****                     minPpm = ppm;
 224:App/Src/task.c ****                     minCap = lastCap;
 225:App/Src/task.c ****                 }
 226:App/Src/task.c ****                 //---------------异常次数限制，避免卡死在该环节-----------------------
 227:App/Src/task.c ****                 adjustCount++;
 228:App/Src/task.c ****                 if (adjustCount > 10) { 
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 21


 229:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 230:App/Src/task.c ****                     testState = 0;
 231:App/Src/task.c ****                     break;
 232:App/Src/task.c ****                 }//---------------------------------------------------------  
 233:App/Src/task.c ****                 if (0 < ppm && ppm < 1) {
 234:App/Src/task.c ****                     lastCap += 1;
 235:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 236:App/Src/task.c ****                     lastCap -= 1;
 237:App/Src/task.c ****                 } else {
 238:App/Src/task.c ****                     lastCap = lastCap + ppm * 2.5;
 239:App/Src/task.c ****                 }
 240:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);
 241:App/Src/task.c ****                 rtc_set_testcap(cap);
 242:App/Src/task.c ****                 testState = 2;
 243:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 244:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 245:App/Src/task.c ****                 log_printf("device no response\n");   
 246:App/Src/task.c ****                 responseCount++;
 247:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 248:App/Src/task.c ****                     testState = 0;
 249:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 250:App/Src/task.c ****                 } else {
 251:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 252:App/Src/task.c ****                 }
 253:App/Src/task.c ****             }
 254:App/Src/task.c ****         break;
 255:App/Src/task.c ****         case 4:
 256:App/Src/task.c ****             temp = temp_read_value(1);
 257:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 258:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 259:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 260:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 261:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 262:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 263:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 264:App/Src/task.c ****                     testState++;
 265:App/Src/task.c ****                 } else {
 266:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 267:App/Src/task.c ****                     testState = 0;
 268:App/Src/task.c ****                 }
 269:App/Src/task.c ****             } else {//不是-40和85度的点，调试正常退出
 270:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 271:App/Src/task.c ****                 testState = 0;
 272:App/Src/task.c ****             }
 273:App/Src/task.c ****         break;
 274:App/Src/task.c ****         case 5:
 275:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 276:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 277:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 278:App/Src/task.c ****             responseCount = 0;
 279:App/Src/task.c ****             testState++;
 280:App/Src/task.c ****         break;
 281:App/Src/task.c ****         case 6:
 282:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 283:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 284:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 285:App/Src/task.c ****                 temp = temp_read_value(1);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 22


 286:App/Src/task.c ****                 // if (temp > 55) { address += 4;}
 287:App/Src/task.c ****                 if (temp > 80) { address += 4;}//修改保存地址
 288:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 289:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 290:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 291:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 292:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 293:App/Src/task.c ****                 testState = 0;
 294:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 295:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 296:App/Src/task.c ****                 log_printf("device no response\n");        
 297:App/Src/task.c ****                 responseCount++;
 298:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 299:App/Src/task.c ****                     testState = 0;
 300:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 301:App/Src/task.c ****                 } else {
 302:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 303:App/Src/task.c ****                 }
 304:App/Src/task.c ****             }
 305:App/Src/task.c ****         break;
 306:App/Src/task.c ****         default:  break;
 307:App/Src/task.c ****     }
 308:App/Src/task.c **** }
 830              		.loc 1 308 1 is_stmt 0 view .LVU193
 831 0038 08B0     		add	sp, sp, #32
 832              	.LCFI13:
 833              		.cfi_remember_state
 834              		.cfi_def_cfa_offset 32
 835              		@ sp needed
 836 003a BDEC028B 		vldm	sp!, {d8}
 837              	.LCFI14:
 838              		.cfi_restore 80
 839              		.cfi_restore 81
 840              		.cfi_def_cfa_offset 24
 841 003e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 842              	.LVL57:
 843              	.L48:
 844              	.LCFI15:
 845              		.cfi_restore_state
 173:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 846              		.loc 1 173 13 is_stmt 1 view .LVU194
 173:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 847              		.loc 1 173 20 is_stmt 0 view .LVU195
 848 0042 0120     		movs	r0, #1
 849              	.LVL58:
 173:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 850              		.loc 1 173 20 view .LVU196
 851 0044 FFF7FEFF 		bl	temp_read_value
 852              	.LVL59:
 853 0048 10EE104A 		vmov	r4, s0
 854              	.LVL60:
 174:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 855              		.loc 1 174 13 is_stmt 1 view .LVU197
 174:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 856              		.loc 1 174 23 is_stmt 0 view .LVU198
 857 004c FFF7FEFF 		bl	rtc_init_test_cap
 858              	.LVL61:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 23


 859 0050 07EE900A 		vmov	s15, r0	@ int
 174:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 860              		.loc 1 174 21 view .LVU199
 861 0054 F8EE677A 		vcvt.f32.u32	s15, s15
 862 0058 A14B     		ldr	r3, .L114+4
 863 005a C3ED007A 		vstr.32	s15, [r3]
 175:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 864              		.loc 1 175 13 is_stmt 1 view .LVU200
 865 005e 06A9     		add	r1, sp, #24
 866 0060 FFF7FEFF 		bl	cap_list_to_uint
 867              	.LVL62:
 176:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 868              		.loc 1 176 13 view .LVU201
 176:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 869              		.loc 1 176 17 is_stmt 0 view .LVU202
 870 0064 06A8     		add	r0, sp, #24
 871 0066 FFF7FEFF 		bl	rtc_set_testcap
 872              	.LVL63:
 176:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 873              		.loc 1 176 16 view .LVU203
 874 006a 20BB     		cbnz	r0, .L49
 177:App/Src/task.c ****                 log_printf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 875              		.loc 1 177 17 is_stmt 1 view .LVU204
 876 006c 2046     		mov	r0, r4	@ float
 877 006e FFF7FEFF 		bl	__aeabi_f2d
 878              	.LVL64:
 879 0072 0446     		mov	r4, r0
 880              	.LVL65:
 177:App/Src/task.c ****                 log_printf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 881              		.loc 1 177 17 is_stmt 0 view .LVU205
 882 0074 0D46     		mov	r5, r1
 883 0076 9B4E     		ldr	r6, .L114+8
 884 0078 994F     		ldr	r7, .L114+4
 885 007a 3868     		ldr	r0, [r7]	@ float
 886 007c FFF7FEFF 		bl	__aeabi_f2d
 887              	.LVL66:
 888 0080 CDE90001 		strd	r0, [sp]
 889 0084 2246     		mov	r2, r4
 890 0086 2B46     		mov	r3, r5
 891 0088 3046     		mov	r0, r6
 892 008a FFF7FEFF 		bl	UsbPrintf
 893              	.LVL67:
 178:App/Src/task.c ****                 minPpm = 1000;
 894              		.loc 1 178 17 is_stmt 1 view .LVU206
 895 008e 3868     		ldr	r0, [r7]	@ float
 896 0090 FFF7FEFF 		bl	__aeabi_f2d
 897              	.LVL68:
 898 0094 CDE90001 		strd	r0, [sp]
 899 0098 2246     		mov	r2, r4
 900 009a 2B46     		mov	r3, r5
 901 009c 3046     		mov	r0, r6
 902 009e FFF7FEFF 		bl	log_printf
 903              	.LVL69:
 179:App/Src/task.c ****                 testState = 2;
 904              		.loc 1 179 17 view .LVU207
 179:App/Src/task.c ****                 testState = 2;
 905              		.loc 1 179 24 is_stmt 0 view .LVU208
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 24


 906 00a2 914B     		ldr	r3, .L114+12
 907 00a4 914A     		ldr	r2, .L114+16
 908 00a6 1A60     		str	r2, [r3]	@ float
 180:App/Src/task.c ****                 adjustCount = 1;
 909              		.loc 1 180 17 is_stmt 1 view .LVU209
 180:App/Src/task.c ****                 adjustCount = 1;
 910              		.loc 1 180 27 is_stmt 0 view .LVU210
 911 00a8 8C4B     		ldr	r3, .L114
 912 00aa 0222     		movs	r2, #2
 913 00ac 1A60     		str	r2, [r3]
 181:App/Src/task.c ****             } else {
 914              		.loc 1 181 17 is_stmt 1 view .LVU211
 181:App/Src/task.c ****             } else {
 915              		.loc 1 181 29 is_stmt 0 view .LVU212
 916 00ae 904B     		ldr	r3, .L114+20
 917 00b0 0122     		movs	r2, #1
 918 00b2 1A70     		strb	r2, [r3]
 919 00b4 C0E7     		b	.L38
 920              	.LVL70:
 921              	.L49:
 183:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 922              		.loc 1 183 17 is_stmt 1 view .LVU213
 923 00b6 8F4C     		ldr	r4, .L114+24
 924              	.LVL71:
 183:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 925              		.loc 1 183 17 is_stmt 0 view .LVU214
 926 00b8 2046     		mov	r0, r4
 927 00ba FFF7FEFF 		bl	UsbPrintf
 928              	.LVL72:
 184:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 929              		.loc 1 184 17 is_stmt 1 view .LVU215
 930 00be 2046     		mov	r0, r4
 931 00c0 FFF7FEFF 		bl	log_printf
 932              	.LVL73:
 185:App/Src/task.c ****                 testState = 0;
 933              		.loc 1 185 17 view .LVU216
 185:App/Src/task.c ****                 testState = 0;
 934              		.loc 1 185 34 is_stmt 0 view .LVU217
 935 00c4 8C4B     		ldr	r3, .L114+28
 936 00c6 0122     		movs	r2, #1
 937 00c8 1A70     		strb	r2, [r3]
 186:App/Src/task.c ****             }
 938              		.loc 1 186 17 is_stmt 1 view .LVU218
 186:App/Src/task.c ****             }
 939              		.loc 1 186 27 is_stmt 0 view .LVU219
 940 00ca 844B     		ldr	r3, .L114
 941 00cc 0022     		movs	r2, #0
 942 00ce 1A60     		str	r2, [r3]
 943 00d0 B2E7     		b	.L38
 944              	.LVL74:
 945              	.L47:
 190:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 946              		.loc 1 190 13 is_stmt 1 view .LVU220
 190:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 947              		.loc 1 190 28 is_stmt 0 view .LVU221
 948 00d2 FFF7FEFF 		bl	HAL_GetTick
 949              	.LVL75:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 25


 190:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 950              		.loc 1 190 26 view .LVU222
 951 00d6 894B     		ldr	r3, .L114+32
 952 00d8 1860     		str	r0, [r3]
 191:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 953              		.loc 1 191 13 is_stmt 1 view .LVU223
 191:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 954              		.loc 1 191 35 is_stmt 0 view .LVU224
 955 00da 894B     		ldr	r3, .L114+36
 956 00dc 1860     		str	r0, [r3]
 192:App/Src/task.c ****             responseCount = 0;
 957              		.loc 1 192 13 is_stmt 1 view .LVU225
 958 00de 8948     		ldr	r0, .L114+40
 959 00e0 FFF7FEFF 		bl	DevicePrintf
 960              	.LVL76:
 193:App/Src/task.c ****             testState = 3;
 961              		.loc 1 193 13 view .LVU226
 193:App/Src/task.c ****             testState = 3;
 962              		.loc 1 193 27 is_stmt 0 view .LVU227
 963 00e4 884B     		ldr	r3, .L114+44
 964 00e6 0022     		movs	r2, #0
 965 00e8 1A70     		strb	r2, [r3]
 194:App/Src/task.c ****         break;
 966              		.loc 1 194 13 is_stmt 1 view .LVU228
 194:App/Src/task.c ****         break;
 967              		.loc 1 194 23 is_stmt 0 view .LVU229
 968 00ea 7C4B     		ldr	r3, .L114
 969 00ec 0322     		movs	r2, #3
 970 00ee 1A60     		str	r2, [r3]
 195:App/Src/task.c ****         case 3:
 971              		.loc 1 195 9 is_stmt 1 view .LVU230
 972 00f0 A2E7     		b	.L38
 973              	.LVL77:
 974              	.L46:
 197:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 975              		.loc 1 197 13 view .LVU231
 197:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 976              		.loc 1 197 27 is_stmt 0 view .LVU232
 977 00f2 834B     		ldr	r3, .L114+36
 978 00f4 1A68     		ldr	r2, [r3]
 197:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 979              		.loc 1 197 39 view .LVU233
 980 00f6 814B     		ldr	r3, .L114+32
 981 00f8 1C68     		ldr	r4, [r3]
 197:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 982              		.loc 1 197 16 view .LVU234
 983 00fa A242     		cmp	r2, r4
 984 00fc 40F25C81 		bls	.L50
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 985              		.loc 1 198 17 is_stmt 1 view .LVU235
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 986              		.loc 1 198 34 is_stmt 0 view .LVU236
 987 0100 DFF8FC81 		ldr	r8, .L114+36
 988 0104 D8ED018A 		vldr.32	s17, [r8, #4]
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 989              		.loc 1 198 40 view .LVU237
 990 0108 DFED807A 		vldr.32	s15, .L114+48
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 26


 991 010c 88EEA78A 		vdiv.f32	s16, s17, s15
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 992              		.loc 1 198 58 view .LVU238
 993 0110 F7EE007A 		vmov.f32	s15, #1.0e+0
 994 0114 38EE678A 		vsub.f32	s16, s16, s15
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 995              		.loc 1 198 63 view .LVU239
 996 0118 DFED7D7A 		vldr.32	s15, .L114+52
 997 011c 28EE278A 		vmul.f32	s16, s16, s15
 198:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 998              		.loc 1 198 21 view .LVU240
 999 0120 8DED078A 		vstr.32	s16, [sp, #28]
 199:App/Src/task.c ****                 log_printf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1000              		.loc 1 199 17 is_stmt 1 view .LVU241
 1001 0124 6E4F     		ldr	r7, .L114+4
 1002 0126 3868     		ldr	r0, [r7]	@ float
 1003              	.LVL78:
 199:App/Src/task.c ****                 log_printf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1004              		.loc 1 199 17 is_stmt 0 view .LVU242
 1005 0128 FFF7FEFF 		bl	__aeabi_f2d
 1006              	.LVL79:
 1007 012c 0446     		mov	r4, r0
 1008 012e 0D46     		mov	r5, r1
 1009 0130 784E     		ldr	r6, .L114+56
 1010 0132 18EE100A 		vmov	r0, s16
 1011 0136 FFF7FEFF 		bl	__aeabi_f2d
 1012              	.LVL80:
 1013 013a CDE90201 		strd	r0, [sp, #8]
 1014 013e 18EE900A 		vmov	r0, s17
 1015 0142 FFF7FEFF 		bl	__aeabi_f2d
 1016              	.LVL81:
 1017 0146 CDE90001 		strd	r0, [sp]
 1018 014a 2246     		mov	r2, r4
 1019 014c 2B46     		mov	r3, r5
 1020 014e 3046     		mov	r0, r6
 1021 0150 FFF7FEFF 		bl	UsbPrintf
 1022              	.LVL82:
 200:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1023              		.loc 1 200 17 is_stmt 1 view .LVU243
 200:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1024              		.loc 1 200 77 is_stmt 0 view .LVU244
 1025 0154 D8F80480 		ldr	r8, [r8, #4]	@ float
 200:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1026              		.loc 1 200 17 view .LVU245
 1027 0158 3868     		ldr	r0, [r7]	@ float
 1028 015a FFF7FEFF 		bl	__aeabi_f2d
 1029              	.LVL83:
 1030 015e 0446     		mov	r4, r0
 1031 0160 0D46     		mov	r5, r1
 1032 0162 0798     		ldr	r0, [sp, #28]	@ float
 1033 0164 FFF7FEFF 		bl	__aeabi_f2d
 1034              	.LVL84:
 1035 0168 CDE90201 		strd	r0, [sp, #8]
 1036 016c 4046     		mov	r0, r8	@ float
 1037 016e FFF7FEFF 		bl	__aeabi_f2d
 1038              	.LVL85:
 1039 0172 CDE90001 		strd	r0, [sp]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 27


 1040 0176 2246     		mov	r2, r4
 1041 0178 2B46     		mov	r3, r5
 1042 017a 3046     		mov	r0, r6
 1043 017c FFF7FEFF 		bl	log_printf
 1044              	.LVL86:
 201:App/Src/task.c ****                     testState = 4;
 1045              		.loc 1 201 17 is_stmt 1 view .LVU246
 201:App/Src/task.c ****                     testState = 4;
 1046              		.loc 1 201 21 is_stmt 0 view .LVU247
 1047 0180 DDED070A 		vldr.32	s1, [sp, #28]
 1048 0184 F0EEE07A 		vabs.f32	s15, s1
 201:App/Src/task.c ****                     testState = 4;
 1049              		.loc 1 201 20 view .LVU248
 1050 0188 B6EE007A 		vmov.f32	s14, #5.0e-1
 1051 018c F4EEC77A 		vcmpe.f32	s15, s14
 1052 0190 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1053 0194 40F28380 		bls	.L109
 205:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1054              		.loc 1 205 24 is_stmt 1 view .LVU249
 205:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1055              		.loc 1 205 27 is_stmt 0 view .LVU250
 1056 0198 B0EE087A 		vmov.f32	s14, #3.0e+0
 1057 019c F4EEC77A 		vcmpe.f32	s15, s14
 1058 01a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1059 01a4 40F1BC80 		bpl	.L106
 206:App/Src/task.c ****                         minPpm = ppm;
 1060              		.loc 1 206 21 is_stmt 1 view .LVU251
 206:App/Src/task.c ****                         minPpm = ppm;
 1061              		.loc 1 206 37 is_stmt 0 view .LVU252
 1062 01a8 4F4B     		ldr	r3, .L114+12
 1063 01aa 93ED007A 		vldr.32	s14, [r3]
 1064 01ae B0EEC77A 		vabs.f32	s14, s14
 206:App/Src/task.c ****                         minPpm = ppm;
 1065              		.loc 1 206 24 view .LVU253
 1066 01b2 F4EEC77A 		vcmpe.f32	s15, s14
 1067 01b6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1068 01ba 05D5     		bpl	.L55
 207:App/Src/task.c ****                         minCap = lastCap;
 1069              		.loc 1 207 25 is_stmt 1 view .LVU254
 207:App/Src/task.c ****                         minCap = lastCap;
 1070              		.loc 1 207 32 is_stmt 0 view .LVU255
 1071 01bc C3ED000A 		vstr.32	s1, [r3]
 208:App/Src/task.c ****                     }
 1072              		.loc 1 208 25 is_stmt 1 view .LVU256
 208:App/Src/task.c ****                     }
 1073              		.loc 1 208 32 is_stmt 0 view .LVU257
 1074 01c0 474B     		ldr	r3, .L114+4
 1075 01c2 1A68     		ldr	r2, [r3]	@ float
 1076 01c4 544B     		ldr	r3, .L114+60
 1077 01c6 1A60     		str	r2, [r3]	@ float
 1078              	.L55:
 210:App/Src/task.c ****                         testState = 4;
 1079              		.loc 1 210 21 is_stmt 1 view .LVU258
 210:App/Src/task.c ****                         testState = 4;
 1080              		.loc 1 210 24 is_stmt 0 view .LVU259
 1081 01c8 F5EEC00A 		vcmpe.f32	s1, #0
 1082 01cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 28


 1083 01d0 07DD     		ble	.L57
 210:App/Src/task.c ****                         testState = 4;
 1084              		.loc 1 210 44 discriminator 1 view .LVU260
 1085 01d2 454B     		ldr	r3, .L114+12
 1086 01d4 93ED007A 		vldr.32	s14, [r3]
 210:App/Src/task.c ****                         testState = 4;
 1087              		.loc 1 210 34 discriminator 1 view .LVU261
 1088 01d8 B5EEC07A 		vcmpe.f32	s14, #0
 1089 01dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1090 01e0 6ED4     		bmi	.L59
 1091              	.L57:
 210:App/Src/task.c ****                         testState = 4;
 1092              		.loc 1 210 49 discriminator 3 view .LVU262
 1093 01e2 F5EEC00A 		vcmpe.f32	s1, #0
 1094 01e6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1095 01ea 61D4     		bmi	.L110
 1096              	.L60:
 222:App/Src/task.c ****                     minPpm = ppm;
 1097              		.loc 1 222 17 is_stmt 1 view .LVU263
 222:App/Src/task.c ****                     minPpm = ppm;
 1098              		.loc 1 222 33 is_stmt 0 view .LVU264
 1099 01ec 3E4B     		ldr	r3, .L114+12
 1100 01ee 93ED007A 		vldr.32	s14, [r3]
 1101 01f2 B0EEC77A 		vabs.f32	s14, s14
 222:App/Src/task.c ****                     minPpm = ppm;
 1102              		.loc 1 222 20 view .LVU265
 1103 01f6 F4EEC77A 		vcmpe.f32	s15, s14
 1104 01fa F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1105 01fe 05D5     		bpl	.L68
 223:App/Src/task.c ****                     minCap = lastCap;
 1106              		.loc 1 223 21 is_stmt 1 view .LVU266
 223:App/Src/task.c ****                     minCap = lastCap;
 1107              		.loc 1 223 28 is_stmt 0 view .LVU267
 1108 0200 C3ED000A 		vstr.32	s1, [r3]
 224:App/Src/task.c ****                 }
 1109              		.loc 1 224 21 is_stmt 1 view .LVU268
 224:App/Src/task.c ****                 }
 1110              		.loc 1 224 28 is_stmt 0 view .LVU269
 1111 0204 364B     		ldr	r3, .L114+4
 1112 0206 1A68     		ldr	r2, [r3]	@ float
 1113 0208 434B     		ldr	r3, .L114+60
 1114 020a 1A60     		str	r2, [r3]	@ float
 1115              	.L68:
 227:App/Src/task.c ****                 if (adjustCount > 10) { 
 1116              		.loc 1 227 17 is_stmt 1 view .LVU270
 227:App/Src/task.c ****                 if (adjustCount > 10) { 
 1117              		.loc 1 227 28 is_stmt 0 view .LVU271
 1118 020c 384A     		ldr	r2, .L114+20
 1119 020e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1120 0210 0133     		adds	r3, r3, #1
 1121 0212 DBB2     		uxtb	r3, r3
 1122 0214 1370     		strb	r3, [r2]
 228:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1123              		.loc 1 228 17 is_stmt 1 view .LVU272
 228:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1124              		.loc 1 228 20 is_stmt 0 view .LVU273
 1125 0216 0A2B     		cmp	r3, #10
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 29


 1126 0218 00F2AD80 		bhi	.L111
 233:App/Src/task.c ****                     lastCap += 1;
 1127              		.loc 1 233 17 is_stmt 1 view .LVU274
 233:App/Src/task.c ****                     lastCap += 1;
 1128              		.loc 1 233 20 is_stmt 0 view .LVU275
 1129 021c F5EEC00A 		vcmpe.f32	s1, #0
 1130 0220 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1131 0224 07DD     		ble	.L71
 233:App/Src/task.c ****                     lastCap += 1;
 1132              		.loc 1 233 29 discriminator 1 view .LVU276
 1133 0226 F7EE007A 		vmov.f32	s15, #1.0e+0
 1134 022a F4EEE70A 		vcmpe.f32	s1, s15
 1135 022e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1136 0232 00F1AD80 		bmi	.L112
 1137              	.L71:
 235:App/Src/task.c ****                     lastCap -= 1;
 1138              		.loc 1 235 24 is_stmt 1 view .LVU277
 235:App/Src/task.c ****                     lastCap -= 1;
 1139              		.loc 1 235 27 is_stmt 0 view .LVU278
 1140 0236 FFEE007A 		vmov.f32	s15, #-1.0e+0
 1141 023a F4EEE70A 		vcmpe.f32	s1, s15
 1142 023e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1143 0242 05DD     		ble	.L75
 235:App/Src/task.c ****                     lastCap -= 1;
 1144              		.loc 1 235 37 discriminator 1 view .LVU279
 1145 0244 F5EEC00A 		vcmpe.f32	s1, #0
 1146 0248 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1147 024c 00F1AA80 		bmi	.L113
 1148              	.L75:
 238:App/Src/task.c ****                 }
 1149              		.loc 1 238 21 is_stmt 1 view .LVU280
 238:App/Src/task.c ****                 }
 1150              		.loc 1 238 45 is_stmt 0 view .LVU281
 1151 0250 10EE900A 		vmov	r0, s1
 1152 0254 FFF7FEFF 		bl	__aeabi_f2d
 1153              	.LVL87:
 1154 0258 0022     		movs	r2, #0
 1155 025a 304B     		ldr	r3, .L114+64
 1156 025c FFF7FEFF 		bl	__aeabi_dmul
 1157              	.LVL88:
 1158 0260 0446     		mov	r4, r0
 1159 0262 0D46     		mov	r5, r1
 238:App/Src/task.c ****                 }
 1160              		.loc 1 238 39 view .LVU282
 1161 0264 1E4E     		ldr	r6, .L114+4
 1162 0266 3068     		ldr	r0, [r6]	@ float
 1163 0268 FFF7FEFF 		bl	__aeabi_f2d
 1164              	.LVL89:
 1165 026c 2246     		mov	r2, r4
 1166 026e 2B46     		mov	r3, r5
 1167 0270 FFF7FEFF 		bl	__aeabi_dadd
 1168              	.LVL90:
 1169 0274 FFF7FEFF 		bl	__aeabi_d2f
 1170              	.LVL91:
 238:App/Src/task.c ****                 }
 1171              		.loc 1 238 29 view .LVU283
 1172 0278 3060     		str	r0, [r6]	@ float
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 30


 1173              	.L74:
 240:App/Src/task.c ****                 rtc_set_testcap(cap);
 1174              		.loc 1 240 17 is_stmt 1 view .LVU284
 1175 027a 194B     		ldr	r3, .L114+4
 1176 027c D3ED007A 		vldr.32	s15, [r3]
 1177 0280 FCEEE77A 		vcvt.u32.f32	s15, s15
 1178 0284 06A9     		add	r1, sp, #24
 1179 0286 17EE903A 		vmov	r3, s15	@ int
 1180 028a 98B2     		uxth	r0, r3
 1181 028c FFF7FEFF 		bl	cap_list_to_uint
 1182              	.LVL92:
 241:App/Src/task.c ****                 testState = 2;
 1183              		.loc 1 241 17 view .LVU285
 1184 0290 06A8     		add	r0, sp, #24
 1185 0292 FFF7FEFF 		bl	rtc_set_testcap
 1186              	.LVL93:
 242:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1187              		.loc 1 242 17 view .LVU286
 242:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1188              		.loc 1 242 27 is_stmt 0 view .LVU287
 1189 0296 114B     		ldr	r3, .L114
 1190 0298 0222     		movs	r2, #2
 1191 029a 1A60     		str	r2, [r3]
 1192 029c CCE6     		b	.L38
 1193              	.L109:
 202:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 1194              		.loc 1 202 21 is_stmt 1 view .LVU288
 202:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 1195              		.loc 1 202 31 is_stmt 0 view .LVU289
 1196 029e 0F4B     		ldr	r3, .L114
 1197 02a0 0422     		movs	r2, #4
 1198 02a2 1A60     		str	r2, [r3]
 203:App/Src/task.c ****                     break;
 1199              		.loc 1 203 21 is_stmt 1 view .LVU290
 1200 02a4 97ED000A 		vldr.32	s0, [r7]
 1201 02a8 0220     		movs	r0, #2
 1202 02aa FFF7FEFF 		bl	rtc_freq_save
 1203              	.LVL94:
 204:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 1204              		.loc 1 204 21 view .LVU291
 1205 02ae C3E6     		b	.L38
 1206              	.L110:
 210:App/Src/task.c ****                         testState = 4;
 1207              		.loc 1 210 71 is_stmt 0 discriminator 4 view .LVU292
 1208 02b0 0D4B     		ldr	r3, .L114+12
 1209 02b2 93ED007A 		vldr.32	s14, [r3]
 210:App/Src/task.c ****                         testState = 4;
 1210              		.loc 1 210 61 discriminator 4 view .LVU293
 1211 02b6 B5EEC07A 		vcmpe.f32	s14, #0
 1212 02ba F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1213 02be 95DD     		ble	.L60
 1214              	.L59:
 211:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1215              		.loc 1 211 25 is_stmt 1 view .LVU294
 211:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1216              		.loc 1 211 35 is_stmt 0 view .LVU295
 1217 02c0 064B     		ldr	r3, .L114
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 31


 1218 02c2 0422     		movs	r2, #4
 1219 02c4 1A60     		str	r2, [r3]
 212:App/Src/task.c ****                         break;
 1220              		.loc 1 212 25 is_stmt 1 view .LVU296
 1221 02c6 084B     		ldr	r3, .L114+12
 1222 02c8 D3ED000A 		vldr.32	s1, [r3]
 1223 02cc 124B     		ldr	r3, .L114+60
 1224 02ce 93ED000A 		vldr.32	s0, [r3]
 1225 02d2 0220     		movs	r0, #2
 1226 02d4 FFF7FEFF 		bl	rtc_freq_save
 1227              	.LVL95:
 213:App/Src/task.c ****                     }
 1228              		.loc 1 213 25 view .LVU297
 1229 02d8 AEE6     		b	.L38
 1230              	.L115:
 1231 02da 00BF     		.align	2
 1232              	.L114:
 1233 02dc 00000000 		.word	.LANCHOR2
 1234 02e0 00000000 		.word	.LANCHOR3
 1235 02e4 00000000 		.word	.LC4
 1236 02e8 00000000 		.word	.LANCHOR4
 1237 02ec 00007A44 		.word	1148846080
 1238 02f0 00000000 		.word	.LANCHOR5
 1239 02f4 38000000 		.word	.LC5
 1240 02f8 00000000 		.word	g_capAdjust
 1241 02fc 00000000 		.word	.LANCHOR6
 1242 0300 00000000 		.word	.LANCHOR7
 1243 0304 54000000 		.word	.LC6
 1244 0308 00000000 		.word	.LANCHOR8
 1245 030c 6F128340 		.word	1082331759
 1246 0310 00247449 		.word	1232348160
 1247 0314 5C000000 		.word	.LC7
 1248 0318 00000000 		.word	.LANCHOR9
 1249 031c 00000440 		.word	1074003968
 1250              	.L106:
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1251              		.loc 1 216 21 view .LVU298
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1252              		.loc 1 216 34 is_stmt 0 view .LVU299
 1253 0320 A84B     		ldr	r3, .L116
 1254 0322 93ED000A 		vldr.32	s0, [r3]
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1255              		.loc 1 216 24 view .LVU300
 1256 0326 9FEDA87A 		vldr.32	s14, .L116+4
 1257 032a B4EEC70A 		vcmpe.f32	s0, s14
 1258 032e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1259 0332 06DB     		blt	.L63
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1260              		.loc 1 216 57 discriminator 1 view .LVU301
 1261 0334 B0EE007A 		vmov.f32	s14, #2.0e+0
 1262 0338 F4EEC70A 		vcmpe.f32	s1, s14
 1263 033c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1264 0340 0FDA     		bge	.L65
 1265              	.L63:
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1266              		.loc 1 216 70 discriminator 3 view .LVU302
 1267 0342 B7EE007A 		vmov.f32	s14, #1.0e+0
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 32


 1268 0346 B4EEC70A 		vcmpe.f32	s0, s14
 1269 034a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1270 034e 3FF64DAF 		bhi	.L60
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1271              		.loc 1 216 106 discriminator 4 view .LVU303
 1272 0352 B8EE007A 		vmov.f32	s14, #-2.0e+0
 1273 0356 F4EEC70A 		vcmpe.f32	s1, s14
 1274 035a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1275 035e 3FF645AF 		bhi	.L60
 1276              	.L65:
 217:App/Src/task.c ****                         testState = 0;
 1277              		.loc 1 217 25 is_stmt 1 view .LVU304
 1278 0362 9A4B     		ldr	r3, .L116+8
 1279 0364 D3ED000A 		vldr.32	s1, [r3]
 1280 0368 0120     		movs	r0, #1
 1281 036a FFF7FEFF 		bl	rtc_freq_save
 1282              	.LVL96:
 218:App/Src/task.c ****                         break;
 1283              		.loc 1 218 25 view .LVU305
 218:App/Src/task.c ****                         break;
 1284              		.loc 1 218 35 is_stmt 0 view .LVU306
 1285 036e 984B     		ldr	r3, .L116+12
 1286 0370 0022     		movs	r2, #0
 1287 0372 1A60     		str	r2, [r3]
 219:App/Src/task.c ****                     } 
 1288              		.loc 1 219 25 is_stmt 1 view .LVU307
 1289 0374 60E6     		b	.L38
 1290              	.L111:
 229:App/Src/task.c ****                     testState = 0;
 1291              		.loc 1 229 21 view .LVU308
 1292 0376 954B     		ldr	r3, .L116+8
 1293 0378 D3ED000A 		vldr.32	s1, [r3]
 1294 037c 954B     		ldr	r3, .L116+16
 1295 037e 93ED000A 		vldr.32	s0, [r3]
 1296 0382 0120     		movs	r0, #1
 1297 0384 FFF7FEFF 		bl	rtc_freq_save
 1298              	.LVL97:
 230:App/Src/task.c ****                     break;
 1299              		.loc 1 230 21 view .LVU309
 230:App/Src/task.c ****                     break;
 1300              		.loc 1 230 31 is_stmt 0 view .LVU310
 1301 0388 914B     		ldr	r3, .L116+12
 1302 038a 0022     		movs	r2, #0
 1303 038c 1A60     		str	r2, [r3]
 231:App/Src/task.c ****                 }//---------------------------------------------------------  
 1304              		.loc 1 231 21 is_stmt 1 view .LVU311
 1305 038e 53E6     		b	.L38
 1306              	.L112:
 234:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1307              		.loc 1 234 21 view .LVU312
 234:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1308              		.loc 1 234 29 is_stmt 0 view .LVU313
 1309 0390 8C4B     		ldr	r3, .L116
 1310 0392 D3ED007A 		vldr.32	s15, [r3]
 1311 0396 B7EE007A 		vmov.f32	s14, #1.0e+0
 1312 039a 77EE877A 		vadd.f32	s15, s15, s14
 1313 039e C3ED007A 		vstr.32	s15, [r3]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 33


 1314 03a2 6AE7     		b	.L74
 1315              	.L113:
 236:App/Src/task.c ****                 } else {
 1316              		.loc 1 236 21 is_stmt 1 view .LVU314
 236:App/Src/task.c ****                 } else {
 1317              		.loc 1 236 29 is_stmt 0 view .LVU315
 1318 03a4 874B     		ldr	r3, .L116
 1319 03a6 D3ED007A 		vldr.32	s15, [r3]
 1320 03aa B7EE007A 		vmov.f32	s14, #1.0e+0
 1321 03ae 77EEC77A 		vsub.f32	s15, s15, s14
 1322 03b2 C3ED007A 		vstr.32	s15, [r3]
 1323 03b6 60E7     		b	.L74
 1324              	.LVL98:
 1325              	.L50:
 243:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1326              		.loc 1 243 20 is_stmt 1 view .LVU316
 243:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1327              		.loc 1 243 37 is_stmt 0 view .LVU317
 1328 03b8 04F59664 		add	r4, r4, #1200
 243:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1329              		.loc 1 243 46 view .LVU318
 1330 03bc FFF7FEFF 		bl	HAL_GetTick
 1331              	.LVL99:
 243:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1332              		.loc 1 243 23 view .LVU319
 1333 03c0 8442     		cmp	r4, r0
 1334 03c2 BFF439AE 		bcs	.L38
 244:App/Src/task.c ****                 log_printf("device no response\n");   
 1335              		.loc 1 244 17 is_stmt 1 view .LVU320
 1336 03c6 844C     		ldr	r4, .L116+20
 1337 03c8 2046     		mov	r0, r4
 1338 03ca FFF7FEFF 		bl	UsbPrintf
 1339              	.LVL100:
 245:App/Src/task.c ****                 responseCount++;
 1340              		.loc 1 245 17 view .LVU321
 1341 03ce 2046     		mov	r0, r4
 1342 03d0 FFF7FEFF 		bl	log_printf
 1343              	.LVL101:
 246:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1344              		.loc 1 246 17 view .LVU322
 246:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1345              		.loc 1 246 30 is_stmt 0 view .LVU323
 1346 03d4 814A     		ldr	r2, .L116+24
 1347 03d6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1348 03d8 0133     		adds	r3, r3, #1
 1349 03da DBB2     		uxtb	r3, r3
 1350 03dc 1370     		strb	r3, [r2]
 247:App/Src/task.c ****                     testState = 0;
 1351              		.loc 1 247 17 is_stmt 1 view .LVU324
 247:App/Src/task.c ****                     testState = 0;
 1352              		.loc 1 247 20 is_stmt 0 view .LVU325
 1353 03de 022B     		cmp	r3, #2
 1354 03e0 0AD9     		bls	.L78
 248:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1355              		.loc 1 248 21 is_stmt 1 view .LVU326
 248:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1356              		.loc 1 248 31 is_stmt 0 view .LVU327
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 34


 1357 03e2 7B4B     		ldr	r3, .L116+12
 1358 03e4 0022     		movs	r2, #0
 1359 03e6 1A60     		str	r2, [r3]
 249:App/Src/task.c ****                 } else {
 1360              		.loc 1 249 21 is_stmt 1 view .LVU328
 1361 03e8 DFED7D0A 		vldr.32	s1, .L116+28
 1362 03ec 9FED7D0A 		vldr.32	s0, .L116+32
 1363 03f0 0120     		movs	r0, #1
 1364 03f2 FFF7FEFF 		bl	rtc_freq_save
 1365              	.LVL102:
 1366 03f6 1FE6     		b	.L38
 1367              	.L78:
 251:App/Src/task.c ****                 }
 1368              		.loc 1 251 21 view .LVU329
 251:App/Src/task.c ****                 }
 1369              		.loc 1 251 36 is_stmt 0 view .LVU330
 1370 03f8 FFF7FEFF 		bl	HAL_GetTick
 1371              	.LVL103:
 251:App/Src/task.c ****                 }
 1372              		.loc 1 251 34 view .LVU331
 1373 03fc 7A4B     		ldr	r3, .L116+36
 1374 03fe 1860     		str	r0, [r3]
 1375 0400 1AE6     		b	.L38
 1376              	.LVL104:
 1377              	.L45:
 256:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1378              		.loc 1 256 13 is_stmt 1 view .LVU332
 256:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1379              		.loc 1 256 20 is_stmt 0 view .LVU333
 1380 0402 0120     		movs	r0, #1
 1381              	.LVL105:
 256:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1382              		.loc 1 256 20 view .LVU334
 1383 0404 FFF7FEFF 		bl	temp_read_value
 1384              	.LVL106:
 257:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1385              		.loc 1 257 13 is_stmt 1 view .LVU335
 257:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1386              		.loc 1 257 16 is_stmt 0 view .LVU336
 1387 0408 DFED787A 		vldr.32	s15, .L116+40
 1388 040c B4EEE70A 		vcmpe.f32	s0, s15
 1389 0410 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1390 0414 06D5     		bpl	.L79
 257:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1391              		.loc 1 257 29 discriminator 1 view .LVU337
 1392 0416 DFED767A 		vldr.32	s15, .L116+44
 1393 041a B4EEE70A 		vcmpe.f32	s0, s15
 1394 041e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1395 0422 0DDC     		bgt	.L81
 1396              	.L79:
 257:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
 1397              		.loc 1 257 44 discriminator 3 view .LVU338
 1398 0424 DFED737A 		vldr.32	s15, .L116+48
 1399 0428 B4EEE70A 		vcmpe.f32	s0, s15
 1400 042c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1401 0430 34D5     		bpl	.L82
 257:App/Src/task.c ****             // if ((temp < -5 && temp > -15) || (temp < 65 && temp > 55)) {
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 35


 1402              		.loc 1 257 58 discriminator 4 view .LVU339
 1403 0432 DFED717A 		vldr.32	s15, .L116+52
 1404 0436 B4EEE70A 		vcmpe.f32	s0, s15
 1405 043a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1406 043e 2DDD     		ble	.L82
 1407              	.L81:
 259:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1408              		.loc 1 259 17 is_stmt 1 view .LVU340
 259:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1409              		.loc 1 259 64 is_stmt 0 view .LVU341
 1410 0440 6E4B     		ldr	r3, .L116+56
 1411 0442 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 259:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1412              		.loc 1 259 50 view .LVU342
 1413 0444 0730     		adds	r0, r0, #7
 1414 0446 4002     		lsls	r0, r0, #9
 1415              	.LVL107:
 260:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 1416              		.loc 1 260 17 is_stmt 1 view .LVU343
 1417 0448 0422     		movs	r2, #4
 1418 044a 05A9     		add	r1, sp, #20
 1419 044c 2430     		adds	r0, r0, #36
 1420              	.LVL108:
 260:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 1421              		.loc 1 260 17 is_stmt 0 view .LVU344
 1422 044e FFF7FEFF 		bl	flash_read_data
 1423              	.LVL109:
 261:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 1424              		.loc 1 261 17 is_stmt 1 view .LVU345
 1425 0452 5C4C     		ldr	r4, .L116
 1426 0454 05A9     		add	r1, sp, #20
 1427 0456 2046     		mov	r0, r4
 1428 0458 FFF7FEFF 		bl	uint8_to_float
 1429              	.LVL110:
 262:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 1430              		.loc 1 262 17 view .LVU346
 1431 045c D4ED007A 		vldr.32	s15, [r4]
 1432 0460 FCEEE77A 		vcvt.u32.f32	s15, s15
 1433 0464 06A9     		add	r1, sp, #24
 1434 0466 17EE903A 		vmov	r3, s15	@ int
 1435 046a 98B2     		uxth	r0, r3
 1436 046c FFF7FEFF 		bl	cap_list_to_uint
 1437              	.LVL111:
 263:App/Src/task.c ****                     testState++;
 1438              		.loc 1 263 17 view .LVU347
 263:App/Src/task.c ****                     testState++;
 1439              		.loc 1 263 21 is_stmt 0 view .LVU348
 1440 0470 06A8     		add	r0, sp, #24
 1441 0472 FFF7FEFF 		bl	rtc_set_testcap
 1442              	.LVL112:
 263:App/Src/task.c ****                     testState++;
 1443              		.loc 1 263 20 view .LVU349
 1444 0476 20B9     		cbnz	r0, .L85
 264:App/Src/task.c ****                 } else {
 1445              		.loc 1 264 21 is_stmt 1 view .LVU350
 264:App/Src/task.c ****                 } else {
 1446              		.loc 1 264 30 is_stmt 0 view .LVU351
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 36


 1447 0478 554A     		ldr	r2, .L116+12
 1448 047a 1368     		ldr	r3, [r2]
 1449 047c 0133     		adds	r3, r3, #1
 1450 047e 1360     		str	r3, [r2]
 1451 0480 DAE5     		b	.L38
 1452              	.L85:
 266:App/Src/task.c ****                     testState = 0;
 1453              		.loc 1 266 21 is_stmt 1 view .LVU352
 1454 0482 524B     		ldr	r3, .L116+8
 1455 0484 D3ED000A 		vldr.32	s1, [r3]
 1456 0488 4E4B     		ldr	r3, .L116
 1457 048a 93ED000A 		vldr.32	s0, [r3]
 1458 048e 0120     		movs	r0, #1
 1459 0490 FFF7FEFF 		bl	rtc_freq_save
 1460              	.LVL113:
 267:App/Src/task.c ****                 }
 1461              		.loc 1 267 21 view .LVU353
 267:App/Src/task.c ****                 }
 1462              		.loc 1 267 31 is_stmt 0 view .LVU354
 1463 0494 4E4B     		ldr	r3, .L116+12
 1464 0496 0022     		movs	r2, #0
 1465 0498 1A60     		str	r2, [r3]
 1466 049a CDE5     		b	.L38
 1467              	.LVL114:
 1468              	.L82:
 270:App/Src/task.c ****                 testState = 0;
 1469              		.loc 1 270 17 is_stmt 1 view .LVU355
 270:App/Src/task.c ****                 testState = 0;
 1470              		.loc 1 270 34 is_stmt 0 view .LVU356
 1471 049c 574B     		ldr	r3, .L116+56
 1472 049e 0222     		movs	r2, #2
 1473 04a0 1A70     		strb	r2, [r3]
 271:App/Src/task.c ****             }
 1474              		.loc 1 271 17 is_stmt 1 view .LVU357
 271:App/Src/task.c ****             }
 1475              		.loc 1 271 27 is_stmt 0 view .LVU358
 1476 04a2 4B4B     		ldr	r3, .L116+12
 1477 04a4 0022     		movs	r2, #0
 1478 04a6 1A60     		str	r2, [r3]
 1479 04a8 C6E5     		b	.L38
 1480              	.LVL115:
 1481              	.L44:
 275:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1482              		.loc 1 275 13 is_stmt 1 view .LVU359
 275:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1483              		.loc 1 275 28 is_stmt 0 view .LVU360
 1484 04aa FFF7FEFF 		bl	HAL_GetTick
 1485              	.LVL116:
 275:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1486              		.loc 1 275 26 view .LVU361
 1487 04ae 4E4B     		ldr	r3, .L116+36
 1488 04b0 1860     		str	r0, [r3]
 276:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1489              		.loc 1 276 13 is_stmt 1 view .LVU362
 276:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1490              		.loc 1 276 35 is_stmt 0 view .LVU363
 1491 04b2 534B     		ldr	r3, .L116+60
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 37


 1492 04b4 1860     		str	r0, [r3]
 277:App/Src/task.c ****             responseCount = 0;
 1493              		.loc 1 277 13 is_stmt 1 view .LVU364
 1494 04b6 5348     		ldr	r0, .L116+64
 1495 04b8 FFF7FEFF 		bl	DevicePrintf
 1496              	.LVL117:
 278:App/Src/task.c ****             testState++;
 1497              		.loc 1 278 13 view .LVU365
 278:App/Src/task.c ****             testState++;
 1498              		.loc 1 278 27 is_stmt 0 view .LVU366
 1499 04bc 474B     		ldr	r3, .L116+24
 1500 04be 0022     		movs	r2, #0
 1501 04c0 1A70     		strb	r2, [r3]
 279:App/Src/task.c ****         break;
 1502              		.loc 1 279 13 is_stmt 1 view .LVU367
 279:App/Src/task.c ****         break;
 1503              		.loc 1 279 22 is_stmt 0 view .LVU368
 1504 04c2 434A     		ldr	r2, .L116+12
 1505 04c4 1368     		ldr	r3, [r2]
 1506 04c6 0133     		adds	r3, r3, #1
 1507 04c8 1360     		str	r3, [r2]
 280:App/Src/task.c ****         case 6:
 1508              		.loc 1 280 9 is_stmt 1 view .LVU369
 1509 04ca B5E5     		b	.L38
 1510              	.LVL118:
 1511              	.L42:
 282:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1512              		.loc 1 282 13 view .LVU370
 282:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1513              		.loc 1 282 27 is_stmt 0 view .LVU371
 1514 04cc 4C4B     		ldr	r3, .L116+60
 1515 04ce 1A68     		ldr	r2, [r3]
 282:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1516              		.loc 1 282 39 view .LVU372
 1517 04d0 454B     		ldr	r3, .L116+36
 1518 04d2 1C68     		ldr	r4, [r3]
 282:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1519              		.loc 1 282 16 view .LVU373
 1520 04d4 A242     		cmp	r2, r4
 1521 04d6 4FD9     		bls	.L86
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1522              		.loc 1 283 17 is_stmt 1 view .LVU374
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1523              		.loc 1 283 34 is_stmt 0 view .LVU375
 1524 04d8 494B     		ldr	r3, .L116+60
 1525 04da D3ED016A 		vldr.32	s13, [r3, #4]
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1526              		.loc 1 283 40 view .LVU376
 1527 04de 9FED4A7A 		vldr.32	s14, .L116+68
 1528 04e2 C6EE877A 		vdiv.f32	s15, s13, s14
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1529              		.loc 1 283 58 view .LVU377
 1530 04e6 B7EE007A 		vmov.f32	s14, #1.0e+0
 1531 04ea 77EEC77A 		vsub.f32	s15, s15, s14
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1532              		.loc 1 283 63 view .LVU378
 1533 04ee 9FED477A 		vldr.32	s14, .L116+72
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 38


 1534 04f2 67EE877A 		vmul.f32	s15, s15, s14
 283:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1535              		.loc 1 283 21 view .LVU379
 1536 04f6 CDED077A 		vstr.32	s15, [sp, #28]
 284:App/Src/task.c ****                 temp = temp_read_value(1);
 1537              		.loc 1 284 17 is_stmt 1 view .LVU380
 284:App/Src/task.c ****                 temp = temp_read_value(1);
 1538              		.loc 1 284 64 is_stmt 0 view .LVU381
 1539 04fa 404B     		ldr	r3, .L116+56
 1540 04fc 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
 284:App/Src/task.c ****                 temp = temp_read_value(1);
 1541              		.loc 1 284 50 view .LVU382
 1542 04fe 0734     		adds	r4, r4, #7
 1543 0500 6402     		lsls	r4, r4, #9
 284:App/Src/task.c ****                 temp = temp_read_value(1);
 1544              		.loc 1 284 99 view .LVU383
 1545 0502 04F13A05 		add	r5, r4, #58
 1546              	.LVL119:
 285:App/Src/task.c ****                 // if (temp > 55) { address += 4;}
 1547              		.loc 1 285 17 is_stmt 1 view .LVU384
 285:App/Src/task.c ****                 // if (temp > 55) { address += 4;}
 1548              		.loc 1 285 24 is_stmt 0 view .LVU385
 1549 0506 0120     		movs	r0, #1
 1550              	.LVL120:
 285:App/Src/task.c ****                 // if (temp > 55) { address += 4;}
 1551              		.loc 1 285 24 view .LVU386
 1552 0508 FFF7FEFF 		bl	temp_read_value
 1553              	.LVL121:
 1554 050c B0EE408A 		vmov.f32	s16, s0
 1555              	.LVL122:
 287:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1556              		.loc 1 287 17 is_stmt 1 view .LVU387
 287:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1557              		.loc 1 287 20 is_stmt 0 view .LVU388
 1558 0510 DFED397A 		vldr.32	s15, .L116+52
 1559 0514 B4EEE70A 		vcmpe.f32	s0, s15
 1560 0518 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1561 051c 01DD     		ble	.L87
 287:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1562              		.loc 1 287 34 is_stmt 1 discriminator 1 view .LVU389
 287:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1563              		.loc 1 287 42 is_stmt 0 discriminator 1 view .LVU390
 1564 051e 04F13E05 		add	r5, r4, #62
 1565              	.LVL123:
 1566              	.L87:
 288:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 1567              		.loc 1 288 17 is_stmt 1 view .LVU391
 1568 0522 07A9     		add	r1, sp, #28
 1569 0524 05A8     		add	r0, sp, #20
 1570 0526 FFF7FEFF 		bl	float_to_uint8
 1571              	.LVL124:
 289:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1572              		.loc 1 289 17 view .LVU392
 1573 052a 0422     		movs	r2, #4
 1574 052c 05A9     		add	r1, sp, #20
 1575 052e 2846     		mov	r0, r5
 1576 0530 FFF7FEFF 		bl	flash_write_data
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 39


 1577              	.LVL125:
 290:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1578              		.loc 1 290 17 view .LVU393
 1579 0534 18EE100A 		vmov	r0, s16
 1580 0538 FFF7FEFF 		bl	__aeabi_f2d
 1581              	.LVL126:
 1582 053c 0446     		mov	r4, r0
 1583 053e 0D46     		mov	r5, r1
 1584              	.LVL127:
 290:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1585              		.loc 1 290 17 is_stmt 0 view .LVU394
 1586 0540 334E     		ldr	r6, .L116+76
 1587 0542 0798     		ldr	r0, [sp, #28]	@ float
 1588 0544 FFF7FEFF 		bl	__aeabi_f2d
 1589              	.LVL128:
 1590 0548 CDE90001 		strd	r0, [sp]
 1591 054c 2246     		mov	r2, r4
 1592 054e 2B46     		mov	r3, r5
 1593 0550 3046     		mov	r0, r6
 1594 0552 FFF7FEFF 		bl	UsbPrintf
 1595              	.LVL129:
 291:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 1596              		.loc 1 291 17 is_stmt 1 view .LVU395
 1597 0556 0798     		ldr	r0, [sp, #28]	@ float
 1598 0558 FFF7FEFF 		bl	__aeabi_f2d
 1599              	.LVL130:
 1600 055c CDE90001 		strd	r0, [sp]
 1601 0560 2246     		mov	r2, r4
 1602 0562 2B46     		mov	r3, r5
 1603 0564 3046     		mov	r0, r6
 1604 0566 FFF7FEFF 		bl	log_printf
 1605              	.LVL131:
 292:App/Src/task.c ****                 testState = 0;
 1606              		.loc 1 292 17 view .LVU396
 292:App/Src/task.c ****                 testState = 0;
 1607              		.loc 1 292 34 is_stmt 0 view .LVU397
 1608 056a 244B     		ldr	r3, .L116+56
 1609 056c 0222     		movs	r2, #2
 1610 056e 1A70     		strb	r2, [r3]
 293:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1611              		.loc 1 293 17 is_stmt 1 view .LVU398
 293:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1612              		.loc 1 293 27 is_stmt 0 view .LVU399
 1613 0570 174B     		ldr	r3, .L116+12
 1614 0572 0022     		movs	r2, #0
 1615 0574 1A60     		str	r2, [r3]
 1616 0576 5FE5     		b	.L38
 1617              	.LVL132:
 1618              	.L86:
 294:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1619              		.loc 1 294 20 is_stmt 1 view .LVU400
 294:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1620              		.loc 1 294 37 is_stmt 0 view .LVU401
 1621 0578 04F59664 		add	r4, r4, #1200
 294:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1622              		.loc 1 294 46 view .LVU402
 1623 057c FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 40


 1624              	.LVL133:
 294:App/Src/task.c ****                 UsbPrintf("device no response\n");             
 1625              		.loc 1 294 23 view .LVU403
 1626 0580 8442     		cmp	r4, r0
 1627 0582 BFF459AD 		bcs	.L38
 295:App/Src/task.c ****                 log_printf("device no response\n");        
 1628              		.loc 1 295 17 is_stmt 1 view .LVU404
 1629 0586 144C     		ldr	r4, .L116+20
 1630 0588 2046     		mov	r0, r4
 1631 058a FFF7FEFF 		bl	UsbPrintf
 1632              	.LVL134:
 296:App/Src/task.c ****                 responseCount++;
 1633              		.loc 1 296 17 view .LVU405
 1634 058e 2046     		mov	r0, r4
 1635 0590 FFF7FEFF 		bl	log_printf
 1636              	.LVL135:
 297:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1637              		.loc 1 297 17 view .LVU406
 297:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1638              		.loc 1 297 30 is_stmt 0 view .LVU407
 1639 0594 114A     		ldr	r2, .L116+24
 1640 0596 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1641 0598 0133     		adds	r3, r3, #1
 1642 059a DBB2     		uxtb	r3, r3
 1643 059c 1370     		strb	r3, [r2]
 298:App/Src/task.c ****                     testState = 0;
 1644              		.loc 1 298 17 is_stmt 1 view .LVU408
 298:App/Src/task.c ****                     testState = 0;
 1645              		.loc 1 298 20 is_stmt 0 view .LVU409
 1646 059e 022B     		cmp	r3, #2
 1647 05a0 0AD9     		bls	.L89
 299:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1648              		.loc 1 299 21 is_stmt 1 view .LVU410
 299:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1649              		.loc 1 299 31 is_stmt 0 view .LVU411
 1650 05a2 0B4B     		ldr	r3, .L116+12
 1651 05a4 0022     		movs	r2, #0
 1652 05a6 1A60     		str	r2, [r3]
 300:App/Src/task.c ****                 } else {
 1653              		.loc 1 300 21 is_stmt 1 view .LVU412
 1654 05a8 DFED0D0A 		vldr.32	s1, .L116+28
 1655 05ac 9FED0D0A 		vldr.32	s0, .L116+32
 1656 05b0 0120     		movs	r0, #1
 1657 05b2 FFF7FEFF 		bl	rtc_freq_save
 1658              	.LVL136:
 1659 05b6 3FE5     		b	.L38
 1660              	.L89:
 302:App/Src/task.c ****                 }
 1661              		.loc 1 302 21 view .LVU413
 302:App/Src/task.c ****                 }
 1662              		.loc 1 302 36 is_stmt 0 view .LVU414
 1663 05b8 FFF7FEFF 		bl	HAL_GetTick
 1664              	.LVL137:
 302:App/Src/task.c ****                 }
 1665              		.loc 1 302 34 view .LVU415
 1666 05bc 0A4B     		ldr	r3, .L116+36
 1667 05be 1860     		str	r0, [r3]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 41


 1668 05c0 3AE5     		b	.L38
 1669              	.L117:
 1670 05c2 00BF     		.align	2
 1671              	.L116:
 1672 05c4 00000000 		.word	.LANCHOR3
 1673 05c8 00004B44 		.word	1145765888
 1674 05cc 00000000 		.word	.LANCHOR4
 1675 05d0 00000000 		.word	.LANCHOR2
 1676 05d4 00000000 		.word	.LANCHOR9
 1677 05d8 78000000 		.word	.LC8
 1678 05dc 00000000 		.word	.LANCHOR8
 1679 05e0 00007A44 		.word	1148846080
 1680 05e4 00000000 		.word	0
 1681 05e8 00000000 		.word	.LANCHOR6
 1682 05ec 00000CC2 		.word	-1039400960
 1683 05f0 000034C2 		.word	-1036779520
 1684 05f4 0000B442 		.word	1119092736
 1685 05f8 0000A042 		.word	1117782016
 1686 05fc 00000000 		.word	g_capAdjust
 1687 0600 00000000 		.word	.LANCHOR7
 1688 0604 54000000 		.word	.LC6
 1689 0608 6F128340 		.word	1082331759
 1690 060c 00247449 		.word	1232348160
 1691 0610 8C000000 		.word	.LC9
 1692              		.cfi_endproc
 1693              	.LFE240:
 1695              		.section	.rodata.system_manage.str1.4,"aMS",%progbits,1
 1696              		.align	2
 1697              	.LC10:
 1698 0000 74656D70 		.ascii	"temp:%.1f connect OK\012\000"
 1698      3A252E31 
 1698      6620636F 
 1698      6E6E6563 
 1698      74204F4B 
 1699              		.section	.text.system_manage,"ax",%progbits
 1700              		.align	1
 1701              		.global	system_manage
 1702              		.syntax unified
 1703              		.thumb
 1704              		.thumb_func
 1706              	system_manage:
 1707              	.LFB238:
  78:App/Src/task.c ****     static uint32_t systemTick = 0;
 1708              		.loc 1 78 1 is_stmt 1 view -0
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 0
 1711              		@ frame_needed = 0, uses_anonymous_args = 0
 1712 0000 08B5     		push	{r3, lr}
 1713              	.LCFI16:
 1714              		.cfi_def_cfa_offset 8
 1715              		.cfi_offset 3, -8
 1716              		.cfi_offset 14, -4
  79:App/Src/task.c **** 
 1717              		.loc 1 79 5 view .LVU417
  81:App/Src/task.c ****     // if (systemTick % 100 == 0) {
 1718              		.loc 1 81 5 view .LVU418
  81:App/Src/task.c ****     // if (systemTick % 100 == 0) {
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 42


 1719              		.loc 1 81 15 is_stmt 0 view .LVU419
 1720 0002 224B     		ldr	r3, .L128
 1721 0004 1A68     		ldr	r2, [r3]
 1722 0006 0132     		adds	r2, r2, #1
 1723 0008 1A60     		str	r2, [r3]
  85:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1724              		.loc 1 85 5 is_stmt 1 view .LVU420
  85:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1725              		.loc 1 85 20 is_stmt 0 view .LVU421
 1726 000a 214B     		ldr	r3, .L128+4
 1727 000c A3FB0213 		umull	r1, r3, r3, r2
 1728 0010 5B09     		lsrs	r3, r3, #5
 1729 0012 6421     		movs	r1, #100
 1730 0014 01FB1323 		mls	r3, r1, r3, r2
  85:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1731              		.loc 1 85 8 view .LVU422
 1732 0018 03B3     		cbz	r3, .L124
 1733              	.L119:
  88:App/Src/task.c ****         system_manage_test_mode();
 1734              		.loc 1 88 5 is_stmt 1 view .LVU423
  88:App/Src/task.c ****         system_manage_test_mode();
 1735              		.loc 1 88 20 is_stmt 0 view .LVU424
 1736 001a 1C4B     		ldr	r3, .L128
 1737 001c 1A68     		ldr	r2, [r3]
 1738 001e 1D4B     		ldr	r3, .L128+8
 1739 0020 A3FB0213 		umull	r1, r3, r3, r2
 1740 0024 1B09     		lsrs	r3, r3, #4
 1741 0026 03EB8303 		add	r3, r3, r3, lsl #2
  88:App/Src/task.c ****         system_manage_test_mode();
 1742              		.loc 1 88 8 view .LVU425
 1743 002a B2EB830F 		cmp	r2, r3, lsl #2
 1744 002e 19D0     		beq	.L125
 1745              	.L120:
  91:App/Src/task.c ****         system_time_update();
 1746              		.loc 1 91 5 is_stmt 1 view .LVU426
  91:App/Src/task.c ****         system_time_update();
 1747              		.loc 1 91 20 is_stmt 0 view .LVU427
 1748 0030 164B     		ldr	r3, .L128
 1749 0032 1A68     		ldr	r2, [r3]
 1750 0034 164B     		ldr	r3, .L128+4
 1751 0036 A3FB0213 		umull	r1, r3, r3, r2
 1752 003a 9B09     		lsrs	r3, r3, #6
 1753 003c C821     		movs	r1, #200
 1754 003e 01FB1323 		mls	r3, r1, r3, r2
  91:App/Src/task.c ****         system_time_update();
 1755              		.loc 1 91 8 view .LVU428
 1756 0042 93B1     		cbz	r3, .L126
 1757              	.L121:
  97:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1758              		.loc 1 97 5 is_stmt 1 view .LVU429
  97:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1759              		.loc 1 97 20 is_stmt 0 view .LVU430
 1760 0044 114B     		ldr	r3, .L128
 1761 0046 1A68     		ldr	r2, [r3]
 1762 0048 134B     		ldr	r3, .L128+12
 1763 004a A3FB0213 		umull	r1, r3, r3, r2
 1764 004e 1B0A     		lsrs	r3, r3, #8
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 43


 1765 0050 4FF47A61 		mov	r1, #4000
 1766 0054 01FB1323 		mls	r3, r1, r3, r2
  97:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1767              		.loc 1 97 8 view .LVU431
 1768 0058 53B1     		cbz	r3, .L127
 1769              	.L118:
 100:App/Src/task.c **** 
 1770              		.loc 1 100 1 view .LVU432
 1771 005a 08BD     		pop	{r3, pc}
 1772              	.L124:
  86:App/Src/task.c ****     }
 1773              		.loc 1 86 9 is_stmt 1 view .LVU433
 1774 005c 0020     		movs	r0, #0
 1775 005e FFF7FEFF 		bl	rtc_freq_test
 1776              	.LVL138:
 1777 0062 DAE7     		b	.L119
 1778              	.L125:
  89:App/Src/task.c ****     }
 1779              		.loc 1 89 9 view .LVU434
 1780 0064 FFF7FEFF 		bl	system_manage_test_mode
 1781              	.LVL139:
 1782 0068 E2E7     		b	.L120
 1783              	.L126:
  92:App/Src/task.c ****     }
 1784              		.loc 1 92 9 view .LVU435
 1785 006a FFF7FEFF 		bl	system_time_update
 1786              	.LVL140:
 1787 006e E9E7     		b	.L121
 1788              	.L127:
  98:App/Src/task.c ****     }
 1789              		.loc 1 98 6 view .LVU436
  98:App/Src/task.c ****     }
 1790              		.loc 1 98 46 is_stmt 0 view .LVU437
 1791 0070 0120     		movs	r0, #1
 1792 0072 FFF7FEFF 		bl	temp_read_value
 1793              	.LVL141:
 1794 0076 10EE100A 		vmov	r0, s0
  98:App/Src/task.c ****     }
 1795              		.loc 1 98 6 view .LVU438
 1796 007a FFF7FEFF 		bl	__aeabi_f2d
 1797              	.LVL142:
 1798 007e 0246     		mov	r2, r0
 1799 0080 0B46     		mov	r3, r1
 1800 0082 0648     		ldr	r0, .L128+16
 1801 0084 FFF7FEFF 		bl	ControlPrintf
 1802              	.LVL143:
 100:App/Src/task.c **** 
 1803              		.loc 1 100 1 view .LVU439
 1804 0088 E7E7     		b	.L118
 1805              	.L129:
 1806 008a 00BF     		.align	2
 1807              	.L128:
 1808 008c 00000000 		.word	.LANCHOR10
 1809 0090 1F85EB51 		.word	1374389535
 1810 0094 CDCCCCCC 		.word	-858993459
 1811 0098 D34D6210 		.word	274877907
 1812 009c 00000000 		.word	.LC10
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 44


 1813              		.cfi_endproc
 1814              	.LFE238:
 1816              		.section	.rodata.command_freq_test.str1.4,"aMS",%progbits,1
 1817              		.align	2
 1818              	.LC11:
 1819 0000 73797374 		.ascii	"system temp:%.1f\012\000"
 1819      656D2074 
 1819      656D703A 
 1819      252E3166 
 1819      0A00
 1820 0012 0000     		.align	2
 1821              	.LC12:
 1822 0014 63686970 		.ascii	"chip:%d, temp:%.0f, \000"
 1822      3A25642C 
 1822      2074656D 
 1822      703A252E 
 1822      30662C20 
 1823              		.global	__aeabi_ddiv
 1824 0029 000000   		.align	2
 1825              	.LC13:
 1826 002c 252E3266 		.ascii	"%.2fppm\012\000"
 1826      70706D0A 
 1826      00
 1827 0035 000000   		.align	2
 1828              	.LC14:
 1829 0038 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:%.2fppm\000"
 1829      6D626572 
 1829      3A256420 
 1829      63686970 
 1829      4E616D65 
 1830              		.align	2
 1831              	.LC15:
 1832 0060 6E6F2072 		.ascii	"no response\012\000"
 1832      6573706F 
 1832      6E73650A 
 1832      00
 1833 006d 000000   		.align	2
 1834              	.LC16:
 1835 0070 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\306\265\302\312\274"
 1835      6D626572 
 1835      3A256420 
 1835      63686970 
 1835      4E616D65 
 1836 0095 C6CEDEBD 		.ascii	"\306\316\336\275\341\271\373\000"
 1836      E1B9FB00 
 1837              		.section	.text.command_freq_test,"ax",%progbits
 1838              		.align	1
 1839              		.global	command_freq_test
 1840              		.syntax unified
 1841              		.thumb
 1842              		.thumb_func
 1844              	command_freq_test:
 1845              	.LVL144:
 1846              	.LFB241:
 309:App/Src/task.c **** 
 310:App/Src/task.c **** 
 311:App/Src/task.c **** int command_freq_test(uint8_t number)
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 45


 312:App/Src/task.c **** {
 1847              		.loc 1 312 1 is_stmt 1 view -0
 1848              		.cfi_startproc
 1849              		@ args = 0, pretend = 0, frame = 8
 1850              		@ frame_needed = 0, uses_anonymous_args = 0
 1851              		.loc 1 312 1 is_stmt 0 view .LVU441
 1852 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1853              	.LCFI17:
 1854              		.cfi_def_cfa_offset 20
 1855              		.cfi_offset 4, -20
 1856              		.cfi_offset 5, -16
 1857              		.cfi_offset 6, -12
 1858              		.cfi_offset 7, -8
 1859              		.cfi_offset 14, -4
 1860 0002 85B0     		sub	sp, sp, #20
 1861              	.LCFI18:
 1862              		.cfi_def_cfa_offset 40
 313:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 1863              		.loc 1 313 5 is_stmt 1 view .LVU442
 314:App/Src/task.c ****     float temp, ppm;
 1864              		.loc 1 314 5 view .LVU443
 315:App/Src/task.c ****     uint8_t buffer;
 1865              		.loc 1 315 5 view .LVU444
 316:App/Src/task.c ****     static uint8_t testState = 0;
 1866              		.loc 1 316 5 view .LVU445
 317:App/Src/task.c ****     int result = 0;
 1867              		.loc 1 317 5 view .LVU446
 1868              	.LVL145:
 318:App/Src/task.c ****     static uint8_t okCount = 0;
 1869              		.loc 1 318 5 view .LVU447
 319:App/Src/task.c **** 
 320:App/Src/task.c ****     if (number == 0) {
 1870              		.loc 1 320 5 view .LVU448
 1871              		.loc 1 320 8 is_stmt 0 view .LVU449
 1872 0004 58B1     		cbz	r0, .L141
 1873 0006 0546     		mov	r5, r0
 321:App/Src/task.c ****         testState = 1;
 322:App/Src/task.c ****         temp = temp_read_value(1);
 323:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 324:App/Src/task.c ****         okCount = 0;
 325:App/Src/task.c ****         return 1;
 326:App/Src/task.c ****     } 
 327:App/Src/task.c ****     switch (testState) {
 1874              		.loc 1 327 5 is_stmt 1 view .LVU450
 1875 0008 594B     		ldr	r3, .L144+16
 1876 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1877 000c 022B     		cmp	r3, #2
 1878 000e 44D0     		beq	.L133
 1879 0010 032B     		cmp	r3, #3
 1880 0012 51D0     		beq	.L134
 1881 0014 012B     		cmp	r3, #1
 1882 0016 16D0     		beq	.L142
 1883 0018 0020     		movs	r0, #0
 1884              	.LVL146:
 1885              	.L130:
 328:App/Src/task.c ****         case 0: break;
 329:App/Src/task.c ****         case 1:
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 46


 330:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
 331:App/Src/task.c ****             HAL_Delay(5);
 332:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 333:App/Src/task.c ****                 temp = buffer;
 334:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 335:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 336:App/Src/task.c ****                 rtc_out_4096();
 337:App/Src/task.c ****                 testState++;
 338:App/Src/task.c ****             } else {
 339:App/Src/task.c ****                 result = -1;
 340:App/Src/task.c ****             }
 341:App/Src/task.c ****         break;
 342:App/Src/task.c ****         case 2:
 343:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 344:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 345:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 346:App/Src/task.c ****             testState++;
 347:App/Src/task.c ****         break;
 348:App/Src/task.c ****         case 3:
 349:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 351:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 352:App/Src/task.c ****                 rtc_disable_int();
 353:App/Src/task.c ****                 testState = 1;
 354:App/Src/task.c ****                 okCount++;
 355:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 356:App/Src/task.c ****                 result = 1;
 357:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 358:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 359:App/Src/task.c ****                 testState = 1;
 360:App/Src/task.c ****                 rtc_disable_int();
 361:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 362:App/Src/task.c ****                 result = -1;
 363:App/Src/task.c ****             }
 364:App/Src/task.c ****         break;
 365:App/Src/task.c ****         default:  break;
 366:App/Src/task.c ****     }
 367:App/Src/task.c ****     return result;
 368:App/Src/task.c **** }...
 1886              		.loc 1 368 1 is_stmt 0 view .LVU451
 1887 001a 05B0     		add	sp, sp, #20
 1888              	.LCFI19:
 1889              		.cfi_remember_state
 1890              		.cfi_def_cfa_offset 20
 1891              		@ sp needed
 1892 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 1893              	.LVL147:
 1894              	.L141:
 1895              	.LCFI20:
 1896              		.cfi_restore_state
 321:App/Src/task.c ****         testState = 1;
 1897              		.loc 1 321 9 is_stmt 1 view .LVU452
 321:App/Src/task.c ****         testState = 1;
 1898              		.loc 1 321 19 is_stmt 0 view .LVU453
 1899 001e 0124     		movs	r4, #1
 1900 0020 534B     		ldr	r3, .L144+16
 1901 0022 1C70     		strb	r4, [r3]
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 47


 322:App/Src/task.c ****         temp = temp_read_value(1);
 1902              		.loc 1 322 9 is_stmt 1 view .LVU454
 322:App/Src/task.c ****         temp = temp_read_value(1);
 1903              		.loc 1 322 16 is_stmt 0 view .LVU455
 1904 0024 2046     		mov	r0, r4
 1905              	.LVL148:
 322:App/Src/task.c ****         temp = temp_read_value(1);
 1906              		.loc 1 322 16 view .LVU456
 1907 0026 FFF7FEFF 		bl	temp_read_value
 1908              	.LVL149:
 1909 002a 10EE100A 		vmov	r0, s0
 1910              	.LVL150:
 323:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 1911              		.loc 1 323 9 is_stmt 1 view .LVU457
 1912 002e FFF7FEFF 		bl	__aeabi_f2d
 1913              	.LVL151:
 323:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 1914              		.loc 1 323 9 is_stmt 0 view .LVU458
 1915 0032 0246     		mov	r2, r0
 1916 0034 0B46     		mov	r3, r1
 1917 0036 4F48     		ldr	r0, .L144+20
 1918 0038 FFF7FEFF 		bl	UsbPrintf
 1919              	.LVL152:
 324:App/Src/task.c ****         okCount = 0;
 1920              		.loc 1 324 9 is_stmt 1 view .LVU459
 324:App/Src/task.c ****         okCount = 0;
 1921              		.loc 1 324 17 is_stmt 0 view .LVU460
 1922 003c 4E4B     		ldr	r3, .L144+24
 1923 003e 0022     		movs	r2, #0
 1924 0040 1A70     		strb	r2, [r3]
 325:App/Src/task.c ****         return 1;
 1925              		.loc 1 325 9 is_stmt 1 view .LVU461
 325:App/Src/task.c ****         return 1;
 1926              		.loc 1 325 16 is_stmt 0 view .LVU462
 1927 0042 2046     		mov	r0, r4
 1928 0044 E9E7     		b	.L130
 1929              	.LVL153:
 1930              	.L142:
 330:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
 1931              		.loc 1 330 13 is_stmt 1 view .LVU463
 1932 0046 0121     		movs	r1, #1
 1933 0048 FFF7FEFF 		bl	rtc_group_power
 1934              	.LVL154:
 331:App/Src/task.c ****             HAL_Delay(5);
 1935              		.loc 1 331 13 view .LVU464
 1936 004c 0520     		movs	r0, #5
 1937 004e FFF7FEFF 		bl	HAL_Delay
 1938              	.LVL155:
 332:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 1939              		.loc 1 332 13 view .LVU465
 332:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 1940              		.loc 1 332 17 is_stmt 0 view .LVU466
 1941 0052 0DF10F00 		add	r0, sp, #15
 1942 0056 FFF7FEFF 		bl	rtc_read_temp
 1943              	.LVL156:
 332:App/Src/task.c ****             if (rtc_read_temp(&buffer) == I2C_OK) {
 1944              		.loc 1 332 16 view .LVU467
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 48


 1945 005a 0028     		cmp	r0, #0
 1946 005c 7AD1     		bne	.L138
 333:App/Src/task.c ****                 temp = buffer;
 1947              		.loc 1 333 17 is_stmt 1 view .LVU468
 333:App/Src/task.c ****                 temp = buffer;
 1948              		.loc 1 333 22 is_stmt 0 view .LVU469
 1949 005e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1950 0062 07EE903A 		vmov	s15, r3	@ int
 1951 0066 F8EE677A 		vcvt.f32.u32	s15, s15
 1952              	.LVL157:
 334:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 1953              		.loc 1 334 17 is_stmt 1 view .LVU470
 334:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 1954              		.loc 1 334 20 is_stmt 0 view .LVU471
 1955 006a C82B     		cmp	r3, #200
 1956 006c 03D9     		bls	.L135
 334:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 1957              		.loc 1 334 36 is_stmt 1 discriminator 1 view .LVU472
 334:App/Src/task.c ****                 if (buffer > 200) {temp -= 256;}
 1958              		.loc 1 334 41 is_stmt 0 discriminator 1 view .LVU473
 1959 006e 9FED437A 		vldr.32	s14, .L144+28
 1960 0072 77EEC77A 		vsub.f32	s15, s15, s14
 1961              	.LVL158:
 1962              	.L135:
 335:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 1963              		.loc 1 335 17 is_stmt 1 view .LVU474
 1964 0076 17EE900A 		vmov	r0, s15
 1965 007a FFF7FEFF 		bl	__aeabi_f2d
 1966              	.LVL159:
 335:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 1967              		.loc 1 335 17 is_stmt 0 view .LVU475
 1968 007e 0246     		mov	r2, r0
 1969 0080 0B46     		mov	r3, r1
 1970 0082 2946     		mov	r1, r5
 1971 0084 3E48     		ldr	r0, .L144+32
 1972 0086 FFF7FEFF 		bl	UsbPrintf
 1973              	.LVL160:
 336:App/Src/task.c ****                 rtc_out_4096();
 1974              		.loc 1 336 17 is_stmt 1 view .LVU476
 1975 008a FFF7FEFF 		bl	rtc_out_4096
 1976              	.LVL161:
 337:App/Src/task.c ****                 testState++;
 1977              		.loc 1 337 17 view .LVU477
 337:App/Src/task.c ****                 testState++;
 1978              		.loc 1 337 26 is_stmt 0 view .LVU478
 1979 008e 384A     		ldr	r2, .L144+16
 1980 0090 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1981 0092 0133     		adds	r3, r3, #1
 1982 0094 1370     		strb	r3, [r2]
 317:App/Src/task.c ****     int result = 0;
 1983              		.loc 1 317 9 view .LVU479
 1984 0096 0020     		movs	r0, #0
 1985 0098 BFE7     		b	.L130
 1986              	.LVL162:
 1987              	.L133:
 343:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 1988              		.loc 1 343 13 is_stmt 1 view .LVU480
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 49


 343:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 1989              		.loc 1 343 28 is_stmt 0 view .LVU481
 1990 009a FFF7FEFF 		bl	HAL_GetTick
 1991              	.LVL163:
 343:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 1992              		.loc 1 343 26 view .LVU482
 1993 009e 394B     		ldr	r3, .L144+36
 1994 00a0 1860     		str	r0, [r3]
 344:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1995              		.loc 1 344 13 is_stmt 1 view .LVU483
 344:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1996              		.loc 1 344 35 is_stmt 0 view .LVU484
 1997 00a2 394B     		ldr	r3, .L144+40
 1998 00a4 1860     		str	r0, [r3]
 345:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1999              		.loc 1 345 13 is_stmt 1 view .LVU485
 2000 00a6 3948     		ldr	r0, .L144+44
 2001 00a8 FFF7FEFF 		bl	DevicePrintf
 2002              	.LVL164:
 346:App/Src/task.c ****             testState++;
 2003              		.loc 1 346 13 view .LVU486
 346:App/Src/task.c ****             testState++;
 2004              		.loc 1 346 22 is_stmt 0 view .LVU487
 2005 00ac 304A     		ldr	r2, .L144+16
 2006 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2007 00b0 0133     		adds	r3, r3, #1
 2008 00b2 1370     		strb	r3, [r2]
 347:App/Src/task.c ****         break;
 2009              		.loc 1 347 9 is_stmt 1 view .LVU488
 317:App/Src/task.c ****     int result = 0;
 2010              		.loc 1 317 9 is_stmt 0 view .LVU489
 2011 00b4 0020     		movs	r0, #0
 347:App/Src/task.c ****         break;
 2012              		.loc 1 347 9 view .LVU490
 2013 00b6 B0E7     		b	.L130
 2014              	.LVL165:
 2015              	.L134:
 349:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2016              		.loc 1 349 13 is_stmt 1 view .LVU491
 349:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2017              		.loc 1 349 27 is_stmt 0 view .LVU492
 2018 00b8 334B     		ldr	r3, .L144+40
 2019 00ba 1A68     		ldr	r2, [r3]
 349:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2020              		.loc 1 349 39 view .LVU493
 2021 00bc 314B     		ldr	r3, .L144+36
 2022 00be 1C68     		ldr	r4, [r3]
 349:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2023              		.loc 1 349 16 view .LVU494
 2024 00c0 A242     		cmp	r2, r4
 2025 00c2 2ED9     		bls	.L136
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2026              		.loc 1 350 17 is_stmt 1 view .LVU495
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2027              		.loc 1 350 34 is_stmt 0 view .LVU496
 2028 00c4 304B     		ldr	r3, .L144+40
 2029 00c6 5868     		ldr	r0, [r3, #4]	@ float
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 50


 2030              	.LVL166:
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2031              		.loc 1 350 34 view .LVU497
 2032 00c8 FFF7FEFF 		bl	__aeabi_f2d
 2033              	.LVL167:
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2034              		.loc 1 350 40 view .LVU498
 2035 00cc 24A3     		adr	r3, .L144
 2036 00ce D3E90023 		ldrd	r2, [r3]
 2037 00d2 FFF7FEFF 		bl	__aeabi_ddiv
 2038              	.LVL168:
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2039              		.loc 1 350 48 view .LVU499
 2040 00d6 0022     		movs	r2, #0
 2041 00d8 2D4B     		ldr	r3, .L144+48
 2042 00da FFF7FEFF 		bl	__aeabi_dsub
 2043              	.LVL169:
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2044              		.loc 1 350 53 view .LVU500
 2045 00de 22A3     		adr	r3, .L144+8
 2046 00e0 D3E90023 		ldrd	r2, [r3]
 2047 00e4 FFF7FEFF 		bl	__aeabi_dmul
 2048              	.LVL170:
 350:App/Src/task.c ****                 ppm = (g_lastFreq.freq / 4.096 - 1) * 1000000;
 2049              		.loc 1 350 21 view .LVU501
 2050 00e8 FFF7FEFF 		bl	__aeabi_d2f
 2051              	.LVL171:
 351:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2052              		.loc 1 351 17 is_stmt 1 view .LVU502
 2053 00ec FFF7FEFF 		bl	__aeabi_f2d
 2054              	.LVL172:
 351:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2055              		.loc 1 351 17 is_stmt 0 view .LVU503
 2056 00f0 0646     		mov	r6, r0
 2057 00f2 0F46     		mov	r7, r1
 2058 00f4 0246     		mov	r2, r0
 2059 00f6 0B46     		mov	r3, r1
 2060 00f8 2648     		ldr	r0, .L144+52
 2061 00fa FFF7FEFF 		bl	UsbPrintf
 2062              	.LVL173:
 352:App/Src/task.c ****                 rtc_disable_int();
 2063              		.loc 1 352 17 is_stmt 1 view .LVU504
 2064 00fe FFF7FEFF 		bl	rtc_disable_int
 2065              	.LVL174:
 353:App/Src/task.c ****                 testState = 1;
 2066              		.loc 1 353 17 view .LVU505
 353:App/Src/task.c ****                 testState = 1;
 2067              		.loc 1 353 27 is_stmt 0 view .LVU506
 2068 0102 0124     		movs	r4, #1
 2069 0104 1A4B     		ldr	r3, .L144+16
 2070 0106 1C70     		strb	r4, [r3]
 354:App/Src/task.c ****                 okCount++;
 2071              		.loc 1 354 17 is_stmt 1 view .LVU507
 354:App/Src/task.c ****                 okCount++;
 2072              		.loc 1 354 24 is_stmt 0 view .LVU508
 2073 0108 1B4B     		ldr	r3, .L144+24
 2074 010a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 51


 2075 010c 2144     		add	r1, r1, r4
 2076 010e C9B2     		uxtb	r1, r1
 2077 0110 1970     		strb	r1, [r3]
 355:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 2078              		.loc 1 355 17 is_stmt 1 view .LVU509
 2079 0112 CDE90067 		strd	r6, [sp]
 2080 0116 2A46     		mov	r2, r5
 2081 0118 1F48     		ldr	r0, .L144+56
 2082 011a FFF7FEFF 		bl	ControlPrintf
 2083              	.LVL175:
 356:App/Src/task.c ****                 result = 1;
 2084              		.loc 1 356 17 view .LVU510
 356:App/Src/task.c ****                 result = 1;
 2085              		.loc 1 356 24 is_stmt 0 view .LVU511
 2086 011e 2046     		mov	r0, r4
 2087 0120 7BE7     		b	.L130
 2088              	.LVL176:
 2089              	.L136:
 357:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2090              		.loc 1 357 20 is_stmt 1 view .LVU512
 357:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2091              		.loc 1 357 37 is_stmt 0 view .LVU513
 2092 0122 04F2DC54 		addw	r4, r4, #1500
 357:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2093              		.loc 1 357 46 view .LVU514
 2094 0126 FFF7FEFF 		bl	HAL_GetTick
 2095              	.LVL177:
 357:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2096              		.loc 1 357 23 view .LVU515
 2097 012a 8442     		cmp	r4, r0
 2098 012c 01D3     		bcc	.L143
 317:App/Src/task.c ****     int result = 0;
 2099              		.loc 1 317 9 view .LVU516
 2100 012e 0020     		movs	r0, #0
 2101              	.LVL178:
 317:App/Src/task.c ****     int result = 0;
 2102              		.loc 1 317 9 view .LVU517
 2103 0130 73E7     		b	.L130
 2104              	.LVL179:
 2105              	.L143:
 358:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 2106              		.loc 1 358 17 is_stmt 1 view .LVU518
 2107 0132 1A48     		ldr	r0, .L144+60
 2108 0134 FFF7FEFF 		bl	UsbPrintf
 2109              	.LVL180:
 359:App/Src/task.c ****                 testState = 1;
 2110              		.loc 1 359 17 view .LVU519
 359:App/Src/task.c ****                 testState = 1;
 2111              		.loc 1 359 27 is_stmt 0 view .LVU520
 2112 0138 0D4B     		ldr	r3, .L144+16
 2113 013a 0122     		movs	r2, #1
 2114 013c 1A70     		strb	r2, [r3]
 360:App/Src/task.c ****                 rtc_disable_int();
 2115              		.loc 1 360 17 is_stmt 1 view .LVU521
 2116 013e FFF7FEFF 		bl	rtc_disable_int
 2117              	.LVL181:
 361:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 52


 2118              		.loc 1 361 17 view .LVU522
 2119 0142 2A46     		mov	r2, r5
 2120 0144 0C4B     		ldr	r3, .L144+24
 2121 0146 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2122 0148 1548     		ldr	r0, .L144+64
 2123 014a FFF7FEFF 		bl	ControlPrintf
 2124              	.LVL182:
 362:App/Src/task.c ****                 result = -1;
 2125              		.loc 1 362 17 view .LVU523
 362:App/Src/task.c ****                 result = -1;
 2126              		.loc 1 362 24 is_stmt 0 view .LVU524
 2127 014e 4FF0FF30 		mov	r0, #-1
 2128 0152 62E7     		b	.L130
 2129              	.LVL183:
 2130              	.L138:
 339:App/Src/task.c ****                 result = -1;
 2131              		.loc 1 339 24 view .LVU525
 2132 0154 4FF0FF30 		mov	r0, #-1
 2133 0158 5FE7     		b	.L130
 2134              	.L145:
 2135 015a 00BFAFF3 		.align	3
 2135      0080
 2136              	.L144:
 2137 0160 FCA9F1D2 		.word	-755914244
 2138 0164 4D621040 		.word	1074815565
 2139 0168 00000000 		.word	0
 2140 016c 80842E41 		.word	1093567616
 2141 0170 00000000 		.word	.LANCHOR11
 2142 0174 00000000 		.word	.LC11
 2143 0178 00000000 		.word	.LANCHOR12
 2144 017c 00008043 		.word	1132462080
 2145 0180 14000000 		.word	.LC12
 2146 0184 00000000 		.word	.LANCHOR13
 2147 0188 00000000 		.word	.LANCHOR7
 2148 018c 54000000 		.word	.LC6
 2149 0190 0000F03F 		.word	1072693248
 2150 0194 2C000000 		.word	.LC13
 2151 0198 38000000 		.word	.LC14
 2152 019c 60000000 		.word	.LC15
 2153 01a0 70000000 		.word	.LC16
 2154              		.cfi_endproc
 2155              	.LFE241:
 2157              		.global	g_machineTest
 2158              		.global	g_lastFreq
 2159              		.global	g_realTime
 2160              		.section	.bss.adjustCount.6,"aw",%nobits
 2161              		.set	.LANCHOR5,. + 0
 2164              	adjustCount.6:
 2165 0000 00       		.space	1
 2166              		.section	.bss.g_lastFreq,"aw",%nobits
 2167              		.align	2
 2168              		.set	.LANCHOR7,. + 0
 2171              	g_lastFreq:
 2172 0000 00000000 		.space	8
 2172      00000000 
 2173              		.section	.bss.g_machineTest,"aw",%nobits
 2174              		.align	2
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 53


 2177              	g_machineTest:
 2178 0000 00000000 		.space	236
 2178      00000000 
 2178      00000000 
 2178      00000000 
 2178      00000000 
 2179              		.section	.bss.g_realTime,"aw",%nobits
 2180              		.align	2
 2181              		.set	.LANCHOR1,. + 0
 2184              	g_realTime:
 2185 0000 00000000 		.space	8
 2185      00000000 
 2186              		.section	.bss.lastTestTime.0,"aw",%nobits
 2187              		.align	2
 2188              		.set	.LANCHOR13,. + 0
 2191              	lastTestTime.0:
 2192 0000 00000000 		.space	4
 2193              		.section	.bss.lastTestTime.5,"aw",%nobits
 2194              		.align	2
 2195              		.set	.LANCHOR6,. + 0
 2198              	lastTestTime.5:
 2199 0000 00000000 		.space	4
 2200              		.section	.bss.lastTick.11,"aw",%nobits
 2201              		.align	2
 2202              		.set	.LANCHOR0,. + 0
 2205              	lastTick.11:
 2206 0000 00000000 		.space	4
 2207              		.section	.bss.minCap.3,"aw",%nobits
 2208              		.align	2
 2209              		.set	.LANCHOR9,. + 0
 2212              	minCap.3:
 2213 0000 00000000 		.space	4
 2214              		.section	.bss.okCount.1,"aw",%nobits
 2215              		.set	.LANCHOR12,. + 0
 2218              	okCount.1:
 2219 0000 00       		.space	1
 2220              		.section	.bss.responseCount.4,"aw",%nobits
 2221              		.set	.LANCHOR8,. + 0
 2224              	responseCount.4:
 2225 0000 00       		.space	1
 2226              		.section	.bss.systemTick.10,"aw",%nobits
 2227              		.align	2
 2228              		.set	.LANCHOR10,. + 0
 2231              	systemTick.10:
 2232 0000 00000000 		.space	4
 2233              		.section	.bss.testState.2,"aw",%nobits
 2234              		.set	.LANCHOR11,. + 0
 2237              	testState.2:
 2238 0000 00       		.space	1
 2239              		.section	.bss.testState.9,"aw",%nobits
 2240              		.align	2
 2241              		.set	.LANCHOR2,. + 0
 2244              	testState.9:
 2245 0000 00000000 		.space	4
 2246              		.section	.data.lastCap.8,"aw"
 2247              		.align	2
 2248              		.set	.LANCHOR3,. + 0
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 54


 2251              	lastCap.8:
 2252 0000 00003041 		.word	1093664768
 2253              		.section	.data.minPpm.7,"aw"
 2254              		.align	2
 2255              		.set	.LANCHOR4,. + 0
 2258              	minPpm.7:
 2259 0000 00007A44 		.word	1148846080
 2260              		.text
 2261              	.Letext0:
 2262              		.file 2 "d:\\mingw\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 2263              		.file 3 "d:\\mingw\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none
 2264              		.file 4 "Core/Inc/main.h"
 2265              		.file 5 "App/Inc/task.h"
 2266              		.file 6 "App/Inc/manager.h"
 2267              		.file 7 "Drivers/User_Driver/Inc/soft_i2c.h"
 2268              		.file 8 "Device/Inc/power.h"
 2269              		.file 9 "Device/Inc/flash.h"
 2270              		.file 10 "App/Inc/calculate.h"
 2271              		.file 11 "Device/Inc/temp.h"
 2272              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2273              		.file 13 "Device/Inc/rtc.h"
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 55


DEFINED SYMBOLS
                            *ABS*:00000000 task.c
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:20     .text.system_time_update:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:26     .text.system_time_update:00000000 system_time_update
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:185    .text.system_time_update:000000a0 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:191    .rodata.system_set_real_time.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:195    .text.system_set_real_time:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:201    .text.system_set_real_time:00000000 system_set_real_time
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:270    .text.system_set_real_time:00000044 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:276    .text.system_get_real_time:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:282    .text.system_get_real_time:00000000 system_get_real_time
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:326    .text.system_get_real_time:0000001c $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:337    .rodata.rtc_freq_save.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:349    .text.rtc_freq_save:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:355    .text.rtc_freq_save:00000000 rtc_freq_save
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:717    .text.rtc_freq_save:00000224 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:733    .rodata.rtc_freq_test.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:754    .text.rtc_freq_test:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:760    .text.rtc_freq_test:00000000 rtc_freq_test
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:814    .text.rtc_freq_test:00000026 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:820    .text.rtc_freq_test:00000032 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1233   .text.rtc_freq_test:000002dc $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1253   .text.rtc_freq_test:00000320 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1672   .text.rtc_freq_test:000005c4 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1696   .rodata.system_manage.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1700   .text.system_manage:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1706   .text.system_manage:00000000 system_manage
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1808   .text.system_manage:0000008c $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1817   .rodata.command_freq_test.str1.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1838   .text.command_freq_test:00000000 $t
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:1844   .text.command_freq_test:00000000 command_freq_test
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2137   .text.command_freq_test:00000160 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2177   .bss.g_machineTest:00000000 g_machineTest
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2171   .bss.g_lastFreq:00000000 g_lastFreq
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2184   .bss.g_realTime:00000000 g_realTime
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2164   .bss.adjustCount.6:00000000 adjustCount.6
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2165   .bss.adjustCount.6:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2167   .bss.g_lastFreq:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2174   .bss.g_machineTest:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2180   .bss.g_realTime:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2187   .bss.lastTestTime.0:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2191   .bss.lastTestTime.0:00000000 lastTestTime.0
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2194   .bss.lastTestTime.5:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2198   .bss.lastTestTime.5:00000000 lastTestTime.5
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2201   .bss.lastTick.11:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2205   .bss.lastTick.11:00000000 lastTick.11
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2208   .bss.minCap.3:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2212   .bss.minCap.3:00000000 minCap.3
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2218   .bss.okCount.1:00000000 okCount.1
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2219   .bss.okCount.1:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2224   .bss.responseCount.4:00000000 responseCount.4
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2225   .bss.responseCount.4:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2227   .bss.systemTick.10:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2231   .bss.systemTick.10:00000000 systemTick.10
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2237   .bss.testState.2:00000000 testState.2
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2238   .bss.testState.2:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2240   .bss.testState.9:00000000 $d
ARM GAS  C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s 			page 56


C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2244   .bss.testState.9:00000000 testState.9
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2247   .data.lastCap.8:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2251   .data.lastCap.8:00000000 lastCap.8
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2254   .data.minPpm.7:00000000 $d
C:\Users\84759\AppData\Local\Temp\ccnh5ISw.s:2258   .data.minPpm.7:00000000 minPpm.7

UNDEFINED SYMBOLS
HAL_GetTick
log_printf
__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_dadd
flash_read_data
uint8_to_float
temp_read_value
UsbPrintf
g_capAdjust
__aeabi_d2f
rtc_init_test_cap
cap_list_to_uint
rtc_set_testcap
DevicePrintf
float_to_uint8
flash_write_data
system_manage_test_mode
ControlPrintf
__aeabi_ddiv
rtc_group_power
HAL_Delay
rtc_read_temp
rtc_out_4096
rtc_disable_int
