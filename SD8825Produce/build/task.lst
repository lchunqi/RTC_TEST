ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.LedHeart,"ax",%progbits
  20              		.align	1
  21              		.global	LedHeart
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	LedHeart:
  27              	.LFB235:
  28              		.file 1 "App/Src/task.c"
   1:App/Src/task.c **** #include "main.h"
   2:App/Src/task.c **** #include "task.h"
   3:App/Src/task.c **** #include "manager.h"
   4:App/Src/task.c **** #include "rtc.h"
   5:App/Src/task.c **** #include "temp.h"
   6:App/Src/task.c **** #include "math.h"
   7:App/Src/task.c **** #include "power.h"
   8:App/Src/task.c **** #include "current.h"
   9:App/Src/task.c **** #include "flash.h"
  10:App/Src/task.c **** #include "calculate.h"
  11:App/Src/task.c **** 
  12:App/Src/task.c **** RealTime g_realTime = {0};
  13:App/Src/task.c **** FrequencyData g_lastFreq = {0};
  14:App/Src/task.c **** extern CapAdjust g_capAdjust;
  15:App/Src/task.c **** TestResult g_machineTest = {0};
  16:App/Src/task.c **** 
  17:App/Src/task.c **** void LedHeart(void)
  18:App/Src/task.c **** {
  29              		.loc 1 18 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  19:App/Src/task.c ****     static uint32_t ledTick = 0;
  38              		.loc 1 19 5 view .LVU1
  20:App/Src/task.c ****     if (HAL_GetTick() > ledTick + 1000) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 2


  39              		.loc 1 20 5 view .LVU2
  40              		.loc 1 20 9 is_stmt 0 view .LVU3
  41 0002 FFF7FEFF 		bl	HAL_GetTick
  42              	.LVL0:
  43              		.loc 1 20 33 view .LVU4
  44 0006 084B     		ldr	r3, .L5
  45 0008 1B68     		ldr	r3, [r3]
  46 000a 03F57A73 		add	r3, r3, #1000
  47              		.loc 1 20 8 view .LVU5
  48 000e 9842     		cmp	r0, r3
  49 0010 00D8     		bhi	.L4
  50              	.L1:
  21:App/Src/task.c ****         ledTick = HAL_GetTick();
  22:App/Src/task.c ****         HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_8);
  23:App/Src/task.c ****     }
  24:App/Src/task.c **** }
  51              		.loc 1 24 1 view .LVU6
  52 0012 08BD     		pop	{r3, pc}
  53              	.L4:
  21:App/Src/task.c ****         ledTick = HAL_GetTick();
  54              		.loc 1 21 9 is_stmt 1 view .LVU7
  21:App/Src/task.c ****         ledTick = HAL_GetTick();
  55              		.loc 1 21 19 is_stmt 0 view .LVU8
  56 0014 FFF7FEFF 		bl	HAL_GetTick
  57              	.LVL1:
  21:App/Src/task.c ****         ledTick = HAL_GetTick();
  58              		.loc 1 21 17 view .LVU9
  59 0018 034B     		ldr	r3, .L5
  60 001a 1860     		str	r0, [r3]
  22:App/Src/task.c ****     }
  61              		.loc 1 22 9 is_stmt 1 view .LVU10
  62 001c 4FF48071 		mov	r1, #256
  63 0020 0248     		ldr	r0, .L5+4
  64 0022 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  65              	.LVL2:
  66              		.loc 1 24 1 is_stmt 0 view .LVU11
  67 0026 F4E7     		b	.L1
  68              	.L6:
  69              		.align	2
  70              	.L5:
  71 0028 00000000 		.word	.LANCHOR0
  72 002c 00000240 		.word	1073872896
  73              		.cfi_endproc
  74              	.LFE235:
  76              		.section	.text.system_time_update,"ax",%progbits
  77              		.align	1
  78              		.global	system_time_update
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  83              	system_time_update:
  84              	.LFB236:
  25:App/Src/task.c **** 
  26:App/Src/task.c **** 
  27:App/Src/task.c **** void system_time_update(void)
  28:App/Src/task.c **** {
  85              		.loc 1 28 1 is_stmt 1 view -0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 3


  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89 0000 38B5     		push	{r3, r4, r5, lr}
  90              	.LCFI1:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 3, -16
  93              		.cfi_offset 4, -12
  94              		.cfi_offset 5, -8
  95              		.cfi_offset 14, -4
  29:App/Src/task.c ****     static uint32_t lastTick = 0;
  96              		.loc 1 29 5 view .LVU13
  30:App/Src/task.c **** 
  31:App/Src/task.c ****     g_realTime.tick += HAL_GetTick() - lastTick;
  97              		.loc 1 31 5 view .LVU14
  98              		.loc 1 31 24 is_stmt 0 view .LVU15
  99 0002 FFF7FEFF 		bl	HAL_GetTick
 100              	.LVL3:
 101              		.loc 1 31 38 view .LVU16
 102 0006 264D     		ldr	r5, .L15
 103 0008 2B68     		ldr	r3, [r5]
 104 000a C01A     		subs	r0, r0, r3
 105              		.loc 1 31 21 view .LVU17
 106 000c 254C     		ldr	r4, .L15+4
 107 000e E388     		ldrh	r3, [r4, #6]
 108 0010 1844     		add	r0, r0, r3
 109 0012 E080     		strh	r0, [r4, #6]	@ movhi
  32:App/Src/task.c ****     lastTick = HAL_GetTick();
 110              		.loc 1 32 5 is_stmt 1 view .LVU18
 111              		.loc 1 32 16 is_stmt 0 view .LVU19
 112 0014 FFF7FEFF 		bl	HAL_GetTick
 113              	.LVL4:
 114              		.loc 1 32 14 view .LVU20
 115 0018 2860     		str	r0, [r5]
  33:App/Src/task.c ****     if (g_realTime.tick < 1000) {
 116              		.loc 1 33 5 is_stmt 1 view .LVU21
 117              		.loc 1 33 19 is_stmt 0 view .LVU22
 118 001a E388     		ldrh	r3, [r4, #6]
 119              		.loc 1 33 8 view .LVU23
 120 001c B3F57A7F 		cmp	r3, #1000
 121 0020 3AD3     		bcc	.L7
  34:App/Src/task.c ****         return;
  35:App/Src/task.c ****     }
  36:App/Src/task.c ****     g_realTime.tick -= 1000;
 122              		.loc 1 36 5 is_stmt 1 view .LVU24
 123              		.loc 1 36 21 is_stmt 0 view .LVU25
 124 0022 A3F57A73 		sub	r3, r3, #1000
 125 0026 E380     		strh	r3, [r4, #6]	@ movhi
  37:App/Src/task.c ****     g_realTime.sec++;
 126              		.loc 1 37 5 is_stmt 1 view .LVU26
 127              		.loc 1 37 15 is_stmt 0 view .LVU27
 128 0028 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 129              		.loc 1 37 19 view .LVU28
 130 002a 0133     		adds	r3, r3, #1
 131 002c DBB2     		uxtb	r3, r3
 132 002e 6371     		strb	r3, [r4, #5]
  38:App/Src/task.c ****     if (g_realTime.sec >= 60) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 4


 133              		.loc 1 38 5 is_stmt 1 view .LVU29
 134              		.loc 1 38 8 is_stmt 0 view .LVU30
 135 0030 3B2B     		cmp	r3, #59
 136 0032 31D9     		bls	.L7
  39:App/Src/task.c ****         g_realTime.sec = 0;
 137              		.loc 1 39 9 is_stmt 1 view .LVU31
 138              		.loc 1 39 24 is_stmt 0 view .LVU32
 139 0034 0023     		movs	r3, #0
 140 0036 6371     		strb	r3, [r4, #5]
  40:App/Src/task.c ****         g_realTime.min++;
 141              		.loc 1 40 9 is_stmt 1 view .LVU33
 142              		.loc 1 40 19 is_stmt 0 view .LVU34
 143 0038 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 144              		.loc 1 40 23 view .LVU35
 145 003a 0133     		adds	r3, r3, #1
 146 003c DBB2     		uxtb	r3, r3
 147 003e 2371     		strb	r3, [r4, #4]
  41:App/Src/task.c ****         if (g_realTime.min >= 60) {
 148              		.loc 1 41 9 is_stmt 1 view .LVU36
 149              		.loc 1 41 12 is_stmt 0 view .LVU37
 150 0040 3B2B     		cmp	r3, #59
 151 0042 29D9     		bls	.L7
  42:App/Src/task.c ****             g_realTime.min = 0;
 152              		.loc 1 42 13 is_stmt 1 view .LVU38
 153              		.loc 1 42 28 is_stmt 0 view .LVU39
 154 0044 0023     		movs	r3, #0
 155 0046 2371     		strb	r3, [r4, #4]
  43:App/Src/task.c ****             g_realTime.hour++;
 156              		.loc 1 43 13 is_stmt 1 view .LVU40
 157              		.loc 1 43 23 is_stmt 0 view .LVU41
 158 0048 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 159              		.loc 1 43 28 view .LVU42
 160 004a 0133     		adds	r3, r3, #1
 161 004c DBB2     		uxtb	r3, r3
 162 004e E370     		strb	r3, [r4, #3]
  44:App/Src/task.c ****             if (g_realTime.hour >= 24) {
 163              		.loc 1 44 13 is_stmt 1 view .LVU43
 164              		.loc 1 44 16 is_stmt 0 view .LVU44
 165 0050 172B     		cmp	r3, #23
 166 0052 21D9     		bls	.L7
  45:App/Src/task.c ****                 g_realTime.hour = 0;
 167              		.loc 1 45 17 is_stmt 1 view .LVU45
 168              		.loc 1 45 33 is_stmt 0 view .LVU46
 169 0054 0022     		movs	r2, #0
 170 0056 E270     		strb	r2, [r4, #3]
  46:App/Src/task.c ****                 g_realTime.day++;
 171              		.loc 1 46 17 is_stmt 1 view .LVU47
 172              		.loc 1 46 27 is_stmt 0 view .LVU48
 173 0058 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 174              		.loc 1 46 31 view .LVU49
 175 005a 0132     		adds	r2, r2, #1
 176 005c D2B2     		uxtb	r2, r2
 177 005e A270     		strb	r2, [r4, #2]
  47:App/Src/task.c ****                 if ((g_realTime.mon == 2 && g_realTime.day >= 29) || 
 178              		.loc 1 47 17 is_stmt 1 view .LVU50
 179              		.loc 1 47 32 is_stmt 0 view .LVU51
 180 0060 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 5


 181              		.loc 1 47 20 view .LVU52
 182 0062 022B     		cmp	r3, #2
 183 0064 19D0     		beq	.L14
 184              	.L9:
 185              		.loc 1 47 67 discriminator 3 view .LVU53
 186 0066 042B     		cmp	r3, #4
 187 0068 05D0     		beq	.L11
  48:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 188              		.loc 1 48 43 view .LVU54
 189 006a 062B     		cmp	r3, #6
 190 006c 03D0     		beq	.L11
 191              		.loc 1 48 66 discriminator 2 view .LVU55
 192 006e 092B     		cmp	r3, #9
 193 0070 01D0     		beq	.L11
 194              		.loc 1 48 89 discriminator 4 view .LVU56
 195 0072 0B2B     		cmp	r3, #11
 196 0074 01D1     		bne	.L12
 197              	.L11:
 198              		.loc 1 48 114 discriminator 5 view .LVU57
 199 0076 1E2A     		cmp	r2, #30
 200 0078 01D8     		bhi	.L10
 201              	.L12:
  49:App/Src/task.c ****                     || g_realTime.day >= 32) {//不考虑闰年了，每小时会有信息校正过来
 202              		.loc 1 49 21 view .LVU58
 203 007a 1F2A     		cmp	r2, #31
 204 007c 0CD9     		bls	.L7
 205              	.L10:
  50:App/Src/task.c ****                     g_realTime.mon++;
 206              		.loc 1 50 21 is_stmt 1 view .LVU59
 207              		.loc 1 50 35 is_stmt 0 view .LVU60
 208 007e 0133     		adds	r3, r3, #1
 209 0080 DBB2     		uxtb	r3, r3
 210 0082 084A     		ldr	r2, .L15+4
 211 0084 5370     		strb	r3, [r2, #1]
  51:App/Src/task.c ****                     g_realTime.day = 1;
 212              		.loc 1 51 21 is_stmt 1 view .LVU61
 213              		.loc 1 51 36 is_stmt 0 view .LVU62
 214 0086 0121     		movs	r1, #1
 215 0088 9170     		strb	r1, [r2, #2]
  52:App/Src/task.c ****                     if (g_realTime.mon >= 13) {
 216              		.loc 1 52 21 is_stmt 1 view .LVU63
 217              		.loc 1 52 24 is_stmt 0 view .LVU64
 218 008a 0C2B     		cmp	r3, #12
 219 008c 04D9     		bls	.L7
  53:App/Src/task.c ****                         g_realTime.mon = 1;
 220              		.loc 1 53 25 is_stmt 1 view .LVU65
 221              		.loc 1 53 40 is_stmt 0 view .LVU66
 222 008e 1346     		mov	r3, r2
 223 0090 5170     		strb	r1, [r2, #1]
  54:App/Src/task.c ****                         g_realTime.year++;
 224              		.loc 1 54 25 is_stmt 1 view .LVU67
 225              		.loc 1 54 35 is_stmt 0 view .LVU68
 226 0092 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 227              		.loc 1 54 40 view .LVU69
 228 0094 0A44     		add	r2, r2, r1
 229 0096 1A70     		strb	r2, [r3]
 230              	.L7:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 6


  55:App/Src/task.c ****                     }
  56:App/Src/task.c ****                 }
  57:App/Src/task.c ****             }
  58:App/Src/task.c ****         }
  59:App/Src/task.c ****     }
  60:App/Src/task.c **** }
 231              		.loc 1 60 1 view .LVU70
 232 0098 38BD     		pop	{r3, r4, r5, pc}
 233              	.L14:
  47:App/Src/task.c ****                     ((g_realTime.mon == 4 || g_realTime.mon == 6 || g_realTime.mon == 9 || g_realTi
 234              		.loc 1 47 42 discriminator 1 view .LVU71
 235 009a 1C2A     		cmp	r2, #28
 236 009c EFD8     		bhi	.L10
 237 009e E2E7     		b	.L9
 238              	.L16:
 239              		.align	2
 240              	.L15:
 241 00a0 00000000 		.word	.LANCHOR1
 242 00a4 00000000 		.word	.LANCHOR2
 243              		.cfi_endproc
 244              	.LFE236:
 246              		.section	.rodata.system_set_real_time.str1.4,"aMS",%progbits,1
 247              		.align	2
 248              	.LC0:
 249 0000 0A636F6D 		.ascii	"\012command set time, 20%d/%d/%d %d:%d:%d\012\000"
 249      6D616E64 
 249      20736574 
 249      2074696D 
 249      652C2032 
 250              		.section	.text.system_set_real_time,"ax",%progbits
 251              		.align	1
 252              		.global	system_set_real_time
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	system_set_real_time:
 258              	.LFB237:
  61:App/Src/task.c **** 
  62:App/Src/task.c **** void system_set_real_time(RealTime time)
  63:App/Src/task.c **** {
 259              		.loc 1 63 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 8
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263 0000 70B5     		push	{r4, r5, r6, lr}
 264              	.LCFI2:
 265              		.cfi_def_cfa_offset 16
 266              		.cfi_offset 4, -16
 267              		.cfi_offset 5, -12
 268              		.cfi_offset 6, -8
 269              		.cfi_offset 14, -4
 270 0002 86B0     		sub	sp, sp, #24
 271              	.LCFI3:
 272              		.cfi_def_cfa_offset 40
 273 0004 06AB     		add	r3, sp, #24
 274 0006 03E90300 		stmdb	r3, {r0, r1}
  64:App/Src/task.c ****     g_realTime.tick = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 7


 275              		.loc 1 64 5 view .LVU73
 276              		.loc 1 64 21 is_stmt 0 view .LVU74
 277 000a 0E48     		ldr	r0, .L19
 278 000c 0023     		movs	r3, #0
 279 000e C380     		strh	r3, [r0, #6]	@ movhi
  65:App/Src/task.c ****     g_realTime.sec = time.sec;
 280              		.loc 1 65 5 is_stmt 1 view .LVU75
 281              		.loc 1 65 26 is_stmt 0 view .LVU76
 282 0010 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
 283              		.loc 1 65 20 view .LVU77
 284 0014 4671     		strb	r6, [r0, #5]
  66:App/Src/task.c ****     g_realTime.min = time.min;
 285              		.loc 1 66 5 is_stmt 1 view .LVU78
 286              		.loc 1 66 26 is_stmt 0 view .LVU79
 287 0016 9DF81450 		ldrb	r5, [sp, #20]	@ zero_extendqisi2
 288              		.loc 1 66 20 view .LVU80
 289 001a 0571     		strb	r5, [r0, #4]
  67:App/Src/task.c ****     g_realTime.hour = time.hour;
 290              		.loc 1 67 5 is_stmt 1 view .LVU81
 291              		.loc 1 67 27 is_stmt 0 view .LVU82
 292 001c 9DF81340 		ldrb	r4, [sp, #19]	@ zero_extendqisi2
 293              		.loc 1 67 21 view .LVU83
 294 0020 C470     		strb	r4, [r0, #3]
  68:App/Src/task.c ****     g_realTime.day = time.day;
 295              		.loc 1 68 5 is_stmt 1 view .LVU84
 296              		.loc 1 68 26 is_stmt 0 view .LVU85
 297 0022 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 298              		.loc 1 68 20 view .LVU86
 299 0026 8370     		strb	r3, [r0, #2]
  69:App/Src/task.c ****     g_realTime.mon = time.mon;
 300              		.loc 1 69 5 is_stmt 1 view .LVU87
 301              		.loc 1 69 26 is_stmt 0 view .LVU88
 302 0028 9DF81120 		ldrb	r2, [sp, #17]	@ zero_extendqisi2
 303              		.loc 1 69 20 view .LVU89
 304 002c 4270     		strb	r2, [r0, #1]
  70:App/Src/task.c ****     g_realTime.year = time.year;
 305              		.loc 1 70 5 is_stmt 1 view .LVU90
 306              		.loc 1 70 27 is_stmt 0 view .LVU91
 307 002e 9DF81010 		ldrb	r1, [sp, #16]	@ zero_extendqisi2
 308              		.loc 1 70 21 view .LVU92
 309 0032 0170     		strb	r1, [r0]
  71:App/Src/task.c **** 	log_printf("\ncommand set time, 20%d/%d/%d %d:%d:%d\n", 
 310              		.loc 1 71 2 is_stmt 1 view .LVU93
 311 0034 0296     		str	r6, [sp, #8]
 312 0036 0195     		str	r5, [sp, #4]
 313 0038 0094     		str	r4, [sp]
 314 003a 0348     		ldr	r0, .L19+4
 315 003c FFF7FEFF 		bl	log_printf
 316              	.LVL5:
  72:App/Src/task.c ****     g_realTime.year, g_realTime.mon, g_realTime.day, g_realTime.hour, g_realTime.min, g_realTime.se
  73:App/Src/task.c **** }
 317              		.loc 1 73 1 is_stmt 0 view .LVU94
 318 0040 06B0     		add	sp, sp, #24
 319              	.LCFI4:
 320              		.cfi_def_cfa_offset 16
 321              		@ sp needed
 322 0042 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 8


 323              	.L20:
 324              		.align	2
 325              	.L19:
 326 0044 00000000 		.word	.LANCHOR2
 327 0048 00000000 		.word	.LC0
 328              		.cfi_endproc
 329              	.LFE237:
 331              		.section	.text.system_get_real_time,"ax",%progbits
 332              		.align	1
 333              		.global	system_get_real_time
 334              		.syntax unified
 335              		.thumb
 336              		.thumb_func
 338              	system_get_real_time:
 339              	.LVL6:
 340              	.LFB238:
  74:App/Src/task.c **** 
  75:App/Src/task.c **** void system_get_real_time(RealTime* time)
  76:App/Src/task.c **** {
 341              		.loc 1 76 1 is_stmt 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		@ link register save eliminated.
  77:App/Src/task.c ****     time->sec = g_realTime.sec;
 346              		.loc 1 77 5 view .LVU96
 347              		.loc 1 77 27 is_stmt 0 view .LVU97
 348 0000 064B     		ldr	r3, .L22
 349 0002 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 350              		.loc 1 77 15 view .LVU98
 351 0004 4271     		strb	r2, [r0, #5]
  78:App/Src/task.c ****     time->min = g_realTime.min;
 352              		.loc 1 78 5 is_stmt 1 view .LVU99
 353              		.loc 1 78 27 is_stmt 0 view .LVU100
 354 0006 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 355              		.loc 1 78 15 view .LVU101
 356 0008 0271     		strb	r2, [r0, #4]
  79:App/Src/task.c ****     time->hour = g_realTime.hour;
 357              		.loc 1 79 5 is_stmt 1 view .LVU102
 358              		.loc 1 79 28 is_stmt 0 view .LVU103
 359 000a DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 360              		.loc 1 79 16 view .LVU104
 361 000c C270     		strb	r2, [r0, #3]
  80:App/Src/task.c ****     time->day = g_realTime.day;
 362              		.loc 1 80 5 is_stmt 1 view .LVU105
 363              		.loc 1 80 27 is_stmt 0 view .LVU106
 364 000e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 365              		.loc 1 80 15 view .LVU107
 366 0010 8270     		strb	r2, [r0, #2]
  81:App/Src/task.c ****     time->mon = g_realTime.mon;
 367              		.loc 1 81 5 is_stmt 1 view .LVU108
 368              		.loc 1 81 27 is_stmt 0 view .LVU109
 369 0012 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 370              		.loc 1 81 15 view .LVU110
 371 0014 4270     		strb	r2, [r0, #1]
  82:App/Src/task.c ****     time->year = g_realTime.year;
 372              		.loc 1 82 5 is_stmt 1 view .LVU111
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 9


 373              		.loc 1 82 28 is_stmt 0 view .LVU112
 374 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 375              		.loc 1 82 16 view .LVU113
 376 0018 0370     		strb	r3, [r0]
  83:App/Src/task.c **** }
 377              		.loc 1 83 1 view .LVU114
 378 001a 7047     		bx	lr
 379              	.L23:
 380              		.align	2
 381              	.L22:
 382 001c 00000000 		.word	.LANCHOR2
 383              		.cfi_endproc
 384              	.LFE238:
 386              		.global	__aeabi_f2d
 387              		.global	__aeabi_dmul
 388              		.global	__aeabi_dsub
 389              		.global	__aeabi_dcmpgt
 390              		.global	__aeabi_dcmplt
 391              		.global	__aeabi_dadd
 392              		.section	.rodata.rtc_freq_save.str1.4,"aMS",%progbits,1
 393              		.align	2
 394              	.LC1:
 395 0000 73756363 		.ascii	"success, temp:%.2f, best cap:%.2f, min ppm %.2f\012"
 395      6573732C 
 395      2074656D 
 395      703A252E 
 395      32662C20 
 396 0030 00       		.ascii	"\000"
 397 0031 000000   		.align	2
 398              	.LC2:
 399 0034 63686563 		.ascii	"check rtc temp error, temp:%.2f\012\000"
 399      6B207274 
 399      63207465 
 399      6D702065 
 399      72726F72 
 400 0055 000000   		.align	2
 401              	.LC3:
 402 0058 6572726F 		.ascii	"error and stop, temp:%.2f, best cap:%.2f, min ppm %"
 402      7220616E 
 402      64207374 
 402      6F702C20 
 402      74656D70 
 403 008b 2E32660A 		.ascii	".2f\012\000"
 403      00
 404              		.section	.text.rtc_freq_save,"ax",%progbits
 405              		.align	1
 406              		.global	rtc_freq_save
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 411              	rtc_freq_save:
 412              	.LVL7:
 413              	.LFB240:
  84:App/Src/task.c **** 
  85:App/Src/task.c **** void system_manage(void)
  86:App/Src/task.c **** {
  87:App/Src/task.c ****     static uint32_t systemTick = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 10


  88:App/Src/task.c **** 
  89:App/Src/task.c ****     systemTick++;
  90:App/Src/task.c ****     if (systemTick % 100 == 0) {
  91:App/Src/task.c ****         LedHeart();
  92:App/Src/task.c ****     }
  93:App/Src/task.c ****     if (systemTick % 100 == 0) {
  94:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
  95:App/Src/task.c ****     }
  96:App/Src/task.c ****     if (systemTick % 20 == 0) {
  97:App/Src/task.c ****         system_manage_test_mode();
  98:App/Src/task.c ****     }
  99:App/Src/task.c ****     if (systemTick % 200 == 0) {//系统本地走时
 100:App/Src/task.c ****         system_time_update();
 101:App/Src/task.c ****     }
 102:App/Src/task.c ****     if (systemTick % 4000 == 0) {
 103:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 104:App/Src/task.c ****     }
 105:App/Src/task.c **** }
 106:App/Src/task.c **** 
 107:App/Src/task.c **** 
 108:App/Src/task.c **** void rtc_freq_save(uint8_t mode,  float cap, float ppm)
 109:App/Src/task.c **** {
 414              		.loc 1 109 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 8
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              		.loc 1 109 1 is_stmt 0 view .LVU116
 419 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 420              	.LCFI5:
 421              		.cfi_def_cfa_offset 36
 422              		.cfi_offset 4, -36
 423              		.cfi_offset 5, -32
 424              		.cfi_offset 6, -28
 425              		.cfi_offset 7, -24
 426              		.cfi_offset 8, -20
 427              		.cfi_offset 9, -16
 428              		.cfi_offset 10, -12
 429              		.cfi_offset 11, -8
 430              		.cfi_offset 14, -4
 431 0004 2DED028B 		vpush.64	{d8}
 432              	.LCFI6:
 433              		.cfi_def_cfa_offset 44
 434              		.cfi_offset 80, -44
 435              		.cfi_offset 81, -40
 436 0008 87B0     		sub	sp, sp, #28
 437              	.LCFI7:
 438              		.cfi_def_cfa_offset 72
 439 000a 0446     		mov	r4, r0
 440 000c 10EE105A 		vmov	r5, s0
 441 0010 10EE90AA 		vmov	r10, s1
 110:App/Src/task.c ****     float temp, rtcTemp = 0, centerTemp;
 442              		.loc 1 110 5 is_stmt 1 view .LVU117
 443              	.LVL8:
 111:App/Src/task.c ****     uint32_t address;
 444              		.loc 1 111 5 view .LVU118
 112:App/Src/task.c ****     uint8_t buffer[4] = {0};
 445              		.loc 1 112 5 view .LVU119
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 11


 446              		.loc 1 112 13 is_stmt 0 view .LVU120
 447 0014 0023     		movs	r3, #0
 448 0016 0493     		str	r3, [sp, #16]
 113:App/Src/task.c ****     uint8_t check = 0;
 449              		.loc 1 113 5 is_stmt 1 view .LVU121
 450              	.LVL9:
 114:App/Src/task.c **** 
 115:App/Src/task.c **** 
 116:App/Src/task.c ****     address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE + TEST_DOT_TE
 451              		.loc 1 116 5 view .LVU122
 452              		.loc 1 116 52 is_stmt 0 view .LVU123
 453 0018 814B     		ldr	r3, .L42
 454 001a 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 455              		.loc 1 116 38 view .LVU124
 456 001c 0733     		adds	r3, r3, #7
 457 001e 5B02     		lsls	r3, r3, #9
 458              	.LVL10:
 117:App/Src/task.c ****     flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 459              		.loc 1 117 5 is_stmt 1 view .LVU125
 460 0020 0422     		movs	r2, #4
 461 0022 04A9     		add	r1, sp, #16
 462 0024 03F11000 		add	r0, r3, #16
 463              	.LVL11:
 464              		.loc 1 117 5 is_stmt 0 view .LVU126
 465 0028 FFF7FEFF 		bl	flash_read_data
 466              	.LVL12:
 118:App/Src/task.c ****     uint8_to_float(&centerTemp, buffer);//类型转换为float
 467              		.loc 1 118 5 is_stmt 1 view .LVU127
 468 002c 04A9     		add	r1, sp, #16
 469 002e 05A8     		add	r0, sp, #20
 470 0030 FFF7FEFF 		bl	uint8_to_float
 471              	.LVL13:
 119:App/Src/task.c ****     if (mode == CAP_ADJUST_SUCCESS) {
 472              		.loc 1 119 5 view .LVU128
 473              		.loc 1 119 8 is_stmt 0 view .LVU129
 474 0034 022C     		cmp	r4, #2
 475 0036 07D0     		beq	.L40
 476              	.LVL14:
 477              	.L25:
 120:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 121:App/Src/task.c ****         rtcTemp = g_capAdjust.temp;
 122:App/Src/task.c ****     
 123:App/Src/task.c ****         if (temp < 35 && temp > 15) {
 124:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 125:App/Src/task.c ****                 check = 1;
 126:App/Src/task.c ****             } 
 127:App/Src/task.c ****         } else {
 128:App/Src/task.c ****             if ((centerTemp - rtcTemp) * 0.5 > (25.0 - temp - 8) && (centerTemp - rtcTemp) * 0.5 < 
 129:App/Src/task.c ****                 check = 1;
 130:App/Src/task.c ****             } 
 131:App/Src/task.c ****         }
 132:App/Src/task.c ****         if (check == 1) {
 133:App/Src/task.c ****         // g_capAdjust.flag = CAP_ADJUST_SUCCESS;  等待中心温度点计算
 134:App/Src/task.c ****             g_capAdjust.cap = cap;
 135:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 136:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 137:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 12


 138:App/Src/task.c ****         } else {
 139:App/Src/task.c ****             g_capAdjust.flag = CAP_ADJUST_ERROR;
 140:App/Src/task.c ****             g_capAdjust.cap = 0;
 141:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 142:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 143:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 144:App/Src/task.c ****         }
 145:App/Src/task.c ****     } 
 146:App/Src/task.c **** 
 147:App/Src/task.c ****     if (mode == CAP_ADJUST_ERROR) {
 478              		.loc 1 147 5 is_stmt 1 view .LVU130
 479              		.loc 1 147 8 is_stmt 0 view .LVU131
 480 0038 012C     		cmp	r4, #1
 481 003a 00F0C180 		beq	.L41
 482              	.L24:
 148:App/Src/task.c ****         g_capAdjust.flag = CAP_ADJUST_ERROR;
 149:App/Src/task.c ****         g_capAdjust.cap = 0;
 150:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 151:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 152:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 153:App/Src/task.c ****     }
 154:App/Src/task.c **** }
 483              		.loc 1 154 1 view .LVU132
 484 003e 07B0     		add	sp, sp, #28
 485              	.LCFI8:
 486              		.cfi_remember_state
 487              		.cfi_def_cfa_offset 44
 488              		@ sp needed
 489 0040 BDEC028B 		vldm	sp!, {d8}
 490              	.LCFI9:
 491              		.cfi_restore 80
 492              		.cfi_restore 81
 493              		.cfi_def_cfa_offset 36
 494 0044 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 495              	.LVL15:
 496              	.L40:
 497              	.LCFI10:
 498              		.cfi_restore_state
 120:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 499              		.loc 1 120 9 is_stmt 1 view .LVU133
 120:App/Src/task.c ****         temp = temp_read_value(1);// read system temp
 500              		.loc 1 120 16 is_stmt 0 view .LVU134
 501 0048 0120     		movs	r0, #1
 502 004a FFF7FEFF 		bl	temp_read_value
 503              	.LVL16:
 504 004e B0EE408A 		vmov.f32	s16, s0
 505              	.LVL17:
 121:App/Src/task.c ****     
 506              		.loc 1 121 9 is_stmt 1 view .LVU135
 121:App/Src/task.c ****     
 507              		.loc 1 121 17 is_stmt 0 view .LVU136
 508 0052 734B     		ldr	r3, .L42
 509 0054 D3F808B0 		ldr	fp, [r3, #8]	@ float
 510              	.LVL18:
 123:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 511              		.loc 1 123 9 is_stmt 1 view .LVU137
 123:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 13


 512              		.loc 1 123 12 is_stmt 0 view .LVU138
 513 0058 DFED727A 		vldr.32	s15, .L42+4
 514 005c B4EEE70A 		vcmpe.f32	s0, s15
 515 0060 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 516 0064 40D5     		bpl	.L26
 123:App/Src/task.c ****             if ((rtcTemp * 0.5 - temp) > 70 && (rtcTemp * 0.5 - temp) < 130) {                
 517              		.loc 1 123 23 discriminator 1 view .LVU139
 518 0066 F2EE0E7A 		vmov.f32	s15, #1.5e+1
 519 006a B4EEE70A 		vcmpe.f32	s0, s15
 520 006e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 521 0072 39DD     		ble	.L26
 124:App/Src/task.c ****                 check = 1;
 522              		.loc 1 124 13 is_stmt 1 view .LVU140
 124:App/Src/task.c ****                 check = 1;
 523              		.loc 1 124 26 is_stmt 0 view .LVU141
 524 0074 5846     		mov	r0, fp	@ float
 525 0076 FFF7FEFF 		bl	__aeabi_f2d
 526              	.LVL19:
 124:App/Src/task.c ****                 check = 1;
 527              		.loc 1 124 26 view .LVU142
 528 007a 0022     		movs	r2, #0
 529 007c 6A4B     		ldr	r3, .L42+8
 530 007e FFF7FEFF 		bl	__aeabi_dmul
 531              	.LVL20:
 532 0082 0646     		mov	r6, r0
 533 0084 0F46     		mov	r7, r1
 124:App/Src/task.c ****                 check = 1;
 534              		.loc 1 124 32 view .LVU143
 535 0086 18EE100A 		vmov	r0, s16
 536 008a FFF7FEFF 		bl	__aeabi_f2d
 537              	.LVL21:
 538 008e 0246     		mov	r2, r0
 539 0090 0B46     		mov	r3, r1
 540 0092 3046     		mov	r0, r6
 541 0094 3946     		mov	r1, r7
 542 0096 FFF7FEFF 		bl	__aeabi_dsub
 543              	.LVL22:
 544 009a 0646     		mov	r6, r0
 545 009c 0F46     		mov	r7, r1
 124:App/Src/task.c ****                 check = 1;
 546              		.loc 1 124 16 view .LVU144
 547 009e 0022     		movs	r2, #0
 548 00a0 624B     		ldr	r3, .L42+12
 549 00a2 FFF7FEFF 		bl	__aeabi_dcmpgt
 550              	.LVL23:
 551 00a6 38B1     		cbz	r0, .L29
 124:App/Src/task.c ****                 check = 1;
 552              		.loc 1 124 45 discriminator 1 view .LVU145
 553 00a8 0022     		movs	r2, #0
 554 00aa 614B     		ldr	r3, .L42+16
 555 00ac 3046     		mov	r0, r6
 556 00ae 3946     		mov	r1, r7
 557 00b0 FFF7FEFF 		bl	__aeabi_dcmplt
 558              	.LVL24:
 559 00b4 0028     		cmp	r0, #0
 560 00b6 4DD1     		bne	.L31
 561              	.L29:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 14


 562              	.LVL25:
 139:App/Src/task.c ****             g_capAdjust.cap = 0;
 563              		.loc 1 139 13 is_stmt 1 view .LVU146
 139:App/Src/task.c ****             g_capAdjust.cap = 0;
 564              		.loc 1 139 30 is_stmt 0 view .LVU147
 565 00b8 594B     		ldr	r3, .L42
 566 00ba 0122     		movs	r2, #1
 567 00bc 1A70     		strb	r2, [r3]
 140:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 568              		.loc 1 140 13 is_stmt 1 view .LVU148
 140:App/Src/task.c ****             g_capAdjust.ppm = 1000;
 569              		.loc 1 140 29 is_stmt 0 view .LVU149
 570 00be 0022     		movs	r2, #0
 571 00c0 5A60     		str	r2, [r3, #4]	@ float
 141:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 572              		.loc 1 141 13 is_stmt 1 view .LVU150
 141:App/Src/task.c ****             UsbPrintf("check rtc temp error, temp:%.2f\n", rtcTemp);
 573              		.loc 1 141 29 is_stmt 0 view .LVU151
 574 00c2 5C4A     		ldr	r2, .L42+20
 575 00c4 DA60     		str	r2, [r3, #12]	@ float
 142:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 576              		.loc 1 142 13 is_stmt 1 view .LVU152
 577 00c6 5846     		mov	r0, fp	@ float
 578 00c8 FFF7FEFF 		bl	__aeabi_f2d
 579              	.LVL26:
 580 00cc 0646     		mov	r6, r0
 581 00ce 0F46     		mov	r7, r1
 582 00d0 594D     		ldr	r5, .L42+24
 583              	.LVL27:
 142:App/Src/task.c ****             log_printf("check rtc temp error, temp:%.2f\n", rtcTemp);
 584              		.loc 1 142 13 is_stmt 0 view .LVU153
 585 00d2 0246     		mov	r2, r0
 586 00d4 0B46     		mov	r3, r1
 587 00d6 2846     		mov	r0, r5
 588 00d8 FFF7FEFF 		bl	UsbPrintf
 589              	.LVL28:
 143:App/Src/task.c ****         }
 590              		.loc 1 143 13 is_stmt 1 view .LVU154
 591 00dc 3246     		mov	r2, r6
 592 00de 3B46     		mov	r3, r7
 593 00e0 2846     		mov	r0, r5
 594 00e2 FFF7FEFF 		bl	log_printf
 595              	.LVL29:
 596 00e6 A7E7     		b	.L25
 597              	.LVL30:
 598              	.L26:
 128:App/Src/task.c ****                 check = 1;
 599              		.loc 1 128 13 view .LVU155
 128:App/Src/task.c ****                 check = 1;
 600              		.loc 1 128 29 is_stmt 0 view .LVU156
 601 00e8 DDED057A 		vldr.32	s15, [sp, #20]
 602 00ec 07EE10BA 		vmov	s14, fp
 603 00f0 77EEC77A 		vsub.f32	s15, s15, s14
 604 00f4 17EE900A 		vmov	r0, s15
 605 00f8 FFF7FEFF 		bl	__aeabi_f2d
 606              	.LVL31:
 128:App/Src/task.c ****                 check = 1;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 15


 607              		.loc 1 128 40 view .LVU157
 608 00fc 0022     		movs	r2, #0
 609 00fe 4A4B     		ldr	r3, .L42+8
 610 0100 FFF7FEFF 		bl	__aeabi_dmul
 611              	.LVL32:
 612 0104 0646     		mov	r6, r0
 613 0106 0F46     		mov	r7, r1
 128:App/Src/task.c ****                 check = 1;
 614              		.loc 1 128 54 view .LVU158
 615 0108 18EE100A 		vmov	r0, s16
 616 010c FFF7FEFF 		bl	__aeabi_f2d
 617              	.LVL33:
 618 0110 0246     		mov	r2, r0
 619 0112 0B46     		mov	r3, r1
 620 0114 0020     		movs	r0, #0
 621 0116 4949     		ldr	r1, .L42+28
 622 0118 FFF7FEFF 		bl	__aeabi_dsub
 623              	.LVL34:
 624 011c 8046     		mov	r8, r0
 625 011e 8946     		mov	r9, r1
 128:App/Src/task.c ****                 check = 1;
 626              		.loc 1 128 61 view .LVU159
 627 0120 0022     		movs	r2, #0
 628 0122 474B     		ldr	r3, .L42+32
 629 0124 FFF7FEFF 		bl	__aeabi_dsub
 630              	.LVL35:
 631 0128 0246     		mov	r2, r0
 632 012a 0B46     		mov	r3, r1
 128:App/Src/task.c ****                 check = 1;
 633              		.loc 1 128 16 view .LVU160
 634 012c 3046     		mov	r0, r6
 635 012e 3946     		mov	r1, r7
 636 0130 FFF7FEFF 		bl	__aeabi_dcmpgt
 637              	.LVL36:
 638 0134 0028     		cmp	r0, #0
 639 0136 BFD0     		beq	.L29
 128:App/Src/task.c ****                 check = 1;
 640              		.loc 1 128 113 discriminator 1 view .LVU161
 641 0138 0022     		movs	r2, #0
 642 013a 414B     		ldr	r3, .L42+32
 643 013c 4046     		mov	r0, r8
 644 013e 4946     		mov	r1, r9
 645 0140 FFF7FEFF 		bl	__aeabi_dadd
 646              	.LVL37:
 647 0144 0246     		mov	r2, r0
 648 0146 0B46     		mov	r3, r1
 128:App/Src/task.c ****                 check = 1;
 649              		.loc 1 128 66 discriminator 1 view .LVU162
 650 0148 3046     		mov	r0, r6
 651 014a 3946     		mov	r1, r7
 652 014c FFF7FEFF 		bl	__aeabi_dcmplt
 653              	.LVL38:
 654 0150 0028     		cmp	r0, #0
 655 0152 B1D0     		beq	.L29
 656              	.L31:
 657              	.LVL39:
 134:App/Src/task.c ****             g_capAdjust.ppm = ppm;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 16


 658              		.loc 1 134 13 is_stmt 1 view .LVU163
 134:App/Src/task.c ****             g_capAdjust.ppm = ppm;
 659              		.loc 1 134 29 is_stmt 0 view .LVU164
 660 0154 DFF8C880 		ldr	r8, .L42
 661 0158 C8F80450 		str	r5, [r8, #4]	@ float
 135:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 662              		.loc 1 135 13 is_stmt 1 view .LVU165
 135:App/Src/task.c ****             UsbPrintf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_capA
 663              		.loc 1 135 29 is_stmt 0 view .LVU166
 664 015c C8F80CA0 		str	r10, [r8, #12]	@ float
 136:App/Src/task.c ****             log_printf("success, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_cap
 665              		.loc 1 136 13 is_stmt 1 view .LVU167
 666 0160 5846     		mov	r0, fp	@ float
 667 0162 FFF7FEFF 		bl	__aeabi_f2d
 668              	.LVL40:
 669 0166 0646     		mov	r6, r0
 670 0168 0F46     		mov	r7, r1
 671 016a DFF8E090 		ldr	r9, .L42+44
 672 016e 5046     		mov	r0, r10	@ float
 673 0170 FFF7FEFF 		bl	__aeabi_f2d
 674              	.LVL41:
 675 0174 CDE90201 		strd	r0, [sp, #8]
 676 0178 2846     		mov	r0, r5	@ float
 677 017a FFF7FEFF 		bl	__aeabi_f2d
 678              	.LVL42:
 679 017e CDE90001 		strd	r0, [sp]
 680 0182 3246     		mov	r2, r6
 681 0184 3B46     		mov	r3, r7
 682 0186 4846     		mov	r0, r9
 683 0188 FFF7FEFF 		bl	UsbPrintf
 684              	.LVL43:
 137:App/Src/task.c ****         } else {
 685              		.loc 1 137 13 view .LVU168
 137:App/Src/task.c ****         } else {
 686              		.loc 1 137 106 is_stmt 0 view .LVU169
 687 018c D8F80450 		ldr	r5, [r8, #4]	@ float
 688              	.LVL44:
 137:App/Src/task.c ****         } else {
 689              		.loc 1 137 124 view .LVU170
 690 0190 D8F80CA0 		ldr	r10, [r8, #12]	@ float
 691              	.LVL45:
 137:App/Src/task.c ****         } else {
 692              		.loc 1 137 13 view .LVU171
 693 0194 D8F80800 		ldr	r0, [r8, #8]	@ float
 694 0198 FFF7FEFF 		bl	__aeabi_f2d
 695              	.LVL46:
 696 019c 0646     		mov	r6, r0
 697 019e 0F46     		mov	r7, r1
 698 01a0 5046     		mov	r0, r10	@ float
 699 01a2 FFF7FEFF 		bl	__aeabi_f2d
 700              	.LVL47:
 701 01a6 CDE90201 		strd	r0, [sp, #8]
 702 01aa 2846     		mov	r0, r5	@ float
 703 01ac FFF7FEFF 		bl	__aeabi_f2d
 704              	.LVL48:
 705 01b0 CDE90001 		strd	r0, [sp]
 706 01b4 3246     		mov	r2, r6
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 17


 707 01b6 3B46     		mov	r3, r7
 708 01b8 4846     		mov	r0, r9
 709 01ba FFF7FEFF 		bl	log_printf
 710              	.LVL49:
 711 01be 3BE7     		b	.L25
 712              	.LVL50:
 713              	.L41:
 148:App/Src/task.c ****         g_capAdjust.cap = 0;
 714              		.loc 1 148 9 is_stmt 1 view .LVU172
 148:App/Src/task.c ****         g_capAdjust.cap = 0;
 715              		.loc 1 148 26 is_stmt 0 view .LVU173
 716 01c0 174C     		ldr	r4, .L42
 717 01c2 0123     		movs	r3, #1
 718 01c4 2370     		strb	r3, [r4]
 149:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 719              		.loc 1 149 9 is_stmt 1 view .LVU174
 149:App/Src/task.c ****         g_capAdjust.ppm = 1000;
 720              		.loc 1 149 25 is_stmt 0 view .LVU175
 721 01c6 0023     		movs	r3, #0
 722 01c8 6360     		str	r3, [r4, #4]	@ float
 150:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 723              		.loc 1 150 9 is_stmt 1 view .LVU176
 150:App/Src/task.c ****         UsbPrintf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_c
 724              		.loc 1 150 25 is_stmt 0 view .LVU177
 725 01ca 1A4B     		ldr	r3, .L42+20
 726 01cc E360     		str	r3, [r4, #12]	@ float
 151:App/Src/task.c ****         log_printf("error and stop, temp:%.2f, best cap:%.2f, min ppm %.2f\n", g_capAdjust.temp, g_
 727              		.loc 1 151 9 is_stmt 1 view .LVU178
 728 01ce A068     		ldr	r0, [r4, #8]	@ float
 729 01d0 FFF7FEFF 		bl	__aeabi_f2d
 730              	.LVL51:
 731 01d4 0246     		mov	r2, r0
 732 01d6 0B46     		mov	r3, r1
 733 01d8 1A4E     		ldr	r6, .L42+36
 734 01da 0020     		movs	r0, #0
 735 01dc 1A49     		ldr	r1, .L42+40
 736 01de CDE90201 		strd	r0, [sp, #8]
 737 01e2 0020     		movs	r0, #0
 738 01e4 0021     		movs	r1, #0
 739 01e6 CDE90001 		strd	r0, [sp]
 740 01ea 3046     		mov	r0, r6
 741 01ec FFF7FEFF 		bl	UsbPrintf
 742              	.LVL52:
 152:App/Src/task.c ****     }
 743              		.loc 1 152 9 view .LVU179
 152:App/Src/task.c ****     }
 744              		.loc 1 152 109 is_stmt 0 view .LVU180
 745 01f0 6768     		ldr	r7, [r4, #4]	@ float
 152:App/Src/task.c ****     }
 746              		.loc 1 152 127 view .LVU181
 747 01f2 D4F80C80 		ldr	r8, [r4, #12]	@ float
 152:App/Src/task.c ****     }
 748              		.loc 1 152 9 view .LVU182
 749 01f6 A068     		ldr	r0, [r4, #8]	@ float
 750 01f8 FFF7FEFF 		bl	__aeabi_f2d
 751              	.LVL53:
 752 01fc 0446     		mov	r4, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 18


 753 01fe 0D46     		mov	r5, r1
 754 0200 4046     		mov	r0, r8	@ float
 755 0202 FFF7FEFF 		bl	__aeabi_f2d
 756              	.LVL54:
 757 0206 CDE90201 		strd	r0, [sp, #8]
 758 020a 3846     		mov	r0, r7	@ float
 759 020c FFF7FEFF 		bl	__aeabi_f2d
 760              	.LVL55:
 761 0210 CDE90001 		strd	r0, [sp]
 762 0214 2246     		mov	r2, r4
 763 0216 2B46     		mov	r3, r5
 764 0218 3046     		mov	r0, r6
 765 021a FFF7FEFF 		bl	log_printf
 766              	.LVL56:
 767              		.loc 1 154 1 view .LVU183
 768 021e 0EE7     		b	.L24
 769              	.L43:
 770              		.align	2
 771              	.L42:
 772 0220 00000000 		.word	g_capAdjust
 773 0224 00000C42 		.word	1108082688
 774 0228 0000E03F 		.word	1071644672
 775 022c 00805140 		.word	1079083008
 776 0230 00406040 		.word	1080049664
 777 0234 00007A44 		.word	1148846080
 778 0238 34000000 		.word	.LC2
 779 023c 00003940 		.word	1077477376
 780 0240 00002040 		.word	1075838976
 781 0244 58000000 		.word	.LC3
 782 0248 00408F40 		.word	1083129856
 783 024c 00000000 		.word	.LC1
 784              		.cfi_endproc
 785              	.LFE240:
 787              		.section	.rodata.rtc_freq_test.str1.4,"aMS",%progbits,1
 788              		.align	2
 789              	.LC4:
 790 0000 73797374 		.ascii	"system temp:%.1f set init cap %.0f, adjust start..."
 790      656D2074 
 790      656D703A 
 790      252E3166 
 790      20736574 
 791 0033 0A00     		.ascii	"\012\000"
 792 0035 000000   		.align	2
 793              	.LC5:
 794 0038 63617020 		.ascii	"cap adjust fail, i2c error\012\000"
 794      61646A75 
 794      73742066 
 794      61696C2C 
 794      20693263 
 795              		.align	2
 796              	.LC6:
 797 0054 3A4D4541 		.ascii	":MEAS?\012\000"
 797      533F0A00 
 798              		.align	2
 799              	.LC7:
 800 005c 6361705B 		.ascii	"cap[%.1f], %fHz, %.2fppm\012\000"
 800      252E3166 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 19


 800      5D2C2025 
 800      66487A2C 
 800      20252E32 
 801              		.global	__aeabi_d2f
 802 0076 0000     		.align	2
 803              	.LC8:
 804 0078 64657669 		.ascii	"device no response\012\000"
 804      6365206E 
 804      6F207265 
 804      73706F6E 
 804      73650A00 
 805              		.align	2
 806              	.LC9:
 807 008c 63656E74 		.ascii	"center cap in %.1f : %.2fppm\012\000"
 807      65722063 
 807      61702069 
 807      6E20252E 
 807      3166203A 
 808              		.section	.text.rtc_freq_test,"ax",%progbits
 809              		.align	1
 810              		.global	rtc_freq_test
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 815              	rtc_freq_test:
 816              	.LVL57:
 817              	.LFB241:
 155:App/Src/task.c **** 
 156:App/Src/task.c **** 
 157:App/Src/task.c **** void rtc_freq_test(int mode)//调节电容测试
 158:App/Src/task.c **** {
 818              		.loc 1 158 1 is_stmt 1 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 16
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822              		.loc 1 158 1 is_stmt 0 view .LVU185
 823 0000 70B5     		push	{r4, r5, r6, lr}
 824              	.LCFI11:
 825              		.cfi_def_cfa_offset 16
 826              		.cfi_offset 4, -16
 827              		.cfi_offset 5, -12
 828              		.cfi_offset 6, -8
 829              		.cfi_offset 14, -4
 830 0002 2DED028B 		vpush.64	{d8}
 831              	.LCFI12:
 832              		.cfi_def_cfa_offset 24
 833              		.cfi_offset 80, -24
 834              		.cfi_offset 81, -20
 835 0006 88B0     		sub	sp, sp, #32
 836              	.LCFI13:
 837              		.cfi_def_cfa_offset 56
 159:App/Src/task.c ****     static int testState = 0;
 838              		.loc 1 159 5 is_stmt 1 view .LVU186
 160:App/Src/task.c ****     static uint8_t responseCount = 0;
 839              		.loc 1 160 5 view .LVU187
 161:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 840              		.loc 1 161 5 view .LVU188
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 20


 162:App/Src/task.c ****     float temp, ppm;
 841              		.loc 1 162 5 view .LVU189
 163:App/Src/task.c **** 	uint8_t cap[2] = {0};
 842              		.loc 1 163 2 view .LVU190
 843              		.loc 1 163 10 is_stmt 0 view .LVU191
 844 0008 0023     		movs	r3, #0
 845 000a ADF81830 		strh	r3, [sp, #24]	@ movhi
 164:App/Src/task.c ****     static float lastCap = 11;
 846              		.loc 1 164 5 is_stmt 1 view .LVU192
 165:App/Src/task.c ****     static float minPpm = 1000;
 847              		.loc 1 165 5 view .LVU193
 166:App/Src/task.c ****     static float minCap = 0;
 848              		.loc 1 166 5 view .LVU194
 167:App/Src/task.c ****     static uint8_t adjustCount = 0;
 849              		.loc 1 167 5 view .LVU195
 168:App/Src/task.c ****     uint32_t address;
 850              		.loc 1 168 5 view .LVU196
 169:App/Src/task.c ****     uint8_t buffer[4] = {0xff};
 851              		.loc 1 169 5 view .LVU197
 852              		.loc 1 169 13 is_stmt 0 view .LVU198
 853 000e FF23     		movs	r3, #255
 854 0010 0593     		str	r3, [sp, #20]
 170:App/Src/task.c **** 
 171:App/Src/task.c ****     if (mode == FREQ_TEST_STARTING) {
 855              		.loc 1 171 5 is_stmt 1 view .LVU199
 856              		.loc 1 171 8 is_stmt 0 view .LVU200
 857 0012 0128     		cmp	r0, #1
 858 0014 0CD0     		beq	.L114
 172:App/Src/task.c ****         testState = 1;
 173:App/Src/task.c ****         return;
 174:App/Src/task.c ****     }
 175:App/Src/task.c **** 
 176:App/Src/task.c ****     switch (testState) {
 859              		.loc 1 176 5 is_stmt 1 view .LVU201
 860 0016 BB4B     		ldr	r3, .L120
 861 0018 1B68     		ldr	r3, [r3]
 862 001a 013B     		subs	r3, r3, #1
 863 001c 052B     		cmp	r3, #5
 864 001e 0AD8     		bhi	.L44
 865 0020 DFE813F0 		tbh	[pc, r3, lsl #1]
 866              	.L49:
 867 0024 0D00     		.2byte	(.L54-.L49)/2
 868 0026 4A00     		.2byte	(.L53-.L49)/2
 869 0028 5A00     		.2byte	(.L52-.L49)/2
 870 002a CD01     		.2byte	(.L51-.L49)/2
 871 002c 2102     		.2byte	(.L50-.L49)/2
 872 002e 3202     		.2byte	(.L48-.L49)/2
 873              		.p2align 1
 874              	.L114:
 172:App/Src/task.c ****         testState = 1;
 875              		.loc 1 172 9 view .LVU202
 172:App/Src/task.c ****         testState = 1;
 876              		.loc 1 172 19 is_stmt 0 view .LVU203
 877 0030 B44B     		ldr	r3, .L120
 878 0032 0122     		movs	r2, #1
 879 0034 1A60     		str	r2, [r3]
 173:App/Src/task.c ****     }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 21


 880              		.loc 1 173 9 is_stmt 1 view .LVU204
 881              	.LVL58:
 882              	.L44:
 177:App/Src/task.c ****         case 0:  break;
 178:App/Src/task.c ****         case 1:
 179:App/Src/task.c ****             temp = temp_read_value(1);// read system temp
 180:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 181:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 182:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 183:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 184:App/Src/task.c ****                 minPpm = 1000;
 185:App/Src/task.c ****                 testState = 2;
 186:App/Src/task.c ****                 adjustCount = 1;
 187:App/Src/task.c ****             } else {
 188:App/Src/task.c ****                 UsbPrintf("cap adjust fail, i2c error\n");
 189:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 190:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 191:App/Src/task.c ****                 testState = 0;
 192:App/Src/task.c ****             }
 193:App/Src/task.c ****         break;
 194:App/Src/task.c ****         case 2:
 195:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 196:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 197:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 198:App/Src/task.c ****             responseCount = 0;
 199:App/Src/task.c ****             testState = 3;
 200:App/Src/task.c ****         break;
 201:App/Src/task.c ****         case 3:
 202:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 203:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 204:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 205:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 206:App/Src/task.c ****                     testState = 4;
 207:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 208:App/Src/task.c ****                     break;
 209:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 210:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 211:App/Src/task.c ****                         minPpm = ppm;
 212:App/Src/task.c ****                         minCap = lastCap;
 213:App/Src/task.c ****                     }
 214:App/Src/task.c ****                     if ((ppm > 0 && minPpm < 0) || (ppm < 0 && minPpm > 0)) {
 215:App/Src/task.c ****                         testState = 4;
 216:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 217:App/Src/task.c ****                         break;
 218:App/Src/task.c ****                     }
 219:App/Src/task.c ****                 } else {
 220:App/Src/task.c ****                     if ((lastCap >= SD8800_CAP_LIST_MAX && ppm >= 2) || (lastCap <= SD8800_CAP_LIST
 221:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 222:App/Src/task.c ****                         testState = 0;
 223:App/Src/task.c ****                         break;
 224:App/Src/task.c ****                     } 
 225:App/Src/task.c ****                 }
 226:App/Src/task.c ****                 if (fabs(ppm) < fabs(minPpm)) {
 227:App/Src/task.c ****                     minPpm = ppm;
 228:App/Src/task.c ****                     minCap = lastCap;
 229:App/Src/task.c ****                 }
 230:App/Src/task.c ****                 //---------------异常次数限制，避免卡死在该环节-----------------------
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 22


 231:App/Src/task.c ****                 adjustCount++;
 232:App/Src/task.c ****                 if (adjustCount > 10) { 
 233:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 234:App/Src/task.c ****                     testState = 0;
 235:App/Src/task.c ****                     break;
 236:App/Src/task.c ****                 }//---------------------------------------------------------
 237:App/Src/task.c ****                 if (0 < ppm && ppm < 1) {
 238:App/Src/task.c ****                     lastCap += 1;
 239:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 240:App/Src/task.c ****                     lastCap -= 1;
 241:App/Src/task.c ****                 } else {
 242:App/Src/task.c ****                     lastCap = lastCap + ppm * 2.5;
 243:App/Src/task.c ****                 }
 244:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);
 245:App/Src/task.c ****                 rtc_set_testcap(cap);
 246:App/Src/task.c ****                 testState = 2;
 247:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 248:App/Src/task.c ****                 UsbPrintf("device no response\n");
 249:App/Src/task.c ****                 log_printf("device no response\n");             
 250:App/Src/task.c ****                 responseCount++;
 251:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 252:App/Src/task.c ****                     testState = 0;
 253:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 254:App/Src/task.c ****                 } else {
 255:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 256:App/Src/task.c ****                 }
 257:App/Src/task.c ****             }
 258:App/Src/task.c ****         break;
 259:App/Src/task.c ****         case 4:
 260:App/Src/task.c ****             temp = temp_read_value(1);
 261:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 262:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 263:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 264:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 265:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 266:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 267:App/Src/task.c ****                     testState++;
 268:App/Src/task.c ****                 } else {
 269:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 270:App/Src/task.c ****                     testState = 0;
 271:App/Src/task.c ****                 }
 272:App/Src/task.c ****             } else {//不是-10和60度的点，调试正常退出
 273:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 274:App/Src/task.c ****                 testState = 0;
 275:App/Src/task.c ****             }
 276:App/Src/task.c ****         break;
 277:App/Src/task.c ****         case 5:
 278:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 279:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 280:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 281:App/Src/task.c ****             responseCount = 0;
 282:App/Src/task.c ****             testState++;
 283:App/Src/task.c ****         break;
 284:App/Src/task.c ****         case 6:
 285:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 286:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 287:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 23


 288:App/Src/task.c ****                 temp = temp_read_value(1);
 289:App/Src/task.c ****                 if (temp > 80) { address += 4;}
 290:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 291:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 292:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 293:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 294:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 295:App/Src/task.c ****                 testState = 0;
 296:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 297:App/Src/task.c ****                 UsbPrintf("device no response\n");
 298:App/Src/task.c ****                 log_printf("device no response\n");             
 299:App/Src/task.c ****                 responseCount++;
 300:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 301:App/Src/task.c ****                     testState = 0;
 302:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 303:App/Src/task.c ****                 } else {
 304:App/Src/task.c ****                     lastTestTime = HAL_GetTick();
 305:App/Src/task.c ****                 }
 306:App/Src/task.c ****             }
 307:App/Src/task.c ****         break;
 308:App/Src/task.c ****         default:  break;
 309:App/Src/task.c ****     }
 310:App/Src/task.c **** }
 883              		.loc 1 310 1 is_stmt 0 view .LVU205
 884 0036 08B0     		add	sp, sp, #32
 885              	.LCFI14:
 886              		.cfi_remember_state
 887              		.cfi_def_cfa_offset 24
 888              		@ sp needed
 889 0038 BDEC028B 		vldm	sp!, {d8}
 890              	.LCFI15:
 891              		.cfi_restore 80
 892              		.cfi_restore 81
 893              		.cfi_def_cfa_offset 16
 894 003c 70BD     		pop	{r4, r5, r6, pc}
 895              	.LVL59:
 896              	.L54:
 897              	.LCFI16:
 898              		.cfi_restore_state
 179:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 899              		.loc 1 179 13 is_stmt 1 view .LVU206
 179:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 900              		.loc 1 179 20 is_stmt 0 view .LVU207
 901 003e 0120     		movs	r0, #1
 902              	.LVL60:
 179:App/Src/task.c ****             lastCap = rtc_init_test_cap(temp);
 903              		.loc 1 179 20 view .LVU208
 904 0040 FFF7FEFF 		bl	temp_read_value
 905              	.LVL61:
 906 0044 10EE104A 		vmov	r4, s0
 907              	.LVL62:
 180:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 908              		.loc 1 180 13 is_stmt 1 view .LVU209
 180:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 909              		.loc 1 180 23 is_stmt 0 view .LVU210
 910 0048 FFF7FEFF 		bl	rtc_init_test_cap
 911              	.LVL63:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 24


 912 004c 07EE900A 		vmov	s15, r0	@ int
 180:App/Src/task.c ****             cap_list_to_uint(lastCap, cap);
 913              		.loc 1 180 21 view .LVU211
 914 0050 F8EE677A 		vcvt.f32.u32	s15, s15
 915 0054 AC4B     		ldr	r3, .L120+4
 916 0056 C3ED007A 		vstr.32	s15, [r3]
 181:App/Src/task.c ****             if (rtc_set_testcap(cap) == I2C_OK) {
 917              		.loc 1 181 13 is_stmt 1 view .LVU212
 918 005a 06A9     		add	r1, sp, #24
 919 005c FFF7FEFF 		bl	cap_list_to_uint
 920              	.LVL64:
 182:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 921              		.loc 1 182 13 view .LVU213
 182:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 922              		.loc 1 182 17 is_stmt 0 view .LVU214
 923 0060 06A8     		add	r0, sp, #24
 924 0062 FFF7FEFF 		bl	rtc_set_testcap
 925              	.LVL65:
 182:App/Src/task.c ****                 UsbPrintf("system temp:%.1f set init cap %.0f, adjust start...\n", temp, lastCap);
 926              		.loc 1 182 16 view .LVU215
 927 0066 C8B9     		cbnz	r0, .L55
 183:App/Src/task.c ****                 minPpm = 1000;
 928              		.loc 1 183 17 is_stmt 1 view .LVU216
 929 0068 2046     		mov	r0, r4	@ float
 930 006a FFF7FEFF 		bl	__aeabi_f2d
 931              	.LVL66:
 932 006e 0446     		mov	r4, r0
 933              	.LVL67:
 183:App/Src/task.c ****                 minPpm = 1000;
 934              		.loc 1 183 17 is_stmt 0 view .LVU217
 935 0070 0D46     		mov	r5, r1
 936 0072 A54B     		ldr	r3, .L120+4
 937 0074 1868     		ldr	r0, [r3]	@ float
 938 0076 FFF7FEFF 		bl	__aeabi_f2d
 939              	.LVL68:
 940 007a CDE90001 		strd	r0, [sp]
 941 007e 2246     		mov	r2, r4
 942 0080 2B46     		mov	r3, r5
 943 0082 A248     		ldr	r0, .L120+8
 944 0084 FFF7FEFF 		bl	UsbPrintf
 945              	.LVL69:
 184:App/Src/task.c ****                 testState = 2;
 946              		.loc 1 184 17 is_stmt 1 view .LVU218
 184:App/Src/task.c ****                 testState = 2;
 947              		.loc 1 184 24 is_stmt 0 view .LVU219
 948 0088 A14B     		ldr	r3, .L120+12
 949 008a A24A     		ldr	r2, .L120+16
 950 008c 1A60     		str	r2, [r3]	@ float
 185:App/Src/task.c ****                 adjustCount = 1;
 951              		.loc 1 185 17 is_stmt 1 view .LVU220
 185:App/Src/task.c ****                 adjustCount = 1;
 952              		.loc 1 185 27 is_stmt 0 view .LVU221
 953 008e 9D4B     		ldr	r3, .L120
 954 0090 0222     		movs	r2, #2
 955 0092 1A60     		str	r2, [r3]
 186:App/Src/task.c ****             } else {
 956              		.loc 1 186 17 is_stmt 1 view .LVU222
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 25


 186:App/Src/task.c ****             } else {
 957              		.loc 1 186 29 is_stmt 0 view .LVU223
 958 0094 A04B     		ldr	r3, .L120+20
 959 0096 0122     		movs	r2, #1
 960 0098 1A70     		strb	r2, [r3]
 961 009a CCE7     		b	.L44
 962              	.LVL70:
 963              	.L55:
 188:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 964              		.loc 1 188 17 is_stmt 1 view .LVU224
 965 009c 9F4C     		ldr	r4, .L120+24
 966              	.LVL71:
 188:App/Src/task.c ****                 log_printf("cap adjust fail, i2c error\n");
 967              		.loc 1 188 17 is_stmt 0 view .LVU225
 968 009e 2046     		mov	r0, r4
 969 00a0 FFF7FEFF 		bl	UsbPrintf
 970              	.LVL72:
 189:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_ERROR;
 971              		.loc 1 189 17 is_stmt 1 view .LVU226
 972 00a4 2046     		mov	r0, r4
 973 00a6 FFF7FEFF 		bl	log_printf
 974              	.LVL73:
 190:App/Src/task.c ****                 testState = 0;
 975              		.loc 1 190 17 view .LVU227
 190:App/Src/task.c ****                 testState = 0;
 976              		.loc 1 190 34 is_stmt 0 view .LVU228
 977 00aa 9D4B     		ldr	r3, .L120+28
 978 00ac 0122     		movs	r2, #1
 979 00ae 1A70     		strb	r2, [r3]
 191:App/Src/task.c ****             }
 980              		.loc 1 191 17 is_stmt 1 view .LVU229
 191:App/Src/task.c ****             }
 981              		.loc 1 191 27 is_stmt 0 view .LVU230
 982 00b0 944B     		ldr	r3, .L120
 983 00b2 0022     		movs	r2, #0
 984 00b4 1A60     		str	r2, [r3]
 985 00b6 BEE7     		b	.L44
 986              	.LVL74:
 987              	.L53:
 195:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 988              		.loc 1 195 13 is_stmt 1 view .LVU231
 195:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 989              		.loc 1 195 28 is_stmt 0 view .LVU232
 990 00b8 FFF7FEFF 		bl	HAL_GetTick
 991              	.LVL75:
 195:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 992              		.loc 1 195 26 view .LVU233
 993 00bc 994B     		ldr	r3, .L120+32
 994 00be 1860     		str	r0, [r3]
 196:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 995              		.loc 1 196 13 is_stmt 1 view .LVU234
 196:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 996              		.loc 1 196 35 is_stmt 0 view .LVU235
 997 00c0 994B     		ldr	r3, .L120+36
 998 00c2 1860     		str	r0, [r3]
 197:App/Src/task.c ****             responseCount = 0;
 999              		.loc 1 197 13 is_stmt 1 view .LVU236
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 26


 1000 00c4 9948     		ldr	r0, .L120+40
 1001 00c6 FFF7FEFF 		bl	DevicePrintf
 1002              	.LVL76:
 198:App/Src/task.c ****             testState = 3;
 1003              		.loc 1 198 13 view .LVU237
 198:App/Src/task.c ****             testState = 3;
 1004              		.loc 1 198 27 is_stmt 0 view .LVU238
 1005 00ca 994B     		ldr	r3, .L120+44
 1006 00cc 0022     		movs	r2, #0
 1007 00ce 1A70     		strb	r2, [r3]
 199:App/Src/task.c ****         break;
 1008              		.loc 1 199 13 is_stmt 1 view .LVU239
 199:App/Src/task.c ****         break;
 1009              		.loc 1 199 23 is_stmt 0 view .LVU240
 1010 00d0 8C4B     		ldr	r3, .L120
 1011 00d2 0322     		movs	r2, #3
 1012 00d4 1A60     		str	r2, [r3]
 200:App/Src/task.c ****         case 3:
 1013              		.loc 1 200 9 is_stmt 1 view .LVU241
 1014 00d6 AEE7     		b	.L44
 1015              	.LVL77:
 1016              	.L52:
 202:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1017              		.loc 1 202 13 view .LVU242
 202:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1018              		.loc 1 202 27 is_stmt 0 view .LVU243
 1019 00d8 934B     		ldr	r3, .L120+36
 1020 00da 1A68     		ldr	r2, [r3]
 202:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1021              		.loc 1 202 39 view .LVU244
 1022 00dc 914B     		ldr	r3, .L120+32
 1023 00de 1C68     		ldr	r4, [r3]
 202:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1024              		.loc 1 202 16 view .LVU245
 1025 00e0 A242     		cmp	r2, r4
 1026 00e2 40F24781 		bls	.L56
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1027              		.loc 1 203 17 is_stmt 1 view .LVU246
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1028              		.loc 1 203 34 is_stmt 0 view .LVU247
 1029 00e6 904B     		ldr	r3, .L120+36
 1030 00e8 D3ED018A 		vldr.32	s17, [r3, #4]
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1031              		.loc 1 203 40 view .LVU248
 1032 00ec 9FED918A 		vldr.32	s16, .L120+48
 1033 00f0 28EE888A 		vmul.f32	s16, s17, s16
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1034              		.loc 1 203 58 view .LVU249
 1035 00f4 F7EE007A 		vmov.f32	s15, #1.0e+0
 1036 00f8 38EE678A 		vsub.f32	s16, s16, s15
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1037              		.loc 1 203 63 view .LVU250
 1038 00fc DFED8E7A 		vldr.32	s15, .L120+52
 1039 0100 28EE278A 		vmul.f32	s16, s16, s15
 203:App/Src/task.c ****                 UsbPrintf("cap[%.1f], %fHz, %.2fppm\n", lastCap, g_lastFreq.freq, ppm);
 1040              		.loc 1 203 21 view .LVU251
 1041 0104 8DED078A 		vstr.32	s16, [sp, #28]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 27


 204:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1042              		.loc 1 204 17 is_stmt 1 view .LVU252
 1043 0108 7F4B     		ldr	r3, .L120+4
 1044 010a 1868     		ldr	r0, [r3]	@ float
 1045              	.LVL78:
 204:App/Src/task.c ****                 if (fabs(ppm) <= 0.5) {
 1046              		.loc 1 204 17 is_stmt 0 view .LVU253
 1047 010c FFF7FEFF 		bl	__aeabi_f2d
 1048              	.LVL79:
 1049 0110 0446     		mov	r4, r0
 1050 0112 0D46     		mov	r5, r1
 1051 0114 18EE100A 		vmov	r0, s16
 1052 0118 FFF7FEFF 		bl	__aeabi_f2d
 1053              	.LVL80:
 1054 011c CDE90201 		strd	r0, [sp, #8]
 1055 0120 18EE900A 		vmov	r0, s17
 1056 0124 FFF7FEFF 		bl	__aeabi_f2d
 1057              	.LVL81:
 1058 0128 CDE90001 		strd	r0, [sp]
 1059 012c 2246     		mov	r2, r4
 1060 012e 2B46     		mov	r3, r5
 1061 0130 8248     		ldr	r0, .L120+56
 1062 0132 FFF7FEFF 		bl	UsbPrintf
 1063              	.LVL82:
 205:App/Src/task.c ****                     testState = 4;
 1064              		.loc 1 205 17 is_stmt 1 view .LVU254
 205:App/Src/task.c ****                     testState = 4;
 1065              		.loc 1 205 21 is_stmt 0 view .LVU255
 1066 0136 DDED070A 		vldr.32	s1, [sp, #28]
 1067 013a F0EEE07A 		vabs.f32	s15, s1
 205:App/Src/task.c ****                     testState = 4;
 1068              		.loc 1 205 20 view .LVU256
 1069 013e B6EE007A 		vmov.f32	s14, #5.0e-1
 1070 0142 F4EEC77A 		vcmpe.f32	s15, s14
 1071 0146 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1072 014a 40F28380 		bls	.L115
 209:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1073              		.loc 1 209 24 is_stmt 1 view .LVU257
 209:App/Src/task.c ****                     if (fabs(ppm) < fabs(minPpm)) {
 1074              		.loc 1 209 27 is_stmt 0 view .LVU258
 1075 014e B0EE087A 		vmov.f32	s14, #3.0e+0
 1076 0152 F4EEC77A 		vcmpe.f32	s15, s14
 1077 0156 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1078 015a 40F19A80 		bpl	.L112
 210:App/Src/task.c ****                         minPpm = ppm;
 1079              		.loc 1 210 21 is_stmt 1 view .LVU259
 210:App/Src/task.c ****                         minPpm = ppm;
 1080              		.loc 1 210 37 is_stmt 0 view .LVU260
 1081 015e 6C4B     		ldr	r3, .L120+12
 1082 0160 93ED007A 		vldr.32	s14, [r3]
 1083 0164 B0EEC77A 		vabs.f32	s14, s14
 210:App/Src/task.c ****                         minPpm = ppm;
 1084              		.loc 1 210 24 view .LVU261
 1085 0168 F4EEC77A 		vcmpe.f32	s15, s14
 1086 016c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1087 0170 05D5     		bpl	.L61
 211:App/Src/task.c ****                         minCap = lastCap;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 28


 1088              		.loc 1 211 25 is_stmt 1 view .LVU262
 211:App/Src/task.c ****                         minCap = lastCap;
 1089              		.loc 1 211 32 is_stmt 0 view .LVU263
 1090 0172 C3ED000A 		vstr.32	s1, [r3]
 212:App/Src/task.c ****                     }
 1091              		.loc 1 212 25 is_stmt 1 view .LVU264
 212:App/Src/task.c ****                     }
 1092              		.loc 1 212 32 is_stmt 0 view .LVU265
 1093 0176 644B     		ldr	r3, .L120+4
 1094 0178 1A68     		ldr	r2, [r3]	@ float
 1095 017a 714B     		ldr	r3, .L120+60
 1096 017c 1A60     		str	r2, [r3]	@ float
 1097              	.L61:
 214:App/Src/task.c ****                         testState = 4;
 1098              		.loc 1 214 21 is_stmt 1 view .LVU266
 214:App/Src/task.c ****                         testState = 4;
 1099              		.loc 1 214 24 is_stmt 0 view .LVU267
 1100 017e F5EEC00A 		vcmpe.f32	s1, #0
 1101 0182 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1102 0186 07DD     		ble	.L63
 214:App/Src/task.c ****                         testState = 4;
 1103              		.loc 1 214 44 discriminator 1 view .LVU268
 1104 0188 614B     		ldr	r3, .L120+12
 1105 018a 93ED007A 		vldr.32	s14, [r3]
 214:App/Src/task.c ****                         testState = 4;
 1106              		.loc 1 214 34 discriminator 1 view .LVU269
 1107 018e B5EEC07A 		vcmpe.f32	s14, #0
 1108 0192 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1109 0196 6FD4     		bmi	.L65
 1110              	.L63:
 214:App/Src/task.c ****                         testState = 4;
 1111              		.loc 1 214 49 discriminator 3 view .LVU270
 1112 0198 F5EEC00A 		vcmpe.f32	s1, #0
 1113 019c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1114 01a0 62D4     		bmi	.L116
 1115              	.L66:
 226:App/Src/task.c ****                     minPpm = ppm;
 1116              		.loc 1 226 17 is_stmt 1 view .LVU271
 226:App/Src/task.c ****                     minPpm = ppm;
 1117              		.loc 1 226 33 is_stmt 0 view .LVU272
 1118 01a2 5B4B     		ldr	r3, .L120+12
 1119 01a4 93ED007A 		vldr.32	s14, [r3]
 1120 01a8 B0EEC77A 		vabs.f32	s14, s14
 226:App/Src/task.c ****                     minPpm = ppm;
 1121              		.loc 1 226 20 view .LVU273
 1122 01ac F4EEC77A 		vcmpe.f32	s15, s14
 1123 01b0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1124 01b4 05D5     		bpl	.L74
 227:App/Src/task.c ****                     minCap = lastCap;
 1125              		.loc 1 227 21 is_stmt 1 view .LVU274
 227:App/Src/task.c ****                     minCap = lastCap;
 1126              		.loc 1 227 28 is_stmt 0 view .LVU275
 1127 01b6 C3ED000A 		vstr.32	s1, [r3]
 228:App/Src/task.c ****                 }
 1128              		.loc 1 228 21 is_stmt 1 view .LVU276
 228:App/Src/task.c ****                 }
 1129              		.loc 1 228 28 is_stmt 0 view .LVU277
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 29


 1130 01ba 534B     		ldr	r3, .L120+4
 1131 01bc 1A68     		ldr	r2, [r3]	@ float
 1132 01be 604B     		ldr	r3, .L120+60
 1133 01c0 1A60     		str	r2, [r3]	@ float
 1134              	.L74:
 231:App/Src/task.c ****                 if (adjustCount > 10) { 
 1135              		.loc 1 231 17 is_stmt 1 view .LVU278
 231:App/Src/task.c ****                 if (adjustCount > 10) { 
 1136              		.loc 1 231 28 is_stmt 0 view .LVU279
 1137 01c2 554A     		ldr	r2, .L120+20
 1138 01c4 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1139 01c6 0133     		adds	r3, r3, #1
 1140 01c8 DBB2     		uxtb	r3, r3
 1141 01ca 1370     		strb	r3, [r2]
 232:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1142              		.loc 1 232 17 is_stmt 1 view .LVU280
 232:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, minCap, minPpm); 
 1143              		.loc 1 232 20 is_stmt 0 view .LVU281
 1144 01cc 0A2B     		cmp	r3, #10
 1145 01ce 00F28B80 		bhi	.L117
 237:App/Src/task.c ****                     lastCap += 1;
 1146              		.loc 1 237 17 is_stmt 1 view .LVU282
 237:App/Src/task.c ****                     lastCap += 1;
 1147              		.loc 1 237 20 is_stmt 0 view .LVU283
 1148 01d2 F5EEC00A 		vcmpe.f32	s1, #0
 1149 01d6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1150 01da 07DD     		ble	.L77
 237:App/Src/task.c ****                     lastCap += 1;
 1151              		.loc 1 237 29 discriminator 1 view .LVU284
 1152 01dc F7EE007A 		vmov.f32	s15, #1.0e+0
 1153 01e0 F4EEE70A 		vcmpe.f32	s1, s15
 1154 01e4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1155 01e8 00F1B080 		bmi	.L118
 1156              	.L77:
 239:App/Src/task.c ****                     lastCap -= 1;
 1157              		.loc 1 239 24 is_stmt 1 view .LVU285
 239:App/Src/task.c ****                     lastCap -= 1;
 1158              		.loc 1 239 27 is_stmt 0 view .LVU286
 1159 01ec FFEE007A 		vmov.f32	s15, #-1.0e+0
 1160 01f0 F4EEE70A 		vcmpe.f32	s1, s15
 1161 01f4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1162 01f8 05DD     		ble	.L81
 239:App/Src/task.c ****                     lastCap -= 1;
 1163              		.loc 1 239 37 discriminator 1 view .LVU287
 1164 01fa F5EEC00A 		vcmpe.f32	s1, #0
 1165 01fe F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1166 0202 00F1AD80 		bmi	.L119
 1167              	.L81:
 242:App/Src/task.c ****                 }
 1168              		.loc 1 242 21 is_stmt 1 view .LVU288
 242:App/Src/task.c ****                 }
 1169              		.loc 1 242 45 is_stmt 0 view .LVU289
 1170 0206 10EE900A 		vmov	r0, s1
 1171 020a FFF7FEFF 		bl	__aeabi_f2d
 1172              	.LVL83:
 1173 020e 0022     		movs	r2, #0
 1174 0210 4C4B     		ldr	r3, .L120+64
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 30


 1175 0212 FFF7FEFF 		bl	__aeabi_dmul
 1176              	.LVL84:
 1177 0216 0446     		mov	r4, r0
 1178 0218 0D46     		mov	r5, r1
 242:App/Src/task.c ****                 }
 1179              		.loc 1 242 39 view .LVU290
 1180 021a 3B4E     		ldr	r6, .L120+4
 1181 021c 3068     		ldr	r0, [r6]	@ float
 1182 021e FFF7FEFF 		bl	__aeabi_f2d
 1183              	.LVL85:
 1184 0222 2246     		mov	r2, r4
 1185 0224 2B46     		mov	r3, r5
 1186 0226 FFF7FEFF 		bl	__aeabi_dadd
 1187              	.LVL86:
 1188 022a FFF7FEFF 		bl	__aeabi_d2f
 1189              	.LVL87:
 242:App/Src/task.c ****                 }
 1190              		.loc 1 242 29 view .LVU291
 1191 022e 3060     		str	r0, [r6]	@ float
 1192              	.L80:
 244:App/Src/task.c ****                 rtc_set_testcap(cap);
 1193              		.loc 1 244 17 is_stmt 1 view .LVU292
 1194 0230 354B     		ldr	r3, .L120+4
 1195 0232 D3ED007A 		vldr.32	s15, [r3]
 1196 0236 FCEEE77A 		vcvt.u32.f32	s15, s15
 1197 023a 06A9     		add	r1, sp, #24
 1198 023c 17EE903A 		vmov	r3, s15	@ int
 1199 0240 98B2     		uxth	r0, r3
 1200 0242 FFF7FEFF 		bl	cap_list_to_uint
 1201              	.LVL88:
 245:App/Src/task.c ****                 testState = 2;
 1202              		.loc 1 245 17 view .LVU293
 1203 0246 06A8     		add	r0, sp, #24
 1204 0248 FFF7FEFF 		bl	rtc_set_testcap
 1205              	.LVL89:
 246:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1206              		.loc 1 246 17 view .LVU294
 246:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1207              		.loc 1 246 27 is_stmt 0 view .LVU295
 1208 024c 2D4B     		ldr	r3, .L120
 1209 024e 0222     		movs	r2, #2
 1210 0250 1A60     		str	r2, [r3]
 1211 0252 F0E6     		b	.L44
 1212              	.L115:
 206:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 1213              		.loc 1 206 21 is_stmt 1 view .LVU296
 206:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_SUCCESS, lastCap, ppm);
 1214              		.loc 1 206 31 is_stmt 0 view .LVU297
 1215 0254 2B4B     		ldr	r3, .L120
 1216 0256 0422     		movs	r2, #4
 1217 0258 1A60     		str	r2, [r3]
 207:App/Src/task.c ****                     break;
 1218              		.loc 1 207 21 is_stmt 1 view .LVU298
 1219 025a 2B4B     		ldr	r3, .L120+4
 1220 025c 93ED000A 		vldr.32	s0, [r3]
 1221 0260 0220     		movs	r0, #2
 1222 0262 FFF7FEFF 		bl	rtc_freq_save
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 31


 1223              	.LVL90:
 208:App/Src/task.c ****                 } else if (fabs(ppm) < 3) {
 1224              		.loc 1 208 21 view .LVU299
 1225 0266 E6E6     		b	.L44
 1226              	.L116:
 214:App/Src/task.c ****                         testState = 4;
 1227              		.loc 1 214 71 is_stmt 0 discriminator 4 view .LVU300
 1228 0268 294B     		ldr	r3, .L120+12
 1229 026a 93ED007A 		vldr.32	s14, [r3]
 214:App/Src/task.c ****                         testState = 4;
 1230              		.loc 1 214 61 discriminator 4 view .LVU301
 1231 026e B5EEC07A 		vcmpe.f32	s14, #0
 1232 0272 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1233 0276 94DD     		ble	.L66
 1234              	.L65:
 215:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1235              		.loc 1 215 25 is_stmt 1 view .LVU302
 215:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_SUCCESS, minCap, minPpm);
 1236              		.loc 1 215 35 is_stmt 0 view .LVU303
 1237 0278 224B     		ldr	r3, .L120
 1238 027a 0422     		movs	r2, #4
 1239 027c 1A60     		str	r2, [r3]
 216:App/Src/task.c ****                         break;
 1240              		.loc 1 216 25 is_stmt 1 view .LVU304
 1241 027e 244B     		ldr	r3, .L120+12
 1242 0280 D3ED000A 		vldr.32	s1, [r3]
 1243 0284 2E4B     		ldr	r3, .L120+60
 1244 0286 93ED000A 		vldr.32	s0, [r3]
 1245 028a 0220     		movs	r0, #2
 1246 028c FFF7FEFF 		bl	rtc_freq_save
 1247              	.LVL91:
 217:App/Src/task.c ****                     }
 1248              		.loc 1 217 25 view .LVU305
 1249 0290 D1E6     		b	.L44
 1250              	.L112:
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1251              		.loc 1 220 21 view .LVU306
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1252              		.loc 1 220 34 is_stmt 0 view .LVU307
 1253 0292 1D4B     		ldr	r3, .L120+4
 1254 0294 93ED000A 		vldr.32	s0, [r3]
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1255              		.loc 1 220 24 view .LVU308
 1256 0298 9FED2B7A 		vldr.32	s14, .L120+68
 1257 029c B4EEC70A 		vcmpe.f32	s0, s14
 1258 02a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1259 02a4 06DB     		blt	.L69
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1260              		.loc 1 220 57 discriminator 1 view .LVU309
 1261 02a6 B0EE007A 		vmov.f32	s14, #2.0e+0
 1262 02aa F4EEC70A 		vcmpe.f32	s1, s14
 1263 02ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1264 02b2 0FDA     		bge	.L71
 1265              	.L69:
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1266              		.loc 1 220 70 discriminator 3 view .LVU310
 1267 02b4 B7EE007A 		vmov.f32	s14, #1.0e+0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 32


 1268 02b8 B4EEC70A 		vcmpe.f32	s0, s14
 1269 02bc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1270 02c0 3FF66FAF 		bhi	.L66
 220:App/Src/task.c ****                         rtc_freq_save(CAP_ADJUST_ERROR, lastCap, minPpm);
 1271              		.loc 1 220 106 discriminator 4 view .LVU311
 1272 02c4 B8EE007A 		vmov.f32	s14, #-2.0e+0
 1273 02c8 F4EEC70A 		vcmpe.f32	s1, s14
 1274 02cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1275 02d0 3FF667AF 		bhi	.L66
 1276              	.L71:
 221:App/Src/task.c ****                         testState = 0;
 1277              		.loc 1 221 25 is_stmt 1 view .LVU312
 1278 02d4 0E4B     		ldr	r3, .L120+12
 1279 02d6 D3ED000A 		vldr.32	s1, [r3]
 1280 02da 0120     		movs	r0, #1
 1281 02dc FFF7FEFF 		bl	rtc_freq_save
 1282              	.LVL92:
 222:App/Src/task.c ****                         break;
 1283              		.loc 1 222 25 view .LVU313
 222:App/Src/task.c ****                         break;
 1284              		.loc 1 222 35 is_stmt 0 view .LVU314
 1285 02e0 084B     		ldr	r3, .L120
 1286 02e2 0022     		movs	r2, #0
 1287 02e4 1A60     		str	r2, [r3]
 223:App/Src/task.c ****                     } 
 1288              		.loc 1 223 25 is_stmt 1 view .LVU315
 1289 02e6 A6E6     		b	.L44
 1290              	.L117:
 233:App/Src/task.c ****                     testState = 0;
 1291              		.loc 1 233 21 view .LVU316
 1292 02e8 094B     		ldr	r3, .L120+12
 1293 02ea D3ED000A 		vldr.32	s1, [r3]
 1294 02ee 144B     		ldr	r3, .L120+60
 1295 02f0 93ED000A 		vldr.32	s0, [r3]
 1296 02f4 0120     		movs	r0, #1
 1297 02f6 FFF7FEFF 		bl	rtc_freq_save
 1298              	.LVL93:
 234:App/Src/task.c ****                     break;
 1299              		.loc 1 234 21 view .LVU317
 234:App/Src/task.c ****                     break;
 1300              		.loc 1 234 31 is_stmt 0 view .LVU318
 1301 02fa 024B     		ldr	r3, .L120
 1302 02fc 0022     		movs	r2, #0
 1303 02fe 1A60     		str	r2, [r3]
 235:App/Src/task.c ****                 }//---------------------------------------------------------
 1304              		.loc 1 235 21 is_stmt 1 view .LVU319
 1305 0300 99E6     		b	.L44
 1306              	.L121:
 1307 0302 00BF     		.align	2
 1308              	.L120:
 1309 0304 00000000 		.word	.LANCHOR3
 1310 0308 00000000 		.word	.LANCHOR4
 1311 030c 00000000 		.word	.LC4
 1312 0310 00000000 		.word	.LANCHOR5
 1313 0314 00007A44 		.word	1148846080
 1314 0318 00000000 		.word	.LANCHOR6
 1315 031c 38000000 		.word	.LC5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 33


 1316 0320 00000000 		.word	g_capAdjust
 1317 0324 00000000 		.word	.LANCHOR7
 1318 0328 00000000 		.word	.LANCHOR8
 1319 032c 54000000 		.word	.LC6
 1320 0330 00000000 		.word	.LANCHOR9
 1321 0334 0000803C 		.word	1015021568
 1322 0338 00247449 		.word	1232348160
 1323 033c 5C000000 		.word	.LC7
 1324 0340 00000000 		.word	.LANCHOR10
 1325 0344 00000440 		.word	1074003968
 1326 0348 00001244 		.word	1142030336
 1327              	.L118:
 238:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1328              		.loc 1 238 21 view .LVU320
 238:App/Src/task.c ****                 } else if (-1 < ppm && ppm < 0) {
 1329              		.loc 1 238 29 is_stmt 0 view .LVU321
 1330 034c 8C4B     		ldr	r3, .L122
 1331 034e D3ED007A 		vldr.32	s15, [r3]
 1332 0352 B7EE007A 		vmov.f32	s14, #1.0e+0
 1333 0356 77EE877A 		vadd.f32	s15, s15, s14
 1334 035a C3ED007A 		vstr.32	s15, [r3]
 1335 035e 67E7     		b	.L80
 1336              	.L119:
 240:App/Src/task.c ****                 } else {
 1337              		.loc 1 240 21 is_stmt 1 view .LVU322
 240:App/Src/task.c ****                 } else {
 1338              		.loc 1 240 29 is_stmt 0 view .LVU323
 1339 0360 874B     		ldr	r3, .L122
 1340 0362 D3ED007A 		vldr.32	s15, [r3]
 1341 0366 B7EE007A 		vmov.f32	s14, #1.0e+0
 1342 036a 77EEC77A 		vsub.f32	s15, s15, s14
 1343 036e C3ED007A 		vstr.32	s15, [r3]
 1344 0372 5DE7     		b	.L80
 1345              	.LVL94:
 1346              	.L56:
 247:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1347              		.loc 1 247 20 is_stmt 1 view .LVU324
 247:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1348              		.loc 1 247 37 is_stmt 0 view .LVU325
 1349 0374 04F59664 		add	r4, r4, #1200
 247:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1350              		.loc 1 247 46 view .LVU326
 1351 0378 FFF7FEFF 		bl	HAL_GetTick
 1352              	.LVL95:
 247:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1353              		.loc 1 247 23 view .LVU327
 1354 037c 8442     		cmp	r4, r0
 1355 037e BFF45AAE 		bcs	.L44
 248:App/Src/task.c ****                 log_printf("device no response\n");             
 1356              		.loc 1 248 17 is_stmt 1 view .LVU328
 1357 0382 804C     		ldr	r4, .L122+4
 1358 0384 2046     		mov	r0, r4
 1359 0386 FFF7FEFF 		bl	UsbPrintf
 1360              	.LVL96:
 249:App/Src/task.c ****                 responseCount++;
 1361              		.loc 1 249 17 view .LVU329
 1362 038a 2046     		mov	r0, r4
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 34


 1363 038c FFF7FEFF 		bl	log_printf
 1364              	.LVL97:
 250:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1365              		.loc 1 250 17 view .LVU330
 250:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1366              		.loc 1 250 30 is_stmt 0 view .LVU331
 1367 0390 7D4A     		ldr	r2, .L122+8
 1368 0392 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1369 0394 0133     		adds	r3, r3, #1
 1370 0396 DBB2     		uxtb	r3, r3
 1371 0398 1370     		strb	r3, [r2]
 251:App/Src/task.c ****                     testState = 0;
 1372              		.loc 1 251 17 is_stmt 1 view .LVU332
 251:App/Src/task.c ****                     testState = 0;
 1373              		.loc 1 251 20 is_stmt 0 view .LVU333
 1374 039a 022B     		cmp	r3, #2
 1375 039c 0AD9     		bls	.L84
 252:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1376              		.loc 1 252 21 is_stmt 1 view .LVU334
 252:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1377              		.loc 1 252 31 is_stmt 0 view .LVU335
 1378 039e 7B4B     		ldr	r3, .L122+12
 1379 03a0 0022     		movs	r2, #0
 1380 03a2 1A60     		str	r2, [r3]
 253:App/Src/task.c ****                 } else {
 1381              		.loc 1 253 21 is_stmt 1 view .LVU336
 1382 03a4 DFED7A0A 		vldr.32	s1, .L122+16
 1383 03a8 9FED7A0A 		vldr.32	s0, .L122+20
 1384 03ac 0120     		movs	r0, #1
 1385 03ae FFF7FEFF 		bl	rtc_freq_save
 1386              	.LVL98:
 1387 03b2 40E6     		b	.L44
 1388              	.L84:
 255:App/Src/task.c ****                 }
 1389              		.loc 1 255 21 view .LVU337
 255:App/Src/task.c ****                 }
 1390              		.loc 1 255 36 is_stmt 0 view .LVU338
 1391 03b4 FFF7FEFF 		bl	HAL_GetTick
 1392              	.LVL99:
 255:App/Src/task.c ****                 }
 1393              		.loc 1 255 34 view .LVU339
 1394 03b8 774B     		ldr	r3, .L122+24
 1395 03ba 1860     		str	r0, [r3]
 1396 03bc 3BE6     		b	.L44
 1397              	.LVL100:
 1398              	.L51:
 260:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1399              		.loc 1 260 13 is_stmt 1 view .LVU340
 260:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1400              		.loc 1 260 20 is_stmt 0 view .LVU341
 1401 03be 0120     		movs	r0, #1
 1402              	.LVL101:
 260:App/Src/task.c ****             if ((temp < -35 && temp > -45) || (temp < 90 && temp > 80)) {
 1403              		.loc 1 260 20 view .LVU342
 1404 03c0 FFF7FEFF 		bl	temp_read_value
 1405              	.LVL102:
 261:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 35


 1406              		.loc 1 261 13 is_stmt 1 view .LVU343
 261:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1407              		.loc 1 261 16 is_stmt 0 view .LVU344
 1408 03c4 DFED757A 		vldr.32	s15, .L122+28
 1409 03c8 B4EEE70A 		vcmpe.f32	s0, s15
 1410 03cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1411 03d0 06D5     		bpl	.L85
 261:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1412              		.loc 1 261 29 discriminator 1 view .LVU345
 1413 03d2 DFED737A 		vldr.32	s15, .L122+32
 1414 03d6 B4EEE70A 		vcmpe.f32	s0, s15
 1415 03da F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1416 03de 0DDC     		bgt	.L87
 1417              	.L85:
 261:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1418              		.loc 1 261 44 discriminator 3 view .LVU346
 1419 03e0 DFED707A 		vldr.32	s15, .L122+36
 1420 03e4 B4EEE70A 		vcmpe.f32	s0, s15
 1421 03e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1422 03ec 34D5     		bpl	.L88
 261:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1423              		.loc 1 261 58 discriminator 4 view .LVU347
 1424 03ee DFED6E7A 		vldr.32	s15, .L122+40
 1425 03f2 B4EEE70A 		vcmpe.f32	s0, s15
 1426 03f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1427 03fa 2DDD     		ble	.L88
 1428              	.L87:
 262:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1429              		.loc 1 262 17 is_stmt 1 view .LVU348
 262:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1430              		.loc 1 262 64 is_stmt 0 view .LVU349
 1431 03fc 6B4B     		ldr	r3, .L122+44
 1432 03fe 187C     		ldrb	r0, [r3, #16]	@ zero_extendqisi2
 262:App/Src/task.c ****                 flash_read_data(address, buffer, 4);//根据地址调用flash函数读取4byte数据
 1433              		.loc 1 262 50 view .LVU350
 1434 0400 0730     		adds	r0, r0, #7
 1435 0402 4002     		lsls	r0, r0, #9
 1436              	.LVL103:
 263:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 1437              		.loc 1 263 17 is_stmt 1 view .LVU351
 1438 0404 0422     		movs	r2, #4
 1439 0406 05A9     		add	r1, sp, #20
 1440 0408 2430     		adds	r0, r0, #36
 1441              	.LVL104:
 263:App/Src/task.c ****                 uint8_to_float(&lastCap, buffer);//类型转换为float
 1442              		.loc 1 263 17 is_stmt 0 view .LVU352
 1443 040a FFF7FEFF 		bl	flash_read_data
 1444              	.LVL105:
 264:App/Src/task.c ****                 cap_list_to_uint(lastCap, cap);//查表转换为实际电容
 1445              		.loc 1 264 17 is_stmt 1 view .LVU353
 1446 040e 5C4C     		ldr	r4, .L122
 1447 0410 05A9     		add	r1, sp, #20
 1448 0412 2046     		mov	r0, r4
 1449 0414 FFF7FEFF 		bl	uint8_to_float
 1450              	.LVL106:
 265:App/Src/task.c ****                 if (rtc_set_testcap(cap) == I2C_OK) {//IIC写入rtc
 1451              		.loc 1 265 17 view .LVU354
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 36


 1452 0418 D4ED007A 		vldr.32	s15, [r4]
 1453 041c FCEEE77A 		vcvt.u32.f32	s15, s15
 1454 0420 06A9     		add	r1, sp, #24
 1455 0422 17EE903A 		vmov	r3, s15	@ int
 1456 0426 98B2     		uxth	r0, r3
 1457 0428 FFF7FEFF 		bl	cap_list_to_uint
 1458              	.LVL107:
 266:App/Src/task.c ****                     testState++;
 1459              		.loc 1 266 17 view .LVU355
 266:App/Src/task.c ****                     testState++;
 1460              		.loc 1 266 21 is_stmt 0 view .LVU356
 1461 042c 06A8     		add	r0, sp, #24
 1462 042e FFF7FEFF 		bl	rtc_set_testcap
 1463              	.LVL108:
 266:App/Src/task.c ****                     testState++;
 1464              		.loc 1 266 20 view .LVU357
 1465 0432 20B9     		cbnz	r0, .L91
 267:App/Src/task.c ****                 } else {
 1466              		.loc 1 267 21 is_stmt 1 view .LVU358
 267:App/Src/task.c ****                 } else {
 1467              		.loc 1 267 30 is_stmt 0 view .LVU359
 1468 0434 554A     		ldr	r2, .L122+12
 1469 0436 1368     		ldr	r3, [r2]
 1470 0438 0133     		adds	r3, r3, #1
 1471 043a 1360     		str	r3, [r2]
 1472 043c FBE5     		b	.L44
 1473              	.L91:
 269:App/Src/task.c ****                     testState = 0;
 1474              		.loc 1 269 21 is_stmt 1 view .LVU360
 1475 043e 5C4B     		ldr	r3, .L122+48
 1476 0440 D3ED000A 		vldr.32	s1, [r3]
 1477 0444 4E4B     		ldr	r3, .L122
 1478 0446 93ED000A 		vldr.32	s0, [r3]
 1479 044a 0120     		movs	r0, #1
 1480 044c FFF7FEFF 		bl	rtc_freq_save
 1481              	.LVL109:
 270:App/Src/task.c ****                 }
 1482              		.loc 1 270 21 view .LVU361
 270:App/Src/task.c ****                 }
 1483              		.loc 1 270 31 is_stmt 0 view .LVU362
 1484 0450 4E4B     		ldr	r3, .L122+12
 1485 0452 0022     		movs	r2, #0
 1486 0454 1A60     		str	r2, [r3]
 1487 0456 EEE5     		b	.L44
 1488              	.LVL110:
 1489              	.L88:
 273:App/Src/task.c ****                 testState = 0;
 1490              		.loc 1 273 17 is_stmt 1 view .LVU363
 273:App/Src/task.c ****                 testState = 0;
 1491              		.loc 1 273 34 is_stmt 0 view .LVU364
 1492 0458 544B     		ldr	r3, .L122+44
 1493 045a 0222     		movs	r2, #2
 1494 045c 1A70     		strb	r2, [r3]
 274:App/Src/task.c ****             }
 1495              		.loc 1 274 17 is_stmt 1 view .LVU365
 274:App/Src/task.c ****             }
 1496              		.loc 1 274 27 is_stmt 0 view .LVU366
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 37


 1497 045e 4B4B     		ldr	r3, .L122+12
 1498 0460 0022     		movs	r2, #0
 1499 0462 1A60     		str	r2, [r3]
 1500 0464 E7E5     		b	.L44
 1501              	.LVL111:
 1502              	.L50:
 278:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1503              		.loc 1 278 13 is_stmt 1 view .LVU367
 278:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1504              		.loc 1 278 28 is_stmt 0 view .LVU368
 1505 0466 FFF7FEFF 		bl	HAL_GetTick
 1506              	.LVL112:
 278:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 1507              		.loc 1 278 26 view .LVU369
 1508 046a 4B4B     		ldr	r3, .L122+24
 1509 046c 1860     		str	r0, [r3]
 279:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1510              		.loc 1 279 13 is_stmt 1 view .LVU370
 279:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 1511              		.loc 1 279 35 is_stmt 0 view .LVU371
 1512 046e 514B     		ldr	r3, .L122+52
 1513 0470 1860     		str	r0, [r3]
 280:App/Src/task.c ****             responseCount = 0;
 1514              		.loc 1 280 13 is_stmt 1 view .LVU372
 1515 0472 5148     		ldr	r0, .L122+56
 1516 0474 FFF7FEFF 		bl	DevicePrintf
 1517              	.LVL113:
 281:App/Src/task.c ****             testState++;
 1518              		.loc 1 281 13 view .LVU373
 281:App/Src/task.c ****             testState++;
 1519              		.loc 1 281 27 is_stmt 0 view .LVU374
 1520 0478 434B     		ldr	r3, .L122+8
 1521 047a 0022     		movs	r2, #0
 1522 047c 1A70     		strb	r2, [r3]
 282:App/Src/task.c ****         break;
 1523              		.loc 1 282 13 is_stmt 1 view .LVU375
 282:App/Src/task.c ****         break;
 1524              		.loc 1 282 22 is_stmt 0 view .LVU376
 1525 047e 434A     		ldr	r2, .L122+12
 1526 0480 1368     		ldr	r3, [r2]
 1527 0482 0133     		adds	r3, r3, #1
 1528 0484 1360     		str	r3, [r2]
 283:App/Src/task.c ****         case 6:
 1529              		.loc 1 283 9 is_stmt 1 view .LVU377
 1530 0486 D6E5     		b	.L44
 1531              	.LVL114:
 1532              	.L48:
 285:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1533              		.loc 1 285 13 view .LVU378
 285:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1534              		.loc 1 285 27 is_stmt 0 view .LVU379
 1535 0488 4A4B     		ldr	r3, .L122+52
 1536 048a 1A68     		ldr	r2, [r3]
 285:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1537              		.loc 1 285 39 view .LVU380
 1538 048c 424B     		ldr	r3, .L122+24
 1539 048e 1C68     		ldr	r4, [r3]
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 38


 285:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 1540              		.loc 1 285 16 view .LVU381
 1541 0490 A242     		cmp	r2, r4
 1542 0492 4FD9     		bls	.L92
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1543              		.loc 1 286 17 is_stmt 1 view .LVU382
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1544              		.loc 1 286 34 is_stmt 0 view .LVU383
 1545 0494 474B     		ldr	r3, .L122+52
 1546 0496 D3ED017A 		vldr.32	s15, [r3, #4]
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1547              		.loc 1 286 40 view .LVU384
 1548 049a 9FED487A 		vldr.32	s14, .L122+60
 1549 049e 67EE877A 		vmul.f32	s15, s15, s14
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1550              		.loc 1 286 58 view .LVU385
 1551 04a2 B7EE007A 		vmov.f32	s14, #1.0e+0
 1552 04a6 77EEC77A 		vsub.f32	s15, s15, s14
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1553              		.loc 1 286 63 view .LVU386
 1554 04aa 9FED457A 		vldr.32	s14, .L122+64
 1555 04ae 67EE877A 		vmul.f32	s15, s15, s14
 286:App/Src/task.c ****                 address = TEST_RESULT_START_ADDR + (g_capAdjust.count - 1) * TEST_RESULT_ONE_SIZE +
 1556              		.loc 1 286 21 view .LVU387
 1557 04b2 CDED077A 		vstr.32	s15, [sp, #28]
 287:App/Src/task.c ****                 temp = temp_read_value(1);
 1558              		.loc 1 287 17 is_stmt 1 view .LVU388
 287:App/Src/task.c ****                 temp = temp_read_value(1);
 1559              		.loc 1 287 64 is_stmt 0 view .LVU389
 1560 04b6 3D4B     		ldr	r3, .L122+44
 1561 04b8 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
 287:App/Src/task.c ****                 temp = temp_read_value(1);
 1562              		.loc 1 287 50 view .LVU390
 1563 04ba 0734     		adds	r4, r4, #7
 1564 04bc 6402     		lsls	r4, r4, #9
 287:App/Src/task.c ****                 temp = temp_read_value(1);
 1565              		.loc 1 287 99 view .LVU391
 1566 04be 04F13A05 		add	r5, r4, #58
 1567              	.LVL115:
 288:App/Src/task.c ****                 if (temp > 80) { address += 4;}
 1568              		.loc 1 288 17 is_stmt 1 view .LVU392
 288:App/Src/task.c ****                 if (temp > 80) { address += 4;}
 1569              		.loc 1 288 24 is_stmt 0 view .LVU393
 1570 04c2 0120     		movs	r0, #1
 1571              	.LVL116:
 288:App/Src/task.c ****                 if (temp > 80) { address += 4;}
 1572              		.loc 1 288 24 view .LVU394
 1573 04c4 FFF7FEFF 		bl	temp_read_value
 1574              	.LVL117:
 1575 04c8 B0EE408A 		vmov.f32	s16, s0
 1576              	.LVL118:
 289:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1577              		.loc 1 289 17 is_stmt 1 view .LVU395
 289:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1578              		.loc 1 289 20 is_stmt 0 view .LVU396
 1579 04cc DFED367A 		vldr.32	s15, .L122+40
 1580 04d0 B4EEE70A 		vcmpe.f32	s0, s15
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 39


 1581 04d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1582 04d8 01DD     		ble	.L93
 289:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1583              		.loc 1 289 34 is_stmt 1 discriminator 1 view .LVU397
 289:App/Src/task.c ****                 float_to_uint8(buffer, &ppm);
 1584              		.loc 1 289 42 is_stmt 0 discriminator 1 view .LVU398
 1585 04da 04F13E05 		add	r5, r4, #62
 1586              	.LVL119:
 1587              	.L93:
 290:App/Src/task.c ****                 flash_write_data(address, buffer, 4);
 1588              		.loc 1 290 17 is_stmt 1 view .LVU399
 1589 04de 07A9     		add	r1, sp, #28
 1590 04e0 05A8     		add	r0, sp, #20
 1591 04e2 FFF7FEFF 		bl	float_to_uint8
 1592              	.LVL120:
 291:App/Src/task.c ****                 UsbPrintf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1593              		.loc 1 291 17 view .LVU400
 1594 04e6 0422     		movs	r2, #4
 1595 04e8 05A9     		add	r1, sp, #20
 1596 04ea 2846     		mov	r0, r5
 1597 04ec FFF7FEFF 		bl	flash_write_data
 1598              	.LVL121:
 292:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1599              		.loc 1 292 17 view .LVU401
 1600 04f0 18EE100A 		vmov	r0, s16
 1601 04f4 FFF7FEFF 		bl	__aeabi_f2d
 1602              	.LVL122:
 1603 04f8 0446     		mov	r4, r0
 1604 04fa 0D46     		mov	r5, r1
 1605              	.LVL123:
 292:App/Src/task.c ****                 log_printf("center cap in %.1f : %.2fppm\n", temp, ppm);
 1606              		.loc 1 292 17 is_stmt 0 view .LVU402
 1607 04fc 314E     		ldr	r6, .L122+68
 1608 04fe 0798     		ldr	r0, [sp, #28]	@ float
 1609 0500 FFF7FEFF 		bl	__aeabi_f2d
 1610              	.LVL124:
 1611 0504 CDE90001 		strd	r0, [sp]
 1612 0508 2246     		mov	r2, r4
 1613 050a 2B46     		mov	r3, r5
 1614 050c 3046     		mov	r0, r6
 1615 050e FFF7FEFF 		bl	UsbPrintf
 1616              	.LVL125:
 293:App/Src/task.c ****                 g_capAdjust.flag = CAP_ADJUST_SUCCESS;
 1617              		.loc 1 293 17 is_stmt 1 view .LVU403
 1618 0512 0798     		ldr	r0, [sp, #28]	@ float
 1619 0514 FFF7FEFF 		bl	__aeabi_f2d
 1620              	.LVL126:
 1621 0518 CDE90001 		strd	r0, [sp]
 1622 051c 2246     		mov	r2, r4
 1623 051e 2B46     		mov	r3, r5
 1624 0520 3046     		mov	r0, r6
 1625 0522 FFF7FEFF 		bl	log_printf
 1626              	.LVL127:
 294:App/Src/task.c ****                 testState = 0;
 1627              		.loc 1 294 17 view .LVU404
 294:App/Src/task.c ****                 testState = 0;
 1628              		.loc 1 294 34 is_stmt 0 view .LVU405
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 40


 1629 0526 214B     		ldr	r3, .L122+44
 1630 0528 0222     		movs	r2, #2
 1631 052a 1A70     		strb	r2, [r3]
 295:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1632              		.loc 1 295 17 is_stmt 1 view .LVU406
 295:App/Src/task.c ****             } else if (lastTestTime + 1200 < HAL_GetTick()) {
 1633              		.loc 1 295 27 is_stmt 0 view .LVU407
 1634 052c 174B     		ldr	r3, .L122+12
 1635 052e 0022     		movs	r2, #0
 1636 0530 1A60     		str	r2, [r3]
 1637 0532 80E5     		b	.L44
 1638              	.LVL128:
 1639              	.L92:
 296:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1640              		.loc 1 296 20 is_stmt 1 view .LVU408
 296:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1641              		.loc 1 296 37 is_stmt 0 view .LVU409
 1642 0534 04F59664 		add	r4, r4, #1200
 296:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1643              		.loc 1 296 46 view .LVU410
 1644 0538 FFF7FEFF 		bl	HAL_GetTick
 1645              	.LVL129:
 296:App/Src/task.c ****                 UsbPrintf("device no response\n");
 1646              		.loc 1 296 23 view .LVU411
 1647 053c 8442     		cmp	r4, r0
 1648 053e BFF47AAD 		bcs	.L44
 297:App/Src/task.c ****                 log_printf("device no response\n");             
 1649              		.loc 1 297 17 is_stmt 1 view .LVU412
 1650 0542 104C     		ldr	r4, .L122+4
 1651 0544 2046     		mov	r0, r4
 1652 0546 FFF7FEFF 		bl	UsbPrintf
 1653              	.LVL130:
 298:App/Src/task.c ****                 responseCount++;
 1654              		.loc 1 298 17 view .LVU413
 1655 054a 2046     		mov	r0, r4
 1656 054c FFF7FEFF 		bl	log_printf
 1657              	.LVL131:
 299:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1658              		.loc 1 299 17 view .LVU414
 299:App/Src/task.c ****                 if (responseCount >= 3) {//stop test
 1659              		.loc 1 299 30 is_stmt 0 view .LVU415
 1660 0550 0D4A     		ldr	r2, .L122+8
 1661 0552 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1662 0554 0133     		adds	r3, r3, #1
 1663 0556 DBB2     		uxtb	r3, r3
 1664 0558 1370     		strb	r3, [r2]
 300:App/Src/task.c ****                     testState = 0;
 1665              		.loc 1 300 17 is_stmt 1 view .LVU416
 300:App/Src/task.c ****                     testState = 0;
 1666              		.loc 1 300 20 is_stmt 0 view .LVU417
 1667 055a 022B     		cmp	r3, #2
 1668 055c 0AD9     		bls	.L95
 301:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1669              		.loc 1 301 21 is_stmt 1 view .LVU418
 301:App/Src/task.c ****                     rtc_freq_save(CAP_ADJUST_ERROR, 0, 1000);
 1670              		.loc 1 301 31 is_stmt 0 view .LVU419
 1671 055e 0B4B     		ldr	r3, .L122+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 41


 1672 0560 0022     		movs	r2, #0
 1673 0562 1A60     		str	r2, [r3]
 302:App/Src/task.c ****                 } else {
 1674              		.loc 1 302 21 is_stmt 1 view .LVU420
 1675 0564 DFED0A0A 		vldr.32	s1, .L122+16
 1676 0568 9FED0A0A 		vldr.32	s0, .L122+20
 1677 056c 0120     		movs	r0, #1
 1678 056e FFF7FEFF 		bl	rtc_freq_save
 1679              	.LVL132:
 1680 0572 60E5     		b	.L44
 1681              	.L95:
 304:App/Src/task.c ****                 }
 1682              		.loc 1 304 21 view .LVU421
 304:App/Src/task.c ****                 }
 1683              		.loc 1 304 36 is_stmt 0 view .LVU422
 1684 0574 FFF7FEFF 		bl	HAL_GetTick
 1685              	.LVL133:
 304:App/Src/task.c ****                 }
 1686              		.loc 1 304 34 view .LVU423
 1687 0578 074B     		ldr	r3, .L122+24
 1688 057a 1860     		str	r0, [r3]
 1689 057c 5BE5     		b	.L44
 1690              	.L123:
 1691 057e 00BF     		.align	2
 1692              	.L122:
 1693 0580 00000000 		.word	.LANCHOR4
 1694 0584 78000000 		.word	.LC8
 1695 0588 00000000 		.word	.LANCHOR9
 1696 058c 00000000 		.word	.LANCHOR3
 1697 0590 00007A44 		.word	1148846080
 1698 0594 00000000 		.word	0
 1699 0598 00000000 		.word	.LANCHOR7
 1700 059c 00000CC2 		.word	-1039400960
 1701 05a0 000034C2 		.word	-1036779520
 1702 05a4 0000B442 		.word	1119092736
 1703 05a8 0000A042 		.word	1117782016
 1704 05ac 00000000 		.word	g_capAdjust
 1705 05b0 00000000 		.word	.LANCHOR5
 1706 05b4 00000000 		.word	.LANCHOR8
 1707 05b8 54000000 		.word	.LC6
 1708 05bc 0000803C 		.word	1015021568
 1709 05c0 00247449 		.word	1232348160
 1710 05c4 8C000000 		.word	.LC9
 1711              		.cfi_endproc
 1712              	.LFE241:
 1714              		.section	.rodata.system_manage.str1.4,"aMS",%progbits,1
 1715              		.align	2
 1716              	.LC10:
 1717 0000 74656D70 		.ascii	"temp:%.1f connect OK\012\000"
 1717      3A252E31 
 1717      6620636F 
 1717      6E6E6563 
 1717      74204F4B 
 1718              		.section	.text.system_manage,"ax",%progbits
 1719              		.align	1
 1720              		.global	system_manage
 1721              		.syntax unified
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 42


 1722              		.thumb
 1723              		.thumb_func
 1725              	system_manage:
 1726              	.LFB239:
  86:App/Src/task.c ****     static uint32_t systemTick = 0;
 1727              		.loc 1 86 1 is_stmt 1 view -0
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 0
 1730              		@ frame_needed = 0, uses_anonymous_args = 0
 1731 0000 08B5     		push	{r3, lr}
 1732              	.LCFI17:
 1733              		.cfi_def_cfa_offset 8
 1734              		.cfi_offset 3, -8
 1735              		.cfi_offset 14, -4
  87:App/Src/task.c **** 
 1736              		.loc 1 87 5 view .LVU425
  89:App/Src/task.c ****     if (systemTick % 100 == 0) {
 1737              		.loc 1 89 5 view .LVU426
  89:App/Src/task.c ****     if (systemTick % 100 == 0) {
 1738              		.loc 1 89 15 is_stmt 0 view .LVU427
 1739 0002 284B     		ldr	r3, .L136
 1740 0004 1A68     		ldr	r2, [r3]
 1741 0006 0132     		adds	r2, r2, #1
 1742 0008 1A60     		str	r2, [r3]
  90:App/Src/task.c ****         LedHeart();
 1743              		.loc 1 90 5 is_stmt 1 view .LVU428
  90:App/Src/task.c ****         LedHeart();
 1744              		.loc 1 90 20 is_stmt 0 view .LVU429
 1745 000a 274B     		ldr	r3, .L136+4
 1746 000c A3FB0213 		umull	r1, r3, r3, r2
 1747 0010 5B09     		lsrs	r3, r3, #5
 1748 0012 6421     		movs	r1, #100
 1749 0014 01FB1323 		mls	r3, r1, r3, r2
  90:App/Src/task.c ****         LedHeart();
 1750              		.loc 1 90 8 view .LVU430
 1751 0018 53B3     		cbz	r3, .L131
 1752              	.L125:
  93:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1753              		.loc 1 93 5 is_stmt 1 view .LVU431
  93:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1754              		.loc 1 93 20 is_stmt 0 view .LVU432
 1755 001a 224B     		ldr	r3, .L136
 1756 001c 1A68     		ldr	r2, [r3]
 1757 001e 224B     		ldr	r3, .L136+4
 1758 0020 A3FB0213 		umull	r1, r3, r3, r2
 1759 0024 5B09     		lsrs	r3, r3, #5
 1760 0026 6421     		movs	r1, #100
 1761 0028 01FB1323 		mls	r3, r1, r3, r2
  93:App/Src/task.c ****         rtc_freq_test(FREQ_TEST_DEFAULT);
 1762              		.loc 1 93 8 view .LVU433
 1763 002c 1BB3     		cbz	r3, .L132
 1764              	.L126:
  96:App/Src/task.c ****         system_manage_test_mode();
 1765              		.loc 1 96 5 is_stmt 1 view .LVU434
  96:App/Src/task.c ****         system_manage_test_mode();
 1766              		.loc 1 96 20 is_stmt 0 view .LVU435
 1767 002e 1D4B     		ldr	r3, .L136
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 43


 1768 0030 1A68     		ldr	r2, [r3]
 1769 0032 1E4B     		ldr	r3, .L136+8
 1770 0034 A3FB0213 		umull	r1, r3, r3, r2
 1771 0038 1B09     		lsrs	r3, r3, #4
 1772 003a 03EB8303 		add	r3, r3, r3, lsl #2
  96:App/Src/task.c ****         system_manage_test_mode();
 1773              		.loc 1 96 8 view .LVU436
 1774 003e B2EB830F 		cmp	r2, r3, lsl #2
 1775 0042 1CD0     		beq	.L133
 1776              	.L127:
  99:App/Src/task.c ****         system_time_update();
 1777              		.loc 1 99 5 is_stmt 1 view .LVU437
  99:App/Src/task.c ****         system_time_update();
 1778              		.loc 1 99 20 is_stmt 0 view .LVU438
 1779 0044 174B     		ldr	r3, .L136
 1780 0046 1A68     		ldr	r2, [r3]
 1781 0048 174B     		ldr	r3, .L136+4
 1782 004a A3FB0213 		umull	r1, r3, r3, r2
 1783 004e 9B09     		lsrs	r3, r3, #6
 1784 0050 C821     		movs	r1, #200
 1785 0052 01FB1323 		mls	r3, r1, r3, r2
  99:App/Src/task.c ****         system_time_update();
 1786              		.loc 1 99 8 view .LVU439
 1787 0056 ABB1     		cbz	r3, .L134
 1788              	.L128:
 102:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1789              		.loc 1 102 5 is_stmt 1 view .LVU440
 102:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1790              		.loc 1 102 20 is_stmt 0 view .LVU441
 1791 0058 124B     		ldr	r3, .L136
 1792 005a 1A68     		ldr	r2, [r3]
 1793 005c 144B     		ldr	r3, .L136+12
 1794 005e A3FB0213 		umull	r1, r3, r3, r2
 1795 0062 1B0A     		lsrs	r3, r3, #8
 1796 0064 4FF47A61 		mov	r1, #4000
 1797 0068 01FB1323 		mls	r3, r1, r3, r2
 102:App/Src/task.c **** 	    ControlPrintf("temp:%.1f connect OK\n", temp_read_value(1));
 1798              		.loc 1 102 8 view .LVU442
 1799 006c 6BB1     		cbz	r3, .L135
 1800              	.L124:
 105:App/Src/task.c **** 
 1801              		.loc 1 105 1 view .LVU443
 1802 006e 08BD     		pop	{r3, pc}
 1803              	.L131:
  91:App/Src/task.c ****     }
 1804              		.loc 1 91 9 is_stmt 1 view .LVU444
 1805 0070 FFF7FEFF 		bl	LedHeart
 1806              	.LVL134:
 1807 0074 D1E7     		b	.L125
 1808              	.L132:
  94:App/Src/task.c ****     }
 1809              		.loc 1 94 9 view .LVU445
 1810 0076 0020     		movs	r0, #0
 1811 0078 FFF7FEFF 		bl	rtc_freq_test
 1812              	.LVL135:
 1813 007c D7E7     		b	.L126
 1814              	.L133:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 44


  97:App/Src/task.c ****     }
 1815              		.loc 1 97 9 view .LVU446
 1816 007e FFF7FEFF 		bl	system_manage_test_mode
 1817              	.LVL136:
 1818 0082 DFE7     		b	.L127
 1819              	.L134:
 100:App/Src/task.c ****     }
 1820              		.loc 1 100 9 view .LVU447
 1821 0084 FFF7FEFF 		bl	system_time_update
 1822              	.LVL137:
 1823 0088 E6E7     		b	.L128
 1824              	.L135:
 103:App/Src/task.c ****     }
 1825              		.loc 1 103 6 view .LVU448
 103:App/Src/task.c ****     }
 1826              		.loc 1 103 46 is_stmt 0 view .LVU449
 1827 008a 0120     		movs	r0, #1
 1828 008c FFF7FEFF 		bl	temp_read_value
 1829              	.LVL138:
 1830 0090 10EE100A 		vmov	r0, s0
 103:App/Src/task.c ****     }
 1831              		.loc 1 103 6 view .LVU450
 1832 0094 FFF7FEFF 		bl	__aeabi_f2d
 1833              	.LVL139:
 1834 0098 0246     		mov	r2, r0
 1835 009a 0B46     		mov	r3, r1
 1836 009c 0548     		ldr	r0, .L136+16
 1837 009e FFF7FEFF 		bl	ControlPrintf
 1838              	.LVL140:
 105:App/Src/task.c **** 
 1839              		.loc 1 105 1 view .LVU451
 1840 00a2 E4E7     		b	.L124
 1841              	.L137:
 1842              		.align	2
 1843              	.L136:
 1844 00a4 00000000 		.word	.LANCHOR11
 1845 00a8 1F85EB51 		.word	1374389535
 1846 00ac CDCCCCCC 		.word	-858993459
 1847 00b0 D34D6210 		.word	274877907
 1848 00b4 00000000 		.word	.LC10
 1849              		.cfi_endproc
 1850              	.LFE239:
 1852              		.section	.rodata.system_machine_test_one.str1.4,"aMS",%progbits,1
 1853              		.align	2
 1854              	.LC11:
 1855 0000 6D616368 		.ascii	"machine test chip:%d\012\000"
 1855      696E6520 
 1855      74657374 
 1855      20636869 
 1855      703A2564 
 1856 0016 0000     		.align	2
 1857              	.LC12:
 1858 0018 63686970 		.ascii	"chip%d i2c error, test end!\012\000"
 1858      25642069 
 1858      32632065 
 1858      72726F72 
 1858      2C207465 
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 45


 1859 0035 000000   		.align	2
 1860              	.LC13:
 1861 0038 63686970 		.ascii	"chip%d i2c error!\012\000"
 1861      25642069 
 1861      32632065 
 1861      72726F72 
 1861      210A00
 1862 004b 00       		.align	2
 1863              	.LC14:
 1864 004c 25662C20 		.ascii	"%f, ppm:%.2f\012\000"
 1864      70706D3A 
 1864      252E3266 
 1864      0A00
 1865 005a 0000     		.align	2
 1866              	.LC15:
 1867 005c 64657669 		.ascii	"device no respose!\012\000"
 1867      6365206E 
 1867      6F207265 
 1867      73706F73 
 1867      65210A00 
 1868              		.align	2
 1869              	.LC16:
 1870 0070 7664643A 		.ascii	"vdd:%dnA\012\000"
 1870      25646E41 
 1870      0A00
 1871 007a 0000     		.align	2
 1872              	.LC17:
 1873 007c 74657374 		.ascii	"test all end, chip %d NG\012\000"
 1873      20616C6C 
 1873      20656E64 
 1873      2C206368 
 1873      69702025 
 1874 0096 0000     		.align	2
 1875              	.LC18:
 1876 0098 74657374 		.ascii	"test all end, chip %d OK\012\000"
 1876      20616C6C 
 1876      20656E64 
 1876      2C206368 
 1876      69702025 
 1877              		.section	.text.system_machine_test_one,"ax",%progbits
 1878              		.align	1
 1879              		.global	system_machine_test_one
 1880              		.syntax unified
 1881              		.thumb
 1882              		.thumb_func
 1884              	system_machine_test_one:
 1885              	.LVL141:
 1886              	.LFB242:
 311:App/Src/task.c **** 
 312:App/Src/task.c **** //---------------------------------------------
 313:App/Src/task.c **** //system_machine_test_one函数，机台测试一个芯片
 314:App/Src/task.c **** //number选定芯片序号，mode分为启动模式和运转模式
 315:App/Src/task.c **** //除非是I2C不通，否则不管什么状态的芯片都会测试电流
 316:App/Src/task.c **** //---------------------------------------------
 317:App/Src/task.c **** int system_machine_test_one(uint8_t number, uint8_t mode)
 318:App/Src/task.c **** {
 1887              		.loc 1 318 1 is_stmt 1 view -0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 46


 1888              		.cfi_startproc
 1889              		@ args = 0, pretend = 0, frame = 16
 1890              		@ frame_needed = 0, uses_anonymous_args = 0
 1891              		.loc 1 318 1 is_stmt 0 view .LVU453
 1892 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1893              	.LCFI18:
 1894              		.cfi_def_cfa_offset 20
 1895              		.cfi_offset 4, -20
 1896              		.cfi_offset 5, -16
 1897              		.cfi_offset 6, -12
 1898              		.cfi_offset 7, -8
 1899              		.cfi_offset 14, -4
 1900 0002 2DED028B 		vpush.64	{d8}
 1901              	.LCFI19:
 1902              		.cfi_def_cfa_offset 28
 1903              		.cfi_offset 80, -28
 1904              		.cfi_offset 81, -24
 1905 0006 87B0     		sub	sp, sp, #28
 1906              	.LCFI20:
 1907              		.cfi_def_cfa_offset 56
 319:App/Src/task.c **** 	float ppm, cur;
 1908              		.loc 1 319 2 is_stmt 1 view .LVU454
 320:App/Src/task.c **** 	// uint8_t buffer[16] = {0};
 321:App/Src/task.c **** 	uint8_t i2c_result;
 1909              		.loc 1 321 2 view .LVU455
 322:App/Src/task.c **** 	static uint8_t result = 1;
 1910              		.loc 1 322 2 view .LVU456
 323:App/Src/task.c ****     static uint8_t state = 0;
 1911              		.loc 1 323 5 view .LVU457
 324:App/Src/task.c ****     static uint32_t timeout;
 1912              		.loc 1 324 5 view .LVU458
 325:App/Src/task.c ****     static uint8_t testNumber = 0;
 1913              		.loc 1 325 5 view .LVU459
 326:App/Src/task.c ****     static uint32_t startTime;
 1914              		.loc 1 326 5 view .LVU460
 327:App/Src/task.c ****     float rtcTemp = 0;
 1915              		.loc 1 327 5 view .LVU461
 1916              		.loc 1 327 11 is_stmt 0 view .LVU462
 1917 0008 0023     		movs	r3, #0
 1918 000a 0593     		str	r3, [sp, #20]	@ float
 328:App/Src/task.c ****     if (mode == 1) {//在设置开始时就设定测试序号，后续不能变更
 1919              		.loc 1 328 5 is_stmt 1 view .LVU463
 1920              		.loc 1 328 8 is_stmt 0 view .LVU464
 1921 000c 0129     		cmp	r1, #1
 1922 000e 0ED0     		beq	.L167
 1923              	.LVL142:
 1924              	.L139:
 329:App/Src/task.c ****         state = 1;
 330:App/Src/task.c ****         testNumber = number;
 331:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 332:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0xff;
 333:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 334:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 335:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 336:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 337:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 338:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 47


 339:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 340:App/Src/task.c ****         startTime = HAL_GetTick();
 341:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 342:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 343:App/Src/task.c ****     }
 344:App/Src/task.c **** 
 345:App/Src/task.c ****     switch (state) {
 1925              		.loc 1 345 5 is_stmt 1 view .LVU465
 1926 0010 B34B     		ldr	r3, .L171
 1927 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1928 0014 013B     		subs	r3, r3, #1
 1929 0016 072B     		cmp	r3, #7
 1930 0018 42D8     		bhi	.L140
 1931 001a DFE813F0 		tbh	[pc, r3, lsl #1]
 1932              	.L142:
 1933 001e 3100     		.2byte	(.L149-.L142)/2
 1934 0020 5700     		.2byte	(.L148-.L142)/2
 1935 0022 9300     		.2byte	(.L147-.L142)/2
 1936 0024 9E00     		.2byte	(.L146-.L142)/2
 1937 0026 B300     		.2byte	(.L145-.L142)/2
 1938 0028 1901     		.2byte	(.L144-.L142)/2
 1939 002a 2701     		.2byte	(.L143-.L142)/2
 1940 002c 8301     		.2byte	(.L141-.L142)/2
 1941              	.LVL143:
 1942              		.p2align 1
 1943              	.L167:
 1944              		.loc 1 345 5 is_stmt 0 view .LVU466
 1945 002e 0446     		mov	r4, r0
 329:App/Src/task.c ****         state = 1;
 1946              		.loc 1 329 9 is_stmt 1 view .LVU467
 329:App/Src/task.c ****         state = 1;
 1947              		.loc 1 329 15 is_stmt 0 view .LVU468
 1948 0030 AB4B     		ldr	r3, .L171
 1949 0032 0122     		movs	r2, #1
 1950 0034 1A70     		strb	r2, [r3]
 330:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 1951              		.loc 1 330 9 is_stmt 1 view .LVU469
 330:App/Src/task.c ****         g_machineTest.machine.Ivdd = 0;
 1952              		.loc 1 330 20 is_stmt 0 view .LVU470
 1953 0036 AB4B     		ldr	r3, .L171+4
 1954 0038 1870     		strb	r0, [r3]
 331:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0xff;
 1955              		.loc 1 331 9 is_stmt 1 view .LVU471
 331:App/Src/task.c ****         g_machineTest.machine.Ivbat = 0xff;
 1956              		.loc 1 331 36 is_stmt 0 view .LVU472
 1957 003a AB4B     		ldr	r3, .L171+8
 1958 003c 0022     		movs	r2, #0
 1959 003e A3F84420 		strh	r2, [r3, #68]	@ movhi
 332:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 1960              		.loc 1 332 9 is_stmt 1 view .LVU473
 332:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 1961              		.loc 1 332 37 is_stmt 0 view .LVU474
 1962 0042 FF21     		movs	r1, #255
 1963              	.LVL144:
 332:App/Src/task.c ****         g_machineTest.machine.config9 = 0xff;
 1964              		.loc 1 332 37 view .LVU475
 1965 0044 A3F84610 		strh	r1, [r3, #70]	@ movhi
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 48


 333:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 1966              		.loc 1 333 9 is_stmt 1 view .LVU476
 333:App/Src/task.c ****         g_machineTest.machine.configC = 0xff;
 1967              		.loc 1 333 39 is_stmt 0 view .LVU477
 1968 0048 83F84810 		strb	r1, [r3, #72]
 334:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 1969              		.loc 1 334 9 is_stmt 1 view .LVU478
 334:App/Src/task.c ****         g_machineTest.machine.sysTemp = 0;
 1970              		.loc 1 334 39 is_stmt 0 view .LVU479
 1971 004c 83F84910 		strb	r1, [r3, #73]
 335:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 1972              		.loc 1 335 9 is_stmt 1 view .LVU480
 335:App/Src/task.c ****         g_machineTest.machine.rtcTemp = 0;
 1973              		.loc 1 335 39 is_stmt 0 view .LVU481
 1974 0050 83F84A20 		strb	r2, [r3, #74]
 336:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 1975              		.loc 1 336 9 is_stmt 1 view .LVU482
 336:App/Src/task.c ****         g_machineTest.machine.testFreq = 0;
 1976              		.loc 1 336 39 is_stmt 0 view .LVU483
 1977 0054 83F84B20 		strb	r2, [r3, #75]
 337:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 1978              		.loc 1 337 9 is_stmt 1 view .LVU484
 337:App/Src/task.c ****         g_machineTest.machine.vbat_2V5 = 0;
 1979              		.loc 1 337 40 is_stmt 0 view .LVU485
 1980 0058 0021     		movs	r1, #0
 1981 005a D964     		str	r1, [r3, #76]	@ float
 338:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 1982              		.loc 1 338 9 is_stmt 1 view .LVU486
 338:App/Src/task.c ****         g_machineTest.machine.charge = 0;
 1983              		.loc 1 338 40 is_stmt 0 view .LVU487
 1984 005c A3F85020 		strh	r2, [r3, #80]	@ movhi
 339:App/Src/task.c ****         startTime = HAL_GetTick();
 1985              		.loc 1 339 9 is_stmt 1 view .LVU488
 339:App/Src/task.c ****         startTime = HAL_GetTick();
 1986              		.loc 1 339 38 is_stmt 0 view .LVU489
 1987 0060 A3F85220 		strh	r2, [r3, #82]	@ movhi
 340:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 1988              		.loc 1 340 9 is_stmt 1 view .LVU490
 340:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 1989              		.loc 1 340 21 is_stmt 0 view .LVU491
 1990 0064 FFF7FEFF 		bl	HAL_GetTick
 1991              	.LVL145:
 340:App/Src/task.c ****         UsbPrintf("machine test chip:%d\n", number);
 1992              		.loc 1 340 19 view .LVU492
 1993 0068 A04B     		ldr	r3, .L171+12
 1994 006a 1860     		str	r0, [r3]
 341:App/Src/task.c ****         log_printf("machine test chip:%d\n", number);
 1995              		.loc 1 341 9 is_stmt 1 view .LVU493
 1996 006c A04D     		ldr	r5, .L171+16
 1997 006e 2146     		mov	r1, r4
 1998 0070 2846     		mov	r0, r5
 1999 0072 FFF7FEFF 		bl	UsbPrintf
 2000              	.LVL146:
 342:App/Src/task.c ****     }
 2001              		.loc 1 342 9 view .LVU494
 2002 0076 2146     		mov	r1, r4
 2003 0078 2846     		mov	r0, r5
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 49


 2004 007a FFF7FEFF 		bl	log_printf
 2005              	.LVL147:
 2006 007e C7E7     		b	.L139
 2007              	.L149:
 346:App/Src/task.c ****         case 1:
 347:App/Src/task.c **** 	        rtc_group_power(testNumber, POWER_I2C);
 2008              		.loc 1 347 10 view .LVU495
 2009 0080 0121     		movs	r1, #1
 2010 0082 984B     		ldr	r3, .L171+4
 2011 0084 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2012 0086 FFF7FEFF 		bl	rtc_group_power
 2013              	.LVL148:
 348:App/Src/task.c ****             result = 1; 
 2014              		.loc 1 348 13 view .LVU496
 2015              		.loc 1 348 20 is_stmt 0 view .LVU497
 2016 008a 9A4B     		ldr	r3, .L171+20
 2017 008c 0122     		movs	r2, #1
 2018 008e 1A70     		strb	r2, [r3]
 349:App/Src/task.c ****             timeout = HAL_GetTick();
 2019              		.loc 1 349 13 is_stmt 1 view .LVU498
 2020              		.loc 1 349 23 is_stmt 0 view .LVU499
 2021 0090 FFF7FEFF 		bl	HAL_GetTick
 2022              	.LVL149:
 2023              		.loc 1 349 21 view .LVU500
 2024 0094 984B     		ldr	r3, .L171+24
 2025 0096 1860     		str	r0, [r3]
 350:App/Src/task.c ****             state++;
 2026              		.loc 1 350 13 is_stmt 1 view .LVU501
 2027              		.loc 1 350 18 is_stmt 0 view .LVU502
 2028 0098 914A     		ldr	r2, .L171
 2029 009a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2030 009c 0133     		adds	r3, r3, #1
 2031 009e 1370     		strb	r3, [r2]
 351:App/Src/task.c ****         break;
 2032              		.loc 1 351 9 is_stmt 1 view .LVU503
 2033              	.L140:
 352:App/Src/task.c ****         case 2:
 353:App/Src/task.c ****             if (HAL_GetTick() < (timeout + 500)) {//上电500ms以后开始测量
 354:App/Src/task.c ****                 break;
 355:App/Src/task.c ****             }
 356:App/Src/task.c ****             i2c_result = rtc_read_temp(&rtcTemp);
 357:App/Src/task.c ****             if (i2c_result != I2C_OK) {
 358:App/Src/task.c ****                 UsbPrintf("chip%d i2c error, test end!\n", testNumber);
 359:App/Src/task.c ****                 log_printf("chip%d i2c error!\n", testNumber);
 360:App/Src/task.c ****                 return -1;
 361:App/Src/task.c ****             }
 362:App/Src/task.c ****                 g_machineTest.machine.sysTemp = (int)temp_read_value(1);
 363:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 364:App/Src/task.c ****                 if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 365:App/Src/task.c ****                     || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 366:App/Src/task.c ****                     result = 0;//温度测试异常，此次测试ng，但是会继续测试其他项目
 367:App/Src/task.c ****                 }
 368:App/Src/task.c ****                 state++;
 369:App/Src/task.c ****         break;
 370:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 371:App/Src/task.c ****         case 3:	
 372:App/Src/task.c **** 	        sd8825_out_freq();//烧写完成以后的输出频率和之前不同            
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 50


 373:App/Src/task.c ****             timeout = HAL_GetTick();
 374:App/Src/task.c ****             state++;
 375:App/Src/task.c ****         break;
 376:App/Src/task.c ****         case 4:
 377:App/Src/task.c ****             if (HAL_GetTick() > timeout + 100) {
 378:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 379:App/Src/task.c ****                 timeout = HAL_GetTick();
 380:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 381:App/Src/task.c ****                 state++;
 382:App/Src/task.c ****             }
 383:App/Src/task.c ****         break;
 384:App/Src/task.c ****         case 5:
 385:App/Src/task.c ****             if (g_lastFreq.recordTime > timeout) {//有新的数据更新，计算误差
 386:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 387:App/Src/task.c ****                 ppm = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 388:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 389:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 390:App/Src/task.c ****                 if (ppm < -2 || ppm > 2) {
 391:App/Src/task.c ****                     result = 0;
 392:App/Src/task.c ****                 }
 393:App/Src/task.c **** 	            sd8825_close_freq();
 394:App/Src/task.c ****                 state++;
 395:App/Src/task.c ****             }
 396:App/Src/task.c ****             if (HAL_GetTick() > timeout + 1500) {//1.5s超时
 397:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 398:App/Src/task.c ****                 log_printf("device no respose!\n");
 399:App/Src/task.c ****                 result = 0;
 400:App/Src/task.c **** 	            sd8825_close_freq();
 401:App/Src/task.c ****                 state++;
 402:App/Src/task.c ****             }
 403:App/Src/task.c ****         break;
 404:App/Src/task.c **** //----------------------------测试电流----------------------------------------------------
 405:App/Src/task.c ****         case 6:	
 406:App/Src/task.c ****             rtc_group_power(testNumber, POWER_VDD_I);
 407:App/Src/task.c ****             timeout = HAL_GetTick();
 408:App/Src/task.c ****             state++;
 409:App/Src/task.c ****         break;
 410:App/Src/task.c ****         case 7:	
 411:App/Src/task.c ****             if (HAL_GetTick() > (timeout + 1000)) {
 412:App/Src/task.c ****                 cur = CS1237Current();
 413:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 414:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 415:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 416:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 417:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1000) {
 418:App/Src/task.c ****                     result = 0;
 419:App/Src/task.c ****                 }
 420:App/Src/task.c **** 	            rtc_group_power(testNumber, POWER_I2C);
 421:App/Src/task.c ****                 timeout = HAL_GetTick();
 422:App/Src/task.c ****                 state++;
 423:App/Src/task.c ****             }
 424:App/Src/task.c ****         break;
 425:App/Src/task.c ****         case 8:
 426:App/Src/task.c ****             //-----------------------------测试结束------------------------------------------------
 427:App/Src/task.c ****             if (result == 0) {
 428:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 429:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 51


 430:App/Src/task.c ****             } else {
 431:App/Src/task.c ****                 UsbPrintf("test all end, chip %d OK\n", testNumber);
 432:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 433:App/Src/task.c ****             }
 434:App/Src/task.c ****             state = 0;
 435:App/Src/task.c ****         break;
 436:App/Src/task.c ****         default:  break;
 437:App/Src/task.c ****     }
 438:App/Src/task.c ****     if (HAL_GetTick() > startTime + 20000) { return -1; }//单个芯片测试时间超过20s时，强制判定ng；
 2034              		.loc 1 438 5 view .LVU504
 2035              		.loc 1 438 9 is_stmt 0 view .LVU505
 2036 00a0 FFF7FEFF 		bl	HAL_GetTick
 2037              	.LVL150:
 2038              		.loc 1 438 35 view .LVU506
 2039 00a4 914B     		ldr	r3, .L171+12
 2040 00a6 1B68     		ldr	r3, [r3]
 2041 00a8 03F59C43 		add	r3, r3, #19968
 2042 00ac 2033     		adds	r3, r3, #32
 2043              		.loc 1 438 8 view .LVU507
 2044 00ae 9842     		cmp	r0, r3
 2045 00b0 00F25481 		bhi	.L163
 439:App/Src/task.c ****     if (state == 0) {
 2046              		.loc 1 439 5 is_stmt 1 view .LVU508
 2047              		.loc 1 439 15 is_stmt 0 view .LVU509
 2048 00b4 8A4B     		ldr	r3, .L171
 2049 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2050              		.loc 1 439 8 view .LVU510
 2051 00b8 002B     		cmp	r3, #0
 2052 00ba 40F05581 		bne	.L164
 440:App/Src/task.c ****         if (result != 0) {
 2053              		.loc 1 440 9 is_stmt 1 view .LVU511
 2054              		.loc 1 440 20 is_stmt 0 view .LVU512
 2055 00be 8D4B     		ldr	r3, .L171+20
 2056 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2057              		.loc 1 440 12 view .LVU513
 2058 00c2 002B     		cmp	r3, #0
 2059 00c4 00F05281 		beq	.L165
 441:App/Src/task.c ****             return 1;
 2060              		.loc 1 441 20 view .LVU514
 2061 00c8 0120     		movs	r0, #1
 2062 00ca 49E1     		b	.L138
 2063              	.L148:
 353:App/Src/task.c ****                 break;
 2064              		.loc 1 353 13 is_stmt 1 view .LVU515
 353:App/Src/task.c ****                 break;
 2065              		.loc 1 353 17 is_stmt 0 view .LVU516
 2066 00cc FFF7FEFF 		bl	HAL_GetTick
 2067              	.LVL151:
 353:App/Src/task.c ****                 break;
 2068              		.loc 1 353 42 view .LVU517
 2069 00d0 894B     		ldr	r3, .L171+24
 2070 00d2 1B68     		ldr	r3, [r3]
 2071 00d4 03F5FA73 		add	r3, r3, #500
 353:App/Src/task.c ****                 break;
 2072              		.loc 1 353 16 view .LVU518
 2073 00d8 9842     		cmp	r0, r3
 2074 00da E1D3     		bcc	.L140
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 52


 356:App/Src/task.c ****             if (i2c_result != I2C_OK) {
 2075              		.loc 1 356 13 is_stmt 1 view .LVU519
 356:App/Src/task.c ****             if (i2c_result != I2C_OK) {
 2076              		.loc 1 356 26 is_stmt 0 view .LVU520
 2077 00dc 05A8     		add	r0, sp, #20
 2078 00de FFF7FEFF 		bl	rtc_read_temp
 2079              	.LVL152:
 357:App/Src/task.c ****                 UsbPrintf("chip%d i2c error, test end!\n", testNumber);
 2080              		.loc 1 357 13 is_stmt 1 view .LVU521
 357:App/Src/task.c ****                 UsbPrintf("chip%d i2c error, test end!\n", testNumber);
 2081              		.loc 1 357 16 is_stmt 0 view .LVU522
 2082 00e2 18BB     		cbnz	r0, .L168
 362:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 2083              		.loc 1 362 17 is_stmt 1 view .LVU523
 362:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 2084              		.loc 1 362 54 is_stmt 0 view .LVU524
 2085 00e4 0120     		movs	r0, #1
 2086              	.LVL153:
 362:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 2087              		.loc 1 362 54 view .LVU525
 2088 00e6 FFF7FEFF 		bl	temp_read_value
 2089              	.LVL154:
 362:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 2090              		.loc 1 362 49 view .LVU526
 2091 00ea FDEEC07A 		vcvt.s32.f32	s15, s0
 2092 00ee CDED037A 		vstr.32	s15, [sp, #12]	@ int
 362:App/Src/task.c ****                 g_machineTest.machine.rtcTemp = (int)rtcTemp;
 2093              		.loc 1 362 47 view .LVU527
 2094 00f2 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 2095 00f6 7C49     		ldr	r1, .L171+8
 2096 00f8 81F84A30 		strb	r3, [r1, #74]
 363:App/Src/task.c ****                 if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 2097              		.loc 1 363 17 is_stmt 1 view .LVU528
 363:App/Src/task.c ****                 if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 2098              		.loc 1 363 49 is_stmt 0 view .LVU529
 2099 00fc DDED057A 		vldr.32	s15, [sp, #20]
 2100 0100 FDEEE77A 		vcvt.s32.f32	s15, s15
 2101 0104 CDED037A 		vstr.32	s15, [sp, #12]	@ int
 363:App/Src/task.c ****                 if (g_machineTest.machine.rtcTemp > (g_machineTest.machine.sysTemp + 5) 
 2102              		.loc 1 363 47 view .LVU530
 2103 0108 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 2104 010c 81F84B20 		strb	r2, [r1, #75]
 364:App/Src/task.c ****                     || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 2105              		.loc 1 364 17 is_stmt 1 view .LVU531
 364:App/Src/task.c ****                     || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 2106              		.loc 1 364 84 is_stmt 0 view .LVU532
 2107 0110 591D     		adds	r1, r3, #5
 364:App/Src/task.c ****                     || g_machineTest.machine.rtcTemp < (g_machineTest.machine.sysTemp - 5)) {
 2108              		.loc 1 364 20 view .LVU533
 2109 0112 8A42     		cmp	r2, r1
 2110 0114 02DC     		bgt	.L152
 365:App/Src/task.c ****                     result = 0;//温度测试异常，此次测试ng，但是会继续测试其他项目
 2111              		.loc 1 365 87 view .LVU534
 2112 0116 053B     		subs	r3, r3, #5
 365:App/Src/task.c ****                     result = 0;//温度测试异常，此次测试ng，但是会继续测试其他项目
 2113              		.loc 1 365 21 view .LVU535
 2114 0118 9A42     		cmp	r2, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 53


 2115 011a 02DA     		bge	.L153
 2116              	.L152:
 366:App/Src/task.c ****                 }
 2117              		.loc 1 366 21 is_stmt 1 view .LVU536
 366:App/Src/task.c ****                 }
 2118              		.loc 1 366 28 is_stmt 0 view .LVU537
 2119 011c 754B     		ldr	r3, .L171+20
 2120 011e 0022     		movs	r2, #0
 2121 0120 1A70     		strb	r2, [r3]
 2122              	.L153:
 368:App/Src/task.c ****         break;
 2123              		.loc 1 368 17 is_stmt 1 view .LVU538
 368:App/Src/task.c ****         break;
 2124              		.loc 1 368 22 is_stmt 0 view .LVU539
 2125 0122 6F4A     		ldr	r2, .L171
 2126 0124 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2127 0126 0133     		adds	r3, r3, #1
 2128 0128 1370     		strb	r3, [r2]
 369:App/Src/task.c **** //-----------------------------测试频率------------------------------------------
 2129              		.loc 1 369 9 is_stmt 1 view .LVU540
 2130 012a B9E7     		b	.L140
 2131              	.LVL155:
 2132              	.L168:
 358:App/Src/task.c ****                 log_printf("chip%d i2c error!\n", testNumber);
 2133              		.loc 1 358 17 view .LVU541
 2134 012c 6D4C     		ldr	r4, .L171+4
 2135 012e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2136 0130 7248     		ldr	r0, .L171+28
 2137              	.LVL156:
 358:App/Src/task.c ****                 log_printf("chip%d i2c error!\n", testNumber);
 2138              		.loc 1 358 17 is_stmt 0 view .LVU542
 2139 0132 FFF7FEFF 		bl	UsbPrintf
 2140              	.LVL157:
 359:App/Src/task.c ****                 return -1;
 2141              		.loc 1 359 17 is_stmt 1 view .LVU543
 2142 0136 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 2143 0138 7148     		ldr	r0, .L171+32
 2144 013a FFF7FEFF 		bl	log_printf
 2145              	.LVL158:
 360:App/Src/task.c ****             }
 2146              		.loc 1 360 17 view .LVU544
 360:App/Src/task.c ****             }
 2147              		.loc 1 360 24 is_stmt 0 view .LVU545
 2148 013e 4FF0FF30 		mov	r0, #-1
 2149 0142 0DE1     		b	.L138
 2150              	.L147:
 372:App/Src/task.c ****             timeout = HAL_GetTick();
 2151              		.loc 1 372 10 is_stmt 1 view .LVU546
 2152 0144 FFF7FEFF 		bl	sd8825_out_freq
 2153              	.LVL159:
 373:App/Src/task.c ****             state++;
 2154              		.loc 1 373 13 view .LVU547
 373:App/Src/task.c ****             state++;
 2155              		.loc 1 373 23 is_stmt 0 view .LVU548
 2156 0148 FFF7FEFF 		bl	HAL_GetTick
 2157              	.LVL160:
 373:App/Src/task.c ****             state++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 54


 2158              		.loc 1 373 21 view .LVU549
 2159 014c 6A4B     		ldr	r3, .L171+24
 2160 014e 1860     		str	r0, [r3]
 374:App/Src/task.c ****         break;
 2161              		.loc 1 374 13 is_stmt 1 view .LVU550
 374:App/Src/task.c ****         break;
 2162              		.loc 1 374 18 is_stmt 0 view .LVU551
 2163 0150 634A     		ldr	r2, .L171
 2164 0152 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2165 0154 0133     		adds	r3, r3, #1
 2166 0156 1370     		strb	r3, [r2]
 375:App/Src/task.c ****         case 4:
 2167              		.loc 1 375 9 is_stmt 1 view .LVU552
 2168 0158 A2E7     		b	.L140
 2169              	.L146:
 377:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2170              		.loc 1 377 13 view .LVU553
 377:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2171              		.loc 1 377 17 is_stmt 0 view .LVU554
 2172 015a FFF7FEFF 		bl	HAL_GetTick
 2173              	.LVL161:
 377:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2174              		.loc 1 377 41 view .LVU555
 2175 015e 664B     		ldr	r3, .L171+24
 2176 0160 1B68     		ldr	r3, [r3]
 2177 0162 6433     		adds	r3, r3, #100
 377:App/Src/task.c **** 	            DevicePrintf(":MEAS?\n");
 2178              		.loc 1 377 16 view .LVU556
 2179 0164 9842     		cmp	r0, r3
 2180 0166 9BD9     		bls	.L140
 378:App/Src/task.c ****                 timeout = HAL_GetTick();
 2181              		.loc 1 378 14 is_stmt 1 view .LVU557
 2182 0168 6648     		ldr	r0, .L171+36
 2183 016a FFF7FEFF 		bl	DevicePrintf
 2184              	.LVL162:
 379:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2185              		.loc 1 379 17 view .LVU558
 379:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2186              		.loc 1 379 27 is_stmt 0 view .LVU559
 2187 016e FFF7FEFF 		bl	HAL_GetTick
 2188              	.LVL163:
 379:App/Src/task.c ****                 g_lastFreq.recordTime = timeout;
 2189              		.loc 1 379 25 view .LVU560
 2190 0172 614B     		ldr	r3, .L171+24
 2191 0174 1860     		str	r0, [r3]
 380:App/Src/task.c ****                 state++;
 2192              		.loc 1 380 17 is_stmt 1 view .LVU561
 380:App/Src/task.c ****                 state++;
 2193              		.loc 1 380 39 is_stmt 0 view .LVU562
 2194 0176 644B     		ldr	r3, .L171+40
 2195 0178 1860     		str	r0, [r3]
 381:App/Src/task.c ****             }
 2196              		.loc 1 381 17 is_stmt 1 view .LVU563
 381:App/Src/task.c ****             }
 2197              		.loc 1 381 22 is_stmt 0 view .LVU564
 2198 017a 594A     		ldr	r2, .L171
 2199 017c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 55


 2200 017e 0133     		adds	r3, r3, #1
 2201 0180 1370     		strb	r3, [r2]
 2202 0182 8DE7     		b	.L140
 2203              	.L145:
 385:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2204              		.loc 1 385 13 is_stmt 1 view .LVU565
 385:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2205              		.loc 1 385 27 is_stmt 0 view .LVU566
 2206 0184 604B     		ldr	r3, .L171+40
 2207 0186 1A68     		ldr	r2, [r3]
 385:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2208              		.loc 1 385 39 view .LVU567
 2209 0188 5B4B     		ldr	r3, .L171+24
 2210 018a 1B68     		ldr	r3, [r3]
 385:App/Src/task.c ****                 g_machineTest.machine.testFreq = g_lastFreq.freq;
 2211              		.loc 1 385 16 view .LVU568
 2212 018c 9A42     		cmp	r2, r3
 2213 018e 19D8     		bhi	.L169
 2214              	.L154:
 396:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2215              		.loc 1 396 13 is_stmt 1 view .LVU569
 396:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2216              		.loc 1 396 17 is_stmt 0 view .LVU570
 2217 0190 FFF7FEFF 		bl	HAL_GetTick
 2218              	.LVL164:
 396:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2219              		.loc 1 396 41 view .LVU571
 2220 0194 584B     		ldr	r3, .L171+24
 2221 0196 1B68     		ldr	r3, [r3]
 2222 0198 03F2DC53 		addw	r3, r3, #1500
 396:App/Src/task.c ****                 UsbPrintf("device no respose!\n");
 2223              		.loc 1 396 16 view .LVU572
 2224 019c 9842     		cmp	r0, r3
 2225 019e 7FF67FAF 		bls	.L140
 397:App/Src/task.c ****                 log_printf("device no respose!\n");
 2226              		.loc 1 397 17 is_stmt 1 view .LVU573
 2227 01a2 5A4C     		ldr	r4, .L171+44
 2228 01a4 2046     		mov	r0, r4
 2229 01a6 FFF7FEFF 		bl	UsbPrintf
 2230              	.LVL165:
 398:App/Src/task.c ****                 result = 0;
 2231              		.loc 1 398 17 view .LVU574
 2232 01aa 2046     		mov	r0, r4
 2233 01ac FFF7FEFF 		bl	log_printf
 2234              	.LVL166:
 399:App/Src/task.c **** 	            sd8825_close_freq();
 2235              		.loc 1 399 17 view .LVU575
 399:App/Src/task.c **** 	            sd8825_close_freq();
 2236              		.loc 1 399 24 is_stmt 0 view .LVU576
 2237 01b0 504B     		ldr	r3, .L171+20
 2238 01b2 0022     		movs	r2, #0
 2239 01b4 1A70     		strb	r2, [r3]
 400:App/Src/task.c ****                 state++;
 2240              		.loc 1 400 14 is_stmt 1 view .LVU577
 2241 01b6 FFF7FEFF 		bl	sd8825_close_freq
 2242              	.LVL167:
 401:App/Src/task.c ****             }
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 56


 2243              		.loc 1 401 17 view .LVU578
 401:App/Src/task.c ****             }
 2244              		.loc 1 401 22 is_stmt 0 view .LVU579
 2245 01ba 494A     		ldr	r2, .L171
 2246 01bc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2247 01be 0133     		adds	r3, r3, #1
 2248 01c0 1370     		strb	r3, [r2]
 2249 01c2 6DE7     		b	.L140
 2250              	.L169:
 386:App/Src/task.c ****                 ppm = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 2251              		.loc 1 386 17 is_stmt 1 view .LVU580
 386:App/Src/task.c ****                 ppm = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 2252              		.loc 1 386 60 is_stmt 0 view .LVU581
 2253 01c4 504B     		ldr	r3, .L171+40
 2254 01c6 D3ED018A 		vldr.32	s17, [r3, #4]
 386:App/Src/task.c ****                 ppm = (g_machineTest.machine.testFreq / CENTER_FREQENCY - 1) * 1000000;
 2255              		.loc 1 386 48 view .LVU582
 2256 01ca 474F     		ldr	r7, .L171+8
 2257 01cc C7ED138A 		vstr.32	s17, [r7, #76]
 387:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 2258              		.loc 1 387 17 is_stmt 1 view .LVU583
 387:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 2259              		.loc 1 387 55 is_stmt 0 view .LVU584
 2260 01d0 9FED4F8A 		vldr.32	s16, .L171+48
 2261 01d4 28EE888A 		vmul.f32	s16, s17, s16
 387:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 2262              		.loc 1 387 73 view .LVU585
 2263 01d8 F7EE007A 		vmov.f32	s15, #1.0e+0
 2264 01dc 38EE678A 		vsub.f32	s16, s16, s15
 387:App/Src/task.c ****                 UsbPrintf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 2265              		.loc 1 387 21 view .LVU586
 2266 01e0 DFED4C7A 		vldr.32	s15, .L171+52
 2267 01e4 28EE278A 		vmul.f32	s16, s16, s15
 2268              	.LVL168:
 388:App/Src/task.c ****                 log_printf("%f, ppm:%.2f\n", g_machineTest.machine.testFreq, ppm);
 2269              		.loc 1 388 17 is_stmt 1 view .LVU587
 2270 01e8 18EE100A 		vmov	r0, s16
 2271 01ec FFF7FEFF 		bl	__aeabi_f2d
 2272              	.LVL169:
 2273 01f0 0446     		mov	r4, r0
 2274 01f2 0D46     		mov	r5, r1
 2275 01f4 18EE900A 		vmov	r0, s17
 2276 01f8 FFF7FEFF 		bl	__aeabi_f2d
 2277              	.LVL170:
 2278 01fc 0246     		mov	r2, r0
 2279 01fe 0B46     		mov	r3, r1
 2280 0200 454E     		ldr	r6, .L171+56
 2281 0202 CDE90045 		strd	r4, [sp]
 2282 0206 3046     		mov	r0, r6
 2283 0208 FFF7FEFF 		bl	UsbPrintf
 2284              	.LVL171:
 389:App/Src/task.c ****                 if (ppm < -2 || ppm > 2) {
 2285              		.loc 1 389 17 view .LVU588
 2286 020c F86C     		ldr	r0, [r7, #76]	@ float
 2287 020e FFF7FEFF 		bl	__aeabi_f2d
 2288              	.LVL172:
 2289 0212 0246     		mov	r2, r0
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 57


 2290 0214 0B46     		mov	r3, r1
 2291 0216 CDE90045 		strd	r4, [sp]
 2292 021a 3046     		mov	r0, r6
 2293 021c FFF7FEFF 		bl	log_printf
 2294              	.LVL173:
 390:App/Src/task.c ****                     result = 0;
 2295              		.loc 1 390 17 view .LVU589
 390:App/Src/task.c ****                     result = 0;
 2296              		.loc 1 390 20 is_stmt 0 view .LVU590
 2297 0220 F8EE007A 		vmov.f32	s15, #-2.0e+0
 2298 0224 B4EEE78A 		vcmpe.f32	s16, s15
 2299 0228 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2300 022c 06D4     		bmi	.L155
 390:App/Src/task.c ****                     result = 0;
 2301              		.loc 1 390 30 discriminator 1 view .LVU591
 2302 022e F0EE007A 		vmov.f32	s15, #2.0e+0
 2303 0232 B4EEE78A 		vcmpe.f32	s16, s15
 2304 0236 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2305 023a 02DD     		ble	.L156
 2306              	.L155:
 391:App/Src/task.c ****                 }
 2307              		.loc 1 391 21 is_stmt 1 view .LVU592
 391:App/Src/task.c ****                 }
 2308              		.loc 1 391 28 is_stmt 0 view .LVU593
 2309 023c 2D4B     		ldr	r3, .L171+20
 2310 023e 0022     		movs	r2, #0
 2311 0240 1A70     		strb	r2, [r3]
 2312              	.L156:
 393:App/Src/task.c ****                 state++;
 2313              		.loc 1 393 14 is_stmt 1 view .LVU594
 2314 0242 FFF7FEFF 		bl	sd8825_close_freq
 2315              	.LVL174:
 394:App/Src/task.c ****             }
 2316              		.loc 1 394 17 view .LVU595
 394:App/Src/task.c ****             }
 2317              		.loc 1 394 22 is_stmt 0 view .LVU596
 2318 0246 264A     		ldr	r2, .L171
 2319 0248 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2320 024a 0133     		adds	r3, r3, #1
 2321 024c 1370     		strb	r3, [r2]
 2322 024e 9FE7     		b	.L154
 2323              	.LVL175:
 2324              	.L144:
 406:App/Src/task.c ****             timeout = HAL_GetTick();
 2325              		.loc 1 406 13 is_stmt 1 view .LVU597
 2326 0250 0321     		movs	r1, #3
 2327 0252 244B     		ldr	r3, .L171+4
 2328 0254 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2329 0256 FFF7FEFF 		bl	rtc_group_power
 2330              	.LVL176:
 407:App/Src/task.c ****             state++;
 2331              		.loc 1 407 13 view .LVU598
 407:App/Src/task.c ****             state++;
 2332              		.loc 1 407 23 is_stmt 0 view .LVU599
 2333 025a FFF7FEFF 		bl	HAL_GetTick
 2334              	.LVL177:
 407:App/Src/task.c ****             state++;
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 58


 2335              		.loc 1 407 21 view .LVU600
 2336 025e 264B     		ldr	r3, .L171+24
 2337 0260 1860     		str	r0, [r3]
 408:App/Src/task.c ****         break;
 2338              		.loc 1 408 13 is_stmt 1 view .LVU601
 408:App/Src/task.c ****         break;
 2339              		.loc 1 408 18 is_stmt 0 view .LVU602
 2340 0262 1F4A     		ldr	r2, .L171
 2341 0264 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2342 0266 0133     		adds	r3, r3, #1
 2343 0268 1370     		strb	r3, [r2]
 409:App/Src/task.c ****         case 7:	
 2344              		.loc 1 409 9 is_stmt 1 view .LVU603
 2345 026a 19E7     		b	.L140
 2346              	.L143:
 411:App/Src/task.c ****                 cur = CS1237Current();
 2347              		.loc 1 411 13 view .LVU604
 411:App/Src/task.c ****                 cur = CS1237Current();
 2348              		.loc 1 411 17 is_stmt 0 view .LVU605
 2349 026c FFF7FEFF 		bl	HAL_GetTick
 2350              	.LVL178:
 411:App/Src/task.c ****                 cur = CS1237Current();
 2351              		.loc 1 411 42 view .LVU606
 2352 0270 214B     		ldr	r3, .L171+24
 2353 0272 1B68     		ldr	r3, [r3]
 2354 0274 03F57A73 		add	r3, r3, #1000
 411:App/Src/task.c ****                 cur = CS1237Current();
 2355              		.loc 1 411 16 view .LVU607
 2356 0278 9842     		cmp	r0, r3
 2357 027a 7FF611AF 		bls	.L140
 412:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2358              		.loc 1 412 17 is_stmt 1 view .LVU608
 412:App/Src/task.c ****                 if (cur < 0) {cur = 0;}
 2359              		.loc 1 412 23 is_stmt 0 view .LVU609
 2360 027e FFF7FEFF 		bl	CS1237Current
 2361              	.LVL179:
 413:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2362              		.loc 1 413 17 is_stmt 1 view .LVU610
 413:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2363              		.loc 1 413 20 is_stmt 0 view .LVU611
 2364 0282 B5EEC00A 		vcmpe.f32	s0, #0
 2365 0286 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2366 028a 26D4     		bmi	.L170
 2367              	.LVL180:
 2368              	.L158:
 414:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2369              		.loc 1 414 17 is_stmt 1 view .LVU612
 414:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2370              		.loc 1 414 46 is_stmt 0 view .LVU613
 2371 028c BDEEC00A 		vcvt.s32.f32	s0, s0
 2372              	.LVL181:
 414:App/Src/task.c ****                 UsbPrintf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2373              		.loc 1 414 44 view .LVU614
 2374 0290 10EE103A 		vmov	r3, s0	@ int
 2375 0294 99B2     		uxth	r1, r3
 2376 0296 144C     		ldr	r4, .L171+8
 2377 0298 A4F84410 		strh	r1, [r4, #68]	@ movhi
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 59


 415:App/Src/task.c ****                 log_printf("vdd:%dnA\n", g_machineTest.machine.Ivdd);
 2378              		.loc 1 415 17 is_stmt 1 view .LVU615
 2379 029c 1F4D     		ldr	r5, .L171+60
 2380 029e 2846     		mov	r0, r5
 2381 02a0 FFF7FEFF 		bl	UsbPrintf
 2382              	.LVL182:
 416:App/Src/task.c ****                 if (g_machineTest.machine.Ivdd > 1000) {
 2383              		.loc 1 416 17 view .LVU616
 2384 02a4 B4F84410 		ldrh	r1, [r4, #68]
 2385 02a8 2846     		mov	r0, r5
 2386 02aa FFF7FEFF 		bl	log_printf
 2387              	.LVL183:
 417:App/Src/task.c ****                     result = 0;
 2388              		.loc 1 417 17 view .LVU617
 417:App/Src/task.c ****                     result = 0;
 2389              		.loc 1 417 42 is_stmt 0 view .LVU618
 2390 02ae B4F84430 		ldrh	r3, [r4, #68]
 417:App/Src/task.c ****                     result = 0;
 2391              		.loc 1 417 20 view .LVU619
 2392 02b2 B3F57A7F 		cmp	r3, #1000
 2393 02b6 02D9     		bls	.L159
 418:App/Src/task.c ****                 }
 2394              		.loc 1 418 21 is_stmt 1 view .LVU620
 418:App/Src/task.c ****                 }
 2395              		.loc 1 418 28 is_stmt 0 view .LVU621
 2396 02b8 0E4B     		ldr	r3, .L171+20
 2397 02ba 0022     		movs	r2, #0
 2398 02bc 1A70     		strb	r2, [r3]
 2399              	.L159:
 420:App/Src/task.c ****                 timeout = HAL_GetTick();
 2400              		.loc 1 420 14 is_stmt 1 view .LVU622
 2401 02be 0121     		movs	r1, #1
 2402 02c0 084B     		ldr	r3, .L171+4
 2403 02c2 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2404 02c4 FFF7FEFF 		bl	rtc_group_power
 2405              	.LVL184:
 421:App/Src/task.c ****                 state++;
 2406              		.loc 1 421 17 view .LVU623
 421:App/Src/task.c ****                 state++;
 2407              		.loc 1 421 27 is_stmt 0 view .LVU624
 2408 02c8 FFF7FEFF 		bl	HAL_GetTick
 2409              	.LVL185:
 421:App/Src/task.c ****                 state++;
 2410              		.loc 1 421 25 view .LVU625
 2411 02cc 0A4B     		ldr	r3, .L171+24
 2412 02ce 1860     		str	r0, [r3]
 422:App/Src/task.c ****             }
 2413              		.loc 1 422 17 is_stmt 1 view .LVU626
 422:App/Src/task.c ****             }
 2414              		.loc 1 422 22 is_stmt 0 view .LVU627
 2415 02d0 034A     		ldr	r2, .L171
 2416 02d2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2417 02d4 0133     		adds	r3, r3, #1
 2418 02d6 1370     		strb	r3, [r2]
 2419 02d8 E2E6     		b	.L140
 2420              	.LVL186:
 2421              	.L170:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 60


 413:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2422              		.loc 1 413 35 view .LVU628
 2423 02da 9FED110A 		vldr.32	s0, .L171+64
 2424              	.LVL187:
 413:App/Src/task.c ****                 g_machineTest.machine.Ivdd = (int)cur;
 2425              		.loc 1 413 35 view .LVU629
 2426 02de D5E7     		b	.L158
 2427              	.L172:
 2428              		.align	2
 2429              	.L171:
 2430 02e0 00000000 		.word	.LANCHOR12
 2431 02e4 00000000 		.word	.LANCHOR13
 2432 02e8 00000000 		.word	.LANCHOR14
 2433 02ec 00000000 		.word	.LANCHOR15
 2434 02f0 00000000 		.word	.LC11
 2435 02f4 00000000 		.word	.LANCHOR16
 2436 02f8 00000000 		.word	.LANCHOR17
 2437 02fc 18000000 		.word	.LC12
 2438 0300 38000000 		.word	.LC13
 2439 0304 54000000 		.word	.LC6
 2440 0308 00000000 		.word	.LANCHOR8
 2441 030c 5C000000 		.word	.LC15
 2442 0310 0000803C 		.word	1015021568
 2443 0314 00247449 		.word	1232348160
 2444 0318 4C000000 		.word	.LC14
 2445 031c 70000000 		.word	.LC16
 2446 0320 00000000 		.word	0
 2447              	.L141:
 427:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2448              		.loc 1 427 13 is_stmt 1 view .LVU630
 427:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2449              		.loc 1 427 24 is_stmt 0 view .LVU631
 2450 0324 134B     		ldr	r3, .L173
 2451 0326 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 427:App/Src/task.c ****                 UsbPrintf("test all end, chip %d NG\n", testNumber);
 2452              		.loc 1 427 16 view .LVU632
 2453 0328 6BB9     		cbnz	r3, .L160
 428:App/Src/task.c ****                 log_printf("test all end, chip %d NG\n", testNumber);
 2454              		.loc 1 428 17 is_stmt 1 view .LVU633
 2455 032a 134D     		ldr	r5, .L173+4
 2456 032c 134C     		ldr	r4, .L173+8
 2457 032e 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2458 0330 2046     		mov	r0, r4
 2459 0332 FFF7FEFF 		bl	UsbPrintf
 2460              	.LVL188:
 429:App/Src/task.c ****             } else {
 2461              		.loc 1 429 17 view .LVU634
 2462 0336 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2463 0338 2046     		mov	r0, r4
 2464 033a FFF7FEFF 		bl	log_printf
 2465              	.LVL189:
 2466              	.L161:
 434:App/Src/task.c ****         break;
 2467              		.loc 1 434 13 view .LVU635
 434:App/Src/task.c ****         break;
 2468              		.loc 1 434 19 is_stmt 0 view .LVU636
 2469 033e 104B     		ldr	r3, .L173+12
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 61


 2470 0340 0022     		movs	r2, #0
 2471 0342 1A70     		strb	r2, [r3]
 435:App/Src/task.c ****         default:  break;
 2472              		.loc 1 435 9 is_stmt 1 view .LVU637
 2473 0344 ACE6     		b	.L140
 2474              	.L160:
 431:App/Src/task.c ****                 log_printf("test all end, chip %d OK\n", testNumber);
 2475              		.loc 1 431 17 view .LVU638
 2476 0346 0C4D     		ldr	r5, .L173+4
 2477 0348 0E4C     		ldr	r4, .L173+16
 2478 034a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2479 034c 2046     		mov	r0, r4
 2480 034e FFF7FEFF 		bl	UsbPrintf
 2481              	.LVL190:
 432:App/Src/task.c ****             }
 2482              		.loc 1 432 17 view .LVU639
 2483 0352 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 2484 0354 2046     		mov	r0, r4
 2485 0356 FFF7FEFF 		bl	log_printf
 2486              	.LVL191:
 2487 035a F0E7     		b	.L161
 2488              	.L163:
 438:App/Src/task.c ****     if (state == 0) {
 2489              		.loc 1 438 53 is_stmt 0 view .LVU640
 2490 035c 4FF0FF30 		mov	r0, #-1
 2491              	.L138:
 442:App/Src/task.c ****         } else {
 443:App/Src/task.c ****             return -1;
 444:App/Src/task.c ****         }
 445:App/Src/task.c ****     } else {
 446:App/Src/task.c ****         return 0;
 447:App/Src/task.c ****     }
 448:App/Src/task.c **** }
 2492              		.loc 1 448 1 view .LVU641
 2493 0360 07B0     		add	sp, sp, #28
 2494              	.LCFI21:
 2495              		.cfi_remember_state
 2496              		.cfi_def_cfa_offset 28
 2497              		@ sp needed
 2498 0362 BDEC028B 		vldm	sp!, {d8}
 2499              	.LCFI22:
 2500              		.cfi_restore 80
 2501              		.cfi_restore 81
 2502              		.cfi_def_cfa_offset 20
 2503 0366 F0BD     		pop	{r4, r5, r6, r7, pc}
 2504              	.L164:
 2505              	.LCFI23:
 2506              		.cfi_restore_state
 446:App/Src/task.c ****     }
 2507              		.loc 1 446 16 view .LVU642
 2508 0368 0020     		movs	r0, #0
 2509 036a F9E7     		b	.L138
 2510              	.L165:
 443:App/Src/task.c ****         }
 2511              		.loc 1 443 20 view .LVU643
 2512 036c 4FF0FF30 		mov	r0, #-1
 2513 0370 F6E7     		b	.L138
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 62


 2514              	.L174:
 2515 0372 00BF     		.align	2
 2516              	.L173:
 2517 0374 00000000 		.word	.LANCHOR16
 2518 0378 00000000 		.word	.LANCHOR13
 2519 037c 7C000000 		.word	.LC17
 2520 0380 00000000 		.word	.LANCHOR12
 2521 0384 98000000 		.word	.LC18
 2522              		.cfi_endproc
 2523              	.LFE242:
 2525              		.section	.rodata.command_freq_test.str1.4,"aMS",%progbits,1
 2526              		.align	2
 2527              	.LC19:
 2528 0000 73797374 		.ascii	"system temp:%.1f\012\000"
 2528      656D2074 
 2528      656D703A 
 2528      252E3166 
 2528      0A00
 2529 0012 0000     		.align	2
 2530              	.LC20:
 2531 0014 63686970 		.ascii	"chip:%d, temp:%.0f, \000"
 2531      3A25642C 
 2531      2074656D 
 2531      703A252E 
 2531      30662C20 
 2532 0029 000000   		.align	2
 2533              	.LC21:
 2534 002c 252E3266 		.ascii	"%.2fppm\012\000"
 2534      70706D0A 
 2534      00
 2535 0035 000000   		.align	2
 2536              	.LC22:
 2537 0038 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:%.2fppm\000"
 2537      6D626572 
 2537      3A256420 
 2537      63686970 
 2537      4E616D65 
 2538              		.align	2
 2539              	.LC23:
 2540 0060 6E6F2072 		.ascii	"no response\012\000"
 2540      6573706F 
 2540      6E73650A 
 2540      00
 2541 006d 000000   		.align	2
 2542              	.LC24:
 2543 0070 6F6B4E75 		.ascii	"okNumber:%d chipName:%d message:\306\265\302\312\274"
 2543      6D626572 
 2543      3A256420 
 2543      63686970 
 2543      4E616D65 
 2544 0095 C6CEDEBD 		.ascii	"\306\316\336\275\341\271\373\000"
 2544      E1B9FB00 
 2545              		.section	.text.command_freq_test,"ax",%progbits
 2546              		.align	1
 2547              		.global	command_freq_test
 2548              		.syntax unified
 2549              		.thumb
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 63


 2550              		.thumb_func
 2552              	command_freq_test:
 2553              	.LVL192:
 2554              	.LFB243:
 449:App/Src/task.c **** 
 450:App/Src/task.c **** 
 451:App/Src/task.c **** int command_freq_test(uint8_t number)
 452:App/Src/task.c **** {
 2555              		.loc 1 452 1 is_stmt 1 view -0
 2556              		.cfi_startproc
 2557              		@ args = 0, pretend = 0, frame = 8
 2558              		@ frame_needed = 0, uses_anonymous_args = 0
 2559              		.loc 1 452 1 is_stmt 0 view .LVU645
 2560 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2561              	.LCFI24:
 2562              		.cfi_def_cfa_offset 20
 2563              		.cfi_offset 4, -20
 2564              		.cfi_offset 5, -16
 2565              		.cfi_offset 6, -12
 2566              		.cfi_offset 7, -8
 2567              		.cfi_offset 14, -4
 2568 0002 85B0     		sub	sp, sp, #20
 2569              	.LCFI25:
 2570              		.cfi_def_cfa_offset 40
 453:App/Src/task.c ****     static uint32_t lastTestTime = 0;
 2571              		.loc 1 453 5 is_stmt 1 view .LVU646
 454:App/Src/task.c ****     float temp, ppm;
 2572              		.loc 1 454 5 view .LVU647
 455:App/Src/task.c ****     static uint8_t testState = 0;
 2573              		.loc 1 455 5 view .LVU648
 456:App/Src/task.c ****     int result = 0;
 2574              		.loc 1 456 5 view .LVU649
 2575              	.LVL193:
 457:App/Src/task.c ****     static uint8_t okCount = 0;
 2576              		.loc 1 457 5 view .LVU650
 458:App/Src/task.c **** 
 459:App/Src/task.c ****     if (number == 0) {
 2577              		.loc 1 459 5 view .LVU651
 2578              		.loc 1 459 8 is_stmt 0 view .LVU652
 2579 0004 58B1     		cbz	r0, .L185
 2580 0006 0546     		mov	r5, r0
 460:App/Src/task.c ****         testState = 1;
 461:App/Src/task.c ****         temp = temp_read_value(1);
 462:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 463:App/Src/task.c ****         okCount = 0;
 464:App/Src/task.c ****         return 1;
 465:App/Src/task.c ****     } 
 466:App/Src/task.c ****     switch (testState) {
 2581              		.loc 1 466 5 is_stmt 1 view .LVU653
 2582 0008 4C4B     		ldr	r3, .L189
 2583 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2584 000c 022B     		cmp	r3, #2
 2585 000e 3AD0     		beq	.L178
 2586 0010 032B     		cmp	r3, #3
 2587 0012 47D0     		beq	.L179
 2588 0014 012B     		cmp	r3, #1
 2589 0016 18D0     		beq	.L186
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 64


 2590 0018 0020     		movs	r0, #0
 2591              	.LVL194:
 2592              	.L175:
 467:App/Src/task.c ****         case 0: break;
 468:App/Src/task.c ****         case 1:
 469:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
 470:App/Src/task.c ****             HAL_Delay(5);
 471:App/Src/task.c ****             if (rtc_read_temp(&temp) == I2C_OK) {
 472:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 473:App/Src/task.c ****                 sd8825_out_freq();
 474:App/Src/task.c ****                 testState++;
 475:App/Src/task.c ****             } else {
 476:App/Src/task.c ****                 result = -1;
 477:App/Src/task.c ****             }
 478:App/Src/task.c ****         break;
 479:App/Src/task.c ****         case 2:
 480:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 481:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 482:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 483:App/Src/task.c ****             testState++;
 484:App/Src/task.c ****         break;
 485:App/Src/task.c ****         case 3:
 486:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 487:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 488:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 489:App/Src/task.c ****                 sd8825_close_freq();
 490:App/Src/task.c ****                 testState = 1;
 491:App/Src/task.c ****                 okCount++;
 492:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 493:App/Src/task.c ****                 result = 1;
 494:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 495:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 496:App/Src/task.c ****                 testState = 1;
 497:App/Src/task.c ****                 sd8825_close_freq();
 498:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 499:App/Src/task.c ****                 result = -1;
 500:App/Src/task.c ****             }
 501:App/Src/task.c ****         break;
 502:App/Src/task.c ****         default:  break;
 503:App/Src/task.c ****     }
 504:App/Src/task.c ****     return result;
 505:App/Src/task.c **** }...
 2593              		.loc 1 505 1 is_stmt 0 view .LVU654
 2594 001a 05B0     		add	sp, sp, #20
 2595              	.LCFI26:
 2596              		.cfi_remember_state
 2597              		.cfi_def_cfa_offset 20
 2598              		@ sp needed
 2599 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 2600              	.LVL195:
 2601              	.L185:
 2602              	.LCFI27:
 2603              		.cfi_restore_state
 460:App/Src/task.c ****         testState = 1;
 2604              		.loc 1 460 9 is_stmt 1 view .LVU655
 460:App/Src/task.c ****         testState = 1;
 2605              		.loc 1 460 19 is_stmt 0 view .LVU656
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 65


 2606 001e 0124     		movs	r4, #1
 2607 0020 464B     		ldr	r3, .L189
 2608 0022 1C70     		strb	r4, [r3]
 461:App/Src/task.c ****         temp = temp_read_value(1);
 2609              		.loc 1 461 9 is_stmt 1 view .LVU657
 461:App/Src/task.c ****         temp = temp_read_value(1);
 2610              		.loc 1 461 16 is_stmt 0 view .LVU658
 2611 0024 2046     		mov	r0, r4
 2612              	.LVL196:
 461:App/Src/task.c ****         temp = temp_read_value(1);
 2613              		.loc 1 461 16 view .LVU659
 2614 0026 FFF7FEFF 		bl	temp_read_value
 2615              	.LVL197:
 2616 002a 10EE100A 		vmov	r0, s0
 461:App/Src/task.c ****         temp = temp_read_value(1);
 2617              		.loc 1 461 14 view .LVU660
 2618 002e 8DED030A 		vstr.32	s0, [sp, #12]
 462:App/Src/task.c ****         UsbPrintf("system temp:%.1f\n", temp);
 2619              		.loc 1 462 9 is_stmt 1 view .LVU661
 2620 0032 FFF7FEFF 		bl	__aeabi_f2d
 2621              	.LVL198:
 2622 0036 0246     		mov	r2, r0
 2623 0038 0B46     		mov	r3, r1
 2624 003a 4148     		ldr	r0, .L189+4
 2625 003c FFF7FEFF 		bl	UsbPrintf
 2626              	.LVL199:
 463:App/Src/task.c ****         okCount = 0;
 2627              		.loc 1 463 9 view .LVU662
 463:App/Src/task.c ****         okCount = 0;
 2628              		.loc 1 463 17 is_stmt 0 view .LVU663
 2629 0040 404B     		ldr	r3, .L189+8
 2630 0042 0022     		movs	r2, #0
 2631 0044 1A70     		strb	r2, [r3]
 464:App/Src/task.c ****         return 1;
 2632              		.loc 1 464 9 is_stmt 1 view .LVU664
 464:App/Src/task.c ****         return 1;
 2633              		.loc 1 464 16 is_stmt 0 view .LVU665
 2634 0046 2046     		mov	r0, r4
 2635 0048 E7E7     		b	.L175
 2636              	.LVL200:
 2637              	.L186:
 469:App/Src/task.c ****             rtc_group_power(number, POWER_I2C);
 2638              		.loc 1 469 13 is_stmt 1 view .LVU666
 2639 004a 0121     		movs	r1, #1
 2640 004c FFF7FEFF 		bl	rtc_group_power
 2641              	.LVL201:
 470:App/Src/task.c ****             HAL_Delay(5);
 2642              		.loc 1 470 13 view .LVU667
 2643 0050 0520     		movs	r0, #5
 2644 0052 FFF7FEFF 		bl	HAL_Delay
 2645              	.LVL202:
 471:App/Src/task.c ****             if (rtc_read_temp(&temp) == I2C_OK) {
 2646              		.loc 1 471 13 view .LVU668
 471:App/Src/task.c ****             if (rtc_read_temp(&temp) == I2C_OK) {
 2647              		.loc 1 471 17 is_stmt 0 view .LVU669
 2648 0056 03A8     		add	r0, sp, #12
 2649 0058 FFF7FEFF 		bl	rtc_read_temp
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 66


 2650              	.LVL203:
 471:App/Src/task.c ****             if (rtc_read_temp(&temp) == I2C_OK) {
 2651              		.loc 1 471 16 view .LVU670
 2652 005c 10B1     		cbz	r0, .L187
 476:App/Src/task.c ****                 result = -1;
 2653              		.loc 1 476 24 view .LVU671
 2654 005e 4FF0FF30 		mov	r0, #-1
 2655 0062 DAE7     		b	.L175
 2656              	.L187:
 472:App/Src/task.c ****                 UsbPrintf("chip:%d, temp:%.0f, ", number, temp);
 2657              		.loc 1 472 17 is_stmt 1 view .LVU672
 2658 0064 0398     		ldr	r0, [sp, #12]	@ float
 2659 0066 FFF7FEFF 		bl	__aeabi_f2d
 2660              	.LVL204:
 2661 006a 0246     		mov	r2, r0
 2662 006c 0B46     		mov	r3, r1
 2663 006e 2946     		mov	r1, r5
 2664 0070 3548     		ldr	r0, .L189+12
 2665 0072 FFF7FEFF 		bl	UsbPrintf
 2666              	.LVL205:
 473:App/Src/task.c ****                 sd8825_out_freq();
 2667              		.loc 1 473 17 view .LVU673
 2668 0076 FFF7FEFF 		bl	sd8825_out_freq
 2669              	.LVL206:
 474:App/Src/task.c ****                 testState++;
 2670              		.loc 1 474 17 view .LVU674
 474:App/Src/task.c ****                 testState++;
 2671              		.loc 1 474 26 is_stmt 0 view .LVU675
 2672 007a 304A     		ldr	r2, .L189
 2673 007c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2674 007e 0133     		adds	r3, r3, #1
 2675 0080 1370     		strb	r3, [r2]
 456:App/Src/task.c ****     int result = 0;
 2676              		.loc 1 456 9 view .LVU676
 2677 0082 0020     		movs	r0, #0
 2678 0084 C9E7     		b	.L175
 2679              	.LVL207:
 2680              	.L178:
 480:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 2681              		.loc 1 480 13 is_stmt 1 view .LVU677
 480:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 2682              		.loc 1 480 28 is_stmt 0 view .LVU678
 2683 0086 FFF7FEFF 		bl	HAL_GetTick
 2684              	.LVL208:
 480:App/Src/task.c ****             lastTestTime = HAL_GetTick();
 2685              		.loc 1 480 26 view .LVU679
 2686 008a 304B     		ldr	r3, .L189+16
 2687 008c 1860     		str	r0, [r3]
 481:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 2688              		.loc 1 481 13 is_stmt 1 view .LVU680
 481:App/Src/task.c ****             g_lastFreq.recordTime = lastTestTime;
 2689              		.loc 1 481 35 is_stmt 0 view .LVU681
 2690 008e 304B     		ldr	r3, .L189+20
 2691 0090 1860     		str	r0, [r3]
 482:App/Src/task.c ****             DevicePrintf(":MEAS?\n");
 2692              		.loc 1 482 13 is_stmt 1 view .LVU682
 2693 0092 3048     		ldr	r0, .L189+24
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 67


 2694 0094 FFF7FEFF 		bl	DevicePrintf
 2695              	.LVL209:
 483:App/Src/task.c ****             testState++;
 2696              		.loc 1 483 13 view .LVU683
 483:App/Src/task.c ****             testState++;
 2697              		.loc 1 483 22 is_stmt 0 view .LVU684
 2698 0098 284A     		ldr	r2, .L189
 2699 009a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2700 009c 0133     		adds	r3, r3, #1
 2701 009e 1370     		strb	r3, [r2]
 484:App/Src/task.c ****         break;
 2702              		.loc 1 484 9 is_stmt 1 view .LVU685
 456:App/Src/task.c ****     int result = 0;
 2703              		.loc 1 456 9 is_stmt 0 view .LVU686
 2704 00a0 0020     		movs	r0, #0
 484:App/Src/task.c ****         break;
 2705              		.loc 1 484 9 view .LVU687
 2706 00a2 BAE7     		b	.L175
 2707              	.LVL210:
 2708              	.L179:
 486:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2709              		.loc 1 486 13 is_stmt 1 view .LVU688
 486:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2710              		.loc 1 486 27 is_stmt 0 view .LVU689
 2711 00a4 2A4B     		ldr	r3, .L189+20
 2712 00a6 1A68     		ldr	r2, [r3]
 486:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2713              		.loc 1 486 39 view .LVU690
 2714 00a8 284B     		ldr	r3, .L189+16
 2715 00aa 1C68     		ldr	r4, [r3]
 486:App/Src/task.c ****             if (g_lastFreq.recordTime > lastTestTime) {
 2716              		.loc 1 486 16 view .LVU691
 2717 00ac A242     		cmp	r2, r4
 2718 00ae 2BD9     		bls	.L180
 487:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2719              		.loc 1 487 17 is_stmt 1 view .LVU692
 487:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2720              		.loc 1 487 34 is_stmt 0 view .LVU693
 2721 00b0 274B     		ldr	r3, .L189+20
 2722 00b2 D3ED017A 		vldr.32	s15, [r3, #4]
 487:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2723              		.loc 1 487 40 view .LVU694
 2724 00b6 9FED287A 		vldr.32	s14, .L189+28
 2725 00ba 67EE877A 		vmul.f32	s15, s15, s14
 487:App/Src/task.c ****                 ppm = (g_lastFreq.freq / CENTER_FREQENCY - 1) * 1000000;
 2726              		.loc 1 487 58 view .LVU695
 2727 00be B7EE007A 		vmov.f32	s14, #1.0e+0
 2728 00c2 77EEC77A 		vsub.f32	s15, s15, s14
 2729              	.LVL211:
 488:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2730              		.loc 1 488 17 is_stmt 1 view .LVU696
 2731 00c6 9FED257A 		vldr.32	s14, .L189+32
 2732 00ca 67EE877A 		vmul.f32	s15, s15, s14
 2733              	.LVL212:
 488:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2734              		.loc 1 488 17 is_stmt 0 view .LVU697
 2735 00ce 17EE900A 		vmov	r0, s15
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 68


 2736              	.LVL213:
 488:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2737              		.loc 1 488 17 view .LVU698
 2738 00d2 FFF7FEFF 		bl	__aeabi_f2d
 2739              	.LVL214:
 488:App/Src/task.c ****                 UsbPrintf("%.2fppm\n", ppm);
 2740              		.loc 1 488 17 view .LVU699
 2741 00d6 0646     		mov	r6, r0
 2742 00d8 0F46     		mov	r7, r1
 2743 00da 0246     		mov	r2, r0
 2744 00dc 0B46     		mov	r3, r1
 2745 00de 2048     		ldr	r0, .L189+36
 2746 00e0 FFF7FEFF 		bl	UsbPrintf
 2747              	.LVL215:
 489:App/Src/task.c ****                 sd8825_close_freq();
 2748              		.loc 1 489 17 is_stmt 1 view .LVU700
 2749 00e4 FFF7FEFF 		bl	sd8825_close_freq
 2750              	.LVL216:
 490:App/Src/task.c ****                 testState = 1;
 2751              		.loc 1 490 17 view .LVU701
 490:App/Src/task.c ****                 testState = 1;
 2752              		.loc 1 490 27 is_stmt 0 view .LVU702
 2753 00e8 0124     		movs	r4, #1
 2754 00ea 144B     		ldr	r3, .L189
 2755 00ec 1C70     		strb	r4, [r3]
 491:App/Src/task.c ****                 okCount++;
 2756              		.loc 1 491 17 is_stmt 1 view .LVU703
 491:App/Src/task.c ****                 okCount++;
 2757              		.loc 1 491 24 is_stmt 0 view .LVU704
 2758 00ee 154B     		ldr	r3, .L189+8
 2759 00f0 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2760 00f2 2144     		add	r1, r1, r4
 2761 00f4 C9B2     		uxtb	r1, r1
 2762 00f6 1970     		strb	r1, [r3]
 492:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:%.2fppm", okCount, number, ppm);
 2763              		.loc 1 492 17 is_stmt 1 view .LVU705
 2764 00f8 CDE90067 		strd	r6, [sp]
 2765 00fc 2A46     		mov	r2, r5
 2766 00fe 1948     		ldr	r0, .L189+40
 2767 0100 FFF7FEFF 		bl	ControlPrintf
 2768              	.LVL217:
 493:App/Src/task.c ****                 result = 1;
 2769              		.loc 1 493 17 view .LVU706
 493:App/Src/task.c ****                 result = 1;
 2770              		.loc 1 493 24 is_stmt 0 view .LVU707
 2771 0104 2046     		mov	r0, r4
 2772 0106 88E7     		b	.L175
 2773              	.LVL218:
 2774              	.L180:
 494:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2775              		.loc 1 494 20 is_stmt 1 view .LVU708
 494:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2776              		.loc 1 494 37 is_stmt 0 view .LVU709
 2777 0108 04F2DC54 		addw	r4, r4, #1500
 494:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2778              		.loc 1 494 46 view .LVU710
 2779 010c FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 69


 2780              	.LVL219:
 494:App/Src/task.c ****             } else if (lastTestTime + 1500 < HAL_GetTick()) {   
 2781              		.loc 1 494 23 view .LVU711
 2782 0110 8442     		cmp	r4, r0
 2783 0112 01D3     		bcc	.L188
 456:App/Src/task.c ****     int result = 0;
 2784              		.loc 1 456 9 view .LVU712
 2785 0114 0020     		movs	r0, #0
 2786              	.LVL220:
 456:App/Src/task.c ****     int result = 0;
 2787              		.loc 1 456 9 view .LVU713
 2788 0116 80E7     		b	.L175
 2789              	.LVL221:
 2790              	.L188:
 495:App/Src/task.c ****                 UsbPrintf("no response\n"); 
 2791              		.loc 1 495 17 is_stmt 1 view .LVU714
 2792 0118 1348     		ldr	r0, .L189+44
 2793 011a FFF7FEFF 		bl	UsbPrintf
 2794              	.LVL222:
 496:App/Src/task.c ****                 testState = 1;
 2795              		.loc 1 496 17 view .LVU715
 496:App/Src/task.c ****                 testState = 1;
 2796              		.loc 1 496 27 is_stmt 0 view .LVU716
 2797 011e 074B     		ldr	r3, .L189
 2798 0120 0122     		movs	r2, #1
 2799 0122 1A70     		strb	r2, [r3]
 497:App/Src/task.c ****                 sd8825_close_freq();
 2800              		.loc 1 497 17 is_stmt 1 view .LVU717
 2801 0124 FFF7FEFF 		bl	sd8825_close_freq
 2802              	.LVL223:
 498:App/Src/task.c ****                 ControlPrintf("okNumber:%d chipName:%d message:频率计无结果", okCount, number);
 2803              		.loc 1 498 17 view .LVU718
 2804 0128 2A46     		mov	r2, r5
 2805 012a 064B     		ldr	r3, .L189+8
 2806 012c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2807 012e 0F48     		ldr	r0, .L189+48
 2808 0130 FFF7FEFF 		bl	ControlPrintf
 2809              	.LVL224:
 499:App/Src/task.c ****                 result = -1;
 2810              		.loc 1 499 17 view .LVU719
 499:App/Src/task.c ****                 result = -1;
 2811              		.loc 1 499 24 is_stmt 0 view .LVU720
 2812 0134 4FF0FF30 		mov	r0, #-1
 2813 0138 6FE7     		b	.L175
 2814              	.L190:
 2815 013a 00BF     		.align	2
 2816              	.L189:
 2817 013c 00000000 		.word	.LANCHOR18
 2818 0140 00000000 		.word	.LC19
 2819 0144 00000000 		.word	.LANCHOR19
 2820 0148 14000000 		.word	.LC20
 2821 014c 00000000 		.word	.LANCHOR20
 2822 0150 00000000 		.word	.LANCHOR8
 2823 0154 54000000 		.word	.LC6
 2824 0158 0000803C 		.word	1015021568
 2825 015c 00247449 		.word	1232348160
 2826 0160 2C000000 		.word	.LC21
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 70


 2827 0164 38000000 		.word	.LC22
 2828 0168 60000000 		.word	.LC23
 2829 016c 70000000 		.word	.LC24
 2830              		.cfi_endproc
 2831              	.LFE243:
 2833              		.global	g_machineTest
 2834              		.global	g_lastFreq
 2835              		.global	g_realTime
 2836              		.section	.bss.adjustCount.11,"aw",%nobits
 2837              		.set	.LANCHOR6,. + 0
 2840              	adjustCount.11:
 2841 0000 00       		.space	1
 2842              		.section	.bss.g_lastFreq,"aw",%nobits
 2843              		.align	2
 2844              		.set	.LANCHOR8,. + 0
 2847              	g_lastFreq:
 2848 0000 00000000 		.space	8
 2848      00000000 
 2849              		.section	.bss.g_machineTest,"aw",%nobits
 2850              		.align	2
 2851              		.set	.LANCHOR14,. + 0
 2854              	g_machineTest:
 2855 0000 00000000 		.space	236
 2855      00000000 
 2855      00000000 
 2855      00000000 
 2855      00000000 
 2856              		.section	.bss.g_realTime,"aw",%nobits
 2857              		.align	2
 2858              		.set	.LANCHOR2,. + 0
 2861              	g_realTime:
 2862 0000 00000000 		.space	8
 2862      00000000 
 2863              		.section	.bss.lastTestTime.0,"aw",%nobits
 2864              		.align	2
 2865              		.set	.LANCHOR20,. + 0
 2868              	lastTestTime.0:
 2869 0000 00000000 		.space	4
 2870              		.section	.bss.lastTestTime.10,"aw",%nobits
 2871              		.align	2
 2872              		.set	.LANCHOR7,. + 0
 2875              	lastTestTime.10:
 2876 0000 00000000 		.space	4
 2877              		.section	.bss.lastTick.16,"aw",%nobits
 2878              		.align	2
 2879              		.set	.LANCHOR1,. + 0
 2882              	lastTick.16:
 2883 0000 00000000 		.space	4
 2884              		.section	.bss.ledTick.17,"aw",%nobits
 2885              		.align	2
 2886              		.set	.LANCHOR0,. + 0
 2889              	ledTick.17:
 2890 0000 00000000 		.space	4
 2891              		.section	.bss.minCap.8,"aw",%nobits
 2892              		.align	2
 2893              		.set	.LANCHOR10,. + 0
 2896              	minCap.8:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 71


 2897 0000 00000000 		.space	4
 2898              		.section	.bss.okCount.1,"aw",%nobits
 2899              		.set	.LANCHOR19,. + 0
 2902              	okCount.1:
 2903 0000 00       		.space	1
 2904              		.section	.bss.responseCount.9,"aw",%nobits
 2905              		.set	.LANCHOR9,. + 0
 2908              	responseCount.9:
 2909 0000 00       		.space	1
 2910              		.section	.bss.startTime.5,"aw",%nobits
 2911              		.align	2
 2912              		.set	.LANCHOR15,. + 0
 2915              	startTime.5:
 2916 0000 00000000 		.space	4
 2917              		.section	.bss.state.7,"aw",%nobits
 2918              		.set	.LANCHOR12,. + 0
 2921              	state.7:
 2922 0000 00       		.space	1
 2923              		.section	.bss.systemTick.15,"aw",%nobits
 2924              		.align	2
 2925              		.set	.LANCHOR11,. + 0
 2928              	systemTick.15:
 2929 0000 00000000 		.space	4
 2930              		.section	.bss.testNumber.6,"aw",%nobits
 2931              		.set	.LANCHOR13,. + 0
 2934              	testNumber.6:
 2935 0000 00       		.space	1
 2936              		.section	.bss.testState.14,"aw",%nobits
 2937              		.align	2
 2938              		.set	.LANCHOR3,. + 0
 2941              	testState.14:
 2942 0000 00000000 		.space	4
 2943              		.section	.bss.testState.2,"aw",%nobits
 2944              		.set	.LANCHOR18,. + 0
 2947              	testState.2:
 2948 0000 00       		.space	1
 2949              		.section	.bss.timeout.3,"aw",%nobits
 2950              		.align	2
 2951              		.set	.LANCHOR17,. + 0
 2954              	timeout.3:
 2955 0000 00000000 		.space	4
 2956              		.section	.data.lastCap.13,"aw"
 2957              		.align	2
 2958              		.set	.LANCHOR4,. + 0
 2961              	lastCap.13:
 2962 0000 00003041 		.word	1093664768
 2963              		.section	.data.minPpm.12,"aw"
 2964              		.align	2
 2965              		.set	.LANCHOR5,. + 0
 2968              	minPpm.12:
 2969 0000 00007A44 		.word	1148846080
 2970              		.section	.data.result.4,"aw"
 2971              		.set	.LANCHOR16,. + 0
 2974              	result.4:
 2975 0000 01       		.byte	1
 2976              		.text
 2977              	.Letext0:
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 72


 2978              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 2979              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 2980              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 2981              		.file 5 "Core/Inc/main.h"
 2982              		.file 6 "App/Inc/task.h"
 2983              		.file 7 "App/Inc/manager.h"
 2984              		.file 8 "Drivers/User_Driver/Inc/soft_i2c.h"
 2985              		.file 9 "Device/Inc/power.h"
 2986              		.file 10 "Device/Inc/flash.h"
 2987              		.file 11 "App/Inc/calculate.h"
 2988              		.file 12 "Device/Inc/temp.h"
 2989              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2990              		.file 14 "Device/Inc/rtc.h"
 2991              		.file 15 "Device/Inc/current.h"
 2992              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 73


DEFINED SYMBOLS
                            *ABS*:00000000 task.c
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:20     .text.LedHeart:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:26     .text.LedHeart:00000000 LedHeart
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:71     .text.LedHeart:00000028 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:77     .text.system_time_update:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:83     .text.system_time_update:00000000 system_time_update
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:241    .text.system_time_update:000000a0 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:247    .rodata.system_set_real_time.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:251    .text.system_set_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:257    .text.system_set_real_time:00000000 system_set_real_time
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:326    .text.system_set_real_time:00000044 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:332    .text.system_get_real_time:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:338    .text.system_get_real_time:00000000 system_get_real_time
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:382    .text.system_get_real_time:0000001c $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:393    .rodata.rtc_freq_save.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:405    .text.rtc_freq_save:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:411    .text.rtc_freq_save:00000000 rtc_freq_save
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:772    .text.rtc_freq_save:00000220 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:788    .rodata.rtc_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:809    .text.rtc_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:815    .text.rtc_freq_test:00000000 rtc_freq_test
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:867    .text.rtc_freq_test:00000024 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:873    .text.rtc_freq_test:00000030 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1309   .text.rtc_freq_test:00000304 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1330   .text.rtc_freq_test:0000034c $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1693   .text.rtc_freq_test:00000580 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1715   .rodata.system_manage.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1719   .text.system_manage:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1725   .text.system_manage:00000000 system_manage
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1844   .text.system_manage:000000a4 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1853   .rodata.system_machine_test_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1878   .text.system_machine_test_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1884   .text.system_machine_test_one:00000000 system_machine_test_one
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1933   .text.system_machine_test_one:0000001e $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:1942   .text.system_machine_test_one:0000002e $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2430   .text.system_machine_test_one:000002e0 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2450   .text.system_machine_test_one:00000324 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2517   .text.system_machine_test_one:00000374 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2526   .rodata.command_freq_test.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2546   .text.command_freq_test:00000000 $t
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2552   .text.command_freq_test:00000000 command_freq_test
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2817   .text.command_freq_test:0000013c $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2854   .bss.g_machineTest:00000000 g_machineTest
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2847   .bss.g_lastFreq:00000000 g_lastFreq
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2861   .bss.g_realTime:00000000 g_realTime
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2840   .bss.adjustCount.11:00000000 adjustCount.11
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2841   .bss.adjustCount.11:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2843   .bss.g_lastFreq:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2850   .bss.g_machineTest:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2857   .bss.g_realTime:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2864   .bss.lastTestTime.0:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2868   .bss.lastTestTime.0:00000000 lastTestTime.0
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2871   .bss.lastTestTime.10:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2875   .bss.lastTestTime.10:00000000 lastTestTime.10
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2878   .bss.lastTick.16:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2882   .bss.lastTick.16:00000000 lastTick.16
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 74


C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2885   .bss.ledTick.17:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2889   .bss.ledTick.17:00000000 ledTick.17
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2892   .bss.minCap.8:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2896   .bss.minCap.8:00000000 minCap.8
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2902   .bss.okCount.1:00000000 okCount.1
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2903   .bss.okCount.1:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2908   .bss.responseCount.9:00000000 responseCount.9
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2909   .bss.responseCount.9:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2911   .bss.startTime.5:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2915   .bss.startTime.5:00000000 startTime.5
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2921   .bss.state.7:00000000 state.7
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2922   .bss.state.7:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2924   .bss.systemTick.15:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2928   .bss.systemTick.15:00000000 systemTick.15
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2934   .bss.testNumber.6:00000000 testNumber.6
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2935   .bss.testNumber.6:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2937   .bss.testState.14:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2941   .bss.testState.14:00000000 testState.14
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2947   .bss.testState.2:00000000 testState.2
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2948   .bss.testState.2:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2950   .bss.timeout.3:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2954   .bss.timeout.3:00000000 timeout.3
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2957   .data.lastCap.13:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2961   .data.lastCap.13:00000000 lastCap.13
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2964   .data.minPpm.12:00000000 $d
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2968   .data.minPpm.12:00000000 minPpm.12
C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s:2974   .data.result.4:00000000 result.4

UNDEFINED SYMBOLS
HAL_GetTick
HAL_GPIO_TogglePin
log_printf
__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_dadd
flash_read_data
uint8_to_float
temp_read_value
UsbPrintf
g_capAdjust
__aeabi_d2f
rtc_init_test_cap
cap_list_to_uint
rtc_set_testcap
DevicePrintf
float_to_uint8
flash_write_data
system_manage_test_mode
ControlPrintf
rtc_group_power
rtc_read_temp
sd8825_out_freq
sd8825_close_freq
CS1237Current
ARM GAS  C:\Users\86158\AppData\Local\Temp\cc3PtyhS.s 			page 75


HAL_Delay
