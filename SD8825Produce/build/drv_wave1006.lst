ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"drv_wave1006.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.otp_prg_power_ctrl,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	otp_prg_power_ctrl:
  26              	.LVL0:
  27              	.LFB236:
  28              		.file 1 "Device/Src/drv_wave1006.c"
   1:Device/Src/drv_wave1006.c **** /*
   2:Device/Src/drv_wave1006.c ****  *  drivers  wave1006
   3:Device/Src/drv_wave1006.c ****  * Copyright (C) 2022 shenzhen wave
   4:Device/Src/drv_wave1006.c ****  * version:v1.0.0--2023-2-12
   5:Device/Src/drv_wave1006.c ****  * This program is free software; you can redistribute it and/or modify
   6:Device/Src/drv_wave1006.c ****  *  Driver for wave1006 RTC 
   7:Device/Src/drv_wave1006.c ****  */
   8:Device/Src/drv_wave1006.c **** #include "drv_wave1006.h"
   9:Device/Src/drv_wave1006.c **** #include "rtc_i2c.h"
  10:Device/Src/drv_wave1006.c **** #include "power.h"
  11:Device/Src/drv_wave1006.c **** #include "calculate.h"
  12:Device/Src/drv_wave1006.c **** #include "rtc.h"
  13:Device/Src/drv_wave1006.c **** #include "flash.h"
  14:Device/Src/drv_wave1006.c **** #define BIT(x)  (1 << x)
  15:Device/Src/drv_wave1006.c **** 
  16:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_RESET_SEQ1          0x00
  17:Device/Src/drv_wave1006.c **** /*enable write protect sequence*/
  18:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ1         0x54
  19:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ2         0x28
  20:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_ENABLE_SEQ3         0x5C
  21:Device/Src/drv_wave1006.c **** 
  22:Device/Src/drv_wave1006.c **** /*disable write protect sequence*/
  23:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ1        0x70
  24:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ2        0x0C
  25:Device/Src/drv_wave1006.c **** #define WAVE1006_WP_DISABLE_SEQ3        0x38
  26:Device/Src/drv_wave1006.c **** 
  27:Device/Src/drv_wave1006.c **** 
  28:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd3068_config;     //otp_config.c中定义的烧写基本结构体
  29:Device/Src/drv_wave1006.c **** // wave1006_otp_arg_t g_sd8825_config;
  30:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8800_config;     
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 2


  31:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8810_config;
  32:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8804_config;
  33:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8931_config;
  34:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8939_config;
  35:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8200_config;
  36:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8902_config;
  37:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8840_config;
  38:Device/Src/drv_wave1006.c **** wave1006_otp_arg_t g_sd8825_config = {
  39:Device/Src/drv_wave1006.c **** 	0,         		//otp_wp_config
  40:Device/Src/drv_wave1006.c **** 	1,         		//test_wp_config
  41:Device/Src/drv_wave1006.c **** 	DEV_SD8825,		//device_type_config 
  42:Device/Src/drv_wave1006.c **** 	0,         		//hour_12_config          		// no support 12 hour
  43:Device/Src/drv_wave1006.c **** 	1,         		//week_encode_config   	  		//00-06 as sunday-monday
  44:Device/Src/drv_wave1006.c **** 	2,         		//freq_en_config    	    		//use one bit enbale control
  45:Device/Src/drv_wave1006.c **** 	PKG_RX8025_RXD8900,		//package_type_config
  46:Device/Src/drv_wave1006.c **** 	1,         		//ae_polarity_config  	 			//1 is alarm enable
  47:Device/Src/drv_wave1006.c **** 	0,        	 	//week_day_alarm_config 			//both week and day can select alarm
  48:Device/Src/drv_wave1006.c **** 	0,         		//wada_polarity_config  			//if the "week_day_alarm config" as 1,this bit not use
  49:Device/Src/drv_wave1006.c **** 	1,         		//week_alarm_config     			//every bit represent a day
  50:Device/Src/drv_wave1006.c **** 	0x1e,      		//alarm_valid_config    			//second -year can alarm
  51:Device/Src/drv_wave1006.c **** 	2,         		//ae_disable_config     			//when all alarm is disable, alarm is close
  52:Device/Src/drv_wave1006.c **** 	1,         		//timer_freq_source_config		//use 2 bit select timer frequency source 
  53:Device/Src/drv_wave1006.c **** 	1,				//id_support_config
  54:Device/Src/drv_wave1006.c **** 	0, 				//timer_pause_support_config	//not support timer pause
  55:Device/Src/drv_wave1006.c ****   	0, 				//timer_reset_support_config	//not support timer reset
  56:Device/Src/drv_wave1006.c **** 	1,				//int_out_sel_config					//use INTS1:0 bits select alarm or freq output
  57:Device/Src/drv_wave1006.c ****   	0,				//int_out_rst_config					//int output high when flag clear or int is disable
  58:Device/Src/drv_wave1006.c ****   	1, 				//wp_type_config							//use three wp bit
  59:Device/Src/drv_wave1006.c **** 	0, 				//time_rst_support_config		//not support time power on reset
  60:Device/Src/drv_wave1006.c **** 	0, 				//group2_alarm_support_config//not support group2 alarm
  61:Device/Src/drv_wave1006.c **** 	0, 				//reg_addr_reset_config			//read and write stop addr is reset
  62:Device/Src/drv_wave1006.c **** 	1, 				//time_update_support_config	//not support time update
  63:Device/Src/drv_wave1006.c **** 	112,       		//temp_offset_config  				//温度偏移值
  64:Device/Src/drv_wave1006.c **** 	0,				//digtal_comp_sel_config			//1:load form otp, 0:load form reg 
  65:Device/Src/drv_wave1006.c **** 	0x32,			//device_addr_config 
  66:Device/Src/drv_wave1006.c **** 	0,				//alarm_ext_config						//not support alarm extend
  67:Device/Src/drv_wave1006.c **** 	0,				//timer_ext_config						//not support timer extend
  68:Device/Src/drv_wave1006.c **** 	0,				//event_support_config 			//support event extend
  69:Device/Src/drv_wave1006.c **** 	0,				//pps_support_config					//support 1 pps extend
  70:Device/Src/drv_wave1006.c **** 	1,				//temp_comp_support_config		//1：支持温补   0：不支持温补
  71:Device/Src/drv_wave1006.c **** 	1,				//digtal_comp_ext_config	    //support digtal extend,digtal_comp_sel_config must this bit ha
  72:Device/Src/drv_wave1006.c **** 	1,				//ram_ext_config					//not support ram extend
  73:Device/Src/drv_wave1006.c **** 	1,				//sub_second_ext_config 			//support sub second extend
  74:Device/Src/drv_wave1006.c **** 	0,				//charge_ext_config					//1:支持扩展充电  0:不支持扩展充电
  75:Device/Src/drv_wave1006.c **** 	0,				//bat_val_ext_config
  76:Device/Src/drv_wave1006.c **** 	0,				//rst_out_support_config 
  77:Device/Src/drv_wave1006.c **** 	1,				//temp_alarm_ext_config
  78:Device/Src/drv_wave1006.c **** 	1,				//temp_val_ext_config
  79:Device/Src/drv_wave1006.c **** 	5,  			//rule_temp_adj_config
  80:Device/Src/drv_wave1006.c ****   	0,				//rule_bat_adj_config
  81:Device/Src/drv_wave1006.c **** 	2,				//osc_cap_sel_config1        		//封装电容选择值 8825选2 2024.01.25cxz
  82:Device/Src/drv_wave1006.c **** 	1,    		 	//adjust_temp_1_3_ppm_config		//3ppm
  83:Device/Src/drv_wave1006.c **** 	1,				//en_bat_pulldown_config     		//有BAT脚的配置为0,没有BAT脚的配置为1通过内部200k下拉到地
  84:Device/Src/drv_wave1006.c **** 	0x19f7,		 	//osc_config_config					//13'b00_010_1001_0111; 
  85:Device/Src/drv_wave1006.c **** 	0,				//spi_freq_en_config					//not support
  86:Device/Src/drv_wave1006.c **** 	0,				//vol_sel_config
  87:Device/Src/drv_wave1006.c **** 	1, 				//freq_src_config						//use 4 bit select frequency
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 3


  88:Device/Src/drv_wave1006.c **** 	0, 				//k32_support_config					// support 32k alone output
  89:Device/Src/drv_wave1006.c **** 	0,				//fout_open_drain_config
  90:Device/Src/drv_wave1006.c **** 	0,				//sout_open_drain_config
  91:Device/Src/drv_wave1006.c **** 	3,				//comp_period_config
  92:Device/Src/drv_wave1006.c **** 	3,				//rst_time_config
  93:Device/Src/drv_wave1006.c **** 	0,			 	//adjust_25_config
  94:Device/Src/drv_wave1006.c **** 	0,				//spi_mode_config
  95:Device/Src/drv_wave1006.c **** 	0,				//bus_select_config					//i2c
  96:Device/Src/drv_wave1006.c **** 	0, 				//en_charge_config						//1:支持充电  0:不支持充电
  97:Device/Src/drv_wave1006.c **** 	0x177f, 	    //osc_start_config	  				//13'b00_010_0001_0011
  98:Device/Src/drv_wave1006.c **** 	3,				//charge_vol_adj_config
  99:Device/Src/drv_wave1006.c **** 	0,				//timer_rst_out_config    
 100:Device/Src/drv_wave1006.c **** }; 
 101:Device/Src/drv_wave1006.c **** 
 102:Device/Src/drv_wave1006.c **** uint8_t g_dev_id[40];
 103:Device/Src/drv_wave1006.c **** wave1006_temp_arg_t g_temp_arg[420]; //-60~150
 104:Device/Src/drv_wave1006.c **** 
 105:Device/Src/drv_wave1006.c **** int g_digtal_adj[420] = {0};
 106:Device/Src/drv_wave1006.c **** float g_cap_val[420] = { 0};
 107:Device/Src/drv_wave1006.c **** uint16_t g_offset = 0;
 108:Device/Src/drv_wave1006.c **** uint16_t g_csn = 2401;
 109:Device/Src/drv_wave1006.c **** typedef struct  
 110:Device/Src/drv_wave1006.c **** {
 111:Device/Src/drv_wave1006.c **** 	unsigned char device_type;
 112:Device/Src/drv_wave1006.c **** 	wave1006_test_mode_e test_mode;    
 113:Device/Src/drv_wave1006.c **** } wave1006_state_t;    		//测试模式选择
 114:Device/Src/drv_wave1006.c **** 
 115:Device/Src/drv_wave1006.c **** wave1006_state_t g_wave1006_state = {0, WAVE1006_NORMAL_MODE};
 116:Device/Src/drv_wave1006.c **** 
 117:Device/Src/drv_wave1006.c **** 
 118:Device/Src/drv_wave1006.c **** wave1006_exit_code_e get_device_addr(wave1006_dev_e dev, unsigned char *dev_addr)
 119:Device/Src/drv_wave1006.c **** {
 120:Device/Src/drv_wave1006.c **** 	switch (dev)
 121:Device/Src/drv_wave1006.c **** 	{
 122:Device/Src/drv_wave1006.c **** 		case DEV_SD3068:
 123:Device/Src/drv_wave1006.c **** 		case DEV_SD8800:
 124:Device/Src/drv_wave1006.c **** 		case DEV_SD8810:
 125:Device/Src/drv_wave1006.c **** 		case DEV_SD8804:	
 126:Device/Src/drv_wave1006.c **** 			*dev_addr = 0x64;
 127:Device/Src/drv_wave1006.c **** 			break;
 128:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 129:Device/Src/drv_wave1006.c **** 		case DEV_SD8939:
 130:Device/Src/drv_wave1006.c **** 		case DEV_SD8200://BQ32000
 131:Device/Src/drv_wave1006.c **** 			*dev_addr = 0xd0;
 132:Device/Src/drv_wave1006.c **** 			break;
 133:Device/Src/drv_wave1006.c **** 		default:
 134:Device/Src/drv_wave1006.c **** 			return WAVE1006_EXIT_ARG_ERR;
 135:Device/Src/drv_wave1006.c **** 			break;
 136:Device/Src/drv_wave1006.c **** 	}
 137:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 138:Device/Src/drv_wave1006.c **** }
 139:Device/Src/drv_wave1006.c **** 
 140:Device/Src/drv_wave1006.c **** /*
 141:Device/Src/drv_wave1006.c **** *Function: otp_prg_power_ctrl
 142:Device/Src/drv_wave1006.c **** *Description: 
 143:Device/Src/drv_wave1006.c **** *Input: enbale:otp power enable;vol_sel:otp voltage input,0:5V,1:8.5V
 144:Device/Src/drv_wave1006.c **** *Output: 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 4


 145:Device/Src/drv_wave1006.c **** *Return: 
 146:Device/Src/drv_wave1006.c **** *Others:
 147:Device/Src/drv_wave1006.c **** */       //OTP编程电源控制
 148:Device/Src/drv_wave1006.c **** static void otp_prg_power_ctrl(unsigned char enbale)
 149:Device/Src/drv_wave1006.c **** {
  29              		.loc 1 149 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 149 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
 150:Device/Src/drv_wave1006.c **** 	if (enbale == 1) {
  39              		.loc 1 150 2 is_stmt 1 view .LVU2
  40              		.loc 1 150 5 is_stmt 0 view .LVU3
  41 0002 0128     		cmp	r0, #1
  42 0004 04D0     		beq	.L5
 151:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.35);
 152:Device/Src/drv_wave1006.c **** 		// rtc_otp_power(8.5); //烧录otp电压
 153:Device/Src/drv_wave1006.c **** 	} else {
 154:Device/Src/drv_wave1006.c **** 		rtc_otp_power(5);  //读otp电压
  43              		.loc 1 154 3 is_stmt 1 view .LVU4
  44 0006 B1EE040A 		vmov.f32	s0, #5.0e+0
  45 000a FFF7FEFF 		bl	rtc_otp_power
  46              	.LVL1:
  47              	.L1:
 155:Device/Src/drv_wave1006.c **** 	}
 156:Device/Src/drv_wave1006.c **** }
  48              		.loc 1 156 1 is_stmt 0 view .LVU5
  49 000e 08BD     		pop	{r3, pc}
  50              	.LVL2:
  51              	.L5:
 151:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.35);
  52              		.loc 1 151 3 is_stmt 1 view .LVU6
  53 0010 9FED020A 		vldr.32	s0, .L6
  54 0014 FFF7FEFF 		bl	rtc_otp_power
  55              	.LVL3:
 151:Device/Src/drv_wave1006.c **** 		rtc_otp_power(8.35);
  56              		.loc 1 151 3 is_stmt 0 view .LVU7
  57 0018 F9E7     		b	.L1
  58              	.L7:
  59 001a 00BF     		.align	2
  60              	.L6:
  61 001c 9A990541 		.word	1090886042
  62              		.cfi_endproc
  63              	.LFE236:
  65              		.section	.text.get_device_addr,"ax",%progbits
  66              		.align	1
  67              		.global	get_device_addr
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	get_device_addr:
  73              	.LVL4:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 5


  74              	.LFB235:
 119:Device/Src/drv_wave1006.c **** 	switch (dev)
  75              		.loc 1 119 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
 120:Device/Src/drv_wave1006.c **** 	{
  80              		.loc 1 120 2 view .LVU9
  81 0000 0828     		cmp	r0, #8
  82 0002 0ED8     		bhi	.L13
  83 0004 DFE800F0 		tbb	[pc, r0]
  84              	.L11:
  85 0008 05       		.byte	(.L12-.L11)/2
  86 0009 0D       		.byte	(.L13-.L11)/2
  87 000a 05       		.byte	(.L12-.L11)/2
  88 000b 05       		.byte	(.L12-.L11)/2
  89 000c 05       		.byte	(.L12-.L11)/2
  90 000d 09       		.byte	(.L10-.L11)/2
  91 000e 09       		.byte	(.L10-.L11)/2
  92 000f 0D       		.byte	(.L13-.L11)/2
  93 0010 09       		.byte	(.L10-.L11)/2
  94 0011 00       		.p2align 1
  95              	.L12:
 126:Device/Src/drv_wave1006.c **** 			break;
  96              		.loc 1 126 4 view .LVU10
 126:Device/Src/drv_wave1006.c **** 			break;
  97              		.loc 1 126 14 is_stmt 0 view .LVU11
  98 0012 6423     		movs	r3, #100
  99 0014 0B70     		strb	r3, [r1]
 127:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 100              		.loc 1 127 4 is_stmt 1 view .LVU12
 137:Device/Src/drv_wave1006.c **** }
 101              		.loc 1 137 9 is_stmt 0 view .LVU13
 102 0016 0020     		movs	r0, #0
 103              	.LVL5:
 127:Device/Src/drv_wave1006.c **** 		case DEV_SD8931:
 104              		.loc 1 127 4 view .LVU14
 105 0018 7047     		bx	lr
 106              	.LVL6:
 107              	.L10:
 131:Device/Src/drv_wave1006.c **** 			break;
 108              		.loc 1 131 4 is_stmt 1 view .LVU15
 131:Device/Src/drv_wave1006.c **** 			break;
 109              		.loc 1 131 14 is_stmt 0 view .LVU16
 110 001a D023     		movs	r3, #208
 111 001c 0B70     		strb	r3, [r1]
 132:Device/Src/drv_wave1006.c **** 		default:
 112              		.loc 1 132 4 is_stmt 1 view .LVU17
 137:Device/Src/drv_wave1006.c **** }
 113              		.loc 1 137 9 is_stmt 0 view .LVU18
 114 001e 0020     		movs	r0, #0
 115              	.LVL7:
 132:Device/Src/drv_wave1006.c **** 		default:
 116              		.loc 1 132 4 view .LVU19
 117 0020 7047     		bx	lr
 118              	.LVL8:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 6


 119              	.L13:
 120:Device/Src/drv_wave1006.c **** 	{
 120              		.loc 1 120 2 view .LVU20
 121 0022 6FF00100 		mvn	r0, #1
 122              	.LVL9:
 138:Device/Src/drv_wave1006.c **** 
 123              		.loc 1 138 1 view .LVU21
 124 0026 7047     		bx	lr
 125              		.cfi_endproc
 126              	.LFE235:
 128              		.section	.text.drv_wave1006_read_reg,"ax",%progbits
 129              		.align	1
 130              		.global	drv_wave1006_read_reg
 131              		.syntax unified
 132              		.thumb
 133              		.thumb_func
 135              	drv_wave1006_read_reg:
 136              	.LVL10:
 137              	.LFB237:
 157:Device/Src/drv_wave1006.c **** /*Function: wave1006_write_enable_seq
 158:Device/Src/drv_wave1006.c **** *Description: 
 159:Device/Src/drv_wave1006.c **** *Input:
 160:Device/Src/drv_wave1006.c **** *Output: 
 161:Device/Src/drv_wave1006.c **** *Return: 
 162:Device/Src/drv_wave1006.c **** *Others:
 163:Device/Src/drv_wave1006.c **** */
 164:Device/Src/drv_wave1006.c **** 
 165:Device/Src/drv_wave1006.c **** /**
 166:Device/Src/drv_wave1006.c ****  * @brief wave1006 read reg
 167:Device/Src/drv_wave1006.c ****  * 
 168:Device/Src/drv_wave1006.c ****  */
 169:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_read_reg(wave1006_dev_e dev, unsigned char reg, unsigned char len
 170:Device/Src/drv_wave1006.c **** {
 138              		.loc 1 170 1 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 8
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		.loc 1 170 1 is_stmt 0 view .LVU23
 143 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 144              	.LCFI1:
 145              		.cfi_def_cfa_offset 20
 146              		.cfi_offset 4, -20
 147              		.cfi_offset 5, -16
 148              		.cfi_offset 6, -12
 149              		.cfi_offset 7, -8
 150              		.cfi_offset 14, -4
 151 0002 83B0     		sub	sp, sp, #12
 152              	.LCFI2:
 153              		.cfi_def_cfa_offset 32
 154 0004 0C46     		mov	r4, r1
 155 0006 1646     		mov	r6, r2
 156 0008 1D46     		mov	r5, r3
 171:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 157              		.loc 1 171 2 is_stmt 1 view .LVU24
 172:Device/Src/drv_wave1006.c **** 
 173:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) {
 158              		.loc 1 173 2 view .LVU25
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 7


 159              		.loc 1 173 6 is_stmt 0 view .LVU26
 160 000a 0DF10701 		add	r1, sp, #7
 161              	.LVL11:
 162              		.loc 1 173 6 view .LVU27
 163 000e FFF7FEFF 		bl	get_device_addr
 164              	.LVL12:
 165              		.loc 1 173 5 view .LVU28
 166 0012 58B9     		cbnz	r0, .L16
 167 0014 0746     		mov	r7, r0
 174:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 175:Device/Src/drv_wave1006.c **** 	} 
 176:Device/Src/drv_wave1006.c **** 	if (rtc_read_multi_bytes(dev_addr, reg, buf, length) != I2C_OK) {
 168              		.loc 1 176 2 is_stmt 1 view .LVU29
 169              		.loc 1 176 6 is_stmt 0 view .LVU30
 170 0016 3346     		mov	r3, r6
 171 0018 2A46     		mov	r2, r5
 172 001a 2146     		mov	r1, r4
 173 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 174 0020 FFF7FEFF 		bl	rtc_read_multi_bytes
 175              	.LVL13:
 176              		.loc 1 176 5 view .LVU31
 177 0024 28B9     		cbnz	r0, .L19
 178              	.L15:
 177:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 178:Device/Src/drv_wave1006.c **** 	}
 179:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 180:Device/Src/drv_wave1006.c **** } 
 179              		.loc 1 180 1 view .LVU32
 180 0026 3846     		mov	r0, r7
 181 0028 03B0     		add	sp, sp, #12
 182              	.LCFI3:
 183              		.cfi_remember_state
 184              		.cfi_def_cfa_offset 20
 185              		@ sp needed
 186 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 187              	.LVL14:
 188              	.L16:
 189              	.LCFI4:
 190              		.cfi_restore_state
 174:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 191              		.loc 1 174 10 view .LVU33
 192 002c 6FF00107 		mvn	r7, #1
 193 0030 F9E7     		b	.L15
 194              	.L19:
 177:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 195              		.loc 1 177 10 view .LVU34
 196 0032 4FF0FF37 		mov	r7, #-1
 197 0036 F6E7     		b	.L15
 198              		.cfi_endproc
 199              	.LFE237:
 201              		.section	.text.drv_wave1006_write_reg,"ax",%progbits
 202              		.align	1
 203              		.global	drv_wave1006_write_reg
 204              		.syntax unified
 205              		.thumb
 206              		.thumb_func
 208              	drv_wave1006_write_reg:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 8


 209              	.LVL15:
 210              	.LFB238:
 181:Device/Src/drv_wave1006.c **** 
 182:Device/Src/drv_wave1006.c **** /**
 183:Device/Src/drv_wave1006.c ****  * @brief wave1006 write register
 184:Device/Src/drv_wave1006.c ****  * 
 185:Device/Src/drv_wave1006.c ****  */
 186:Device/Src/drv_wave1006.c **** wave1006_exit_code_e drv_wave1006_write_reg(wave1006_dev_e dev, unsigned char reg, unsigned char le
 187:Device/Src/drv_wave1006.c **** {
 211              		.loc 1 187 1 is_stmt 1 view -0
 212              		.cfi_startproc
 213              		@ args = 0, pretend = 0, frame = 8
 214              		@ frame_needed = 0, uses_anonymous_args = 0
 215              		.loc 1 187 1 is_stmt 0 view .LVU36
 216 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 217              	.LCFI5:
 218              		.cfi_def_cfa_offset 20
 219              		.cfi_offset 4, -20
 220              		.cfi_offset 5, -16
 221              		.cfi_offset 6, -12
 222              		.cfi_offset 7, -8
 223              		.cfi_offset 14, -4
 224 0002 83B0     		sub	sp, sp, #12
 225              	.LCFI6:
 226              		.cfi_def_cfa_offset 32
 227 0004 0C46     		mov	r4, r1
 228 0006 1646     		mov	r6, r2
 229 0008 1D46     		mov	r5, r3
 188:Device/Src/drv_wave1006.c **** 	unsigned char dev_addr;
 230              		.loc 1 188 2 is_stmt 1 view .LVU37
 189:Device/Src/drv_wave1006.c **** 
 190:Device/Src/drv_wave1006.c **** 	if (get_device_addr(dev, &dev_addr) != WAVE1006_EXIT_OK) 
 231              		.loc 1 190 2 view .LVU38
 232              		.loc 1 190 6 is_stmt 0 view .LVU39
 233 000a 0DF10701 		add	r1, sp, #7
 234              	.LVL16:
 235              		.loc 1 190 6 view .LVU40
 236 000e FFF7FEFF 		bl	get_device_addr
 237              	.LVL17:
 238              		.loc 1 190 5 view .LVU41
 239 0012 58B9     		cbnz	r0, .L22
 240 0014 0746     		mov	r7, r0
 191:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 192:Device/Src/drv_wave1006.c **** 	if (rtc_write_multi_bytes(dev_addr, reg, buf, length) != I2C_OK)
 241              		.loc 1 192 2 is_stmt 1 view .LVU42
 242              		.loc 1 192 6 is_stmt 0 view .LVU43
 243 0016 3346     		mov	r3, r6
 244 0018 2A46     		mov	r2, r5
 245 001a 2146     		mov	r1, r4
 246 001c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 247 0020 FFF7FEFF 		bl	rtc_write_multi_bytes
 248              	.LVL18:
 249              		.loc 1 192 5 view .LVU44
 250 0024 28B9     		cbnz	r0, .L25
 251              	.L21:
 193:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 194:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 9


 195:Device/Src/drv_wave1006.c **** }
 252              		.loc 1 195 1 view .LVU45
 253 0026 3846     		mov	r0, r7
 254 0028 03B0     		add	sp, sp, #12
 255              	.LCFI7:
 256              		.cfi_remember_state
 257              		.cfi_def_cfa_offset 20
 258              		@ sp needed
 259 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 260              	.LVL19:
 261              	.L22:
 262              	.LCFI8:
 263              		.cfi_restore_state
 191:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 264              		.loc 1 191 10 view .LVU46
 265 002c 6FF00107 		mvn	r7, #1
 266 0030 F9E7     		b	.L21
 267              	.L25:
 193:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_NO_ACK;
 268              		.loc 1 193 10 view .LVU47
 269 0032 4FF0FF37 		mov	r7, #-1
 270 0036 F6E7     		b	.L21
 271              		.cfi_endproc
 272              	.LFE238:
 274              		.section	.text.wave1006_read_otp_single,"ax",%progbits
 275              		.align	1
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 280              	wave1006_read_otp_single:
 281              	.LVL20:
 282              	.LFB242:
 196:Device/Src/drv_wave1006.c **** 
 197:Device/Src/drv_wave1006.c **** 
 198:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_enter_test_mode(wave1006_test_mode_e mode)     //烧写1006时使用
 199:Device/Src/drv_wave1006.c **** {
 200:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 201:Device/Src/drv_wave1006.c **** 
 202:Device/Src/drv_wave1006.c **** 	/*1. set test_flag=1*/
 203:Device/Src/drv_wave1006.c **** 	buf[0] = BIT(2);
 204:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 205:Device/Src/drv_wave1006.c **** 	{
 206:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 207:Device/Src/drv_wave1006.c **** 	}
 208:Device/Src/drv_wave1006.c **** 
 209:Device/Src/drv_wave1006.c **** 	/*2.set test mode*/
 210:Device/Src/drv_wave1006.c **** 	buf[0] = mode;
 211:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, 0x07, 1, &buf[0]) != WAVE1006_EXIT_OK)//8825C版本
 212:Device/Src/drv_wave1006.c **** 	{
 213:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 214:Device/Src/drv_wave1006.c **** 	}
 215:Device/Src/drv_wave1006.c **** 	/*3. set time reg*/
 216:Device/Src/drv_wave1006.c **** 	buf[0] = 0x6c;//sec
 217:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 218:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 219:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 220:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 10


 221:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 222:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 223:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 224:Device/Src/drv_wave1006.c **** 	{
 225:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_ARG_ERR;
 226:Device/Src/drv_wave1006.c **** 	}
 227:Device/Src/drv_wave1006.c **** 	/*check test_flag*/	
 228:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 229:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 230:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 231:Device/Src/drv_wave1006.c **** 
 232:Device/Src/drv_wave1006.c **** 	// if(drv_wave1006_read_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, buf) != WAVE1006_EXIT_OK)
 233:Device/Src/drv_wave1006.c **** 	// {
 234:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_ARG_ERR;
 235:Device/Src/drv_wave1006.c **** 	// }
 236:Device/Src/drv_wave1006.c **** 
 237:Device/Src/drv_wave1006.c **** 	// if((buf[0] & BIT(3)) != 0)
 238:Device/Src/drv_wave1006.c **** 	// {
 239:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode success!\r\n");
 240:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_OK;
 241:Device/Src/drv_wave1006.c **** 	// }
 242:Device/Src/drv_wave1006.c **** 	// else
 243:Device/Src/drv_wave1006.c **** 	// {
 244:Device/Src/drv_wave1006.c **** 	// 	UsbPrintf("Enter test mode faild!\r\n");
 245:Device/Src/drv_wave1006.c **** 	// 	return WAVE1006_EXIT_FAIL;
 246:Device/Src/drv_wave1006.c **** 	// }
 247:Device/Src/drv_wave1006.c **** }
 248:Device/Src/drv_wave1006.c **** 
 249:Device/Src/drv_wave1006.c **** 
 250:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_osc_config_set(wave1006_osc_config_t *config)
 251:Device/Src/drv_wave1006.c **** {
 252:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 253:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 254:Device/Src/drv_wave1006.c **** 
 255:Device/Src/drv_wave1006.c **** 	/*RAM24:osc_config[7:0]; RAM25[4:0]:osc_config[12:8]*/
 256:Device/Src/drv_wave1006.c **** 	buf[0] = ((config->osc_vref_adj & 0x01)<< 7) | (config->vol_cure_adj << 5) | (config->osc_res_adju
 257:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 258:Device/Src/drv_wave1006.c **** 	
 259:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_USER_RAM_START + 23, 2, &buf[0]);
 260:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 261:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 262:Device/Src/drv_wave1006.c **** //	if ((g_wave1006_state.test_mode & WAVE1006_TEST_OSC) != WAVE1006_TEST_OSC)
 263:Device/Src/drv_wave1006.c **** //	{
 264:Device/Src/drv_wave1006.c **** //		ret = wave1006_enter_test_mode(g_wave1006_state.test_mode | WAVE1006_TEST_OSC);
 265:Device/Src/drv_wave1006.c **** //		if (ret != WAVE1006_EXIT_OK)
 266:Device/Src/drv_wave1006.c **** //			return ret;
 267:Device/Src/drv_wave1006.c **** //		g_wave1006_state.test_mode |= WAVE1006_TEST_OSC;
 268:Device/Src/drv_wave1006.c **** //	}
 269:Device/Src/drv_wave1006.c **** 	if (wave1006_enter_test_mode(WAVE1006_TEST_OSC) != WAVE1006_EXIT_OK) {
 270:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 271:Device/Src/drv_wave1006.c **** 	}
 272:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 273:Device/Src/drv_wave1006.c **** }
 274:Device/Src/drv_wave1006.c **** 
 275:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_write_otp_single(unsigned short addr, unsigned short Data)
 276:Device/Src/drv_wave1006.c **** {
 277:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 11


 278:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 279:Device/Src/drv_wave1006.c **** 
 280:Device/Src/drv_wave1006.c **** 	//set addr
 281:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 282:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 283:Device/Src/drv_wave1006.c **** 	//set Data
 284:Device/Src/drv_wave1006.c **** 	buf[2] = Data & 0xff;
 285:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 286:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 287:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 288:Device/Src/drv_wave1006.c **** 			return ret;
 289:Device/Src/drv_wave1006.c **** 	//pwe=1
 290:Device/Src/drv_wave1006.c **** 	buf[0] = 0xb2;
 291:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 292:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 293:Device/Src/drv_wave1006.c **** 			return ret;
 294:Device/Src/drv_wave1006.c **** 		//delay 100us
 295:Device/Src/drv_wave1006.c **** 	//pwe=0
 296:Device/Src/drv_wave1006.c **** 	buf[0] = 0xa2;
 297:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 298:Device/Src/drv_wave1006.c **** 	return ret;
 299:Device/Src/drv_wave1006.c **** }
 300:Device/Src/drv_wave1006.c **** 
 301:Device/Src/drv_wave1006.c **** static wave1006_exit_code_e wave1006_read_otp_single(unsigned short addr, unsigned short *Data)
 302:Device/Src/drv_wave1006.c **** {
 283              		.loc 1 302 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 8
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		.loc 1 302 1 is_stmt 0 view .LVU49
 288 0000 10B5     		push	{r4, lr}
 289              	.LCFI9:
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 4, -8
 292              		.cfi_offset 14, -4
 293 0002 82B0     		sub	sp, sp, #8
 294              	.LCFI10:
 295              		.cfi_def_cfa_offset 16
 296 0004 0C46     		mov	r4, r1
 303:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 297              		.loc 1 303 2 is_stmt 1 view .LVU50
 304:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 298              		.loc 1 304 2 view .LVU51
 305:Device/Src/drv_wave1006.c **** 
 306:Device/Src/drv_wave1006.c **** 	/*set addr*/
 307:Device/Src/drv_wave1006.c **** 	buf[0] = addr & 0xff;
 299              		.loc 1 307 2 view .LVU52
 300              		.loc 1 307 9 is_stmt 0 view .LVU53
 301 0006 8DF80400 		strb	r0, [sp, #4]
 308:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 302              		.loc 1 308 2 is_stmt 1 view .LVU54
 303              		.loc 1 308 23 is_stmt 0 view .LVU55
 304 000a C0F30120 		ubfx	r0, r0, #8, #2
 305              	.LVL21:
 306              		.loc 1 308 9 view .LVU56
 307 000e 8DF80500 		strb	r0, [sp, #5]
 309:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 2, &buf[0]);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 12


 308              		.loc 1 309 2 is_stmt 1 view .LVU57
 309              		.loc 1 309 8 is_stmt 0 view .LVU58
 310 0012 01AB     		add	r3, sp, #4
 311 0014 0222     		movs	r2, #2
 312 0016 6E21     		movs	r1, #110
 313              	.LVL22:
 314              		.loc 1 309 8 view .LVU59
 315 0018 0020     		movs	r0, #0
 316 001a FFF7FEFF 		bl	drv_wave1006_write_reg
 317              	.LVL23:
 310:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 318              		.loc 1 310 2 is_stmt 1 view .LVU60
 319              		.loc 1 310 5 is_stmt 0 view .LVU61
 320 001e 0346     		mov	r3, r0
 321 0020 10B1     		cbz	r0, .L29
 322              	.LVL24:
 323              	.L27:
 311:Device/Src/drv_wave1006.c **** 		return ret;
 312:Device/Src/drv_wave1006.c **** 	/*prd=1*/
 313:Device/Src/drv_wave1006.c **** 	buf[0] = 0xc0;
 314:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 315:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 316:Device/Src/drv_wave1006.c **** 		return ret;
 317:Device/Src/drv_wave1006.c **** 	/*prd=0*/
 318:Device/Src/drv_wave1006.c **** 	buf[0] = 0x80;
 319:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 320:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 321:Device/Src/drv_wave1006.c **** 		return ret;
 322:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 4, 2, buf);
 323:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 324:Device/Src/drv_wave1006.c **** 	return ret;
 325:Device/Src/drv_wave1006.c **** }
 324              		.loc 1 325 1 view .LVU62
 325 0022 1846     		mov	r0, r3
 326 0024 02B0     		add	sp, sp, #8
 327              	.LCFI11:
 328              		.cfi_remember_state
 329              		.cfi_def_cfa_offset 8
 330              		@ sp needed
 331 0026 10BD     		pop	{r4, pc}
 332              	.LVL25:
 333              	.L29:
 334              	.LCFI12:
 335              		.cfi_restore_state
 313:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 336              		.loc 1 313 2 is_stmt 1 view .LVU63
 313:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 337              		.loc 1 313 9 is_stmt 0 view .LVU64
 338 0028 C023     		movs	r3, #192
 339 002a 8DF80430 		strb	r3, [sp, #4]
 314:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 340              		.loc 1 314 2 is_stmt 1 view .LVU65
 314:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 341              		.loc 1 314 8 is_stmt 0 view .LVU66
 342 002e 01AB     		add	r3, sp, #4
 343 0030 0122     		movs	r2, #1
 344 0032 6D21     		movs	r1, #109
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 13


 345 0034 FFF7FEFF 		bl	drv_wave1006_write_reg
 346              	.LVL26:
 315:Device/Src/drv_wave1006.c **** 		return ret;
 347              		.loc 1 315 2 is_stmt 1 view .LVU67
 315:Device/Src/drv_wave1006.c **** 		return ret;
 348              		.loc 1 315 5 is_stmt 0 view .LVU68
 349 0038 0346     		mov	r3, r0
 350 003a 0028     		cmp	r0, #0
 351 003c F1D1     		bne	.L27
 318:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 352              		.loc 1 318 2 is_stmt 1 view .LVU69
 318:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 353              		.loc 1 318 9 is_stmt 0 view .LVU70
 354 003e 8023     		movs	r3, #128
 355 0040 8DF80430 		strb	r3, [sp, #4]
 319:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 356              		.loc 1 319 2 is_stmt 1 view .LVU71
 319:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK)
 357              		.loc 1 319 8 is_stmt 0 view .LVU72
 358 0044 01AB     		add	r3, sp, #4
 359 0046 0122     		movs	r2, #1
 360 0048 6D21     		movs	r1, #109
 361 004a FFF7FEFF 		bl	drv_wave1006_write_reg
 362              	.LVL27:
 320:Device/Src/drv_wave1006.c **** 		return ret;
 363              		.loc 1 320 2 is_stmt 1 view .LVU73
 320:Device/Src/drv_wave1006.c **** 		return ret;
 364              		.loc 1 320 5 is_stmt 0 view .LVU74
 365 004e 0346     		mov	r3, r0
 366 0050 0028     		cmp	r0, #0
 367 0052 E6D1     		bne	.L27
 322:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 368              		.loc 1 322 2 is_stmt 1 view .LVU75
 322:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 369              		.loc 1 322 8 is_stmt 0 view .LVU76
 370 0054 01AB     		add	r3, sp, #4
 371 0056 0222     		movs	r2, #2
 372 0058 7021     		movs	r1, #112
 373 005a FFF7FEFF 		bl	drv_wave1006_read_reg
 374              	.LVL28:
 322:Device/Src/drv_wave1006.c **** 	*Data = ((buf[1] & 0x3f) << 8) | buf[0];
 375              		.loc 1 322 8 view .LVU77
 376 005e 0346     		mov	r3, r0
 377              	.LVL29:
 323:Device/Src/drv_wave1006.c **** 	return ret;
 378              		.loc 1 323 2 is_stmt 1 view .LVU78
 323:Device/Src/drv_wave1006.c **** 	return ret;
 379              		.loc 1 323 15 is_stmt 0 view .LVU79
 380 0060 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 323:Device/Src/drv_wave1006.c **** 	return ret;
 381              		.loc 1 323 27 view .LVU80
 382 0064 1202     		lsls	r2, r2, #8
 383 0066 02F47C52 		and	r2, r2, #16128
 323:Device/Src/drv_wave1006.c **** 	return ret;
 384              		.loc 1 323 38 view .LVU81
 385 006a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 323:Device/Src/drv_wave1006.c **** 	return ret;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 14


 386              		.loc 1 323 33 view .LVU82
 387 006e 0A43     		orrs	r2, r2, r1
 323:Device/Src/drv_wave1006.c **** 	return ret;
 388              		.loc 1 323 8 view .LVU83
 389 0070 2280     		strh	r2, [r4]	@ movhi
 324:Device/Src/drv_wave1006.c **** }
 390              		.loc 1 324 2 is_stmt 1 view .LVU84
 324:Device/Src/drv_wave1006.c **** }
 391              		.loc 1 324 9 is_stmt 0 view .LVU85
 392 0072 D6E7     		b	.L27
 393              		.cfi_endproc
 394              	.LFE242:
 396              		.section	.text.wave1006_write_otp_single,"ax",%progbits
 397              		.align	1
 398              		.syntax unified
 399              		.thumb
 400              		.thumb_func
 402              	wave1006_write_otp_single:
 403              	.LVL30:
 404              	.LFB241:
 276:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 405              		.loc 1 276 1 is_stmt 1 view -0
 406              		.cfi_startproc
 407              		@ args = 0, pretend = 0, frame = 8
 408              		@ frame_needed = 0, uses_anonymous_args = 0
 276:Device/Src/drv_wave1006.c **** 	unsigned char buf[4];
 409              		.loc 1 276 1 is_stmt 0 view .LVU87
 410 0000 00B5     		push	{lr}
 411              	.LCFI13:
 412              		.cfi_def_cfa_offset 4
 413              		.cfi_offset 14, -4
 414 0002 83B0     		sub	sp, sp, #12
 415              	.LCFI14:
 416              		.cfi_def_cfa_offset 16
 277:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 417              		.loc 1 277 2 is_stmt 1 view .LVU88
 278:Device/Src/drv_wave1006.c **** 
 418              		.loc 1 278 2 view .LVU89
 281:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 419              		.loc 1 281 2 view .LVU90
 281:Device/Src/drv_wave1006.c **** 	buf[1] = (addr >> 8) & 0x03;
 420              		.loc 1 281 9 is_stmt 0 view .LVU91
 421 0004 8DF80400 		strb	r0, [sp, #4]
 282:Device/Src/drv_wave1006.c **** 	//set Data
 422              		.loc 1 282 2 is_stmt 1 view .LVU92
 282:Device/Src/drv_wave1006.c **** 	//set Data
 423              		.loc 1 282 23 is_stmt 0 view .LVU93
 424 0008 C0F30120 		ubfx	r0, r0, #8, #2
 425              	.LVL31:
 282:Device/Src/drv_wave1006.c **** 	//set Data
 426              		.loc 1 282 9 view .LVU94
 427 000c 8DF80500 		strb	r0, [sp, #5]
 284:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 428              		.loc 1 284 2 is_stmt 1 view .LVU95
 284:Device/Src/drv_wave1006.c **** 	buf[3] = (Data >> 8) & 0x03f;
 429              		.loc 1 284 9 is_stmt 0 view .LVU96
 430 0010 8DF80610 		strb	r1, [sp, #6]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 15


 285:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 431              		.loc 1 285 2 is_stmt 1 view .LVU97
 285:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 432              		.loc 1 285 23 is_stmt 0 view .LVU98
 433 0014 C1F30521 		ubfx	r1, r1, #8, #6
 434              	.LVL32:
 285:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 2, 4, &buf[0]);
 435              		.loc 1 285 9 view .LVU99
 436 0018 8DF80710 		strb	r1, [sp, #7]
 286:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 437              		.loc 1 286 3 is_stmt 1 view .LVU100
 286:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 438              		.loc 1 286 9 is_stmt 0 view .LVU101
 439 001c 01AB     		add	r3, sp, #4
 440 001e 0422     		movs	r2, #4
 441 0020 6E21     		movs	r1, #110
 442 0022 0020     		movs	r0, #0
 443 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 444              	.LVL33:
 287:Device/Src/drv_wave1006.c **** 			return ret;
 445              		.loc 1 287 3 is_stmt 1 view .LVU102
 287:Device/Src/drv_wave1006.c **** 			return ret;
 446              		.loc 1 287 6 is_stmt 0 view .LVU103
 447 0028 0346     		mov	r3, r0
 448 002a 18B1     		cbz	r0, .L33
 449              	.LVL34:
 450              	.L31:
 299:Device/Src/drv_wave1006.c **** 
 451              		.loc 1 299 1 view .LVU104
 452 002c 1846     		mov	r0, r3
 453 002e 03B0     		add	sp, sp, #12
 454              	.LCFI15:
 455              		.cfi_remember_state
 456              		.cfi_def_cfa_offset 4
 457              		@ sp needed
 458 0030 5DF804FB 		ldr	pc, [sp], #4
 459              	.LVL35:
 460              	.L33:
 461              	.LCFI16:
 462              		.cfi_restore_state
 290:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 463              		.loc 1 290 2 is_stmt 1 view .LVU105
 290:Device/Src/drv_wave1006.c **** 		ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 464              		.loc 1 290 9 is_stmt 0 view .LVU106
 465 0034 B223     		movs	r3, #178
 466 0036 8DF80430 		strb	r3, [sp, #4]
 291:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 467              		.loc 1 291 3 is_stmt 1 view .LVU107
 291:Device/Src/drv_wave1006.c **** 		if (ret != WAVE1006_EXIT_OK)
 468              		.loc 1 291 9 is_stmt 0 view .LVU108
 469 003a 01AB     		add	r3, sp, #4
 470 003c 0122     		movs	r2, #1
 471 003e 6D21     		movs	r1, #109
 472 0040 FFF7FEFF 		bl	drv_wave1006_write_reg
 473              	.LVL36:
 292:Device/Src/drv_wave1006.c **** 			return ret;
 474              		.loc 1 292 3 is_stmt 1 view .LVU109
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 16


 292:Device/Src/drv_wave1006.c **** 			return ret;
 475              		.loc 1 292 6 is_stmt 0 view .LVU110
 476 0044 0346     		mov	r3, r0
 477 0046 0028     		cmp	r0, #0
 478 0048 F0D1     		bne	.L31
 296:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 479              		.loc 1 296 2 is_stmt 1 view .LVU111
 296:Device/Src/drv_wave1006.c **** 	ret = drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 480              		.loc 1 296 9 is_stmt 0 view .LVU112
 481 004a A223     		movs	r3, #162
 482 004c 8DF80430 		strb	r3, [sp, #4]
 297:Device/Src/drv_wave1006.c **** 	return ret;
 483              		.loc 1 297 2 is_stmt 1 view .LVU113
 297:Device/Src/drv_wave1006.c **** 	return ret;
 484              		.loc 1 297 8 is_stmt 0 view .LVU114
 485 0050 01AB     		add	r3, sp, #4
 486 0052 0122     		movs	r2, #1
 487 0054 6D21     		movs	r1, #109
 488 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 489              	.LVL37:
 297:Device/Src/drv_wave1006.c **** 	return ret;
 490              		.loc 1 297 8 view .LVU115
 491 005a 0346     		mov	r3, r0
 492              	.LVL38:
 298:Device/Src/drv_wave1006.c **** }
 493              		.loc 1 298 2 is_stmt 1 view .LVU116
 298:Device/Src/drv_wave1006.c **** }
 494              		.loc 1 298 9 is_stmt 0 view .LVU117
 495 005c E6E7     		b	.L31
 496              		.cfi_endproc
 497              	.LFE241:
 499              		.section	.rodata.wave1006_enter_test_mode.str1.4,"aMS",%progbits,1
 500              		.align	2
 501              	.LC0:
 502 0000 456E7465 		.ascii	"Enter test mode success!\015\012\000"
 502      72207465 
 502      7374206D 
 502      6F646520 
 502      73756363 
 503              		.section	.text.wave1006_enter_test_mode,"ax",%progbits
 504              		.align	1
 505              		.global	wave1006_enter_test_mode
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 510              	wave1006_enter_test_mode:
 511              	.LVL39:
 512              	.LFB239:
 199:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 513              		.loc 1 199 1 is_stmt 1 view -0
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 8
 516              		@ frame_needed = 0, uses_anonymous_args = 0
 199:Device/Src/drv_wave1006.c **** 	unsigned char buf[7];
 517              		.loc 1 199 1 is_stmt 0 view .LVU119
 518 0000 10B5     		push	{r4, lr}
 519              	.LCFI17:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 17


 520              		.cfi_def_cfa_offset 8
 521              		.cfi_offset 4, -8
 522              		.cfi_offset 14, -4
 523 0002 82B0     		sub	sp, sp, #8
 524              	.LCFI18:
 525              		.cfi_def_cfa_offset 16
 526 0004 0446     		mov	r4, r0
 200:Device/Src/drv_wave1006.c **** 
 527              		.loc 1 200 2 is_stmt 1 view .LVU120
 203:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 528              		.loc 1 203 2 view .LVU121
 203:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 529              		.loc 1 203 9 is_stmt 0 view .LVU122
 530 0006 0420     		movs	r0, #4
 531              	.LVL40:
 203:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_EXTEND, 1, &buf[0]) != WAVE1006_EXIT_OK)
 532              		.loc 1 203 9 view .LVU123
 533 0008 8DF80000 		strb	r0, [sp]
 204:Device/Src/drv_wave1006.c **** 	{
 534              		.loc 1 204 2 is_stmt 1 view .LVU124
 204:Device/Src/drv_wave1006.c **** 	{
 535              		.loc 1 204 5 is_stmt 0 view .LVU125
 536 000c 6B46     		mov	r3, sp
 537 000e 0122     		movs	r2, #1
 538 0010 FD21     		movs	r1, #253
 539 0012 FFF7FEFF 		bl	drv_wave1006_write_reg
 540              	.LVL41:
 204:Device/Src/drv_wave1006.c **** 	{
 541              		.loc 1 204 4 view .LVU126
 542 0016 58BB     		cbnz	r0, .L36
 210:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, 0x07, 1, &buf[0]) != WAVE1006_EXIT_OK)//8825C版本
 543              		.loc 1 210 2 is_stmt 1 view .LVU127
 210:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, 0x07, 1, &buf[0]) != WAVE1006_EXIT_OK)//8825C版本
 544              		.loc 1 210 9 is_stmt 0 view .LVU128
 545 0018 8DF80040 		strb	r4, [sp]
 211:Device/Src/drv_wave1006.c **** 	{
 546              		.loc 1 211 2 is_stmt 1 view .LVU129
 211:Device/Src/drv_wave1006.c **** 	{
 547              		.loc 1 211 5 is_stmt 0 view .LVU130
 548 001c 6B46     		mov	r3, sp
 549 001e 0122     		movs	r2, #1
 550 0020 0721     		movs	r1, #7
 551 0022 0420     		movs	r0, #4
 552 0024 FFF7FEFF 		bl	drv_wave1006_write_reg
 553              	.LVL42:
 211:Device/Src/drv_wave1006.c **** 	{
 554              		.loc 1 211 4 view .LVU131
 555 0028 28BB     		cbnz	r0, .L37
 216:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 556              		.loc 1 216 2 is_stmt 1 view .LVU132
 216:Device/Src/drv_wave1006.c **** 	buf[1] = 0x6c;//min
 557              		.loc 1 216 9 is_stmt 0 view .LVU133
 558 002a 6C23     		movs	r3, #108
 559 002c 8DF80030 		strb	r3, [sp]
 217:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
 560              		.loc 1 217 2 is_stmt 1 view .LVU134
 217:Device/Src/drv_wave1006.c **** 	buf[2] = 0x3c;//hour
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 18


 561              		.loc 1 217 9 is_stmt 0 view .LVU135
 562 0030 8DF80130 		strb	r3, [sp, #1]
 218:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 563              		.loc 1 218 2 is_stmt 1 view .LVU136
 218:Device/Src/drv_wave1006.c **** 	buf[3] = 0x07;//week
 564              		.loc 1 218 9 is_stmt 0 view .LVU137
 565 0034 3C23     		movs	r3, #60
 566 0036 8DF80230 		strb	r3, [sp, #2]
 219:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 567              		.loc 1 219 2 is_stmt 1 view .LVU138
 219:Device/Src/drv_wave1006.c **** 	buf[4] = 0x3c;//day
 568              		.loc 1 219 9 is_stmt 0 view .LVU139
 569 003a 0722     		movs	r2, #7
 570 003c 8DF80320 		strb	r2, [sp, #3]
 220:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 571              		.loc 1 220 2 is_stmt 1 view .LVU140
 220:Device/Src/drv_wave1006.c **** 	buf[5] = 0x1c;//month
 572              		.loc 1 220 9 is_stmt 0 view .LVU141
 573 0040 8DF80430 		strb	r3, [sp, #4]
 221:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 574              		.loc 1 221 2 is_stmt 1 view .LVU142
 221:Device/Src/drv_wave1006.c **** 	buf[6] = 0xcc;//year
 575              		.loc 1 221 9 is_stmt 0 view .LVU143
 576 0044 1C23     		movs	r3, #28
 577 0046 8DF80530 		strb	r3, [sp, #5]
 222:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 578              		.loc 1 222 2 is_stmt 1 view .LVU144
 222:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD8804, WAVE1006_REG_SEC, 7, &buf[0]) != WAVE1006_EXIT_OK)
 579              		.loc 1 222 9 is_stmt 0 view .LVU145
 580 004a CC23     		movs	r3, #204
 581 004c 8DF80630 		strb	r3, [sp, #6]
 223:Device/Src/drv_wave1006.c **** 	{
 582              		.loc 1 223 2 is_stmt 1 view .LVU146
 223:Device/Src/drv_wave1006.c **** 	{
 583              		.loc 1 223 5 is_stmt 0 view .LVU147
 584 0050 6B46     		mov	r3, sp
 585 0052 0021     		movs	r1, #0
 586 0054 0420     		movs	r0, #4
 587 0056 FFF7FEFF 		bl	drv_wave1006_write_reg
 588              	.LVL43:
 223:Device/Src/drv_wave1006.c **** 	{
 589              		.loc 1 223 4 view .LVU148
 590 005a 0446     		mov	r4, r0
 591 005c 70B9     		cbnz	r0, .L38
 228:Device/Src/drv_wave1006.c **** 	UsbPrintf("Enter test mode success!\r\n");
 592              		.loc 1 228 2 is_stmt 1 view .LVU149
 593 005e 6420     		movs	r0, #100
 594 0060 FFF7FEFF 		bl	HAL_Delay
 595              	.LVL44:
 229:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 596              		.loc 1 229 2 view .LVU150
 597 0064 0748     		ldr	r0, .L40
 598 0066 FFF7FEFF 		bl	UsbPrintf
 599              	.LVL45:
 230:Device/Src/drv_wave1006.c **** 
 600              		.loc 1 230 2 view .LVU151
 601              	.L35:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 19


 247:Device/Src/drv_wave1006.c **** 
 602              		.loc 1 247 1 is_stmt 0 view .LVU152
 603 006a 2046     		mov	r0, r4
 604 006c 02B0     		add	sp, sp, #8
 605              	.LCFI19:
 606              		.cfi_remember_state
 607              		.cfi_def_cfa_offset 8
 608              		@ sp needed
 609 006e 10BD     		pop	{r4, pc}
 610              	.L36:
 611              	.LCFI20:
 612              		.cfi_restore_state
 206:Device/Src/drv_wave1006.c **** 	}
 613              		.loc 1 206 10 view .LVU153
 614 0070 6FF00104 		mvn	r4, #1
 615 0074 F9E7     		b	.L35
 616              	.L37:
 213:Device/Src/drv_wave1006.c **** 	}
 617              		.loc 1 213 10 view .LVU154
 618 0076 6FF00104 		mvn	r4, #1
 619 007a F6E7     		b	.L35
 620              	.L38:
 225:Device/Src/drv_wave1006.c **** 	}
 621              		.loc 1 225 10 view .LVU155
 622 007c 6FF00104 		mvn	r4, #1
 623 0080 F3E7     		b	.L35
 624              	.L41:
 625 0082 00BF     		.align	2
 626              	.L40:
 627 0084 00000000 		.word	.LC0
 628              		.cfi_endproc
 629              	.LFE239:
 631              		.section	.text.wave1006_osc_config_set,"ax",%progbits
 632              		.align	1
 633              		.global	wave1006_osc_config_set
 634              		.syntax unified
 635              		.thumb
 636              		.thumb_func
 638              	wave1006_osc_config_set:
 639              	.LVL46:
 640              	.LFB240:
 251:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 641              		.loc 1 251 1 is_stmt 1 view -0
 642              		.cfi_startproc
 643              		@ args = 0, pretend = 0, frame = 8
 644              		@ frame_needed = 0, uses_anonymous_args = 0
 251:Device/Src/drv_wave1006.c **** 	unsigned char buf[2];
 645              		.loc 1 251 1 is_stmt 0 view .LVU157
 646 0000 00B5     		push	{lr}
 647              	.LCFI21:
 648              		.cfi_def_cfa_offset 4
 649              		.cfi_offset 14, -4
 650 0002 83B0     		sub	sp, sp, #12
 651              	.LCFI22:
 652              		.cfi_def_cfa_offset 16
 252:Device/Src/drv_wave1006.c **** 	wave1006_exit_code_e ret;
 653              		.loc 1 252 2 is_stmt 1 view .LVU158
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 20


 253:Device/Src/drv_wave1006.c **** 
 654              		.loc 1 253 2 view .LVU159
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 655              		.loc 1 256 2 view .LVU160
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 656              		.loc 1 256 19 is_stmt 0 view .LVU161
 657 0004 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 658 0006 C2F30111 		ubfx	r1, r2, #4, #2
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 659              		.loc 1 256 56 view .LVU162
 660 000a 9309     		lsrs	r3, r2, #6
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 661              		.loc 1 256 71 view .LVU163
 662 000c 5B01     		lsls	r3, r3, #5
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 663              		.loc 1 256 47 view .LVU164
 664 000e 43EAC113 		orr	r3, r3, r1, lsl #7
 665 0012 5BB2     		sxtb	r3, r3
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 666              		.loc 1 256 86 view .LVU165
 667 0014 4178     		ldrb	r1, [r0, #1]	@ zero_extendqisi2
 668 0016 01F00300 		and	r0, r1, #3
 669              	.LVL47:
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 670              		.loc 1 256 77 view .LVU166
 671 001a 43EAC003 		orr	r3, r3, r0, lsl #3
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 672              		.loc 1 256 135 view .LVU167
 673 001e 01F00400 		and	r0, r1, #4
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 674              		.loc 1 256 109 view .LVU168
 675 0022 0343     		orrs	r3, r3, r0
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 676              		.loc 1 256 150 view .LVU169
 677 0024 C1F3C000 		ubfx	r0, r1, #3, #1
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 678              		.loc 1 256 141 view .LVU170
 679 0028 43EA4003 		orr	r3, r3, r0, lsl #1
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 680              		.loc 1 256 173 view .LVU171
 681 002c C1F30011 		ubfx	r1, r1, #4, #1
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 682              		.loc 1 256 165 view .LVU172
 683 0030 0B43     		orrs	r3, r3, r1
 256:Device/Src/drv_wave1006.c **** 	buf[1] = (config->leakage << 4) | (config->hosc << 3) | (config->cur_res_adj << 2) | ((config->osc
 684              		.loc 1 256 9 view .LVU173
 685 0032 8DF80430 		strb	r3, [sp, #4]
 257:Device/Src/drv_wave1006.c **** 	
 686              		.loc 1 257 2 is_stmt 1 view .LVU174
 257:Device/Src/drv_wave1006.c **** 	
 687              		.loc 1 257 18 is_stmt 0 view .LVU175
 688 0036 02F00101 		and	r1, r2, #1
 257:Device/Src/drv_wave1006.c **** 	
 689              		.loc 1 257 43 view .LVU176
 690 003a C2F34003 		ubfx	r3, r2, #1, #1
 257:Device/Src/drv_wave1006.c **** 	
 691              		.loc 1 257 50 view .LVU177
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 21


 692 003e DB00     		lsls	r3, r3, #3
 257:Device/Src/drv_wave1006.c **** 	
 693              		.loc 1 257 34 view .LVU178
 694 0040 43EA0113 		orr	r3, r3, r1, lsl #4
 257:Device/Src/drv_wave1006.c **** 	
 695              		.loc 1 257 79 view .LVU179
 696 0044 02F00C01 		and	r1, r2, #12
 257:Device/Src/drv_wave1006.c **** 	
 697              		.loc 1 257 56 view .LVU180
 698 0048 0B43     		orrs	r3, r3, r1
 257:Device/Src/drv_wave1006.c **** 	
 699              		.loc 1 257 116 view .LVU181
 700 004a C2F34012 		ubfx	r2, r2, #5, #1
 257:Device/Src/drv_wave1006.c **** 	
 701              		.loc 1 257 85 view .LVU182
 702 004e 1343     		orrs	r3, r3, r2
 257:Device/Src/drv_wave1006.c **** 	
 703              		.loc 1 257 9 view .LVU183
 704 0050 8DF80530 		strb	r3, [sp, #5]
 259:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 705              		.loc 1 259 2 is_stmt 1 view .LVU184
 259:Device/Src/drv_wave1006.c **** 	if (ret != WAVE1006_EXIT_OK) { return ret;}
 706              		.loc 1 259 8 is_stmt 0 view .LVU185
 707 0054 01AB     		add	r3, sp, #4
 708 0056 0222     		movs	r2, #2
 709 0058 8321     		movs	r1, #131
 710 005a 0420     		movs	r0, #4
 711 005c FFF7FEFF 		bl	drv_wave1006_write_reg
 712              	.LVL48:
 260:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 713              		.loc 1 260 2 is_stmt 1 view .LVU186
 260:Device/Src/drv_wave1006.c **** 	/*if not in test mode,enter test mode*/
 714              		.loc 1 260 5 is_stmt 0 view .LVU187
 715 0060 10B1     		cbz	r0, .L46
 716              	.L43:
 273:Device/Src/drv_wave1006.c **** 
 717              		.loc 1 273 1 view .LVU188
 718 0062 03B0     		add	sp, sp, #12
 719              	.LCFI23:
 720              		.cfi_remember_state
 721              		.cfi_def_cfa_offset 4
 722              		@ sp needed
 723 0064 5DF804FB 		ldr	pc, [sp], #4
 724              	.LVL49:
 725              	.L46:
 726              	.LCFI24:
 727              		.cfi_restore_state
 269:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 728              		.loc 1 269 2 is_stmt 1 view .LVU189
 269:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 729              		.loc 1 269 6 is_stmt 0 view .LVU190
 730 0068 0420     		movs	r0, #4
 731 006a FFF7FEFF 		bl	wave1006_enter_test_mode
 732              	.LVL50:
 269:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 733              		.loc 1 269 5 view .LVU191
 734 006e 0028     		cmp	r0, #0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 22


 735 0070 F7D0     		beq	.L43
 270:Device/Src/drv_wave1006.c **** 	}
 736              		.loc 1 270 10 view .LVU192
 737 0072 6FF00200 		mvn	r0, #2
 738 0076 F4E7     		b	.L43
 739              		.cfi_endproc
 740              	.LFE240:
 742              		.section	.rodata.wave1006_write_otp.str1.4,"aMS",%progbits,1
 743              		.align	2
 744              	.LC2:
 745 0000 57524954 		.ascii	"WRITE ALL OTP!\015\012\000"
 745      4520414C 
 745      4C204F54 
 745      50210D0A 
 745      00
 746 0011 000000   		.align	2
 747              	.LC3:
 748 0014 77726974 		.ascii	"write reg error in test mode\012\000"
 748      65207265 
 748      67206572 
 748      726F7220 
 748      696E2074 
 749 0032 0000     		.align	2
 750              	.LC4:
 751 0034 2F2A2A2A 		.ascii	"/**************************** WRITE OTP ***********"
 751      2A2A2A2A 
 751      2A2A2A2A 
 751      2A2A2A2A 
 751      2A2A2A2A 
 752 0067 2A2A2A2A 		.ascii	"*********************/\015\012\000"
 752      2A2A2A2A 
 752      2A2A2A2A 
 752      2A2A2A2A 
 752      2A2A2A2A 
 753              		.align	2
 754              	.LC5:
 755 0080 6F747020 		.ascii	"otp addr0:%hx\015\012\000"
 755      61646472 
 755      303A2568 
 755      780D0A00 
 756              		.align	2
 757              	.LC6:
 758 0090 6F747020 		.ascii	"otp addr1:%hx\015\012\000"
 758      61646472 
 758      313A2568 
 758      780D0A00 
 759              		.align	2
 760              	.LC7:
 761 00a0 6F747020 		.ascii	"otp addr2:%hx\015\012\000"
 761      61646472 
 761      323A2568 
 761      780D0A00 
 762              		.align	2
 763              	.LC8:
 764 00b0 6F747020 		.ascii	"otp addr3:%hx\015\012\000"
 764      61646472 
 764      333A2568 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 23


 764      780D0A00 
 765              		.align	2
 766              	.LC9:
 767 00c0 6F747020 		.ascii	"otp addr4:%hx\015\012\000"
 767      61646472 
 767      343A2568 
 767      780D0A00 
 768              		.align	2
 769              	.LC10:
 770 00d0 6F747020 		.ascii	"otp addr5:%hx\015\012\000"
 770      61646472 
 770      353A2568 
 770      780D0A00 
 771              		.align	2
 772              	.LC11:
 773 00e0 6F747020 		.ascii	"otp addr6:%hx\015\012\000"
 773      61646472 
 773      363A2568 
 773      780D0A00 
 774              		.align	2
 775              	.LC12:
 776 00f0 6F747020 		.ascii	"otp addr7:%hx\015\012\000"
 776      61646472 
 776      373A2568 
 776      780D0A00 
 777              		.align	2
 778              	.LC13:
 779 0100 6F747020 		.ascii	"otp addr8:%hx\015\012\000"
 779      61646472 
 779      383A2568 
 779      780D0A00 
 780              		.align	2
 781              	.LC14:
 782 0110 6F747020 		.ascii	"otp addr9:%hx\015\012\000"
 782      61646472 
 782      393A2568 
 782      780D0A00 
 783              		.align	2
 784              	.LC15:
 785 0120 6F747020 		.ascii	"otp addra:%hx\015\012\000"
 785      61646472 
 785      613A2568 
 785      780D0A00 
 786              		.align	2
 787              	.LC16:
 788 0130 6F747020 		.ascii	"otp addrb:%hx\015\012\000"
 788      61646472 
 788      623A2568 
 788      780D0A00 
 789              		.align	2
 790              	.LC17:
 791 0140 6F747020 		.ascii	"otp addrc:%hx\015\012\000"
 791      61646472 
 791      633A2568 
 791      780D0A00 
 792              		.align	2
 793              	.LC18:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 24


 794 0150 6F747020 		.ascii	"otp addrd:%hx\015\012\000"
 794      61646472 
 794      643A2568 
 794      780D0A00 
 795              		.align	2
 796              	.LC19:
 797 0160 6F747020 		.ascii	"otp addre:%hx\015\012\000"
 797      61646472 
 797      653A2568 
 797      780D0A00 
 798              		.align	2
 799              	.LC20:
 800 0170 6F747020 		.ascii	"otp addrf:%hx\015\012\000"
 800      61646472 
 800      663A2568 
 800      780D0A00 
 801              		.align	2
 802              	.LC21:
 803 0180 2F2A2A2A 		.ascii	"/**************************** READ OTP ************"
 803      2A2A2A2A 
 803      2A2A2A2A 
 803      2A2A2A2A 
 803      2A2A2A2A 
 804 01b3 2A2A2A2A 		.ascii	"********************/\015\012\000"
 804      2A2A2A2A 
 804      2A2A2A2A 
 804      2A2A2A2A 
 804      2A2A2A2A 
 805 01cb 00       		.align	2
 806              	.LC22:
 807 01cc 77725F70 		.ascii	"wr_pos = %hx\015\012\000"
 807      6F73203D 
 807      20256878 
 807      0D0A00
 808 01db 00       		.align	2
 809              	.LC23:
 810 01dc 49442063 		.ascii	"ID check sum:%06X\012\000"
 810      6865636B 
 810      2073756D 
 810      3A253036 
 810      580A00
 811 01ef 00       		.align	2
 812              	.LC24:
 813 01f0 77726974 		.ascii	"write otp is successful! %lx: cal=%lx\015\012\000"
 813      65206F74 
 813      70206973 
 813      20737563 
 813      63657373 
 814              		.align	2
 815              	.LC25:
 816 0218 45584954 		.ascii	"EXIT OK!\015\012\000"
 816      204F4B21 
 816      0D0A00
 817 0223 00       		.align	2
 818              	.LC26:
 819 0224 77726974 		.ascii	"write check is err %lx: cal=%lx\015\012\000"
 819      65206368 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 25


 819      65636B20 
 819      69732065 
 819      72722025 
 820              		.section	.text.wave1006_write_otp,"ax",%progbits
 821              		.align	1
 822              		.global	wave1006_write_otp
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 827              	wave1006_write_otp:
 828              	.LVL51:
 829              	.LFB243:
 326:Device/Src/drv_wave1006.c **** 
 327:Device/Src/drv_wave1006.c **** 
 328:Device/Src/drv_wave1006.c **** //配置为SD8825烧写为不同型号
 329:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp(wave1006_otp_arg_t const *config_arg,  unsigned char const 
 330:Device/Src/drv_wave1006.c **** {
 830              		.loc 1 330 1 is_stmt 1 view -0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 48
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834              		.loc 1 330 1 is_stmt 0 view .LVU194
 835 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 836              	.LCFI25:
 837              		.cfi_def_cfa_offset 28
 838              		.cfi_offset 4, -28
 839              		.cfi_offset 5, -24
 840              		.cfi_offset 6, -20
 841              		.cfi_offset 7, -16
 842              		.cfi_offset 8, -12
 843              		.cfi_offset 9, -8
 844              		.cfi_offset 14, -4
 845 0004 8DB0     		sub	sp, sp, #52
 846              	.LCFI26:
 847              		.cfi_def_cfa_offset 80
 848 0006 0446     		mov	r4, r0
 849 0008 8946     		mov	r9, r1
 850 000a 1546     		mov	r5, r2
 851 000c 1F46     		mov	r7, r3
 331:Device/Src/drv_wave1006.c **** 	uint16_t i;
 852              		.loc 1 331 2 is_stmt 1 view .LVU195
 332:Device/Src/drv_wave1006.c **** 	uint8_t buf1;
 853              		.loc 1 332 2 view .LVU196
 333:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0};
 854              		.loc 1 333 2 view .LVU197
 855              		.loc 1 333 10 is_stmt 0 view .LVU198
 856 000e E64B     		ldr	r3, .L67
 857              	.LVL52:
 858              		.loc 1 333 10 view .LVU199
 859 0010 93E80300 		ldm	r3, {r0, r1}
 860              	.LVL53:
 861              		.loc 1 333 10 view .LVU200
 862 0014 0A90     		str	r0, [sp, #40]
 863 0016 8DF82C10 		strb	r1, [sp, #44]
 334:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 864              		.loc 1 334 2 is_stmt 1 view .LVU201
 335:Device/Src/drv_wave1006.c **** 	uint16_t otp_buf[16]  = {0};
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 26


 865              		.loc 1 335 2 view .LVU202
 866              		.loc 1 335 11 is_stmt 0 view .LVU203
 867 001a 2022     		movs	r2, #32
 868              	.LVL54:
 869              		.loc 1 335 11 view .LVU204
 870 001c 0021     		movs	r1, #0
 871 001e 01A8     		add	r0, sp, #4
 872 0020 FFF7FEFF 		bl	memset
 873              	.LVL55:
 336:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_wr = 0;     //写数据校验缓存
 874              		.loc 1 336 2 is_stmt 1 view .LVU205
 337:Device/Src/drv_wave1006.c **** 	uint32_t check_sum_rd = 0;		 //读数据校验缓存
 875              		.loc 1 337 2 view .LVU206
 338:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
 876              		.loc 1 338 2 view .LVU207
 339:Device/Src/drv_wave1006.c **** 	uint32_t sum = 0;
 877              		.loc 1 339 2 view .LVU208
 340:Device/Src/drv_wave1006.c **** 
 341:Device/Src/drv_wave1006.c **** 	UsbPrintf("WRITE ALL OTP!\r\n");
 878              		.loc 1 341 2 view .LVU209
 879 0024 E148     		ldr	r0, .L67+4
 880 0026 FFF7FEFF 		bl	UsbPrintf
 881              	.LVL56:
 342:Device/Src/drv_wave1006.c **** 	rtc_group_power(rtcNumber, POWER_I2C);//-------------------
 882              		.loc 1 342 2 view .LVU210
 883 002a 0121     		movs	r1, #1
 884 002c 3846     		mov	r0, r7
 885 002e FFF7FEFF 		bl	rtc_group_power
 886              	.LVL57:
 343:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_SD8825);
 887              		.loc 1 343 2 view .LVU211
 888 0032 0221     		movs	r1, #2
 889 0034 3846     		mov	r0, r7
 890 0036 FFF7FEFF 		bl	rtc_set_channel
 891              	.LVL58:
 344:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 892              		.loc 1 344 2 view .LVU212
 893 003a 6420     		movs	r0, #100
 894 003c FFF7FEFF 		bl	HAL_Delay
 895              	.LVL59:
 345:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 896              		.loc 1 345 2 view .LVU213
 897              		.loc 1 345 7 is_stmt 0 view .LVU214
 898 0040 4023     		movs	r3, #64
 899 0042 8DF82F30 		strb	r3, [sp, #47]
 346:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 900              		.loc 1 346 2 is_stmt 1 view .LVU215
 901              		.loc 1 346 5 is_stmt 0 view .LVU216
 902 0046 0DF12F03 		add	r3, sp, #47
 903 004a 0122     		movs	r2, #1
 904 004c 1121     		movs	r1, #17
 905 004e 0020     		movs	r0, #0
 906 0050 FFF7FEFF 		bl	drv_wave1006_write_reg
 907              	.LVL60:
 908              		.loc 1 346 4 view .LVU217
 909 0054 0028     		cmp	r0, #0
 910 0056 40F03A84 		bne	.L58
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 27


 347:Device/Src/drv_wave1006.c **** 	{
 348:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 349:Device/Src/drv_wave1006.c **** 	}
 350:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 911              		.loc 1 350 2 is_stmt 1 view .LVU218
 912              		.loc 1 350 5 is_stmt 0 view .LVU219
 913 005a 0DF12F03 		add	r3, sp, #47
 914 005e 0122     		movs	r2, #1
 915 0060 8021     		movs	r1, #128
 916 0062 FFF7FEFF 		bl	drv_wave1006_read_reg
 917              	.LVL61:
 918              		.loc 1 350 4 view .LVU220
 919 0066 0028     		cmp	r0, #0
 920 0068 40F03484 		bne	.L59
 351:Device/Src/drv_wave1006.c **** 	{
 352:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 353:Device/Src/drv_wave1006.c **** 	}
 354:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 921              		.loc 1 354 2 is_stmt 1 view .LVU221
 922              		.loc 1 354 7 is_stmt 0 view .LVU222
 923 006c 9DF82F30 		ldrb	r3, [sp, #47]	@ zero_extendqisi2
 924 0070 23F00F03 		bic	r3, r3, #15
 925 0074 8DF82F30 		strb	r3, [sp, #47]
 355:Device/Src/drv_wave1006.c **** 	buf1 |= 0x00;//根据pad配置表，编号0为8825
 926              		.loc 1 355 2 is_stmt 1 view .LVU223
 356:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 927              		.loc 1 356 2 view .LVU224
 928              		.loc 1 356 5 is_stmt 0 view .LVU225
 929 0078 0DF12F03 		add	r3, sp, #47
 930 007c 0122     		movs	r2, #1
 931 007e 8021     		movs	r1, #128
 932 0080 FFF7FEFF 		bl	drv_wave1006_write_reg
 933              	.LVL62:
 934              		.loc 1 356 4 view .LVU226
 935 0084 0028     		cmp	r0, #0
 936 0086 40F02884 		bne	.L60
 357:Device/Src/drv_wave1006.c **** 	{
 358:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 359:Device/Src/drv_wave1006.c **** 	}
 360:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 361:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 937              		.loc 1 361 2 is_stmt 1 view .LVU227
 938              		.loc 1 361 5 is_stmt 0 view .LVU228
 939 008a 0AAB     		add	r3, sp, #40
 940 008c 0522     		movs	r2, #5
 941 008e 6D21     		movs	r1, #109
 942 0090 FFF7FEFF 		bl	drv_wave1006_write_reg
 943              	.LVL63:
 944              		.loc 1 361 4 view .LVU229
 945 0094 0028     		cmp	r0, #0
 946 0096 40F02384 		bne	.L61
 362:Device/Src/drv_wave1006.c **** 	{
 363:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 364:Device/Src/drv_wave1006.c **** 	}
 365:Device/Src/drv_wave1006.c **** 		
 366:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 947              		.loc 1 366 2 is_stmt 1 view .LVU230
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 28


 948              		.loc 1 366 5 is_stmt 0 view .LVU231
 949 009a 3020     		movs	r0, #48
 950 009c FFF7FEFF 		bl	wave1006_enter_test_mode
 951              	.LVL64:
 952              		.loc 1 366 4 view .LVU232
 953 00a0 0028     		cmp	r0, #0
 954 00a2 40F02084 		bne	.L62
 367:Device/Src/drv_wave1006.c **** 	{
 368:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 369:Device/Src/drv_wave1006.c **** 	}
 370:Device/Src/drv_wave1006.c ****  
 371:Device/Src/drv_wave1006.c ****     /*switch i2c prot, io6 =5V*/
 372:Device/Src/drv_wave1006.c ****  	rtc_set_channel(rtcNumber, RTC_SD8825);//切换pad引脚
 955              		.loc 1 372 3 is_stmt 1 view .LVU233
 956 00a6 0221     		movs	r1, #2
 957 00a8 3846     		mov	r0, r7
 958 00aa FFF7FEFF 		bl	rtc_set_channel
 959              	.LVL65:
 373:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 960              		.loc 1 373 2 view .LVU234
 961 00ae 0A20     		movs	r0, #10
 962 00b0 FFF7FEFF 		bl	HAL_Delay
 963              	.LVL66:
 374:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 375:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 964              		.loc 1 375 3 view .LVU235
 965              		.loc 1 375 10 is_stmt 0 view .LVU236
 966 00b4 8023     		movs	r3, #128
 967 00b6 8DF82830 		strb	r3, [sp, #40]
 376:Device/Src/drv_wave1006.c **** 	if (drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0])!= WAVE1006_EXI
 968              		.loc 1 376 2 is_stmt 1 view .LVU237
 969              		.loc 1 376 6 is_stmt 0 view .LVU238
 970 00ba 0AAB     		add	r3, sp, #40
 971 00bc 0122     		movs	r2, #1
 972 00be 6D21     		movs	r1, #109
 973 00c0 0020     		movs	r0, #0
 974 00c2 FFF7FEFF 		bl	drv_wave1006_write_reg
 975              	.LVL67:
 976              		.loc 1 376 5 view .LVU239
 977 00c6 8046     		mov	r8, r0
 978 00c8 0028     		cmp	r0, #0
 979 00ca 40F03A82 		bne	.L64
 377:Device/Src/drv_wave1006.c **** 		UsbPrintf("write reg error in test mode\n");
 378:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 379:Device/Src/drv_wave1006.c **** 	}
 380:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 980              		.loc 1 380 3 is_stmt 1 view .LVU240
 981              		.loc 1 380 10 is_stmt 0 view .LVU241
 982 00ce 8223     		movs	r3, #130
 983 00d0 8DF82830 		strb	r3, [sp, #40]
 381:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 984              		.loc 1 381 3 is_stmt 1 view .LVU242
 985 00d4 0AAB     		add	r3, sp, #40
 986 00d6 0122     		movs	r2, #1
 987 00d8 6D21     		movs	r1, #109
 988 00da 0020     		movs	r0, #0
 989 00dc FFF7FEFF 		bl	drv_wave1006_write_reg
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 29


 990              	.LVL68:
 382:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 991              		.loc 1 382 3 view .LVU243
 992              		.loc 1 382 10 is_stmt 0 view .LVU244
 993 00e0 A223     		movs	r3, #162
 994 00e2 8DF82830 		strb	r3, [sp, #40]
 383:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 995              		.loc 1 383 3 is_stmt 1 view .LVU245
 996 00e6 0AAB     		add	r3, sp, #40
 997 00e8 0122     		movs	r2, #1
 998 00ea 6D21     		movs	r1, #109
 999 00ec 0020     		movs	r0, #0
 1000 00ee FFF7FEFF 		bl	drv_wave1006_write_reg
 1001              	.LVL69:
 384:Device/Src/drv_wave1006.c **** 
 385:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** WRITE OTP ********************************/\r\n");
 1002              		.loc 1 385 2 view .LVU246
 1003 00f2 AF48     		ldr	r0, .L67+8
 1004 00f4 FFF7FEFF 		bl	UsbPrintf
 1005              	.LVL70:
 386:Device/Src/drv_wave1006.c **** 	rtc_otp_power(8.35);
 1006              		.loc 1 386 2 view .LVU247
 1007 00f8 9FEDAE0A 		vldr.32	s0, .L67+12
 1008 00fc FFF7FEFF 		bl	rtc_otp_power
 1009              	.LVL71:
 387:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_SET); //打开8.5v的开关
 1010              		.loc 1 387 2 view .LVU248
 1011 0100 0122     		movs	r2, #1
 1012 0102 4021     		movs	r1, #64
 1013 0104 AC48     		ldr	r0, .L67+16
 1014 0106 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1015              	.LVL72:
 388:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1016              		.loc 1 388 2 view .LVU249
 1017 010a 0A20     		movs	r0, #10
 1018 010c FFF7FEFF 		bl	HAL_Delay
 1019              	.LVL73:
 389:Device/Src/drv_wave1006.c **** 
 390:Device/Src/drv_wave1006.c **** //    start write otp
 391:Device/Src/drv_wave1006.c **** 	otp_temp =  0x3ffc | (config_arg->test_wp_config << 1) | config_arg->otp_wp_config;
 1020              		.loc 1 391 2 view .LVU250
 1021              		.loc 1 391 34 is_stmt 0 view .LVU251
 1022 0110 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1023              		.loc 1 391 51 view .LVU252
 1024 0112 03F00206 		and	r6, r3, #2
 1025              		.loc 1 391 21 view .LVU253
 1026 0116 46F47F56 		orr	r6, r6, #16320
 1027 011a 46F03C06 		orr	r6, r6, #60
 1028              		.loc 1 391 69 view .LVU254
 1029 011e 03F00103 		and	r3, r3, #1
 1030              		.loc 1 391 57 view .LVU255
 1031 0122 1E43     		orrs	r6, r6, r3
 1032              		.loc 1 391 11 view .LVU256
 1033 0124 ADF82660 		strh	r6, [sp, #38]	@ movhi
 392:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1034              		.loc 1 392 2 is_stmt 1 view .LVU257
 1035              	.LVL74:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 30


 393:Device/Src/drv_wave1006.c ****   wave1006_write_otp_single(0, otp_temp);// addr 0
 1036              		.loc 1 393 3 view .LVU258
 1037 0128 3146     		mov	r1, r6
 1038 012a 0020     		movs	r0, #0
 1039 012c FFF7FEFF 		bl	wave1006_write_otp_single
 1040              	.LVL75:
 394:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr0:%hx\r\n", otp_temp);
 1041              		.loc 1 394 2 view .LVU259
 1042 0130 BDF82610 		ldrh	r1, [sp, #38]
 1043 0134 A148     		ldr	r0, .L67+20
 1044 0136 FFF7FEFF 		bl	UsbPrintf
 1045              	.LVL76:
 395:Device/Src/drv_wave1006.c **** 
 396:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->package_type_config << 10) | (config_arg->freq_en_config << 7) | (config_a
 1046              		.loc 1 396 2 view .LVU260
 1047              		.loc 1 396 24 is_stmt 0 view .LVU261
 1048 013a A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1049 013c 02F00F02 		and	r2, r2, #15
 1050              		.loc 1 396 66 view .LVU262
 1051 0140 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1052 0142 C3F38201 		ubfx	r1, r3, #2, #3
 1053              		.loc 1 396 83 view .LVU263
 1054 0146 C901     		lsls	r1, r1, #7
 1055              		.loc 1 396 53 view .LVU264
 1056 0148 41EA8221 		orr	r1, r1, r2, lsl #10
 1057              		.loc 1 396 102 view .LVU265
 1058 014c 03F00303 		and	r3, r3, #3
 1059              		.loc 1 396 89 view .LVU266
 1060 0150 41EA4311 		orr	r1, r1, r3, lsl #5
 1061              		.loc 1 396 142 view .LVU267
 1062 0154 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1063 0156 C3F38012 		ubfx	r2, r3, #6, #1
 1064              		.loc 1 396 129 view .LVU268
 1065 015a 41EA0211 		orr	r1, r1, r2, lsl #4
 397:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1066              		.loc 1 397 13 view .LVU269
 1067 015e C3F38303 		ubfx	r3, r3, #2, #4
 396:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1068              		.loc 1 396 165 view .LVU270
 1069 0162 1943     		orrs	r1, r1, r3
 396:Device/Src/drv_wave1006.c **** 		config_arg->device_type_config;
 1070              		.loc 1 396 11 view .LVU271
 1071 0164 ADF82610 		strh	r1, [sp, #38]	@ movhi
 398:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1072              		.loc 1 398 2 is_stmt 1 view .LVU272
 1073              		.loc 1 398 15 is_stmt 0 view .LVU273
 1074 0168 0E44     		add	r6, r6, r1
 1075              	.LVL77:
 399:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(1, otp_temp);
 1076              		.loc 1 399 2 is_stmt 1 view .LVU274
 1077 016a 0120     		movs	r0, #1
 1078 016c FFF7FEFF 		bl	wave1006_write_otp_single
 1079              	.LVL78:
 400:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr1:%hx\r\n", otp_temp);
 1080              		.loc 1 400 2 view .LVU275
 1081 0170 BDF82610 		ldrh	r1, [sp, #38]
 1082 0174 9248     		ldr	r0, .L67+24
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 31


 1083 0176 FFF7FEFF 		bl	UsbPrintf
 1084              	.LVL79:
 401:Device/Src/drv_wave1006.c **** 
 402:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->timer_freq_source_config & 0x01) << 13) | (config_arg->ae_disable_config 
 1085              		.loc 1 402 2 view .LVU276
 1086              		.loc 1 402 25 is_stmt 0 view .LVU277
 1087 017a 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1088 017c C3F38101 		ubfx	r1, r3, #2, #2
 1089              		.loc 1 402 60 view .LVU278
 1090 0180 4903     		lsls	r1, r1, #13
 1091 0182 01F40051 		and	r1, r1, #8192
 1092              		.loc 1 402 80 view .LVU279
 1093 0186 03F00303 		and	r3, r3, #3
 1094              		.loc 1 402 67 view .LVU280
 1095 018a 41EAC321 		orr	r1, r1, r3, lsl #11
 1096              		.loc 1 402 120 view .LVU281
 1097 018e E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 1098 0190 03F07F03 		and	r3, r3, #127
 1099              		.loc 1 402 107 view .LVU282
 1100 0194 41EA0311 		orr	r1, r1, r3, lsl #4
 403:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1101              		.loc 1 403 14 view .LVU283
 1102 0198 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 1103 019a DA09     		lsrs	r2, r3, #7
 402:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1104              		.loc 1 402 147 view .LVU284
 1105 019c 41EAC201 		orr	r1, r1, r2, lsl #3
 1106              		.loc 1 403 53 view .LVU285
 1107 01a0 C3F38012 		ubfx	r2, r3, #6, #1
 1108              		.loc 1 403 40 view .LVU286
 1109 01a4 41EA8201 		orr	r1, r1, r2, lsl #2
 1110              		.loc 1 403 96 view .LVU287
 1111 01a8 C3F34012 		ubfx	r2, r3, #5, #1
 1112              		.loc 1 403 82 view .LVU288
 1113 01ac 41EA4201 		orr	r1, r1, r2, lsl #1
 1114              		.loc 1 403 138 view .LVU289
 1115 01b0 C3F30013 		ubfx	r3, r3, #4, #1
 1116              		.loc 1 403 126 view .LVU290
 1117 01b4 1943     		orrs	r1, r1, r3
 402:Device/Src/drv_wave1006.c **** 		(config_arg->week_alarm_config << 3) | (config_arg->wada_polarity_config << 2) |  (config_arg->we
 1118              		.loc 1 402 11 view .LVU291
 1119 01b6 ADF82610 		strh	r1, [sp, #38]	@ movhi
 404:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1120              		.loc 1 404 2 is_stmt 1 view .LVU292
 1121              		.loc 1 404 15 is_stmt 0 view .LVU293
 1122 01ba 0E44     		add	r6, r6, r1
 1123              	.LVL80:
 405:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(2, otp_temp);
 1124              		.loc 1 405 2 is_stmt 1 view .LVU294
 1125 01bc 0220     		movs	r0, #2
 1126 01be FFF7FEFF 		bl	wave1006_write_otp_single
 1127              	.LVL81:
 406:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr2:%hx\r\n", otp_temp);
 1128              		.loc 1 406 2 view .LVU295
 1129 01c2 BDF82610 		ldrh	r1, [sp, #38]
 1130 01c6 7F48     		ldr	r0, .L67+28
 1131 01c8 FFF7FEFF 		bl	UsbPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 32


 1132              	.LVL82:
 407:Device/Src/drv_wave1006.c **** 
 408:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->time_update_support_config << 13) | (config_arg->reg_addr_reset_config << 
 1133              		.loc 1 408 2 view .LVU296
 1134              		.loc 1 408 24 is_stmt 0 view .LVU297
 1135 01cc E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 1136 01ce C3F38002 		ubfx	r2, r3, #2, #1
 1137              		.loc 1 408 73 view .LVU298
 1138 01d2 03F00301 		and	r1, r3, #3
 1139              		.loc 1 408 97 view .LVU299
 1140 01d6 C902     		lsls	r1, r1, #11
 1141              		.loc 1 408 60 view .LVU300
 1142 01d8 41EA4231 		orr	r1, r1, r2, lsl #13
 1143              		.loc 1 408 117 view .LVU301
 1144 01dc A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 1145 01de C3F38012 		ubfx	r2, r3, #6, #1
 1146              		.loc 1 408 104 view .LVU302
 1147 01e2 41EA8221 		orr	r1, r1, r2, lsl #10
 409:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1148              		.loc 1 409 14 view .LVU303
 1149 01e6 C3F34012 		ubfx	r2, r3, #5, #1
 408:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1150              		.loc 1 408 154 view .LVU304
 1151 01ea 41EA4221 		orr	r1, r1, r2, lsl #9
 1152              		.loc 1 409 59 view .LVU305
 1153 01ee C3F30012 		ubfx	r2, r3, #4, #1
 1154              		.loc 1 409 46 view .LVU306
 1155 01f2 41EA0221 		orr	r1, r1, r2, lsl #8
 1156              		.loc 1 409 95 view .LVU307
 1157 01f6 C3F3C002 		ubfx	r2, r3, #3, #1
 1158              		.loc 1 409 82 view .LVU308
 1159 01fa 41EAC211 		orr	r1, r1, r2, lsl #7
 1160              		.loc 1 409 136 view .LVU309
 1161 01fe 03F00703 		and	r3, r3, #7
 1162              		.loc 1 409 122 view .LVU310
 1163 0202 41EA0311 		orr	r1, r1, r3, lsl #4
 410:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1164              		.loc 1 410 14 view .LVU311
 1165 0206 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 409:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1166              		.loc 1 409 163 view .LVU312
 1167 0208 41EAC301 		orr	r1, r1, r3, lsl #3
 1168              		.loc 1 410 62 view .LVU313
 1169 020c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 1170 020e C3F34012 		ubfx	r2, r3, #5, #1
 1171              		.loc 1 410 49 view .LVU314
 1172 0212 41EA8201 		orr	r1, r1, r2, lsl #2
 1173              		.loc 1 410 110 view .LVU315
 1174 0216 C3F30012 		ubfx	r2, r3, #4, #1
 1175              		.loc 1 410 97 view .LVU316
 1176 021a 41EA4201 		orr	r1, r1, r2, lsl #1
 411:Device/Src/drv_wave1006.c **** 		((config_arg->timer_freq_source_config >> 1) & 0x01);
 1177              		.loc 1 411 48 view .LVU317
 1178 021e C3F3C003 		ubfx	r3, r3, #3, #1
 410:Device/Src/drv_wave1006.c **** 		(config_arg->timer_reset_support_config << 3) | (config_arg->timer_pause_support_config << 2) | (
 1179              		.loc 1 410 136 view .LVU318
 1180 0222 1943     		orrs	r1, r1, r3
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 33


 408:Device/Src/drv_wave1006.c **** 		(config_arg->time_rst_support_config << 9) | (config_arg->wp_type_config << 8) | (config_arg->int
 1181              		.loc 1 408 11 view .LVU319
 1182 0224 ADF82610 		strh	r1, [sp, #38]	@ movhi
 412:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1183              		.loc 1 412 2 is_stmt 1 view .LVU320
 1184              		.loc 1 412 15 is_stmt 0 view .LVU321
 1185 0228 0E44     		add	r6, r6, r1
 1186              	.LVL83:
 413:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(3, otp_temp);
 1187              		.loc 1 413 2 is_stmt 1 view .LVU322
 1188 022a 0320     		movs	r0, #3
 1189 022c FFF7FEFF 		bl	wave1006_write_otp_single
 1190              	.LVL84:
 414:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr3:%hx\r\n", otp_temp);
 1191              		.loc 1 414 2 view .LVU323
 1192 0230 BDF82610 		ldrh	r1, [sp, #38]
 1193 0234 6448     		ldr	r0, .L67+32
 1194 0236 FFF7FEFF 		bl	UsbPrintf
 1195              	.LVL85:
 415:Device/Src/drv_wave1006.c **** 	
 416:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->device_addr_config & 0x0f) << 10) | (config_arg->digtal_comp_sel_config <
 1196              		.loc 1 416 2 view .LVU324
 1197              		.loc 1 416 25 is_stmt 0 view .LVU325
 1198 023a 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1199 023c 5908     		lsrs	r1, r3, #1
 1200              		.loc 1 416 54 view .LVU326
 1201 023e 8902     		lsls	r1, r1, #10
 1202 0240 01F47051 		and	r1, r1, #15360
 1203              		.loc 1 416 74 view .LVU327
 1204 0244 03F00103 		and	r3, r3, #1
 1205              		.loc 1 416 61 view .LVU328
 1206 0248 41EA4321 		orr	r1, r1, r3, lsl #9
 1207              		.loc 1 416 105 view .LVU329
 1208 024c 41F48071 		orr	r1, r1, #256
 1209              		.loc 1 416 128 view .LVU330
 1210 0250 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
 1211              		.loc 1 416 116 view .LVU331
 1212 0252 1943     		orrs	r1, r1, r3
 1213              		.loc 1 416 11 view .LVU332
 1214 0254 ADF82610 		strh	r1, [sp, #38]	@ movhi
 417:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1215              		.loc 1 417 2 is_stmt 1 view .LVU333
 1216              		.loc 1 417 15 is_stmt 0 view .LVU334
 1217 0258 0E44     		add	r6, r6, r1
 1218              	.LVL86:
 418:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(4, otp_temp);
 1219              		.loc 1 418 2 is_stmt 1 view .LVU335
 1220 025a 0420     		movs	r0, #4
 1221 025c FFF7FEFF 		bl	wave1006_write_otp_single
 1222              	.LVL87:
 419:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr4:%hx\r\n", otp_temp);
 1223              		.loc 1 419 2 view .LVU336
 1224 0260 BDF82610 		ldrh	r1, [sp, #38]
 1225 0264 5948     		ldr	r0, .L67+36
 1226 0266 FFF7FEFF 		bl	UsbPrintf
 1227              	.LVL88:
 420:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 34


 421:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->rst_out_support_config << 13) | (config_arg->bat_val_ext_config << 12) | (
 1228              		.loc 1 421 2 view .LVU337
 1229              		.loc 1 421 24 is_stmt 0 view .LVU338
 1230 026a E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1231 026c C3F38002 		ubfx	r2, r3, #2, #1
 1232              		.loc 1 421 69 view .LVU339
 1233 0270 C3F34001 		ubfx	r1, r3, #1, #1
 1234              		.loc 1 421 90 view .LVU340
 1235 0274 0903     		lsls	r1, r1, #12
 1236              		.loc 1 421 56 view .LVU341
 1237 0276 41EA4231 		orr	r1, r1, r2, lsl #13
 1238              		.loc 1 421 110 view .LVU342
 1239 027a 03F00103 		and	r3, r3, #1
 1240              		.loc 1 421 97 view .LVU343
 1241 027e 41EAC321 		orr	r1, r1, r3, lsl #11
 422:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1242              		.loc 1 422 14 view .LVU344
 1243 0282 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 1244 0284 DA09     		lsrs	r2, r3, #7
 421:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1245              		.loc 1 421 137 view .LVU345
 1246 0286 41EA8221 		orr	r1, r1, r2, lsl #10
 1247              		.loc 1 422 58 view .LVU346
 1248 028a C3F38012 		ubfx	r2, r3, #6, #1
 1249              		.loc 1 422 45 view .LVU347
 1250 028e 41EA4221 		orr	r1, r1, r2, lsl #9
 1251              		.loc 1 422 94 view .LVU348
 1252 0292 C3F34012 		ubfx	r2, r3, #5, #1
 1253              		.loc 1 422 81 view .LVU349
 1254 0296 41EA0221 		orr	r1, r1, r2, lsl #8
 423:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1255              		.loc 1 423 14 view .LVU350
 1256 029a C3F30012 		ubfx	r2, r3, #4, #1
 422:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1257              		.loc 1 422 125 view .LVU351
 1258 029e 41EAC211 		orr	r1, r1, r2, lsl #7
 1259              		.loc 1 423 60 view .LVU352
 1260 02a2 C3F3C002 		ubfx	r2, r3, #3, #1
 1261              		.loc 1 423 47 view .LVU353
 1262 02a6 41EA8211 		orr	r1, r1, r2, lsl #6
 1263              		.loc 1 423 101 view .LVU354
 1264 02aa C3F38002 		ubfx	r2, r3, #2, #1
 1265              		.loc 1 423 88 view .LVU355
 1266 02ae 41EA4211 		orr	r1, r1, r2, lsl #5
 424:Device/Src/drv_wave1006.c **** 		(config_arg->timer_ext_config << 4) | (config_arg->alarm_ext_config << 3) | ((config_arg->device_
 1267              		.loc 1 424 14 view .LVU356
 1268 02b2 C3F34002 		ubfx	r2, r3, #1, #1
 423:Device/Src/drv_wave1006.c **** 		(config_arg->temp_comp_support_config << 7) | (config_arg->pps_support_config << 6)  | (config_ar
 1269              		.loc 1 423 130 view .LVU357
 1270 02b6 41EA0211 		orr	r1, r1, r2, lsl #4
 1271              		.loc 1 424 52 view .LVU358
 1272 02ba 03F00103 		and	r3, r3, #1
 1273              		.loc 1 424 39 view .LVU359
 1274 02be 41EAC301 		orr	r1, r1, r3, lsl #3
 1275              		.loc 1 424 91 view .LVU360
 1276 02c2 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 1277              		.loc 1 424 77 view .LVU361
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 35


 1278 02c4 41EA5311 		orr	r1, r1, r3, lsr #5
 421:Device/Src/drv_wave1006.c **** 		(config_arg->sub_second_ext_config << 10) | (config_arg->ram_ext_config << 9) | (config_arg->digt
 1279              		.loc 1 421 11 view .LVU362
 1280 02c8 ADF82610 		strh	r1, [sp, #38]	@ movhi
 425:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1281              		.loc 1 425 2 is_stmt 1 view .LVU363
 1282              		.loc 1 425 15 is_stmt 0 view .LVU364
 1283 02cc 0E44     		add	r6, r6, r1
 1284              	.LVL89:
 426:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(5, otp_temp);
 1285              		.loc 1 426 2 is_stmt 1 view .LVU365
 1286 02ce 0520     		movs	r0, #5
 1287 02d0 FFF7FEFF 		bl	wave1006_write_otp_single
 1288              	.LVL90:
 427:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr5:%hx\r\n", otp_temp);
 1289              		.loc 1 427 2 view .LVU366
 1290 02d4 BDF82610 		ldrh	r1, [sp, #38]
 1291 02d8 3D48     		ldr	r0, .L67+40
 1292 02da FFF7FEFF 		bl	UsbPrintf
 1293              	.LVL91:
 428:Device/Src/drv_wave1006.c **** 
 429:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config & 0x03) << 12) | (config_arg->en_bat_pulldown_config <<
 1294              		.loc 1 429 2 view .LVU367
 1295              		.loc 1 429 25 is_stmt 0 view .LVU368
 1296 02de E189     		ldrh	r1, [r4, #14]
 1297 02e0 C1F30C01 		ubfx	r1, r1, #0, #13
 1298              		.loc 1 429 53 view .LVU369
 1299 02e4 0903     		lsls	r1, r1, #12
 1300 02e6 01F44051 		and	r1, r1, #12288
 1301              		.loc 1 429 73 view .LVU370
 1302 02ea 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 1303 02ec C3F38012 		ubfx	r2, r3, #6, #1
 1304              		.loc 1 429 60 view .LVU371
 1305 02f0 41EAC221 		orr	r1, r1, r2, lsl #11
 1306              		.loc 1 429 118 view .LVU372
 1307 02f4 C3F34012 		ubfx	r2, r3, #5, #1
 1308              		.loc 1 429 105 view .LVU373
 1309 02f8 41EA8221 		orr	r1, r1, r2, lsl #10
 430:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1310              		.loc 1 430 14 view .LVU374
 1311 02fc C3F3C102 		ubfx	r2, r3, #3, #2
 429:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1312              		.loc 1 429 154 view .LVU375
 1313 0300 41EA0221 		orr	r1, r1, r2, lsl #8
 1314              		.loc 1 430 56 view .LVU376
 1315 0304 03F00703 		and	r3, r3, #7
 1316              		.loc 1 430 42 view .LVU377
 1317 0308 41EA4311 		orr	r1, r1, r3, lsl #5
 1318              		.loc 1 430 96 view .LVU378
 1319 030c E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1320 030e 5A09     		lsrs	r2, r3, #5
 1321              		.loc 1 430 84 view .LVU379
 1322 0310 41EA8201 		orr	r1, r1, r2, lsl #2
 1323              		.loc 1 430 139 view .LVU380
 1324 0314 C3F30012 		ubfx	r2, r3, #4, #1
 1325              		.loc 1 430 125 view .LVU381
 1326 0318 41EA4201 		orr	r1, r1, r2, lsl #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 36


 431:Device/Src/drv_wave1006.c **** 		config_arg->temp_alarm_ext_config;
 1327              		.loc 1 431 13 view .LVU382
 1328 031c C3F3C003 		ubfx	r3, r3, #3, #1
 430:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1329              		.loc 1 430 167 view .LVU383
 1330 0320 1943     		orrs	r1, r1, r3
 429:Device/Src/drv_wave1006.c **** 		(config_arg->osc_cap_sel_config1 << 8) |  (config_arg->rule_bat_adj_config << 5) |(config_arg->ru
 1331              		.loc 1 429 11 view .LVU384
 1332 0322 ADF82610 		strh	r1, [sp, #38]	@ movhi
 432:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1333              		.loc 1 432 2 is_stmt 1 view .LVU385
 1334              		.loc 1 432 15 is_stmt 0 view .LVU386
 1335 0326 0E44     		add	r6, r6, r1
 1336              	.LVL92:
 433:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(6, otp_temp);
 1337              		.loc 1 433 2 is_stmt 1 view .LVU387
 1338 0328 0620     		movs	r0, #6
 1339 032a FFF7FEFF 		bl	wave1006_write_otp_single
 1340              	.LVL93:
 434:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr6:%hx\r\n", otp_temp);
 1341              		.loc 1 434 2 view .LVU388
 1342 032e BDF82610 		ldrh	r1, [sp, #38]
 1343 0332 2848     		ldr	r0, .L67+44
 1344 0334 FFF7FEFF 		bl	UsbPrintf
 1345              	.LVL94:
 435:Device/Src/drv_wave1006.c **** 
 436:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_config_config << 6) & 0x3f00 ) | id[0];
 1346              		.loc 1 436 2 view .LVU389
 1347              		.loc 1 436 25 is_stmt 0 view .LVU390
 1348 0338 E189     		ldrh	r1, [r4, #14]
 1349 033a C1F30C01 		ubfx	r1, r1, #0, #13
 1350              		.loc 1 436 45 view .LVU391
 1351 033e 8901     		lsls	r1, r1, #6
 1352              		.loc 1 436 51 view .LVU392
 1353 0340 01F47C51 		and	r1, r1, #16128
 1354              		.loc 1 436 66 view .LVU393
 1355 0344 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 1356              		.loc 1 436 62 view .LVU394
 1357 0348 1943     		orrs	r1, r1, r3
 1358              		.loc 1 436 11 view .LVU395
 1359 034a ADF82610 		strh	r1, [sp, #38]	@ movhi
 437:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1360              		.loc 1 437 2 is_stmt 1 view .LVU396
 1361              		.loc 1 437 15 is_stmt 0 view .LVU397
 1362 034e 0E44     		add	r6, r6, r1
 1363              	.LVL95:
 438:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(7, otp_temp);
 1364              		.loc 1 438 2 is_stmt 1 view .LVU398
 1365 0350 0720     		movs	r0, #7
 1366 0352 FFF7FEFF 		bl	wave1006_write_otp_single
 1367              	.LVL96:
 439:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr7:%hx\r\n", otp_temp);
 1368              		.loc 1 439 2 view .LVU399
 1369 0356 BDF82610 		ldrh	r1, [sp, #38]
 1370 035a 1F48     		ldr	r0, .L67+48
 1371 035c FFF7FEFF 		bl	UsbPrintf
 1372              	.LVL97:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 37


 440:Device/Src/drv_wave1006.c **** 
 441:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->spi_freq_en_config << 13) | (config_arg->osc_config_config & 0x1f00 ) | id
 1373              		.loc 1 441 2 view .LVU400
 1374              		.loc 1 441 24 is_stmt 0 view .LVU401
 1375 0360 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 1376 0362 C3F34013 		ubfx	r3, r3, #5, #1
 1377              		.loc 1 441 65 view .LVU402
 1378 0366 E189     		ldrh	r1, [r4, #14]
 1379              		.loc 1 441 85 view .LVU403
 1380 0368 01F4F851 		and	r1, r1, #7936
 1381              		.loc 1 441 52 view .LVU404
 1382 036c 41EA4331 		orr	r1, r1, r3, lsl #13
 1383              		.loc 1 441 100 view .LVU405
 1384 0370 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1385              		.loc 1 441 96 view .LVU406
 1386 0374 1943     		orrs	r1, r1, r3
 1387              		.loc 1 441 11 view .LVU407
 1388 0376 ADF82610 		strh	r1, [sp, #38]	@ movhi
 442:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1389              		.loc 1 442 2 is_stmt 1 view .LVU408
 1390              		.loc 1 442 15 is_stmt 0 view .LVU409
 1391 037a 0E44     		add	r6, r6, r1
 1392              	.LVL98:
 443:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(8, otp_temp);
 1393              		.loc 1 443 2 is_stmt 1 view .LVU410
 1394 037c 0820     		movs	r0, #8
 1395 037e FFF7FEFF 		bl	wave1006_write_otp_single
 1396              	.LVL99:
 444:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr8:%hx\r\n", otp_temp);
 1397              		.loc 1 444 2 view .LVU411
 1398 0382 BDF82610 		ldrh	r1, [sp, #38]
 1399 0386 1548     		ldr	r0, .L67+52
 1400 0388 FFF7FEFF 		bl	UsbPrintf
 1401              	.LVL100:
 445:Device/Src/drv_wave1006.c **** 
 446:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->freq_src_config & 0x03) << 12) | (config_arg->vol_sel_config << 8) | id[2
 1402              		.loc 1 446 2 view .LVU412
 1403              		.loc 1 446 25 is_stmt 0 view .LVU413
 1404 038c 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1405 038e C3F30211 		ubfx	r1, r3, #4, #3
 1406              		.loc 1 446 51 view .LVU414
 1407 0392 0903     		lsls	r1, r1, #12
 1408 0394 01F44051 		and	r1, r1, #12288
 1409              		.loc 1 446 71 view .LVU415
 1410 0398 03F00F03 		and	r3, r3, #15
 1411              		.loc 1 446 58 view .LVU416
 1412 039c 41EA0321 		orr	r1, r1, r3, lsl #8
 1413              		.loc 1 446 98 view .LVU417
 1414 03a0 99F80230 		ldrb	r3, [r9, #2]	@ zero_extendqisi2
 1415              		.loc 1 446 94 view .LVU418
 1416 03a4 1943     		orrs	r1, r1, r3
 1417 03a6 1BE0     		b	.L68
 1418              	.L69:
 1419              		.align	2
 1420              	.L67:
 1421 03a8 00000000 		.word	.LANCHOR0
 1422 03ac 00000000 		.word	.LC2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 38


 1423 03b0 34000000 		.word	.LC4
 1424 03b4 9A990541 		.word	1090886042
 1425 03b8 00100240 		.word	1073876992
 1426 03bc 80000000 		.word	.LC5
 1427 03c0 90000000 		.word	.LC6
 1428 03c4 A0000000 		.word	.LC7
 1429 03c8 B0000000 		.word	.LC8
 1430 03cc C0000000 		.word	.LC9
 1431 03d0 D0000000 		.word	.LC10
 1432 03d4 E0000000 		.word	.LC11
 1433 03d8 F0000000 		.word	.LC12
 1434 03dc 00010000 		.word	.LC13
 1435              	.L68:
 1436              		.loc 1 446 11 view .LVU419
 1437 03e0 ADF82610 		strh	r1, [sp, #38]	@ movhi
 447:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1438              		.loc 1 447 2 is_stmt 1 view .LVU420
 1439              		.loc 1 447 15 is_stmt 0 view .LVU421
 1440 03e4 0E44     		add	r6, r6, r1
 1441              	.LVL101:
 448:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(9, otp_temp);
 1442              		.loc 1 448 2 is_stmt 1 view .LVU422
 1443 03e6 0920     		movs	r0, #9
 1444 03e8 FFF7FEFF 		bl	wave1006_write_otp_single
 1445              	.LVL102:
 449:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addr9:%hx\r\n", otp_temp);
 1446              		.loc 1 449 2 view .LVU423
 1447 03ec BDF82610 		ldrh	r1, [sp, #38]
 1448 03f0 9848     		ldr	r0, .L70
 1449 03f2 FFF7FEFF 		bl	UsbPrintf
 1450              	.LVL103:
 450:Device/Src/drv_wave1006.c **** 	
 451:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->comp_period_config  << 12) | (config_arg->sout_open_drain_config << 11) | 
 1451              		.loc 1 451 2 view .LVU424
 1452              		.loc 1 451 24 is_stmt 0 view .LVU425
 1453 03f6 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1454 03f8 C3F38102 		ubfx	r2, r3, #2, #2
 1455              		.loc 1 451 66 view .LVU426
 1456 03fc C3F34001 		ubfx	r1, r3, #1, #1
 1457              		.loc 1 451 91 view .LVU427
 1458 0400 C902     		lsls	r1, r1, #11
 1459              		.loc 1 451 53 view .LVU428
 1460 0402 41EA0231 		orr	r1, r1, r2, lsl #12
 1461              		.loc 1 451 111 view .LVU429
 1462 0406 03F00103 		and	r3, r3, #1
 1463              		.loc 1 451 98 view .LVU430
 1464 040a 41EA8321 		orr	r1, r1, r3, lsl #10
 452:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1465              		.loc 1 452 14 view .LVU431
 1466 040e 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 1467 0410 DA09     		lsrs	r2, r3, #7
 451:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1468              		.loc 1 451 143 view .LVU432
 1469 0412 41EA4221 		orr	r1, r1, r2, lsl #9
 1470              		.loc 1 452 55 view .LVU433
 1471 0416 C3F30213 		ubfx	r3, r3, #4, #3
 1472              		.loc 1 452 81 view .LVU434
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 39


 1473 041a 9B01     		lsls	r3, r3, #6
 1474 041c 03F48073 		and	r3, r3, #256
 1475              		.loc 1 452 41 view .LVU435
 1476 0420 1943     		orrs	r1, r1, r3
 1477              		.loc 1 452 91 view .LVU436
 1478 0422 99F80330 		ldrb	r3, [r9, #3]	@ zero_extendqisi2
 1479              		.loc 1 452 87 view .LVU437
 1480 0426 1943     		orrs	r1, r1, r3
 451:Device/Src/drv_wave1006.c **** 		(config_arg->k32_support_config << 9) | ((config_arg->freq_src_config & 0x04) << 6) | id[3];
 1481              		.loc 1 451 11 view .LVU438
 1482 0428 ADF82610 		strh	r1, [sp, #38]	@ movhi
 453:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1483              		.loc 1 453 2 is_stmt 1 view .LVU439
 1484              		.loc 1 453 15 is_stmt 0 view .LVU440
 1485 042c 0E44     		add	r6, r6, r1
 1486              	.LVL104:
 454:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(10, otp_temp);
 1487              		.loc 1 454 2 is_stmt 1 view .LVU441
 1488 042e 0A20     		movs	r0, #10
 1489 0430 FFF7FEFF 		bl	wave1006_write_otp_single
 1490              	.LVL105:
 455:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addra:%hx\r\n", otp_temp);
 1491              		.loc 1 455 2 view .LVU442
 1492 0434 BDF82610 		ldrh	r1, [sp, #38]
 1493 0438 8748     		ldr	r0, .L70+4
 1494 043a FFF7FEFF 		bl	UsbPrintf
 1495              	.LVL106:
 456:Device/Src/drv_wave1006.c **** 
 457:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->adjust_25_config & 0x0f) << 10) | (config_arg->rst_time_config << 8) | id
 1496              		.loc 1 457 2 view .LVU443
 1497              		.loc 1 457 25 is_stmt 0 view .LVU444
 1498 043e A17C     		ldrb	r1, [r4, #18]	@ zero_extendqisi2
 1499 0440 01F07F01 		and	r1, r1, #127
 1500              		.loc 1 457 52 view .LVU445
 1501 0444 8902     		lsls	r1, r1, #10
 1502 0446 01F47051 		and	r1, r1, #15360
 1503              		.loc 1 457 72 view .LVU446
 1504 044a 637C     		ldrb	r3, [r4, #17]	@ zero_extendqisi2
 1505 044c C3F30113 		ubfx	r3, r3, #4, #2
 1506              		.loc 1 457 59 view .LVU447
 1507 0450 41EA0321 		orr	r1, r1, r3, lsl #8
 1508              		.loc 1 457 100 view .LVU448
 1509 0454 99F80430 		ldrb	r3, [r9, #4]	@ zero_extendqisi2
 1510              		.loc 1 457 96 view .LVU449
 1511 0458 1943     		orrs	r1, r1, r3
 1512              		.loc 1 457 11 view .LVU450
 1513 045a ADF82610 		strh	r1, [sp, #38]	@ movhi
 458:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1514              		.loc 1 458 2 is_stmt 1 view .LVU451
 1515              		.loc 1 458 15 is_stmt 0 view .LVU452
 1516 045e 0E44     		add	r6, r6, r1
 1517              	.LVL107:
 459:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(11, otp_temp);
 1518              		.loc 1 459 2 is_stmt 1 view .LVU453
 1519 0460 0B20     		movs	r0, #11
 1520 0462 FFF7FEFF 		bl	wave1006_write_otp_single
 1521              	.LVL108:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 40


 460:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrb:%hx\r\n", otp_temp);
 1522              		.loc 1 460 2 view .LVU454
 1523 0466 BDF82610 		ldrh	r1, [sp, #38]
 1524 046a 7C48     		ldr	r0, .L70+8
 1525 046c FFF7FEFF 		bl	UsbPrintf
 1526              	.LVL109:
 461:Device/Src/drv_wave1006.c **** 
 462:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->bus_select_config << 13) | (1 << 12) | (config_arg->spi_mode_config << 11)
 1527              		.loc 1 462 2 view .LVU455
 1528              		.loc 1 462 24 is_stmt 0 view .LVU456
 1529 0470 E17C     		ldrb	r1, [r4, #19]	@ zero_extendqisi2
 1530 0472 01F00101 		and	r1, r1, #1
 1531              		.loc 1 462 44 view .LVU457
 1532 0476 4903     		lsls	r1, r1, #13
 1533              		.loc 1 462 51 view .LVU458
 1534 0478 41F48051 		orr	r1, r1, #4096
 1535              		.loc 1 462 76 view .LVU459
 1536 047c A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 1537 047e DA09     		lsrs	r2, r3, #7
 1538              		.loc 1 462 63 view .LVU460
 1539 0480 41EAC221 		orr	r1, r1, r2, lsl #11
 1540              		.loc 1 462 115 view .LVU461
 1541 0484 03F07F03 		and	r3, r3, #127
 1542              		.loc 1 462 134 view .LVU462
 1543 0488 1B01     		lsls	r3, r3, #4
 1544              		.loc 1 462 140 view .LVU463
 1545 048a 03F4E063 		and	r3, r3, #1792
 1546              		.loc 1 462 101 view .LVU464
 1547 048e 1943     		orrs	r1, r1, r3
 1548              		.loc 1 462 153 view .LVU465
 1549 0490 99F80530 		ldrb	r3, [r9, #5]	@ zero_extendqisi2
 1550              		.loc 1 462 149 view .LVU466
 1551 0494 1943     		orrs	r1, r1, r3
 1552              		.loc 1 462 11 view .LVU467
 1553 0496 ADF82610 		strh	r1, [sp, #38]	@ movhi
 463:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1554              		.loc 1 463 2 is_stmt 1 view .LVU468
 1555              		.loc 1 463 15 is_stmt 0 view .LVU469
 1556 049a 0E44     		add	r6, r6, r1
 1557              	.LVL110:
 464:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(12, otp_temp);
 1558              		.loc 1 464 2 is_stmt 1 view .LVU470
 1559 049c 0C20     		movs	r0, #12
 1560 049e FFF7FEFF 		bl	wave1006_write_otp_single
 1561              	.LVL111:
 465:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrc:%hx\r\n", otp_temp);
 1562              		.loc 1 465 2 view .LVU471
 1563 04a2 BDF82610 		ldrh	r1, [sp, #38]
 1564 04a6 6E48     		ldr	r0, .L70+12
 1565 04a8 FFF7FEFF 		bl	UsbPrintf
 1566              	.LVL112:
 466:Device/Src/drv_wave1006.c **** 
 467:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 9) & 0x3e00) | (config_arg->en_charge_config << 8) | 
 1567              		.loc 1 467 2 view .LVU472
 1568              		.loc 1 467 25 is_stmt 0 view .LVU473
 1569 04ac A18A     		ldrh	r1, [r4, #20]
 1570 04ae C1F30C01 		ubfx	r1, r1, #0, #13
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 41


 1571              		.loc 1 467 44 view .LVU474
 1572 04b2 4902     		lsls	r1, r1, #9
 1573              		.loc 1 467 50 view .LVU475
 1574 04b4 01F47851 		and	r1, r1, #15872
 1575              		.loc 1 467 73 view .LVU476
 1576 04b8 E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 1577 04ba C3F34003 		ubfx	r3, r3, #1, #1
 1578              		.loc 1 467 60 view .LVU477
 1579 04be 41EA0321 		orr	r1, r1, r3, lsl #8
 1580              		.loc 1 467 102 view .LVU478
 1581 04c2 99F80630 		ldrb	r3, [r9, #6]	@ zero_extendqisi2
 1582              		.loc 1 467 98 view .LVU479
 1583 04c6 1943     		orrs	r1, r1, r3
 1584              		.loc 1 467 11 view .LVU480
 1585 04c8 ADF82610 		strh	r1, [sp, #38]	@ movhi
 468:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1586              		.loc 1 468 2 is_stmt 1 view .LVU481
 1587              		.loc 1 468 15 is_stmt 0 view .LVU482
 1588 04cc 0E44     		add	r6, r6, r1
 1589              	.LVL113:
 469:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(13, otp_temp);
 1590              		.loc 1 469 2 is_stmt 1 view .LVU483
 1591 04ce 0D20     		movs	r0, #13
 1592 04d0 FFF7FEFF 		bl	wave1006_write_otp_single
 1593              	.LVL114:
 470:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrd:%hx\r\n", otp_temp);
 1594              		.loc 1 470 2 view .LVU484
 1595 04d4 BDF82610 		ldrh	r1, [sp, #38]
 1596 04d8 6248     		ldr	r0, .L70+16
 1597 04da FFF7FEFF 		bl	UsbPrintf
 1598              	.LVL115:
 471:Device/Src/drv_wave1006.c **** 
 472:Device/Src/drv_wave1006.c **** 	otp_temp = ((config_arg->osc_start_config << 3) & 0x3f00) | id[7];
 1599              		.loc 1 472 2 view .LVU485
 1600              		.loc 1 472 25 is_stmt 0 view .LVU486
 1601 04de A18A     		ldrh	r1, [r4, #20]
 1602 04e0 C1F30C01 		ubfx	r1, r1, #0, #13
 1603              		.loc 1 472 44 view .LVU487
 1604 04e4 C900     		lsls	r1, r1, #3
 1605              		.loc 1 472 50 view .LVU488
 1606 04e6 01F47C51 		and	r1, r1, #16128
 1607              		.loc 1 472 64 view .LVU489
 1608 04ea 99F80730 		ldrb	r3, [r9, #7]	@ zero_extendqisi2
 1609              		.loc 1 472 60 view .LVU490
 1610 04ee 1943     		orrs	r1, r1, r3
 1611              		.loc 1 472 11 view .LVU491
 1612 04f0 ADF82610 		strh	r1, [sp, #38]	@ movhi
 473:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1613              		.loc 1 473 2 is_stmt 1 view .LVU492
 1614              		.loc 1 473 15 is_stmt 0 view .LVU493
 1615 04f4 0E44     		add	r6, r6, r1
 1616              	.LVL116:
 474:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(14, otp_temp);
 1617              		.loc 1 474 2 is_stmt 1 view .LVU494
 1618 04f6 0E20     		movs	r0, #14
 1619 04f8 FFF7FEFF 		bl	wave1006_write_otp_single
 1620              	.LVL117:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 42


 475:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addre:%hx\r\n", otp_temp);
 1621              		.loc 1 475 2 view .LVU495
 1622 04fc BDF82610 		ldrh	r1, [sp, #38]
 1623 0500 5948     		ldr	r0, .L70+20
 1624 0502 FFF7FEFF 		bl	UsbPrintf
 1625              	.LVL118:
 476:Device/Src/drv_wave1006.c **** 
 477:Device/Src/drv_wave1006.c **** 	otp_temp = (config_arg->timer_rst_out_config << 13)  | (config_arg->charge_vol_adj_config << 10) |
 1626              		.loc 1 477 2 view .LVU496
 1627              		.loc 1 477 24 is_stmt 0 view .LVU497
 1628 0506 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1629 0508 03F00103 		and	r3, r3, #1
 1630              		.loc 1 477 68 view .LVU498
 1631 050c 617D     		ldrb	r1, [r4, #21]	@ zero_extendqisi2
 1632 050e 4909     		lsrs	r1, r1, #5
 1633              		.loc 1 477 92 view .LVU499
 1634 0510 8902     		lsls	r1, r1, #10
 1635              		.loc 1 477 55 view .LVU500
 1636 0512 41EA4331 		orr	r1, r1, r3, lsl #13
 1637              		.loc 1 477 113 view .LVU501
 1638 0516 A38A     		ldrh	r3, [r4, #20]
 1639              		.loc 1 477 132 view .LVU502
 1640 0518 C3F3C903 		ubfx	r3, r3, #3, #10
 1641              		.loc 1 477 138 view .LVU503
 1642 051c 03F44073 		and	r3, r3, #768
 1643              		.loc 1 477 99 view .LVU504
 1644 0520 1943     		orrs	r1, r1, r3
 1645              		.loc 1 477 151 view .LVU505
 1646 0522 99F80830 		ldrb	r3, [r9, #8]	@ zero_extendqisi2
 1647              		.loc 1 477 147 view .LVU506
 1648 0526 1943     		orrs	r1, r1, r3
 1649              		.loc 1 477 11 view .LVU507
 1650 0528 ADF82610 		strh	r1, [sp, #38]	@ movhi
 478:Device/Src/drv_wave1006.c **** 	check_sum_wr += otp_temp;
 1651              		.loc 1 478 2 is_stmt 1 view .LVU508
 1652              		.loc 1 478 15 is_stmt 0 view .LVU509
 1653 052c 0E44     		add	r6, r6, r1
 1654              	.LVL119:
 479:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(15, otp_temp);
 1655              		.loc 1 479 2 is_stmt 1 view .LVU510
 1656 052e 0F20     		movs	r0, #15
 1657 0530 FFF7FEFF 		bl	wave1006_write_otp_single
 1658              	.LVL120:
 480:Device/Src/drv_wave1006.c **** 	UsbPrintf("otp addrf:%hx\r\n", otp_temp);
 1659              		.loc 1 480 2 view .LVU511
 1660 0534 BDF82610 		ldrh	r1, [sp, #38]
 1661 0538 4C48     		ldr	r0, .L70+24
 1662 053a FFF7FEFF 		bl	UsbPrintf
 1663              	.LVL121:
 481:Device/Src/drv_wave1006.c **** 
 482:Device/Src/drv_wave1006.c **** 	for (i = 16; i < 47; i++)
 1664              		.loc 1 482 2 view .LVU512
 1665              		.loc 1 482 9 is_stmt 0 view .LVU513
 1666 053e 1024     		movs	r4, #16
 1667              	.LVL122:
 1668              		.loc 1 482 2 view .LVU514
 1669 0540 13E0     		b	.L50
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 43


 1670              	.LVL123:
 1671              	.L64:
 377:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 1672              		.loc 1 377 3 is_stmt 1 view .LVU515
 1673 0542 4B48     		ldr	r0, .L70+28
 1674 0544 FFF7FEFF 		bl	UsbPrintf
 1675              	.LVL124:
 378:Device/Src/drv_wave1006.c **** 	}
 1676              		.loc 1 378 3 view .LVU516
 378:Device/Src/drv_wave1006.c **** 	}
 1677              		.loc 1 378 10 is_stmt 0 view .LVU517
 1678 0548 6FF00208 		mvn	r8, #2
 1679 054c 32E1     		b	.L48
 1680              	.LVL125:
 1681              	.L51:
 483:Device/Src/drv_wave1006.c **** 	{
 484:Device/Src/drv_wave1006.c **** 		otp_temp = 0x3f00 | id[9 + i - 16];
 1682              		.loc 1 484 3 is_stmt 1 discriminator 3 view .LVU518
 1683              		.loc 1 484 25 is_stmt 0 discriminator 3 view .LVU519
 1684 054e 09EB0403 		add	r3, r9, r4
 1685 0552 13F8071C 		ldrb	r1, [r3, #-7]	@ zero_extendqisi2
 1686              		.loc 1 484 21 discriminator 3 view .LVU520
 1687 0556 41F47C51 		orr	r1, r1, #16128
 1688              		.loc 1 484 12 discriminator 3 view .LVU521
 1689 055a ADF82610 		strh	r1, [sp, #38]	@ movhi
 485:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 1690              		.loc 1 485 3 is_stmt 1 discriminator 3 view .LVU522
 1691              		.loc 1 485 16 is_stmt 0 discriminator 3 view .LVU523
 1692 055e 0E44     		add	r6, r6, r1
 1693              	.LVL126:
 486:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 1694              		.loc 1 486 3 is_stmt 1 discriminator 3 view .LVU524
 1695 0560 2046     		mov	r0, r4
 1696 0562 FFF7FEFF 		bl	wave1006_write_otp_single
 1697              	.LVL127:
 482:Device/Src/drv_wave1006.c **** 	{
 1698              		.loc 1 482 23 discriminator 3 view .LVU525
 482:Device/Src/drv_wave1006.c **** 	{
 1699              		.loc 1 482 24 is_stmt 0 discriminator 3 view .LVU526
 1700 0566 0134     		adds	r4, r4, #1
 1701              	.LVL128:
 482:Device/Src/drv_wave1006.c **** 	{
 1702              		.loc 1 482 24 discriminator 3 view .LVU527
 1703 0568 A4B2     		uxth	r4, r4
 1704              	.LVL129:
 1705              	.L50:
 482:Device/Src/drv_wave1006.c **** 	{
 1706              		.loc 1 482 15 is_stmt 1 discriminator 1 view .LVU528
 482:Device/Src/drv_wave1006.c **** 	{
 1707              		.loc 1 482 2 is_stmt 0 discriminator 1 view .LVU529
 1708 056a 2E2C     		cmp	r4, #46
 1709 056c EFD9     		bls	.L51
 487:Device/Src/drv_wave1006.c **** 	}
 488:Device/Src/drv_wave1006.c **** 	check_sum_wr += 0x3fff;
 1710              		.loc 1 488 2 is_stmt 1 view .LVU530
 1711              		.loc 1 488 15 is_stmt 0 view .LVU531
 1712 056e 06F57F56 		add	r6, r6, #16320
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 44


 1713              	.LVL130:
 1714              		.loc 1 488 15 view .LVU532
 1715 0572 3F36     		adds	r6, r6, #63
 1716              	.LVL131:
 489:Device/Src/drv_wave1006.c **** 
 490:Device/Src/drv_wave1006.c **** 	for (i = 48; i < 210 * 4 + 48 ; i = i + 2)
 1717              		.loc 1 490 2 is_stmt 1 view .LVU533
 1718              		.loc 1 490 9 is_stmt 0 view .LVU534
 1719 0574 3024     		movs	r4, #48
 1720              		.loc 1 490 2 view .LVU535
 1721 0576 26E0     		b	.L52
 1722              	.LVL132:
 1723              	.L53:
 491:Device/Src/drv_wave1006.c **** 	{
 492:Device/Src/drv_wave1006.c **** 		otp_temp = ((temp_arg->temp_adj & 0x07) << 11) | (temp_arg->cap_com << 6) | (temp_arg->cap_in << 
 1724              		.loc 1 492 3 is_stmt 1 discriminator 3 view .LVU536
 1725              		.loc 1 492 24 is_stmt 0 discriminator 3 view .LVU537
 1726 0578 A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 1727              		.loc 1 492 43 discriminator 3 view .LVU538
 1728 057a C902     		lsls	r1, r1, #11
 1729 057c 01F46051 		and	r1, r1, #14336
 1730              		.loc 1 492 61 discriminator 3 view .LVU539
 1731 0580 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1732 0582 03F01F02 		and	r2, r3, #31
 1733              		.loc 1 492 50 discriminator 3 view .LVU540
 1734 0586 41EA8211 		orr	r1, r1, r2, lsl #6
 1735              		.loc 1 492 88 discriminator 3 view .LVU541
 1736 058a 5B09     		lsrs	r3, r3, #5
 1737              		.loc 1 492 77 discriminator 3 view .LVU542
 1738 058c 41EAC301 		orr	r1, r1, r3, lsl #3
 1739              		.loc 1 492 113 discriminator 3 view .LVU543
 1740 0590 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 1741 0592 03F00703 		and	r3, r3, #7
 1742              		.loc 1 492 103 discriminator 3 view .LVU544
 1743 0596 1943     		orrs	r1, r1, r3
 1744              		.loc 1 492 12 discriminator 3 view .LVU545
 1745 0598 ADF82610 		strh	r1, [sp, #38]	@ movhi
 493:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 1746              		.loc 1 493 3 is_stmt 1 discriminator 3 view .LVU546
 1747              		.loc 1 493 16 is_stmt 0 discriminator 3 view .LVU547
 1748 059c 0E44     		add	r6, r6, r1
 1749              	.LVL133:
 494:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i, otp_temp);
 1750              		.loc 1 494 3 is_stmt 1 discriminator 3 view .LVU548
 1751 059e 2046     		mov	r0, r4
 1752 05a0 FFF7FEFF 		bl	wave1006_write_otp_single
 1753              	.LVL134:
 495:Device/Src/drv_wave1006.c **** 
 496:Device/Src/drv_wave1006.c **** 		otp_temp = (temp_arg->temp_val << 5) | (temp_arg->temp_adj >> 3);
 1754              		.loc 1 496 3 discriminator 3 view .LVU549
 1755              		.loc 1 496 23 is_stmt 0 discriminator 3 view .LVU550
 1756 05a4 A988     		ldrh	r1, [r5, #4]
 1757 05a6 C1F30803 		ubfx	r3, r1, #0, #9
 1758              		.loc 1 496 51 discriminator 3 view .LVU551
 1759 05aa A978     		ldrb	r1, [r5, #2]	@ zero_extendqisi2
 1760              		.loc 1 496 40 discriminator 3 view .LVU552
 1761 05ac C908     		lsrs	r1, r1, #3
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 45


 1762 05ae 41EA4311 		orr	r1, r1, r3, lsl #5
 1763              		.loc 1 496 12 discriminator 3 view .LVU553
 1764 05b2 ADF82610 		strh	r1, [sp, #38]	@ movhi
 497:Device/Src/drv_wave1006.c **** 		check_sum_wr += otp_temp;
 1765              		.loc 1 497 3 is_stmt 1 discriminator 3 view .LVU554
 1766              		.loc 1 497 16 is_stmt 0 discriminator 3 view .LVU555
 1767 05b6 0E44     		add	r6, r6, r1
 1768              	.LVL135:
 498:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(i + 1, otp_temp);
 1769              		.loc 1 498 3 is_stmt 1 discriminator 3 view .LVU556
 1770 05b8 601C     		adds	r0, r4, #1
 1771 05ba 80B2     		uxth	r0, r0
 1772 05bc FFF7FEFF 		bl	wave1006_write_otp_single
 1773              	.LVL136:
 499:Device/Src/drv_wave1006.c **** 		temp_arg++;    //温补数据指向下一个字节
 1774              		.loc 1 499 3 discriminator 3 view .LVU557
 1775              		.loc 1 499 11 is_stmt 0 discriminator 3 view .LVU558
 1776 05c0 0635     		adds	r5, r5, #6
 1777              	.LVL137:
 490:Device/Src/drv_wave1006.c **** 	{
 1778              		.loc 1 490 34 is_stmt 1 discriminator 3 view .LVU559
 490:Device/Src/drv_wave1006.c **** 	{
 1779              		.loc 1 490 36 is_stmt 0 discriminator 3 view .LVU560
 1780 05c2 0234     		adds	r4, r4, #2
 1781              	.LVL138:
 490:Device/Src/drv_wave1006.c **** 	{
 1782              		.loc 1 490 36 discriminator 3 view .LVU561
 1783 05c4 A4B2     		uxth	r4, r4
 1784              	.LVL139:
 1785              	.L52:
 490:Device/Src/drv_wave1006.c **** 	{
 1786              		.loc 1 490 15 is_stmt 1 discriminator 1 view .LVU562
 490:Device/Src/drv_wave1006.c **** 	{
 1787              		.loc 1 490 2 is_stmt 0 discriminator 1 view .LVU563
 1788 05c6 B4F55E7F 		cmp	r4, #888
 1789 05ca D5D3     		bcc	.L53
 500:Device/Src/drv_wave1006.c **** 	}
 501:Device/Src/drv_wave1006.c **** 	wr_pos = i;
 1790              		.loc 1 501 2 is_stmt 1 view .LVU564
 1791              	.LVL140:
 502:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ OTP ********************************/\r\n");
 1792              		.loc 1 502 2 view .LVU565
 1793 05cc 2948     		ldr	r0, .L70+32
 1794 05ce FFF7FEFF 		bl	UsbPrintf
 1795              	.LVL141:
 503:Device/Src/drv_wave1006.c **** //	write otp is complete, switch i2c prot, io6 =5V
 504:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  
 1796              		.loc 1 504 2 view .LVU566
 1797 05d2 B1EE040A 		vmov.f32	s0, #5.0e+0
 1798 05d6 FFF7FEFF 		bl	rtc_otp_power
 1799              	.LVL142:
 505:Device/Src/drv_wave1006.c ****     buf[0] = 0x82;
 1800              		.loc 1 505 5 view .LVU567
 1801              		.loc 1 505 12 is_stmt 0 view .LVU568
 1802 05da 8223     		movs	r3, #130
 1803 05dc 8DF82830 		strb	r3, [sp, #40]
 506:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 46


 1804              		.loc 1 506 2 is_stmt 1 view .LVU569
 1805 05e0 0AAB     		add	r3, sp, #40
 1806 05e2 0122     		movs	r2, #1
 1807 05e4 6D21     		movs	r1, #109
 1808 05e6 0020     		movs	r0, #0
 1809 05e8 FFF7FEFF 		bl	drv_wave1006_write_reg
 1810              	.LVL143:
 507:Device/Src/drv_wave1006.c ****     buf[0] = 0x80;
 1811              		.loc 1 507 5 view .LVU570
 1812              		.loc 1 507 12 is_stmt 0 view .LVU571
 1813 05ec 8023     		movs	r3, #128
 1814 05ee 8DF82830 		strb	r3, [sp, #40]
 508:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 1815              		.loc 1 508 2 is_stmt 1 view .LVU572
 1816 05f2 0AAB     		add	r3, sp, #40
 1817 05f4 0122     		movs	r2, #1
 1818 05f6 6D21     		movs	r1, #109
 1819 05f8 0020     		movs	r0, #0
 1820 05fa FFF7FEFF 		bl	drv_wave1006_write_reg
 1821              	.LVL144:
 509:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 1822              		.loc 1 509 5 view .LVU573
 1823              		.loc 1 509 12 is_stmt 0 view .LVU574
 1824 05fe 0025     		movs	r5, #0
 1825              	.LVL145:
 1826              		.loc 1 509 12 view .LVU575
 1827 0600 8DF82850 		strb	r5, [sp, #40]
 510:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 1828              		.loc 1 510 5 is_stmt 1 view .LVU576
 1829              		.loc 1 510 12 is_stmt 0 view .LVU577
 1830 0604 8DF82950 		strb	r5, [sp, #41]
 511:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 1831              		.loc 1 511 5 is_stmt 1 view .LVU578
 1832              		.loc 1 511 12 is_stmt 0 view .LVU579
 1833 0608 8DF82A50 		strb	r5, [sp, #42]
 512:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 1834              		.loc 1 512 5 is_stmt 1 view .LVU580
 1835              		.loc 1 512 12 is_stmt 0 view .LVU581
 1836 060c 8DF82B50 		strb	r5, [sp, #43]
 513:Device/Src/drv_wave1006.c ****     drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 1837              		.loc 1 513 5 is_stmt 1 view .LVU582
 1838 0610 0AAB     		add	r3, sp, #40
 1839 0612 0422     		movs	r2, #4
 1840 0614 6D21     		movs	r1, #109
 1841 0616 2846     		mov	r0, r5
 1842 0618 FFF7FEFF 		bl	drv_wave1006_write_reg
 1843              	.LVL146:
 514:Device/Src/drv_wave1006.c **** 	UsbPrintf("wr_pos = %hx\r\n",wr_pos);//	check write value
 1844              		.loc 1 514 2 view .LVU583
 1845 061c 2146     		mov	r1, r4
 1846 061e 1648     		ldr	r0, .L70+36
 1847 0620 FFF7FEFF 		bl	UsbPrintf
 1848              	.LVL147:
 515:Device/Src/drv_wave1006.c **** 
 516:Device/Src/drv_wave1006.c **** 	for (i = 0; i < wr_pos; i++)
 1849              		.loc 1 516 2 view .LVU584
 337:Device/Src/drv_wave1006.c **** 	uint16_t wr_pos = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 47


 1850              		.loc 1 337 11 is_stmt 0 view .LVU585
 1851 0624 A946     		mov	r9, r5
 1852              	.LVL148:
 1853              		.loc 1 516 2 view .LVU586
 1854 0626 06E0     		b	.L54
 1855              	.LVL149:
 1856              	.L66:
 517:Device/Src/drv_wave1006.c **** 	{
 518:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 519:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 520:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 521:Device/Src/drv_wave1006.c **** 		{
 522:Device/Src/drv_wave1006.c **** 				otp_buf[i] = otp_temp;
 1857              		.loc 1 522 5 is_stmt 1 view .LVU587
 1858              		.loc 1 522 16 is_stmt 0 view .LVU588
 1859 0628 0CAB     		add	r3, sp, #48
 1860 062a 03EB4503 		add	r3, r3, r5, lsl #1
 1861 062e 23F82C2C 		strh	r2, [r3, #-44]	@ movhi
 1862              	.L55:
 516:Device/Src/drv_wave1006.c **** 	{
 1863              		.loc 1 516 26 is_stmt 1 discriminator 2 view .LVU589
 516:Device/Src/drv_wave1006.c **** 	{
 1864              		.loc 1 516 27 is_stmt 0 discriminator 2 view .LVU590
 1865 0632 0135     		adds	r5, r5, #1
 1866              	.LVL150:
 516:Device/Src/drv_wave1006.c **** 	{
 1867              		.loc 1 516 27 discriminator 2 view .LVU591
 1868 0634 ADB2     		uxth	r5, r5
 1869              	.LVL151:
 1870              	.L54:
 516:Device/Src/drv_wave1006.c **** 	{
 1871              		.loc 1 516 14 is_stmt 1 discriminator 1 view .LVU592
 516:Device/Src/drv_wave1006.c **** 	{
 1872              		.loc 1 516 2 is_stmt 0 discriminator 1 view .LVU593
 1873 0636 AC42     		cmp	r4, r5
 1874 0638 22D9     		bls	.L65
 518:Device/Src/drv_wave1006.c **** 		check_sum_rd += otp_temp;
 1875              		.loc 1 518 3 is_stmt 1 view .LVU594
 1876 063a 0DF12601 		add	r1, sp, #38
 1877 063e 2846     		mov	r0, r5
 1878 0640 FFF7FEFF 		bl	wave1006_read_otp_single
 1879              	.LVL152:
 519:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 1880              		.loc 1 519 3 view .LVU595
 519:Device/Src/drv_wave1006.c **** 		if(i >= 1 && i <= 15)
 1881              		.loc 1 519 16 is_stmt 0 view .LVU596
 1882 0644 BDF82620 		ldrh	r2, [sp, #38]
 1883 0648 9144     		add	r9, r9, r2
 1884              	.LVL153:
 520:Device/Src/drv_wave1006.c **** 		{
 1885              		.loc 1 520 3 is_stmt 1 view .LVU597
 520:Device/Src/drv_wave1006.c **** 		{
 1886              		.loc 1 520 13 is_stmt 0 view .LVU598
 1887 064a 6B1E     		subs	r3, r5, #1
 1888 064c 9BB2     		uxth	r3, r3
 520:Device/Src/drv_wave1006.c **** 		{
 1889              		.loc 1 520 5 view .LVU599
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 48


 1890 064e 0E2B     		cmp	r3, #14
 1891 0650 EFD8     		bhi	.L55
 1892 0652 E9E7     		b	.L66
 1893              	.L71:
 1894              		.align	2
 1895              	.L70:
 1896 0654 10010000 		.word	.LC14
 1897 0658 20010000 		.word	.LC15
 1898 065c 30010000 		.word	.LC16
 1899 0660 40010000 		.word	.LC17
 1900 0664 50010000 		.word	.LC18
 1901 0668 60010000 		.word	.LC19
 1902 066c 70010000 		.word	.LC20
 1903 0670 14000000 		.word	.LC3
 1904 0674 80010000 		.word	.LC21
 1905 0678 CC010000 		.word	.LC22
 1906 067c 9A990541 		.word	1090886042
 1907              	.L65:
 523:Device/Src/drv_wave1006.c **** 		}
 524:Device/Src/drv_wave1006.c **** 		// UsbPrintf("read otp addr%hx:%hx\r\n",i, otp_temp);
 525:Device/Src/drv_wave1006.c **** 	}
 526:Device/Src/drv_wave1006.c **** 	//准备写入校验结果
 527:Device/Src/drv_wave1006.c **** 	rtc_otp_power(8.35);
 1908              		.loc 1 527 2 is_stmt 1 view .LVU600
 1909 0680 1FED020A 		vldr.32	s0, .L70+40
 1910 0684 FFF7FEFF 		bl	rtc_otp_power
 1911              	.LVL154:
 528:Device/Src/drv_wave1006.c **** 	HAL_Delay(10);
 1912              		.loc 1 528 2 view .LVU601
 1913 0688 0A20     		movs	r0, #10
 1914 068a FFF7FEFF 		bl	HAL_Delay
 1915              	.LVL155:
 529:Device/Src/drv_wave1006.c **** 	if (check_sum_rd == check_sum_wr) {
 1916              		.loc 1 529 2 view .LVU602
 1917              		.loc 1 529 5 is_stmt 0 view .LVU603
 1918 068e 4E45     		cmp	r6, r9
 1919 0690 40F09480 		bne	.L57
 530:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 1920              		.loc 1 530 3 is_stmt 1 view .LVU604
 1921              		.loc 1 530 23 is_stmt 0 view .LVU605
 1922 0694 BDF80640 		ldrh	r4, [sp, #6]
 1923              	.LVL156:
 1924              		.loc 1 530 33 view .LVU606
 1925 0698 A109     		lsrs	r1, r4, #6
 1926 069a 01F0F001 		and	r1, r1, #240
 1927              		.loc 1 530 12 view .LVU607
 1928 069e ADF82610 		strh	r1, [sp, #38]	@ movhi
 531:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x05;                                    //写入封装形式并写入校验成功标志
 1929              		.loc 1 531 3 is_stmt 1 view .LVU608
 1930              		.loc 1 531 12 is_stmt 0 view .LVU609
 1931 06a2 41F00501 		orr	r1, r1, #5
 1932 06a6 ADF82610 		strh	r1, [sp, #38]	@ movhi
 532:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 1933              		.loc 1 532 3 is_stmt 1 view .LVU610
 1934 06aa 1020     		movs	r0, #16
 1935 06ac FFF7FEFF 		bl	wave1006_write_otp_single
 1936              	.LVL157:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 49


 533:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           //写入产品型号和晶振型号
 1937              		.loc 1 533 3 view .LVU611
 1938              		.loc 1 533 33 is_stmt 0 view .LVU612
 1939 06b0 2101     		lsls	r1, r4, #4
 1940 06b2 89B2     		uxth	r1, r1
 1941              		.loc 1 533 12 view .LVU613
 1942 06b4 ADF82610 		strh	r1, [sp, #38]	@ movhi
 534:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 1943              		.loc 1 534 3 is_stmt 1 view .LVU614
 1944 06b8 1120     		movs	r0, #17
 1945 06ba FFF7FEFF 		bl	wave1006_write_otp_single
 1946              	.LVL158:
 535:Device/Src/drv_wave1006.c **** 		
 536:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[1] + otp_buf[2] +otp_buf[5]);
 1947              		.loc 1 536 3 view .LVU615
 1948              		.loc 1 536 31 is_stmt 0 view .LVU616
 1949 06be BDF80830 		ldrh	r3, [sp, #8]
 1950              		.loc 1 536 22 view .LVU617
 1951 06c2 2344     		add	r3, r3, r4
 1952              		.loc 1 536 43 view .LVU618
 1953 06c4 BDF80E20 		ldrh	r2, [sp, #14]
 1954              		.loc 1 536 35 view .LVU619
 1955 06c8 1344     		add	r3, r3, r2
 1956              	.LVL159:
 537:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 1957              		.loc 1 537 3 is_stmt 1 view .LVU620
 1958              		.loc 1 537 18 is_stmt 0 view .LVU621
 1959 06ca BDF80A20 		ldrh	r2, [sp, #10]
 1960              		.loc 1 537 22 view .LVU622
 1961 06ce 22F00802 		bic	r2, r2, #8
 1962 06d2 9204     		lsls	r2, r2, #18
 1963 06d4 920C     		lsrs	r2, r2, #18
 1964              		.loc 1 537 7 view .LVU623
 1965 06d6 1344     		add	r3, r3, r2
 1966              	.LVL160:
 538:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 1967              		.loc 1 538 3 is_stmt 1 view .LVU624
 1968              		.loc 1 538 18 is_stmt 0 view .LVU625
 1969 06d8 BDF80C40 		ldrh	r4, [sp, #12]
 1970              		.loc 1 538 22 view .LVU626
 1971 06dc 04F47854 		and	r4, r4, #15872
 1972              		.loc 1 538 7 view .LVU627
 1973 06e0 2344     		add	r3, r3, r4
 1974              	.LVL161:
 539:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 1975              		.loc 1 539 3 is_stmt 1 view .LVU628
 1976              		.loc 1 539 18 is_stmt 0 view .LVU629
 1977 06e2 BDF81040 		ldrh	r4, [sp, #16]
 1978              		.loc 1 539 22 view .LVU630
 1979 06e6 24F47F74 		bic	r4, r4, #1020
 1980 06ea A404     		lsls	r4, r4, #18
 1981 06ec A40C     		lsrs	r4, r4, #18
 1982              		.loc 1 539 7 view .LVU631
 1983 06ee 1C44     		add	r4, r4, r3
 1984              	.LVL162:
 540:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 1985              		.loc 1 540 3 is_stmt 1 view .LVU632
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 50


 1986              		.loc 1 540 18 is_stmt 0 view .LVU633
 1987 06f0 BDF81230 		ldrh	r3, [sp, #18]
 1988              		.loc 1 540 22 view .LVU634
 1989 06f4 03F47C53 		and	r3, r3, #16128
 1990              		.loc 1 540 7 view .LVU635
 1991 06f8 1C44     		add	r4, r4, r3
 1992              	.LVL163:
 541:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 1993              		.loc 1 541 3 is_stmt 1 view .LVU636
 1994              		.loc 1 541 18 is_stmt 0 view .LVU637
 1995 06fa BDF81430 		ldrh	r3, [sp, #20]
 1996              		.loc 1 541 22 view .LVU638
 1997 06fe 03F47C53 		and	r3, r3, #16128
 1998              		.loc 1 541 7 view .LVU639
 1999 0702 2344     		add	r3, r3, r4
 2000              	.LVL164:
 542:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2001              		.loc 1 542 3 is_stmt 1 view .LVU640
 2002              		.loc 1 542 18 is_stmt 0 view .LVU641
 2003 0704 BDF81640 		ldrh	r4, [sp, #22]
 2004              		.loc 1 542 22 view .LVU642
 2005 0708 04F47C54 		and	r4, r4, #16128
 2006              		.loc 1 542 7 view .LVU643
 2007 070c 1C44     		add	r4, r4, r3
 2008              	.LVL165:
 543:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2009              		.loc 1 543 3 is_stmt 1 view .LVU644
 2010              		.loc 1 543 18 is_stmt 0 view .LVU645
 2011 070e BDF81830 		ldrh	r3, [sp, #24]
 2012              		.loc 1 543 23 view .LVU646
 2013 0712 03F47C53 		and	r3, r3, #16128
 2014              		.loc 1 543 7 view .LVU647
 2015 0716 1C44     		add	r4, r4, r3
 2016              	.LVL166:
 544:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2017              		.loc 1 544 3 is_stmt 1 view .LVU648
 2018              		.loc 1 544 18 is_stmt 0 view .LVU649
 2019 0718 BDF81A30 		ldrh	r3, [sp, #26]
 2020              		.loc 1 544 23 view .LVU650
 2021 071c 03F47C53 		and	r3, r3, #16128
 2022              		.loc 1 544 7 view .LVU651
 2023 0720 2344     		add	r3, r3, r4
 2024              	.LVL167:
 545:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2025              		.loc 1 545 3 is_stmt 1 view .LVU652
 2026              		.loc 1 545 18 is_stmt 0 view .LVU653
 2027 0722 BDF81C40 		ldrh	r4, [sp, #28]
 2028              		.loc 1 545 23 view .LVU654
 2029 0726 04F47C54 		and	r4, r4, #16128
 2030              		.loc 1 545 7 view .LVU655
 2031 072a 1C44     		add	r4, r4, r3
 2032              	.LVL168:
 546:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2033              		.loc 1 546 3 is_stmt 1 view .LVU656
 2034              		.loc 1 546 18 is_stmt 0 view .LVU657
 2035 072c BDF81E30 		ldrh	r3, [sp, #30]
 2036              		.loc 1 546 23 view .LVU658
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 51


 2037 0730 03F47C53 		and	r3, r3, #16128
 2038              		.loc 1 546 7 view .LVU659
 2039 0734 1C44     		add	r4, r4, r3
 2040              	.LVL169:
 547:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2041              		.loc 1 547 3 is_stmt 1 view .LVU660
 2042              		.loc 1 547 18 is_stmt 0 view .LVU661
 2043 0736 BDF82030 		ldrh	r3, [sp, #32]
 2044              		.loc 1 547 23 view .LVU662
 2045 073a 03F47C53 		and	r3, r3, #16128
 2046              		.loc 1 547 7 view .LVU663
 2047 073e 2344     		add	r3, r3, r4
 2048              	.LVL170:
 548:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2049              		.loc 1 548 3 is_stmt 1 view .LVU664
 2050              		.loc 1 548 18 is_stmt 0 view .LVU665
 2051 0740 BDF82240 		ldrh	r4, [sp, #34]
 2052              		.loc 1 548 23 view .LVU666
 2053 0744 04F47C54 		and	r4, r4, #16128
 2054              		.loc 1 548 7 view .LVU667
 2055 0748 1C44     		add	r4, r4, r3
 2056              	.LVL171:
 549:Device/Src/drv_wave1006.c **** 		
 550:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2057              		.loc 1 550 3 is_stmt 1 view .LVU668
 2058 074a 2146     		mov	r1, r4
 2059 074c 6748     		ldr	r0, .L72
 2060 074e FFF7FEFF 		bl	UsbPrintf
 2061              	.LVL172:
 551:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 2062              		.loc 1 551 3 view .LVU669
 2063              		.loc 1 551 19 is_stmt 0 view .LVU670
 2064 0752 E1B2     		uxtb	r1, r4
 2065              		.loc 1 551 12 view .LVU671
 2066 0754 ADF82610 		strh	r1, [sp, #38]	@ movhi
 552:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2067              		.loc 1 552 3 is_stmt 1 view .LVU672
 2068 0758 1220     		movs	r0, #18
 2069 075a FFF7FEFF 		bl	wave1006_write_otp_single
 2070              	.LVL173:
 553:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 2071              		.loc 1 553 3 view .LVU673
 2072              		.loc 1 553 26 is_stmt 0 view .LVU674
 2073 075e C4F30721 		ubfx	r1, r4, #8, #8
 2074              		.loc 1 553 12 view .LVU675
 2075 0762 ADF82610 		strh	r1, [sp, #38]	@ movhi
 554:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2076              		.loc 1 554 3 is_stmt 1 view .LVU676
 2077 0766 1320     		movs	r0, #19
 2078 0768 FFF7FEFF 		bl	wave1006_write_otp_single
 2079              	.LVL174:
 555:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 2080              		.loc 1 555 3 view .LVU677
 2081              		.loc 1 555 27 is_stmt 0 view .LVU678
 2082 076c C4F30741 		ubfx	r1, r4, #16, #8
 2083              		.loc 1 555 12 view .LVU679
 2084 0770 ADF82610 		strh	r1, [sp, #38]	@ movhi
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 52


 556:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2085              		.loc 1 556 3 is_stmt 1 view .LVU680
 2086 0774 1420     		movs	r0, #20
 2087 0776 FFF7FEFF 		bl	wave1006_write_otp_single
 2088              	.LVL175:
 557:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              //写入保护位
 2089              		.loc 1 557 3 view .LVU681
 2090 077a 43F6FE71 		movw	r1, #16382
 2091 077e 0020     		movs	r0, #0
 2092 0780 FFF7FEFF 		bl	wave1006_write_otp_single
 2093              	.LVL176:
 558:Device/Src/drv_wave1006.c **** 	} else {
 559:Device/Src/drv_wave1006.c **** 		UsbPrintf("write check is err %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);
 560:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 561:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                       //写入封装形式并写入校验成功标志
 562:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 563:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           //写入产品型号和晶振型号
 564:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 565:Device/Src/drv_wave1006.c **** 		
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[1] + otp_buf[2] +otp_buf[5]);
 567:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 568:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 569:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 570:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 571:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 572:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 573:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 574:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 575:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 576:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 577:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 578:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 579:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 580:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 581:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 582:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 583:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 584:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 585:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 586:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              //写入保护位
 587:Device/Src/drv_wave1006.c **** 		rtc_otp_power(3.3);
 588:Device/Src/drv_wave1006.c **** 		HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5V关闭的开关
 589:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 590:Device/Src/drv_wave1006.c **** 	}
 591:Device/Src/drv_wave1006.c **** 	
 592:Device/Src/drv_wave1006.c ****  	rtc_otp_power(3.3);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数,否则只是烧写好，
 2094              		.loc 1 592 3 view .LVU682
 2095 0784 9FED5A0A 		vldr.32	s0, .L72+4
 2096 0788 FFF7FEFF 		bl	rtc_otp_power
 2097              	.LVL177:
 593:Device/Src/drv_wave1006.c **** 	HAL_Delay(100);
 2098              		.loc 1 593 2 view .LVU683
 2099 078c 6420     		movs	r0, #100
 2100 078e FFF7FEFF 		bl	HAL_Delay
 2101              	.LVL178:
 594:Device/Src/drv_wave1006.c **** 	UsbPrintf("write otp is successful! %lx: cal=%lx\r\n",check_sum_rd, check_sum_wr);	
 2102              		.loc 1 594 2 view .LVU684
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 53


 2103 0792 3246     		mov	r2, r6
 2104 0794 4946     		mov	r1, r9
 2105 0796 5748     		ldr	r0, .L72+8
 2106 0798 FFF7FEFF 		bl	UsbPrintf
 2107              	.LVL179:
 595:Device/Src/drv_wave1006.c **** 	
 596:Device/Src/drv_wave1006.c **** 	rtc_set_channel(rtcNumber, RTC_SD8825);
 2108              		.loc 1 596 2 view .LVU685
 2109 079c 0221     		movs	r1, #2
 2110 079e 3846     		mov	r0, r7
 2111 07a0 FFF7FEFF 		bl	rtc_set_channel
 2112              	.LVL180:
 597:Device/Src/drv_wave1006.c **** 	HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5V关闭的开关
 2113              		.loc 1 597 2 view .LVU686
 2114 07a4 0022     		movs	r2, #0
 2115 07a6 4021     		movs	r1, #64
 2116 07a8 5348     		ldr	r0, .L72+12
 2117 07aa FFF7FEFF 		bl	HAL_GPIO_WritePin
 2118              	.LVL181:
 598:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT OK!\r\n");
 2119              		.loc 1 598 2 view .LVU687
 2120 07ae 5348     		ldr	r0, .L72+16
 2121 07b0 FFF7FEFF 		bl	UsbPrintf
 2122              	.LVL182:
 599:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2123              		.loc 1 599 2 view .LVU688
 2124              	.L48:
 600:Device/Src/drv_wave1006.c **** }
 2125              		.loc 1 600 1 is_stmt 0 view .LVU689
 2126 07b4 4046     		mov	r0, r8
 2127 07b6 0DB0     		add	sp, sp, #52
 2128              	.LCFI27:
 2129              		.cfi_remember_state
 2130              		.cfi_def_cfa_offset 28
 2131              		@ sp needed
 2132 07b8 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2133              	.LVL183:
 2134              	.L57:
 2135              	.LCFI28:
 2136              		.cfi_restore_state
 559:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] >> 6) & 0xf0);  
 2137              		.loc 1 559 3 is_stmt 1 view .LVU690
 2138 07bc 3246     		mov	r2, r6
 2139 07be 4946     		mov	r1, r9
 2140 07c0 4F48     		ldr	r0, .L72+20
 2141 07c2 FFF7FEFF 		bl	UsbPrintf
 2142              	.LVL184:
 560:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                       //写入封装形式并写入校验成功标志
 2143              		.loc 1 560 3 view .LVU691
 560:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                       //写入封装形式并写入校验成功标志
 2144              		.loc 1 560 23 is_stmt 0 view .LVU692
 2145 07c6 BDF80640 		ldrh	r4, [sp, #6]
 2146              	.LVL185:
 560:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                       //写入封装形式并写入校验成功标志
 2147              		.loc 1 560 33 view .LVU693
 2148 07ca A109     		lsrs	r1, r4, #6
 2149 07cc 01F0F001 		and	r1, r1, #240
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 54


 560:Device/Src/drv_wave1006.c **** 		otp_temp |= 0x0a;                                       //写入封装形式并写入校验成功标志
 2150              		.loc 1 560 12 view .LVU694
 2151 07d0 ADF82610 		strh	r1, [sp, #38]	@ movhi
 561:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 2152              		.loc 1 561 3 is_stmt 1 view .LVU695
 561:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(16, otp_temp);
 2153              		.loc 1 561 12 is_stmt 0 view .LVU696
 2154 07d4 41F00A01 		orr	r1, r1, #10
 2155 07d8 ADF82610 		strh	r1, [sp, #38]	@ movhi
 562:Device/Src/drv_wave1006.c **** 		otp_temp = ((otp_buf[1] << 4) | 0);           //写入产品型号和晶振型号
 2156              		.loc 1 562 3 is_stmt 1 view .LVU697
 2157 07dc 1020     		movs	r0, #16
 2158 07de FFF7FEFF 		bl	wave1006_write_otp_single
 2159              	.LVL186:
 563:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2160              		.loc 1 563 3 view .LVU698
 563:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2161              		.loc 1 563 33 is_stmt 0 view .LVU699
 2162 07e2 2101     		lsls	r1, r4, #4
 2163 07e4 89B2     		uxth	r1, r1
 563:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(17, otp_temp);
 2164              		.loc 1 563 12 view .LVU700
 2165 07e6 ADF82610 		strh	r1, [sp, #38]	@ movhi
 564:Device/Src/drv_wave1006.c **** 		
 2166              		.loc 1 564 3 is_stmt 1 view .LVU701
 2167 07ea 1120     		movs	r0, #17
 2168 07ec FFF7FEFF 		bl	wave1006_write_otp_single
 2169              	.LVL187:
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2170              		.loc 1 566 3 view .LVU702
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2171              		.loc 1 566 31 is_stmt 0 view .LVU703
 2172 07f0 BDF80830 		ldrh	r3, [sp, #8]
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2173              		.loc 1 566 22 view .LVU704
 2174 07f4 2344     		add	r3, r3, r4
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2175              		.loc 1 566 43 view .LVU705
 2176 07f6 BDF80E20 		ldrh	r2, [sp, #14]
 566:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[3] & 0x3ff7);
 2177              		.loc 1 566 35 view .LVU706
 2178 07fa 1344     		add	r3, r3, r2
 2179              	.LVL188:
 567:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2180              		.loc 1 567 3 is_stmt 1 view .LVU707
 567:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2181              		.loc 1 567 18 is_stmt 0 view .LVU708
 2182 07fc BDF80A20 		ldrh	r2, [sp, #10]
 567:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2183              		.loc 1 567 22 view .LVU709
 2184 0800 22F00802 		bic	r2, r2, #8
 2185 0804 9204     		lsls	r2, r2, #18
 2186 0806 920C     		lsrs	r2, r2, #18
 567:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[4] & 0x3e00);
 2187              		.loc 1 567 7 view .LVU710
 2188 0808 1344     		add	r3, r3, r2
 2189              	.LVL189:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 55


 568:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2190              		.loc 1 568 3 is_stmt 1 view .LVU711
 568:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2191              		.loc 1 568 18 is_stmt 0 view .LVU712
 2192 080a BDF80C40 		ldrh	r4, [sp, #12]
 568:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2193              		.loc 1 568 22 view .LVU713
 2194 080e 04F47854 		and	r4, r4, #15872
 568:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[6] & 0x3c03);
 2195              		.loc 1 568 7 view .LVU714
 2196 0812 2344     		add	r3, r3, r4
 2197              	.LVL190:
 569:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2198              		.loc 1 569 3 is_stmt 1 view .LVU715
 569:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2199              		.loc 1 569 18 is_stmt 0 view .LVU716
 2200 0814 BDF81040 		ldrh	r4, [sp, #16]
 569:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2201              		.loc 1 569 22 view .LVU717
 2202 0818 24F47F74 		bic	r4, r4, #1020
 2203 081c A404     		lsls	r4, r4, #18
 2204 081e A40C     		lsrs	r4, r4, #18
 569:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[7] & 0x3f00);
 2205              		.loc 1 569 7 view .LVU718
 2206 0820 1C44     		add	r4, r4, r3
 2207              	.LVL191:
 570:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2208              		.loc 1 570 3 is_stmt 1 view .LVU719
 570:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2209              		.loc 1 570 18 is_stmt 0 view .LVU720
 2210 0822 BDF81230 		ldrh	r3, [sp, #18]
 570:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2211              		.loc 1 570 22 view .LVU721
 2212 0826 03F47C53 		and	r3, r3, #16128
 570:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[8] & 0x3f00);
 2213              		.loc 1 570 7 view .LVU722
 2214 082a 1C44     		add	r4, r4, r3
 2215              	.LVL192:
 571:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2216              		.loc 1 571 3 is_stmt 1 view .LVU723
 571:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2217              		.loc 1 571 18 is_stmt 0 view .LVU724
 2218 082c BDF81430 		ldrh	r3, [sp, #20]
 571:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2219              		.loc 1 571 22 view .LVU725
 2220 0830 03F47C53 		and	r3, r3, #16128
 571:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[9] & 0x3f00);
 2221              		.loc 1 571 7 view .LVU726
 2222 0834 2344     		add	r3, r3, r4
 2223              	.LVL193:
 572:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2224              		.loc 1 572 3 is_stmt 1 view .LVU727
 572:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2225              		.loc 1 572 18 is_stmt 0 view .LVU728
 2226 0836 BDF81640 		ldrh	r4, [sp, #22]
 572:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2227              		.loc 1 572 22 view .LVU729
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 56


 2228 083a 04F47C54 		and	r4, r4, #16128
 572:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[10] & 0x3f00);
 2229              		.loc 1 572 7 view .LVU730
 2230 083e 1C44     		add	r4, r4, r3
 2231              	.LVL194:
 573:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2232              		.loc 1 573 3 is_stmt 1 view .LVU731
 573:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2233              		.loc 1 573 18 is_stmt 0 view .LVU732
 2234 0840 BDF81830 		ldrh	r3, [sp, #24]
 573:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2235              		.loc 1 573 23 view .LVU733
 2236 0844 03F47C53 		and	r3, r3, #16128
 573:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[11] & 0x3f00);
 2237              		.loc 1 573 7 view .LVU734
 2238 0848 1C44     		add	r4, r4, r3
 2239              	.LVL195:
 574:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2240              		.loc 1 574 3 is_stmt 1 view .LVU735
 574:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2241              		.loc 1 574 18 is_stmt 0 view .LVU736
 2242 084a BDF81A30 		ldrh	r3, [sp, #26]
 574:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2243              		.loc 1 574 23 view .LVU737
 2244 084e 03F47C53 		and	r3, r3, #16128
 574:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[12] & 0x3f00);
 2245              		.loc 1 574 7 view .LVU738
 2246 0852 2344     		add	r3, r3, r4
 2247              	.LVL196:
 575:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2248              		.loc 1 575 3 is_stmt 1 view .LVU739
 575:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2249              		.loc 1 575 18 is_stmt 0 view .LVU740
 2250 0854 BDF81C40 		ldrh	r4, [sp, #28]
 575:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2251              		.loc 1 575 23 view .LVU741
 2252 0858 04F47C54 		and	r4, r4, #16128
 575:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[13] & 0x3f00);
 2253              		.loc 1 575 7 view .LVU742
 2254 085c 1C44     		add	r4, r4, r3
 2255              	.LVL197:
 576:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2256              		.loc 1 576 3 is_stmt 1 view .LVU743
 576:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2257              		.loc 1 576 18 is_stmt 0 view .LVU744
 2258 085e BDF81E30 		ldrh	r3, [sp, #30]
 576:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2259              		.loc 1 576 23 view .LVU745
 2260 0862 03F47C53 		and	r3, r3, #16128
 576:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[14] & 0x3f00);
 2261              		.loc 1 576 7 view .LVU746
 2262 0866 1C44     		add	r4, r4, r3
 2263              	.LVL198:
 577:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2264              		.loc 1 577 3 is_stmt 1 view .LVU747
 577:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2265              		.loc 1 577 18 is_stmt 0 view .LVU748
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 57


 2266 0868 BDF82030 		ldrh	r3, [sp, #32]
 577:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2267              		.loc 1 577 23 view .LVU749
 2268 086c 03F47C53 		and	r3, r3, #16128
 577:Device/Src/drv_wave1006.c **** 		sum += (otp_buf[15] & 0x3f00);
 2269              		.loc 1 577 7 view .LVU750
 2270 0870 2344     		add	r3, r3, r4
 2271              	.LVL199:
 578:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2272              		.loc 1 578 3 is_stmt 1 view .LVU751
 578:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2273              		.loc 1 578 18 is_stmt 0 view .LVU752
 2274 0872 BDF82240 		ldrh	r4, [sp, #34]
 578:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2275              		.loc 1 578 23 view .LVU753
 2276 0876 04F47C54 		and	r4, r4, #16128
 578:Device/Src/drv_wave1006.c **** 		UsbPrintf("ID check sum:%06X\n", sum);
 2277              		.loc 1 578 7 view .LVU754
 2278 087a 1C44     		add	r4, r4, r3
 2279              	.LVL200:
 579:Device/Src/drv_wave1006.c **** 		otp_temp = (sum & 0xff);
 2280              		.loc 1 579 3 is_stmt 1 view .LVU755
 2281 087c 2146     		mov	r1, r4
 2282 087e 1B48     		ldr	r0, .L72
 2283 0880 FFF7FEFF 		bl	UsbPrintf
 2284              	.LVL201:
 580:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2285              		.loc 1 580 3 view .LVU756
 580:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2286              		.loc 1 580 19 is_stmt 0 view .LVU757
 2287 0884 E1B2     		uxtb	r1, r4
 580:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(18, otp_temp);
 2288              		.loc 1 580 12 view .LVU758
 2289 0886 ADF82610 		strh	r1, [sp, #38]	@ movhi
 581:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 8) & 0xff);
 2290              		.loc 1 581 3 is_stmt 1 view .LVU759
 2291 088a 1220     		movs	r0, #18
 2292 088c FFF7FEFF 		bl	wave1006_write_otp_single
 2293              	.LVL202:
 582:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2294              		.loc 1 582 3 view .LVU760
 582:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2295              		.loc 1 582 26 is_stmt 0 view .LVU761
 2296 0890 C4F30721 		ubfx	r1, r4, #8, #8
 582:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(19, otp_temp);
 2297              		.loc 1 582 12 view .LVU762
 2298 0894 ADF82610 		strh	r1, [sp, #38]	@ movhi
 583:Device/Src/drv_wave1006.c **** 		otp_temp = ((sum >> 16) & 0xff);
 2299              		.loc 1 583 3 is_stmt 1 view .LVU763
 2300 0898 1320     		movs	r0, #19
 2301 089a FFF7FEFF 		bl	wave1006_write_otp_single
 2302              	.LVL203:
 584:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2303              		.loc 1 584 3 view .LVU764
 584:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2304              		.loc 1 584 27 is_stmt 0 view .LVU765
 2305 089e C4F30741 		ubfx	r1, r4, #16, #8
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 58


 584:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(20, otp_temp);
 2306              		.loc 1 584 12 view .LVU766
 2307 08a2 ADF82610 		strh	r1, [sp, #38]	@ movhi
 585:Device/Src/drv_wave1006.c **** 		wave1006_write_otp_single(0, 0x3ffe);              //写入保护位
 2308              		.loc 1 585 3 is_stmt 1 view .LVU767
 2309 08a6 1420     		movs	r0, #20
 2310 08a8 FFF7FEFF 		bl	wave1006_write_otp_single
 2311              	.LVL204:
 586:Device/Src/drv_wave1006.c **** 		rtc_otp_power(3.3);
 2312              		.loc 1 586 3 view .LVU768
 2313 08ac 43F6FE71 		movw	r1, #16382
 2314 08b0 0020     		movs	r0, #0
 2315 08b2 FFF7FEFF 		bl	wave1006_write_otp_single
 2316              	.LVL205:
 587:Device/Src/drv_wave1006.c **** 		HAL_GPIO_WritePin(GPIOE, GPIO_PIN_6, GPIO_PIN_RESET); //8.5V关闭的开关
 2317              		.loc 1 587 3 view .LVU769
 2318 08b6 9FED0E0A 		vldr.32	s0, .L72+4
 2319 08ba FFF7FEFF 		bl	rtc_otp_power
 2320              	.LVL206:
 588:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 2321              		.loc 1 588 3 view .LVU770
 2322 08be 0022     		movs	r2, #0
 2323 08c0 4021     		movs	r1, #64
 2324 08c2 0D48     		ldr	r0, .L72+12
 2325 08c4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2326              	.LVL207:
 589:Device/Src/drv_wave1006.c **** 	}
 2327              		.loc 1 589 3 view .LVU771
 589:Device/Src/drv_wave1006.c **** 	}
 2328              		.loc 1 589 10 is_stmt 0 view .LVU772
 2329 08c8 6FF00208 		mvn	r8, #2
 2330 08cc 72E7     		b	.L48
 2331              	.LVL208:
 2332              	.L58:
 348:Device/Src/drv_wave1006.c **** 	}
 2333              		.loc 1 348 10 view .LVU773
 2334 08ce 6FF00208 		mvn	r8, #2
 2335 08d2 6FE7     		b	.L48
 2336              	.L59:
 352:Device/Src/drv_wave1006.c **** 	}
 2337              		.loc 1 352 10 view .LVU774
 2338 08d4 6FF00208 		mvn	r8, #2
 2339 08d8 6CE7     		b	.L48
 2340              	.L60:
 358:Device/Src/drv_wave1006.c **** 	}
 2341              		.loc 1 358 10 view .LVU775
 2342 08da 6FF00208 		mvn	r8, #2
 2343 08de 69E7     		b	.L48
 2344              	.L61:
 363:Device/Src/drv_wave1006.c **** 	}
 2345              		.loc 1 363 10 view .LVU776
 2346 08e0 6FF00208 		mvn	r8, #2
 2347 08e4 66E7     		b	.L48
 2348              	.L62:
 368:Device/Src/drv_wave1006.c **** 	}
 2349              		.loc 1 368 10 view .LVU777
 2350 08e6 6FF00208 		mvn	r8, #2
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 59


 2351 08ea 63E7     		b	.L48
 2352              	.L73:
 2353              		.align	2
 2354              	.L72:
 2355 08ec DC010000 		.word	.LC23
 2356 08f0 33335340 		.word	1079194419
 2357 08f4 F0010000 		.word	.LC24
 2358 08f8 00100240 		.word	1073876992
 2359 08fc 18020000 		.word	.LC25
 2360 0900 24020000 		.word	.LC26
 2361              		.cfi_endproc
 2362              	.LFE243:
 2364              		.section	.rodata.wave1006_write_otp_one.str1.4,"aMS",%progbits,1
 2365              		.align	2
 2366              	.LC27:
 2367 0000 4F50454E 		.ascii	"OPEN WRITE ONE!\015\012\000"
 2367      20575249 
 2367      5445204F 
 2367      4E45210D 
 2367      0A00
 2368 0012 0000     		.align	2
 2369              	.LC28:
 2370 0014 2C00     		.ascii	",\000"
 2371 0016 0000     		.align	2
 2372              	.LC29:
 2373 0018 45584954 		.ascii	"EXIT I2C_OK!\015\012\000"
 2373      20493243 
 2373      5F4F4B21 
 2373      0D0A00
 2374              		.section	.text.wave1006_write_otp_one,"ax",%progbits
 2375              		.align	1
 2376              		.global	wave1006_write_otp_one
 2377              		.syntax unified
 2378              		.thumb
 2379              		.thumb_func
 2381              	wave1006_write_otp_one:
 2382              	.LVL209:
 2383              	.LFB244:
 601:Device/Src/drv_wave1006.c **** 
 602:Device/Src/drv_wave1006.c **** 
 603:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_write_otp_one(char *str)
 604:Device/Src/drv_wave1006.c **** {
 2384              		.loc 1 604 1 is_stmt 1 view -0
 2385              		.cfi_startproc
 2386              		@ args = 0, pretend = 0, frame = 24
 2387              		@ frame_needed = 0, uses_anonymous_args = 0
 2388              		.loc 1 604 1 is_stmt 0 view .LVU779
 2389 0000 70B5     		push	{r4, r5, r6, lr}
 2390              	.LCFI29:
 2391              		.cfi_def_cfa_offset 16
 2392              		.cfi_offset 4, -16
 2393              		.cfi_offset 5, -12
 2394              		.cfi_offset 6, -8
 2395              		.cfi_offset 14, -4
 2396 0002 86B0     		sub	sp, sp, #24
 2397              	.LCFI30:
 2398              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 60


 2399 0004 0446     		mov	r4, r0
 605:Device/Src/drv_wave1006.c **** 	uint8_t buf[5]={0,0,0,0,0}, buf1;
 2400              		.loc 1 605 2 is_stmt 1 view .LVU780
 2401              		.loc 1 605 10 is_stmt 0 view .LVU781
 2402 0006 614B     		ldr	r3, .L84
 2403 0008 93E80300 		ldm	r3, {r0, r1}
 2404              	.LVL210:
 2405              		.loc 1 605 10 view .LVU782
 2406 000c 0490     		str	r0, [sp, #16]
 2407 000e 8DF81410 		strb	r1, [sp, #20]
 606:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp;
 2408              		.loc 1 606 2 is_stmt 1 view .LVU783
 607:Device/Src/drv_wave1006.c **** 	int Addr = 0,Data = 0;
 2409              		.loc 1 607 2 view .LVU784
 2410              		.loc 1 607 6 is_stmt 0 view .LVU785
 2411 0012 0025     		movs	r5, #0
 2412 0014 0295     		str	r5, [sp, #8]
 2413              		.loc 1 607 15 view .LVU786
 2414 0016 0195     		str	r5, [sp, #4]
 608:Device/Src/drv_wave1006.c **** 	
 609:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN WRITE ONE!\r\n");
 2415              		.loc 1 609 2 is_stmt 1 view .LVU787
 2416 0018 5D48     		ldr	r0, .L84+4
 2417 001a FFF7FEFF 		bl	UsbPrintf
 2418              	.LVL211:
 610:Device/Src/drv_wave1006.c **** 	CharToInt(str, 6, &Addr);
 2419              		.loc 1 610 2 view .LVU788
 2420 001e 02AA     		add	r2, sp, #8
 2421 0020 0621     		movs	r1, #6
 2422 0022 2046     		mov	r0, r4
 2423 0024 FFF7FEFF 		bl	CharToInt
 2424              	.LVL212:
 611:Device/Src/drv_wave1006.c **** 	CharToInt(str, strSearch(str, ","), &Data);
 2425              		.loc 1 611 2 view .LVU789
 2426              		.loc 1 611 17 is_stmt 0 view .LVU790
 2427 0028 5A49     		ldr	r1, .L84+8
 2428 002a 2046     		mov	r0, r4
 2429 002c FFF7FEFF 		bl	strSearch
 2430              	.LVL213:
 2431              		.loc 1 611 2 view .LVU791
 2432 0030 01AA     		add	r2, sp, #4
 2433 0032 C1B2     		uxtb	r1, r0
 2434 0034 2046     		mov	r0, r4
 2435 0036 FFF7FEFF 		bl	CharToInt
 2436              	.LVL214:
 612:Device/Src/drv_wave1006.c **** 	
 613:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2437              		.loc 1 613 2 is_stmt 1 view .LVU792
 2438 003a B1EE040A 		vmov.f32	s0, #5.0e+0
 2439 003e FFF7FEFF 		bl	rtc_otp_power
 2440              	.LVL215:
 614:Device/Src/drv_wave1006.c **** 	HAL_Delay(2000);
 2441              		.loc 1 614 2 view .LVU793
 2442 0042 4FF4FA60 		mov	r0, #2000
 2443 0046 FFF7FEFF 		bl	HAL_Delay
 2444              	.LVL216:
 615:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 61


 2445              		.loc 1 615 2 view .LVU794
 2446              		.loc 1 615 7 is_stmt 0 view .LVU795
 2447 004a 4023     		movs	r3, #64
 2448 004c 8DF80F30 		strb	r3, [sp, #15]
 616:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2449              		.loc 1 616 2 is_stmt 1 view .LVU796
 2450              		.loc 1 616 5 is_stmt 0 view .LVU797
 2451 0050 0DF10F03 		add	r3, sp, #15
 2452 0054 0122     		movs	r2, #1
 2453 0056 1121     		movs	r1, #17
 2454 0058 2846     		mov	r0, r5
 2455 005a FFF7FEFF 		bl	drv_wave1006_write_reg
 2456              	.LVL217:
 2457              		.loc 1 616 4 view .LVU798
 2458 005e 0028     		cmp	r0, #0
 2459 0060 40F08280 		bne	.L76
 617:Device/Src/drv_wave1006.c **** 	{
 618:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 619:Device/Src/drv_wave1006.c **** 	}
 620:Device/Src/drv_wave1006.c **** 	
 621:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 2460              		.loc 1 621 2 is_stmt 1 view .LVU799
 2461              		.loc 1 621 5 is_stmt 0 view .LVU800
 2462 0064 0DF10F03 		add	r3, sp, #15
 2463 0068 0122     		movs	r2, #1
 2464 006a 8021     		movs	r1, #128
 2465 006c 2846     		mov	r0, r5
 2466 006e FFF7FEFF 		bl	drv_wave1006_read_reg
 2467              	.LVL218:
 2468              		.loc 1 621 4 view .LVU801
 2469 0072 0028     		cmp	r0, #0
 2470 0074 7BD1     		bne	.L77
 622:Device/Src/drv_wave1006.c **** 	{
 623:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 624:Device/Src/drv_wave1006.c **** 	}
 625:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2471              		.loc 1 625 2 is_stmt 1 view .LVU802
 2472              		.loc 1 625 7 is_stmt 0 view .LVU803
 2473 0076 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 2474 007a 23F00F03 		bic	r3, r3, #15
 2475 007e 8DF80F30 		strb	r3, [sp, #15]
 626:Device/Src/drv_wave1006.c **** 	buf1 |= 0x00;//根据pad配置表，编号0为8825
 2476              		.loc 1 626 2 is_stmt 1 view .LVU804
 627:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2477              		.loc 1 627 2 view .LVU805
 2478              		.loc 1 627 5 is_stmt 0 view .LVU806
 2479 0082 0DF10F03 		add	r3, sp, #15
 2480 0086 0122     		movs	r2, #1
 2481 0088 8021     		movs	r1, #128
 2482 008a 2846     		mov	r0, r5
 2483 008c FFF7FEFF 		bl	drv_wave1006_write_reg
 2484              	.LVL219:
 2485              		.loc 1 627 4 view .LVU807
 2486 0090 0028     		cmp	r0, #0
 2487 0092 6FD1     		bne	.L78
 628:Device/Src/drv_wave1006.c **** 	{
 629:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 62


 630:Device/Src/drv_wave1006.c **** 	}
 631:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 632:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2488              		.loc 1 632 2 is_stmt 1 view .LVU808
 2489              		.loc 1 632 5 is_stmt 0 view .LVU809
 2490 0094 04AB     		add	r3, sp, #16
 2491 0096 0522     		movs	r2, #5
 2492 0098 6D21     		movs	r1, #109
 2493 009a 2846     		mov	r0, r5
 2494 009c FFF7FEFF 		bl	drv_wave1006_write_reg
 2495              	.LVL220:
 2496              		.loc 1 632 4 view .LVU810
 2497 00a0 0028     		cmp	r0, #0
 2498 00a2 6AD1     		bne	.L79
 633:Device/Src/drv_wave1006.c **** 	{
 634:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 635:Device/Src/drv_wave1006.c **** 	}
 636:Device/Src/drv_wave1006.c **** 		
 637:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2499              		.loc 1 637 2 is_stmt 1 view .LVU811
 2500              		.loc 1 637 5 is_stmt 0 view .LVU812
 2501 00a4 3020     		movs	r0, #48
 2502 00a6 FFF7FEFF 		bl	wave1006_enter_test_mode
 2503              	.LVL221:
 2504              		.loc 1 637 4 view .LVU813
 2505 00aa 0646     		mov	r6, r0
 2506 00ac 0028     		cmp	r0, #0
 2507 00ae 67D1     		bne	.L80
 638:Device/Src/drv_wave1006.c **** 	{
 639:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 640:Device/Src/drv_wave1006.c **** 	}
 641:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 642:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2508              		.loc 1 642 3 is_stmt 1 view .LVU814
 2509              		.loc 1 642 10 is_stmt 0 view .LVU815
 2510 00b0 8024     		movs	r4, #128
 2511              	.LVL222:
 2512              		.loc 1 642 10 view .LVU816
 2513 00b2 8DF81040 		strb	r4, [sp, #16]
 643:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2514              		.loc 1 643 2 is_stmt 1 view .LVU817
 2515 00b6 04AB     		add	r3, sp, #16
 2516 00b8 0122     		movs	r2, #1
 2517 00ba 6D21     		movs	r1, #109
 2518 00bc 2846     		mov	r0, r5
 2519 00be FFF7FEFF 		bl	drv_wave1006_write_reg
 2520              	.LVL223:
 644:Device/Src/drv_wave1006.c ****     /*ptm=010*/
 645:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2521              		.loc 1 645 3 view .LVU818
 2522              		.loc 1 645 10 is_stmt 0 view .LVU819
 2523 00c2 8225     		movs	r5, #130
 2524 00c4 8DF81050 		strb	r5, [sp, #16]
 646:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2525              		.loc 1 646 3 is_stmt 1 view .LVU820
 2526 00c8 04AB     		add	r3, sp, #16
 2527 00ca 0122     		movs	r2, #1
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 63


 2528 00cc 6D21     		movs	r1, #109
 2529 00ce 0020     		movs	r0, #0
 2530 00d0 FFF7FEFF 		bl	drv_wave1006_write_reg
 2531              	.LVL224:
 647:Device/Src/drv_wave1006.c ****     /*pprog = 1*/
 648:Device/Src/drv_wave1006.c ****   buf[0] = 0xa2;
 2532              		.loc 1 648 3 view .LVU821
 2533              		.loc 1 648 10 is_stmt 0 view .LVU822
 2534 00d4 A223     		movs	r3, #162
 2535 00d6 8DF81030 		strb	r3, [sp, #16]
 649:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2536              		.loc 1 649 3 is_stmt 1 view .LVU823
 2537 00da 04AB     		add	r3, sp, #16
 2538 00dc 0122     		movs	r2, #1
 2539 00de 6D21     		movs	r1, #109
 2540 00e0 0020     		movs	r0, #0
 2541 00e2 FFF7FEFF 		bl	drv_wave1006_write_reg
 2542              	.LVL225:
 650:Device/Src/drv_wave1006.c ****     /*io6 =8.5V*/
 651:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(1);
 2543              		.loc 1 651 2 view .LVU824
 2544 00e6 0120     		movs	r0, #1
 2545 00e8 FFF7FEFF 		bl	otp_prg_power_ctrl
 2546              	.LVL226:
 652:Device/Src/drv_wave1006.c ****     /*start write otp*/
 653:Device/Src/drv_wave1006.c **** 	wave1006_write_otp_single(Addr, Data);
 2547              		.loc 1 653 2 view .LVU825
 2548 00ec BDF80410 		ldrh	r1, [sp, #4]
 2549 00f0 BDF80800 		ldrh	r0, [sp, #8]
 2550 00f4 FFF7FEFF 		bl	wave1006_write_otp_single
 2551              	.LVL227:
 654:Device/Src/drv_wave1006.c **** 	/*write otp is complete, switch i2c prot, io6 =5V*/
 655:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    
 2552              		.loc 1 655 2 view .LVU826
 2553 00f8 0020     		movs	r0, #0
 2554 00fa FFF7FEFF 		bl	otp_prg_power_ctrl
 2555              	.LVL228:
 656:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 657:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2556              		.loc 1 657 3 view .LVU827
 2557              		.loc 1 657 10 is_stmt 0 view .LVU828
 2558 00fe 8DF81050 		strb	r5, [sp, #16]
 658:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2559              		.loc 1 658 2 is_stmt 1 view .LVU829
 2560 0102 04AB     		add	r3, sp, #16
 2561 0104 0122     		movs	r2, #1
 2562 0106 6D21     		movs	r1, #109
 2563 0108 0020     		movs	r0, #0
 2564 010a FFF7FEFF 		bl	drv_wave1006_write_reg
 2565              	.LVL229:
 659:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 660:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2566              		.loc 1 660 3 view .LVU830
 2567              		.loc 1 660 10 is_stmt 0 view .LVU831
 2568 010e 8DF81040 		strb	r4, [sp, #16]
 661:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2569              		.loc 1 661 2 is_stmt 1 view .LVU832
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 64


 2570 0112 04AB     		add	r3, sp, #16
 2571 0114 0122     		movs	r2, #1
 2572 0116 6D21     		movs	r1, #109
 2573 0118 0020     		movs	r0, #0
 2574 011a FFF7FEFF 		bl	drv_wave1006_write_reg
 2575              	.LVL230:
 662:Device/Src/drv_wave1006.c **** //    pa=0, Data 
 663:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2576              		.loc 1 663 5 view .LVU833
 2577              		.loc 1 663 12 is_stmt 0 view .LVU834
 2578 011e 0020     		movs	r0, #0
 2579 0120 8DF81000 		strb	r0, [sp, #16]
 664:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2580              		.loc 1 664 5 is_stmt 1 view .LVU835
 2581              		.loc 1 664 12 is_stmt 0 view .LVU836
 2582 0124 8DF81100 		strb	r0, [sp, #17]
 665:Device/Src/drv_wave1006.c ****     buf[2] = 0;
 2583              		.loc 1 665 5 is_stmt 1 view .LVU837
 2584              		.loc 1 665 12 is_stmt 0 view .LVU838
 2585 0128 8DF81200 		strb	r0, [sp, #18]
 666:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2586              		.loc 1 666 5 is_stmt 1 view .LVU839
 2587              		.loc 1 666 12 is_stmt 0 view .LVU840
 2588 012c 8DF81300 		strb	r0, [sp, #19]
 667:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2589              		.loc 1 667 3 is_stmt 1 view .LVU841
 2590 0130 04AB     		add	r3, sp, #16
 2591 0132 0422     		movs	r2, #4
 2592 0134 6D21     		movs	r1, #109
 2593 0136 FFF7FEFF 		bl	drv_wave1006_write_reg
 2594              	.LVL231:
 668:Device/Src/drv_wave1006.c **** 	/*check write value*/
 669:Device/Src/drv_wave1006.c **** 	wave1006_read_otp_single(Addr, &otp_temp);
 2595              		.loc 1 669 2 view .LVU842
 2596 013a 03A9     		add	r1, sp, #12
 2597 013c BDF80800 		ldrh	r0, [sp, #8]
 2598 0140 FFF7FEFF 		bl	wave1006_read_otp_single
 2599              	.LVL232:
 670:Device/Src/drv_wave1006.c **** 	// UsbPrintf("read otp addr%hx:%hx\r\n",Addr, otp_temp);
 671:Device/Src/drv_wave1006.c **** 	
 672:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 673:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2600              		.loc 1 673 2 view .LVU843
 2601 0144 B1EE040A 		vmov.f32	s0, #5.0e+0
 2602 0148 FFF7FEFF 		bl	rtc_otp_power
 2603              	.LVL233:
 674:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2604              		.loc 1 674 2 view .LVU844
 2605 014c C820     		movs	r0, #200
 2606 014e FFF7FEFF 		bl	HAL_Delay
 2607              	.LVL234:
 675:Device/Src/drv_wave1006.c **** 	
 676:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2608              		.loc 1 676 2 view .LVU845
 2609 0152 1148     		ldr	r0, .L84+12
 2610 0154 FFF7FEFF 		bl	UsbPrintf
 2611              	.LVL235:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 65


 677:Device/Src/drv_wave1006.c **** 	if (otp_temp != Data)
 2612              		.loc 1 677 2 view .LVU846
 2613              		.loc 1 677 15 is_stmt 0 view .LVU847
 2614 0158 BDF80C20 		ldrh	r2, [sp, #12]
 2615 015c 019B     		ldr	r3, [sp, #4]
 2616              		.loc 1 677 5 view .LVU848
 2617 015e 9A42     		cmp	r2, r3
 2618 0160 11D1     		bne	.L83
 2619              	.L75:
 678:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 679:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 680:Device/Src/drv_wave1006.c **** }
 2620              		.loc 1 680 1 view .LVU849
 2621 0162 3046     		mov	r0, r6
 2622 0164 06B0     		add	sp, sp, #24
 2623              	.LCFI31:
 2624              		.cfi_remember_state
 2625              		.cfi_def_cfa_offset 16
 2626              		@ sp needed
 2627 0166 70BD     		pop	{r4, r5, r6, pc}
 2628              	.LVL236:
 2629              	.L76:
 2630              	.LCFI32:
 2631              		.cfi_restore_state
 618:Device/Src/drv_wave1006.c **** 	}
 2632              		.loc 1 618 10 view .LVU850
 2633 0168 6FF00206 		mvn	r6, #2
 2634 016c F9E7     		b	.L75
 2635              	.L77:
 623:Device/Src/drv_wave1006.c **** 	}
 2636              		.loc 1 623 10 view .LVU851
 2637 016e 6FF00206 		mvn	r6, #2
 2638 0172 F6E7     		b	.L75
 2639              	.L78:
 629:Device/Src/drv_wave1006.c **** 	}
 2640              		.loc 1 629 10 view .LVU852
 2641 0174 6FF00206 		mvn	r6, #2
 2642 0178 F3E7     		b	.L75
 2643              	.L79:
 634:Device/Src/drv_wave1006.c **** 	}
 2644              		.loc 1 634 10 view .LVU853
 2645 017a 6FF00206 		mvn	r6, #2
 2646 017e F0E7     		b	.L75
 2647              	.L80:
 639:Device/Src/drv_wave1006.c **** 	}
 2648              		.loc 1 639 10 view .LVU854
 2649 0180 6FF00206 		mvn	r6, #2
 2650 0184 EDE7     		b	.L75
 2651              	.LVL237:
 2652              	.L83:
 678:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2653              		.loc 1 678 10 view .LVU855
 2654 0186 6FF00206 		mvn	r6, #2
 2655 018a EAE7     		b	.L75
 2656              	.L85:
 2657              		.align	2
 2658              	.L84:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 66


 2659 018c 00000000 		.word	.LANCHOR0
 2660 0190 00000000 		.word	.LC27
 2661 0194 14000000 		.word	.LC28
 2662 0198 18000000 		.word	.LC29
 2663              		.cfi_endproc
 2664              	.LFE244:
 2666              		.section	.rodata.wave1006_read_otp.str1.4,"aMS",%progbits,1
 2667              		.align	2
 2668              	.LC30:
 2669 0000 4F50454E 		.ascii	"OPEN READ!\015\012\000"
 2669      20524541 
 2669      44210D0A 
 2669      00
 2670 000d 000000   		.align	2
 2671              	.LC31:
 2672 0010 2F2A2A2A 		.ascii	"/**************************** READ ALL OTP ********"
 2672      2A2A2A2A 
 2672      2A2A2A2A 
 2672      2A2A2A2A 
 2672      2A2A2A2A 
 2673 0043 2A2A2A2A 		.ascii	"************************/\015\012\000"
 2673      2A2A2A2A 
 2673      2A2A2A2A 
 2673      2A2A2A2A 
 2673      2A2A2A2A 
 2674              		.section	.text.wave1006_read_otp,"ax",%progbits
 2675              		.align	1
 2676              		.global	wave1006_read_otp
 2677              		.syntax unified
 2678              		.thumb
 2679              		.thumb_func
 2681              	wave1006_read_otp:
 2682              	.LFB245:
 681:Device/Src/drv_wave1006.c **** 
 682:Device/Src/drv_wave1006.c **** wave1006_exit_code_e wave1006_read_otp(void)
 683:Device/Src/drv_wave1006.c **** {
 2683              		.loc 1 683 1 is_stmt 1 view -0
 2684              		.cfi_startproc
 2685              		@ args = 0, pretend = 0, frame = 16
 2686              		@ frame_needed = 0, uses_anonymous_args = 0
 2687 0000 30B5     		push	{r4, r5, lr}
 2688              	.LCFI33:
 2689              		.cfi_def_cfa_offset 12
 2690              		.cfi_offset 4, -12
 2691              		.cfi_offset 5, -8
 2692              		.cfi_offset 14, -4
 2693 0002 85B0     		sub	sp, sp, #20
 2694              	.LCFI34:
 2695              		.cfi_def_cfa_offset 32
 684:Device/Src/drv_wave1006.c **** 	uint16_t i;
 2696              		.loc 1 684 2 view .LVU857
 685:Device/Src/drv_wave1006.c **** 	uint8_t  buf[5]={0,0,0,0,0},buf1;
 2697              		.loc 1 685 2 view .LVU858
 2698              		.loc 1 685 11 is_stmt 0 view .LVU859
 2699 0004 4C4B     		ldr	r3, .L96
 2700 0006 93E80300 		ldm	r3, {r0, r1}
 2701 000a 0290     		str	r0, [sp, #8]
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 67


 2702 000c 8DF80C10 		strb	r1, [sp, #12]
 686:Device/Src/drv_wave1006.c **** 	uint16_t otp_temp = 0;
 2703              		.loc 1 686 2 is_stmt 1 view .LVU860
 2704              		.loc 1 686 11 is_stmt 0 view .LVU861
 2705 0010 0024     		movs	r4, #0
 2706 0012 ADF80440 		strh	r4, [sp, #4]	@ movhi
 687:Device/Src/drv_wave1006.c **** 
 688:Device/Src/drv_wave1006.c **** 	UsbPrintf("OPEN READ!\r\n");
 2707              		.loc 1 688 2 is_stmt 1 view .LVU862
 2708 0016 4948     		ldr	r0, .L96+4
 2709 0018 FFF7FEFF 		bl	UsbPrintf
 2710              	.LVL238:
 689:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //RTC和上拉电阻上电
 2711              		.loc 1 689 2 view .LVU863
 2712 001c B1EE040A 		vmov.f32	s0, #5.0e+0
 2713 0020 FFF7FEFF 		bl	rtc_otp_power
 2714              	.LVL239:
 690:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2715              		.loc 1 690 2 view .LVU864
 2716 0024 C820     		movs	r0, #200
 2717 0026 FFF7FEFF 		bl	HAL_Delay
 2718              	.LVL240:
 691:Device/Src/drv_wave1006.c **** 	buf1 = 0x40;
 2719              		.loc 1 691 2 view .LVU865
 2720              		.loc 1 691 7 is_stmt 0 view .LVU866
 2721 002a 4023     		movs	r3, #64
 2722 002c 8DF80730 		strb	r3, [sp, #7]
 692:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_CTR3, 1, &buf1) != WAVE1006_EXIT_OK)   //如果是
 2723              		.loc 1 692 2 is_stmt 1 view .LVU867
 2724              		.loc 1 692 5 is_stmt 0 view .LVU868
 2725 0030 0DF10703 		add	r3, sp, #7
 2726 0034 0122     		movs	r2, #1
 2727 0036 1121     		movs	r1, #17
 2728 0038 2046     		mov	r0, r4
 2729 003a FFF7FEFF 		bl	drv_wave1006_write_reg
 2730              	.LVL241:
 2731              		.loc 1 692 4 view .LVU869
 2732 003e 0028     		cmp	r0, #0
 2733 0040 6BD1     		bne	.L90
 693:Device/Src/drv_wave1006.c **** 	{
 694:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 695:Device/Src/drv_wave1006.c **** 	}
 696:Device/Src/drv_wave1006.c **** 	
 697:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_read_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT_
 2734              		.loc 1 697 2 is_stmt 1 view .LVU870
 2735              		.loc 1 697 5 is_stmt 0 view .LVU871
 2736 0042 0DF10703 		add	r3, sp, #7
 2737 0046 0122     		movs	r2, #1
 2738 0048 8021     		movs	r1, #128
 2739 004a 2046     		mov	r0, r4
 2740 004c FFF7FEFF 		bl	drv_wave1006_read_reg
 2741              	.LVL242:
 2742              		.loc 1 697 4 view .LVU872
 2743 0050 0028     		cmp	r0, #0
 2744 0052 65D1     		bne	.L91
 698:Device/Src/drv_wave1006.c **** 	{
 699:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 68


 700:Device/Src/drv_wave1006.c **** 	}
 701:Device/Src/drv_wave1006.c **** 	buf1 &= ~0x0f;
 2745              		.loc 1 701 2 is_stmt 1 view .LVU873
 2746              		.loc 1 701 7 is_stmt 0 view .LVU874
 2747 0054 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2748 0058 23F00F03 		bic	r3, r3, #15
 2749 005c 8DF80730 		strb	r3, [sp, #7]
 702:Device/Src/drv_wave1006.c **** 	buf1 |= 0x00;//根据pad配置表，编号0为8825
 2750              		.loc 1 702 2 is_stmt 1 view .LVU875
 703:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 20, 1, &buf1) != WAVE1006_EXIT
 2751              		.loc 1 703 2 view .LVU876
 2752              		.loc 1 703 5 is_stmt 0 view .LVU877
 2753 0060 0DF10703 		add	r3, sp, #7
 2754 0064 0122     		movs	r2, #1
 2755 0066 8021     		movs	r1, #128
 2756 0068 2046     		mov	r0, r4
 2757 006a FFF7FEFF 		bl	drv_wave1006_write_reg
 2758              	.LVL243:
 2759              		.loc 1 703 4 view .LVU878
 2760 006e 0028     		cmp	r0, #0
 2761 0070 59D1     		bne	.L92
 704:Device/Src/drv_wave1006.c **** 	{
 705:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 706:Device/Src/drv_wave1006.c **** 	}
 707:Device/Src/drv_wave1006.c **** 		/*clear RAM2~6*/
 708:Device/Src/drv_wave1006.c **** 	if(drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 5, &buf[0]) != WAVE1006_EXI
 2762              		.loc 1 708 2 is_stmt 1 view .LVU879
 2763              		.loc 1 708 5 is_stmt 0 view .LVU880
 2764 0072 02AB     		add	r3, sp, #8
 2765 0074 0522     		movs	r2, #5
 2766 0076 6D21     		movs	r1, #109
 2767 0078 2046     		mov	r0, r4
 2768 007a FFF7FEFF 		bl	drv_wave1006_write_reg
 2769              	.LVL244:
 2770              		.loc 1 708 4 view .LVU881
 2771 007e 0028     		cmp	r0, #0
 2772 0080 54D1     		bne	.L93
 709:Device/Src/drv_wave1006.c **** 	{
 710:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 711:Device/Src/drv_wave1006.c **** 	}
 712:Device/Src/drv_wave1006.c **** 		
 713:Device/Src/drv_wave1006.c **** 	if(wave1006_enter_test_mode(WAVE1006_TEST_PAD | WAVE1006_TEST_OTP) != WAVE1006_EXIT_OK)   //此处一
 2773              		.loc 1 713 2 is_stmt 1 view .LVU882
 2774              		.loc 1 713 5 is_stmt 0 view .LVU883
 2775 0082 3020     		movs	r0, #48
 2776 0084 FFF7FEFF 		bl	wave1006_enter_test_mode
 2777              	.LVL245:
 2778              		.loc 1 713 4 view .LVU884
 2779 0088 0546     		mov	r5, r0
 2780 008a 0028     		cmp	r0, #0
 2781 008c 51D1     		bne	.L94
 714:Device/Src/drv_wave1006.c **** 	{
 715:Device/Src/drv_wave1006.c **** 		return WAVE1006_EXIT_FAIL;
 716:Device/Src/drv_wave1006.c **** 	}
 717:Device/Src/drv_wave1006.c **** 	
 718:Device/Src/drv_wave1006.c **** 	otp_prg_power_ctrl(0);    //IO6加5V电压
 2782              		.loc 1 718 2 is_stmt 1 view .LVU885
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 69


 2783 008e 2046     		mov	r0, r4
 2784 0090 FFF7FEFF 		bl	otp_prg_power_ctrl
 2785              	.LVL246:
 719:Device/Src/drv_wave1006.c **** 	             
 720:Device/Src/drv_wave1006.c ****     /*vdd=1*/
 721:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2786              		.loc 1 721 3 view .LVU886
 2787              		.loc 1 721 10 is_stmt 0 view .LVU887
 2788 0094 8024     		movs	r4, #128
 2789 0096 8DF80840 		strb	r4, [sp, #8]
 722:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2790              		.loc 1 722 2 is_stmt 1 view .LVU888
 2791 009a 02AB     		add	r3, sp, #8
 2792 009c 0122     		movs	r2, #1
 2793 009e 6D21     		movs	r1, #109
 2794 00a0 0020     		movs	r0, #0
 2795 00a2 FFF7FEFF 		bl	drv_wave1006_write_reg
 2796              	.LVL247:
 723:Device/Src/drv_wave1006.c ****     
 724:Device/Src/drv_wave1006.c **** 	/*pprog = 0*/
 725:Device/Src/drv_wave1006.c ****   buf[0] = 0x82;
 2797              		.loc 1 725 3 view .LVU889
 2798              		.loc 1 725 10 is_stmt 0 view .LVU890
 2799 00a6 8223     		movs	r3, #130
 2800 00a8 8DF80830 		strb	r3, [sp, #8]
 726:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2801              		.loc 1 726 2 is_stmt 1 view .LVU891
 2802 00ac 02AB     		add	r3, sp, #8
 2803 00ae 0122     		movs	r2, #1
 2804 00b0 6D21     		movs	r1, #109
 2805 00b2 0020     		movs	r0, #0
 2806 00b4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2807              	.LVL248:
 727:Device/Src/drv_wave1006.c ****     /*ptm=000*/
 728:Device/Src/drv_wave1006.c ****   buf[0] = 0x80;
 2808              		.loc 1 728 3 view .LVU892
 2809              		.loc 1 728 10 is_stmt 0 view .LVU893
 2810 00b8 8DF80840 		strb	r4, [sp, #8]
 729:Device/Src/drv_wave1006.c **** 	drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 1, &buf[0]);
 2811              		.loc 1 729 2 is_stmt 1 view .LVU894
 2812 00bc 02AB     		add	r3, sp, #8
 2813 00be 0122     		movs	r2, #1
 2814 00c0 6D21     		movs	r1, #109
 2815 00c2 0020     		movs	r0, #0
 2816 00c4 FFF7FEFF 		bl	drv_wave1006_write_reg
 2817              	.LVL249:
 730:Device/Src/drv_wave1006.c ****     /*pa=0, Data*/
 731:Device/Src/drv_wave1006.c ****     buf[0] = 0;
 2818              		.loc 1 731 5 view .LVU895
 2819              		.loc 1 731 12 is_stmt 0 view .LVU896
 2820 00c8 0024     		movs	r4, #0
 2821 00ca 8DF80840 		strb	r4, [sp, #8]
 732:Device/Src/drv_wave1006.c ****     buf[1] = 0;
 2822              		.loc 1 732 5 is_stmt 1 view .LVU897
 2823              		.loc 1 732 12 is_stmt 0 view .LVU898
 2824 00ce 8DF80940 		strb	r4, [sp, #9]
 733:Device/Src/drv_wave1006.c ****     buf[2] = 0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 70


 2825              		.loc 1 733 5 is_stmt 1 view .LVU899
 2826              		.loc 1 733 12 is_stmt 0 view .LVU900
 2827 00d2 8DF80A40 		strb	r4, [sp, #10]
 734:Device/Src/drv_wave1006.c ****     buf[3] = 0;
 2828              		.loc 1 734 5 is_stmt 1 view .LVU901
 2829              		.loc 1 734 12 is_stmt 0 view .LVU902
 2830 00d6 8DF80B40 		strb	r4, [sp, #11]
 735:Device/Src/drv_wave1006.c ****   drv_wave1006_write_reg(DEV_SD3068, WAVE1006_REG_USER_RAM_START + 1, 4, &buf[0]);
 2831              		.loc 1 735 3 is_stmt 1 view .LVU903
 2832 00da 02AB     		add	r3, sp, #8
 2833 00dc 0422     		movs	r2, #4
 2834 00de 6D21     		movs	r1, #109
 2835 00e0 2046     		mov	r0, r4
 2836 00e2 FFF7FEFF 		bl	drv_wave1006_write_reg
 2837              	.LVL250:
 736:Device/Src/drv_wave1006.c **** 	UsbPrintf("/**************************** READ ALL OTP ********************************/\r\n");
 2838              		.loc 1 736 2 view .LVU904
 2839 00e6 1648     		ldr	r0, .L96+8
 2840 00e8 FFF7FEFF 		bl	UsbPrintf
 2841              	.LVL251:
 737:Device/Src/drv_wave1006.c **** 	/*check write value*/
 738:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 1024; i++)
 2842              		.loc 1 738 2 view .LVU905
 2843              		.loc 1 738 2 is_stmt 0 view .LVU906
 2844 00ec 05E0     		b	.L88
 2845              	.LVL252:
 2846              	.L89:
 739:Device/Src/drv_wave1006.c **** 	{
 740:Device/Src/drv_wave1006.c **** 		wave1006_read_otp_single(i, &otp_temp);
 2847              		.loc 1 740 3 is_stmt 1 discriminator 3 view .LVU907
 2848 00ee 01A9     		add	r1, sp, #4
 2849 00f0 2046     		mov	r0, r4
 2850 00f2 FFF7FEFF 		bl	wave1006_read_otp_single
 2851              	.LVL253:
 738:Device/Src/drv_wave1006.c **** 	{
 2852              		.loc 1 738 24 discriminator 3 view .LVU908
 738:Device/Src/drv_wave1006.c **** 	{
 2853              		.loc 1 738 25 is_stmt 0 discriminator 3 view .LVU909
 2854 00f6 0134     		adds	r4, r4, #1
 2855              	.LVL254:
 738:Device/Src/drv_wave1006.c **** 	{
 2856              		.loc 1 738 25 discriminator 3 view .LVU910
 2857 00f8 A4B2     		uxth	r4, r4
 2858              	.LVL255:
 2859              	.L88:
 738:Device/Src/drv_wave1006.c **** 	{
 2860              		.loc 1 738 14 is_stmt 1 discriminator 1 view .LVU911
 738:Device/Src/drv_wave1006.c **** 	{
 2861              		.loc 1 738 2 is_stmt 0 discriminator 1 view .LVU912
 2862 00fa B4F5806F 		cmp	r4, #1024
 2863 00fe F6D3     		bcc	.L89
 741:Device/Src/drv_wave1006.c **** 		// UsbPrintf("addr%x:%hx\r\n",i, otp_temp);
 742:Device/Src/drv_wave1006.c **** 	}
 743:Device/Src/drv_wave1006.c **** 	
 744:Device/Src/drv_wave1006.c **** 	/*exit test mode*/
 745:Device/Src/drv_wave1006.c **** 	rtc_otp_power(5);  //芯片断电退出测试模式，只有当OTP保护位烧死才会加载OTP参数
 2864              		.loc 1 745 2 is_stmt 1 view .LVU913
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 71


 2865 0100 B1EE040A 		vmov.f32	s0, #5.0e+0
 2866 0104 FFF7FEFF 		bl	rtc_otp_power
 2867              	.LVL256:
 746:Device/Src/drv_wave1006.c **** 	HAL_Delay(200);
 2868              		.loc 1 746 2 view .LVU914
 2869 0108 C820     		movs	r0, #200
 2870 010a FFF7FEFF 		bl	HAL_Delay
 2871              	.LVL257:
 747:Device/Src/drv_wave1006.c **** 	UsbPrintf("EXIT I2C_OK!\r\n");
 2872              		.loc 1 747 2 view .LVU915
 2873 010e 0D48     		ldr	r0, .L96+12
 2874 0110 FFF7FEFF 		bl	UsbPrintf
 2875              	.LVL258:
 748:Device/Src/drv_wave1006.c **** 	return WAVE1006_EXIT_OK;
 2876              		.loc 1 748 2 view .LVU916
 2877              	.L87:
 749:Device/Src/drv_wave1006.c **** }
 2878              		.loc 1 749 1 is_stmt 0 view .LVU917
 2879 0114 2846     		mov	r0, r5
 2880 0116 05B0     		add	sp, sp, #20
 2881              	.LCFI35:
 2882              		.cfi_remember_state
 2883              		.cfi_def_cfa_offset 12
 2884              		@ sp needed
 2885 0118 30BD     		pop	{r4, r5, pc}
 2886              	.L90:
 2887              	.LCFI36:
 2888              		.cfi_restore_state
 694:Device/Src/drv_wave1006.c **** 	}
 2889              		.loc 1 694 10 view .LVU918
 2890 011a 6FF00205 		mvn	r5, #2
 2891 011e F9E7     		b	.L87
 2892              	.L91:
 699:Device/Src/drv_wave1006.c **** 	}
 2893              		.loc 1 699 10 view .LVU919
 2894 0120 6FF00205 		mvn	r5, #2
 2895 0124 F6E7     		b	.L87
 2896              	.L92:
 705:Device/Src/drv_wave1006.c **** 	}
 2897              		.loc 1 705 10 view .LVU920
 2898 0126 6FF00205 		mvn	r5, #2
 2899 012a F3E7     		b	.L87
 2900              	.L93:
 710:Device/Src/drv_wave1006.c **** 	}
 2901              		.loc 1 710 10 view .LVU921
 2902 012c 6FF00205 		mvn	r5, #2
 2903 0130 F0E7     		b	.L87
 2904              	.L94:
 715:Device/Src/drv_wave1006.c **** 	}
 2905              		.loc 1 715 10 view .LVU922
 2906 0132 6FF00205 		mvn	r5, #2
 2907 0136 EDE7     		b	.L87
 2908              	.L97:
 2909              		.align	2
 2910              	.L96:
 2911 0138 00000000 		.word	.LANCHOR0
 2912 013c 00000000 		.word	.LC30
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 72


 2913 0140 10000000 		.word	.LC31
 2914 0144 18000000 		.word	.LC29
 2915              		.cfi_endproc
 2916              	.LFE245:
 2918              		.section	.rodata.sd8825_calcul_cap.str1.4,"aMS",%progbits,1
 2919              		.align	2
 2920              	.LC32:
 2921 0000 63616C63 		.ascii	"calculate cap error\012\000"
 2921      756C6174 
 2921      65206361 
 2921      70206572 
 2921      726F720A 
 2922              		.section	.text.sd8825_calcul_cap,"ax",%progbits
 2923              		.align	1
 2924              		.global	sd8825_calcul_cap
 2925              		.syntax unified
 2926              		.thumb
 2927              		.thumb_func
 2929              	sd8825_calcul_cap:
 2930              	.LVL259:
 2931              	.LFB246:
 750:Device/Src/drv_wave1006.c **** 
 751:Device/Src/drv_wave1006.c **** uint8_t sd8825_calcul_cap(uint8_t channel)
 752:Device/Src/drv_wave1006.c **** {
 2932              		.loc 1 752 1 is_stmt 1 view -0
 2933              		.cfi_startproc
 2934              		@ args = 0, pretend = 0, frame = 0
 2935              		@ frame_needed = 0, uses_anonymous_args = 0
 2936              		.loc 1 752 1 is_stmt 0 view .LVU924
 2937 0000 38B5     		push	{r3, r4, r5, lr}
 2938              	.LCFI37:
 2939              		.cfi_def_cfa_offset 16
 2940              		.cfi_offset 3, -16
 2941              		.cfi_offset 4, -12
 2942              		.cfi_offset 5, -8
 2943              		.cfi_offset 14, -4
 753:Device/Src/drv_wave1006.c **** 	int i;
 2944              		.loc 1 753 2 is_stmt 1 view .LVU925
 754:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2945              		.loc 1 754 2 view .LVU926
 2946              	.LVL260:
 2947              		.loc 1 754 9 is_stmt 0 view .LVU927
 2948 0002 0023     		movs	r3, #0
 2949              		.loc 1 754 2 view .LVU928
 2950 0004 09E0     		b	.L99
 2951              	.LVL261:
 2952              	.L100:
 755:Device/Src/drv_wave1006.c **** 		g_cap_val[i] = 0; 
 2953              		.loc 1 755 3 is_stmt 1 discriminator 3 view .LVU929
 2954              		.loc 1 755 16 is_stmt 0 discriminator 3 view .LVU930
 2955 0006 0F4A     		ldr	r2, .L105
 2956 0008 02EB8302 		add	r2, r2, r3, lsl #2
 2957 000c 0021     		movs	r1, #0
 2958 000e 1160     		str	r1, [r2]	@ float
 756:Device/Src/drv_wave1006.c **** 		g_digtal_adj[i] = 0;
 2959              		.loc 1 756 3 is_stmt 1 discriminator 3 view .LVU931
 2960              		.loc 1 756 19 is_stmt 0 discriminator 3 view .LVU932
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 73


 2961 0010 0D4A     		ldr	r2, .L105+4
 2962 0012 0021     		movs	r1, #0
 2963 0014 42F82310 		str	r1, [r2, r3, lsl #2]
 754:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2964              		.loc 1 754 23 is_stmt 1 discriminator 3 view .LVU933
 754:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2965              		.loc 1 754 24 is_stmt 0 discriminator 3 view .LVU934
 2966 0018 0133     		adds	r3, r3, #1
 2967              	.LVL262:
 2968              	.L99:
 754:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2969              		.loc 1 754 14 is_stmt 1 discriminator 1 view .LVU935
 754:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) { 
 2970              		.loc 1 754 2 is_stmt 0 discriminator 1 view .LVU936
 2971 001a B3F5D27F 		cmp	r3, #420
 2972 001e F2DB     		blt	.L100
 757:Device/Src/drv_wave1006.c **** 	}
 758:Device/Src/drv_wave1006.c **** 
 759:Device/Src/drv_wave1006.c **** 	if (calculate_wave1006_temp_cap(channel, g_cap_val, g_digtal_adj, &g_offset) == 0) {
 2973              		.loc 1 759 2 is_stmt 1 view .LVU937
 2974              		.loc 1 759 6 is_stmt 0 view .LVU938
 2975 0020 0A4B     		ldr	r3, .L105+8
 2976              	.LVL263:
 2977              		.loc 1 759 6 view .LVU939
 2978 0022 094A     		ldr	r2, .L105+4
 2979 0024 0749     		ldr	r1, .L105
 2980 0026 FFF7FEFF 		bl	calculate_wave1006_temp_cap
 2981              	.LVL264:
 2982              		.loc 1 759 5 view .LVU940
 2983 002a 0446     		mov	r4, r0
 2984 002c 10B1     		cbz	r0, .L104
 760:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 761:Device/Src/drv_wave1006.c **** 		log_printf("calculate cap error\n");
 762:Device/Src/drv_wave1006.c **** 		return 0;
 763:Device/Src/drv_wave1006.c **** 	}
 764:Device/Src/drv_wave1006.c **** 	return 1;
 2985              		.loc 1 764 9 view .LVU941
 2986 002e 0124     		movs	r4, #1
 2987              	.L101:
 765:Device/Src/drv_wave1006.c **** 
 766:Device/Src/drv_wave1006.c **** }
 2988              		.loc 1 766 1 view .LVU942
 2989 0030 2046     		mov	r0, r4
 2990 0032 38BD     		pop	{r3, r4, r5, pc}
 2991              	.L104:
 760:Device/Src/drv_wave1006.c **** 		UsbPrintf("calculate cap error\n");
 2992              		.loc 1 760 3 is_stmt 1 view .LVU943
 2993 0034 064D     		ldr	r5, .L105+12
 2994 0036 2846     		mov	r0, r5
 2995 0038 FFF7FEFF 		bl	UsbPrintf
 2996              	.LVL265:
 761:Device/Src/drv_wave1006.c **** 		return 0;
 2997              		.loc 1 761 3 view .LVU944
 2998 003c 2846     		mov	r0, r5
 2999 003e FFF7FEFF 		bl	log_printf
 3000              	.LVL266:
 762:Device/Src/drv_wave1006.c **** 	}
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 74


 3001              		.loc 1 762 3 view .LVU945
 762:Device/Src/drv_wave1006.c **** 	}
 3002              		.loc 1 762 10 is_stmt 0 view .LVU946
 3003 0042 F5E7     		b	.L101
 3004              	.L106:
 3005              		.align	2
 3006              	.L105:
 3007 0044 00000000 		.word	.LANCHOR1
 3008 0048 00000000 		.word	.LANCHOR2
 3009 004c 00000000 		.word	.LANCHOR3
 3010 0050 00000000 		.word	.LC32
 3011              		.cfi_endproc
 3012              	.LFE246:
 3014              		.section	.rodata.make_sd8825_id.str1.4,"aMS",%progbits,1
 3015              		.align	2
 3016              	.LC33:
 3017 0000 64617465 		.ascii	"date error, check ID error\012\000"
 3017      20657272 
 3017      6F722C20 
 3017      63686563 
 3017      6B204944 
 3018              		.align	2
 3019              	.LC34:
 3020 001c 62736E20 		.ascii	"bsn %d error, check ID error\012\000"
 3020      25642065 
 3020      72726F72 
 3020      2C206368 
 3020      65636B20 
 3021 003a 0000     		.align	2
 3022              	.LC35:
 3023 003c 63736E20 		.ascii	"csn %d error, check ID error\012\000"
 3023      25642065 
 3023      72726F72 
 3023      2C206368 
 3023      65636B20 
 3024 005a 0000     		.align	2
 3025              	.LC36:
 3026 005c 72746320 		.ascii	"rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\012\000"
 3026      25642069 
 3026      643A2530 
 3026      32582530 
 3026      32582530 
 3027              		.section	.text.make_sd8825_id,"ax",%progbits
 3028              		.align	1
 3029              		.global	make_sd8825_id
 3030              		.syntax unified
 3031              		.thumb
 3032              		.thumb_func
 3034              	make_sd8825_id:
 3035              	.LVL267:
 3036              	.LFB247:
 767:Device/Src/drv_wave1006.c **** 
 768:Device/Src/drv_wave1006.c **** uint8_t make_sd8825_id(uint8_t channel)
 769:Device/Src/drv_wave1006.c **** {
 3037              		.loc 1 769 1 is_stmt 1 view -0
 3038              		.cfi_startproc
 3039              		@ args = 0, pretend = 0, frame = 32
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 75


 3040              		@ frame_needed = 0, uses_anonymous_args = 0
 3041              		.loc 1 769 1 is_stmt 0 view .LVU948
 3042 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3043              	.LCFI38:
 3044              		.cfi_def_cfa_offset 36
 3045              		.cfi_offset 4, -36
 3046              		.cfi_offset 5, -32
 3047              		.cfi_offset 6, -28
 3048              		.cfi_offset 7, -24
 3049              		.cfi_offset 8, -20
 3050              		.cfi_offset 9, -16
 3051              		.cfi_offset 10, -12
 3052              		.cfi_offset 11, -8
 3053              		.cfi_offset 14, -4
 3054 0004 8FB0     		sub	sp, sp, #60
 3055              	.LCFI39:
 3056              		.cfi_def_cfa_offset 96
 3057 0006 0446     		mov	r4, r0
 770:Device/Src/drv_wave1006.c **** 
 771:Device/Src/drv_wave1006.c **** 	RealTime date = {0};
 3058              		.loc 1 771 2 is_stmt 1 view .LVU949
 3059              		.loc 1 771 11 is_stmt 0 view .LVU950
 3060 0008 0023     		movs	r3, #0
 3061 000a 0C93     		str	r3, [sp, #48]
 3062 000c 0D93     		str	r3, [sp, #52]
 772:Device/Src/drv_wave1006.c **** 	char bsn[BSN_LENGTH + 1] = {0};
 3063              		.loc 1 772 2 is_stmt 1 view .LVU951
 3064              		.loc 1 772 7 is_stmt 0 view .LVU952
 3065 000e 0993     		str	r3, [sp, #36]
 3066 0010 0A93     		str	r3, [sp, #40]
 3067 0012 8DF82C30 		strb	r3, [sp, #44]
 773:Device/Src/drv_wave1006.c **** 	int number = 0, i;
 3068              		.loc 1 773 2 is_stmt 1 view .LVU953
 3069              		.loc 1 773 6 is_stmt 0 view .LVU954
 3070 0016 0893     		str	r3, [sp, #32]
 774:Device/Src/drv_wave1006.c **** 
 775:Device/Src/drv_wave1006.c **** 	system_get_real_time(&date);
 3071              		.loc 1 775 2 is_stmt 1 view .LVU955
 3072 0018 0CA8     		add	r0, sp, #48
 3073              	.LVL268:
 3074              		.loc 1 775 2 is_stmt 0 view .LVU956
 3075 001a FFF7FEFF 		bl	system_get_real_time
 3076              	.LVL269:
 776:Device/Src/drv_wave1006.c **** 	if (date.year < 24 || date.year > 99 || date.mon < 1 || date.mon > 12 || date.day < 1 || date.day 
 3077              		.loc 1 776 2 is_stmt 1 view .LVU957
 3078              		.loc 1 776 10 is_stmt 0 view .LVU958
 3079 001e 9DF83030 		ldrb	r3, [sp, #48]	@ zero_extendqisi2
 3080              		.loc 1 776 21 view .LVU959
 3081 0022 183B     		subs	r3, r3, #24
 3082 0024 DBB2     		uxtb	r3, r3
 3083              		.loc 1 776 5 view .LVU960
 3084 0026 4B2B     		cmp	r3, #75
 3085 0028 09D8     		bhi	.L108
 3086              		.loc 1 776 46 discriminator 1 view .LVU961
 3087 002a 9DF83130 		ldrb	r3, [sp, #49]	@ zero_extendqisi2
 3088              		.loc 1 776 39 discriminator 1 view .LVU962
 3089 002e 33B1     		cbz	r3, .L108
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 76


 3090              		.loc 1 776 55 discriminator 2 view .LVU963
 3091 0030 0C2B     		cmp	r3, #12
 3092 0032 04D8     		bhi	.L108
 3093              		.loc 1 776 79 discriminator 3 view .LVU964
 3094 0034 9DF83230 		ldrb	r3, [sp, #50]	@ zero_extendqisi2
 3095              		.loc 1 776 72 discriminator 3 view .LVU965
 3096 0038 0BB1     		cbz	r3, .L108
 3097              		.loc 1 776 88 discriminator 4 view .LVU966
 3098 003a 1F2B     		cmp	r3, #31
 3099 003c 0AD9     		bls	.L109
 3100              	.L108:
 777:Device/Src/drv_wave1006.c **** 		UsbPrintf("date error, check ID error\n");
 3101              		.loc 1 777 3 is_stmt 1 view .LVU967
 3102 003e 874C     		ldr	r4, .L118
 3103 0040 2046     		mov	r0, r4
 3104 0042 FFF7FEFF 		bl	UsbPrintf
 3105              	.LVL270:
 778:Device/Src/drv_wave1006.c **** 		log_printf("date error, check ID error\n");
 3106              		.loc 1 778 3 view .LVU968
 3107 0046 2046     		mov	r0, r4
 3108 0048 FFF7FEFF 		bl	log_printf
 3109              	.LVL271:
 779:Device/Src/drv_wave1006.c **** 		return 0;
 3110              		.loc 1 779 3 view .LVU969
 3111              		.loc 1 779 10 is_stmt 0 view .LVU970
 3112 004c 0020     		movs	r0, #0
 3113              	.L110:
 780:Device/Src/drv_wave1006.c **** 	}
 781:Device/Src/drv_wave1006.c **** 	
 782:Device/Src/drv_wave1006.c **** 	GetStringFromFlash(bsn, BSN_LENGTH + 1, BSN_ADDR);
 783:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 784:Device/Src/drv_wave1006.c **** 	if (number < 1) {
 785:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 786:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 787:Device/Src/drv_wave1006.c **** 		return 0;
 788:Device/Src/drv_wave1006.c **** 	}
 789:Device/Src/drv_wave1006.c **** 	if (g_csn <= 2401 || number > 9999) {
 790:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 791:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 792:Device/Src/drv_wave1006.c **** 		return 0;
 793:Device/Src/drv_wave1006.c **** 	}
 794:Device/Src/drv_wave1006.c **** 	
 795:Device/Src/drv_wave1006.c **** 	g_dev_id[0] = ((date.year / 10) % 10) * 16 + (date.year % 10);	//年
 796:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 797:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 799:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 800:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x18;//		
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 802:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 803:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 804:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 805:Device/Src/drv_wave1006.c **** 	
 806:Device/Src/drv_wave1006.c **** 	for (i = 8; i < 40; i++) {
 807:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 808:Device/Src/drv_wave1006.c **** 	}
 809:Device/Src/drv_wave1006.c **** 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 77


 810:Device/Src/drv_wave1006.c **** 	return 1;
 811:Device/Src/drv_wave1006.c **** }
 3114              		.loc 1 811 1 view .LVU971
 3115 004e 0FB0     		add	sp, sp, #60
 3116              	.LCFI40:
 3117              		.cfi_remember_state
 3118              		.cfi_def_cfa_offset 36
 3119              		@ sp needed
 3120 0050 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3121              	.L109:
 3122              	.LCFI41:
 3123              		.cfi_restore_state
 782:Device/Src/drv_wave1006.c **** 	CharToInt(bsn, 4, &number);//只取最后4位做机台号码
 3124              		.loc 1 782 2 is_stmt 1 view .LVU972
 3125 0054 824A     		ldr	r2, .L118+4
 3126 0056 0921     		movs	r1, #9
 3127 0058 09A8     		add	r0, sp, #36
 3128 005a FFF7FEFF 		bl	GetStringFromFlash
 3129              	.LVL272:
 783:Device/Src/drv_wave1006.c **** 	if (number < 1) {
 3130              		.loc 1 783 2 view .LVU973
 3131 005e 08AA     		add	r2, sp, #32
 3132 0060 0421     		movs	r1, #4
 3133 0062 09A8     		add	r0, sp, #36
 3134 0064 FFF7FEFF 		bl	CharToInt
 3135              	.LVL273:
 784:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3136              		.loc 1 784 2 view .LVU974
 784:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3137              		.loc 1 784 13 is_stmt 0 view .LVU975
 3138 0068 0899     		ldr	r1, [sp, #32]
 784:Device/Src/drv_wave1006.c **** 		UsbPrintf("bsn %d error, check ID error\n", number);
 3139              		.loc 1 784 5 view .LVU976
 3140 006a 0029     		cmp	r1, #0
 3141 006c 13DD     		ble	.L117
 789:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3142              		.loc 1 789 2 is_stmt 1 view .LVU977
 789:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3143              		.loc 1 789 12 is_stmt 0 view .LVU978
 3144 006e 7D4B     		ldr	r3, .L118+8
 3145 0070 1888     		ldrh	r0, [r3]
 789:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3146              		.loc 1 789 5 view .LVU979
 3147 0072 40F66113 		movw	r3, #2401
 3148 0076 9842     		cmp	r0, r3
 3149 0078 03D9     		bls	.L112
 789:Device/Src/drv_wave1006.c **** 		UsbPrintf("csn %d error, check ID error\n", number);
 3150              		.loc 1 789 20 discriminator 1 view .LVU980
 3151 007a 42F20F73 		movw	r3, #9999
 3152 007e 9942     		cmp	r1, r3
 3153 0080 13DD     		ble	.L113
 3154              	.L112:
 790:Device/Src/drv_wave1006.c **** 		log_printf("csn %d error, check ID error\n", number);
 3155              		.loc 1 790 3 is_stmt 1 view .LVU981
 3156 0082 794C     		ldr	r4, .L118+12
 3157 0084 2046     		mov	r0, r4
 3158 0086 FFF7FEFF 		bl	UsbPrintf
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 78


 3159              	.LVL274:
 791:Device/Src/drv_wave1006.c **** 		return 0;
 3160              		.loc 1 791 3 view .LVU982
 3161 008a 0899     		ldr	r1, [sp, #32]
 3162 008c 2046     		mov	r0, r4
 3163 008e FFF7FEFF 		bl	log_printf
 3164              	.LVL275:
 792:Device/Src/drv_wave1006.c **** 	}
 3165              		.loc 1 792 3 view .LVU983
 792:Device/Src/drv_wave1006.c **** 	}
 3166              		.loc 1 792 10 is_stmt 0 view .LVU984
 3167 0092 0020     		movs	r0, #0
 3168 0094 DBE7     		b	.L110
 3169              	.L117:
 785:Device/Src/drv_wave1006.c **** 		log_printf("bsn %d error, check ID error\n", number);
 3170              		.loc 1 785 3 is_stmt 1 view .LVU985
 3171 0096 754C     		ldr	r4, .L118+16
 3172 0098 2046     		mov	r0, r4
 3173 009a FFF7FEFF 		bl	UsbPrintf
 3174              	.LVL276:
 786:Device/Src/drv_wave1006.c **** 		return 0;
 3175              		.loc 1 786 3 view .LVU986
 3176 009e 0899     		ldr	r1, [sp, #32]
 3177 00a0 2046     		mov	r0, r4
 3178 00a2 FFF7FEFF 		bl	log_printf
 3179              	.LVL277:
 787:Device/Src/drv_wave1006.c **** 	}
 3180              		.loc 1 787 3 view .LVU987
 787:Device/Src/drv_wave1006.c **** 	}
 3181              		.loc 1 787 10 is_stmt 0 view .LVU988
 3182 00a6 0020     		movs	r0, #0
 3183 00a8 D1E7     		b	.L110
 3184              	.L113:
 795:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3185              		.loc 1 795 2 is_stmt 1 view .LVU989
 795:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3186              		.loc 1 795 22 is_stmt 0 view .LVU990
 3187 00aa 9DF83050 		ldrb	r5, [sp, #48]	@ zero_extendqisi2
 795:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3188              		.loc 1 795 45 view .LVU991
 3189 00ae 704A     		ldr	r2, .L118+20
 3190 00b0 A2FB0563 		umull	r6, r3, r2, r5
 3191 00b4 DF08     		lsrs	r7, r3, #3
 3192 00b6 A2FB07C6 		umull	ip, r6, r2, r7
 3193 00ba F608     		lsrs	r6, r6, #3
 3194 00bc 06EB8606 		add	r6, r6, r6, lsl #2
 3195 00c0 A7EB4603 		sub	r3, r7, r6, lsl #1
 3196 00c4 07EB8707 		add	r7, r7, r7, lsl #2
 3197 00c8 A5EB4705 		sub	r5, r5, r7, lsl #1
 3198 00cc 05EB0313 		add	r3, r5, r3, lsl #4
 3199 00d0 5FFA83FB 		uxtb	fp, r3
 795:Device/Src/drv_wave1006.c **** 	g_dev_id[1] = ((date.mon / 10) % 10) * 16 + (date.mon % 10);	//月
 3200              		.loc 1 795 14 view .LVU992
 3201 00d4 674F     		ldr	r7, .L118+24
 3202 00d6 87F800B0 		strb	fp, [r7]
 796:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3203              		.loc 1 796 2 is_stmt 1 view .LVU993
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 79


 796:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3204              		.loc 1 796 22 is_stmt 0 view .LVU994
 3205 00da 9DF83150 		ldrb	r5, [sp, #49]	@ zero_extendqisi2
 796:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3206              		.loc 1 796 44 view .LVU995
 3207 00de A2FB0563 		umull	r6, r3, r2, r5
 3208 00e2 4FEAD30C 		lsr	ip, r3, #3
 3209 00e6 A2FB0CE6 		umull	lr, r6, r2, ip
 3210 00ea F608     		lsrs	r6, r6, #3
 3211 00ec 06EB8606 		add	r6, r6, r6, lsl #2
 3212 00f0 ACEB4603 		sub	r3, ip, r6, lsl #1
 3213 00f4 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3214 00f8 A5EB4C05 		sub	r5, r5, ip, lsl #1
 3215 00fc 05EB0313 		add	r3, r5, r3, lsl #4
 3216 0100 DBB2     		uxtb	r3, r3
 796:Device/Src/drv_wave1006.c **** 	g_dev_id[2] = ((date.day / 10) % 10) * 16 + (date.day % 10);	//日
 3217              		.loc 1 796 14 view .LVU996
 3218 0102 0793     		str	r3, [sp, #28]
 3219 0104 7B70     		strb	r3, [r7, #1]
 797:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3220              		.loc 1 797 2 is_stmt 1 view .LVU997
 797:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3221              		.loc 1 797 22 is_stmt 0 view .LVU998
 3222 0106 9DF83260 		ldrb	r6, [sp, #50]	@ zero_extendqisi2
 797:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3223              		.loc 1 797 44 view .LVU999
 3224 010a A2FB0635 		umull	r3, r5, r2, r6
 3225 010e 4FEAD50E 		lsr	lr, r5, #3
 3226 0112 A2FB0E3C 		umull	r3, ip, r2, lr
 3227 0116 4FEADC0C 		lsr	ip, ip, #3
 3228 011a 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3229 011e AEEB4C05 		sub	r5, lr, ip, lsl #1
 3230 0122 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3231 0126 A6EB4E06 		sub	r6, r6, lr, lsl #1
 3232 012a 06EB0515 		add	r5, r6, r5, lsl #4
 3233 012e EDB2     		uxtb	r5, r5
 3234 0130 0095     		str	r5, [sp]
 797:Device/Src/drv_wave1006.c **** 	g_dev_id[3] = ((number / 1000) % 10) * 16 + ((number / 100) % 10);		//板件编号
 3235              		.loc 1 797 14 view .LVU1000
 3236 0132 BD70     		strb	r5, [r7, #2]
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3237              		.loc 1 798 2 is_stmt 1 view .LVU1001
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3238              		.loc 1 798 25 is_stmt 0 view .LVU1002
 3239 0134 504E     		ldr	r6, .L118+28
 3240 0136 86FB0135 		smull	r3, r5, r6, r1
 3241 013a 4FEAE17A 		asr	r10, r1, #31
 3242 013e CAEBA515 		rsb	r5, r10, r5, asr #6
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3243              		.loc 1 798 33 view .LVU1003
 3244 0142 DFF84081 		ldr	r8, .L118+40
 3245 0146 88FB053C 		smull	r3, ip, r8, r5
 3246 014a 4FEAE57E 		asr	lr, r5, #31
 3247 014e CEEBAC0E 		rsb	lr, lr, ip, asr #2
 3248 0152 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3249 0156 A5EB4E0E 		sub	lr, r5, lr, lsl #1
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 80


 3250              		.loc 1 798 55 view .LVU1004
 3251 015a 484D     		ldr	r5, .L118+32
 3252 015c 85FB0139 		smull	r3, r9, r5, r1
 3253 0160 CAEB6919 		rsb	r9, r10, r9, asr #5
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3254              		.loc 1 798 62 view .LVU1005
 3255 0164 88FB09C3 		smull	ip, r3, r8, r9
 3256 0168 4FEAE97C 		asr	ip, r9, #31
 3257 016c CCEBA30C 		rsb	ip, ip, r3, asr #2
 3258 0170 0CEB8C0C 		add	ip, ip, ip, lsl #2
 3259 0174 A9EB4C0C 		sub	ip, r9, ip, lsl #1
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3260              		.loc 1 798 44 view .LVU1006
 3261 0178 0CEB0E1C 		add	ip, ip, lr, lsl #4
 3262 017c 5FFA8CFC 		uxtb	ip, ip
 798:Device/Src/drv_wave1006.c **** 	g_dev_id[4] = (g_csn / 1000) % 10 * 16 + (g_csn / 100) % 10;	//0x24;//
 3263              		.loc 1 798 14 view .LVU1007
 3264 0180 87F803C0 		strb	ip, [r7, #3]
 799:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x18;//		
 3265              		.loc 1 799 2 is_stmt 1 view .LVU1008
 799:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x18;//		
 3266              		.loc 1 799 41 is_stmt 0 view .LVU1009
 3267 0184 A6FB0036 		umull	r3, r6, r6, r0
 3268 0188 B609     		lsrs	r6, r6, #6
 3269 018a A2FB063E 		umull	r3, lr, r2, r6
 3270 018e 4FEADE0E 		lsr	lr, lr, #3
 3271 0192 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3272 0196 A6EB4E06 		sub	r6, r6, lr, lsl #1
 3273 019a A5FB0035 		umull	r3, r5, r5, r0
 3274 019e 6D09     		lsrs	r5, r5, #5
 3275 01a0 A2FB053E 		umull	r3, lr, r2, r5
 3276 01a4 4FEADE0E 		lsr	lr, lr, #3
 3277 01a8 0EEB8E0E 		add	lr, lr, lr, lsl #2
 3278 01ac A5EB4E05 		sub	r5, r5, lr, lsl #1
 3279 01b0 05EB0615 		add	r5, r5, r6, lsl #4
 3280 01b4 EDB2     		uxtb	r5, r5
 799:Device/Src/drv_wave1006.c **** 	g_dev_id[5] = (g_csn / 10) % 10 * 16 + g_csn % 10;		//0x18;//		
 3281              		.loc 1 799 14 view .LVU1010
 3282 01b6 3D71     		strb	r5, [r7, #4]
 800:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3283              		.loc 1 800 2 is_stmt 1 view .LVU1011
 800:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3284              		.loc 1 800 39 is_stmt 0 view .LVU1012
 3285 01b8 A2FB003E 		umull	r3, lr, r2, r0
 3286 01bc 4FEADE09 		lsr	r9, lr, #3
 3287 01c0 A2FB0936 		umull	r3, r6, r2, r9
 3288 01c4 F608     		lsrs	r6, r6, #3
 3289 01c6 06EB8606 		add	r6, r6, r6, lsl #2
 3290 01ca A9EB4606 		sub	r6, r9, r6, lsl #1
 3291 01ce 09EB8909 		add	r9, r9, r9, lsl #2
 3292 01d2 A0EB4900 		sub	r0, r0, r9, lsl #1
 3293 01d6 00EB0610 		add	r0, r0, r6, lsl #4
 3294 01da C0B2     		uxtb	r0, r0
 800:Device/Src/drv_wave1006.c **** 	g_dev_id[6] = ((number / 10) % 10) * 16 + (number  % 10);		//板件编号
 3295              		.loc 1 800 14 view .LVU1013
 3296 01dc 7871     		strb	r0, [r7, #5]
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 81


 3297              		.loc 1 801 2 is_stmt 1 view .LVU1014
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3298              		.loc 1 801 25 is_stmt 0 view .LVU1015
 3299 01de 88FB0136 		smull	r3, r6, r8, r1
 3300 01e2 CAEBA60A 		rsb	r10, r10, r6, asr #2
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3301              		.loc 1 801 31 view .LVU1016
 3302 01e6 88FB0A38 		smull	r3, r8, r8, r10
 3303 01ea 4FEAEA76 		asr	r6, r10, #31
 3304 01ee C6EBA808 		rsb	r8, r6, r8, asr #2
 3305 01f2 08EB8808 		add	r8, r8, r8, lsl #2
 3306 01f6 AAEB4808 		sub	r8, r10, r8, lsl #1
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3307              		.loc 1 801 53 view .LVU1017
 3308 01fa 0AEB8A0A 		add	r10, r10, r10, lsl #2
 3309 01fe A1EB4A01 		sub	r1, r1, r10, lsl #1
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3310              		.loc 1 801 42 view .LVU1018
 3311 0202 01EB0811 		add	r1, r1, r8, lsl #4
 3312 0206 C9B2     		uxtb	r1, r1
 801:Device/Src/drv_wave1006.c **** 	g_dev_id[7] = ((channel / 10) % 10) * 16 + (channel % 10);		//序号
 3313              		.loc 1 801 14 view .LVU1019
 3314 0208 B971     		strb	r1, [r7, #6]
 802:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3315              		.loc 1 802 2 is_stmt 1 view .LVU1020
 802:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3316              		.loc 1 802 43 is_stmt 0 view .LVU1021
 3317 020a A2FB043E 		umull	r3, lr, r2, r4
 3318 020e 4FEADE06 		lsr	r6, lr, #3
 3319 0212 A2FB0632 		umull	r3, r2, r2, r6
 3320 0216 D208     		lsrs	r2, r2, #3
 3321 0218 02EB8202 		add	r2, r2, r2, lsl #2
 3322 021c A6EB420E 		sub	lr, r6, r2, lsl #1
 3323 0220 06EB8606 		add	r6, r6, r6, lsl #2
 3324 0224 A4EB4602 		sub	r2, r4, r6, lsl #1
 3325 0228 02EB0E12 		add	r2, r2, lr, lsl #4
 3326 022c D2B2     		uxtb	r2, r2
 802:Device/Src/drv_wave1006.c **** 	log_printf("rtc %d id:%02X%02X%02X%02X%02X%02X%02X%02X\n", channel, g_dev_id[0], g_dev_id[1], g_de
 3327              		.loc 1 802 14 view .LVU1022
 3328 022e FA71     		strb	r2, [r7, #7]
 803:Device/Src/drv_wave1006.c **** 		, g_dev_id[4], g_dev_id[5], g_dev_id[6], g_dev_id[7]);
 3329              		.loc 1 803 2 is_stmt 1 view .LVU1023
 3330 0230 0592     		str	r2, [sp, #20]
 3331 0232 0491     		str	r1, [sp, #16]
 3332 0234 0390     		str	r0, [sp, #12]
 3333 0236 0295     		str	r5, [sp, #8]
 3334 0238 CDF804C0 		str	ip, [sp, #4]
 3335 023c 079B     		ldr	r3, [sp, #28]
 3336 023e 5A46     		mov	r2, fp
 3337 0240 2146     		mov	r1, r4
 3338 0242 0F48     		ldr	r0, .L118+36
 3339 0244 FFF7FEFF 		bl	log_printf
 3340              	.LVL278:
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3341              		.loc 1 806 2 view .LVU1024
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3342              		.loc 1 806 9 is_stmt 0 view .LVU1025
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 82


 3343 0248 0823     		movs	r3, #8
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3344              		.loc 1 806 2 view .LVU1026
 3345 024a 03E0     		b	.L114
 3346              	.LVL279:
 3347              	.L115:
 807:Device/Src/drv_wave1006.c **** 	}
 3348              		.loc 1 807 3 is_stmt 1 discriminator 3 view .LVU1027
 807:Device/Src/drv_wave1006.c **** 	}
 3349              		.loc 1 807 15 is_stmt 0 discriminator 3 view .LVU1028
 3350 024c 094A     		ldr	r2, .L118+24
 3351 024e FF21     		movs	r1, #255
 3352 0250 D154     		strb	r1, [r2, r3]
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3353              		.loc 1 806 22 is_stmt 1 discriminator 3 view .LVU1029
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3354              		.loc 1 806 23 is_stmt 0 discriminator 3 view .LVU1030
 3355 0252 0133     		adds	r3, r3, #1
 3356              	.LVL280:
 3357              	.L114:
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3358              		.loc 1 806 14 is_stmt 1 discriminator 1 view .LVU1031
 806:Device/Src/drv_wave1006.c **** 		g_dev_id[i] = 0xff;
 3359              		.loc 1 806 2 is_stmt 0 discriminator 1 view .LVU1032
 3360 0254 272B     		cmp	r3, #39
 3361 0256 F9DD     		ble	.L115
 810:Device/Src/drv_wave1006.c **** }
 3362              		.loc 1 810 9 view .LVU1033
 3363 0258 0120     		movs	r0, #1
 3364 025a F8E6     		b	.L110
 3365              	.L119:
 3366              		.align	2
 3367              	.L118:
 3368 025c 00000000 		.word	.LC33
 3369 0260 00000608 		.word	134610944
 3370 0264 00000000 		.word	.LANCHOR4
 3371 0268 3C000000 		.word	.LC35
 3372 026c 1C000000 		.word	.LC34
 3373 0270 CDCCCCCC 		.word	-858993459
 3374 0274 00000000 		.word	.LANCHOR5
 3375 0278 D34D6210 		.word	274877907
 3376 027c 1F85EB51 		.word	1374389535
 3377 0280 5C000000 		.word	.LC36
 3378 0284 67666666 		.word	1717986919
 3379              		.cfi_endproc
 3380              	.LFE247:
 3382              		.section	.rodata.sd8825_write_otp.str1.4,"aMS",%progbits,1
 3383              		.align	2
 3384              	.LC37:
 3385 0000 2A2A2A2A 		.ascii	"*************** WRITE SD8825 ************\015\012\000"
 3385      2A2A2A2A 
 3385      2A2A2A2A 
 3385      2A2A2A20 
 3385      57524954 
 3386              		.section	.text.sd8825_write_otp,"ax",%progbits
 3387              		.align	1
 3388              		.global	sd8825_write_otp
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 83


 3389              		.syntax unified
 3390              		.thumb
 3391              		.thumb_func
 3393              	sd8825_write_otp:
 3394              	.LVL281:
 3395              	.LFB248:
 812:Device/Src/drv_wave1006.c **** 
 813:Device/Src/drv_wave1006.c **** uint8_t sd8825_write_otp(uint8_t channel)
 814:Device/Src/drv_wave1006.c **** {
 3396              		.loc 1 814 1 is_stmt 1 view -0
 3397              		.cfi_startproc
 3398              		@ args = 0, pretend = 0, frame = 8
 3399              		@ frame_needed = 0, uses_anonymous_args = 0
 3400              		.loc 1 814 1 is_stmt 0 view .LVU1035
 3401 0000 30B5     		push	{r4, r5, lr}
 3402              	.LCFI42:
 3403              		.cfi_def_cfa_offset 12
 3404              		.cfi_offset 4, -12
 3405              		.cfi_offset 5, -8
 3406              		.cfi_offset 14, -4
 3407 0002 83B0     		sub	sp, sp, #12
 3408              	.LCFI43:
 3409              		.cfi_def_cfa_offset 24
 3410 0004 0546     		mov	r5, r0
 815:Device/Src/drv_wave1006.c **** 	int i;
 3411              		.loc 1 815 2 is_stmt 1 view .LVU1036
 816:Device/Src/drv_wave1006.c **** 	uint8_t buffer[2] = {0};
 3412              		.loc 1 816 2 view .LVU1037
 3413              		.loc 1 816 10 is_stmt 0 view .LVU1038
 3414 0006 0023     		movs	r3, #0
 3415 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 817:Device/Src/drv_wave1006.c **** 	int num_adj = 0;
 3416              		.loc 1 817 2 is_stmt 1 view .LVU1039
 3417              	.LVL282:
 818:Device/Src/drv_wave1006.c **** 
 819:Device/Src/drv_wave1006.c **** 	if (make_sd8825_id(channel) == 0) { 
 3418              		.loc 1 819 2 view .LVU1040
 3419              		.loc 1 819 6 is_stmt 0 view .LVU1041
 3420 000c FFF7FEFF 		bl	make_sd8825_id
 3421              	.LVL283:
 3422              		.loc 1 819 5 view .LVU1042
 3423 0010 08B9     		cbnz	r0, .L128
 3424              	.LVL284:
 3425              	.L121:
 820:Device/Src/drv_wave1006.c **** 		return 0; 
 821:Device/Src/drv_wave1006.c **** 	}
 822:Device/Src/drv_wave1006.c **** 	if (sd8825_calcul_cap(channel) == 0) { 
 823:Device/Src/drv_wave1006.c **** 		return 0;
 824:Device/Src/drv_wave1006.c **** 	}
 825:Device/Src/drv_wave1006.c **** 	g_sd8825_config.temp_offset_config = g_offset;			 //温度偏移值，不同芯片不一样
 826:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD8825   烧写保护位		
 827:Device/Src/drv_wave1006.c **** 	for (i = 0; i < 420; i++) {
 828:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 830:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 831:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 832:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 84


 833:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 834:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 835:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 836:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 837:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 838:Device/Src/drv_wave1006.c **** 		} else {
 839:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = 0x00;
 840:Device/Src/drv_wave1006.c **** 		}
 841:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].temp_val = (i - 120);
 842:Device/Src/drv_wave1006.c **** 	}
 843:Device/Src/drv_wave1006.c **** 	UsbPrintf("*************** WRITE SD8825 ************\r\n");
 844:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8825_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 845:Device/Src/drv_wave1006.c **** 		return 0;
 846:Device/Src/drv_wave1006.c **** 	}
 847:Device/Src/drv_wave1006.c **** 	return 1;
 848:Device/Src/drv_wave1006.c **** }
 3426              		.loc 1 848 1 view .LVU1043
 3427 0012 03B0     		add	sp, sp, #12
 3428              	.LCFI44:
 3429              		.cfi_remember_state
 3430              		.cfi_def_cfa_offset 12
 3431              		@ sp needed
 3432 0014 30BD     		pop	{r4, r5, pc}
 3433              	.LVL285:
 3434              	.L128:
 3435              	.LCFI45:
 3436              		.cfi_restore_state
 822:Device/Src/drv_wave1006.c **** 		return 0;
 3437              		.loc 1 822 2 is_stmt 1 view .LVU1044
 822:Device/Src/drv_wave1006.c **** 		return 0;
 3438              		.loc 1 822 6 is_stmt 0 view .LVU1045
 3439 0016 2846     		mov	r0, r5
 3440 0018 FFF7FEFF 		bl	sd8825_calcul_cap
 3441              	.LVL286:
 822:Device/Src/drv_wave1006.c **** 		return 0;
 3442              		.loc 1 822 5 view .LVU1046
 3443 001c 0028     		cmp	r0, #0
 3444 001e F8D0     		beq	.L121
 825:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD8825   烧写保护位		
 3445              		.loc 1 825 2 is_stmt 1 view .LVU1047
 825:Device/Src/drv_wave1006.c **** 	//烧写带温补的OTP    配置为SD8825   烧写保护位		
 3446              		.loc 1 825 37 is_stmt 0 view .LVU1048
 3447 0020 344B     		ldr	r3, .L130
 3448 0022 1A88     		ldrh	r2, [r3]
 3449 0024 344B     		ldr	r3, .L130+4
 3450 0026 1A72     		strb	r2, [r3, #8]
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3451              		.loc 1 827 2 is_stmt 1 view .LVU1049
 3452              	.LVL287:
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3453              		.loc 1 827 9 is_stmt 0 view .LVU1050
 3454 0028 0024     		movs	r4, #0
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3455              		.loc 1 827 2 view .LVU1051
 3456 002a 12E0     		b	.L122
 3457              	.LVL288:
 3458              	.L123:
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 85


 839:Device/Src/drv_wave1006.c **** 		}
 3459              		.loc 1 839 4 is_stmt 1 view .LVU1052
 839:Device/Src/drv_wave1006.c **** 		}
 3460              		.loc 1 839 27 is_stmt 0 view .LVU1053
 3461 002c 04EB4403 		add	r3, r4, r4, lsl #1
 3462 0030 324A     		ldr	r2, .L130+8
 3463 0032 02EB4303 		add	r3, r2, r3, lsl #1
 3464 0036 0022     		movs	r2, #0
 3465 0038 9A70     		strb	r2, [r3, #2]
 3466              	.L124:
 841:Device/Src/drv_wave1006.c **** 	}
 3467              		.loc 1 841 3 is_stmt 1 discriminator 2 view .LVU1054
 841:Device/Src/drv_wave1006.c **** 	}
 3468              		.loc 1 841 31 is_stmt 0 discriminator 2 view .LVU1055
 3469 003a A4F17801 		sub	r1, r4, #120
 841:Device/Src/drv_wave1006.c **** 	}
 3470              		.loc 1 841 26 discriminator 2 view .LVU1056
 3471 003e 04EB4403 		add	r3, r4, r4, lsl #1
 3472 0042 2E4A     		ldr	r2, .L130+8
 3473 0044 02EB4302 		add	r2, r2, r3, lsl #1
 3474 0048 9388     		ldrh	r3, [r2, #4]
 3475 004a 61F30803 		bfi	r3, r1, #0, #9
 3476 004e 9380     		strh	r3, [r2, #4]	@ movhi
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3477              		.loc 1 827 23 is_stmt 1 discriminator 2 view .LVU1057
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3478              		.loc 1 827 24 is_stmt 0 discriminator 2 view .LVU1058
 3479 0050 0134     		adds	r4, r4, #1
 3480              	.LVL289:
 3481              	.L122:
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3482              		.loc 1 827 14 is_stmt 1 discriminator 1 view .LVU1059
 827:Device/Src/drv_wave1006.c **** 		cap_list_to_uint((uint16_t)g_cap_val[i], buffer);
 3483              		.loc 1 827 2 is_stmt 0 discriminator 1 view .LVU1060
 3484 0052 B4F5D27F 		cmp	r4, #420
 3485 0056 3FDA     		bge	.L129
 828:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3486              		.loc 1 828 3 is_stmt 1 view .LVU1061
 828:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3487              		.loc 1 828 39 is_stmt 0 view .LVU1062
 3488 0058 294B     		ldr	r3, .L130+12
 3489 005a 03EB8403 		add	r3, r3, r4, lsl #2
 3490 005e D3ED007A 		vldr.32	s15, [r3]
 828:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_com  = ((buffer[1] & 0x07) << 2) + ((buffer[0] >> 6) & 0x03);
 3491              		.loc 1 828 3 view .LVU1063
 3492 0062 FCEEE77A 		vcvt.u32.f32	s15, s15
 3493 0066 01A9     		add	r1, sp, #4
 3494 0068 17EE903A 		vmov	r3, s15	@ int
 3495 006c 98B2     		uxth	r0, r3
 3496 006e FFF7FEFF 		bl	cap_list_to_uint
 3497              	.LVL290:
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3498              		.loc 1 829 3 is_stmt 1 view .LVU1064
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3499              		.loc 1 829 36 is_stmt 0 view .LVU1065
 3500 0072 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 86


 3501              		.loc 1 829 48 view .LVU1066
 3502 0076 9200     		lsls	r2, r2, #2
 3503 0078 02F01C02 		and	r2, r2, #28
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3504              		.loc 1 829 64 view .LVU1067
 3505 007c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3506              		.loc 1 829 54 view .LVU1068
 3507 0080 42EA9312 		orr	r2, r2, r3, lsr #6
 829:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_in  = (buffer[0] >> 3) & 0x07;
 3508              		.loc 1 829 26 view .LVU1069
 3509 0084 1D49     		ldr	r1, .L130+8
 3510 0086 04EB440C 		add	ip, r4, r4, lsl #1
 3511 008a 4FEA4C00 		lsl	r0, ip, #1
 3512 008e 01EB4C0E 		add	lr, r1, ip, lsl #1
 3513 0092 11F81CC0 		ldrb	ip, [r1, ip, lsl #1]	@ zero_extendqisi2
 3514 0096 62F3040C 		bfi	ip, r2, #0, #5
 3515 009a 01F800C0 		strb	ip, [r1, r0]
 830:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3516              		.loc 1 830 3 is_stmt 1 view .LVU1070
 830:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3517              		.loc 1 830 44 is_stmt 0 view .LVU1071
 3518 009e C3F3C20C 		ubfx	ip, r3, #3, #3
 830:Device/Src/drv_wave1006.c **** 		g_temp_arg[i].cap_out  = buffer[0] & 0x07;
 3519              		.loc 1 830 25 view .LVU1072
 3520 00a2 0A5C     		ldrb	r2, [r1, r0]	@ zero_extendqisi2
 3521 00a4 6CF34712 		bfi	r2, ip, #5, #3
 3522 00a8 0A54     		strb	r2, [r1, r0]
 831:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3523              		.loc 1 831 3 is_stmt 1 view .LVU1073
 831:Device/Src/drv_wave1006.c **** 		if (g_digtal_adj[i] < 0) {
 3524              		.loc 1 831 26 is_stmt 0 view .LVU1074
 3525 00aa 9EF80120 		ldrb	r2, [lr, #1]	@ zero_extendqisi2
 3526 00ae 63F30202 		bfi	r2, r3, #0, #3
 3527 00b2 8EF80120 		strb	r2, [lr, #1]
 832:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3528              		.loc 1 832 3 is_stmt 1 view .LVU1075
 832:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3529              		.loc 1 832 19 is_stmt 0 view .LVU1076
 3530 00b6 134B     		ldr	r3, .L130+16
 3531 00b8 53F82420 		ldr	r2, [r3, r4, lsl #2]
 832:Device/Src/drv_wave1006.c **** 			num_adj = (g_digtal_adj[i] / (-3)) - 1;
 3532              		.loc 1 832 6 view .LVU1077
 3533 00bc 002A     		cmp	r2, #0
 3534 00be B5DA     		bge	.L123
 833:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3535              		.loc 1 833 4 is_stmt 1 view .LVU1078
 833:Device/Src/drv_wave1006.c **** 			num_adj = ~num_adj;
 3536              		.loc 1 833 31 is_stmt 0 view .LVU1079
 3537 00c0 114B     		ldr	r3, .L130+20
 3538 00c2 83FB0213 		smull	r1, r3, r3, r2
 3539              	.LVL291:
 834:Device/Src/drv_wave1006.c **** 			num_adj &= 0x7f;
 3540              		.loc 1 834 4 is_stmt 1 view .LVU1080
 835:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3541              		.loc 1 835 4 view .LVU1081
 835:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 87


 3542              		.loc 1 835 12 is_stmt 0 view .LVU1082
 3543 00c6 A3EBE273 		sub	r3, r3, r2, asr #31
 3544              	.LVL292:
 835:Device/Src/drv_wave1006.c **** 			num_adj |= 0xC0;
 3545              		.loc 1 835 12 view .LVU1083
 3546 00ca 03F07F03 		and	r3, r3, #127
 3547              	.LVL293:
 836:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3548              		.loc 1 836 4 is_stmt 1 view .LVU1084
 836:Device/Src/drv_wave1006.c **** 			g_temp_arg[i].temp_adj = num_adj;//0x00;
 3549              		.loc 1 836 12 is_stmt 0 view .LVU1085
 3550 00ce 43F0C003 		orr	r3, r3, #192
 3551              	.LVL294:
 837:Device/Src/drv_wave1006.c **** 		} else {
 3552              		.loc 1 837 4 is_stmt 1 view .LVU1086
 837:Device/Src/drv_wave1006.c **** 		} else {
 3553              		.loc 1 837 27 is_stmt 0 view .LVU1087
 3554 00d2 8EF80230 		strb	r3, [lr, #2]
 3555 00d6 B0E7     		b	.L124
 3556              	.LVL295:
 3557              	.L129:
 843:Device/Src/drv_wave1006.c **** 	if (wave1006_write_otp(&g_sd8825_config, g_dev_id, g_temp_arg, channel) != WAVE1006_EXIT_OK) {
 3558              		.loc 1 843 2 is_stmt 1 view .LVU1088
 3559 00d8 0C48     		ldr	r0, .L130+24
 3560 00da FFF7FEFF 		bl	UsbPrintf
 3561              	.LVL296:
 844:Device/Src/drv_wave1006.c **** 		return 0;
 3562              		.loc 1 844 2 view .LVU1089
 844:Device/Src/drv_wave1006.c **** 		return 0;
 3563              		.loc 1 844 6 is_stmt 0 view .LVU1090
 3564 00de 2B46     		mov	r3, r5
 3565 00e0 064A     		ldr	r2, .L130+8
 3566 00e2 0B49     		ldr	r1, .L130+28
 3567 00e4 0448     		ldr	r0, .L130+4
 3568 00e6 FFF7FEFF 		bl	wave1006_write_otp
 3569              	.LVL297:
 844:Device/Src/drv_wave1006.c **** 		return 0;
 3570              		.loc 1 844 5 view .LVU1091
 3571 00ea 08B9     		cbnz	r0, .L126
 847:Device/Src/drv_wave1006.c **** }
 3572              		.loc 1 847 9 view .LVU1092
 3573 00ec 0120     		movs	r0, #1
 3574 00ee 90E7     		b	.L121
 3575              	.L126:
 845:Device/Src/drv_wave1006.c **** 	}
 3576              		.loc 1 845 10 view .LVU1093
 3577 00f0 0020     		movs	r0, #0
 3578 00f2 8EE7     		b	.L121
 3579              	.L131:
 3580              		.align	2
 3581              	.L130:
 3582 00f4 00000000 		.word	.LANCHOR3
 3583 00f8 00000000 		.word	.LANCHOR6
 3584 00fc 00000000 		.word	.LANCHOR7
 3585 0100 00000000 		.word	.LANCHOR1
 3586 0104 00000000 		.word	.LANCHOR2
 3587 0108 56555555 		.word	1431655766
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 88


 3588 010c 00000000 		.word	.LC37
 3589 0110 00000000 		.word	.LANCHOR5
 3590              		.cfi_endproc
 3591              	.LFE248:
 3593              		.global	g_wave1006_state
 3594              		.global	g_csn
 3595              		.global	g_offset
 3596              		.global	g_cap_val
 3597              		.global	g_digtal_adj
 3598              		.global	g_temp_arg
 3599              		.global	g_dev_id
 3600              		.global	g_sd8825_config
 3601              		.global	g_sd8840_config
 3602              		.global	g_sd8902_config
 3603              		.global	g_sd8200_config
 3604              		.global	g_sd8939_config
 3605              		.global	g_sd8931_config
 3606              		.global	g_sd8804_config
 3607              		.global	g_sd8810_config
 3608              		.global	g_sd8800_config
 3609              		.global	g_sd3068_config
 3610              		.section	.rodata
 3611              		.align	2
 3612              		.set	.LANCHOR0,. + 0
 3613              	.LC1:
 3614 0000 00000000 		.ascii	"\000\000\000\000\000"
 3614      00
 3615              		.section	.bss.g_cap_val,"aw",%nobits
 3616              		.align	2
 3617              		.set	.LANCHOR1,. + 0
 3620              	g_cap_val:
 3621 0000 00000000 		.space	1680
 3621      00000000 
 3621      00000000 
 3621      00000000 
 3621      00000000 
 3622              		.section	.bss.g_dev_id,"aw",%nobits
 3623              		.align	2
 3624              		.set	.LANCHOR5,. + 0
 3627              	g_dev_id:
 3628 0000 00000000 		.space	40
 3628      00000000 
 3628      00000000 
 3628      00000000 
 3628      00000000 
 3629              		.section	.bss.g_digtal_adj,"aw",%nobits
 3630              		.align	2
 3631              		.set	.LANCHOR2,. + 0
 3634              	g_digtal_adj:
 3635 0000 00000000 		.space	1680
 3635      00000000 
 3635      00000000 
 3635      00000000 
 3635      00000000 
 3636              		.section	.bss.g_offset,"aw",%nobits
 3637              		.align	1
 3638              		.set	.LANCHOR3,. + 0
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 89


 3641              	g_offset:
 3642 0000 0000     		.space	2
 3643              		.section	.bss.g_sd3068_config,"aw",%nobits
 3644              		.align	2
 3647              	g_sd3068_config:
 3648 0000 00000000 		.space	24
 3648      00000000 
 3648      00000000 
 3648      00000000 
 3648      00000000 
 3649              		.section	.bss.g_sd8200_config,"aw",%nobits
 3650              		.align	2
 3653              	g_sd8200_config:
 3654 0000 00000000 		.space	24
 3654      00000000 
 3654      00000000 
 3654      00000000 
 3654      00000000 
 3655              		.section	.bss.g_sd8800_config,"aw",%nobits
 3656              		.align	2
 3659              	g_sd8800_config:
 3660 0000 00000000 		.space	24
 3660      00000000 
 3660      00000000 
 3660      00000000 
 3660      00000000 
 3661              		.section	.bss.g_sd8804_config,"aw",%nobits
 3662              		.align	2
 3665              	g_sd8804_config:
 3666 0000 00000000 		.space	24
 3666      00000000 
 3666      00000000 
 3666      00000000 
 3666      00000000 
 3667              		.section	.bss.g_sd8810_config,"aw",%nobits
 3668              		.align	2
 3671              	g_sd8810_config:
 3672 0000 00000000 		.space	24
 3672      00000000 
 3672      00000000 
 3672      00000000 
 3672      00000000 
 3673              		.section	.bss.g_sd8840_config,"aw",%nobits
 3674              		.align	2
 3677              	g_sd8840_config:
 3678 0000 00000000 		.space	24
 3678      00000000 
 3678      00000000 
 3678      00000000 
 3678      00000000 
 3679              		.section	.bss.g_sd8902_config,"aw",%nobits
 3680              		.align	2
 3683              	g_sd8902_config:
 3684 0000 00000000 		.space	24
 3684      00000000 
 3684      00000000 
 3684      00000000 
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 90


 3684      00000000 
 3685              		.section	.bss.g_sd8931_config,"aw",%nobits
 3686              		.align	2
 3689              	g_sd8931_config:
 3690 0000 00000000 		.space	24
 3690      00000000 
 3690      00000000 
 3690      00000000 
 3690      00000000 
 3691              		.section	.bss.g_sd8939_config,"aw",%nobits
 3692              		.align	2
 3695              	g_sd8939_config:
 3696 0000 00000000 		.space	24
 3696      00000000 
 3696      00000000 
 3696      00000000 
 3696      00000000 
 3697              		.section	.bss.g_temp_arg,"aw",%nobits
 3698              		.align	2
 3699              		.set	.LANCHOR7,. + 0
 3702              	g_temp_arg:
 3703 0000 00000000 		.space	2520
 3703      00000000 
 3703      00000000 
 3703      00000000 
 3703      00000000 
 3704              		.section	.bss.g_wave1006_state,"aw",%nobits
 3705              		.align	2
 3708              	g_wave1006_state:
 3709 0000 0000     		.space	2
 3710              		.section	.data.g_csn,"aw"
 3711              		.align	1
 3712              		.set	.LANCHOR4,. + 0
 3715              	g_csn:
 3716 0000 6109     		.short	2401
 3717              		.section	.data.g_sd8825_config,"aw"
 3718              		.align	2
 3719              		.set	.LANCHOR6,. + 0
 3722              	g_sd8825_config:
 3723 0000 06       		.byte	6
 3724 0001 09       		.byte	9
 3725 0002 90       		.byte	144
 3726 0003 1E       		.byte	30
 3727 0004 16       		.byte	22
 3728 0005 00       		.byte	0
 3729 0006 11       		.byte	17
 3730 0007 04       		.byte	4
 3731 0008 70       		.byte	112
 3732 0009 64       		.byte	100
 3733 000a F0       		.byte	240
 3734 000b B8       		.byte	184
 3735 000c 70       		.byte	112
 3736 000d 00       		.space	1
 3737 000e F7       		.byte	247
 3738 000f 19       		.byte	25
 3739 0010 10       		.byte	16
 3740 0011 3C       		.byte	60
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 91


 3741 0012 00       		.byte	0
 3742 0013 00       		.byte	0
 3743 0014 7F       		.byte	127
 3744 0015 77       		.byte	119
 3745 0016 00       		.byte	0
 3746 0017 00       		.space	1
 3747              		.text
 3748              	.Letext0:
 3749              		.file 2 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_
 3750              		.file 3 "e:\\stm32-gcc\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 3751              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 3752              		.file 5 "Core/Inc/main.h"
 3753              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3754              		.file 7 "Device/Inc/drv_wave1006.h"
 3755              		.file 8 "Drivers/User_Driver/Inc/soft_i2c.h"
 3756              		.file 9 "Drivers/User_Driver/Inc/rtc_i2c.h"
 3757              		.file 10 "Device/Inc/power.h"
 3758              		.file 11 "Device/Inc/rtc.h"
 3759              		.file 12 "Device/Inc/flash.h"
 3760              		.file 13 "App/Inc/calculate.h"
 3761              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3762              		.file 15 "<built-in>"
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 92


DEFINED SYMBOLS
                            *ABS*:00000000 drv_wave1006.c
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:20     .text.otp_prg_power_ctrl:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:25     .text.otp_prg_power_ctrl:00000000 otp_prg_power_ctrl
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:61     .text.otp_prg_power_ctrl:0000001c $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:66     .text.get_device_addr:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:72     .text.get_device_addr:00000000 get_device_addr
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:85     .text.get_device_addr:00000008 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:129    .text.drv_wave1006_read_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:135    .text.drv_wave1006_read_reg:00000000 drv_wave1006_read_reg
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:202    .text.drv_wave1006_write_reg:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:208    .text.drv_wave1006_write_reg:00000000 drv_wave1006_write_reg
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:275    .text.wave1006_read_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:280    .text.wave1006_read_otp_single:00000000 wave1006_read_otp_single
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:397    .text.wave1006_write_otp_single:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:402    .text.wave1006_write_otp_single:00000000 wave1006_write_otp_single
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:500    .rodata.wave1006_enter_test_mode.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:504    .text.wave1006_enter_test_mode:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:510    .text.wave1006_enter_test_mode:00000000 wave1006_enter_test_mode
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:627    .text.wave1006_enter_test_mode:00000084 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:632    .text.wave1006_osc_config_set:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:638    .text.wave1006_osc_config_set:00000000 wave1006_osc_config_set
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:743    .rodata.wave1006_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:821    .text.wave1006_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:827    .text.wave1006_write_otp:00000000 wave1006_write_otp
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:1421   .text.wave1006_write_otp:000003a8 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:1437   .text.wave1006_write_otp:000003e0 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:1896   .text.wave1006_write_otp:00000654 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:1909   .text.wave1006_write_otp:00000680 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2355   .text.wave1006_write_otp:000008ec $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2365   .rodata.wave1006_write_otp_one.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2375   .text.wave1006_write_otp_one:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2381   .text.wave1006_write_otp_one:00000000 wave1006_write_otp_one
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2659   .text.wave1006_write_otp_one:0000018c $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2667   .rodata.wave1006_read_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2675   .text.wave1006_read_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2681   .text.wave1006_read_otp:00000000 wave1006_read_otp
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2911   .text.wave1006_read_otp:00000138 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2919   .rodata.sd8825_calcul_cap.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2923   .text.sd8825_calcul_cap:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:2929   .text.sd8825_calcul_cap:00000000 sd8825_calcul_cap
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3007   .text.sd8825_calcul_cap:00000044 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3015   .rodata.make_sd8825_id.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3028   .text.make_sd8825_id:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3034   .text.make_sd8825_id:00000000 make_sd8825_id
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3368   .text.make_sd8825_id:0000025c $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3383   .rodata.sd8825_write_otp.str1.4:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3387   .text.sd8825_write_otp:00000000 $t
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3393   .text.sd8825_write_otp:00000000 sd8825_write_otp
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3582   .text.sd8825_write_otp:000000f4 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3708   .bss.g_wave1006_state:00000000 g_wave1006_state
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3715   .data.g_csn:00000000 g_csn
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3641   .bss.g_offset:00000000 g_offset
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3620   .bss.g_cap_val:00000000 g_cap_val
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3634   .bss.g_digtal_adj:00000000 g_digtal_adj
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3702   .bss.g_temp_arg:00000000 g_temp_arg
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3627   .bss.g_dev_id:00000000 g_dev_id
ARM GAS  C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s 			page 93


C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3722   .data.g_sd8825_config:00000000 g_sd8825_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3677   .bss.g_sd8840_config:00000000 g_sd8840_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3683   .bss.g_sd8902_config:00000000 g_sd8902_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3653   .bss.g_sd8200_config:00000000 g_sd8200_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3695   .bss.g_sd8939_config:00000000 g_sd8939_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3689   .bss.g_sd8931_config:00000000 g_sd8931_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3665   .bss.g_sd8804_config:00000000 g_sd8804_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3671   .bss.g_sd8810_config:00000000 g_sd8810_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3659   .bss.g_sd8800_config:00000000 g_sd8800_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3647   .bss.g_sd3068_config:00000000 g_sd3068_config
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3611   .rodata:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3616   .bss.g_cap_val:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3623   .bss.g_dev_id:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3630   .bss.g_digtal_adj:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3637   .bss.g_offset:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3644   .bss.g_sd3068_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3650   .bss.g_sd8200_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3656   .bss.g_sd8800_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3662   .bss.g_sd8804_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3668   .bss.g_sd8810_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3674   .bss.g_sd8840_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3680   .bss.g_sd8902_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3686   .bss.g_sd8931_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3692   .bss.g_sd8939_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3698   .bss.g_temp_arg:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3705   .bss.g_wave1006_state:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3711   .data.g_csn:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:3718   .data.g_sd8825_config:00000000 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:94     .text.get_device_addr:00000011 $d
C:\Users\86158\AppData\Local\Temp\ccVKjjJT.s:94     .text.get_device_addr:00000012 $t

UNDEFINED SYMBOLS
rtc_otp_power
rtc_read_multi_bytes
rtc_write_multi_bytes
HAL_Delay
UsbPrintf
memset
rtc_group_power
rtc_set_channel
HAL_GPIO_WritePin
CharToInt
strSearch
calculate_wave1006_temp_cap
log_printf
system_get_real_time
GetStringFromFlash
cap_list_to_uint
